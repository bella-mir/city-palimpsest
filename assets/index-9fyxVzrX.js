function Fy(e,t){for(var i=0;i<t.length;i++){const a=t[i];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in e)){const p=Object.getOwnPropertyDescriptor(a,l);p&&Object.defineProperty(e,l,p.get?p:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const p of l)if(p.type==="childList")for(const y of p.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&a(y)}).observe(document,{childList:!0,subtree:!0});function i(l){const p={};return l.integrity&&(p.integrity=l.integrity),l.referrerPolicy&&(p.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?p.credentials="include":l.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function a(l){if(l.ep)return;l.ep=!0;const p=i(l);fetch(l.href,p)}})();var pS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ny={exports:{}},N4={},Oy={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd=Symbol.for("react.element"),fS=Symbol.for("react.portal"),mS=Symbol.for("react.fragment"),gS=Symbol.for("react.strict_mode"),yS=Symbol.for("react.profiler"),vS=Symbol.for("react.provider"),_S=Symbol.for("react.context"),xS=Symbol.for("react.forward_ref"),bS=Symbol.for("react.suspense"),wS=Symbol.for("react.memo"),SS=Symbol.for("react.lazy"),z3=Symbol.iterator;function CS(e){return e===null||typeof e!="object"?null:(e=z3&&e[z3]||e["@@iterator"],typeof e=="function"?e:null)}var By={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$y=Object.assign,jy={};function vu(e,t,i){this.props=e,this.context=t,this.refs=jy,this.updater=i||By}vu.prototype.isReactComponent={};vu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vy(){}Vy.prototype=vu.prototype;function Cm(e,t,i){this.props=e,this.context=t,this.refs=jy,this.updater=i||By}var Mm=Cm.prototype=new Vy;Mm.constructor=Cm;$y(Mm,vu.prototype);Mm.isPureReactComponent=!0;var F3=Array.isArray,Wy=Object.prototype.hasOwnProperty,Em={current:null},Uy={key:!0,ref:!0,__self:!0,__source:!0};function Hy(e,t,i){var a,l={},p=null,y=null;if(t!=null)for(a in t.ref!==void 0&&(y=t.ref),t.key!==void 0&&(p=""+t.key),t)Wy.call(t,a)&&!Uy.hasOwnProperty(a)&&(l[a]=t[a]);var u=arguments.length-2;if(u===1)l.children=i;else if(1<u){for(var M=Array(u),S=0;S<u;S++)M[S]=arguments[S+2];l.children=M}if(e&&e.defaultProps)for(a in u=e.defaultProps,u)l[a]===void 0&&(l[a]=u[a]);return{$$typeof:zd,type:e,key:p,ref:y,props:l,_owner:Em.current}}function MS(e,t){return{$$typeof:zd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function km(e){return typeof e=="object"&&e!==null&&e.$$typeof===zd}function ES(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var N3=/\/+/g;function Rf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ES(""+e.key):t.toString(36)}function Lp(e,t,i,a,l){var p=typeof e;(p==="undefined"||p==="boolean")&&(e=null);var y=!1;if(e===null)y=!0;else switch(p){case"string":case"number":y=!0;break;case"object":switch(e.$$typeof){case zd:case fS:y=!0}}if(y)return y=e,l=l(y),e=a===""?"."+Rf(y,0):a,F3(l)?(i="",e!=null&&(i=e.replace(N3,"$&/")+"/"),Lp(l,t,i,"",function(S){return S})):l!=null&&(km(l)&&(l=MS(l,i+(!l.key||y&&y.key===l.key?"":(""+l.key).replace(N3,"$&/")+"/")+e)),t.push(l)),1;if(y=0,a=a===""?".":a+":",F3(e))for(var u=0;u<e.length;u++){p=e[u];var M=a+Rf(p,u);y+=Lp(p,t,i,M,l)}else if(M=CS(e),typeof M=="function")for(e=M.call(e),u=0;!(p=e.next()).done;)p=p.value,M=a+Rf(p,u++),y+=Lp(p,t,i,M,l);else if(p==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return y}function ep(e,t,i){if(e==null)return e;var a=[],l=0;return Lp(e,a,"","",function(p){return t.call(i,p,l++)}),a}function kS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wi={current:null},Dp={transition:null},AS={ReactCurrentDispatcher:wi,ReactCurrentBatchConfig:Dp,ReactCurrentOwner:Em};Yt.Children={map:ep,forEach:function(e,t,i){ep(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return ep(e,function(){t++}),t},toArray:function(e){return ep(e,function(t){return t})||[]},only:function(e){if(!km(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Yt.Component=vu;Yt.Fragment=mS;Yt.Profiler=yS;Yt.PureComponent=Cm;Yt.StrictMode=gS;Yt.Suspense=bS;Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AS;Yt.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=$y({},e.props),l=e.key,p=e.ref,y=e._owner;if(t!=null){if(t.ref!==void 0&&(p=t.ref,y=Em.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(M in t)Wy.call(t,M)&&!Uy.hasOwnProperty(M)&&(a[M]=t[M]===void 0&&u!==void 0?u[M]:t[M])}var M=arguments.length-2;if(M===1)a.children=i;else if(1<M){u=Array(M);for(var S=0;S<M;S++)u[S]=arguments[S+2];a.children=u}return{$$typeof:zd,type:e.type,key:l,ref:p,props:a,_owner:y}};Yt.createContext=function(e){return e={$$typeof:_S,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vS,_context:e},e.Consumer=e};Yt.createElement=Hy;Yt.createFactory=function(e){var t=Hy.bind(null,e);return t.type=e,t};Yt.createRef=function(){return{current:null}};Yt.forwardRef=function(e){return{$$typeof:xS,render:e}};Yt.isValidElement=km;Yt.lazy=function(e){return{$$typeof:SS,_payload:{_status:-1,_result:e},_init:kS}};Yt.memo=function(e,t){return{$$typeof:wS,type:e,compare:t===void 0?null:t}};Yt.startTransition=function(e){var t=Dp.transition;Dp.transition={};try{e()}finally{Dp.transition=t}};Yt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Yt.useCallback=function(e,t){return wi.current.useCallback(e,t)};Yt.useContext=function(e){return wi.current.useContext(e)};Yt.useDebugValue=function(){};Yt.useDeferredValue=function(e){return wi.current.useDeferredValue(e)};Yt.useEffect=function(e,t){return wi.current.useEffect(e,t)};Yt.useId=function(){return wi.current.useId()};Yt.useImperativeHandle=function(e,t,i){return wi.current.useImperativeHandle(e,t,i)};Yt.useInsertionEffect=function(e,t){return wi.current.useInsertionEffect(e,t)};Yt.useLayoutEffect=function(e,t){return wi.current.useLayoutEffect(e,t)};Yt.useMemo=function(e,t){return wi.current.useMemo(e,t)};Yt.useReducer=function(e,t,i){return wi.current.useReducer(e,t,i)};Yt.useRef=function(e){return wi.current.useRef(e)};Yt.useState=function(e){return wi.current.useState(e)};Yt.useSyncExternalStore=function(e,t,i){return wi.current.useSyncExternalStore(e,t,i)};Yt.useTransition=function(){return wi.current.useTransition()};Yt.version="18.2.0";Oy.exports=Yt;var H=Oy.exports;const Ct=F4(H),Fs=Fy({__proto__:null,default:Ct},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PS=H,TS=Symbol.for("react.element"),IS=Symbol.for("react.fragment"),LS=Object.prototype.hasOwnProperty,DS=PS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RS={key:!0,ref:!0,__self:!0,__source:!0};function Zy(e,t,i){var a,l={},p=null,y=null;i!==void 0&&(p=""+i),t.key!==void 0&&(p=""+t.key),t.ref!==void 0&&(y=t.ref);for(a in t)LS.call(t,a)&&!RS.hasOwnProperty(a)&&(l[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)l[a]===void 0&&(l[a]=t[a]);return{$$typeof:TS,type:e,key:p,ref:y,props:l,_owner:DS.current}}N4.Fragment=IS;N4.jsx=Zy;N4.jsxs=Zy;Ny.exports=N4;var dt=Ny.exports,z8={},Gy={exports:{}},so={},qy={exports:{}},Ky={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(we,Re){var Ve=we.length;we.push(Re);e:for(;0<Ve;){var Ze=Ve-1>>>1,at=we[Ze];if(0<l(at,Re))we[Ze]=Re,we[Ve]=at,Ve=Ze;else break e}}function i(we){return we.length===0?null:we[0]}function a(we){if(we.length===0)return null;var Re=we[0],Ve=we.pop();if(Ve!==Re){we[0]=Ve;e:for(var Ze=0,at=we.length,ut=at>>>1;Ze<ut;){var Pt=2*(Ze+1)-1,Xt=we[Pt],qt=Pt+1,ln=we[qt];if(0>l(Xt,Ve))qt<at&&0>l(ln,Xt)?(we[Ze]=ln,we[qt]=Ve,Ze=qt):(we[Ze]=Xt,we[Pt]=Ve,Ze=Pt);else if(qt<at&&0>l(ln,Ve))we[Ze]=ln,we[qt]=Ve,Ze=qt;else break e}}return Re}function l(we,Re){var Ve=we.sortIndex-Re.sortIndex;return Ve!==0?Ve:we.id-Re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;e.unstable_now=function(){return p.now()}}else{var y=Date,u=y.now();e.unstable_now=function(){return y.now()-u}}var M=[],S=[],P=1,F=null,R=3,J=!1,X=!1,G=!1,K=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(we){for(var Re=i(S);Re!==null;){if(Re.callback===null)a(S);else if(Re.startTime<=we)a(S),Re.sortIndex=Re.expirationTime,t(M,Re);else break;Re=i(S)}}function ne(we){if(G=!1,V(we),!X)if(i(M)!==null)X=!0,Le(he);else{var Re=i(S);Re!==null&&Ie(ne,Re.startTime-we)}}function he(we,Re){X=!1,G&&(G=!1,O(Se),Se=-1),J=!0;var Ve=R;try{for(V(Re),F=i(M);F!==null&&(!(F.expirationTime>Re)||we&&!Be());){var Ze=F.callback;if(typeof Ze=="function"){F.callback=null,R=F.priorityLevel;var at=Ze(F.expirationTime<=Re);Re=e.unstable_now(),typeof at=="function"?F.callback=at:F===i(M)&&a(M),V(Re)}else a(M);F=i(M)}if(F!==null)var ut=!0;else{var Pt=i(S);Pt!==null&&Ie(ne,Pt.startTime-Re),ut=!1}return ut}finally{F=null,R=Ve,J=!1}}var pe=!1,de=null,Se=-1,Te=5,Me=-1;function Be(){return!(e.unstable_now()-Me<Te)}function He(){if(de!==null){var we=e.unstable_now();Me=we;var Re=!0;try{Re=de(!0,we)}finally{Re?We():(pe=!1,de=null)}}else pe=!1}var We;if(typeof B=="function")We=function(){B(He)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,Je=qe.port2;qe.port1.onmessage=He,We=function(){Je.postMessage(null)}}else We=function(){K(He,0)};function Le(we){de=we,pe||(pe=!0,We())}function Ie(we,Re){Se=K(function(){we(e.unstable_now())},Re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(we){we.callback=null},e.unstable_continueExecution=function(){X||J||(X=!0,Le(he))},e.unstable_forceFrameRate=function(we){0>we||125<we?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Te=0<we?Math.floor(1e3/we):5},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return i(M)},e.unstable_next=function(we){switch(R){case 1:case 2:case 3:var Re=3;break;default:Re=R}var Ve=R;R=Re;try{return we()}finally{R=Ve}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(we,Re){switch(we){case 1:case 2:case 3:case 4:case 5:break;default:we=3}var Ve=R;R=we;try{return Re()}finally{R=Ve}},e.unstable_scheduleCallback=function(we,Re,Ve){var Ze=e.unstable_now();switch(typeof Ve=="object"&&Ve!==null?(Ve=Ve.delay,Ve=typeof Ve=="number"&&0<Ve?Ze+Ve:Ze):Ve=Ze,we){case 1:var at=-1;break;case 2:at=250;break;case 5:at=1073741823;break;case 4:at=1e4;break;default:at=5e3}return at=Ve+at,we={id:P++,callback:Re,priorityLevel:we,startTime:Ve,expirationTime:at,sortIndex:-1},Ve>Ze?(we.sortIndex=Ve,t(S,we),i(M)===null&&we===i(S)&&(G?(O(Se),Se=-1):G=!0,Ie(ne,Ve-Ze))):(we.sortIndex=at,t(M,we),X||J||(X=!0,Le(he))),we},e.unstable_shouldYield=Be,e.unstable_wrapCallback=function(we){var Re=R;return function(){var Ve=R;R=Re;try{return we.apply(this,arguments)}finally{R=Ve}}}})(Ky);qy.exports=Ky;var zS=qy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy=H,io=zS;function tt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jy=new Set,ld={};function jl(e,t){ou(e,t),ou(e+"Capture",t)}function ou(e,t){for(ld[e]=t,e=0;e<t.length;e++)Jy.add(t[e])}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),F8=Object.prototype.hasOwnProperty,FS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O3={},B3={};function NS(e){return F8.call(B3,e)?!0:F8.call(O3,e)?!1:FS.test(e)?B3[e]=!0:(O3[e]=!0,!1)}function OS(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function BS(e,t,i,a){if(t===null||typeof t>"u"||OS(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Si(e,t,i,a,l,p,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=l,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=p,this.removeEmptyString=y}var Gr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gr[e]=new Si(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gr[t]=new Si(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gr[e]=new Si(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gr[e]=new Si(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gr[e]=new Si(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gr[e]=new Si(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gr[e]=new Si(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gr[e]=new Si(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gr[e]=new Si(e,5,!1,e.toLowerCase(),null,!1,!1)});var Am=/[\-:]([a-z])/g;function Pm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Am,Pm);Gr[t]=new Si(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Am,Pm);Gr[t]=new Si(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Am,Pm);Gr[t]=new Si(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gr[e]=new Si(e,1,!1,e.toLowerCase(),null,!1,!1)});Gr.xlinkHref=new Si("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gr[e]=new Si(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tm(e,t,i,a){var l=Gr.hasOwnProperty(t)?Gr[t]:null;(l!==null?l.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(BS(t,i,l,a)&&(i=null),a||l===null?NS(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):l.mustUseProperty?e[l.propertyName]=i===null?l.type===3?!1:"":i:(t=l.attributeName,a=l.attributeNamespace,i===null?e.removeAttribute(t):(l=l.type,i=l===3||l===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var Ja=Xy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tp=Symbol.for("react.element"),F1=Symbol.for("react.portal"),N1=Symbol.for("react.fragment"),Im=Symbol.for("react.strict_mode"),N8=Symbol.for("react.profiler"),Yy=Symbol.for("react.provider"),Qy=Symbol.for("react.context"),Lm=Symbol.for("react.forward_ref"),O8=Symbol.for("react.suspense"),B8=Symbol.for("react.suspense_list"),Dm=Symbol.for("react.memo"),xs=Symbol.for("react.lazy"),e9=Symbol.for("react.offscreen"),$3=Symbol.iterator;function Ic(e){return e===null||typeof e!="object"?null:(e=$3&&e[$3]||e["@@iterator"],typeof e=="function"?e:null)}var qn=Object.assign,zf;function Wc(e){if(zf===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);zf=t&&t[1]||""}return`
`+zf+e}var Ff=!1;function Nf(e,t){if(!e||Ff)return"";Ff=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(S){var a=S}Reflect.construct(e,[],t)}else{try{t.call()}catch(S){a=S}e.call(t.prototype)}else{try{throw Error()}catch(S){a=S}e()}}catch(S){if(S&&a&&typeof S.stack=="string"){for(var l=S.stack.split(`
`),p=a.stack.split(`
`),y=l.length-1,u=p.length-1;1<=y&&0<=u&&l[y]!==p[u];)u--;for(;1<=y&&0<=u;y--,u--)if(l[y]!==p[u]){if(y!==1||u!==1)do if(y--,u--,0>u||l[y]!==p[u]){var M=`
`+l[y].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=y&&0<=u);break}}}finally{Ff=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Wc(e):""}function $S(e){switch(e.tag){case 5:return Wc(e.type);case 16:return Wc("Lazy");case 13:return Wc("Suspense");case 19:return Wc("SuspenseList");case 0:case 2:case 15:return e=Nf(e.type,!1),e;case 11:return e=Nf(e.type.render,!1),e;case 1:return e=Nf(e.type,!0),e;default:return""}}function $8(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N1:return"Fragment";case F1:return"Portal";case N8:return"Profiler";case Im:return"StrictMode";case O8:return"Suspense";case B8:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qy:return(e.displayName||"Context")+".Consumer";case Yy:return(e._context.displayName||"Context")+".Provider";case Lm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dm:return t=e.displayName||null,t!==null?t:$8(e.type)||"Memo";case xs:t=e._payload,e=e._init;try{return $8(e(t))}catch{}}return null}function jS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $8(t);case 8:return t===Im?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ns(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function t9(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VS(e){var t=t9(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,p=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(y){a=""+y,p.call(this,y)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function np(e){e._valueTracker||(e._valueTracker=VS(e))}function n9(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=t9(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function Yp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function j8(e,t){var i=t.checked;return qn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function j3(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=Ns(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function r9(e,t){t=t.checked,t!=null&&Tm(e,"checked",t,!1)}function V8(e,t){r9(e,t);var i=Ns(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?W8(e,t.type,i):t.hasOwnProperty("defaultValue")&&W8(e,t.type,Ns(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function V3(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function W8(e,t,i){(t!=="number"||Yp(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Uc=Array.isArray;function J1(e,t,i,a){if(e=e.options,t){t={};for(var l=0;l<i.length;l++)t["$"+i[l]]=!0;for(i=0;i<e.length;i++)l=t.hasOwnProperty("$"+e[i].value),e[i].selected!==l&&(e[i].selected=l),l&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Ns(i),t=null,l=0;l<e.length;l++){if(e[l].value===i){e[l].selected=!0,a&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function U8(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(tt(91));return qn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function W3(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(tt(92));if(Uc(i)){if(1<i.length)throw Error(tt(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:Ns(i)}}function i9(e,t){var i=Ns(t.value),a=Ns(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function U3(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function o9(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function H8(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?o9(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rp,a9=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,l){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rp=rp||document.createElement("div"),rp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ud(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Kc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WS=["Webkit","ms","Moz","O"];Object.keys(Kc).forEach(function(e){WS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kc[t]=Kc[e]})});function s9(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Kc.hasOwnProperty(e)&&Kc[e]?(""+t).trim():t+"px"}function l9(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,l=s9(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,l):e[i]=l}}var US=qn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Z8(e,t){if(t){if(US[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(tt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(tt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(tt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(tt(62))}}function G8(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q8=null;function Rm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var K8=null,Y1=null,Q1=null;function H3(e){if(e=Od(e)){if(typeof K8!="function")throw Error(tt(280));var t=e.stateNode;t&&(t=V4(t),K8(e.stateNode,e.type,t))}}function u9(e){Y1?Q1?Q1.push(e):Q1=[e]:Y1=e}function c9(){if(Y1){var e=Y1,t=Q1;if(Q1=Y1=null,H3(e),t)for(e=0;e<t.length;e++)H3(t[e])}}function d9(e,t){return e(t)}function h9(){}var Of=!1;function p9(e,t,i){if(Of)return e(t,i);Of=!0;try{return d9(e,t,i)}finally{Of=!1,(Y1!==null||Q1!==null)&&(h9(),c9())}}function cd(e,t){var i=e.stateNode;if(i===null)return null;var a=V4(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(tt(231,t,typeof i));return i}var X8=!1;if(Wa)try{var Lc={};Object.defineProperty(Lc,"passive",{get:function(){X8=!0}}),window.addEventListener("test",Lc,Lc),window.removeEventListener("test",Lc,Lc)}catch{X8=!1}function HS(e,t,i,a,l,p,y,u,M){var S=Array.prototype.slice.call(arguments,3);try{t.apply(i,S)}catch(P){this.onError(P)}}var Xc=!1,Qp=null,e4=!1,J8=null,ZS={onError:function(e){Xc=!0,Qp=e}};function GS(e,t,i,a,l,p,y,u,M){Xc=!1,Qp=null,HS.apply(ZS,arguments)}function qS(e,t,i,a,l,p,y,u,M){if(GS.apply(this,arguments),Xc){if(Xc){var S=Qp;Xc=!1,Qp=null}else throw Error(tt(198));e4||(e4=!0,J8=S)}}function Vl(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f9(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Z3(e){if(Vl(e)!==e)throw Error(tt(188))}function KS(e){var t=e.alternate;if(!t){if(t=Vl(e),t===null)throw Error(tt(188));return t!==e?null:e}for(var i=e,a=t;;){var l=i.return;if(l===null)break;var p=l.alternate;if(p===null){if(a=l.return,a!==null){i=a;continue}break}if(l.child===p.child){for(p=l.child;p;){if(p===i)return Z3(l),e;if(p===a)return Z3(l),t;p=p.sibling}throw Error(tt(188))}if(i.return!==a.return)i=l,a=p;else{for(var y=!1,u=l.child;u;){if(u===i){y=!0,i=l,a=p;break}if(u===a){y=!0,a=l,i=p;break}u=u.sibling}if(!y){for(u=p.child;u;){if(u===i){y=!0,i=p,a=l;break}if(u===a){y=!0,a=p,i=l;break}u=u.sibling}if(!y)throw Error(tt(189))}}if(i.alternate!==a)throw Error(tt(190))}if(i.tag!==3)throw Error(tt(188));return i.stateNode.current===i?e:t}function m9(e){return e=KS(e),e!==null?g9(e):null}function g9(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=g9(e);if(t!==null)return t;e=e.sibling}return null}var y9=io.unstable_scheduleCallback,G3=io.unstable_cancelCallback,XS=io.unstable_shouldYield,JS=io.unstable_requestPaint,pr=io.unstable_now,YS=io.unstable_getCurrentPriorityLevel,zm=io.unstable_ImmediatePriority,v9=io.unstable_UserBlockingPriority,t4=io.unstable_NormalPriority,QS=io.unstable_LowPriority,_9=io.unstable_IdlePriority,O4=null,ya=null;function eC(e){if(ya&&typeof ya.onCommitFiberRoot=="function")try{ya.onCommitFiberRoot(O4,e,void 0,(e.current.flags&128)===128)}catch{}}var Xo=Math.clz32?Math.clz32:rC,tC=Math.log,nC=Math.LN2;function rC(e){return e>>>=0,e===0?32:31-(tC(e)/nC|0)|0}var ip=64,op=4194304;function Hc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function n4(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,l=e.suspendedLanes,p=e.pingedLanes,y=i&268435455;if(y!==0){var u=y&~l;u!==0?a=Hc(u):(p&=y,p!==0&&(a=Hc(p)))}else y=i&~l,y!==0?a=Hc(y):p!==0&&(a=Hc(p));if(a===0)return 0;if(t!==0&&t!==a&&!(t&l)&&(l=a&-a,p=t&-t,l>=p||l===16&&(p&4194240)!==0))return t;if(a&4&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-Xo(t),l=1<<i,a|=e[i],t&=~l;return a}function iC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oC(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,p=e.pendingLanes;0<p;){var y=31-Xo(p),u=1<<y,M=l[y];M===-1?(!(u&i)||u&a)&&(l[y]=iC(u,t)):M<=t&&(e.expiredLanes|=u),p&=~u}}function Y8(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function x9(){var e=ip;return ip<<=1,!(ip&4194240)&&(ip=64),e}function Bf(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Fd(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xo(t),e[t]=i}function aC(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var l=31-Xo(i),p=1<<l;t[l]=0,a[l]=-1,e[l]=-1,i&=~p}}function Fm(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-Xo(i),l=1<<a;l&t|e[a]&t&&(e[a]|=t),i&=~l}}var gn=0;function b9(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var w9,Nm,S9,C9,M9,Q8=!1,ap=[],As=null,Ps=null,Ts=null,dd=new Map,hd=new Map,ws=[],sC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q3(e,t){switch(e){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":dd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hd.delete(t.pointerId)}}function Dc(e,t,i,a,l,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:p,targetContainers:[l]},t!==null&&(t=Od(t),t!==null&&Nm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function lC(e,t,i,a,l){switch(t){case"focusin":return As=Dc(As,e,t,i,a,l),!0;case"dragenter":return Ps=Dc(Ps,e,t,i,a,l),!0;case"mouseover":return Ts=Dc(Ts,e,t,i,a,l),!0;case"pointerover":var p=l.pointerId;return dd.set(p,Dc(dd.get(p)||null,e,t,i,a,l)),!0;case"gotpointercapture":return p=l.pointerId,hd.set(p,Dc(hd.get(p)||null,e,t,i,a,l)),!0}return!1}function E9(e){var t=wl(e.target);if(t!==null){var i=Vl(t);if(i!==null){if(t=i.tag,t===13){if(t=f9(i),t!==null){e.blockedOn=t,M9(e.priority,function(){S9(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=e5(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);q8=a,i.target.dispatchEvent(a),q8=null}else return t=Od(i),t!==null&&Nm(t),e.blockedOn=i,!1;t.shift()}return!0}function K3(e,t,i){Rp(e)&&i.delete(t)}function uC(){Q8=!1,As!==null&&Rp(As)&&(As=null),Ps!==null&&Rp(Ps)&&(Ps=null),Ts!==null&&Rp(Ts)&&(Ts=null),dd.forEach(K3),hd.forEach(K3)}function Rc(e,t){e.blockedOn===t&&(e.blockedOn=null,Q8||(Q8=!0,io.unstable_scheduleCallback(io.unstable_NormalPriority,uC)))}function pd(e){function t(l){return Rc(l,e)}if(0<ap.length){Rc(ap[0],e);for(var i=1;i<ap.length;i++){var a=ap[i];a.blockedOn===e&&(a.blockedOn=null)}}for(As!==null&&Rc(As,e),Ps!==null&&Rc(Ps,e),Ts!==null&&Rc(Ts,e),dd.forEach(t),hd.forEach(t),i=0;i<ws.length;i++)a=ws[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<ws.length&&(i=ws[0],i.blockedOn===null);)E9(i),i.blockedOn===null&&ws.shift()}var eu=Ja.ReactCurrentBatchConfig,r4=!0;function cC(e,t,i,a){var l=gn,p=eu.transition;eu.transition=null;try{gn=1,Om(e,t,i,a)}finally{gn=l,eu.transition=p}}function dC(e,t,i,a){var l=gn,p=eu.transition;eu.transition=null;try{gn=4,Om(e,t,i,a)}finally{gn=l,eu.transition=p}}function Om(e,t,i,a){if(r4){var l=e5(e,t,i,a);if(l===null)Kf(e,t,a,i4,i),q3(e,a);else if(lC(l,e,t,i,a))a.stopPropagation();else if(q3(e,a),t&4&&-1<sC.indexOf(e)){for(;l!==null;){var p=Od(l);if(p!==null&&w9(p),p=e5(e,t,i,a),p===null&&Kf(e,t,a,i4,i),p===l)break;l=p}l!==null&&a.stopPropagation()}else Kf(e,t,a,null,i)}}var i4=null;function e5(e,t,i,a){if(i4=null,e=Rm(a),e=wl(e),e!==null)if(t=Vl(e),t===null)e=null;else if(i=t.tag,i===13){if(e=f9(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return i4=e,null}function k9(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YS()){case zm:return 1;case v9:return 4;case t4:case QS:return 16;case _9:return 536870912;default:return 16}default:return 16}}var Cs=null,Bm=null,zp=null;function A9(){if(zp)return zp;var e,t=Bm,i=t.length,a,l="value"in Cs?Cs.value:Cs.textContent,p=l.length;for(e=0;e<i&&t[e]===l[e];e++);var y=i-e;for(a=1;a<=y&&t[i-a]===l[p-a];a++);return zp=l.slice(e,1<a?1-a:void 0)}function Fp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sp(){return!0}function X3(){return!1}function lo(e){function t(i,a,l,p,y){this._reactName=i,this._targetInst=l,this.type=a,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(i=e[u],this[u]=i?i(p):p[u]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?sp:X3,this.isPropagationStopped=X3,this}return qn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=sp)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=sp)},persist:function(){},isPersistent:sp}),t}var _u={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$m=lo(_u),Nd=qn({},_u,{view:0,detail:0}),hC=lo(Nd),$f,jf,zc,B4=qn({},Nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zc&&(zc&&e.type==="mousemove"?($f=e.screenX-zc.screenX,jf=e.screenY-zc.screenY):jf=$f=0,zc=e),$f)},movementY:function(e){return"movementY"in e?e.movementY:jf}}),J3=lo(B4),pC=qn({},B4,{dataTransfer:0}),fC=lo(pC),mC=qn({},Nd,{relatedTarget:0}),Vf=lo(mC),gC=qn({},_u,{animationName:0,elapsedTime:0,pseudoElement:0}),yC=lo(gC),vC=qn({},_u,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_C=lo(vC),xC=qn({},_u,{data:0}),Y3=lo(xC),bC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=SC[e])?!!t[e]:!1}function jm(){return CC}var MC=qn({},Nd,{key:function(e){if(e.key){var t=bC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jm,charCode:function(e){return e.type==="keypress"?Fp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),EC=lo(MC),kC=qn({},B4,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Q3=lo(kC),AC=qn({},Nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jm}),PC=lo(AC),TC=qn({},_u,{propertyName:0,elapsedTime:0,pseudoElement:0}),IC=lo(TC),LC=qn({},B4,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DC=lo(LC),RC=[9,13,27,32],Vm=Wa&&"CompositionEvent"in window,Jc=null;Wa&&"documentMode"in document&&(Jc=document.documentMode);var zC=Wa&&"TextEvent"in window&&!Jc,P9=Wa&&(!Vm||Jc&&8<Jc&&11>=Jc),e6=String.fromCharCode(32),t6=!1;function T9(e,t){switch(e){case"keyup":return RC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I9(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var O1=!1;function FC(e,t){switch(e){case"compositionend":return I9(t);case"keypress":return t.which!==32?null:(t6=!0,e6);case"textInput":return e=t.data,e===e6&&t6?null:e;default:return null}}function NC(e,t){if(O1)return e==="compositionend"||!Vm&&T9(e,t)?(e=A9(),zp=Bm=Cs=null,O1=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return P9&&t.locale!=="ko"?null:t.data;default:return null}}var OC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!OC[e.type]:t==="textarea"}function L9(e,t,i,a){u9(a),t=o4(t,"onChange"),0<t.length&&(i=new $m("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var Yc=null,fd=null;function BC(e){W9(e,0)}function $4(e){var t=j1(e);if(n9(t))return e}function $C(e,t){if(e==="change")return t}var D9=!1;if(Wa){var Wf;if(Wa){var Uf="oninput"in document;if(!Uf){var r6=document.createElement("div");r6.setAttribute("oninput","return;"),Uf=typeof r6.oninput=="function"}Wf=Uf}else Wf=!1;D9=Wf&&(!document.documentMode||9<document.documentMode)}function i6(){Yc&&(Yc.detachEvent("onpropertychange",R9),fd=Yc=null)}function R9(e){if(e.propertyName==="value"&&$4(fd)){var t=[];L9(t,fd,e,Rm(e)),p9(BC,t)}}function jC(e,t,i){e==="focusin"?(i6(),Yc=t,fd=i,Yc.attachEvent("onpropertychange",R9)):e==="focusout"&&i6()}function VC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $4(fd)}function WC(e,t){if(e==="click")return $4(t)}function UC(e,t){if(e==="input"||e==="change")return $4(t)}function HC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ta=typeof Object.is=="function"?Object.is:HC;function md(e,t){if(ta(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var l=i[a];if(!F8.call(t,l)||!ta(e[l],t[l]))return!1}return!0}function o6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function a6(e,t){var i=o6(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=o6(i)}}function z9(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?z9(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function F9(){for(var e=window,t=Yp();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Yp(e.document)}return t}function Wm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ZC(e){var t=F9(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&z9(i.ownerDocument.documentElement,i)){if(a!==null&&Wm(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=i.textContent.length,p=Math.min(a.start,l);a=a.end===void 0?p:Math.min(a.end,l),!e.extend&&p>a&&(l=a,a=p,p=l),l=a6(i,p);var y=a6(i,a);l&&y&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),p>a?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var GC=Wa&&"documentMode"in document&&11>=document.documentMode,B1=null,t5=null,Qc=null,n5=!1;function s6(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;n5||B1==null||B1!==Yp(a)||(a=B1,"selectionStart"in a&&Wm(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Qc&&md(Qc,a)||(Qc=a,a=o4(t5,"onSelect"),0<a.length&&(t=new $m("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=B1)))}function lp(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var $1={animationend:lp("Animation","AnimationEnd"),animationiteration:lp("Animation","AnimationIteration"),animationstart:lp("Animation","AnimationStart"),transitionend:lp("Transition","TransitionEnd")},Hf={},N9={};Wa&&(N9=document.createElement("div").style,"AnimationEvent"in window||(delete $1.animationend.animation,delete $1.animationiteration.animation,delete $1.animationstart.animation),"TransitionEvent"in window||delete $1.transitionend.transition);function j4(e){if(Hf[e])return Hf[e];if(!$1[e])return e;var t=$1[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in N9)return Hf[e]=t[i];return e}var O9=j4("animationend"),B9=j4("animationiteration"),$9=j4("animationstart"),j9=j4("transitionend"),V9=new Map,l6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Us(e,t){V9.set(e,t),jl(t,[e])}for(var Zf=0;Zf<l6.length;Zf++){var Gf=l6[Zf],qC=Gf.toLowerCase(),KC=Gf[0].toUpperCase()+Gf.slice(1);Us(qC,"on"+KC)}Us(O9,"onAnimationEnd");Us(B9,"onAnimationIteration");Us($9,"onAnimationStart");Us("dblclick","onDoubleClick");Us("focusin","onFocus");Us("focusout","onBlur");Us(j9,"onTransitionEnd");ou("onMouseEnter",["mouseout","mouseover"]);ou("onMouseLeave",["mouseout","mouseover"]);ou("onPointerEnter",["pointerout","pointerover"]);ou("onPointerLeave",["pointerout","pointerover"]);jl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jl("onBeforeInput",["compositionend","keypress","textInput","paste"]);jl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zc));function u6(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,qS(a,t,void 0,e),e.currentTarget=null}function W9(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],l=a.event;a=a.listeners;e:{var p=void 0;if(t)for(var y=a.length-1;0<=y;y--){var u=a[y],M=u.instance,S=u.currentTarget;if(u=u.listener,M!==p&&l.isPropagationStopped())break e;u6(l,u,S),p=M}else for(y=0;y<a.length;y++){if(u=a[y],M=u.instance,S=u.currentTarget,u=u.listener,M!==p&&l.isPropagationStopped())break e;u6(l,u,S),p=M}}}if(e4)throw e=J8,e4=!1,J8=null,e}function zn(e,t){var i=t[s5];i===void 0&&(i=t[s5]=new Set);var a=e+"__bubble";i.has(a)||(U9(t,e,2,!1),i.add(a))}function qf(e,t,i){var a=0;t&&(a|=4),U9(i,e,a,t)}var up="_reactListening"+Math.random().toString(36).slice(2);function gd(e){if(!e[up]){e[up]=!0,Jy.forEach(function(i){i!=="selectionchange"&&(XC.has(i)||qf(i,!1,e),qf(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[up]||(t[up]=!0,qf("selectionchange",!1,t))}}function U9(e,t,i,a){switch(k9(t)){case 1:var l=cC;break;case 4:l=dC;break;default:l=Om}i=l.bind(null,t,i,e),l=void 0,!X8||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),a?l!==void 0?e.addEventListener(t,i,{capture:!0,passive:l}):e.addEventListener(t,i,!0):l!==void 0?e.addEventListener(t,i,{passive:l}):e.addEventListener(t,i,!1)}function Kf(e,t,i,a,l){var p=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var y=a.tag;if(y===3||y===4){var u=a.stateNode.containerInfo;if(u===l||u.nodeType===8&&u.parentNode===l)break;if(y===4)for(y=a.return;y!==null;){var M=y.tag;if((M===3||M===4)&&(M=y.stateNode.containerInfo,M===l||M.nodeType===8&&M.parentNode===l))return;y=y.return}for(;u!==null;){if(y=wl(u),y===null)return;if(M=y.tag,M===5||M===6){a=p=y;continue e}u=u.parentNode}}a=a.return}p9(function(){var S=p,P=Rm(i),F=[];e:{var R=V9.get(e);if(R!==void 0){var J=$m,X=e;switch(e){case"keypress":if(Fp(i)===0)break e;case"keydown":case"keyup":J=EC;break;case"focusin":X="focus",J=Vf;break;case"focusout":X="blur",J=Vf;break;case"beforeblur":case"afterblur":J=Vf;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=J3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=fC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=PC;break;case O9:case B9:case $9:J=yC;break;case j9:J=IC;break;case"scroll":J=hC;break;case"wheel":J=DC;break;case"copy":case"cut":case"paste":J=_C;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Q3}var G=(t&4)!==0,K=!G&&e==="scroll",O=G?R!==null?R+"Capture":null:R;G=[];for(var B=S,V;B!==null;){V=B;var ne=V.stateNode;if(V.tag===5&&ne!==null&&(V=ne,O!==null&&(ne=cd(B,O),ne!=null&&G.push(yd(B,ne,V)))),K)break;B=B.return}0<G.length&&(R=new J(R,X,null,i,P),F.push({event:R,listeners:G}))}}if(!(t&7)){e:{if(R=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",R&&i!==q8&&(X=i.relatedTarget||i.fromElement)&&(wl(X)||X[Ua]))break e;if((J||R)&&(R=P.window===P?P:(R=P.ownerDocument)?R.defaultView||R.parentWindow:window,J?(X=i.relatedTarget||i.toElement,J=S,X=X?wl(X):null,X!==null&&(K=Vl(X),X!==K||X.tag!==5&&X.tag!==6)&&(X=null)):(J=null,X=S),J!==X)){if(G=J3,ne="onMouseLeave",O="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(G=Q3,ne="onPointerLeave",O="onPointerEnter",B="pointer"),K=J==null?R:j1(J),V=X==null?R:j1(X),R=new G(ne,B+"leave",J,i,P),R.target=K,R.relatedTarget=V,ne=null,wl(P)===S&&(G=new G(O,B+"enter",X,i,P),G.target=V,G.relatedTarget=K,ne=G),K=ne,J&&X)t:{for(G=J,O=X,B=0,V=G;V;V=T1(V))B++;for(V=0,ne=O;ne;ne=T1(ne))V++;for(;0<B-V;)G=T1(G),B--;for(;0<V-B;)O=T1(O),V--;for(;B--;){if(G===O||O!==null&&G===O.alternate)break t;G=T1(G),O=T1(O)}G=null}else G=null;J!==null&&c6(F,R,J,G,!1),X!==null&&K!==null&&c6(F,K,X,G,!0)}}e:{if(R=S?j1(S):window,J=R.nodeName&&R.nodeName.toLowerCase(),J==="select"||J==="input"&&R.type==="file")var he=$C;else if(n6(R))if(D9)he=UC;else{he=VC;var pe=jC}else(J=R.nodeName)&&J.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(he=WC);if(he&&(he=he(e,S))){L9(F,he,i,P);break e}pe&&pe(e,R,S),e==="focusout"&&(pe=R._wrapperState)&&pe.controlled&&R.type==="number"&&W8(R,"number",R.value)}switch(pe=S?j1(S):window,e){case"focusin":(n6(pe)||pe.contentEditable==="true")&&(B1=pe,t5=S,Qc=null);break;case"focusout":Qc=t5=B1=null;break;case"mousedown":n5=!0;break;case"contextmenu":case"mouseup":case"dragend":n5=!1,s6(F,i,P);break;case"selectionchange":if(GC)break;case"keydown":case"keyup":s6(F,i,P)}var de;if(Vm)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else O1?T9(e,i)&&(Se="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Se="onCompositionStart");Se&&(P9&&i.locale!=="ko"&&(O1||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&O1&&(de=A9()):(Cs=P,Bm="value"in Cs?Cs.value:Cs.textContent,O1=!0)),pe=o4(S,Se),0<pe.length&&(Se=new Y3(Se,e,null,i,P),F.push({event:Se,listeners:pe}),de?Se.data=de:(de=I9(i),de!==null&&(Se.data=de)))),(de=zC?FC(e,i):NC(e,i))&&(S=o4(S,"onBeforeInput"),0<S.length&&(P=new Y3("onBeforeInput","beforeinput",null,i,P),F.push({event:P,listeners:S}),P.data=de))}W9(F,t)})}function yd(e,t,i){return{instance:e,listener:t,currentTarget:i}}function o4(e,t){for(var i=t+"Capture",a=[];e!==null;){var l=e,p=l.stateNode;l.tag===5&&p!==null&&(l=p,p=cd(e,i),p!=null&&a.unshift(yd(e,p,l)),p=cd(e,t),p!=null&&a.push(yd(e,p,l))),e=e.return}return a}function T1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function c6(e,t,i,a,l){for(var p=t._reactName,y=[];i!==null&&i!==a;){var u=i,M=u.alternate,S=u.stateNode;if(M!==null&&M===a)break;u.tag===5&&S!==null&&(u=S,l?(M=cd(i,p),M!=null&&y.unshift(yd(i,M,u))):l||(M=cd(i,p),M!=null&&y.push(yd(i,M,u)))),i=i.return}y.length!==0&&e.push({event:t,listeners:y})}var JC=/\r\n?/g,YC=/\u0000|\uFFFD/g;function d6(e){return(typeof e=="string"?e:""+e).replace(JC,`
`).replace(YC,"")}function cp(e,t,i){if(t=d6(t),d6(e)!==t&&i)throw Error(tt(425))}function a4(){}var r5=null,i5=null;function o5(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var a5=typeof setTimeout=="function"?setTimeout:void 0,QC=typeof clearTimeout=="function"?clearTimeout:void 0,h6=typeof Promise=="function"?Promise:void 0,eM=typeof queueMicrotask=="function"?queueMicrotask:typeof h6<"u"?function(e){return h6.resolve(null).then(e).catch(tM)}:a5;function tM(e){setTimeout(function(){throw e})}function Xf(e,t){var i=t,a=0;do{var l=i.nextSibling;if(e.removeChild(i),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(a===0){e.removeChild(l),pd(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=l}while(i);pd(t)}function Is(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function p6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var xu=Math.random().toString(36).slice(2),ma="__reactFiber$"+xu,vd="__reactProps$"+xu,Ua="__reactContainer$"+xu,s5="__reactEvents$"+xu,nM="__reactListeners$"+xu,rM="__reactHandles$"+xu;function wl(e){var t=e[ma];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Ua]||i[ma]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=p6(e);e!==null;){if(i=e[ma])return i;e=p6(e)}return t}e=i,i=e.parentNode}return null}function Od(e){return e=e[ma]||e[Ua],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function j1(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(tt(33))}function V4(e){return e[vd]||null}var l5=[],V1=-1;function Hs(e){return{current:e}}function Fn(e){0>V1||(e.current=l5[V1],l5[V1]=null,V1--)}function In(e,t){V1++,l5[V1]=e.current,e.current=t}var Os={},oi=Hs(Os),Oi=Hs(!1),Dl=Os;function au(e,t){var i=e.type.contextTypes;if(!i)return Os;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var l={},p;for(p in i)l[p]=t[p];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Bi(e){return e=e.childContextTypes,e!=null}function s4(){Fn(Oi),Fn(oi)}function f6(e,t,i){if(oi.current!==Os)throw Error(tt(168));In(oi,t),In(Oi,i)}function H9(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var l in a)if(!(l in t))throw Error(tt(108,jS(e)||"Unknown",l));return qn({},i,a)}function l4(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Os,Dl=oi.current,In(oi,e),In(Oi,Oi.current),!0}function m6(e,t,i){var a=e.stateNode;if(!a)throw Error(tt(169));i?(e=H9(e,t,Dl),a.__reactInternalMemoizedMergedChildContext=e,Fn(Oi),Fn(oi),In(oi,e)):Fn(Oi),In(Oi,i)}var Oa=null,W4=!1,Jf=!1;function Z9(e){Oa===null?Oa=[e]:Oa.push(e)}function iM(e){W4=!0,Z9(e)}function Zs(){if(!Jf&&Oa!==null){Jf=!0;var e=0,t=gn;try{var i=Oa;for(gn=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}Oa=null,W4=!1}catch(l){throw Oa!==null&&(Oa=Oa.slice(e+1)),y9(zm,Zs),l}finally{gn=t,Jf=!1}}return null}var W1=[],U1=0,u4=null,c4=0,xo=[],bo=0,Rl=null,$a=1,ja="";function gl(e,t){W1[U1++]=c4,W1[U1++]=u4,u4=e,c4=t}function G9(e,t,i){xo[bo++]=$a,xo[bo++]=ja,xo[bo++]=Rl,Rl=e;var a=$a;e=ja;var l=32-Xo(a)-1;a&=~(1<<l),i+=1;var p=32-Xo(t)+l;if(30<p){var y=l-l%5;p=(a&(1<<y)-1).toString(32),a>>=y,l-=y,$a=1<<32-Xo(t)+l|i<<l|a,ja=p+e}else $a=1<<p|i<<l|a,ja=e}function Um(e){e.return!==null&&(gl(e,1),G9(e,1,0))}function Hm(e){for(;e===u4;)u4=W1[--U1],W1[U1]=null,c4=W1[--U1],W1[U1]=null;for(;e===Rl;)Rl=xo[--bo],xo[bo]=null,ja=xo[--bo],xo[bo]=null,$a=xo[--bo],xo[bo]=null}var no=null,Yi=null,Vn=!1,qo=null;function q9(e,t){var i=wo(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function g6(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,no=e,Yi=Is(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,no=e,Yi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Rl!==null?{id:$a,overflow:ja}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=wo(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,no=e,Yi=null,!0):!1;default:return!1}}function u5(e){return(e.mode&1)!==0&&(e.flags&128)===0}function c5(e){if(Vn){var t=Yi;if(t){var i=t;if(!g6(e,t)){if(u5(e))throw Error(tt(418));t=Is(i.nextSibling);var a=no;t&&g6(e,t)?q9(a,i):(e.flags=e.flags&-4097|2,Vn=!1,no=e)}}else{if(u5(e))throw Error(tt(418));e.flags=e.flags&-4097|2,Vn=!1,no=e}}}function y6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;no=e}function dp(e){if(e!==no)return!1;if(!Vn)return y6(e),Vn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!o5(e.type,e.memoizedProps)),t&&(t=Yi)){if(u5(e))throw K9(),Error(tt(418));for(;t;)q9(e,t),t=Is(t.nextSibling)}if(y6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(tt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Yi=Is(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Yi=null}}else Yi=no?Is(e.stateNode.nextSibling):null;return!0}function K9(){for(var e=Yi;e;)e=Is(e.nextSibling)}function su(){Yi=no=null,Vn=!1}function Zm(e){qo===null?qo=[e]:qo.push(e)}var oM=Ja.ReactCurrentBatchConfig;function Uo(e,t){if(e&&e.defaultProps){t=qn({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}var d4=Hs(null),h4=null,H1=null,Gm=null;function qm(){Gm=H1=h4=null}function Km(e){var t=d4.current;Fn(d4),e._currentValue=t}function d5(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function tu(e,t){h4=e,Gm=H1=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ni=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(Gm!==e)if(e={context:e,memoizedValue:t,next:null},H1===null){if(h4===null)throw Error(tt(308));H1=e,h4.dependencies={lanes:0,firstContext:e}}else H1=H1.next=e;return t}var Sl=null;function Xm(e){Sl===null?Sl=[e]:Sl.push(e)}function X9(e,t,i,a){var l=t.interleaved;return l===null?(i.next=i,Xm(t)):(i.next=l.next,l.next=i),t.interleaved=i,Ha(e,a)}function Ha(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var bs=!1;function Jm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J9(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Va(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,sn&2){var l=a.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),a.pending=t,Ha(e,i)}return l=a.interleaved,l===null?(t.next=t,Xm(a)):(t.next=l.next,l.next=t),a.interleaved=t,Ha(e,i)}function Np(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Fm(e,i)}}function v6(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var l=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};p===null?l=p=y:p=p.next=y,i=i.next}while(i!==null);p===null?l=p=t:p=p.next=t}else l=p=t;i={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:p,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function p4(e,t,i,a){var l=e.updateQueue;bs=!1;var p=l.firstBaseUpdate,y=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var M=u,S=M.next;M.next=null,y===null?p=S:y.next=S,y=M;var P=e.alternate;P!==null&&(P=P.updateQueue,u=P.lastBaseUpdate,u!==y&&(u===null?P.firstBaseUpdate=S:u.next=S,P.lastBaseUpdate=M))}if(p!==null){var F=l.baseState;y=0,P=S=M=null,u=p;do{var R=u.lane,J=u.eventTime;if((a&R)===R){P!==null&&(P=P.next={eventTime:J,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var X=e,G=u;switch(R=t,J=i,G.tag){case 1:if(X=G.payload,typeof X=="function"){F=X.call(J,F,R);break e}F=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=G.payload,R=typeof X=="function"?X.call(J,F,R):X,R==null)break e;F=qn({},F,R);break e;case 2:bs=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,R=l.effects,R===null?l.effects=[u]:R.push(u))}else J={eventTime:J,lane:R,tag:u.tag,payload:u.payload,callback:u.callback,next:null},P===null?(S=P=J,M=F):P=P.next=J,y|=R;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;R=u,u=R.next,R.next=null,l.lastBaseUpdate=R,l.shared.pending=null}}while(1);if(P===null&&(M=F),l.baseState=M,l.firstBaseUpdate=S,l.lastBaseUpdate=P,t=l.shared.interleaved,t!==null){l=t;do y|=l.lane,l=l.next;while(l!==t)}else p===null&&(l.shared.lanes=0);Fl|=y,e.lanes=y,e.memoizedState=F}}function _6(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],l=a.callback;if(l!==null){if(a.callback=null,a=i,typeof l!="function")throw Error(tt(191,l));l.call(a)}}}var Y9=new Xy.Component().refs;function h5(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:qn({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var U4={isMounted:function(e){return(e=e._reactInternals)?Vl(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=_i(),l=Rs(e),p=Va(a,l);p.payload=t,i!=null&&(p.callback=i),t=Ls(e,p,l),t!==null&&(Jo(t,e,l,a),Np(t,e,l))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=_i(),l=Rs(e),p=Va(a,l);p.tag=1,p.payload=t,i!=null&&(p.callback=i),t=Ls(e,p,l),t!==null&&(Jo(t,e,l,a),Np(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=_i(),a=Rs(e),l=Va(i,a);l.tag=2,t!=null&&(l.callback=t),t=Ls(e,l,a),t!==null&&(Jo(t,e,a,i),Np(t,e,a))}};function x6(e,t,i,a,l,p,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,p,y):t.prototype&&t.prototype.isPureReactComponent?!md(i,a)||!md(l,p):!0}function Q9(e,t,i){var a=!1,l=Os,p=t.contextType;return typeof p=="object"&&p!==null?p=Co(p):(l=Bi(t)?Dl:oi.current,a=t.contextTypes,p=(a=a!=null)?au(e,l):Os),t=new t(i,p),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=U4,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=p),t}function b6(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&U4.enqueueReplaceState(t,t.state,null)}function p5(e,t,i,a){var l=e.stateNode;l.props=i,l.state=e.memoizedState,l.refs=Y9,Jm(e);var p=t.contextType;typeof p=="object"&&p!==null?l.context=Co(p):(p=Bi(t)?Dl:oi.current,l.context=au(e,p)),l.state=e.memoizedState,p=t.getDerivedStateFromProps,typeof p=="function"&&(h5(e,t,p,i),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&U4.enqueueReplaceState(l,l.state,null),p4(e,i,l,a),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Fc(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(tt(309));var a=i.stateNode}if(!a)throw Error(tt(147,e));var l=a,p=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===p?t.ref:(t=function(y){var u=l.refs;u===Y9&&(u=l.refs={}),y===null?delete u[p]:u[p]=y},t._stringRef=p,t)}if(typeof e!="string")throw Error(tt(284));if(!i._owner)throw Error(tt(290,e))}return e}function hp(e,t){throw e=Object.prototype.toString.call(t),Error(tt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function w6(e){var t=e._init;return t(e._payload)}function ev(e){function t(O,B){if(e){var V=O.deletions;V===null?(O.deletions=[B],O.flags|=16):V.push(B)}}function i(O,B){if(!e)return null;for(;B!==null;)t(O,B),B=B.sibling;return null}function a(O,B){for(O=new Map;B!==null;)B.key!==null?O.set(B.key,B):O.set(B.index,B),B=B.sibling;return O}function l(O,B){return O=zs(O,B),O.index=0,O.sibling=null,O}function p(O,B,V){return O.index=V,e?(V=O.alternate,V!==null?(V=V.index,V<B?(O.flags|=2,B):V):(O.flags|=2,B)):(O.flags|=1048576,B)}function y(O){return e&&O.alternate===null&&(O.flags|=2),O}function u(O,B,V,ne){return B===null||B.tag!==6?(B=i8(V,O.mode,ne),B.return=O,B):(B=l(B,V),B.return=O,B)}function M(O,B,V,ne){var he=V.type;return he===N1?P(O,B,V.props.children,ne,V.key):B!==null&&(B.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xs&&w6(he)===B.type)?(ne=l(B,V.props),ne.ref=Fc(O,B,V),ne.return=O,ne):(ne=Wp(V.type,V.key,V.props,null,O.mode,ne),ne.ref=Fc(O,B,V),ne.return=O,ne)}function S(O,B,V,ne){return B===null||B.tag!==4||B.stateNode.containerInfo!==V.containerInfo||B.stateNode.implementation!==V.implementation?(B=o8(V,O.mode,ne),B.return=O,B):(B=l(B,V.children||[]),B.return=O,B)}function P(O,B,V,ne,he){return B===null||B.tag!==7?(B=Tl(V,O.mode,ne,he),B.return=O,B):(B=l(B,V),B.return=O,B)}function F(O,B,V){if(typeof B=="string"&&B!==""||typeof B=="number")return B=i8(""+B,O.mode,V),B.return=O,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case tp:return V=Wp(B.type,B.key,B.props,null,O.mode,V),V.ref=Fc(O,null,B),V.return=O,V;case F1:return B=o8(B,O.mode,V),B.return=O,B;case xs:var ne=B._init;return F(O,ne(B._payload),V)}if(Uc(B)||Ic(B))return B=Tl(B,O.mode,V,null),B.return=O,B;hp(O,B)}return null}function R(O,B,V,ne){var he=B!==null?B.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return he!==null?null:u(O,B,""+V,ne);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case tp:return V.key===he?M(O,B,V,ne):null;case F1:return V.key===he?S(O,B,V,ne):null;case xs:return he=V._init,R(O,B,he(V._payload),ne)}if(Uc(V)||Ic(V))return he!==null?null:P(O,B,V,ne,null);hp(O,V)}return null}function J(O,B,V,ne,he){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return O=O.get(V)||null,u(B,O,""+ne,he);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case tp:return O=O.get(ne.key===null?V:ne.key)||null,M(B,O,ne,he);case F1:return O=O.get(ne.key===null?V:ne.key)||null,S(B,O,ne,he);case xs:var pe=ne._init;return J(O,B,V,pe(ne._payload),he)}if(Uc(ne)||Ic(ne))return O=O.get(V)||null,P(B,O,ne,he,null);hp(B,ne)}return null}function X(O,B,V,ne){for(var he=null,pe=null,de=B,Se=B=0,Te=null;de!==null&&Se<V.length;Se++){de.index>Se?(Te=de,de=null):Te=de.sibling;var Me=R(O,de,V[Se],ne);if(Me===null){de===null&&(de=Te);break}e&&de&&Me.alternate===null&&t(O,de),B=p(Me,B,Se),pe===null?he=Me:pe.sibling=Me,pe=Me,de=Te}if(Se===V.length)return i(O,de),Vn&&gl(O,Se),he;if(de===null){for(;Se<V.length;Se++)de=F(O,V[Se],ne),de!==null&&(B=p(de,B,Se),pe===null?he=de:pe.sibling=de,pe=de);return Vn&&gl(O,Se),he}for(de=a(O,de);Se<V.length;Se++)Te=J(de,O,Se,V[Se],ne),Te!==null&&(e&&Te.alternate!==null&&de.delete(Te.key===null?Se:Te.key),B=p(Te,B,Se),pe===null?he=Te:pe.sibling=Te,pe=Te);return e&&de.forEach(function(Be){return t(O,Be)}),Vn&&gl(O,Se),he}function G(O,B,V,ne){var he=Ic(V);if(typeof he!="function")throw Error(tt(150));if(V=he.call(V),V==null)throw Error(tt(151));for(var pe=he=null,de=B,Se=B=0,Te=null,Me=V.next();de!==null&&!Me.done;Se++,Me=V.next()){de.index>Se?(Te=de,de=null):Te=de.sibling;var Be=R(O,de,Me.value,ne);if(Be===null){de===null&&(de=Te);break}e&&de&&Be.alternate===null&&t(O,de),B=p(Be,B,Se),pe===null?he=Be:pe.sibling=Be,pe=Be,de=Te}if(Me.done)return i(O,de),Vn&&gl(O,Se),he;if(de===null){for(;!Me.done;Se++,Me=V.next())Me=F(O,Me.value,ne),Me!==null&&(B=p(Me,B,Se),pe===null?he=Me:pe.sibling=Me,pe=Me);return Vn&&gl(O,Se),he}for(de=a(O,de);!Me.done;Se++,Me=V.next())Me=J(de,O,Se,Me.value,ne),Me!==null&&(e&&Me.alternate!==null&&de.delete(Me.key===null?Se:Me.key),B=p(Me,B,Se),pe===null?he=Me:pe.sibling=Me,pe=Me);return e&&de.forEach(function(He){return t(O,He)}),Vn&&gl(O,Se),he}function K(O,B,V,ne){if(typeof V=="object"&&V!==null&&V.type===N1&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case tp:e:{for(var he=V.key,pe=B;pe!==null;){if(pe.key===he){if(he=V.type,he===N1){if(pe.tag===7){i(O,pe.sibling),B=l(pe,V.props.children),B.return=O,O=B;break e}}else if(pe.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xs&&w6(he)===pe.type){i(O,pe.sibling),B=l(pe,V.props),B.ref=Fc(O,pe,V),B.return=O,O=B;break e}i(O,pe);break}else t(O,pe);pe=pe.sibling}V.type===N1?(B=Tl(V.props.children,O.mode,ne,V.key),B.return=O,O=B):(ne=Wp(V.type,V.key,V.props,null,O.mode,ne),ne.ref=Fc(O,B,V),ne.return=O,O=ne)}return y(O);case F1:e:{for(pe=V.key;B!==null;){if(B.key===pe)if(B.tag===4&&B.stateNode.containerInfo===V.containerInfo&&B.stateNode.implementation===V.implementation){i(O,B.sibling),B=l(B,V.children||[]),B.return=O,O=B;break e}else{i(O,B);break}else t(O,B);B=B.sibling}B=o8(V,O.mode,ne),B.return=O,O=B}return y(O);case xs:return pe=V._init,K(O,B,pe(V._payload),ne)}if(Uc(V))return X(O,B,V,ne);if(Ic(V))return G(O,B,V,ne);hp(O,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,B!==null&&B.tag===6?(i(O,B.sibling),B=l(B,V),B.return=O,O=B):(i(O,B),B=i8(V,O.mode,ne),B.return=O,O=B),y(O)):i(O,B)}return K}var lu=ev(!0),tv=ev(!1),Bd={},va=Hs(Bd),_d=Hs(Bd),xd=Hs(Bd);function Cl(e){if(e===Bd)throw Error(tt(174));return e}function Ym(e,t){switch(In(xd,t),In(_d,e),In(va,Bd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:H8(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=H8(t,e)}Fn(va),In(va,t)}function uu(){Fn(va),Fn(_d),Fn(xd)}function nv(e){Cl(xd.current);var t=Cl(va.current),i=H8(t,e.type);t!==i&&(In(_d,e),In(va,i))}function Qm(e){_d.current===e&&(Fn(va),Fn(_d))}var Zn=Hs(0);function f4(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yf=[];function e2(){for(var e=0;e<Yf.length;e++)Yf[e]._workInProgressVersionPrimary=null;Yf.length=0}var Op=Ja.ReactCurrentDispatcher,Qf=Ja.ReactCurrentBatchConfig,zl=0,Gn=null,wr=null,Dr=null,m4=!1,ed=!1,bd=0,aM=0;function ni(){throw Error(tt(321))}function t2(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!ta(e[i],t[i]))return!1;return!0}function n2(e,t,i,a,l,p){if(zl=p,Gn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Op.current=e===null||e.memoizedState===null?cM:dM,e=i(a,l),ed){p=0;do{if(ed=!1,bd=0,25<=p)throw Error(tt(301));p+=1,Dr=wr=null,t.updateQueue=null,Op.current=hM,e=i(a,l)}while(ed)}if(Op.current=g4,t=wr!==null&&wr.next!==null,zl=0,Dr=wr=Gn=null,m4=!1,t)throw Error(tt(300));return e}function r2(){var e=bd!==0;return bd=0,e}function fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?Gn.memoizedState=Dr=e:Dr=Dr.next=e,Dr}function Mo(){if(wr===null){var e=Gn.alternate;e=e!==null?e.memoizedState:null}else e=wr.next;var t=Dr===null?Gn.memoizedState:Dr.next;if(t!==null)Dr=t,wr=e;else{if(e===null)throw Error(tt(310));wr=e,e={memoizedState:wr.memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},Dr===null?Gn.memoizedState=Dr=e:Dr=Dr.next=e}return Dr}function wd(e,t){return typeof t=="function"?t(e):t}function e8(e){var t=Mo(),i=t.queue;if(i===null)throw Error(tt(311));i.lastRenderedReducer=e;var a=wr,l=a.baseQueue,p=i.pending;if(p!==null){if(l!==null){var y=l.next;l.next=p.next,p.next=y}a.baseQueue=l=p,i.pending=null}if(l!==null){p=l.next,a=a.baseState;var u=y=null,M=null,S=p;do{var P=S.lane;if((zl&P)===P)M!==null&&(M=M.next={lane:0,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null}),a=S.hasEagerState?S.eagerState:e(a,S.action);else{var F={lane:P,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null};M===null?(u=M=F,y=a):M=M.next=F,Gn.lanes|=P,Fl|=P}S=S.next}while(S!==null&&S!==p);M===null?y=a:M.next=u,ta(a,t.memoizedState)||(Ni=!0),t.memoizedState=a,t.baseState=y,t.baseQueue=M,i.lastRenderedState=a}if(e=i.interleaved,e!==null){l=e;do p=l.lane,Gn.lanes|=p,Fl|=p,l=l.next;while(l!==e)}else l===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function t8(e){var t=Mo(),i=t.queue;if(i===null)throw Error(tt(311));i.lastRenderedReducer=e;var a=i.dispatch,l=i.pending,p=t.memoizedState;if(l!==null){i.pending=null;var y=l=l.next;do p=e(p,y.action),y=y.next;while(y!==l);ta(p,t.memoizedState)||(Ni=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),i.lastRenderedState=p}return[p,a]}function rv(){}function iv(e,t){var i=Gn,a=Mo(),l=t(),p=!ta(a.memoizedState,l);if(p&&(a.memoizedState=l,Ni=!0),a=a.queue,i2(sv.bind(null,i,a,e),[e]),a.getSnapshot!==t||p||Dr!==null&&Dr.memoizedState.tag&1){if(i.flags|=2048,Sd(9,av.bind(null,i,a,l,t),void 0,null),Rr===null)throw Error(tt(349));zl&30||ov(i,t,l)}return l}function ov(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Gn.updateQueue,t===null?(t={lastEffect:null,stores:null},Gn.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function av(e,t,i,a){t.value=i,t.getSnapshot=a,lv(t)&&uv(e)}function sv(e,t,i){return i(function(){lv(t)&&uv(e)})}function lv(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!ta(e,i)}catch{return!0}}function uv(e){var t=Ha(e,1);t!==null&&Jo(t,e,1,-1)}function S6(e){var t=fa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wd,lastRenderedState:e},t.queue=e,e=e.dispatch=uM.bind(null,Gn,e),[t.memoizedState,e]}function Sd(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=Gn.updateQueue,t===null?(t={lastEffect:null,stores:null},Gn.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function cv(){return Mo().memoizedState}function Bp(e,t,i,a){var l=fa();Gn.flags|=e,l.memoizedState=Sd(1|t,i,void 0,a===void 0?null:a)}function H4(e,t,i,a){var l=Mo();a=a===void 0?null:a;var p=void 0;if(wr!==null){var y=wr.memoizedState;if(p=y.destroy,a!==null&&t2(a,y.deps)){l.memoizedState=Sd(t,i,p,a);return}}Gn.flags|=e,l.memoizedState=Sd(1|t,i,p,a)}function C6(e,t){return Bp(8390656,8,e,t)}function i2(e,t){return H4(2048,8,e,t)}function dv(e,t){return H4(4,2,e,t)}function hv(e,t){return H4(4,4,e,t)}function pv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fv(e,t,i){return i=i!=null?i.concat([e]):null,H4(4,4,pv.bind(null,t,e),i)}function o2(){}function mv(e,t){var i=Mo();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&t2(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function gv(e,t){var i=Mo();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&t2(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function yv(e,t,i){return zl&21?(ta(i,t)||(i=x9(),Gn.lanes|=i,Fl|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ni=!0),e.memoizedState=i)}function sM(e,t){var i=gn;gn=i!==0&&4>i?i:4,e(!0);var a=Qf.transition;Qf.transition={};try{e(!1),t()}finally{gn=i,Qf.transition=a}}function vv(){return Mo().memoizedState}function lM(e,t,i){var a=Rs(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},_v(e))xv(t,i);else if(i=X9(e,t,i,a),i!==null){var l=_i();Jo(i,e,a,l),bv(i,t,a)}}function uM(e,t,i){var a=Rs(e),l={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(_v(e))xv(t,l);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var y=t.lastRenderedState,u=p(y,i);if(l.hasEagerState=!0,l.eagerState=u,ta(u,y)){var M=t.interleaved;M===null?(l.next=l,Xm(t)):(l.next=M.next,M.next=l),t.interleaved=l;return}}catch{}finally{}i=X9(e,t,l,a),i!==null&&(l=_i(),Jo(i,e,a,l),bv(i,t,a))}}function _v(e){var t=e.alternate;return e===Gn||t!==null&&t===Gn}function xv(e,t){ed=m4=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function bv(e,t,i){if(i&4194240){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Fm(e,i)}}var g4={readContext:Co,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useInsertionEffect:ni,useLayoutEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useMutableSource:ni,useSyncExternalStore:ni,useId:ni,unstable_isNewReconciler:!1},cM={readContext:Co,useCallback:function(e,t){return fa().memoizedState=[e,t===void 0?null:t],e},useContext:Co,useEffect:C6,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Bp(4194308,4,pv.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Bp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bp(4,2,e,t)},useMemo:function(e,t){var i=fa();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=fa();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=lM.bind(null,Gn,e),[a.memoizedState,e]},useRef:function(e){var t=fa();return e={current:e},t.memoizedState=e},useState:S6,useDebugValue:o2,useDeferredValue:function(e){return fa().memoizedState=e},useTransition:function(){var e=S6(!1),t=e[0];return e=sM.bind(null,e[1]),fa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=Gn,l=fa();if(Vn){if(i===void 0)throw Error(tt(407));i=i()}else{if(i=t(),Rr===null)throw Error(tt(349));zl&30||ov(a,t,i)}l.memoizedState=i;var p={value:i,getSnapshot:t};return l.queue=p,C6(sv.bind(null,a,p,e),[e]),a.flags|=2048,Sd(9,av.bind(null,a,p,i,t),void 0,null),i},useId:function(){var e=fa(),t=Rr.identifierPrefix;if(Vn){var i=ja,a=$a;i=(a&~(1<<32-Xo(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=bd++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=aM++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dM={readContext:Co,useCallback:mv,useContext:Co,useEffect:i2,useImperativeHandle:fv,useInsertionEffect:dv,useLayoutEffect:hv,useMemo:gv,useReducer:e8,useRef:cv,useState:function(){return e8(wd)},useDebugValue:o2,useDeferredValue:function(e){var t=Mo();return yv(t,wr.memoizedState,e)},useTransition:function(){var e=e8(wd)[0],t=Mo().memoizedState;return[e,t]},useMutableSource:rv,useSyncExternalStore:iv,useId:vv,unstable_isNewReconciler:!1},hM={readContext:Co,useCallback:mv,useContext:Co,useEffect:i2,useImperativeHandle:fv,useInsertionEffect:dv,useLayoutEffect:hv,useMemo:gv,useReducer:t8,useRef:cv,useState:function(){return t8(wd)},useDebugValue:o2,useDeferredValue:function(e){var t=Mo();return wr===null?t.memoizedState=e:yv(t,wr.memoizedState,e)},useTransition:function(){var e=t8(wd)[0],t=Mo().memoizedState;return[e,t]},useMutableSource:rv,useSyncExternalStore:iv,useId:vv,unstable_isNewReconciler:!1};function cu(e,t){try{var i="",a=t;do i+=$S(a),a=a.return;while(a);var l=i}catch(p){l=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:t,stack:l,digest:null}}function n8(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function f5(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var pM=typeof WeakMap=="function"?WeakMap:Map;function wv(e,t,i){i=Va(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){v4||(v4=!0,C5=a),f5(e,t)},i}function Sv(e,t,i){i=Va(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var l=t.value;i.payload=function(){return a(l)},i.callback=function(){f5(e,t)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(i.callback=function(){f5(e,t),typeof a!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),i}function M6(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new pM;var l=new Set;a.set(t,l)}else l=a.get(t),l===void 0&&(l=new Set,a.set(t,l));l.has(i)||(l.add(i),e=kM.bind(null,e,t,i),t.then(e,e))}function E6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function k6(e,t,i,a,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Va(-1,1),t.tag=2,Ls(i,t,1))),i.lanes|=1),e)}var fM=Ja.ReactCurrentOwner,Ni=!1;function vi(e,t,i,a){t.child=e===null?tv(t,null,i,a):lu(t,e.child,i,a)}function A6(e,t,i,a,l){i=i.render;var p=t.ref;return tu(t,l),a=n2(e,t,i,a,p,l),i=r2(),e!==null&&!Ni?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Za(e,t,l)):(Vn&&i&&Um(t),t.flags|=1,vi(e,t,a,l),t.child)}function P6(e,t,i,a,l){if(e===null){var p=i.type;return typeof p=="function"&&!p2(p)&&p.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=p,Cv(e,t,p,a,l)):(e=Wp(i.type,null,a,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!(e.lanes&l)){var y=p.memoizedProps;if(i=i.compare,i=i!==null?i:md,i(y,a)&&e.ref===t.ref)return Za(e,t,l)}return t.flags|=1,e=zs(p,a),e.ref=t.ref,e.return=t,t.child=e}function Cv(e,t,i,a,l){if(e!==null){var p=e.memoizedProps;if(md(p,a)&&e.ref===t.ref)if(Ni=!1,t.pendingProps=a=p,(e.lanes&l)!==0)e.flags&131072&&(Ni=!0);else return t.lanes=e.lanes,Za(e,t,l)}return m5(e,t,i,a,l)}function Mv(e,t,i){var a=t.pendingProps,l=a.children,p=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},In(G1,Xi),Xi|=i;else{if(!(i&1073741824))return e=p!==null?p.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,In(G1,Xi),Xi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=p!==null?p.baseLanes:i,In(G1,Xi),Xi|=a}else p!==null?(a=p.baseLanes|i,t.memoizedState=null):a=i,In(G1,Xi),Xi|=a;return vi(e,t,l,i),t.child}function Ev(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function m5(e,t,i,a,l){var p=Bi(i)?Dl:oi.current;return p=au(t,p),tu(t,l),i=n2(e,t,i,a,p,l),a=r2(),e!==null&&!Ni?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Za(e,t,l)):(Vn&&a&&Um(t),t.flags|=1,vi(e,t,i,l),t.child)}function T6(e,t,i,a,l){if(Bi(i)){var p=!0;l4(t)}else p=!1;if(tu(t,l),t.stateNode===null)$p(e,t),Q9(t,i,a),p5(t,i,a,l),a=!0;else if(e===null){var y=t.stateNode,u=t.memoizedProps;y.props=u;var M=y.context,S=i.contextType;typeof S=="object"&&S!==null?S=Co(S):(S=Bi(i)?Dl:oi.current,S=au(t,S));var P=i.getDerivedStateFromProps,F=typeof P=="function"||typeof y.getSnapshotBeforeUpdate=="function";F||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(u!==a||M!==S)&&b6(t,y,a,S),bs=!1;var R=t.memoizedState;y.state=R,p4(t,a,y,l),M=t.memoizedState,u!==a||R!==M||Oi.current||bs?(typeof P=="function"&&(h5(t,i,P,a),M=t.memoizedState),(u=bs||x6(t,i,u,a,R,M,S))?(F||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=M),y.props=a,y.state=M,y.context=S,a=u):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{y=t.stateNode,J9(e,t),u=t.memoizedProps,S=t.type===t.elementType?u:Uo(t.type,u),y.props=S,F=t.pendingProps,R=y.context,M=i.contextType,typeof M=="object"&&M!==null?M=Co(M):(M=Bi(i)?Dl:oi.current,M=au(t,M));var J=i.getDerivedStateFromProps;(P=typeof J=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(u!==F||R!==M)&&b6(t,y,a,M),bs=!1,R=t.memoizedState,y.state=R,p4(t,a,y,l);var X=t.memoizedState;u!==F||R!==X||Oi.current||bs?(typeof J=="function"&&(h5(t,i,J,a),X=t.memoizedState),(S=bs||x6(t,i,S,a,R,X,M)||!1)?(P||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(a,X,M),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(a,X,M)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||u===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=X),y.props=a,y.state=X,y.context=M,a=S):(typeof y.componentDidUpdate!="function"||u===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),a=!1)}return g5(e,t,i,a,p,l)}function g5(e,t,i,a,l,p){Ev(e,t);var y=(t.flags&128)!==0;if(!a&&!y)return l&&m6(t,i,!1),Za(e,t,p);a=t.stateNode,fM.current=t;var u=y&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&y?(t.child=lu(t,e.child,null,p),t.child=lu(t,null,u,p)):vi(e,t,u,p),t.memoizedState=a.state,l&&m6(t,i,!0),t.child}function kv(e){var t=e.stateNode;t.pendingContext?f6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&f6(e,t.context,!1),Ym(e,t.containerInfo)}function I6(e,t,i,a,l){return su(),Zm(l),t.flags|=256,vi(e,t,i,a),t.child}var y5={dehydrated:null,treeContext:null,retryLane:0};function v5(e){return{baseLanes:e,cachePool:null,transitions:null}}function Av(e,t,i){var a=t.pendingProps,l=Zn.current,p=!1,y=(t.flags&128)!==0,u;if((u=y)||(u=e!==null&&e.memoizedState===null?!1:(l&2)!==0),u?(p=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),In(Zn,l&1),e===null)return c5(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(y=a.children,e=a.fallback,p?(a=t.mode,p=t.child,y={mode:"hidden",children:y},!(a&1)&&p!==null?(p.childLanes=0,p.pendingProps=y):p=q4(y,a,0,null),e=Tl(e,a,i,null),p.return=t,e.return=t,p.sibling=e,t.child=p,t.child.memoizedState=v5(i),t.memoizedState=y5,e):a2(t,y));if(l=e.memoizedState,l!==null&&(u=l.dehydrated,u!==null))return mM(e,t,y,a,u,l,i);if(p){p=a.fallback,y=t.mode,l=e.child,u=l.sibling;var M={mode:"hidden",children:a.children};return!(y&1)&&t.child!==l?(a=t.child,a.childLanes=0,a.pendingProps=M,t.deletions=null):(a=zs(l,M),a.subtreeFlags=l.subtreeFlags&14680064),u!==null?p=zs(u,p):(p=Tl(p,y,i,null),p.flags|=2),p.return=t,a.return=t,a.sibling=p,t.child=a,a=p,p=t.child,y=e.child.memoizedState,y=y===null?v5(i):{baseLanes:y.baseLanes|i,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=e.childLanes&~i,t.memoizedState=y5,a}return p=e.child,e=p.sibling,a=zs(p,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function a2(e,t){return t=q4({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pp(e,t,i,a){return a!==null&&Zm(a),lu(t,e.child,null,i),e=a2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mM(e,t,i,a,l,p,y){if(i)return t.flags&256?(t.flags&=-257,a=n8(Error(tt(422))),pp(e,t,y,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(p=a.fallback,l=t.mode,a=q4({mode:"visible",children:a.children},l,0,null),p=Tl(p,l,y,null),p.flags|=2,a.return=t,p.return=t,a.sibling=p,t.child=a,t.mode&1&&lu(t,e.child,null,y),t.child.memoizedState=v5(y),t.memoizedState=y5,p);if(!(t.mode&1))return pp(e,t,y,null);if(l.data==="$!"){if(a=l.nextSibling&&l.nextSibling.dataset,a)var u=a.dgst;return a=u,p=Error(tt(419)),a=n8(p,a,void 0),pp(e,t,y,a)}if(u=(y&e.childLanes)!==0,Ni||u){if(a=Rr,a!==null){switch(y&-y){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(a.suspendedLanes|y)?0:l,l!==0&&l!==p.retryLane&&(p.retryLane=l,Ha(e,l),Jo(a,e,l,-1))}return h2(),a=n8(Error(tt(421))),pp(e,t,y,a)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=AM.bind(null,e),l._reactRetry=t,null):(e=p.treeContext,Yi=Is(l.nextSibling),no=t,Vn=!0,qo=null,e!==null&&(xo[bo++]=$a,xo[bo++]=ja,xo[bo++]=Rl,$a=e.id,ja=e.overflow,Rl=t),t=a2(t,a.children),t.flags|=4096,t)}function L6(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),d5(e.return,t,i)}function r8(e,t,i,a,l){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:l}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=i,p.tailMode=l)}function Pv(e,t,i){var a=t.pendingProps,l=a.revealOrder,p=a.tail;if(vi(e,t,a.children,i),a=Zn.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&L6(e,i,t);else if(e.tag===19)L6(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(In(Zn,a),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(i=t.child,l=null;i!==null;)e=i.alternate,e!==null&&f4(e)===null&&(l=i),i=i.sibling;i=l,i===null?(l=t.child,t.child=null):(l=i.sibling,i.sibling=null),r8(t,!1,l,i,p);break;case"backwards":for(i=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&f4(e)===null){t.child=l;break}e=l.sibling,l.sibling=i,i=l,l=e}r8(t,!0,i,null,p);break;case"together":r8(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $p(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Za(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Fl|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(tt(153));if(t.child!==null){for(e=t.child,i=zs(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=zs(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function gM(e,t,i){switch(t.tag){case 3:kv(t),su();break;case 5:nv(t);break;case 1:Bi(t.type)&&l4(t);break;case 4:Ym(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,l=t.memoizedProps.value;In(d4,a._currentValue),a._currentValue=l;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(In(Zn,Zn.current&1),t.flags|=128,null):i&t.child.childLanes?Av(e,t,i):(In(Zn,Zn.current&1),e=Za(e,t,i),e!==null?e.sibling:null);In(Zn,Zn.current&1);break;case 19:if(a=(i&t.childLanes)!==0,e.flags&128){if(a)return Pv(e,t,i);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),In(Zn,Zn.current),a)break;return null;case 22:case 23:return t.lanes=0,Mv(e,t,i)}return Za(e,t,i)}var Tv,_5,Iv,Lv;Tv=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};_5=function(){};Iv=function(e,t,i,a){var l=e.memoizedProps;if(l!==a){e=t.stateNode,Cl(va.current);var p=null;switch(i){case"input":l=j8(e,l),a=j8(e,a),p=[];break;case"select":l=qn({},l,{value:void 0}),a=qn({},a,{value:void 0}),p=[];break;case"textarea":l=U8(e,l),a=U8(e,a),p=[];break;default:typeof l.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=a4)}Z8(i,a);var y;i=null;for(S in l)if(!a.hasOwnProperty(S)&&l.hasOwnProperty(S)&&l[S]!=null)if(S==="style"){var u=l[S];for(y in u)u.hasOwnProperty(y)&&(i||(i={}),i[y]="")}else S!=="dangerouslySetInnerHTML"&&S!=="children"&&S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(ld.hasOwnProperty(S)?p||(p=[]):(p=p||[]).push(S,null));for(S in a){var M=a[S];if(u=l!=null?l[S]:void 0,a.hasOwnProperty(S)&&M!==u&&(M!=null||u!=null))if(S==="style")if(u){for(y in u)!u.hasOwnProperty(y)||M&&M.hasOwnProperty(y)||(i||(i={}),i[y]="");for(y in M)M.hasOwnProperty(y)&&u[y]!==M[y]&&(i||(i={}),i[y]=M[y])}else i||(p||(p=[]),p.push(S,i)),i=M;else S==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,u=u?u.__html:void 0,M!=null&&u!==M&&(p=p||[]).push(S,M)):S==="children"?typeof M!="string"&&typeof M!="number"||(p=p||[]).push(S,""+M):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&(ld.hasOwnProperty(S)?(M!=null&&S==="onScroll"&&zn("scroll",e),p||u===M||(p=[])):(p=p||[]).push(S,M))}i&&(p=p||[]).push("style",i);var S=p;(t.updateQueue=S)&&(t.flags|=4)}};Lv=function(e,t,i,a){i!==a&&(t.flags|=4)};function Nc(e,t){if(!Vn)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ri(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var l=e.child;l!==null;)i|=l.lanes|l.childLanes,a|=l.subtreeFlags&14680064,a|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)i|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function yM(e,t,i){var a=t.pendingProps;switch(Hm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(t),null;case 1:return Bi(t.type)&&s4(),ri(t),null;case 3:return a=t.stateNode,uu(),Fn(Oi),Fn(oi),e2(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(dp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qo!==null&&(k5(qo),qo=null))),_5(e,t),ri(t),null;case 5:Qm(t);var l=Cl(xd.current);if(i=t.type,e!==null&&t.stateNode!=null)Iv(e,t,i,a,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(tt(166));return ri(t),null}if(e=Cl(va.current),dp(t)){a=t.stateNode,i=t.type;var p=t.memoizedProps;switch(a[ma]=t,a[vd]=p,e=(t.mode&1)!==0,i){case"dialog":zn("cancel",a),zn("close",a);break;case"iframe":case"object":case"embed":zn("load",a);break;case"video":case"audio":for(l=0;l<Zc.length;l++)zn(Zc[l],a);break;case"source":zn("error",a);break;case"img":case"image":case"link":zn("error",a),zn("load",a);break;case"details":zn("toggle",a);break;case"input":j3(a,p),zn("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!p.multiple},zn("invalid",a);break;case"textarea":W3(a,p),zn("invalid",a)}Z8(i,p),l=null;for(var y in p)if(p.hasOwnProperty(y)){var u=p[y];y==="children"?typeof u=="string"?a.textContent!==u&&(p.suppressHydrationWarning!==!0&&cp(a.textContent,u,e),l=["children",u]):typeof u=="number"&&a.textContent!==""+u&&(p.suppressHydrationWarning!==!0&&cp(a.textContent,u,e),l=["children",""+u]):ld.hasOwnProperty(y)&&u!=null&&y==="onScroll"&&zn("scroll",a)}switch(i){case"input":np(a),V3(a,p,!0);break;case"textarea":np(a),U3(a);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(a.onclick=a4)}a=l,t.updateQueue=a,a!==null&&(t.flags|=4)}else{y=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=o9(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=y.createElement(i,{is:a.is}):(e=y.createElement(i),i==="select"&&(y=e,a.multiple?y.multiple=!0:a.size&&(y.size=a.size))):e=y.createElementNS(e,i),e[ma]=t,e[vd]=a,Tv(e,t,!1,!1),t.stateNode=e;e:{switch(y=G8(i,a),i){case"dialog":zn("cancel",e),zn("close",e),l=a;break;case"iframe":case"object":case"embed":zn("load",e),l=a;break;case"video":case"audio":for(l=0;l<Zc.length;l++)zn(Zc[l],e);l=a;break;case"source":zn("error",e),l=a;break;case"img":case"image":case"link":zn("error",e),zn("load",e),l=a;break;case"details":zn("toggle",e),l=a;break;case"input":j3(e,a),l=j8(e,a),zn("invalid",e);break;case"option":l=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},l=qn({},a,{value:void 0}),zn("invalid",e);break;case"textarea":W3(e,a),l=U8(e,a),zn("invalid",e);break;default:l=a}Z8(i,l),u=l;for(p in u)if(u.hasOwnProperty(p)){var M=u[p];p==="style"?l9(e,M):p==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&a9(e,M)):p==="children"?typeof M=="string"?(i!=="textarea"||M!=="")&&ud(e,M):typeof M=="number"&&ud(e,""+M):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(ld.hasOwnProperty(p)?M!=null&&p==="onScroll"&&zn("scroll",e):M!=null&&Tm(e,p,M,y))}switch(i){case"input":np(e),V3(e,a,!1);break;case"textarea":np(e),U3(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Ns(a.value));break;case"select":e.multiple=!!a.multiple,p=a.value,p!=null?J1(e,!!a.multiple,p,!1):a.defaultValue!=null&&J1(e,!!a.multiple,a.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=a4)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ri(t),null;case 6:if(e&&t.stateNode!=null)Lv(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(tt(166));if(i=Cl(xd.current),Cl(va.current),dp(t)){if(a=t.stateNode,i=t.memoizedProps,a[ma]=t,(p=a.nodeValue!==i)&&(e=no,e!==null))switch(e.tag){case 3:cp(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cp(a.nodeValue,i,(e.mode&1)!==0)}p&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[ma]=t,t.stateNode=a}return ri(t),null;case 13:if(Fn(Zn),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Vn&&Yi!==null&&t.mode&1&&!(t.flags&128))K9(),su(),t.flags|=98560,p=!1;else if(p=dp(t),a!==null&&a.dehydrated!==null){if(e===null){if(!p)throw Error(tt(318));if(p=t.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(tt(317));p[ma]=t}else su(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ri(t),p=!1}else qo!==null&&(k5(qo),qo=null),p=!0;if(!p)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Zn.current&1?Sr===0&&(Sr=3):h2())),t.updateQueue!==null&&(t.flags|=4),ri(t),null);case 4:return uu(),_5(e,t),e===null&&gd(t.stateNode.containerInfo),ri(t),null;case 10:return Km(t.type._context),ri(t),null;case 17:return Bi(t.type)&&s4(),ri(t),null;case 19:if(Fn(Zn),p=t.memoizedState,p===null)return ri(t),null;if(a=(t.flags&128)!==0,y=p.rendering,y===null)if(a)Nc(p,!1);else{if(Sr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(y=f4(e),y!==null){for(t.flags|=128,Nc(p,!1),a=y.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)p=i,e=a,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,e=y.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return In(Zn,Zn.current&1|2),t.child}e=e.sibling}p.tail!==null&&pr()>du&&(t.flags|=128,a=!0,Nc(p,!1),t.lanes=4194304)}else{if(!a)if(e=f4(y),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Nc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Vn)return ri(t),null}else 2*pr()-p.renderingStartTime>du&&i!==1073741824&&(t.flags|=128,a=!0,Nc(p,!1),t.lanes=4194304);p.isBackwards?(y.sibling=t.child,t.child=y):(i=p.last,i!==null?i.sibling=y:t.child=y,p.last=y)}return p.tail!==null?(t=p.tail,p.rendering=t,p.tail=t.sibling,p.renderingStartTime=pr(),t.sibling=null,i=Zn.current,In(Zn,a?i&1|2:i&1),t):(ri(t),null);case 22:case 23:return d2(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Xi&1073741824&&(ri(t),t.subtreeFlags&6&&(t.flags|=8192)):ri(t),null;case 24:return null;case 25:return null}throw Error(tt(156,t.tag))}function vM(e,t){switch(Hm(t),t.tag){case 1:return Bi(t.type)&&s4(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return uu(),Fn(Oi),Fn(oi),e2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qm(t),null;case 13:if(Fn(Zn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(tt(340));su()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fn(Zn),null;case 4:return uu(),null;case 10:return Km(t.type._context),null;case 22:case 23:return d2(),null;case 24:return null;default:return null}}var fp=!1,ii=!1,_M=typeof WeakSet=="function"?WeakSet:Set,bt=null;function Z1(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Qn(e,t,a)}else i.current=null}function x5(e,t,i){try{i()}catch(a){Qn(e,t,a)}}var D6=!1;function xM(e,t){if(r5=r4,e=F9(),Wm(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var l=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var y=0,u=-1,M=-1,S=0,P=0,F=e,R=null;t:for(;;){for(var J;F!==i||l!==0&&F.nodeType!==3||(u=y+l),F!==p||a!==0&&F.nodeType!==3||(M=y+a),F.nodeType===3&&(y+=F.nodeValue.length),(J=F.firstChild)!==null;)R=F,F=J;for(;;){if(F===e)break t;if(R===i&&++S===l&&(u=y),R===p&&++P===a&&(M=y),(J=F.nextSibling)!==null)break;F=R,R=F.parentNode}F=J}i=u===-1||M===-1?null:{start:u,end:M}}else i=null}i=i||{start:0,end:0}}else i=null;for(i5={focusedElem:e,selectionRange:i},r4=!1,bt=t;bt!==null;)if(t=bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bt=e;else for(;bt!==null;){t=bt;try{var X=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var G=X.memoizedProps,K=X.memoizedState,O=t.stateNode,B=O.getSnapshotBeforeUpdate(t.elementType===t.type?G:Uo(t.type,G),K);O.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var V=t.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(ne){Qn(t,t.return,ne)}if(e=t.sibling,e!==null){e.return=t.return,bt=e;break}bt=t.return}return X=D6,D6=!1,X}function td(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&e)===e){var p=l.destroy;l.destroy=void 0,p!==void 0&&x5(t,i,p)}l=l.next}while(l!==a)}}function Z4(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function b5(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Dv(e){var t=e.alternate;t!==null&&(e.alternate=null,Dv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ma],delete t[vd],delete t[s5],delete t[nM],delete t[rM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rv(e){return e.tag===5||e.tag===3||e.tag===4}function R6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function w5(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=a4));else if(a!==4&&(e=e.child,e!==null))for(w5(e,t,i),e=e.sibling;e!==null;)w5(e,t,i),e=e.sibling}function S5(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(S5(e,t,i),e=e.sibling;e!==null;)S5(e,t,i),e=e.sibling}var Ur=null,Ho=!1;function _s(e,t,i){for(i=i.child;i!==null;)zv(e,t,i),i=i.sibling}function zv(e,t,i){if(ya&&typeof ya.onCommitFiberUnmount=="function")try{ya.onCommitFiberUnmount(O4,i)}catch{}switch(i.tag){case 5:ii||Z1(i,t);case 6:var a=Ur,l=Ho;Ur=null,_s(e,t,i),Ur=a,Ho=l,Ur!==null&&(Ho?(e=Ur,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Ur.removeChild(i.stateNode));break;case 18:Ur!==null&&(Ho?(e=Ur,i=i.stateNode,e.nodeType===8?Xf(e.parentNode,i):e.nodeType===1&&Xf(e,i),pd(e)):Xf(Ur,i.stateNode));break;case 4:a=Ur,l=Ho,Ur=i.stateNode.containerInfo,Ho=!0,_s(e,t,i),Ur=a,Ho=l;break;case 0:case 11:case 14:case 15:if(!ii&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){l=a=a.next;do{var p=l,y=p.destroy;p=p.tag,y!==void 0&&(p&2||p&4)&&x5(i,t,y),l=l.next}while(l!==a)}_s(e,t,i);break;case 1:if(!ii&&(Z1(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(u){Qn(i,t,u)}_s(e,t,i);break;case 21:_s(e,t,i);break;case 22:i.mode&1?(ii=(a=ii)||i.memoizedState!==null,_s(e,t,i),ii=a):_s(e,t,i);break;default:_s(e,t,i)}}function z6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new _M),t.forEach(function(a){var l=PM.bind(null,e,a);i.has(a)||(i.add(a),a.then(l,l))})}}function Vo(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];try{var p=e,y=t,u=y;e:for(;u!==null;){switch(u.tag){case 5:Ur=u.stateNode,Ho=!1;break e;case 3:Ur=u.stateNode.containerInfo,Ho=!0;break e;case 4:Ur=u.stateNode.containerInfo,Ho=!0;break e}u=u.return}if(Ur===null)throw Error(tt(160));zv(p,y,l),Ur=null,Ho=!1;var M=l.alternate;M!==null&&(M.return=null),l.return=null}catch(S){Qn(l,t,S)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fv(t,e),t=t.sibling}function Fv(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vo(t,e),pa(e),a&4){try{td(3,e,e.return),Z4(3,e)}catch(G){Qn(e,e.return,G)}try{td(5,e,e.return)}catch(G){Qn(e,e.return,G)}}break;case 1:Vo(t,e),pa(e),a&512&&i!==null&&Z1(i,i.return);break;case 5:if(Vo(t,e),pa(e),a&512&&i!==null&&Z1(i,i.return),e.flags&32){var l=e.stateNode;try{ud(l,"")}catch(G){Qn(e,e.return,G)}}if(a&4&&(l=e.stateNode,l!=null)){var p=e.memoizedProps,y=i!==null?i.memoizedProps:p,u=e.type,M=e.updateQueue;if(e.updateQueue=null,M!==null)try{u==="input"&&p.type==="radio"&&p.name!=null&&r9(l,p),G8(u,y);var S=G8(u,p);for(y=0;y<M.length;y+=2){var P=M[y],F=M[y+1];P==="style"?l9(l,F):P==="dangerouslySetInnerHTML"?a9(l,F):P==="children"?ud(l,F):Tm(l,P,F,S)}switch(u){case"input":V8(l,p);break;case"textarea":i9(l,p);break;case"select":var R=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!p.multiple;var J=p.value;J!=null?J1(l,!!p.multiple,J,!1):R!==!!p.multiple&&(p.defaultValue!=null?J1(l,!!p.multiple,p.defaultValue,!0):J1(l,!!p.multiple,p.multiple?[]:"",!1))}l[vd]=p}catch(G){Qn(e,e.return,G)}}break;case 6:if(Vo(t,e),pa(e),a&4){if(e.stateNode===null)throw Error(tt(162));l=e.stateNode,p=e.memoizedProps;try{l.nodeValue=p}catch(G){Qn(e,e.return,G)}}break;case 3:if(Vo(t,e),pa(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{pd(t.containerInfo)}catch(G){Qn(e,e.return,G)}break;case 4:Vo(t,e),pa(e);break;case 13:Vo(t,e),pa(e),l=e.child,l.flags&8192&&(p=l.memoizedState!==null,l.stateNode.isHidden=p,!p||l.alternate!==null&&l.alternate.memoizedState!==null||(u2=pr())),a&4&&z6(e);break;case 22:if(P=i!==null&&i.memoizedState!==null,e.mode&1?(ii=(S=ii)||P,Vo(t,e),ii=S):Vo(t,e),pa(e),a&8192){if(S=e.memoizedState!==null,(e.stateNode.isHidden=S)&&!P&&e.mode&1)for(bt=e,P=e.child;P!==null;){for(F=bt=P;bt!==null;){switch(R=bt,J=R.child,R.tag){case 0:case 11:case 14:case 15:td(4,R,R.return);break;case 1:Z1(R,R.return);var X=R.stateNode;if(typeof X.componentWillUnmount=="function"){a=R,i=R.return;try{t=a,X.props=t.memoizedProps,X.state=t.memoizedState,X.componentWillUnmount()}catch(G){Qn(a,i,G)}}break;case 5:Z1(R,R.return);break;case 22:if(R.memoizedState!==null){N6(F);continue}}J!==null?(J.return=R,bt=J):N6(F)}P=P.sibling}e:for(P=null,F=e;;){if(F.tag===5){if(P===null){P=F;try{l=F.stateNode,S?(p=l.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(u=F.stateNode,M=F.memoizedProps.style,y=M!=null&&M.hasOwnProperty("display")?M.display:null,u.style.display=s9("display",y))}catch(G){Qn(e,e.return,G)}}}else if(F.tag===6){if(P===null)try{F.stateNode.nodeValue=S?"":F.memoizedProps}catch(G){Qn(e,e.return,G)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===e)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===e)break e;for(;F.sibling===null;){if(F.return===null||F.return===e)break e;P===F&&(P=null),F=F.return}P===F&&(P=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:Vo(t,e),pa(e),a&4&&z6(e);break;case 21:break;default:Vo(t,e),pa(e)}}function pa(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Rv(i)){var a=i;break e}i=i.return}throw Error(tt(160))}switch(a.tag){case 5:var l=a.stateNode;a.flags&32&&(ud(l,""),a.flags&=-33);var p=R6(e);S5(e,p,l);break;case 3:case 4:var y=a.stateNode.containerInfo,u=R6(e);w5(e,u,y);break;default:throw Error(tt(161))}}catch(M){Qn(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bM(e,t,i){bt=e,Nv(e)}function Nv(e,t,i){for(var a=(e.mode&1)!==0;bt!==null;){var l=bt,p=l.child;if(l.tag===22&&a){var y=l.memoizedState!==null||fp;if(!y){var u=l.alternate,M=u!==null&&u.memoizedState!==null||ii;u=fp;var S=ii;if(fp=y,(ii=M)&&!S)for(bt=l;bt!==null;)y=bt,M=y.child,y.tag===22&&y.memoizedState!==null?O6(l):M!==null?(M.return=y,bt=M):O6(l);for(;p!==null;)bt=p,Nv(p),p=p.sibling;bt=l,fp=u,ii=S}F6(e)}else l.subtreeFlags&8772&&p!==null?(p.return=l,bt=p):F6(e)}}function F6(e){for(;bt!==null;){var t=bt;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ii||Z4(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!ii)if(i===null)a.componentDidMount();else{var l=t.elementType===t.type?i.memoizedProps:Uo(t.type,i.memoizedProps);a.componentDidUpdate(l,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var p=t.updateQueue;p!==null&&_6(t,p,a);break;case 3:var y=t.updateQueue;if(y!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}_6(t,y,i)}break;case 5:var u=t.stateNode;if(i===null&&t.flags&4){i=u;var M=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&i.focus();break;case"img":M.src&&(i.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var S=t.alternate;if(S!==null){var P=S.memoizedState;if(P!==null){var F=P.dehydrated;F!==null&&pd(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}ii||t.flags&512&&b5(t)}catch(R){Qn(t,t.return,R)}}if(t===e){bt=null;break}if(i=t.sibling,i!==null){i.return=t.return,bt=i;break}bt=t.return}}function N6(e){for(;bt!==null;){var t=bt;if(t===e){bt=null;break}var i=t.sibling;if(i!==null){i.return=t.return,bt=i;break}bt=t.return}}function O6(e){for(;bt!==null;){var t=bt;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Z4(4,t)}catch(M){Qn(t,i,M)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var l=t.return;try{a.componentDidMount()}catch(M){Qn(t,l,M)}}var p=t.return;try{b5(t)}catch(M){Qn(t,p,M)}break;case 5:var y=t.return;try{b5(t)}catch(M){Qn(t,y,M)}}}catch(M){Qn(t,t.return,M)}if(t===e){bt=null;break}var u=t.sibling;if(u!==null){u.return=t.return,bt=u;break}bt=t.return}}var wM=Math.ceil,y4=Ja.ReactCurrentDispatcher,s2=Ja.ReactCurrentOwner,So=Ja.ReactCurrentBatchConfig,sn=0,Rr=null,mr=null,Hr=0,Xi=0,G1=Hs(0),Sr=0,Cd=null,Fl=0,G4=0,l2=0,nd=null,Fi=null,u2=0,du=1/0,Na=null,v4=!1,C5=null,Ds=null,mp=!1,Ms=null,_4=0,rd=0,M5=null,jp=-1,Vp=0;function _i(){return sn&6?pr():jp!==-1?jp:jp=pr()}function Rs(e){return e.mode&1?sn&2&&Hr!==0?Hr&-Hr:oM.transition!==null?(Vp===0&&(Vp=x9()),Vp):(e=gn,e!==0||(e=window.event,e=e===void 0?16:k9(e.type)),e):1}function Jo(e,t,i,a){if(50<rd)throw rd=0,M5=null,Error(tt(185));Fd(e,i,a),(!(sn&2)||e!==Rr)&&(e===Rr&&(!(sn&2)&&(G4|=i),Sr===4&&Ss(e,Hr)),$i(e,a),i===1&&sn===0&&!(t.mode&1)&&(du=pr()+500,W4&&Zs()))}function $i(e,t){var i=e.callbackNode;oC(e,t);var a=n4(e,e===Rr?Hr:0);if(a===0)i!==null&&G3(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&G3(i),t===1)e.tag===0?iM(B6.bind(null,e)):Z9(B6.bind(null,e)),eM(function(){!(sn&6)&&Zs()}),i=null;else{switch(b9(a)){case 1:i=zm;break;case 4:i=v9;break;case 16:i=t4;break;case 536870912:i=_9;break;default:i=t4}i=Hv(i,Ov.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Ov(e,t){if(jp=-1,Vp=0,sn&6)throw Error(tt(327));var i=e.callbackNode;if(nu()&&e.callbackNode!==i)return null;var a=n4(e,e===Rr?Hr:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=x4(e,a);else{t=a;var l=sn;sn|=2;var p=$v();(Rr!==e||Hr!==t)&&(Na=null,du=pr()+500,Pl(e,t));do try{MM();break}catch(u){Bv(e,u)}while(1);qm(),y4.current=p,sn=l,mr!==null?t=0:(Rr=null,Hr=0,t=Sr)}if(t!==0){if(t===2&&(l=Y8(e),l!==0&&(a=l,t=E5(e,l))),t===1)throw i=Cd,Pl(e,0),Ss(e,a),$i(e,pr()),i;if(t===6)Ss(e,a);else{if(l=e.current.alternate,!(a&30)&&!SM(l)&&(t=x4(e,a),t===2&&(p=Y8(e),p!==0&&(a=p,t=E5(e,p))),t===1))throw i=Cd,Pl(e,0),Ss(e,a),$i(e,pr()),i;switch(e.finishedWork=l,e.finishedLanes=a,t){case 0:case 1:throw Error(tt(345));case 2:yl(e,Fi,Na);break;case 3:if(Ss(e,a),(a&130023424)===a&&(t=u2+500-pr(),10<t)){if(n4(e,0)!==0)break;if(l=e.suspendedLanes,(l&a)!==a){_i(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=a5(yl.bind(null,e,Fi,Na),t);break}yl(e,Fi,Na);break;case 4:if(Ss(e,a),(a&4194240)===a)break;for(t=e.eventTimes,l=-1;0<a;){var y=31-Xo(a);p=1<<y,y=t[y],y>l&&(l=y),a&=~p}if(a=l,a=pr()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*wM(a/1960))-a,10<a){e.timeoutHandle=a5(yl.bind(null,e,Fi,Na),a);break}yl(e,Fi,Na);break;case 5:yl(e,Fi,Na);break;default:throw Error(tt(329))}}}return $i(e,pr()),e.callbackNode===i?Ov.bind(null,e):null}function E5(e,t){var i=nd;return e.current.memoizedState.isDehydrated&&(Pl(e,t).flags|=256),e=x4(e,t),e!==2&&(t=Fi,Fi=i,t!==null&&k5(t)),e}function k5(e){Fi===null?Fi=e:Fi.push.apply(Fi,e)}function SM(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var l=i[a],p=l.getSnapshot;l=l.value;try{if(!ta(p(),l))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ss(e,t){for(t&=~l2,t&=~G4,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Xo(t),a=1<<i;e[i]=-1,t&=~a}}function B6(e){if(sn&6)throw Error(tt(327));nu();var t=n4(e,0);if(!(t&1))return $i(e,pr()),null;var i=x4(e,t);if(e.tag!==0&&i===2){var a=Y8(e);a!==0&&(t=a,i=E5(e,a))}if(i===1)throw i=Cd,Pl(e,0),Ss(e,t),$i(e,pr()),i;if(i===6)throw Error(tt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yl(e,Fi,Na),$i(e,pr()),null}function c2(e,t){var i=sn;sn|=1;try{return e(t)}finally{sn=i,sn===0&&(du=pr()+500,W4&&Zs())}}function Nl(e){Ms!==null&&Ms.tag===0&&!(sn&6)&&nu();var t=sn;sn|=1;var i=So.transition,a=gn;try{if(So.transition=null,gn=1,e)return e()}finally{gn=a,So.transition=i,sn=t,!(sn&6)&&Zs()}}function d2(){Xi=G1.current,Fn(G1)}function Pl(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,QC(i)),mr!==null)for(i=mr.return;i!==null;){var a=i;switch(Hm(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&s4();break;case 3:uu(),Fn(Oi),Fn(oi),e2();break;case 5:Qm(a);break;case 4:uu();break;case 13:Fn(Zn);break;case 19:Fn(Zn);break;case 10:Km(a.type._context);break;case 22:case 23:d2()}i=i.return}if(Rr=e,mr=e=zs(e.current,null),Hr=Xi=t,Sr=0,Cd=null,l2=G4=Fl=0,Fi=nd=null,Sl!==null){for(t=0;t<Sl.length;t++)if(i=Sl[t],a=i.interleaved,a!==null){i.interleaved=null;var l=a.next,p=i.pending;if(p!==null){var y=p.next;p.next=l,a.next=y}i.pending=a}Sl=null}return e}function Bv(e,t){do{var i=mr;try{if(qm(),Op.current=g4,m4){for(var a=Gn.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}m4=!1}if(zl=0,Dr=wr=Gn=null,ed=!1,bd=0,s2.current=null,i===null||i.return===null){Sr=1,Cd=t,mr=null;break}e:{var p=e,y=i.return,u=i,M=t;if(t=Hr,u.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var S=M,P=u,F=P.tag;if(!(P.mode&1)&&(F===0||F===11||F===15)){var R=P.alternate;R?(P.updateQueue=R.updateQueue,P.memoizedState=R.memoizedState,P.lanes=R.lanes):(P.updateQueue=null,P.memoizedState=null)}var J=E6(y);if(J!==null){J.flags&=-257,k6(J,y,u,p,t),J.mode&1&&M6(p,S,t),t=J,M=S;var X=t.updateQueue;if(X===null){var G=new Set;G.add(M),t.updateQueue=G}else X.add(M);break e}else{if(!(t&1)){M6(p,S,t),h2();break e}M=Error(tt(426))}}else if(Vn&&u.mode&1){var K=E6(y);if(K!==null){!(K.flags&65536)&&(K.flags|=256),k6(K,y,u,p,t),Zm(cu(M,u));break e}}p=M=cu(M,u),Sr!==4&&(Sr=2),nd===null?nd=[p]:nd.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,t&=-t,p.lanes|=t;var O=wv(p,M,t);v6(p,O);break e;case 1:u=M;var B=p.type,V=p.stateNode;if(!(p.flags&128)&&(typeof B.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Ds===null||!Ds.has(V)))){p.flags|=65536,t&=-t,p.lanes|=t;var ne=Sv(p,u,t);v6(p,ne);break e}}p=p.return}while(p!==null)}Vv(i)}catch(he){t=he,mr===i&&i!==null&&(mr=i=i.return);continue}break}while(1)}function $v(){var e=y4.current;return y4.current=g4,e===null?g4:e}function h2(){(Sr===0||Sr===3||Sr===2)&&(Sr=4),Rr===null||!(Fl&268435455)&&!(G4&268435455)||Ss(Rr,Hr)}function x4(e,t){var i=sn;sn|=2;var a=$v();(Rr!==e||Hr!==t)&&(Na=null,Pl(e,t));do try{CM();break}catch(l){Bv(e,l)}while(1);if(qm(),sn=i,y4.current=a,mr!==null)throw Error(tt(261));return Rr=null,Hr=0,Sr}function CM(){for(;mr!==null;)jv(mr)}function MM(){for(;mr!==null&&!XS();)jv(mr)}function jv(e){var t=Uv(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,t===null?Vv(e):mr=t,s2.current=null}function Vv(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=vM(i,t),i!==null){i.flags&=32767,mr=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Sr=6,mr=null;return}}else if(i=yM(i,t,Xi),i!==null){mr=i;return}if(t=t.sibling,t!==null){mr=t;return}mr=t=e}while(t!==null);Sr===0&&(Sr=5)}function yl(e,t,i){var a=gn,l=So.transition;try{So.transition=null,gn=1,EM(e,t,i,a)}finally{So.transition=l,gn=a}return null}function EM(e,t,i,a){do nu();while(Ms!==null);if(sn&6)throw Error(tt(327));i=e.finishedWork;var l=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(tt(177));e.callbackNode=null,e.callbackPriority=0;var p=i.lanes|i.childLanes;if(aC(e,p),e===Rr&&(mr=Rr=null,Hr=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||mp||(mp=!0,Hv(t4,function(){return nu(),null})),p=(i.flags&15990)!==0,i.subtreeFlags&15990||p){p=So.transition,So.transition=null;var y=gn;gn=1;var u=sn;sn|=4,s2.current=null,xM(e,i),Fv(i,e),ZC(i5),r4=!!r5,i5=r5=null,e.current=i,bM(i),JS(),sn=u,gn=y,So.transition=p}else e.current=i;if(mp&&(mp=!1,Ms=e,_4=l),p=e.pendingLanes,p===0&&(Ds=null),eC(i.stateNode),$i(e,pr()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)l=t[i],a(l.value,{componentStack:l.stack,digest:l.digest});if(v4)throw v4=!1,e=C5,C5=null,e;return _4&1&&e.tag!==0&&nu(),p=e.pendingLanes,p&1?e===M5?rd++:(rd=0,M5=e):rd=0,Zs(),null}function nu(){if(Ms!==null){var e=b9(_4),t=So.transition,i=gn;try{if(So.transition=null,gn=16>e?16:e,Ms===null)var a=!1;else{if(e=Ms,Ms=null,_4=0,sn&6)throw Error(tt(331));var l=sn;for(sn|=4,bt=e.current;bt!==null;){var p=bt,y=p.child;if(bt.flags&16){var u=p.deletions;if(u!==null){for(var M=0;M<u.length;M++){var S=u[M];for(bt=S;bt!==null;){var P=bt;switch(P.tag){case 0:case 11:case 15:td(8,P,p)}var F=P.child;if(F!==null)F.return=P,bt=F;else for(;bt!==null;){P=bt;var R=P.sibling,J=P.return;if(Dv(P),P===S){bt=null;break}if(R!==null){R.return=J,bt=R;break}bt=J}}}var X=p.alternate;if(X!==null){var G=X.child;if(G!==null){X.child=null;do{var K=G.sibling;G.sibling=null,G=K}while(G!==null)}}bt=p}}if(p.subtreeFlags&2064&&y!==null)y.return=p,bt=y;else e:for(;bt!==null;){if(p=bt,p.flags&2048)switch(p.tag){case 0:case 11:case 15:td(9,p,p.return)}var O=p.sibling;if(O!==null){O.return=p.return,bt=O;break e}bt=p.return}}var B=e.current;for(bt=B;bt!==null;){y=bt;var V=y.child;if(y.subtreeFlags&2064&&V!==null)V.return=y,bt=V;else e:for(y=B;bt!==null;){if(u=bt,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Z4(9,u)}}catch(he){Qn(u,u.return,he)}if(u===y){bt=null;break e}var ne=u.sibling;if(ne!==null){ne.return=u.return,bt=ne;break e}bt=u.return}}if(sn=l,Zs(),ya&&typeof ya.onPostCommitFiberRoot=="function")try{ya.onPostCommitFiberRoot(O4,e)}catch{}a=!0}return a}finally{gn=i,So.transition=t}}return!1}function $6(e,t,i){t=cu(i,t),t=wv(e,t,1),e=Ls(e,t,1),t=_i(),e!==null&&(Fd(e,1,t),$i(e,t))}function Qn(e,t,i){if(e.tag===3)$6(e,e,i);else for(;t!==null;){if(t.tag===3){$6(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ds===null||!Ds.has(a))){e=cu(i,e),e=Sv(t,e,1),t=Ls(t,e,1),e=_i(),t!==null&&(Fd(t,1,e),$i(t,e));break}}t=t.return}}function kM(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=_i(),e.pingedLanes|=e.suspendedLanes&i,Rr===e&&(Hr&i)===i&&(Sr===4||Sr===3&&(Hr&130023424)===Hr&&500>pr()-u2?Pl(e,0):l2|=i),$i(e,t)}function Wv(e,t){t===0&&(e.mode&1?(t=op,op<<=1,!(op&130023424)&&(op=4194304)):t=1);var i=_i();e=Ha(e,t),e!==null&&(Fd(e,t,i),$i(e,i))}function AM(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Wv(e,i)}function PM(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,l=e.memoizedState;l!==null&&(i=l.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(tt(314))}a!==null&&a.delete(t),Wv(e,i)}var Uv;Uv=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oi.current)Ni=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return Ni=!1,gM(e,t,i);Ni=!!(e.flags&131072)}else Ni=!1,Vn&&t.flags&1048576&&G9(t,c4,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;$p(e,t),e=t.pendingProps;var l=au(t,oi.current);tu(t,i),l=n2(null,t,a,e,l,i);var p=r2();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bi(a)?(p=!0,l4(t)):p=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Jm(t),l.updater=U4,t.stateNode=l,l._reactInternals=t,p5(t,a,e,i),t=g5(null,t,a,!0,p,i)):(t.tag=0,Vn&&p&&Um(t),vi(null,t,l,i),t=t.child),t;case 16:a=t.elementType;e:{switch($p(e,t),e=t.pendingProps,l=a._init,a=l(a._payload),t.type=a,l=t.tag=IM(a),e=Uo(a,e),l){case 0:t=m5(null,t,a,e,i);break e;case 1:t=T6(null,t,a,e,i);break e;case 11:t=A6(null,t,a,e,i);break e;case 14:t=P6(null,t,a,Uo(a.type,e),i);break e}throw Error(tt(306,a,""))}return t;case 0:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:Uo(a,l),m5(e,t,a,l,i);case 1:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:Uo(a,l),T6(e,t,a,l,i);case 3:e:{if(kv(t),e===null)throw Error(tt(387));a=t.pendingProps,p=t.memoizedState,l=p.element,J9(e,t),p4(t,a,null,i);var y=t.memoizedState;if(a=y.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){l=cu(Error(tt(423)),t),t=I6(e,t,a,i,l);break e}else if(a!==l){l=cu(Error(tt(424)),t),t=I6(e,t,a,i,l);break e}else for(Yi=Is(t.stateNode.containerInfo.firstChild),no=t,Vn=!0,qo=null,i=tv(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(su(),a===l){t=Za(e,t,i);break e}vi(e,t,a,i)}t=t.child}return t;case 5:return nv(t),e===null&&c5(t),a=t.type,l=t.pendingProps,p=e!==null?e.memoizedProps:null,y=l.children,o5(a,l)?y=null:p!==null&&o5(a,p)&&(t.flags|=32),Ev(e,t),vi(e,t,y,i),t.child;case 6:return e===null&&c5(t),null;case 13:return Av(e,t,i);case 4:return Ym(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=lu(t,null,a,i):vi(e,t,a,i),t.child;case 11:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:Uo(a,l),A6(e,t,a,l,i);case 7:return vi(e,t,t.pendingProps,i),t.child;case 8:return vi(e,t,t.pendingProps.children,i),t.child;case 12:return vi(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,l=t.pendingProps,p=t.memoizedProps,y=l.value,In(d4,a._currentValue),a._currentValue=y,p!==null)if(ta(p.value,y)){if(p.children===l.children&&!Oi.current){t=Za(e,t,i);break e}}else for(p=t.child,p!==null&&(p.return=t);p!==null;){var u=p.dependencies;if(u!==null){y=p.child;for(var M=u.firstContext;M!==null;){if(M.context===a){if(p.tag===1){M=Va(-1,i&-i),M.tag=2;var S=p.updateQueue;if(S!==null){S=S.shared;var P=S.pending;P===null?M.next=M:(M.next=P.next,P.next=M),S.pending=M}}p.lanes|=i,M=p.alternate,M!==null&&(M.lanes|=i),d5(p.return,i,t),u.lanes|=i;break}M=M.next}}else if(p.tag===10)y=p.type===t.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(tt(341));y.lanes|=i,u=y.alternate,u!==null&&(u.lanes|=i),d5(y,i,t),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===t){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}vi(e,t,l.children,i),t=t.child}return t;case 9:return l=t.type,a=t.pendingProps.children,tu(t,i),l=Co(l),a=a(l),t.flags|=1,vi(e,t,a,i),t.child;case 14:return a=t.type,l=Uo(a,t.pendingProps),l=Uo(a.type,l),P6(e,t,a,l,i);case 15:return Cv(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:Uo(a,l),$p(e,t),t.tag=1,Bi(a)?(e=!0,l4(t)):e=!1,tu(t,i),Q9(t,a,l),p5(t,a,l,i),g5(null,t,a,!0,e,i);case 19:return Pv(e,t,i);case 22:return Mv(e,t,i)}throw Error(tt(156,t.tag))};function Hv(e,t){return y9(e,t)}function TM(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wo(e,t,i,a){return new TM(e,t,i,a)}function p2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IM(e){if(typeof e=="function")return p2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lm)return 11;if(e===Dm)return 14}return 2}function zs(e,t){var i=e.alternate;return i===null?(i=wo(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Wp(e,t,i,a,l,p){var y=2;if(a=e,typeof e=="function")p2(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case N1:return Tl(i.children,l,p,t);case Im:y=8,l|=8;break;case N8:return e=wo(12,i,t,l|2),e.elementType=N8,e.lanes=p,e;case O8:return e=wo(13,i,t,l),e.elementType=O8,e.lanes=p,e;case B8:return e=wo(19,i,t,l),e.elementType=B8,e.lanes=p,e;case e9:return q4(i,l,p,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yy:y=10;break e;case Qy:y=9;break e;case Lm:y=11;break e;case Dm:y=14;break e;case xs:y=16,a=null;break e}throw Error(tt(130,e==null?e:typeof e,""))}return t=wo(y,i,t,l),t.elementType=e,t.type=a,t.lanes=p,t}function Tl(e,t,i,a){return e=wo(7,e,a,t),e.lanes=i,e}function q4(e,t,i,a){return e=wo(22,e,a,t),e.elementType=e9,e.lanes=i,e.stateNode={isHidden:!1},e}function i8(e,t,i){return e=wo(6,e,null,t),e.lanes=i,e}function o8(e,t,i){return t=wo(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function LM(e,t,i,a,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bf(0),this.expirationTimes=Bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bf(0),this.identifierPrefix=a,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function f2(e,t,i,a,l,p,y,u,M){return e=new LM(e,t,i,u,M),t===1?(t=1,p===!0&&(t|=8)):t=0,p=wo(3,null,null,t),e.current=p,p.stateNode=e,p.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jm(p),e}function DM(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F1,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function Zv(e){if(!e)return Os;e=e._reactInternals;e:{if(Vl(e)!==e||e.tag!==1)throw Error(tt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(tt(171))}if(e.tag===1){var i=e.type;if(Bi(i))return H9(e,i,t)}return t}function Gv(e,t,i,a,l,p,y,u,M){return e=f2(i,a,!0,e,l,p,y,u,M),e.context=Zv(null),i=e.current,a=_i(),l=Rs(i),p=Va(a,l),p.callback=t??null,Ls(i,p,l),e.current.lanes=l,Fd(e,l,a),$i(e,a),e}function K4(e,t,i,a){var l=t.current,p=_i(),y=Rs(l);return i=Zv(i),t.context===null?t.context=i:t.pendingContext=i,t=Va(p,y),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Ls(l,t,y),e!==null&&(Jo(e,l,y,p),Np(e,l,y)),y}function b4(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function j6(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function m2(e,t){j6(e,t),(e=e.alternate)&&j6(e,t)}function RM(){return null}var qv=typeof reportError=="function"?reportError:function(e){console.error(e)};function g2(e){this._internalRoot=e}X4.prototype.render=g2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(tt(409));K4(e,t,null,null)};X4.prototype.unmount=g2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nl(function(){K4(null,e,null,null)}),t[Ua]=null}};function X4(e){this._internalRoot=e}X4.prototype.unstable_scheduleHydration=function(e){if(e){var t=C9();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ws.length&&t!==0&&t<ws[i].priority;i++);ws.splice(i,0,e),i===0&&E9(e)}};function y2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function J4(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function V6(){}function zM(e,t,i,a,l){if(l){if(typeof a=="function"){var p=a;a=function(){var S=b4(y);p.call(S)}}var y=Gv(t,a,e,0,null,!1,!1,"",V6);return e._reactRootContainer=y,e[Ua]=y.current,gd(e.nodeType===8?e.parentNode:e),Nl(),y}for(;l=e.lastChild;)e.removeChild(l);if(typeof a=="function"){var u=a;a=function(){var S=b4(M);u.call(S)}}var M=f2(e,0,!1,null,null,!1,!1,"",V6);return e._reactRootContainer=M,e[Ua]=M.current,gd(e.nodeType===8?e.parentNode:e),Nl(function(){K4(t,M,i,a)}),M}function Y4(e,t,i,a,l){var p=i._reactRootContainer;if(p){var y=p;if(typeof l=="function"){var u=l;l=function(){var M=b4(y);u.call(M)}}K4(t,y,e,l)}else y=zM(i,t,e,l,a);return b4(y)}w9=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Hc(t.pendingLanes);i!==0&&(Fm(t,i|1),$i(t,pr()),!(sn&6)&&(du=pr()+500,Zs()))}break;case 13:Nl(function(){var a=Ha(e,1);if(a!==null){var l=_i();Jo(a,e,1,l)}}),m2(e,1)}};Nm=function(e){if(e.tag===13){var t=Ha(e,134217728);if(t!==null){var i=_i();Jo(t,e,134217728,i)}m2(e,134217728)}};S9=function(e){if(e.tag===13){var t=Rs(e),i=Ha(e,t);if(i!==null){var a=_i();Jo(i,e,t,a)}m2(e,t)}};C9=function(){return gn};M9=function(e,t){var i=gn;try{return gn=e,t()}finally{gn=i}};K8=function(e,t,i){switch(t){case"input":if(V8(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var l=V4(a);if(!l)throw Error(tt(90));n9(a),V8(a,l)}}}break;case"textarea":i9(e,i);break;case"select":t=i.value,t!=null&&J1(e,!!i.multiple,t,!1)}};d9=c2;h9=Nl;var FM={usingClientEntryPoint:!1,Events:[Od,j1,V4,u9,c9,c2]},Oc={findFiberByHostInstance:wl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},NM={bundleType:Oc.bundleType,version:Oc.version,rendererPackageName:Oc.rendererPackageName,rendererConfig:Oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ja.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=m9(e),e===null?null:e.stateNode},findFiberByHostInstance:Oc.findFiberByHostInstance||RM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gp.isDisabled&&gp.supportsFiber)try{O4=gp.inject(NM),ya=gp}catch{}}so.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FM;so.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y2(t))throw Error(tt(200));return DM(e,t,null,i)};so.createRoot=function(e,t){if(!y2(e))throw Error(tt(299));var i=!1,a="",l=qv;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=f2(e,1,!1,null,null,i,!1,a,l),e[Ua]=t.current,gd(e.nodeType===8?e.parentNode:e),new g2(t)};so.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(tt(188)):(e=Object.keys(e).join(","),Error(tt(268,e)));return e=m9(t),e=e===null?null:e.stateNode,e};so.flushSync=function(e){return Nl(e)};so.hydrate=function(e,t,i){if(!J4(t))throw Error(tt(200));return Y4(null,e,t,!0,i)};so.hydrateRoot=function(e,t,i){if(!y2(e))throw Error(tt(405));var a=i!=null&&i.hydratedSources||null,l=!1,p="",y=qv;if(i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),t=Gv(t,null,e,1,i??null,l,!1,p,y),e[Ua]=t.current,gd(e),a)for(e=0;e<a.length;e++)i=a[e],l=i._getVersion,l=l(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,l]:t.mutableSourceEagerHydrationData.push(i,l);return new X4(t)};so.render=function(e,t,i){if(!J4(t))throw Error(tt(200));return Y4(null,e,t,!1,i)};so.unmountComponentAtNode=function(e){if(!J4(e))throw Error(tt(40));return e._reactRootContainer?(Nl(function(){Y4(null,null,e,!1,function(){e._reactRootContainer=null,e[Ua]=null})}),!0):!1};so.unstable_batchedUpdates=c2;so.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!J4(i))throw Error(tt(200));if(e==null||e._reactInternals===void 0)throw Error(tt(38));return Y4(e,t,i,!1,a)};so.version="18.2.0-next-9e3b772b8-20220608";function Kv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kv)}catch(e){console.error(e)}}Kv(),Gy.exports=so;var bu=Gy.exports;const Xv=F4(bu),OM=Fy({__proto__:null,default:Xv},[bu]);var W6=bu;z8.createRoot=W6.createRoot,z8.hydrateRoot=W6.hydrateRoot;var Jv={exports:{}},Yv={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $d=H;function BM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $M=typeof Object.is=="function"?Object.is:BM,jM=$d.useSyncExternalStore,VM=$d.useRef,WM=$d.useEffect,UM=$d.useMemo,HM=$d.useDebugValue;Yv.useSyncExternalStoreWithSelector=function(e,t,i,a,l){var p=VM(null);if(p.current===null){var y={hasValue:!1,value:null};p.current=y}else y=p.current;p=UM(function(){function M(J){if(!S){if(S=!0,P=J,J=a(J),l!==void 0&&y.hasValue){var X=y.value;if(l(X,J))return F=X}return F=J}if(X=F,$M(P,J))return X;var G=a(J);return l!==void 0&&l(X,G)?X:(P=J,F=G)}var S=!1,P,F,R=i===void 0?null:i;return[function(){return M(t())},R===null?void 0:function(){return M(R())}]},[t,i,a,l]);var u=jM(e,p[0],p[1]);return WM(function(){y.hasValue=!0,y.value=u},[u]),HM(u),u};Jv.exports=Yv;var ZM=Jv.exports,Qi="default"in Fs?Ct:Fs,U6=Symbol.for("react-redux-context"),H6=typeof globalThis<"u"?globalThis:{};function GM(){if(!Qi.createContext)return{};const e=H6[U6]??(H6[U6]=new Map);let t=e.get(Qi.createContext);return t||(t=Qi.createContext(null),e.set(Qi.createContext,t)),t}var Bs=GM(),qM=()=>{throw new Error("uSES not initialized!")};function v2(e=Bs){return function(){return Qi.useContext(e)}}var Qv=v2(),e_=qM,KM=e=>{e_=e},XM=(e,t)=>e===t;function JM(e=Bs){const t=e===Bs?Qv:v2(e),i=(a,l={})=>{const{equalityFn:p=XM,devModeChecks:y={}}=typeof l=="function"?{equalityFn:l}:l,{store:u,subscription:M,getServerState:S,stabilityCheck:P,identityFunctionCheck:F}=t();Qi.useRef(!0);const R=Qi.useCallback({[a.name](X){return a(X)}}[a.name],[a,P,y.stabilityCheck]),J=e_(M.addNestedSub,u.getState,S||u.getState,R,p);return Qi.useDebugValue(J),J};return Object.assign(i,{withTypes:()=>i}),i}var A5=JM();function YM(e){e()}function QM(){let e=null,t=null;return{clear(){e=null,t=null},notify(){YM(()=>{let i=e;for(;i;)i.callback(),i=i.next})},get(){const i=[];let a=e;for(;a;)i.push(a),a=a.next;return i},subscribe(i){let a=!0;const l=t={callback:i,next:null,prev:t};return l.prev?l.prev.next=l:e=l,function(){!a||e===null||(a=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}var Z6={notify(){},get:()=>[]};function eE(e,t){let i,a=Z6,l=0,p=!1;function y(G){P();const K=a.subscribe(G);let O=!1;return()=>{O||(O=!0,K(),F())}}function u(){a.notify()}function M(){X.onStateChange&&X.onStateChange()}function S(){return p}function P(){l++,i||(i=t?t.addNestedSub(M):e.subscribe(M),a=QM())}function F(){l--,i&&l===0&&(i(),i=void 0,a.clear(),a=Z6)}function R(){p||(p=!0,P())}function J(){p&&(p=!1,F())}const X={addNestedSub:y,notifyNestedSubs:u,handleChangeWrapper:M,isSubscribed:S,trySubscribe:R,tryUnsubscribe:J,getListeners:()=>a};return X}var tE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nE=tE?Qi.useLayoutEffect:Qi.useEffect;function rE({store:e,context:t,children:i,serverState:a,stabilityCheck:l="once",identityFunctionCheck:p="once"}){const y=Qi.useMemo(()=>{const S=eE(e);return{store:e,subscription:S,getServerState:a?()=>a:void 0,stabilityCheck:l,identityFunctionCheck:p}},[e,a,l,p]),u=Qi.useMemo(()=>e.getState(),[e]);nE(()=>{const{subscription:S}=y;return S.onStateChange=S.notifyNestedSubs,S.trySubscribe(),u!==e.getState()&&S.notifyNestedSubs(),()=>{S.tryUnsubscribe(),S.onStateChange=void 0}},[y,u]);const M=t||Bs;return Qi.createElement(M.Provider,{value:y},i)}var iE=rE;function t_(e=Bs){const t=e===Bs?Qv:v2(e),i=()=>{const{store:a}=t();return a};return Object.assign(i,{withTypes:()=>i}),i}var oE=t_();function aE(e=Bs){const t=e===Bs?oE:t_(e),i=()=>t().dispatch;return Object.assign(i,{withTypes:()=>i}),i}var sE=aE();KM(ZM.useSyncExternalStoreWithSelector);const lE="_panel_rfanj_1",uE="_title_rfanj_14",cE="_subtitle_rfanj_19",dE="_block_rfanj_24",hE="_key_rfanj_31",pE="_value_rfanj_35",ml={panel:lE,title:uE,subtitle:cE,block:dE,key:hE,value:pE};function Wr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fE=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),G6=fE,a8=()=>Math.random().toString(36).substring(7).split("").join("."),mE={INIT:`@@redux/INIT${a8()}`,REPLACE:`@@redux/REPLACE${a8()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${a8()}`},w4=mE;function _2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function n_(e,t,i){if(typeof e!="function")throw new Error(Wr(2));if(typeof t=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(Wr(0));if(typeof t=="function"&&typeof i>"u"&&(i=t,t=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(Wr(1));return i(n_)(e,t)}let a=e,l=t,p=new Map,y=p,u=0,M=!1;function S(){y===p&&(y=new Map,p.forEach((K,O)=>{y.set(O,K)}))}function P(){if(M)throw new Error(Wr(3));return l}function F(K){if(typeof K!="function")throw new Error(Wr(4));if(M)throw new Error(Wr(5));let O=!0;S();const B=u++;return y.set(B,K),function(){if(O){if(M)throw new Error(Wr(6));O=!1,S(),y.delete(B),p=null}}}function R(K){if(!_2(K))throw new Error(Wr(7));if(typeof K.type>"u")throw new Error(Wr(8));if(typeof K.type!="string")throw new Error(Wr(17));if(M)throw new Error(Wr(9));try{M=!0,l=a(l,K)}finally{M=!1}return(p=y).forEach(B=>{B()}),K}function J(K){if(typeof K!="function")throw new Error(Wr(10));a=K,R({type:w4.REPLACE})}function X(){const K=F;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(Wr(11));function B(){const ne=O;ne.next&&ne.next(P())}return B(),{unsubscribe:K(B)}},[G6](){return this}}}return R({type:w4.INIT}),{dispatch:R,subscribe:F,getState:P,replaceReducer:J,[G6]:X}}function gE(e){Object.keys(e).forEach(t=>{const i=e[t];if(typeof i(void 0,{type:w4.INIT})>"u")throw new Error(Wr(12));if(typeof i(void 0,{type:w4.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wr(13))})}function r_(e){const t=Object.keys(e),i={};for(let p=0;p<t.length;p++){const y=t[p];typeof e[y]=="function"&&(i[y]=e[y])}const a=Object.keys(i);let l;try{gE(i)}catch(p){l=p}return function(y={},u){if(l)throw l;let M=!1;const S={};for(let P=0;P<a.length;P++){const F=a[P],R=i[F],J=y[F],X=R(J,u);if(typeof X>"u")throw u&&u.type,new Error(Wr(14));S[F]=X,M=M||X!==J}return M=M||a.length!==Object.keys(y).length,M?S:y}}function S4(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,i)=>(...a)=>t(i(...a)))}function yE(...e){return t=>(i,a)=>{const l=t(i,a);let p=()=>{throw new Error(Wr(15))};const y={getState:l.getState,dispatch:(M,...S)=>p(M,...S)},u=e.map(M=>M(y));return p=S4(...u)(l.dispatch),{...l,dispatch:p}}}function vE(e){return _2(e)&&"type"in e&&typeof e.type=="string"}var i_=Symbol.for("immer-nothing"),q6=Symbol.for("immer-draftable"),oo=Symbol.for("immer-state");function Ko(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var hu=Object.getPrototypeOf;function $s(e){return!!e&&!!e[oo]}function Ga(e){var t;return e?o_(e)||Array.isArray(e)||!!e[q6]||!!((t=e.constructor)!=null&&t[q6])||e0(e)||t0(e):!1}var _E=Object.prototype.constructor.toString();function o_(e){if(!e||typeof e!="object")return!1;const t=hu(e);if(t===null)return!0;const i=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===_E}function Md(e,t){Q4(e)===0?Object.entries(e).forEach(([i,a])=>{t(i,a,e)}):e.forEach((i,a)=>t(a,i,e))}function Q4(e){const t=e[oo];return t?t.type_:Array.isArray(e)?1:e0(e)?2:t0(e)?3:0}function P5(e,t){return Q4(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function a_(e,t,i){const a=Q4(e);a===2?e.set(t,i):a===3?e.add(i):e[t]=i}function xE(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function e0(e){return e instanceof Map}function t0(e){return e instanceof Set}function vl(e){return e.copy_||e.base_}function T5(e,t){if(e0(e))return new Map(e);if(t0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&o_(e))return hu(e)?{...e}:Object.assign(Object.create(null),e);const i=Object.getOwnPropertyDescriptors(e);delete i[oo];let a=Reflect.ownKeys(i);for(let l=0;l<a.length;l++){const p=a[l],y=i[p];y.writable===!1&&(y.writable=!0,y.configurable=!0),(y.get||y.set)&&(i[p]={configurable:!0,writable:!0,enumerable:y.enumerable,value:e[p]})}return Object.create(hu(e),i)}function x2(e,t=!1){return n0(e)||$s(e)||!Ga(e)||(Q4(e)>1&&(e.set=e.add=e.clear=e.delete=bE),Object.freeze(e),t&&Md(e,(i,a)=>x2(a,!0))),e}function bE(){Ko(2)}function n0(e){return Object.isFrozen(e)}var wE={};function Ol(e){const t=wE[e];return t||Ko(0,e),t}var Ed;function s_(){return Ed}function SE(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function K6(e,t){t&&(Ol("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function I5(e){L5(e),e.drafts_.forEach(CE),e.drafts_=null}function L5(e){e===Ed&&(Ed=e.parent_)}function X6(e){return Ed=SE(Ed,e)}function CE(e){const t=e[oo];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function J6(e,t){t.unfinalizedDrafts_=t.drafts_.length;const i=t.drafts_[0];return e!==void 0&&e!==i?(i[oo].modified_&&(I5(t),Ko(4)),Ga(e)&&(e=C4(t,e),t.parent_||M4(t,e)),t.patches_&&Ol("Patches").generateReplacementPatches_(i[oo].base_,e,t.patches_,t.inversePatches_)):e=C4(t,i,[]),I5(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==i_?e:void 0}function C4(e,t,i){if(n0(t))return t;const a=t[oo];if(!a)return Md(t,(l,p)=>Y6(e,a,t,l,p,i)),t;if(a.scope_!==e)return t;if(!a.modified_)return M4(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const l=a.copy_;let p=l,y=!1;a.type_===3&&(p=new Set(l),l.clear(),y=!0),Md(p,(u,M)=>Y6(e,a,l,u,M,i,y)),M4(e,l,!1),i&&e.patches_&&Ol("Patches").generatePatches_(a,i,e.patches_,e.inversePatches_)}return a.copy_}function Y6(e,t,i,a,l,p,y){if($s(l)){const u=p&&t&&t.type_!==3&&!P5(t.assigned_,a)?p.concat(a):void 0,M=C4(e,l,u);if(a_(i,a,M),$s(M))e.canAutoFreeze_=!1;else return}else y&&i.add(l);if(Ga(l)&&!n0(l)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;C4(e,l),(!t||!t.scope_.parent_)&&M4(e,l)}}function M4(e,t,i=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&x2(t,i)}function ME(e,t){const i=Array.isArray(e),a={type_:i?1:0,scope_:t?t.scope_:s_(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=a,p=b2;i&&(l=[a],p=kd);const{revoke:y,proxy:u}=Proxy.revocable(l,p);return a.draft_=u,a.revoke_=y,u}var b2={get(e,t){if(t===oo)return e;const i=vl(e);if(!P5(i,t))return EE(e,i,t);const a=i[t];return e.finalized_||!Ga(a)?a:a===s8(e.base_,t)?(l8(e),e.copy_[t]=R5(a,e)):a},has(e,t){return t in vl(e)},ownKeys(e){return Reflect.ownKeys(vl(e))},set(e,t,i){const a=l_(vl(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,i),!0;if(!e.modified_){const l=s8(vl(e),t),p=l==null?void 0:l[oo];if(p&&p.base_===i)return e.copy_[t]=i,e.assigned_[t]=!1,!0;if(xE(i,l)&&(i!==void 0||P5(e.base_,t)))return!0;l8(e),D5(e)}return e.copy_[t]===i&&(i!==void 0||t in e.copy_)||Number.isNaN(i)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=i,e.assigned_[t]=!0),!0},deleteProperty(e,t){return s8(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,l8(e),D5(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const i=vl(e),a=Reflect.getOwnPropertyDescriptor(i,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:i[t]}},defineProperty(){Ko(11)},getPrototypeOf(e){return hu(e.base_)},setPrototypeOf(){Ko(12)}},kd={};Md(b2,(e,t)=>{kd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});kd.deleteProperty=function(e,t){return kd.set.call(this,e,t,void 0)};kd.set=function(e,t,i){return b2.set.call(this,e[0],t,i,e[0])};function s8(e,t){const i=e[oo];return(i?vl(i):e)[t]}function EE(e,t,i){var l;const a=l_(t,i);return a?"value"in a?a.value:(l=a.get)==null?void 0:l.call(e.draft_):void 0}function l_(e,t){if(!(t in e))return;let i=hu(e);for(;i;){const a=Object.getOwnPropertyDescriptor(i,t);if(a)return a;i=hu(i)}}function D5(e){e.modified_||(e.modified_=!0,e.parent_&&D5(e.parent_))}function l8(e){e.copy_||(e.copy_=T5(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var kE=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,i,a)=>{if(typeof t=="function"&&typeof i!="function"){const p=i;i=t;const y=this;return function(M=p,...S){return y.produce(M,P=>i.call(this,P,...S))}}typeof i!="function"&&Ko(6),a!==void 0&&typeof a!="function"&&Ko(7);let l;if(Ga(t)){const p=X6(this),y=R5(t,void 0);let u=!0;try{l=i(y),u=!1}finally{u?I5(p):L5(p)}return K6(p,a),J6(l,p)}else if(!t||typeof t!="object"){if(l=i(t),l===void 0&&(l=t),l===i_&&(l=void 0),this.autoFreeze_&&x2(l,!0),a){const p=[],y=[];Ol("Patches").generateReplacementPatches_(t,l,p,y),a(p,y)}return l}else Ko(1,t)},this.produceWithPatches=(t,i)=>{if(typeof t=="function")return(y,...u)=>this.produceWithPatches(y,M=>t(M,...u));let a,l;return[this.produce(t,i,(y,u)=>{a=y,l=u}),a,l]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ga(e)||Ko(8),$s(e)&&(e=u_(e));const t=X6(this),i=R5(e,void 0);return i[oo].isManual_=!0,L5(t),i}finishDraft(e,t){const i=e&&e[oo];(!i||!i.isManual_)&&Ko(9);const{scope_:a}=i;return K6(a,t),J6(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let i;for(i=t.length-1;i>=0;i--){const l=t[i];if(l.path.length===0&&l.op==="replace"){e=l.value;break}}i>-1&&(t=t.slice(i+1));const a=Ol("Patches").applyPatches_;return $s(e)?a(e,t):this.produce(e,l=>a(l,t))}};function R5(e,t){const i=e0(e)?Ol("MapSet").proxyMap_(e,t):t0(e)?Ol("MapSet").proxySet_(e,t):ME(e,t);return(t?t.scope_:s_()).drafts_.push(i),i}function u_(e){return $s(e)||Ko(10,e),c_(e)}function c_(e){if(!Ga(e)||n0(e))return e;const t=e[oo];let i;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,i=T5(e,t.scope_.immer_.useStrictShallowCopy_)}else i=T5(e,!0);return Md(i,(a,l)=>{a_(i,a,c_(l))}),t&&(t.finalized_=!1),i}var ao=new kE,d_=ao.produce;ao.produceWithPatches.bind(ao);ao.setAutoFreeze.bind(ao);ao.setUseStrictShallowCopy.bind(ao);ao.applyPatches.bind(ao);ao.createDraft.bind(ao);ao.finishDraft.bind(ao);function AE(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function PE(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function TE(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(i=>typeof i=="function")){const i=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${i}]`)}}var Q6=e=>Array.isArray(e)?e:[e];function IE(e){const t=Array.isArray(e[0])?e[0]:e;return TE(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function LE(e,t){const i=[],{length:a}=e;for(let l=0;l<a;l++)i.push(e[l].apply(null,t));return i}var DE=class{constructor(e){this.value=e}deref(){return this.value}},RE=typeof WeakRef<"u"?WeakRef:DE,zE=0,e7=1;function yp(){return{s:zE,v:void 0,o:null,p:null}}function w2(e,t={}){let i=yp();const{resultEqualityCheck:a}=t;let l,p=0;function y(){var F;let u=i;const{length:M}=arguments;for(let R=0,J=M;R<J;R++){const X=arguments[R];if(typeof X=="function"||typeof X=="object"&&X!==null){let G=u.o;G===null&&(u.o=G=new WeakMap);const K=G.get(X);K===void 0?(u=yp(),G.set(X,u)):u=K}else{let G=u.p;G===null&&(u.p=G=new Map);const K=G.get(X);K===void 0?(u=yp(),G.set(X,u)):u=K}}const S=u;let P;if(u.s===e7?P=u.v:(P=e.apply(null,arguments),p++),S.s=e7,a){const R=((F=l==null?void 0:l.deref)==null?void 0:F.call(l))??l;R!=null&&a(R,P)&&(P=R,p!==0&&p--),l=typeof P=="object"&&P!==null||typeof P=="function"?new RE(P):P}return S.v=P,P}return y.clearCache=()=>{i=yp(),y.resetResultsCount()},y.resultsCount=()=>p,y.resetResultsCount=()=>{p=0},y}function h_(e,...t){const i=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...l)=>{let p=0,y=0,u,M={},S=l.pop();typeof S=="object"&&(M=S,S=l.pop()),AE(S,`createSelector expects an output function after the inputs, but received: [${typeof S}]`);const P={...i,...M},{memoize:F,memoizeOptions:R=[],argsMemoize:J=w2,argsMemoizeOptions:X=[],devModeChecks:G={}}=P,K=Q6(R),O=Q6(X),B=IE(l),V=F(function(){return p++,S.apply(null,arguments)},...K),ne=J(function(){y++;const pe=LE(B,arguments);return u=V.apply(null,pe),u},...O);return Object.assign(ne,{resultFunc:S,memoizedResultFunc:V,dependencies:B,dependencyRecomputations:()=>y,resetDependencyRecomputations:()=>{y=0},lastResult:()=>u,recomputations:()=>p,resetRecomputations:()=>{p=0},memoize:F,argsMemoize:J})};return Object.assign(a,{withTypes:()=>a}),a}var r0=h_(w2),FE=Object.assign((e,t=r0)=>{PE(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const i=Object.keys(e),a=i.map(p=>e[p]);return t(a,(...p)=>p.reduce((y,u,M)=>(y[i[M]]=u,y),{}))},{withTypes:()=>FE});function p_(e){return({dispatch:i,getState:a})=>l=>p=>typeof p=="function"?p(i,a,e):l(p)}var NE=p_(),OE=p_,BE=(...e)=>{const t=h_(...e);return(...i)=>{const a=t(...i),l=(p,...y)=>a($s(p)?u_(p):p,...y);return Object.assign(l,a),l}};BE(w2);var $E=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?S4:S4.apply(null,arguments)};function js(e,t){function i(...a){if(t){let l=t(...a);if(!l)throw new Error(Yo(0));return{type:e,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:e,payload:a[0]}}return i.toString=()=>`${e}`,i.type=e,i.match=a=>vE(a)&&a.type===e,i}var f_=class Gc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Gc.prototype)}static get[Symbol.species](){return Gc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Gc(...t[0].concat(this)):new Gc(...t.concat(this))}};function t7(e){return Ga(e)?d_(e,()=>{}):e}function n7(e,t,i){if(e.has(t)){let l=e.get(t);return i.update&&(l=i.update(l,t,e),e.set(t,l)),l}if(!i.insert)throw new Error(Yo(10));const a=i.insert(t,e);return e.set(t,a),a}function jE(e){return typeof e=="boolean"}var VE=()=>function(t){const{thunk:i=!0,immutableCheck:a=!0,serializableCheck:l=!0,actionCreatorCheck:p=!0}=t??{};let y=new f_;return i&&(jE(i)?y.push(NE):y.push(OE(i.extraArgument))),y},WE="RTK_autoBatch",m_=e=>t=>{setTimeout(t,e)},UE=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:m_(10),HE=(e={type:"raf"})=>t=>(...i)=>{const a=t(...i);let l=!0,p=!1,y=!1;const u=new Set,M=e.type==="tick"?queueMicrotask:e.type==="raf"?UE:e.type==="callback"?e.queueNotification:m_(e.timeout),S=()=>{y=!1,p&&(p=!1,u.forEach(P=>P()))};return Object.assign({},a,{subscribe(P){const F=()=>l&&P(),R=a.subscribe(F);return u.add(P),()=>{R(),u.delete(P)}},dispatch(P){var F;try{return l=!((F=P==null?void 0:P.meta)!=null&&F[WE]),p=!l,p&&(y||(y=!0,M(S))),a.dispatch(P)}finally{l=!0}}})},ZE=e=>function(i){const{autoBatch:a=!0}=i??{};let l=new f_(e);return a&&l.push(HE(typeof a=="object"?a:void 0)),l},GE=!0;function qE(e){const t=VE(),{reducer:i=void 0,middleware:a,devTools:l=!0,preloadedState:p=void 0,enhancers:y=void 0}=e||{};let u;if(typeof i=="function")u=i;else if(_2(i))u=r_(i);else throw new Error(Yo(1));let M;typeof a=="function"?M=a(t):M=t();let S=S4;l&&(S=$E({trace:!GE,...typeof l=="object"&&l}));const P=yE(...M),F=ZE(P);let R=typeof y=="function"?y(F):F();const J=S(...R);return n_(u,p,J)}function g_(e){const t={},i=[];let a;const l={addCase(p,y){const u=typeof p=="string"?p:p.type;if(!u)throw new Error(Yo(28));if(u in t)throw new Error(Yo(29));return t[u]=y,l},addMatcher(p,y){return i.push({matcher:p,reducer:y}),l},addDefaultCase(p){return a=p,l}};return e(l),[t,i,a]}function KE(e){return typeof e=="function"}function XE(e,t){let[i,a,l]=g_(t),p;if(KE(e))p=()=>t7(e());else{const u=t7(e);p=()=>u}function y(u=p(),M){let S=[i[M.type],...a.filter(({matcher:P})=>P(M)).map(({reducer:P})=>P)];return S.filter(P=>!!P).length===0&&(S=[l]),S.reduce((P,F)=>{if(F)if($s(P)){const J=F(P,M);return J===void 0?P:J}else{if(Ga(P))return d_(P,R=>F(R,M));{const R=F(P,M);if(R===void 0){if(P===null)return P;throw new Error(Yo(9))}return R}}return P},u)}return y.getInitialState=p,y}var JE=Symbol.for("rtk-slice-createasyncthunk");function YE(e,t){return`${e}/${t}`}function QE({creators:e}={}){var i;const t=(i=e==null?void 0:e.asyncThunk)==null?void 0:i[JE];return function(l){const{name:p,reducerPath:y=p}=l;if(!p)throw new Error(Yo(11));typeof process<"u";const u=(typeof l.reducers=="function"?l.reducers(nk()):l.reducers)||{},M=Object.keys(u),S={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},P={addCase(K,O){const B=typeof K=="string"?K:K.type;if(!B)throw new Error(Yo(12));if(B in S.sliceCaseReducersByType)throw new Error(Yo(13));return S.sliceCaseReducersByType[B]=O,P},addMatcher(K,O){return S.sliceMatchers.push({matcher:K,reducer:O}),P},exposeAction(K,O){return S.actionCreators[K]=O,P},exposeCaseReducer(K,O){return S.sliceCaseReducersByName[K]=O,P}};M.forEach(K=>{const O=u[K],B={reducerName:K,type:YE(p,K),createNotation:typeof l.reducers=="function"};ik(O)?ak(B,O,P,t):rk(B,O,P)});function F(){const[K={},O=[],B=void 0]=typeof l.extraReducers=="function"?g_(l.extraReducers):[l.extraReducers],V={...K,...S.sliceCaseReducersByType};return XE(l.initialState,ne=>{for(let he in V)ne.addCase(he,V[he]);for(let he of S.sliceMatchers)ne.addMatcher(he.matcher,he.reducer);for(let he of O)ne.addMatcher(he.matcher,he.reducer);B&&ne.addDefaultCase(B)})}const R=K=>K,J=new WeakMap;let X;const G={name:p,reducerPath:y,reducer(K,O){return X||(X=F()),X(K,O)},actions:S.actionCreators,caseReducers:S.sliceCaseReducersByName,getInitialState(){return X||(X=F()),X.getInitialState()},getSelectors(K=R){const O=n7(J,this,{insert:()=>new WeakMap});return n7(O,K,{insert:()=>{const B={};for(const[V,ne]of Object.entries(l.selectors??{}))B[V]=ek(this,ne,K,this!==G);return B}})},selectSlice(K){let O=K[this.reducerPath];return typeof O>"u"&&this!==G&&(O=this.getInitialState()),O},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(K,{reducerPath:O,...B}={}){const V=O??this.reducerPath;return K.inject({reducerPath:V,reducer:this.reducer},B),{...this,reducerPath:V}}};return G}}function ek(e,t,i,a){function l(p,...y){let u=i.call(e,p);return typeof u>"u"&&a&&(u=e.getInitialState()),t(u,...y)}return l.unwrapped=t,l}var tk=QE();function nk(){function e(t,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...i}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...i){return t(...i)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:i}},asyncThunk:e}}function rk({type:e,reducerName:t,createNotation:i},a,l){let p,y;if("reducer"in a){if(i&&!ok(a))throw new Error(Yo(17));p=a.reducer,y=a.prepare}else p=a;l.addCase(e,p).exposeCaseReducer(t,p).exposeAction(t,y?js(e,y):js(e))}function ik(e){return e._reducerDefinitionType==="asyncThunk"}function ok(e){return e._reducerDefinitionType==="reducerWithPrepare"}function ak({type:e,reducerName:t},i,a,l){if(!l)throw new Error(Yo(18));const{payloadCreator:p,fulfilled:y,pending:u,rejected:M,settled:S,options:P}=i,F=l(e,p,P);a.exposeAction(t,F),y&&a.addCase(F.fulfilled,y),u&&a.addCase(F.pending,u),M&&a.addCase(F.rejected,M),S&&a.addMatcher(F.settled,S),a.exposeCaseReducer(t,{fulfilled:y||vp,pending:u||vp,rejected:M||vp,settled:S||vp})}function vp(){}var S2="listenerMiddleware";js(`${S2}/add`);js(`${S2}/removeAll`);js(`${S2}/remove`);function Yo(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const C2=e=>e.appState,sk=r0(C2,e=>e.selectedFeature),lk=r0(C2,e=>e.showInfo),uk=r0(C2,e=>e.selectedLayer),u8={"Previous Name":"Previous Name",Address:"Address","Completion year/Opening year":"Completion year/Opening year","Renoviert/New use/Expansion":"Renoviert/New use/Expansion",Description:"Description","Owner/Initiator/Commisioned by":"Owner/Initiator/Commisioned by","Architect/Artist/Author":"Architect(s)",Website:"Website","Wikipedia page":"Wikipedia","Muenchen.de":"Muenchen.de"},ck=e=>{var t=e.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g);return t!==null},dk=(e=!1)=>{const[t,i]=H.useState(e),a=H.useCallback(()=>i(l=>!l),[]);return[t,a]},hk=()=>{const e=A5(sk),t=A5(lk);if(!(!e||!t))return dt.jsxs("div",{className:ml.panel,children:[dt.jsxs("div",{children:[dt.jsx("span",{className:ml.title,children:`${e["Current Name (DE)"]} `}),dt.jsxs("span",{className:ml.subtitle,children:["(",`${e["Current Name (Eng)"]} `,")"]})]}),Object.keys(u8).map(i=>dt.jsx(dt.Fragment,{children:e[i]&&dt.jsx("div",{className:ml.block,children:ck(e[i])?dt.jsx("a",{href:e[i],target:"_blank",rel:"noopener noreferrer",className:ml.key,children:u8[i]}):dt.jsxs(dt.Fragment,{children:[dt.jsx("span",{className:ml.value,children:u8[i]}),dt.jsx("span",{className:ml.key,children:e[i]})]})})}))]})},pk="modulepreload",fk=function(e){return"/"+e},r7={},mk=function(t,i,a){if(!i||i.length===0)return t();const l=document.getElementsByTagName("link");return Promise.all(i.map(p=>{if(p=fk(p),p in r7)return;r7[p]=!0;const y=p.endsWith(".css"),u=y?'[rel="stylesheet"]':"";if(!!a)for(let P=l.length-1;P>=0;P--){const F=l[P];if(F.href===p&&(!y||F.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${u}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":pk,y||(S.as="script",S.crossOrigin=""),S.href=p,document.head.appendChild(S),y)return new Promise((P,F)=>{S.addEventListener("load",P),S.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${p}`)))})})).then(()=>t()).catch(p=>{const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=p,window.dispatchEvent(y),!y.defaultPrevented)throw p})},gk=H.createContext(null);function yk(e,t){const i=Array.isArray(e)?e[0]:e?e.x:0,a=Array.isArray(e)?e[1]:e?e.y:0,l=Array.isArray(t)?t[0]:t?t.x:0,p=Array.isArray(t)?t[1]:t?t.y:0;return i===l&&a===p}function Ji(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!Ji(e[i],t[i]))return!1;return!0}else if(Array.isArray(t))return!1;if(typeof e=="object"&&typeof t=="object"){const i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(const l of i)if(!t.hasOwnProperty(l)||!Ji(e[l],t[l]))return!1;return!0}return!1}function vk(e){const t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}function i7(e,t){if(!e.getProjection)return;const i=e.getProjection(),a=t.getProjection();Ji(i,a)||t.setProjection(i)}function o7(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function a7(e,t){const i=t.viewState||t;let a=!1;if("longitude"in i&&"latitude"in i){const l=e.center;e.center=new l.constructor(i.longitude,i.latitude),a=a||l!==e.center}if("zoom"in i){const l=e.zoom;e.zoom=i.zoom,a=a||l!==e.zoom}if("bearing"in i){const l=e.bearing;e.bearing=i.bearing,a=a||l!==e.bearing}if("pitch"in i){const l=e.pitch;e.pitch=i.pitch,a=a||l!==e.pitch}return i.padding&&!e.isPaddingEqual(i.padding)&&(a=!0,e.padding=i.padding),a}const _k=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function s7(e){if(!e)return null;if(typeof e=="string"||("toJS"in e&&(e=e.toJS()),!e.layers))return e;const t={};for(const a of e.layers)t[a.id]=a;const i=e.layers.map(a=>{let l=null;"interactive"in a&&(l=Object.assign({},a),delete l.interactive);const p=t[a.ref];if(p){l=l||Object.assign({},a),delete l.ref;for(const y of _k)y in p&&(l[y]=p[y])}return l||a});return{...e,layers:i}}var l7={};const u7={version:8,sources:{},layers:[]},c7={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},c8={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},d7={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},xk=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],bk=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class pu{constructor(t,i,a){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=l=>{const p=this.props[d7[l.type]];p?p(l):l.type==="error"&&console.error(l.error)},this._onPointerEvent=l=>{(l.type==="mousemove"||l.type==="mouseout")&&this._updateHover(l);const p=this.props[c7[l.type]];p&&(this.props.interactiveLayerIds&&l.type!=="mouseover"&&l.type!=="mouseout"&&(l.features=this._hoveredFeatures||this._queryRenderedFeatures(l.point)),p(l),delete l.features)},this._onCameraEvent=l=>{if(!this._internalUpdate){const p=this.props[c8[l.type]];p&&p(l)}l.type in this._deferredEvents&&(this._deferredEvents[l.type]=!1)},this._MapClass=t,this.props=i,this._initialize(a)}get map(){return this._map}get transform(){return this._renderTransform}setProps(t){const i=this.props;this.props=t;const a=this._updateSettings(t,i);a&&this._createShadowTransform(this._map);const l=this._updateSize(t),p=this._updateViewState(t,!0);this._updateStyle(t,i),this._updateStyleComponents(t,i),this._updateHandlers(t,i),(a||l||p&&!this._map.isMoving())&&this.redraw()}static reuse(t,i){const a=pu.savedMaps.pop();if(!a)return null;const l=a.map,p=l.getContainer();for(i.className=p.className;p.childNodes.length>0;)i.appendChild(p.childNodes[0]);l._container=i;const y=l._resizeObserver;y&&(y.disconnect(),y.observe(i)),a.setProps({...t,styleDiffing:!1}),l.resize();const{initialViewState:u}=t;return u&&(u.bounds?l.fitBounds(u.bounds,{...u.fitBoundsOptions,duration:0}):a._updateViewState(u,!1)),l.isStyleLoaded()?l.fire("load"):l.once("styledata",()=>l.fire("load")),l._update(),a}_initialize(t){const{props:i}=this,{mapStyle:a=u7}=i,l={...i,...i.initialViewState,accessToken:i.mapboxAccessToken||wk()||null,container:t,style:s7(a)},p=l.initialViewState||l.viewState||l;if(Object.assign(l,{center:[p.longitude||0,p.latitude||0],zoom:p.zoom||0,pitch:p.pitch||0,bearing:p.bearing||0}),i.gl){const P=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=P,i.gl)}const y=new this._MapClass(l);p.padding&&y.setPadding(p.padding),i.cursor&&(y.getCanvas().style.cursor=i.cursor),this._createShadowTransform(y);const u=y._render;y._render=P=>{this._inRender=!0,u.call(y,P),this._inRender=!1};const M=y._renderTaskQueue.run;y._renderTaskQueue.run=P=>{M.call(y._renderTaskQueue,P),this._onBeforeRepaint()},y.on("render",()=>this._onAfterRepaint());const S=y.fire;y.fire=this._fireEvent.bind(this,S),y.on("resize",()=>{this._renderTransform.resize(y.transform.width,y.transform.height)}),y.on("styledata",()=>{this._updateStyleComponents(this.props,{}),i7(y.transform,this._renderTransform)}),y.on("sourcedata",()=>this._updateStyleComponents(this.props,{}));for(const P in c7)y.on(P,this._onPointerEvent);for(const P in c8)y.on(P,this._onCameraEvent);for(const P in d7)y.on(P,this._onEvent);this._map=y}recycle(){const i=this.map.getContainer().querySelector("[mapboxgl-children]");i==null||i.remove(),pu.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const t=this._map;!this._inRender&&t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}_createShadowTransform(t){const i=vk(t.transform);t.painter.transform=i,this._renderTransform=i}_updateSize(t){const{viewState:i}=t;if(i){const a=this._map;if(i.width!==a.transform.width||i.height!==a.transform.height)return a.resize(),!0}return!1}_updateViewState(t,i){if(this._internalUpdate)return!1;const a=this._map,l=this._renderTransform,{zoom:p,pitch:y,bearing:u}=l,M=a.isMoving();M&&(l.cameraElevationReference="sea");const S=a7(l,{...o7(a.transform),...t});if(M&&(l.cameraElevationReference="ground"),S&&i){const P=this._deferredEvents;P.move=!0,P.zoom||(P.zoom=p!==l.zoom),P.rotate||(P.rotate=u!==l.bearing),P.pitch||(P.pitch=y!==l.pitch)}return M||a7(a.transform,t),S}_updateSettings(t,i){const a=this._map;let l=!1;for(const p of xk)if(p in t&&!Ji(t[p],i[p])){l=!0;const y=a[`set${p[0].toUpperCase()}${p.slice(1)}`];y==null||y.call(a,t[p])}return l}_updateStyle(t,i){if(t.cursor!==i.cursor&&(this._map.getCanvas().style.cursor=t.cursor||""),t.mapStyle!==i.mapStyle){const{mapStyle:a=u7,styleDiffing:l=!0}=t,p={diff:l};return"localIdeographFontFamily"in t&&(p.localIdeographFontFamily=t.localIdeographFontFamily),this._map.setStyle(s7(a),p),!0}return!1}_updateStyleComponents(t,i){const a=this._map;let l=!1;return a.isStyleLoaded()&&("light"in t&&a.setLight&&!Ji(t.light,i.light)&&(l=!0,a.setLight(t.light)),"fog"in t&&a.setFog&&!Ji(t.fog,i.fog)&&(l=!0,a.setFog(t.fog)),"terrain"in t&&a.setTerrain&&!Ji(t.terrain,i.terrain)&&(!t.terrain||a.getSource(t.terrain.source))&&(l=!0,a.setTerrain(t.terrain))),l}_updateHandlers(t,i){var a,l;const p=this._map;let y=!1;for(const u of bk){const M=(a=t[u])!==null&&a!==void 0?a:!0,S=(l=i[u])!==null&&l!==void 0?l:!0;Ji(M,S)||(y=!0,M?p[u].enable(M):p[u].disable())}return y}_queryRenderedFeatures(t){const i=this._map,a=i.transform,{interactiveLayerIds:l=[]}=this.props;try{return i.transform=this._renderTransform,i.queryRenderedFeatures(t,{layers:l.filter(i.getLayer.bind(i))})}catch{return[]}finally{i.transform=a}}_updateHover(t){var i;const{props:a}=this;if(a.interactiveLayerIds&&(a.onMouseMove||a.onMouseEnter||a.onMouseLeave)){const p=t.type,y=((i=this._hoveredFeatures)===null||i===void 0?void 0:i.length)>0,u=this._queryRenderedFeatures(t.point),M=u.length>0;!M&&y&&(t.type="mouseleave",this._onPointerEvent(t)),this._hoveredFeatures=u,M&&!y&&(t.type="mouseenter",this._onPointerEvent(t)),t.type=p}else this._hoveredFeatures=null}_fireEvent(t,i,a){const l=this._map,p=l.transform,y=typeof i=="string"?i:i.type;return y==="move"&&this._updateViewState(this.props,!1),y in c8&&(typeof i=="object"&&(i.viewState=o7(p)),this._map.isMoving())?(l.transform=this._renderTransform,t.call(l,i,a),l.transform=p,l):(t.call(l,i,a),l)}_onBeforeRepaint(){const t=this._map;this._internalUpdate=!0;for(const a in this._deferredEvents)this._deferredEvents[a]&&t.fire(a);this._internalUpdate=!1;const i=this._map.transform;t.transform=this._renderTransform,this._onAfterRepaint=()=>{i7(this._renderTransform,i),t.transform=i}}}pu.savedMaps=[];function wk(){let e=null;if(typeof location<"u"){const t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||l7.MapboxAccessToken}catch{}try{e=e||l7.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return e}const Sk=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function Ck(e){if(!e)return null;const t=e.map,i={getMap:()=>t,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:a=>{const l=t.transform;t.transform=e.transform;const p=t.project(a);return t.transform=l,p},unproject:a=>{const l=t.transform;t.transform=e.transform;const p=t.unproject(a);return t.transform=l,p},queryTerrainElevation:(a,l)=>{const p=t.transform;t.transform=e.transform;const y=t.queryTerrainElevation(a,l);return t.transform=p,y},queryRenderedFeatures:(a,l)=>{const p=t.transform;t.transform=e.transform;const y=t.queryRenderedFeatures(a,l);return t.transform=p,y}};for(const a of Mk(t))!(a in i)&&!Sk.includes(a)&&(i[a]=t[a].bind(t));return i}function Mk(e){const t=new Set;let i=e;for(;i;){for(const a of Object.getOwnPropertyNames(i))a[0]!=="_"&&typeof e[a]=="function"&&a!=="fire"&&a!=="setEventedParent"&&t.add(a);i=Object.getPrototypeOf(i)}return Array.from(t)}const Ek=typeof document<"u"?H.useLayoutEffect:H.useEffect,kk=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];function Ak(e,t){for(const a of kk)a in t&&(e[a]=t[a]);const{RTLTextPlugin:i="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=t;i&&e.getRTLTextPluginStatus&&e.getRTLTextPluginStatus()==="unavailable"&&e.setRTLTextPlugin(i,a=>{a&&console.error(a)},!1)}const wu=H.createContext(null);function Pk(e,t,i){const a=H.useContext(gk),[l,p]=H.useState(null),y=H.useRef(),{current:u}=H.useRef({mapLib:null,map:null});H.useEffect(()=>{const P=e.mapLib;let F=!0,R;return Promise.resolve(P||i).then(J=>{if(!F)return;if(!J)throw new Error("Invalid mapLib");const X="Map"in J?J:J.default;if(!X.Map)throw new Error("Invalid mapLib");if(Ak(X,e),!X.supported||X.supported(e))e.reuseMaps&&(R=pu.reuse(e,y.current)),R||(R=new pu(X.Map,e,y.current)),u.map=Ck(R),u.mapLib=X,p(R),a==null||a.onMapMount(u.map,e.id);else throw new Error("Map is not supported by this browser")}).catch(J=>{const{onError:X}=e;X?X({type:"error",target:null,originalEvent:null,error:J}):console.error(J)}),()=>{F=!1,R&&(a==null||a.onMapUnmount(e.id),e.reuseMaps?R.recycle():R.destroy())}},[]),Ek(()=>{l&&l.setProps(e)}),H.useImperativeHandle(t,()=>u.map,[l]);const M=H.useMemo(()=>({position:"relative",width:"100%",height:"100%",...e.style}),[e.style]),S={height:"100%"};return H.createElement("div",{id:e.id,ref:y,style:M},l&&H.createElement(wu.Provider,{value:u},H.createElement("div",{"mapboxgl-children":"",style:S},e.children)))}const Tk=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function Wl(e,t){if(!e||!t)return;const i=e.style;for(const a in t){const l=t[a];Number.isFinite(l)&&!Tk.test(a)?i[a]=`${l}px`:i[a]=l}}function Ik(e,t){const{map:i,mapLib:a}=H.useContext(wu),l=H.useRef({props:e});l.current.props=e;const p=H.useMemo(()=>{let G=!1;H.Children.forEach(e.children,B=>{B&&(G=!0)});const K={...e,element:G?document.createElement("div"):null},O=new a.Marker(K);return O.setLngLat([e.longitude,e.latitude]),O.getElement().addEventListener("click",B=>{var V,ne;(ne=(V=l.current.props).onClick)===null||ne===void 0||ne.call(V,{type:"click",target:O,originalEvent:B})}),O.on("dragstart",B=>{var V,ne;const he=B;he.lngLat=p.getLngLat(),(ne=(V=l.current.props).onDragStart)===null||ne===void 0||ne.call(V,he)}),O.on("drag",B=>{var V,ne;const he=B;he.lngLat=p.getLngLat(),(ne=(V=l.current.props).onDrag)===null||ne===void 0||ne.call(V,he)}),O.on("dragend",B=>{var V,ne;const he=B;he.lngLat=p.getLngLat(),(ne=(V=l.current.props).onDragEnd)===null||ne===void 0||ne.call(V,he)}),O},[]);H.useEffect(()=>(p.addTo(i.getMap()),()=>{p.remove()}),[]);const{longitude:y,latitude:u,offset:M,style:S,draggable:P=!1,popup:F=null,rotation:R=0,rotationAlignment:J="auto",pitchAlignment:X="auto"}=e;return H.useEffect(()=>{Wl(p.getElement(),S)},[S]),H.useImperativeHandle(t,()=>p,[]),(p.getLngLat().lng!==y||p.getLngLat().lat!==u)&&p.setLngLat([y,u]),M&&!yk(p.getOffset(),M)&&p.setOffset(M),p.isDraggable()!==P&&p.setDraggable(P),p.getRotation()!==R&&p.setRotation(R),p.getRotationAlignment()!==J&&p.setRotationAlignment(J),p.getPitchAlignment()!==X&&p.setPitchAlignment(X),p.getPopup()!==F&&p.setPopup(F),bu.createPortal(e.children,p.getElement())}H.memo(H.forwardRef(Ik));function h7(e){return new Set(e?e.trim().split(/\s+/):[])}function Lk(e,t){const{map:i,mapLib:a}=H.useContext(wu),l=H.useMemo(()=>document.createElement("div"),[]),p=H.useRef({props:e});p.current.props=e;const y=H.useMemo(()=>{const u={...e},M=new a.Popup(u);return M.setLngLat([e.longitude,e.latitude]),M.once("open",S=>{var P,F;(F=(P=p.current.props).onOpen)===null||F===void 0||F.call(P,S)}),M},[]);if(H.useEffect(()=>{const u=M=>{var S,P;(P=(S=p.current.props).onClose)===null||P===void 0||P.call(S,M)};return y.on("close",u),y.setDOMContent(l).addTo(i.getMap()),()=>{y.off("close",u),y.isOpen()&&y.remove()}},[]),H.useEffect(()=>{Wl(y.getElement(),e.style)},[e.style]),H.useImperativeHandle(t,()=>y,[]),y.isOpen()&&((y.getLngLat().lng!==e.longitude||y.getLngLat().lat!==e.latitude)&&y.setLngLat([e.longitude,e.latitude]),e.offset&&!Ji(y.options.offset,e.offset)&&y.setOffset(e.offset),(y.options.anchor!==e.anchor||y.options.maxWidth!==e.maxWidth)&&(y.options.anchor=e.anchor,y.setMaxWidth(e.maxWidth)),y.options.className!==e.className)){const u=h7(y.options.className),M=h7(e.className);for(const S of u)M.has(S)||y.removeClassName(S);for(const S of M)u.has(S)||y.addClassName(S);y.options.className=e.className}return bu.createPortal(e.children,l)}const Dk=H.memo(H.forwardRef(Lk));function jd(e,t,i,a){const l=H.useContext(wu),p=H.useMemo(()=>e(l),[]);return H.useEffect(()=>{const y=a||i||t,u=typeof t=="function"&&typeof i=="function"?t:null,M=typeof i=="function"?i:typeof t=="function"?t:null,{map:S}=l;return S.hasControl(p)||(S.addControl(p,y==null?void 0:y.position),u&&u(l)),()=>{M&&M(l),S.hasControl(p)&&S.removeControl(p)}},[]),p}function Rk(e){const t=jd(({mapLib:i})=>new i.AttributionControl(e),{position:e.position});return H.useEffect(()=>{Wl(t._container,e.style)},[e.style]),null}H.memo(Rk);function zk(e){const t=jd(({mapLib:i})=>new i.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return H.useEffect(()=>{Wl(t._controlContainer,e.style)},[e.style]),null}H.memo(zk);function Fk(e,t){const i=H.useRef({props:e}),a=jd(({mapLib:l})=>{const p=new l.GeolocateControl(e),y=p._setupUI;return p._setupUI=u=>{p._container.hasChildNodes()||y(u)},p.on("geolocate",u=>{var M,S;(S=(M=i.current.props).onGeolocate)===null||S===void 0||S.call(M,u)}),p.on("error",u=>{var M,S;(S=(M=i.current.props).onError)===null||S===void 0||S.call(M,u)}),p.on("outofmaxbounds",u=>{var M,S;(S=(M=i.current.props).onOutOfMaxBounds)===null||S===void 0||S.call(M,u)}),p.on("trackuserlocationstart",u=>{var M,S;(S=(M=i.current.props).onTrackUserLocationStart)===null||S===void 0||S.call(M,u)}),p.on("trackuserlocationend",u=>{var M,S;(S=(M=i.current.props).onTrackUserLocationEnd)===null||S===void 0||S.call(M,u)}),p},{position:e.position});return i.current.props=e,H.useImperativeHandle(t,()=>a,[]),H.useEffect(()=>{Wl(a._container,e.style)},[e.style]),null}H.memo(H.forwardRef(Fk));function Nk(e){const t=jd(({mapLib:i})=>new i.NavigationControl(e),{position:e.position});return H.useEffect(()=>{Wl(t._container,e.style)},[e.style]),null}H.memo(Nk);function Ok(e){const t=jd(({mapLib:p})=>new p.ScaleControl(e),{position:e.position}),i=H.useRef(e),a=i.current;i.current=e;const{style:l}=e;return e.maxWidth!==void 0&&e.maxWidth!==a.maxWidth&&(t.options.maxWidth=e.maxWidth),e.unit!==void 0&&e.unit!==a.unit&&t.setUnit(e.unit),H.useEffect(()=>{Wl(t._container,l)},[l]),null}const Bk=H.memo(Ok);function E4(e,t){if(!e)throw new Error(t)}function $k(e,t,i,a){if(E4(i.id===a.id,"layer id changed"),E4(i.type===a.type,"layer type changed"),i.type==="custom"||a.type==="custom")return;const{layout:l={},paint:p={},filter:y,minzoom:u,maxzoom:M,beforeId:S}=i;if(S!==a.beforeId&&e.moveLayer(t,S),l!==a.layout){const P=a.layout||{};for(const F in l)Ji(l[F],P[F])||e.setLayoutProperty(t,F,l[F]);for(const F in P)l.hasOwnProperty(F)||e.setLayoutProperty(t,F,void 0)}if(p!==a.paint){const P=a.paint||{};for(const F in p)Ji(p[F],P[F])||e.setPaintProperty(t,F,p[F]);for(const F in P)p.hasOwnProperty(F)||e.setPaintProperty(t,F,void 0)}Ji(y,a.filter)||e.setFilter(t,y),(u!==a.minzoom||M!==a.maxzoom)&&e.setLayerZoomRange(t,u,M)}function jk(e,t,i){if(e.style&&e.style._loaded&&(!("source"in i)||e.getSource(i.source))){const a={...i,id:t};delete a.beforeId,e.addLayer(a,i.beforeId)}}let Vk=0;function Wk(e){const t=H.useContext(wu).map.getMap(),i=H.useRef(e),[,a]=H.useState(0),l=H.useMemo(()=>e.id||`jsx-layer-${Vk++}`,[]);if(H.useEffect(()=>{if(t){const y=()=>a(u=>u+1);return t.on("styledata",y),y(),()=>{t.off("styledata",y),t.style&&t.style._loaded&&t.getLayer(l)&&t.removeLayer(l)}}},[t]),t&&t.style&&t.getLayer(l))try{$k(t,l,e,i.current)}catch(y){console.warn(y)}else jk(t,l,e);return i.current=e,null}let Uk=0;function Hk(e,t,i){if(e.style&&e.style._loaded){const a={...i};return delete a.id,delete a.children,e.addSource(t,a),e.getSource(t)}return null}function Zk(e,t,i){E4(t.id===i.id,"source id changed"),E4(t.type===i.type,"source type changed");let a="",l=0;for(const y in t)y!=="children"&&y!=="id"&&!Ji(i[y],t[y])&&(a=y,l++);if(!l)return;const p=t.type;if(p==="geojson")e.setData(t.data);else if(p==="image")e.updateImage({url:t.url,coordinates:t.coordinates});else if("setCoordinates"in e&&l===1&&a==="coordinates")e.setCoordinates(t.coordinates);else if("setUrl"in e)switch(a){case"url":e.setUrl(t.url);break;case"tiles":e.setTiles(t.tiles);break}else console.warn(`Unable to update <Source> prop: ${a}`)}function Gk(e){const t=H.useContext(wu).map.getMap(),i=H.useRef(e),[,a]=H.useState(0),l=H.useMemo(()=>e.id||`jsx-source-${Uk++}`,[]);H.useEffect(()=>{if(t){const y=()=>setTimeout(()=>a(u=>u+1),0);return t.on("styledata",y),y(),()=>{var u;if(t.off("styledata",y),t.style&&t.style._loaded&&t.getSource(l)){const M=(u=t.getStyle())===null||u===void 0?void 0:u.layers;if(M)for(const S of M)S.source===l&&t.removeLayer(S.id);t.removeSource(l)}}}},[t]);let p=t&&t.style&&t.getSource(l);return p?Zk(p,e,i.current):p=Hk(t,l,e),i.current=e,p&&H.Children.map(e.children,y=>y&&H.cloneElement(y,{source:l}))||null}const qk=mk(()=>import("./mapbox-gl-rh84mBiD.js").then(e=>e.m),__vite__mapDeps([])),Kk=(()=>H.forwardRef(function(t,i){return Pk(t,i,qk)}))(),Xk=Dk,Jk=Bk,Bc=Wk,d8=Gk;var y_={exports:{}};(function(e,t){(function(i,a){e.exports=a()})(pS,function(){var i,a,l;function p(u,M){if(!i)i=M;else if(!a)a=M;else{var S="var sharedChunk = {}; ("+i+")(sharedChunk); ("+a+")(sharedChunk);",P={};i(P),l=M(P),typeof window<"u"&&(l.workerUrl=window.URL.createObjectURL(new Blob([S],{type:"text/javascript"})))}}p(["exports"],function(u){function M(o,n,s,d){return new(s||(s=Promise))(function(f,v){function x(A){try{E(d.next(A))}catch(I){v(I)}}function b(A){try{E(d.throw(A))}catch(I){v(I)}}function E(A){var I;A.done?f(A.value):(I=A.value,I instanceof s?I:new s(function(z){z(I)})).then(x,b)}E((d=d.apply(o,n||[])).next())})}function S(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}typeof SuppressedError=="function"&&SuppressedError;var P=F;function F(o,n){this.x=o,this.y=n}F.prototype={clone:function(){return new F(this.x,this.y)},add:function(o){return this.clone()._add(o)},sub:function(o){return this.clone()._sub(o)},multByPoint:function(o){return this.clone()._multByPoint(o)},divByPoint:function(o){return this.clone()._divByPoint(o)},mult:function(o){return this.clone()._mult(o)},div:function(o){return this.clone()._div(o)},rotate:function(o){return this.clone()._rotate(o)},rotateAround:function(o,n){return this.clone()._rotateAround(o,n)},matMult:function(o){return this.clone()._matMult(o)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(o){return this.x===o.x&&this.y===o.y},dist:function(o){return Math.sqrt(this.distSqr(o))},distSqr:function(o){var n=o.x-this.x,s=o.y-this.y;return n*n+s*s},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(o){return Math.atan2(this.y-o.y,this.x-o.x)},angleWith:function(o){return this.angleWithSep(o.x,o.y)},angleWithSep:function(o,n){return Math.atan2(this.x*n-this.y*o,this.x*o+this.y*n)},_matMult:function(o){var n=o[2]*this.x+o[3]*this.y;return this.x=o[0]*this.x+o[1]*this.y,this.y=n,this},_add:function(o){return this.x+=o.x,this.y+=o.y,this},_sub:function(o){return this.x-=o.x,this.y-=o.y,this},_mult:function(o){return this.x*=o,this.y*=o,this},_div:function(o){return this.x/=o,this.y/=o,this},_multByPoint:function(o){return this.x*=o.x,this.y*=o.y,this},_divByPoint:function(o){return this.x/=o.x,this.y/=o.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var o=this.y;return this.y=this.x,this.x=-o,this},_rotate:function(o){var n=Math.cos(o),s=Math.sin(o),d=s*this.x+n*this.y;return this.x=n*this.x-s*this.y,this.y=d,this},_rotateAround:function(o,n){var s=Math.cos(o),d=Math.sin(o),f=n.y+d*(this.x-n.x)+s*(this.y-n.y);return this.x=n.x+s*(this.x-n.x)-d*(this.y-n.y),this.y=f,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},F.convert=function(o){return o instanceof F?o:Array.isArray(o)?new F(o[0],o[1]):o};var R=S(P),J=X;function X(o,n,s,d){this.cx=3*o,this.bx=3*(s-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*n,this.by=3*(d-n)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=n,this.p2x=s,this.p2y=d}X.prototype={sampleCurveX:function(o){return((this.ax*o+this.bx)*o+this.cx)*o},sampleCurveY:function(o){return((this.ay*o+this.by)*o+this.cy)*o},sampleCurveDerivativeX:function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},solveCurveX:function(o,n){if(n===void 0&&(n=1e-6),o<0)return 0;if(o>1)return 1;for(var s=o,d=0;d<8;d++){var f=this.sampleCurveX(s)-o;if(Math.abs(f)<n)return s;var v=this.sampleCurveDerivativeX(s);if(Math.abs(v)<1e-6)break;s-=f/v}var x=0,b=1;for(s=o,d=0;d<20&&(f=this.sampleCurveX(s),!(Math.abs(f-o)<n));d++)o>f?x=s:b=s,s=.5*(b-x)+x;return s},solve:function(o,n){return this.sampleCurveY(this.solveCurveX(o,n))}};var G=S(J);let K,O;function B(){return K==null&&(K=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),K}function V(){if(O==null&&(O=!1,B())){const n=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(n){for(let d=0;d<5*5;d++){const f=4*d;n.fillStyle=`rgb(${f},${f+1},${f+2})`,n.fillRect(d%5,Math.floor(d/5),1,1)}const s=n.getImageData(0,0,5,5).data;for(let d=0;d<5*5*4;d++)if(d%4!=3&&s[d]!==d){O=!0;break}}}return O||!1}function ne(o,n,s,d){const f=new G(o,n,s,d);return function(v){return f.solve(v)}}const he=ne(.25,.1,.25,1);function pe(o,n,s){return Math.min(s,Math.max(n,o))}function de(o,n,s){const d=s-n,f=((o-n)%d+d)%d+n;return f===n?s:f}function Se(o,...n){for(const s of n)for(const d in s)o[d]=s[d];return o}let Te=1;function Me(o,n,s){const d={};for(const f in o)d[f]=n.call(s||this,o[f],f,o);return d}function Be(o,n,s){const d={};for(const f in o)n.call(s||this,o[f],f,o)&&(d[f]=o[f]);return d}function He(o){return Array.isArray(o)?o.map(He):typeof o=="object"&&o?Me(o,He):o}const We={};function qe(o){We[o]||(typeof console<"u"&&console.warn(o),We[o]=!0)}function Je(o,n,s){return(s.y-o.y)*(n.x-o.x)>(n.y-o.y)*(s.x-o.x)}function Le(o){let n=0;for(let s,d,f=0,v=o.length,x=v-1;f<v;x=f++)s=o[f],d=o[x],n+=(d.x-s.x)*(s.y+d.y);return n}function Ie(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let we=null;function Re(o){return typeof ImageBitmap<"u"&&o instanceof ImageBitmap}const Ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Ze(o,n,s,d,f){return M(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const v=new VideoFrame(o,{timestamp:0});try{const x=v==null?void 0:v.format;if(!x||!x.startsWith("BGR")&&!x.startsWith("RGB"))throw new Error(`Unrecognized format ${x}`);const b=x.startsWith("BGR"),E=new Uint8ClampedArray(d*f*4);if(yield v.copyTo(E,function(A,I,z,$,U){const Z=4*Math.max(-I,0),Q=(Math.max(0,z)-z)*$*4+Z,se=4*$,ce=Math.max(0,I),_e=Math.max(0,z);return{rect:{x:ce,y:_e,width:Math.min(A.width,I+$)-ce,height:Math.min(A.height,z+U)-_e},layout:[{offset:Q,stride:se}]}}(o,n,s,d,f)),b)for(let A=0;A<E.length;A+=4){const I=E[A];E[A]=E[A+2],E[A+2]=I}return E}finally{v.close()}})}let at,ut,Pt,Xt;const qt={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(o){const n=requestAnimationFrame(o);return{cancel:()=>cancelAnimationFrame(n)}},getImageData(o,n=0){return this.getImageCanvasContext(o).getImageData(-n,-n,o.width+2*n,o.height+2*n)},getImageCanvasContext(o){const n=window.document.createElement("canvas"),s=n.getContext("2d",{willReadFrequently:!0});if(!s)throw new Error("failed to create canvas 2d context");return n.width=o.width,n.height=o.height,s.drawImage(o,0,0,o.width,o.height),s},resolveURL:o=>(Pt||(Pt=document.createElement("a")),Pt.href=o,Pt.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(Xt==null&&(Xt=matchMedia("(prefers-reduced-motion: reduce)")),Xt.matches)}},ln={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class er extends Error{constructor(n,s,d,f){super(`AJAXError: ${s} (${n}): ${d}`),this.status=n,this.statusText=s,this.url=d,this.body=f}}const tr=Ie()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href,Nn=o=>ln.REGISTERED_PROTOCOLS[o.substring(0,o.indexOf("://"))];function nr(o,n){const s=new AbortController,d=new Request(o.url,{method:o.method||"GET",body:o.body,credentials:o.credentials,headers:o.headers,cache:o.cache,referrer:tr(),signal:s.signal});let f=!1,v=!1;return o.type==="json"&&d.headers.set("Accept","application/json"),v||fetch(d).then(x=>x.ok?(b=>{(o.type==="arrayBuffer"||o.type==="image"?b.arrayBuffer():o.type==="json"?b.json():b.text()).then(E=>{v||(f=!0,n(null,E,b.headers.get("Cache-Control"),b.headers.get("Expires")))}).catch(E=>{v||n(new Error(E.message))})})(x):x.blob().then(b=>n(new er(x.status,x.statusText,o.url,b)))).catch(x=>{x.code!==20&&n(new Error(x.message))}),{cancel:()=>{v=!0,f||s.abort()}}}const Mr=function(o,n){if(/:\/\//.test(o.url)&&!/^https?:|^file:/.test(o.url)){if(Ie()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",o,n);if(!Ie())return(Nn(o.url)||nr)(o,n)}if(!(/^file:/.test(s=o.url)||/^file:/.test(tr())&&!/^\w+:/.test(s))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return nr(o,n);if(Ie()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",o,n,void 0,!0)}var s;return function(d,f){const v=new XMLHttpRequest;v.open(d.method||"GET",d.url,!0),d.type!=="arrayBuffer"&&d.type!=="image"||(v.responseType="arraybuffer");for(const x in d.headers)v.setRequestHeader(x,d.headers[x]);return d.type==="json"&&(v.responseType="text",v.setRequestHeader("Accept","application/json")),v.withCredentials=d.credentials==="include",v.onerror=()=>{f(new Error(v.statusText))},v.onload=()=>{if((v.status>=200&&v.status<300||v.status===0)&&v.response!==null){let x=v.response;if(d.type==="json")try{x=JSON.parse(v.response)}catch(b){return f(b)}f(null,x,v.getResponseHeader("Cache-Control"),v.getResponseHeader("Expires"))}else{const x=new Blob([v.response],{type:v.getResponseHeader("Content-Type")});f(new er(v.status,v.statusText,d.url,x))}},v.send(d.body),{cancel:()=>v.abort()}}(o,n)},nn=function(o,n){return Mr(Se(o,{type:"arrayBuffer"}),n)};function Kn(o){if(!o||o.indexOf("://")<=0||o.indexOf("data:image/")===0||o.indexOf("blob:")===0)return!0;const n=new URL(o),s=window.location;return n.protocol===s.protocol&&n.host===s.host}function rr(o,n,s){s[o]&&s[o].indexOf(n)!==-1||(s[o]=s[o]||[],s[o].push(n))}function ai(o,n,s){if(s&&s[o]){const d=s[o].indexOf(n);d!==-1&&s[o].splice(d,1)}}class Er{constructor(n,s={}){Se(this,s),this.type=n}}class gr extends Er{constructor(n,s={}){super("error",Se({error:n},s))}}class pn{on(n,s){return this._listeners=this._listeners||{},rr(n,s,this._listeners),this}off(n,s){return ai(n,s,this._listeners),ai(n,s,this._oneTimeListeners),this}once(n,s){return s?(this._oneTimeListeners=this._oneTimeListeners||{},rr(n,s,this._oneTimeListeners),this):new Promise(d=>this.once(n,d))}fire(n,s){typeof n=="string"&&(n=new Er(n,s||{}));const d=n.type;if(this.listens(d)){n.target=this;const f=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(const b of f)b.call(this,n);const v=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(const b of v)ai(d,b,this._oneTimeListeners),b.call(this,n);const x=this._eventedParent;x&&(Se(n,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),x.fire(n))}else n instanceof gr&&console.error(n.error);return this}listens(n){return this._listeners&&this._listeners[n]&&this._listeners[n].length>0||this._oneTimeListeners&&this._oneTimeListeners[n]&&this._oneTimeListeners[n].length>0||this._eventedParent&&this._eventedParent.listens(n)}setEventedParent(n,s){return this._eventedParent=n,this._eventedParentData=s,this}}var ke={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Rt=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Kt(o,n){const s={};for(const d in o)d!=="ref"&&(s[d]=o[d]);return Rt.forEach(d=>{d in n&&(s[d]=n[d])}),s}function Ot(o,n){if(Array.isArray(o)){if(!Array.isArray(n)||o.length!==n.length)return!1;for(let s=0;s<o.length;s++)if(!Ot(o[s],n[s]))return!1;return!0}if(typeof o=="object"&&o!==null&&n!==null){if(typeof n!="object"||Object.keys(o).length!==Object.keys(n).length)return!1;for(const s in o)if(!Ot(o[s],n[s]))return!1;return!0}return o===n}const Zt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ci(o,n,s){s.push({command:Zt.addSource,args:[o,n[o]]})}function na(o,n,s){n.push({command:Zt.removeSource,args:[o]}),s[o]=!0}function Vi(o,n,s,d){na(o,s,d),Ci(o,n,s)}function Ya(o,n,s){let d;for(d in o[s])if(Object.prototype.hasOwnProperty.call(o[s],d)&&d!=="data"&&!Ot(o[s][d],n[s][d]))return!1;for(d in n[s])if(Object.prototype.hasOwnProperty.call(n[s],d)&&d!=="data"&&!Ot(o[s][d],n[s][d]))return!1;return!0}function ra(o,n,s,d,f,v){let x;for(x in n=n||{},o=o||{})Object.prototype.hasOwnProperty.call(o,x)&&(Ot(o[x],n[x])||s.push({command:v,args:[d,x,n[x],f]}));for(x in n)Object.prototype.hasOwnProperty.call(n,x)&&!Object.prototype.hasOwnProperty.call(o,x)&&(Ot(o[x],n[x])||s.push({command:v,args:[d,x,n[x],f]}))}function uo(o){return o.id}function Io(o,n){return o[n.id]=n,o}class Ye{constructor(n,s,d,f){this.message=(n?`${n}: `:"")+d,f&&(this.identifier=f),s!=null&&s.__line__&&(this.line=s.__line__)}}function Mi(o,...n){for(const s of n)for(const d in s)o[d]=s[d];return o}class Cn extends Error{constructor(n,s){super(s),this.message=s,this.key=n}}class si{constructor(n,s=[]){this.parent=n,this.bindings={};for(const[d,f]of s)this.bindings[d]=f}concat(n){return new si(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return!!this.bindings[n]||!!this.parent&&this.parent.has(n)}}const Fr={kind:"null"},Qe={kind:"number"},Lt={kind:"string"},kt={kind:"boolean"},On={kind:"color"},Ei={kind:"object"},xt={kind:"value"},ki={kind:"collator"},ie={kind:"formatted"},N={kind:"padding"},j={kind:"resolvedImage"},q={kind:"variableAnchorOffsetCollection"};function re(o,n){return{kind:"array",itemType:o,N:n}}function ae(o){if(o.kind==="array"){const n=ae(o.itemType);return typeof o.N=="number"?`array<${n}, ${o.N}>`:o.itemType.kind==="value"?"array":`array<${n}>`}return o.kind}const xe=[Fr,Qe,Lt,kt,On,ie,Ei,re(xt),N,j,q];function me(o,n){if(n.kind==="error")return null;if(o.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!me(o.itemType,n.itemType))&&(typeof o.N!="number"||o.N===n.N))return null}else{if(o.kind===n.kind)return null;if(o.kind==="value"){for(const s of xe)if(!me(s,n))return null}}return`Expected ${ae(o)} but found ${ae(n)} instead.`}function ue(o,n){return n.some(s=>s.kind===o.kind)}function ye(o,n){return n.some(s=>s==="null"?o===null:s==="array"?Array.isArray(o):s==="object"?o&&!Array.isArray(o)&&typeof o=="object":s===typeof o)}function De(o,n){return o.kind==="array"&&n.kind==="array"?o.itemType.kind===n.itemType.kind&&typeof o.N=="number":o.kind===n.kind}const ze=.96422,$e=.82521,pt=4/29,At=6/29,ft=3*At*At,St=At*At*At,It=Math.PI/180,rn=180/Math.PI;function dn(o){return(o%=360)<0&&(o+=360),o}function Gt([o,n,s,d]){let f,v;const x=kr((.2225045*(o=Ht(o))+.7168786*(n=Ht(n))+.0606169*(s=Ht(s)))/1);o===n&&n===s?f=v=x:(f=kr((.4360747*o+.3850649*n+.1430804*s)/ze),v=kr((.0139322*o+.0971045*n+.7141733*s)/$e));const b=116*x-16;return[b<0?0:b,500*(f-x),200*(x-v),d]}function Ht(o){return o<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}function kr(o){return o>St?Math.pow(o,1/3):o/ft+pt}function fn([o,n,s,d]){let f=(o+16)/116,v=isNaN(n)?f:f+n/500,x=isNaN(s)?f:f-s/200;return f=1*yr(f),v=ze*yr(v),x=$e*yr(x),[Xn(3.1338561*v-1.6168667*f-.4906146*x),Xn(-.9787684*v+1.9161415*f+.033454*x),Xn(.0719453*v-.2289914*f+1.4052427*x),d]}function Xn(o){return(o=o<=.00304?12.92*o:1.055*Math.pow(o,1/2.4)-.055)<0?0:o>1?1:o}function yr(o){return o>At?o*o*o:ft*(o-pt)}function Ai(o){return parseInt(o.padEnd(2,o),16)/255}function Gd(o,n){return Qa(n?o/100:o,0,1)}function Qa(o,n,s){return Math.min(Math.max(n,o),s)}function es(o){return!o.some(Number.isNaN)}const E0={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class un{constructor(n,s,d,f=1,v=!0){this.r=n,this.g=s,this.b=d,this.a=f,v||(this.r*=f,this.g*=f,this.b*=f,f||this.overwriteGetter("rgb",[n,s,d,f]))}static parse(n){if(n instanceof un)return n;if(typeof n!="string")return;const s=function(d){if((d=d.toLowerCase().trim())==="transparent")return[0,0,0,0];const f=E0[d];if(f){const[x,b,E]=f;return[x/255,b/255,E/255,1]}if(d.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(d)){const x=d.length<6?1:2;let b=1;return[Ai(d.slice(b,b+=x)),Ai(d.slice(b,b+=x)),Ai(d.slice(b,b+=x)),Ai(d.slice(b,b+x)||"ff")]}if(d.startsWith("rgb")){const x=d.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(x){const[b,E,A,I,z,$,U,Z,Q,se,ce,_e]=x,fe=[I||" ",U||" ",se].join("");if(fe==="  "||fe==="  /"||fe===",,"||fe===",,,"){const be=[A,$,Q].join(""),Ee=be==="%%%"?100:be===""?255:0;if(Ee){const Oe=[Qa(+E/Ee,0,1),Qa(+z/Ee,0,1),Qa(+Z/Ee,0,1),ce?Gd(+ce,_e):1];if(es(Oe))return Oe}}return}}const v=d.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(v){const[x,b,E,A,I,z,$,U,Z]=v,Q=[E||" ",I||" ",$].join("");if(Q==="  "||Q==="  /"||Q===",,"||Q===",,,"){const se=[+b,Qa(+A,0,100),Qa(+z,0,100),U?Gd(+U,Z):1];if(es(se))return function([ce,_e,fe,be]){function Ee(Oe){const lt=(Oe+ce/30)%12,gt=_e*Math.min(fe,1-fe);return fe-gt*Math.max(-1,Math.min(lt-3,9-lt,1))}return ce=dn(ce),_e/=100,fe/=100,[Ee(0),Ee(8),Ee(4),be]}(se)}}}(n);return s?new un(...s,!1):void 0}get rgb(){const{r:n,g:s,b:d,a:f}=this,v=f||1/0;return this.overwriteGetter("rgb",[n/v,s/v,d/v,f])}get hcl(){return this.overwriteGetter("hcl",function(n){const[s,d,f,v]=Gt(n),x=Math.sqrt(d*d+f*f);return[Math.round(1e4*x)?dn(Math.atan2(f,d)*rn):NaN,x,s,v]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Gt(this.rgb))}overwriteGetter(n,s){return Object.defineProperty(this,n,{value:s}),s}toString(){const[n,s,d,f]=this.rgb;return`rgba(${[n,s,d].map(v=>Math.round(255*v)).join(",")},${f})`}}un.black=new un(0,0,0,1),un.white=new un(1,1,1,1),un.transparent=new un(0,0,0,0),un.red=new un(1,0,0,1);class Mu{constructor(n,s,d){this.sensitivity=n?s?"variant":"case":s?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,s){return this.collator.compare(n,s)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Hl{constructor(n,s,d,f,v){this.text=n,this.image=s,this.scale=d,this.fontStack=f,this.textColor=v}}class Ar{constructor(n){this.sections=n}static fromString(n){return new Ar([new Hl(n,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(n=>n.text.length!==0||n.image&&n.image.name.length!==0)}static factory(n){return n instanceof Ar?n:Ar.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map(n=>n.text).join("")}}class li{constructor(n){this.values=n.slice()}static parse(n){if(n instanceof li)return n;if(typeof n=="number")return new li([n,n,n,n]);if(Array.isArray(n)&&!(n.length<1||n.length>4)){for(const s of n)if(typeof s!="number")return;switch(n.length){case 1:n=[n[0],n[0],n[0],n[0]];break;case 2:n=[n[0],n[1],n[0],n[1]];break;case 3:n=[n[0],n[1],n[2],n[1]]}return new li(n)}}toString(){return JSON.stringify(this.values)}}const k0=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Pi{constructor(n){this.values=n.slice()}static parse(n){if(n instanceof Pi)return n;if(Array.isArray(n)&&!(n.length<1)&&n.length%2==0){for(let s=0;s<n.length;s+=2){const d=n[s],f=n[s+1];if(typeof d!="string"||!k0.has(d)||!Array.isArray(f)||f.length!==2||typeof f[0]!="number"||typeof f[1]!="number")return}return new Pi(n)}}toString(){return JSON.stringify(this.values)}}class vr{constructor(n){this.name=n.name,this.available=n.available}toString(){return this.name}static fromString(n){return n?new vr({name:n,available:!1}):null}}function Zl(o,n,s,d){return typeof o=="number"&&o>=0&&o<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof s=="number"&&s>=0&&s<=255?d===void 0||typeof d=="number"&&d>=0&&d<=1?null:`Invalid rgba value [${[o,n,s,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof d=="number"?[o,n,s,d]:[o,n,s]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function ts(o){if(o===null||typeof o=="string"||typeof o=="boolean"||typeof o=="number"||o instanceof un||o instanceof Mu||o instanceof Ar||o instanceof li||o instanceof Pi||o instanceof vr)return!0;if(Array.isArray(o)){for(const n of o)if(!ts(n))return!1;return!0}if(typeof o=="object"){for(const n in o)if(!ts(o[n]))return!1;return!0}return!1}function kn(o){if(o===null)return Fr;if(typeof o=="string")return Lt;if(typeof o=="boolean")return kt;if(typeof o=="number")return Qe;if(o instanceof un)return On;if(o instanceof Mu)return ki;if(o instanceof Ar)return ie;if(o instanceof li)return N;if(o instanceof Pi)return q;if(o instanceof vr)return j;if(Array.isArray(o)){const n=o.length;let s;for(const d of o){const f=kn(d);if(s){if(s===f)continue;s=xt;break}s=f}return re(s||xt,n)}return Ei}function Qt(o){const n=typeof o;return o===null?"":n==="string"||n==="number"||n==="boolean"?String(o):o instanceof un||o instanceof Ar||o instanceof li||o instanceof Pi||o instanceof vr?o.toString():JSON.stringify(o)}class _a{constructor(n,s){this.type=n,this.value=s}static parse(n,s){if(n.length!==2)return s.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!ts(n[1]))return s.error("invalid value");const d=n[1];let f=kn(d);const v=s.expectedType;return f.kind!=="array"||f.N!==0||!v||v.kind!=="array"||typeof v.N=="number"&&v.N!==0||(f=v),new _a(f,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Ln{constructor(n){this.name="ExpressionEvaluationError",this.message=n}toJSON(){return this.message}}const Gl={string:Lt,number:Qe,boolean:kt,object:Ei};class Ti{constructor(n,s){this.type=n,this.args=s}static parse(n,s){if(n.length<2)return s.error("Expected at least one argument.");let d,f=1;const v=n[0];if(v==="array"){let b,E;if(n.length>2){const A=n[1];if(typeof A!="string"||!(A in Gl)||A==="object")return s.error('The item type argument of "array" must be one of string, number, boolean',1);b=Gl[A],f++}else b=xt;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return s.error('The length argument to "array" must be a positive integer literal',2);E=n[2],f++}d=re(b,E)}else{if(!Gl[v])throw new Error(`Types doesn't contain name = ${v}`);d=Gl[v]}const x=[];for(;f<n.length;f++){const b=s.parse(n[f],f,xt);if(!b)return null;x.push(b)}return new Ti(d,x)}evaluate(n){for(let s=0;s<this.args.length;s++){const d=this.args[s].evaluate(n);if(!me(this.type,kn(d)))return d;if(s===this.args.length-1)throw new Ln(`Expected value to be of type ${ae(this.type)}, but found ${ae(kn(d))} instead.`)}throw new Error}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}}const Eu={"to-boolean":kt,"to-color":On,"to-number":Qe,"to-string":Lt};class ia{constructor(n,s){this.type=n,this.args=s}static parse(n,s){if(n.length<2)return s.error("Expected at least one argument.");const d=n[0];if(!Eu[d])throw new Error(`Can't parse ${d} as it is not part of the known types`);if((d==="to-boolean"||d==="to-string")&&n.length!==2)return s.error("Expected one argument.");const f=Eu[d],v=[];for(let x=1;x<n.length;x++){const b=s.parse(n[x],x,xt);if(!b)return null;v.push(b)}return new ia(f,v)}evaluate(n){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(n);case"color":{let s,d;for(const f of this.args){if(s=f.evaluate(n),d=null,s instanceof un)return s;if(typeof s=="string"){const v=n.parseColor(s);if(v)return v}else if(Array.isArray(s)&&(d=s.length<3||s.length>4?`Invalid rbga value ${JSON.stringify(s)}: expected an array containing either three or four numeric values.`:Zl(s[0],s[1],s[2],s[3]),!d))return new un(s[0]/255,s[1]/255,s[2]/255,s[3])}throw new Ln(d||`Could not parse color from value '${typeof s=="string"?s:JSON.stringify(s)}'`)}case"padding":{let s;for(const d of this.args){s=d.evaluate(n);const f=li.parse(s);if(f)return f}throw new Ln(`Could not parse padding from value '${typeof s=="string"?s:JSON.stringify(s)}'`)}case"variableAnchorOffsetCollection":{let s;for(const d of this.args){s=d.evaluate(n);const f=Pi.parse(s);if(f)return f}throw new Ln(`Could not parse variableAnchorOffsetCollection from value '${typeof s=="string"?s:JSON.stringify(s)}'`)}case"number":{let s=null;for(const d of this.args){if(s=d.evaluate(n),s===null)return 0;const f=Number(s);if(!isNaN(f))return f}throw new Ln(`Could not convert ${JSON.stringify(s)} to number.`)}case"formatted":return Ar.fromString(Qt(this.args[0].evaluate(n)));case"resolvedImage":return vr.fromString(Qt(this.args[0].evaluate(n)));default:return Qt(this.args[0].evaluate(n))}}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}}const qd=["Unknown","Point","LineString","Polygon"];class ku{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?qd[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(n){let s=this._parseColorCache[n];return s||(s=this._parseColorCache[n]=un.parse(n)),s}}class ql{constructor(n,s,d=[],f,v=new si,x=[]){this.registry=n,this.path=d,this.key=d.map(b=>`[${b}]`).join(""),this.scope=v,this.errors=x,this.expectedType=f,this._isConstant=s}parse(n,s,d,f,v={}){return s?this.concat(s,d,f)._parse(n,v):this._parse(n,v)}_parse(n,s){function d(f,v,x){return x==="assert"?new Ti(v,[f]):x==="coerce"?new ia(v,[f]):f}if(n!==null&&typeof n!="string"&&typeof n!="boolean"&&typeof n!="number"||(n=["literal",n]),Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const f=n[0];if(typeof f!="string")return this.error(`Expression name must be a string, but found ${typeof f} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const v=this.registry[f];if(v){let x=v.parse(n,this);if(!x)return null;if(this.expectedType){const b=this.expectedType,E=x.type;if(b.kind!=="string"&&b.kind!=="number"&&b.kind!=="boolean"&&b.kind!=="object"&&b.kind!=="array"||E.kind!=="value")if(b.kind!=="color"&&b.kind!=="formatted"&&b.kind!=="resolvedImage"||E.kind!=="value"&&E.kind!=="string")if(b.kind!=="padding"||E.kind!=="value"&&E.kind!=="number"&&E.kind!=="array")if(b.kind!=="variableAnchorOffsetCollection"||E.kind!=="value"&&E.kind!=="array"){if(this.checkSubtype(b,E))return null}else x=d(x,b,s.typeAnnotation||"coerce");else x=d(x,b,s.typeAnnotation||"coerce");else x=d(x,b,s.typeAnnotation||"coerce");else x=d(x,b,s.typeAnnotation||"assert")}if(!(x instanceof _a)&&x.type.kind!=="resolvedImage"&&this._isConstant(x)){const b=new ku;try{x=new _a(x.type,x.evaluate(b))}catch(E){return this.error(E.message),null}}return x}return this.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(n===void 0?"'undefined' value invalid. Use null instead.":typeof n=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof n} instead.`)}concat(n,s,d){const f=typeof n=="number"?this.path.concat(n):this.path,v=d?this.scope.concat(d):this.scope;return new ql(this.registry,this._isConstant,f,s||null,v,this.errors)}error(n,...s){const d=`${this.key}${s.map(f=>`[${f}]`).join("")}`;this.errors.push(new Cn(d,n))}checkSubtype(n,s){const d=me(n,s);return d&&this.error(d),d}}class Kl{constructor(n,s,d){this.type=ki,this.locale=d,this.caseSensitive=n,this.diacriticSensitive=s}static parse(n,s){if(n.length!==2)return s.error("Expected one argument.");const d=n[1];if(typeof d!="object"||Array.isArray(d))return s.error("Collator options argument must be an object.");const f=s.parse(d["case-sensitive"]!==void 0&&d["case-sensitive"],1,kt);if(!f)return null;const v=s.parse(d["diacritic-sensitive"]!==void 0&&d["diacritic-sensitive"],1,kt);if(!v)return null;let x=null;return d.locale&&(x=s.parse(d.locale,1,Lt),!x)?null:new Kl(f,v,x)}evaluate(n){return new Mu(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}}const oa=8192;function Au(o,n){o[0]=Math.min(o[0],n[0]),o[1]=Math.min(o[1],n[1]),o[2]=Math.max(o[2],n[0]),o[3]=Math.max(o[3],n[1])}function qs(o,n){return!(o[0]<=n[0]||o[2]>=n[2]||o[1]<=n[1]||o[3]>=n[3])}function Kd(o,n){const s=(180+o[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o[1]*Math.PI/360)))/360,f=Math.pow(2,n.z);return[Math.round(s*f*oa),Math.round(d*f*oa)]}function A0(o,n,s){const d=o[0]-n[0],f=o[1]-n[1],v=o[0]-s[0],x=o[1]-s[1];return d*x-v*f==0&&d*v<=0&&f*x<=0}function Pu(o,n){let s=!1;for(let x=0,b=n.length;x<b;x++){const E=n[x];for(let A=0,I=E.length;A<I-1;A++){if(A0(o,E[A],E[A+1]))return!1;(f=E[A])[1]>(d=o)[1]!=(v=E[A+1])[1]>d[1]&&d[0]<(v[0]-f[0])*(d[1]-f[1])/(v[1]-f[1])+f[0]&&(s=!s)}}var d,f,v;return s}function Tu(o,n){for(let s=0;s<n.length;s++)if(Pu(o,n[s]))return!0;return!1}function Xd(o,n,s,d){const f=d[0]-s[0],v=d[1]-s[1],x=(o[0]-s[0])*v-f*(o[1]-s[1]),b=(n[0]-s[0])*v-f*(n[1]-s[1]);return x>0&&b<0||x<0&&b>0}function P0(o,n,s){for(const A of s)for(let I=0;I<A.length-1;++I)if((b=[(x=A[I+1])[0]-(v=A[I])[0],x[1]-v[1]])[0]*(E=[(f=n)[0]-(d=o)[0],f[1]-d[1]])[1]-b[1]*E[0]!=0&&Xd(d,f,v,x)&&Xd(v,x,d,f))return!0;var d,f,v,x,b,E;return!1}function Jd(o,n){for(let s=0;s<o.length;++s)if(!Pu(o[s],n))return!1;for(let s=0;s<o.length-1;++s)if(P0(o[s],o[s+1],n))return!1;return!0}function Yd(o,n){for(let s=0;s<n.length;s++)if(Jd(o,n[s]))return!0;return!1}function Xl(o,n,s){const d=[];for(let f=0;f<o.length;f++){const v=[];for(let x=0;x<o[f].length;x++){const b=Kd(o[f][x],s);Au(n,b),v.push(b)}d.push(v)}return d}function Qd(o,n,s){const d=[];for(let f=0;f<o.length;f++){const v=Xl(o[f],n,s);d.push(v)}return d}function eh(o,n,s,d){if(o[0]<s[0]||o[0]>s[2]){const f=.5*d;let v=o[0]-s[0]>f?-d:s[0]-o[0]>f?d:0;v===0&&(v=o[0]-s[2]>f?-d:s[2]-o[0]>f?d:0),o[0]+=v}Au(n,o)}function Iu(o,n,s,d){const f=Math.pow(2,d.z)*oa,v=[d.x*oa,d.y*oa],x=[];for(const b of o)for(const E of b){const A=[E.x+v[0],E.y+v[1]];eh(A,n,s,f),x.push(A)}return x}function Lu(o,n,s,d){const f=Math.pow(2,d.z)*oa,v=[d.x*oa,d.y*oa],x=[];for(const E of o){const A=[];for(const I of E){const z=[I.x+v[0],I.y+v[1]];Au(n,z),A.push(z)}x.push(A)}if(n[2]-n[0]<=f/2){(b=n)[0]=b[1]=1/0,b[2]=b[3]=-1/0;for(const E of x)for(const A of E)eh(A,n,s,f)}var b;return x}class xa{constructor(n,s){this.type=kt,this.geojson=n,this.geometries=s}static parse(n,s){if(n.length!==2)return s.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if(ts(n[1])){const d=n[1];if(d.type==="FeatureCollection")for(let f=0;f<d.features.length;++f){const v=d.features[f].geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new xa(d,d.features[f].geometry)}else if(d.type==="Feature"){const f=d.geometry.type;if(f==="Polygon"||f==="MultiPolygon")return new xa(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new xa(d,d)}return s.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return function(s,d){const f=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],x=s.canonicalID();if(d.type==="Polygon"){const b=Xl(d.coordinates,v,x),E=Iu(s.geometry(),f,v,x);if(!qs(f,v))return!1;for(const A of E)if(!Pu(A,b))return!1}if(d.type==="MultiPolygon"){const b=Qd(d.coordinates,v,x),E=Iu(s.geometry(),f,v,x);if(!qs(f,v))return!1;for(const A of E)if(!Tu(A,b))return!1}return!0}(n,this.geometries);if(n.geometryType()==="LineString")return function(s,d){const f=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],x=s.canonicalID();if(d.type==="Polygon"){const b=Xl(d.coordinates,v,x),E=Lu(s.geometry(),f,v,x);if(!qs(f,v))return!1;for(const A of E)if(!Jd(A,b))return!1}if(d.type==="MultiPolygon"){const b=Qd(d.coordinates,v,x),E=Lu(s.geometry(),f,v,x);if(!qs(f,v))return!1;for(const A of E)if(!Yd(A,b))return!1}return!0}(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Jl{constructor(n,s){this.type=s.type,this.name=n,this.boundExpression=s}static parse(n,s){if(n.length!==2||typeof n[1]!="string")return s.error("'var' expression requires exactly one string literal argument.");const d=n[1];return s.scope.has(d)?new Jl(d,s.scope.get(d)):s.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}}class Ii{constructor(n,s,d,f){this.name=n,this.type=s,this._evaluate=d,this.args=f}evaluate(n){return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}static parse(n,s){const d=n[0],f=Ii.definitions[d];if(!f)return s.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const v=Array.isArray(f)?f[0]:f.type,x=Array.isArray(f)?[[f[1],f[2]]]:f.overloads,b=x.filter(([A])=>!Array.isArray(A)||A.length===n.length-1);let E=null;for(const[A,I]of b){E=new ql(s.registry,Yl,s.path,null,s.scope);const z=[];let $=!1;for(let U=1;U<n.length;U++){const Z=n[U],Q=Array.isArray(A)?A[U-1]:A.type,se=E.parse(Z,1+z.length,Q);if(!se){$=!0;break}z.push(se)}if(!$)if(Array.isArray(A)&&A.length!==z.length)E.error(`Expected ${A.length} arguments, but found ${z.length} instead.`);else{for(let U=0;U<z.length;U++){const Z=Array.isArray(A)?A[U]:A.type,Q=z[U];E.concat(U+1).checkSubtype(Z,Q.type)}if(E.errors.length===0)return new Ii(d,v,I,z)}}if(b.length===1)s.errors.push(...E.errors);else{const A=(b.length?b:x).map(([z])=>{return $=z,Array.isArray($)?`(${$.map(ae).join(", ")})`:`(${ae($.type)}...)`;var $}).join(" | "),I=[];for(let z=1;z<n.length;z++){const $=s.parse(n[z],1+I.length);if(!$)return null;I.push(ae($.type))}s.error(`Expected arguments of type ${A}, but found (${I.join(", ")}) instead.`)}return null}static register(n,s){Ii.definitions=s;for(const d in s)n[d]=Ii}}function Yl(o){if(o instanceof Jl)return Yl(o.boundExpression);if(o instanceof Ii&&o.name==="error"||o instanceof Kl||o instanceof xa)return!1;const n=o instanceof ia||o instanceof Ti;let s=!0;return o.eachChild(d=>{s=n?s&&Yl(d):s&&d instanceof _a}),!!s&&Ql(o)&&e1(o,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Ql(o){if(o instanceof Ii&&(o.name==="get"&&o.args.length===1||o.name==="feature-state"||o.name==="has"&&o.args.length===1||o.name==="properties"||o.name==="geometry-type"||o.name==="id"||/^filter-/.test(o.name))||o instanceof xa)return!1;let n=!0;return o.eachChild(s=>{n&&!Ql(s)&&(n=!1)}),n}function Ks(o){if(o instanceof Ii&&o.name==="feature-state")return!1;let n=!0;return o.eachChild(s=>{n&&!Ks(s)&&(n=!1)}),n}function e1(o,n){if(o instanceof Ii&&n.indexOf(o.name)>=0)return!1;let s=!0;return o.eachChild(d=>{s&&!e1(d,n)&&(s=!1)}),s}function ns(o,n){const s=o.length-1;let d,f,v=0,x=s,b=0;for(;v<=x;)if(b=Math.floor((v+x)/2),d=o[b],f=o[b+1],d<=n){if(b===s||n<f)return b;v=b+1}else{if(!(d>n))throw new Ln("Input is not a number.");x=b-1}return 0}class aa{constructor(n,s,d){this.type=n,this.input=s,this.labels=[],this.outputs=[];for(const[f,v]of d)this.labels.push(f),this.outputs.push(v)}static parse(n,s){if(n.length-1<4)return s.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return s.error("Expected an even number of arguments.");const d=s.parse(n[1],1,Qe);if(!d)return null;const f=[];let v=null;s.expectedType&&s.expectedType.kind!=="value"&&(v=s.expectedType);for(let x=1;x<n.length;x+=2){const b=x===1?-1/0:n[x],E=n[x+1],A=x,I=x+1;if(typeof b!="number")return s.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',A);if(f.length&&f[f.length-1][0]>=b)return s.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',A);const z=s.parse(E,I,v);if(!z)return null;v=v||z.type,f.push([b,z])}return new aa(v,d,f)}evaluate(n){const s=this.labels,d=this.outputs;if(s.length===1)return d[0].evaluate(n);const f=this.input.evaluate(n);if(f<=s[0])return d[0].evaluate(n);const v=s.length;return f>=s[v-1]?d[v-1].evaluate(n):d[ns(s,f)].evaluate(n)}eachChild(n){n(this.input);for(const s of this.outputs)n(s)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}}function Wt(o,n,s){return o+s*(n-o)}function t1(o,n,s){return o.map((d,f)=>Wt(d,n[f],s))}const ui={number:Wt,color:function(o,n,s,d="rgb"){switch(d){case"rgb":{const[f,v,x,b]=t1(o.rgb,n.rgb,s);return new un(f,v,x,b,!1)}case"hcl":{const[f,v,x,b]=o.hcl,[E,A,I,z]=n.hcl;let $,U;if(isNaN(f)||isNaN(E))isNaN(f)?isNaN(E)?$=NaN:($=E,x!==1&&x!==0||(U=A)):($=f,I!==1&&I!==0||(U=v));else{let _e=E-f;E>f&&_e>180?_e-=360:E<f&&f-E>180&&(_e+=360),$=f+s*_e}const[Z,Q,se,ce]=function([_e,fe,be,Ee]){return _e=isNaN(_e)?0:_e*It,fn([be,Math.cos(_e)*fe,Math.sin(_e)*fe,Ee])}([$,U??Wt(v,A,s),Wt(x,I,s),Wt(b,z,s)]);return new un(Z,Q,se,ce,!1)}case"lab":{const[f,v,x,b]=fn(t1(o.lab,n.lab,s));return new un(f,v,x,b,!1)}}},array:t1,padding:function(o,n,s){return new li(t1(o.values,n.values,s))},variableAnchorOffsetCollection:function(o,n,s){const d=o.values,f=n.values;if(d.length!==f.length)throw new Ln(`Cannot interpolate values of different length. from: ${o.toString()}, to: ${n.toString()}`);const v=[];for(let x=0;x<d.length;x+=2){if(d[x]!==f[x])throw new Ln(`Cannot interpolate values containing mismatched anchors. from[${x}]: ${d[x]}, to[${x}]: ${f[x]}`);v.push(d[x]);const[b,E]=d[x+1],[A,I]=f[x+1];v.push([Wt(b,A,s),Wt(E,I,s)])}return new Pi(v)}};class ci{constructor(n,s,d,f,v){this.type=n,this.operator=s,this.interpolation=d,this.input=f,this.labels=[],this.outputs=[];for(const[x,b]of v)this.labels.push(x),this.outputs.push(b)}static interpolationFactor(n,s,d,f){let v=0;if(n.name==="exponential")v=Du(s,n.base,d,f);else if(n.name==="linear")v=Du(s,1,d,f);else if(n.name==="cubic-bezier"){const x=n.controlPoints;v=new G(x[0],x[1],x[2],x[3]).solve(Du(s,1,d,f))}return v}static parse(n,s){let[d,f,v,...x]=n;if(!Array.isArray(f)||f.length===0)return s.error("Expected an interpolation type expression.",1);if(f[0]==="linear")f={name:"linear"};else if(f[0]==="exponential"){const A=f[1];if(typeof A!="number")return s.error("Exponential interpolation requires a numeric base.",1,1);f={name:"exponential",base:A}}else{if(f[0]!=="cubic-bezier")return s.error(`Unknown interpolation type ${String(f[0])}`,1,0);{const A=f.slice(1);if(A.length!==4||A.some(I=>typeof I!="number"||I<0||I>1))return s.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);f={name:"cubic-bezier",controlPoints:A}}}if(n.length-1<4)return s.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return s.error("Expected an even number of arguments.");if(v=s.parse(v,2,Qe),!v)return null;const b=[];let E=null;d==="interpolate-hcl"||d==="interpolate-lab"?E=On:s.expectedType&&s.expectedType.kind!=="value"&&(E=s.expectedType);for(let A=0;A<x.length;A+=2){const I=x[A],z=x[A+1],$=A+3,U=A+4;if(typeof I!="number")return s.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',$);if(b.length&&b[b.length-1][0]>=I)return s.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',$);const Z=s.parse(z,U,E);if(!Z)return null;E=E||Z.type,b.push([I,Z])}return De(E,Qe)||De(E,On)||De(E,N)||De(E,q)||De(E,re(Qe))?new ci(E,d,f,v,b):s.error(`Type ${ae(E)} is not interpolatable.`)}evaluate(n){const s=this.labels,d=this.outputs;if(s.length===1)return d[0].evaluate(n);const f=this.input.evaluate(n);if(f<=s[0])return d[0].evaluate(n);const v=s.length;if(f>=s[v-1])return d[v-1].evaluate(n);const x=ns(s,f),b=ci.interpolationFactor(this.interpolation,f,s[x],s[x+1]),E=d[x].evaluate(n),A=d[x+1].evaluate(n);switch(this.operator){case"interpolate":return ui[this.type.kind](E,A,b);case"interpolate-hcl":return ui.color(E,A,b,"hcl");case"interpolate-lab":return ui.color(E,A,b,"lab")}}eachChild(n){n(this.input);for(const s of this.outputs)n(s)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}}function Du(o,n,s,d){const f=d-s,v=o-s;return f===0?0:n===1?v/f:(Math.pow(n,v)-1)/(Math.pow(n,f)-1)}class n1{constructor(n,s){this.type=n,this.args=s}static parse(n,s){if(n.length<2)return s.error("Expectected at least one argument.");let d=null;const f=s.expectedType;f&&f.kind!=="value"&&(d=f);const v=[];for(const b of n.slice(1)){const E=s.parse(b,1+v.length,d,void 0,{typeAnnotation:"omit"});if(!E)return null;d=d||E.type,v.push(E)}if(!d)throw new Error("No output type");const x=f&&v.some(b=>me(f,b.type));return new n1(x?xt:d,v)}evaluate(n){let s,d=null,f=0;for(const v of this.args)if(f++,d=v.evaluate(n),d&&d instanceof vr&&!d.available&&(s||(s=d.name),d=null,f===this.args.length&&(d=s)),d!==null)break;return d}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}}class r1{constructor(n,s){this.type=s.type,this.bindings=[].concat(n),this.result=s}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const s of this.bindings)n(s[1]);n(this.result)}static parse(n,s){if(n.length<4)return s.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const d=[];for(let v=1;v<n.length-1;v+=2){const x=n[v];if(typeof x!="string")return s.error(`Expected string, but found ${typeof x} instead.`,v);if(/[^a-zA-Z0-9_]/.test(x))return s.error("Variable names must contain only alphanumeric characters or '_'.",v);const b=s.parse(n[v+1],v+1);if(!b)return null;d.push([x,b])}const f=s.parse(n[n.length-1],n.length-1,s.expectedType,d);return f?new r1(d,f):null}outputDefined(){return this.result.outputDefined()}}class Ru{constructor(n,s,d){this.type=n,this.index=s,this.input=d}static parse(n,s){if(n.length!==3)return s.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const d=s.parse(n[1],1,Qe),f=s.parse(n[2],2,re(s.expectedType||xt));return d&&f?new Ru(f.type.itemType,d,f):null}evaluate(n){const s=this.index.evaluate(n),d=this.input.evaluate(n);if(s<0)throw new Ln(`Array index out of bounds: ${s} < 0.`);if(s>=d.length)throw new Ln(`Array index out of bounds: ${s} > ${d.length-1}.`);if(s!==Math.floor(s))throw new Ln(`Array index must be an integer, but found ${s} instead.`);return d[s]}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}}class zu{constructor(n,s){this.type=kt,this.needle=n,this.haystack=s}static parse(n,s){if(n.length!==3)return s.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const d=s.parse(n[1],1,xt),f=s.parse(n[2],2,xt);return d&&f?ue(d.type,[kt,Lt,Qe,Fr,xt])?new zu(d,f):s.error(`Expected first argument to be of type boolean, string, number or null, but found ${ae(d.type)} instead`):null}evaluate(n){const s=this.needle.evaluate(n),d=this.haystack.evaluate(n);if(!d)return!1;if(!ye(s,["boolean","string","number","null"]))throw new Ln(`Expected first argument to be of type boolean, string, number or null, but found ${ae(kn(s))} instead.`);if(!ye(d,["string","array"]))throw new Ln(`Expected second argument to be of type array or string, but found ${ae(kn(d))} instead.`);return d.indexOf(s)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}}class i1{constructor(n,s,d){this.type=Qe,this.needle=n,this.haystack=s,this.fromIndex=d}static parse(n,s){if(n.length<=2||n.length>=5)return s.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const d=s.parse(n[1],1,xt),f=s.parse(n[2],2,xt);if(!d||!f)return null;if(!ue(d.type,[kt,Lt,Qe,Fr,xt]))return s.error(`Expected first argument to be of type boolean, string, number or null, but found ${ae(d.type)} instead`);if(n.length===4){const v=s.parse(n[3],3,Qe);return v?new i1(d,f,v):null}return new i1(d,f)}evaluate(n){const s=this.needle.evaluate(n),d=this.haystack.evaluate(n);if(!ye(s,["boolean","string","number","null"]))throw new Ln(`Expected first argument to be of type boolean, string, number or null, but found ${ae(kn(s))} instead.`);if(!ye(d,["string","array"]))throw new Ln(`Expected second argument to be of type array or string, but found ${ae(kn(d))} instead.`);if(this.fromIndex){const f=this.fromIndex.evaluate(n);return d.indexOf(s,f)}return d.indexOf(s)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}}class Fu{constructor(n,s,d,f,v,x){this.inputType=n,this.type=s,this.input=d,this.cases=f,this.outputs=v,this.otherwise=x}static parse(n,s){if(n.length<5)return s.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!=1)return s.error("Expected an even number of arguments.");let d,f;s.expectedType&&s.expectedType.kind!=="value"&&(f=s.expectedType);const v={},x=[];for(let A=2;A<n.length-1;A+=2){let I=n[A];const z=n[A+1];Array.isArray(I)||(I=[I]);const $=s.concat(A);if(I.length===0)return $.error("Expected at least one branch label.");for(const Z of I){if(typeof Z!="number"&&typeof Z!="string")return $.error("Branch labels must be numbers or strings.");if(typeof Z=="number"&&Math.abs(Z)>Number.MAX_SAFE_INTEGER)return $.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Z=="number"&&Math.floor(Z)!==Z)return $.error("Numeric branch labels must be integer values.");if(d){if($.checkSubtype(d,kn(Z)))return null}else d=kn(Z);if(v[String(Z)]!==void 0)return $.error("Branch labels must be unique.");v[String(Z)]=x.length}const U=s.parse(z,A,f);if(!U)return null;f=f||U.type,x.push(U)}const b=s.parse(n[1],1,xt);if(!b)return null;const E=s.parse(n[n.length-1],n.length-1,f);return E?b.type.kind!=="value"&&s.concat(1).checkSubtype(d,b.type)?null:new Fu(d,f,b,v,x,E):null}evaluate(n){const s=this.input.evaluate(n);return(kn(s)===this.inputType&&this.outputs[this.cases[s]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every(n=>n.outputDefined())&&this.otherwise.outputDefined()}}class Nu{constructor(n,s,d){this.type=n,this.branches=s,this.otherwise=d}static parse(n,s){if(n.length<4)return s.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!=0)return s.error("Expected an odd number of arguments.");let d;s.expectedType&&s.expectedType.kind!=="value"&&(d=s.expectedType);const f=[];for(let x=1;x<n.length-1;x+=2){const b=s.parse(n[x],x,kt);if(!b)return null;const E=s.parse(n[x+1],x+1,d);if(!E)return null;f.push([b,E]),d=d||E.type}const v=s.parse(n[n.length-1],n.length-1,d);if(!v)return null;if(!d)throw new Error("Can't infer output type");return new Nu(d,f,v)}evaluate(n){for(const[s,d]of this.branches)if(s.evaluate(n))return d.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[s,d]of this.branches)n(s),n(d);n(this.otherwise)}outputDefined(){return this.branches.every(([n,s])=>s.outputDefined())&&this.otherwise.outputDefined()}}class o1{constructor(n,s,d,f){this.type=n,this.input=s,this.beginIndex=d,this.endIndex=f}static parse(n,s){if(n.length<=2||n.length>=5)return s.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const d=s.parse(n[1],1,xt),f=s.parse(n[2],2,Qe);if(!d||!f)return null;if(!ue(d.type,[re(xt),Lt,xt]))return s.error(`Expected first argument to be of type array or string, but found ${ae(d.type)} instead`);if(n.length===4){const v=s.parse(n[3],3,Qe);return v?new o1(d.type,d,f,v):null}return new o1(d.type,d,f)}evaluate(n){const s=this.input.evaluate(n),d=this.beginIndex.evaluate(n);if(!ye(s,["string","array"]))throw new Ln(`Expected first argument to be of type array or string, but found ${ae(kn(s))} instead.`);if(this.endIndex){const f=this.endIndex.evaluate(n);return s.slice(d,f)}return s.slice(d)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}}function th(o,n){return o==="=="||o==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function nh(o,n,s,d){return d.compare(n,s)===0}function rs(o,n,s){const d=o!=="=="&&o!=="!=";return class v_{constructor(v,x,b){this.type=kt,this.lhs=v,this.rhs=x,this.collator=b,this.hasUntypedArgument=v.type.kind==="value"||x.type.kind==="value"}static parse(v,x){if(v.length!==3&&v.length!==4)return x.error("Expected two or three arguments.");const b=v[0];let E=x.parse(v[1],1,xt);if(!E)return null;if(!th(b,E.type))return x.concat(1).error(`"${b}" comparisons are not supported for type '${ae(E.type)}'.`);let A=x.parse(v[2],2,xt);if(!A)return null;if(!th(b,A.type))return x.concat(2).error(`"${b}" comparisons are not supported for type '${ae(A.type)}'.`);if(E.type.kind!==A.type.kind&&E.type.kind!=="value"&&A.type.kind!=="value")return x.error(`Cannot compare types '${ae(E.type)}' and '${ae(A.type)}'.`);d&&(E.type.kind==="value"&&A.type.kind!=="value"?E=new Ti(A.type,[E]):E.type.kind!=="value"&&A.type.kind==="value"&&(A=new Ti(E.type,[A])));let I=null;if(v.length===4){if(E.type.kind!=="string"&&A.type.kind!=="string"&&E.type.kind!=="value"&&A.type.kind!=="value")return x.error("Cannot use collator to compare non-string types.");if(I=x.parse(v[3],3,ki),!I)return null}return new v_(E,A,I)}evaluate(v){const x=this.lhs.evaluate(v),b=this.rhs.evaluate(v);if(d&&this.hasUntypedArgument){const E=kn(x),A=kn(b);if(E.kind!==A.kind||E.kind!=="string"&&E.kind!=="number")throw new Ln(`Expected arguments for "${o}" to be (string, string) or (number, number), but found (${E.kind}, ${A.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const E=kn(x),A=kn(b);if(E.kind!=="string"||A.kind!=="string")return n(v,x,b)}return this.collator?s(v,x,b,this.collator.evaluate(v)):n(v,x,b)}eachChild(v){v(this.lhs),v(this.rhs),this.collator&&v(this.collator)}outputDefined(){return!0}}}const T0=rs("==",function(o,n,s){return n===s},nh),I0=rs("!=",function(o,n,s){return n!==s},function(o,n,s,d){return!nh(0,n,s,d)}),L0=rs("<",function(o,n,s){return n<s},function(o,n,s,d){return d.compare(n,s)<0}),D0=rs(">",function(o,n,s){return n>s},function(o,n,s,d){return d.compare(n,s)>0}),R0=rs("<=",function(o,n,s){return n<=s},function(o,n,s,d){return d.compare(n,s)<=0}),z0=rs(">=",function(o,n,s){return n>=s},function(o,n,s,d){return d.compare(n,s)>=0});class Ou{constructor(n,s,d,f,v){this.type=Lt,this.number=n,this.locale=s,this.currency=d,this.minFractionDigits=f,this.maxFractionDigits=v}static parse(n,s){if(n.length!==3)return s.error("Expected two arguments.");const d=s.parse(n[1],1,Qe);if(!d)return null;const f=n[2];if(typeof f!="object"||Array.isArray(f))return s.error("NumberFormat options argument must be an object.");let v=null;if(f.locale&&(v=s.parse(f.locale,1,Lt),!v))return null;let x=null;if(f.currency&&(x=s.parse(f.currency,1,Lt),!x))return null;let b=null;if(f["min-fraction-digits"]&&(b=s.parse(f["min-fraction-digits"],1,Qe),!b))return null;let E=null;return f["max-fraction-digits"]&&(E=s.parse(f["max-fraction-digits"],1,Qe),!E)?null:new Ou(d,v,x,b,E)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}}class a1{constructor(n){this.type=ie,this.sections=n}static parse(n,s){if(n.length<2)return s.error("Expected at least one argument.");const d=n[1];if(!Array.isArray(d)&&typeof d=="object")return s.error("First argument must be an image or text section.");const f=[];let v=!1;for(let x=1;x<=n.length-1;++x){const b=n[x];if(v&&typeof b=="object"&&!Array.isArray(b)){v=!1;let E=null;if(b["font-scale"]&&(E=s.parse(b["font-scale"],1,Qe),!E))return null;let A=null;if(b["text-font"]&&(A=s.parse(b["text-font"],1,re(Lt)),!A))return null;let I=null;if(b["text-color"]&&(I=s.parse(b["text-color"],1,On),!I))return null;const z=f[f.length-1];z.scale=E,z.font=A,z.textColor=I}else{const E=s.parse(n[x],1,xt);if(!E)return null;const A=E.type.kind;if(A!=="string"&&A!=="value"&&A!=="null"&&A!=="resolvedImage")return s.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");v=!0,f.push({content:E,scale:null,font:null,textColor:null})}}return new a1(f)}evaluate(n){return new Ar(this.sections.map(s=>{const d=s.content.evaluate(n);return kn(d)===j?new Hl("",d,null,null,null):new Hl(Qt(d),null,s.scale?s.scale.evaluate(n):null,s.font?s.font.evaluate(n).join(","):null,s.textColor?s.textColor.evaluate(n):null)}))}eachChild(n){for(const s of this.sections)n(s.content),s.scale&&n(s.scale),s.font&&n(s.font),s.textColor&&n(s.textColor)}outputDefined(){return!1}}class Bu{constructor(n){this.type=j,this.input=n}static parse(n,s){if(n.length!==2)return s.error("Expected two arguments.");const d=s.parse(n[1],1,Lt);return d?new Bu(d):s.error("No image name provided.")}evaluate(n){const s=this.input.evaluate(n),d=vr.fromString(s);return d&&n.availableImages&&(d.available=n.availableImages.indexOf(s)>-1),d}eachChild(n){n(this.input)}outputDefined(){return!1}}class $u{constructor(n){this.type=Qe,this.input=n}static parse(n,s){if(n.length!==2)return s.error(`Expected 1 argument, but found ${n.length-1} instead.`);const d=s.parse(n[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?s.error(`Expected argument of type string or array, but found ${ae(d.type)} instead.`):new $u(d):null}evaluate(n){const s=this.input.evaluate(n);if(typeof s=="string"||Array.isArray(s))return s.length;throw new Ln(`Expected value to be of type string or array, but found ${ae(kn(s))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}}const is={"==":T0,"!=":I0,">":D0,"<":L0,">=":z0,"<=":R0,array:Ti,at:Ru,boolean:Ti,case:Nu,coalesce:n1,collator:Kl,format:a1,image:Bu,in:zu,"index-of":i1,interpolate:ci,"interpolate-hcl":ci,"interpolate-lab":ci,length:$u,let:r1,literal:_a,match:Fu,number:Ti,"number-format":Ou,object:Ti,slice:o1,step:aa,string:Ti,"to-boolean":ia,"to-color":ia,"to-number":ia,"to-string":ia,var:Jl,within:xa};function rh(o,[n,s,d,f]){n=n.evaluate(o),s=s.evaluate(o),d=d.evaluate(o);const v=f?f.evaluate(o):1,x=Zl(n,s,d,v);if(x)throw new Ln(x);return new un(n/255,s/255,d/255,v,!1)}function ih(o,n){return o in n}function ju(o,n){const s=n[o];return s===void 0?null:s}function ba(o){return{type:o}}function oh(o){return{result:"success",value:o}}function sa(o){return{result:"error",value:o}}function os(o){return o["property-type"]==="data-driven"||o["property-type"]==="cross-faded-data-driven"}function ah(o){return!!o.expression&&o.expression.parameters.indexOf("zoom")>-1}function Vu(o){return!!o.expression&&o.expression.interpolated}function en(o){return o instanceof Number?"number":o instanceof String?"string":o instanceof Boolean?"boolean":Array.isArray(o)?"array":o===null?"null":typeof o}function An(o){return typeof o=="object"&&o!==null&&!Array.isArray(o)}function F0(o){return o}function Ut(o,n){const s=n.type==="color",d=o.stops&&typeof o.stops[0][0]=="object",f=d||!(d||o.property!==void 0),v=o.type||(Vu(n)?"exponential":"interval");if(s||n.type==="padding"){const I=s?un.parse:li.parse;(o=Mi({},o)).stops&&(o.stops=o.stops.map(z=>[z[0],I(z[1])])),o.default=I(o.default?o.default:n.default)}if(o.colorSpace&&(x=o.colorSpace)!=="rgb"&&x!=="hcl"&&x!=="lab")throw new Error(`Unknown color space: "${o.colorSpace}"`);var x;let b,E,A;if(v==="exponential")b=Xs;else if(v==="interval")b=Mn;else if(v==="categorical"){b=Pn,E=Object.create(null);for(const I of o.stops)E[I[0]]=I[1];A=typeof o.stops[0][0]}else{if(v!=="identity")throw new Error(`Unknown function type "${v}"`);b=sh}if(d){const I={},z=[];for(let Z=0;Z<o.stops.length;Z++){const Q=o.stops[Z],se=Q[0].zoom;I[se]===void 0&&(I[se]={zoom:se,type:o.type,property:o.property,default:o.default,stops:[]},z.push(se)),I[se].stops.push([Q[0].value,Q[1]])}const $=[];for(const Z of z)$.push([I[Z].zoom,Ut(I[Z],n)]);const U={name:"linear"};return{kind:"composite",interpolationType:U,interpolationFactor:ci.interpolationFactor.bind(void 0,U),zoomStops:$.map(Z=>Z[0]),evaluate:({zoom:Z},Q)=>Xs({stops:$,base:o.base},n,Z).evaluate(Z,Q)}}if(f){const I=v==="exponential"?{name:"exponential",base:o.base!==void 0?o.base:1}:null;return{kind:"camera",interpolationType:I,interpolationFactor:ci.interpolationFactor.bind(void 0,I),zoomStops:o.stops.map(z=>z[0]),evaluate:({zoom:z})=>b(o,n,z,E,A)}}return{kind:"source",evaluate(I,z){const $=z&&z.properties?z.properties[o.property]:void 0;return $===void 0?wa(o.default,n.default):b(o,n,$,E,A)}}}function wa(o,n,s){return o!==void 0?o:n!==void 0?n:s!==void 0?s:void 0}function Pn(o,n,s,d,f){return wa(typeof s===f?d[s]:void 0,o.default,n.default)}function Mn(o,n,s){if(en(s)!=="number")return wa(o.default,n.default);const d=o.stops.length;if(d===1||s<=o.stops[0][0])return o.stops[0][1];if(s>=o.stops[d-1][0])return o.stops[d-1][1];const f=ns(o.stops.map(v=>v[0]),s);return o.stops[f][1]}function Xs(o,n,s){const d=o.base!==void 0?o.base:1;if(en(s)!=="number")return wa(o.default,n.default);const f=o.stops.length;if(f===1||s<=o.stops[0][0])return o.stops[0][1];if(s>=o.stops[f-1][0])return o.stops[f-1][1];const v=ns(o.stops.map(I=>I[0]),s),x=function(I,z,$,U){const Z=U-$,Q=I-$;return Z===0?0:z===1?Q/Z:(Math.pow(z,Q)-1)/(Math.pow(z,Z)-1)}(s,d,o.stops[v][0],o.stops[v+1][0]),b=o.stops[v][1],E=o.stops[v+1][1],A=ui[n.type]||F0;return typeof b.evaluate=="function"?{evaluate(...I){const z=b.evaluate.apply(void 0,I),$=E.evaluate.apply(void 0,I);if(z!==void 0&&$!==void 0)return A(z,$,x,o.colorSpace)}}:A(b,E,x,o.colorSpace)}function sh(o,n,s){switch(n.type){case"color":s=un.parse(s);break;case"formatted":s=Ar.fromString(s.toString());break;case"resolvedImage":s=vr.fromString(s.toString());break;case"padding":s=li.parse(s);break;default:en(s)===n.type||n.type==="enum"&&n.values[s]||(s=void 0)}return wa(s,o.default,n.default)}Ii.register(is,{error:[{kind:"error"},[Lt],(o,[n])=>{throw new Ln(n.evaluate(o))}],typeof:[Lt,[xt],(o,[n])=>ae(kn(n.evaluate(o)))],"to-rgba":[re(Qe,4),[On],(o,[n])=>{const[s,d,f,v]=n.evaluate(o).rgb;return[255*s,255*d,255*f,v]}],rgb:[On,[Qe,Qe,Qe],rh],rgba:[On,[Qe,Qe,Qe,Qe],rh],has:{type:kt,overloads:[[[Lt],(o,[n])=>ih(n.evaluate(o),o.properties())],[[Lt,Ei],(o,[n,s])=>ih(n.evaluate(o),s.evaluate(o))]]},get:{type:xt,overloads:[[[Lt],(o,[n])=>ju(n.evaluate(o),o.properties())],[[Lt,Ei],(o,[n,s])=>ju(n.evaluate(o),s.evaluate(o))]]},"feature-state":[xt,[Lt],(o,[n])=>ju(n.evaluate(o),o.featureState||{})],properties:[Ei,[],o=>o.properties()],"geometry-type":[Lt,[],o=>o.geometryType()],id:[xt,[],o=>o.id()],zoom:[Qe,[],o=>o.globals.zoom],"heatmap-density":[Qe,[],o=>o.globals.heatmapDensity||0],"line-progress":[Qe,[],o=>o.globals.lineProgress||0],accumulated:[xt,[],o=>o.globals.accumulated===void 0?null:o.globals.accumulated],"+":[Qe,ba(Qe),(o,n)=>{let s=0;for(const d of n)s+=d.evaluate(o);return s}],"*":[Qe,ba(Qe),(o,n)=>{let s=1;for(const d of n)s*=d.evaluate(o);return s}],"-":{type:Qe,overloads:[[[Qe,Qe],(o,[n,s])=>n.evaluate(o)-s.evaluate(o)],[[Qe],(o,[n])=>-n.evaluate(o)]]},"/":[Qe,[Qe,Qe],(o,[n,s])=>n.evaluate(o)/s.evaluate(o)],"%":[Qe,[Qe,Qe],(o,[n,s])=>n.evaluate(o)%s.evaluate(o)],ln2:[Qe,[],()=>Math.LN2],pi:[Qe,[],()=>Math.PI],e:[Qe,[],()=>Math.E],"^":[Qe,[Qe,Qe],(o,[n,s])=>Math.pow(n.evaluate(o),s.evaluate(o))],sqrt:[Qe,[Qe],(o,[n])=>Math.sqrt(n.evaluate(o))],log10:[Qe,[Qe],(o,[n])=>Math.log(n.evaluate(o))/Math.LN10],ln:[Qe,[Qe],(o,[n])=>Math.log(n.evaluate(o))],log2:[Qe,[Qe],(o,[n])=>Math.log(n.evaluate(o))/Math.LN2],sin:[Qe,[Qe],(o,[n])=>Math.sin(n.evaluate(o))],cos:[Qe,[Qe],(o,[n])=>Math.cos(n.evaluate(o))],tan:[Qe,[Qe],(o,[n])=>Math.tan(n.evaluate(o))],asin:[Qe,[Qe],(o,[n])=>Math.asin(n.evaluate(o))],acos:[Qe,[Qe],(o,[n])=>Math.acos(n.evaluate(o))],atan:[Qe,[Qe],(o,[n])=>Math.atan(n.evaluate(o))],min:[Qe,ba(Qe),(o,n)=>Math.min(...n.map(s=>s.evaluate(o)))],max:[Qe,ba(Qe),(o,n)=>Math.max(...n.map(s=>s.evaluate(o)))],abs:[Qe,[Qe],(o,[n])=>Math.abs(n.evaluate(o))],round:[Qe,[Qe],(o,[n])=>{const s=n.evaluate(o);return s<0?-Math.round(-s):Math.round(s)}],floor:[Qe,[Qe],(o,[n])=>Math.floor(n.evaluate(o))],ceil:[Qe,[Qe],(o,[n])=>Math.ceil(n.evaluate(o))],"filter-==":[kt,[Lt,xt],(o,[n,s])=>o.properties()[n.value]===s.value],"filter-id-==":[kt,[xt],(o,[n])=>o.id()===n.value],"filter-type-==":[kt,[Lt],(o,[n])=>o.geometryType()===n.value],"filter-<":[kt,[Lt,xt],(o,[n,s])=>{const d=o.properties()[n.value],f=s.value;return typeof d==typeof f&&d<f}],"filter-id-<":[kt,[xt],(o,[n])=>{const s=o.id(),d=n.value;return typeof s==typeof d&&s<d}],"filter->":[kt,[Lt,xt],(o,[n,s])=>{const d=o.properties()[n.value],f=s.value;return typeof d==typeof f&&d>f}],"filter-id->":[kt,[xt],(o,[n])=>{const s=o.id(),d=n.value;return typeof s==typeof d&&s>d}],"filter-<=":[kt,[Lt,xt],(o,[n,s])=>{const d=o.properties()[n.value],f=s.value;return typeof d==typeof f&&d<=f}],"filter-id-<=":[kt,[xt],(o,[n])=>{const s=o.id(),d=n.value;return typeof s==typeof d&&s<=d}],"filter->=":[kt,[Lt,xt],(o,[n,s])=>{const d=o.properties()[n.value],f=s.value;return typeof d==typeof f&&d>=f}],"filter-id->=":[kt,[xt],(o,[n])=>{const s=o.id(),d=n.value;return typeof s==typeof d&&s>=d}],"filter-has":[kt,[xt],(o,[n])=>n.value in o.properties()],"filter-has-id":[kt,[],o=>o.id()!==null&&o.id()!==void 0],"filter-type-in":[kt,[re(Lt)],(o,[n])=>n.value.indexOf(o.geometryType())>=0],"filter-id-in":[kt,[re(xt)],(o,[n])=>n.value.indexOf(o.id())>=0],"filter-in-small":[kt,[Lt,re(xt)],(o,[n,s])=>s.value.indexOf(o.properties()[n.value])>=0],"filter-in-large":[kt,[Lt,re(xt)],(o,[n,s])=>function(d,f,v,x){for(;v<=x;){const b=v+x>>1;if(f[b]===d)return!0;f[b]>d?x=b-1:v=b+1}return!1}(o.properties()[n.value],s.value,0,s.value.length-1)],all:{type:kt,overloads:[[[kt,kt],(o,[n,s])=>n.evaluate(o)&&s.evaluate(o)],[ba(kt),(o,n)=>{for(const s of n)if(!s.evaluate(o))return!1;return!0}]]},any:{type:kt,overloads:[[[kt,kt],(o,[n,s])=>n.evaluate(o)||s.evaluate(o)],[ba(kt),(o,n)=>{for(const s of n)if(s.evaluate(o))return!0;return!1}]]},"!":[kt,[kt],(o,[n])=>!n.evaluate(o)],"is-supported-script":[kt,[Lt],(o,[n])=>{const s=o.globals&&o.globals.isSupportedScript;return!s||s(n.evaluate(o))}],upcase:[Lt,[Lt],(o,[n])=>n.evaluate(o).toUpperCase()],downcase:[Lt,[Lt],(o,[n])=>n.evaluate(o).toLowerCase()],concat:[Lt,ba(xt),(o,n)=>n.map(s=>Qt(s.evaluate(o))).join("")],"resolved-locale":[Lt,[ki],(o,[n])=>n.evaluate(o).resolvedLocale()]});class Wu{constructor(n,s){var d;this.expression=n,this._warningHistory={},this._evaluator=new ku,this._defaultValue=s?(d=s).type==="color"&&An(d.default)?new un(0,0,0,0):d.type==="color"?un.parse(d.default)||null:d.type==="padding"?li.parse(d.default)||null:d.type==="variableAnchorOffsetCollection"?Pi.parse(d.default)||null:d.default===void 0?null:d.default:null,this._enumValues=s&&s.type==="enum"?s.values:null}evaluateWithoutErrorHandling(n,s,d,f,v,x){return this._evaluator.globals=n,this._evaluator.feature=s,this._evaluator.featureState=d,this._evaluator.canonical=f,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=x,this.expression.evaluate(this._evaluator)}evaluate(n,s,d,f,v,x){this._evaluator.globals=n,this._evaluator.feature=s||null,this._evaluator.featureState=d||null,this._evaluator.canonical=f,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=x||null;try{const b=this.expression.evaluate(this._evaluator);if(b==null||typeof b=="number"&&b!=b)return this._defaultValue;if(this._enumValues&&!(b in this._enumValues))throw new Ln(`Expected value to be one of ${Object.keys(this._enumValues).map(E=>JSON.stringify(E)).join(", ")}, but found ${JSON.stringify(b)} instead.`);return b}catch(b){return this._warningHistory[b.message]||(this._warningHistory[b.message]=!0,typeof console<"u"&&console.warn(b.message)),this._defaultValue}}}function s1(o){return Array.isArray(o)&&o.length>0&&typeof o[0]=="string"&&o[0]in is}function l1(o,n){const s=new ql(is,Yl,[],n?function(f){const v={color:On,string:Lt,number:Qe,enum:Lt,boolean:kt,formatted:ie,padding:N,resolvedImage:j,variableAnchorOffsetCollection:q};return f.type==="array"?re(v[f.value]||xt,f.length):v[f.type]}(n):void 0),d=s.parse(o,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return d?oh(new Wu(d,n)):sa(s.errors)}class Uu{constructor(n,s){this.kind=n,this._styleExpression=s,this.isStateDependent=n!=="constant"&&!Ks(s.expression)}evaluateWithoutErrorHandling(n,s,d,f,v,x){return this._styleExpression.evaluateWithoutErrorHandling(n,s,d,f,v,x)}evaluate(n,s,d,f,v,x){return this._styleExpression.evaluate(n,s,d,f,v,x)}}class u1{constructor(n,s,d,f){this.kind=n,this.zoomStops=d,this._styleExpression=s,this.isStateDependent=n!=="camera"&&!Ks(s.expression),this.interpolationType=f}evaluateWithoutErrorHandling(n,s,d,f,v,x){return this._styleExpression.evaluateWithoutErrorHandling(n,s,d,f,v,x)}evaluate(n,s,d,f,v,x){return this._styleExpression.evaluate(n,s,d,f,v,x)}interpolationFactor(n,s,d){return this.interpolationType?ci.interpolationFactor(this.interpolationType,n,s,d):0}}function Hu(o,n){const s=l1(o,n);if(s.result==="error")return s;const d=s.value.expression,f=Ql(d);if(!f&&!os(n))return sa([new Cn("","data expressions not supported")]);const v=e1(d,["zoom"]);if(!v&&!ah(n))return sa([new Cn("","zoom expressions not supported")]);const x=Ys(d);return x||v?x instanceof Cn?sa([x]):x instanceof ci&&!Vu(n)?sa([new Cn("",'"interpolate" expressions cannot be used with this property')]):oh(x?new u1(f?"camera":"composite",s.value,x.labels,x instanceof ci?x.interpolation:void 0):new Uu(f?"constant":"source",s.value)):sa([new Cn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Js{constructor(n,s){this._parameters=n,this._specification=s,Mi(this,Ut(this._parameters,this._specification))}static deserialize(n){return new Js(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}}function Ys(o){let n=null;if(o instanceof r1)n=Ys(o.result);else if(o instanceof n1){for(const s of o.args)if(n=Ys(s),n)break}else(o instanceof aa||o instanceof ci)&&o.input instanceof Ii&&o.input.name==="zoom"&&(n=o);return n instanceof Cn||o.eachChild(s=>{const d=Ys(s);d instanceof Cn?n=d:!n&&d?n=new Cn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&d&&n!==d&&(n=new Cn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}function Qs(o){if(o===!0||o===!1)return!0;if(!Array.isArray(o)||o.length===0)return!1;switch(o[0]){case"has":return o.length>=2&&o[1]!=="$id"&&o[1]!=="$type";case"in":return o.length>=3&&(typeof o[1]!="string"||Array.isArray(o[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return o.length!==3||Array.isArray(o[1])||Array.isArray(o[2]);case"any":case"all":for(const n of o.slice(1))if(!Qs(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}const N0={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Zu(o){if(o==null)return{filter:()=>!0,needGeometry:!1};Qs(o)||(o=c1(o));const n=l1(o,N0);if(n.result==="error")throw new Error(n.value.map(s=>`${s.key}: ${s.message}`).join(", "));return{filter:(s,d,f)=>n.value.evaluate(s,d,{},f),needGeometry:lh(o)}}function O0(o,n){return o<n?-1:o>n?1:0}function lh(o){if(!Array.isArray(o))return!1;if(o[0]==="within")return!0;for(let n=1;n<o.length;n++)if(lh(o[n]))return!0;return!1}function c1(o){if(!o)return!0;const n=o[0];return o.length<=1?n!=="any":n==="=="?Gu(o[1],o[2],"=="):n==="!="?el(Gu(o[1],o[2],"==")):n==="<"||n===">"||n==="<="||n===">="?Gu(o[1],o[2],n):n==="any"?(s=o.slice(1),["any"].concat(s.map(c1))):n==="all"?["all"].concat(o.slice(1).map(c1)):n==="none"?["all"].concat(o.slice(1).map(c1).map(el)):n==="in"?uh(o[1],o.slice(2)):n==="!in"?el(uh(o[1],o.slice(2))):n==="has"?ch(o[1]):n==="!has"?el(ch(o[1])):n!=="within"||o;var s}function Gu(o,n,s){switch(o){case"$type":return[`filter-type-${s}`,n];case"$id":return[`filter-id-${s}`,n];default:return[`filter-${s}`,o,n]}}function uh(o,n){if(n.length===0)return!1;switch(o){case"$type":return["filter-type-in",["literal",n]];case"$id":return["filter-id-in",["literal",n]];default:return n.length>200&&!n.some(s=>typeof s!=typeof n[0])?["filter-in-large",o,["literal",n.sort(O0)]]:["filter-in-small",o,["literal",n]]}}function ch(o){switch(o){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",o]}}function el(o){return["!",o]}function d1(o){const n=typeof o;if(n==="number"||n==="boolean"||n==="string"||o==null)return JSON.stringify(o);if(Array.isArray(o)){let f="[";for(const v of o)f+=`${d1(v)},`;return`${f}]`}const s=Object.keys(o).sort();let d="{";for(let f=0;f<s.length;f++)d+=`${JSON.stringify(s[f])}:${d1(o[s[f]])},`;return`${d}}`}function h1(o){let n="";for(const s of Rt)n+=`/${d1(o[s])}`;return n}function dh(o){const n=o.value;return n?[new Ye(o.key,n,"constants have been deprecated as of v8")]:[]}function Dn(o){return o instanceof Number||o instanceof String||o instanceof Boolean?o.valueOf():o}function Sa(o){if(Array.isArray(o))return o.map(Sa);if(o instanceof Object&&!(o instanceof Number||o instanceof String||o instanceof Boolean)){const n={};for(const s in o)n[s]=Sa(o[s]);return n}return Dn(o)}function qr(o){const n=o.key,s=o.value,d=o.valueSpec||{},f=o.objectElementValidators||{},v=o.style,x=o.styleSpec,b=o.validateSpec;let E=[];const A=en(s);if(A!=="object")return[new Ye(n,s,`object expected, ${A} found`)];for(const I in s){const z=I.split(".")[0],$=d[z]||d["*"];let U;if(f[z])U=f[z];else if(d[z])U=b;else if(f["*"])U=f["*"];else{if(!d["*"]){E.push(new Ye(n,s[I],`unknown property "${I}"`));continue}U=b}E=E.concat(U({key:(n&&`${n}.`)+I,value:s[I],valueSpec:$,style:v,styleSpec:x,object:s,objectKey:I,validateSpec:b},s))}for(const I in d)f[I]||d[I].required&&d[I].default===void 0&&s[I]===void 0&&E.push(new Ye(n,s,`missing required property "${I}"`));return E}function as(o){const n=o.value,s=o.valueSpec,d=o.style,f=o.styleSpec,v=o.key,x=o.arrayElementValidator||o.validateSpec;if(en(n)!=="array")return[new Ye(v,n,`array expected, ${en(n)} found`)];if(s.length&&n.length!==s.length)return[new Ye(v,n,`array length ${s.length} expected, length ${n.length} found`)];if(s["min-length"]&&n.length<s["min-length"])return[new Ye(v,n,`array length at least ${s["min-length"]} expected, length ${n.length} found`)];let b={type:s.value,values:s.values};f.$version<7&&(b.function=s.function),en(s.value)==="object"&&(b=s.value);let E=[];for(let A=0;A<n.length;A++)E=E.concat(x({array:n,arrayIndex:A,value:n[A],valueSpec:b,validateSpec:o.validateSpec,style:d,styleSpec:f,key:`${v}[${A}]`}));return E}function tl(o){const n=o.key,s=o.value,d=o.valueSpec;let f=en(s);return f==="number"&&s!=s&&(f="NaN"),f!=="number"?[new Ye(n,s,`number expected, ${f} found`)]:"minimum"in d&&s<d.minimum?[new Ye(n,s,`${s} is less than the minimum value ${d.minimum}`)]:"maximum"in d&&s>d.maximum?[new Ye(n,s,`${s} is greater than the maximum value ${d.maximum}`)]:[]}function p1(o){const n=o.valueSpec,s=Dn(o.value.type);let d,f,v,x={};const b=s!=="categorical"&&o.value.property===void 0,E=!b,A=en(o.value.stops)==="array"&&en(o.value.stops[0])==="array"&&en(o.value.stops[0][0])==="object",I=qr({key:o.key,value:o.value,valueSpec:o.styleSpec.function,validateSpec:o.validateSpec,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{stops:function(U){if(s==="identity")return[new Ye(U.key,U.value,'identity function may not have a "stops" property')];let Z=[];const Q=U.value;return Z=Z.concat(as({key:U.key,value:Q,valueSpec:U.valueSpec,validateSpec:U.validateSpec,style:U.style,styleSpec:U.styleSpec,arrayElementValidator:z})),en(Q)==="array"&&Q.length===0&&Z.push(new Ye(U.key,Q,"array must have at least one stop")),Z},default:function(U){return U.validateSpec({key:U.key,value:U.value,valueSpec:n,validateSpec:U.validateSpec,style:U.style,styleSpec:U.styleSpec})}}});return s==="identity"&&b&&I.push(new Ye(o.key,o.value,'missing required property "property"')),s==="identity"||o.value.stops||I.push(new Ye(o.key,o.value,'missing required property "stops"')),s==="exponential"&&o.valueSpec.expression&&!Vu(o.valueSpec)&&I.push(new Ye(o.key,o.value,"exponential functions not supported")),o.styleSpec.$version>=8&&(E&&!os(o.valueSpec)?I.push(new Ye(o.key,o.value,"property functions not supported")):b&&!ah(o.valueSpec)&&I.push(new Ye(o.key,o.value,"zoom functions not supported"))),s!=="categorical"&&!A||o.value.property!==void 0||I.push(new Ye(o.key,o.value,'"property" property is required')),I;function z(U){let Z=[];const Q=U.value,se=U.key;if(en(Q)!=="array")return[new Ye(se,Q,`array expected, ${en(Q)} found`)];if(Q.length!==2)return[new Ye(se,Q,`array length 2 expected, length ${Q.length} found`)];if(A){if(en(Q[0])!=="object")return[new Ye(se,Q,`object expected, ${en(Q[0])} found`)];if(Q[0].zoom===void 0)return[new Ye(se,Q,"object stop key must have zoom")];if(Q[0].value===void 0)return[new Ye(se,Q,"object stop key must have value")];if(v&&v>Dn(Q[0].zoom))return[new Ye(se,Q[0].zoom,"stop zoom values must appear in ascending order")];Dn(Q[0].zoom)!==v&&(v=Dn(Q[0].zoom),f=void 0,x={}),Z=Z.concat(qr({key:`${se}[0]`,value:Q[0],valueSpec:{zoom:{}},validateSpec:U.validateSpec,style:U.style,styleSpec:U.styleSpec,objectElementValidators:{zoom:tl,value:$}}))}else Z=Z.concat($({key:`${se}[0]`,value:Q[0],valueSpec:{},validateSpec:U.validateSpec,style:U.style,styleSpec:U.styleSpec},Q));return s1(Sa(Q[1]))?Z.concat([new Ye(`${se}[1]`,Q[1],"expressions are not allowed in function stops.")]):Z.concat(U.validateSpec({key:`${se}[1]`,value:Q[1],valueSpec:n,validateSpec:U.validateSpec,style:U.style,styleSpec:U.styleSpec}))}function $(U,Z){const Q=en(U.value),se=Dn(U.value),ce=U.value!==null?U.value:Z;if(d){if(Q!==d)return[new Ye(U.key,ce,`${Q} stop domain type must match previous stop domain type ${d}`)]}else d=Q;if(Q!=="number"&&Q!=="string"&&Q!=="boolean")return[new Ye(U.key,ce,"stop domain value must be a number, string, or boolean")];if(Q!=="number"&&s!=="categorical"){let _e=`number expected, ${Q} found`;return os(n)&&s===void 0&&(_e+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ye(U.key,ce,_e)]}return s!=="categorical"||Q!=="number"||isFinite(se)&&Math.floor(se)===se?s!=="categorical"&&Q==="number"&&f!==void 0&&se<f?[new Ye(U.key,ce,"stop domain values must appear in ascending order")]:(f=se,s==="categorical"&&se in x?[new Ye(U.key,ce,"stop domain values must be unique")]:(x[se]=!0,[])):[new Ye(U.key,ce,`integer expected, found ${se}`)]}}function Ca(o){const n=(o.expressionContext==="property"?Hu:l1)(Sa(o.value),o.valueSpec);if(n.result==="error")return n.value.map(d=>new Ye(`${o.key}${d.key}`,o.value,d.message));const s=n.value.expression||n.value._styleExpression.expression;if(o.expressionContext==="property"&&o.propertyKey==="text-font"&&!s.outputDefined())return[new Ye(o.key,o.value,`Invalid data expression for "${o.propertyKey}". Output values must be contained as literals within the expression.`)];if(o.expressionContext==="property"&&o.propertyType==="layout"&&!Ks(s))return[new Ye(o.key,o.value,'"feature-state" data expressions are not supported with layout properties.')];if(o.expressionContext==="filter"&&!Ks(s))return[new Ye(o.key,o.value,'"feature-state" data expressions are not supported with filters.')];if(o.expressionContext&&o.expressionContext.indexOf("cluster")===0){if(!e1(s,["zoom","feature-state"]))return[new Ye(o.key,o.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(o.expressionContext==="cluster-initial"&&!Ql(s))return[new Ye(o.key,o.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function nl(o){const n=o.key,s=o.value,d=o.valueSpec,f=[];return Array.isArray(d.values)?d.values.indexOf(Dn(s))===-1&&f.push(new Ye(n,s,`expected one of [${d.values.join(", ")}], ${JSON.stringify(s)} found`)):Object.keys(d.values).indexOf(Dn(s))===-1&&f.push(new Ye(n,s,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(s)} found`)),f}function ss(o){return Qs(Sa(o.value))?Ca(Mi({},o,{expressionContext:"filter",valueSpec:{value:"boolean"}})):hh(o)}function hh(o){const n=o.value,s=o.key;if(en(n)!=="array")return[new Ye(s,n,`array expected, ${en(n)} found`)];const d=o.styleSpec;let f,v=[];if(n.length<1)return[new Ye(s,n,"filter array must have at least 1 element")];switch(v=v.concat(nl({key:`${s}[0]`,value:n[0],valueSpec:d.filter_operator,style:o.style,styleSpec:o.styleSpec})),Dn(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&Dn(n[1])==="$type"&&v.push(new Ye(s,n,`"$type" cannot be use with operator "${n[0]}"`));case"==":case"!=":n.length!==3&&v.push(new Ye(s,n,`filter array for operator "${n[0]}" must have 3 elements`));case"in":case"!in":n.length>=2&&(f=en(n[1]),f!=="string"&&v.push(new Ye(`${s}[1]`,n[1],`string expected, ${f} found`)));for(let x=2;x<n.length;x++)f=en(n[x]),Dn(n[1])==="$type"?v=v.concat(nl({key:`${s}[${x}]`,value:n[x],valueSpec:d.geometry_type,style:o.style,styleSpec:o.styleSpec})):f!=="string"&&f!=="number"&&f!=="boolean"&&v.push(new Ye(`${s}[${x}]`,n[x],`string, number, or boolean expected, ${f} found`));break;case"any":case"all":case"none":for(let x=1;x<n.length;x++)v=v.concat(hh({key:`${s}[${x}]`,value:n[x],style:o.style,styleSpec:o.styleSpec}));break;case"has":case"!has":f=en(n[1]),n.length!==2?v.push(new Ye(s,n,`filter array for "${n[0]}" operator must have 2 elements`)):f!=="string"&&v.push(new Ye(`${s}[1]`,n[1],`string expected, ${f} found`));break;case"within":f=en(n[1]),n.length!==2?v.push(new Ye(s,n,`filter array for "${n[0]}" operator must have 2 elements`)):f!=="object"&&v.push(new Ye(`${s}[1]`,n[1],`object expected, ${f} found`))}return v}function ph(o,n){const s=o.key,d=o.validateSpec,f=o.style,v=o.styleSpec,x=o.value,b=o.objectKey,E=v[`${n}_${o.layerType}`];if(!E)return[];const A=b.match(/^(.*)-transition$/);if(n==="paint"&&A&&E[A[1]]&&E[A[1]].transition)return d({key:s,value:x,valueSpec:v.transition,style:f,styleSpec:v});const I=o.valueSpec||E[b];if(!I)return[new Ye(s,x,`unknown property "${b}"`)];let z;if(en(x)==="string"&&os(I)&&!I.tokens&&(z=/^{([^}]+)}$/.exec(x)))return[new Ye(s,x,`"${b}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(z[1])} }\`.`)];const $=[];return o.layerType==="symbol"&&(b==="text-field"&&f&&!f.glyphs&&$.push(new Ye(s,x,'use of "text-field" requires a style "glyphs" property')),b==="text-font"&&An(Sa(x))&&Dn(x.type)==="identity"&&$.push(new Ye(s,x,'"text-font" does not support identity functions'))),$.concat(d({key:o.key,value:x,valueSpec:I,style:f,styleSpec:v,expressionContext:"property",propertyType:n,propertyKey:b}))}function fh(o){return ph(o,"paint")}function mh(o){return ph(o,"layout")}function gh(o){let n=[];const s=o.value,d=o.key,f=o.style,v=o.styleSpec;s.type||s.ref||n.push(new Ye(d,s,'either "type" or "ref" is required'));let x=Dn(s.type);const b=Dn(s.ref);if(s.id){const E=Dn(s.id);for(let A=0;A<o.arrayIndex;A++){const I=f.layers[A];Dn(I.id)===E&&n.push(new Ye(d,s.id,`duplicate layer id "${s.id}", previously used at line ${I.id.__line__}`))}}if("ref"in s){let E;["type","source","source-layer","filter","layout"].forEach(A=>{A in s&&n.push(new Ye(d,s[A],`"${A}" is prohibited for ref layers`))}),f.layers.forEach(A=>{Dn(A.id)===b&&(E=A)}),E?E.ref?n.push(new Ye(d,s.ref,"ref cannot reference another ref layer")):x=Dn(E.type):n.push(new Ye(d,s.ref,`ref layer "${b}" not found`))}else if(x!=="background")if(s.source){const E=f.sources&&f.sources[s.source],A=E&&Dn(E.type);E?A==="vector"&&x==="raster"?n.push(new Ye(d,s.source,`layer "${s.id}" requires a raster source`)):A!=="raster-dem"&&x==="hillshade"?n.push(new Ye(d,s.source,`layer "${s.id}" requires a raster-dem source`)):A==="raster"&&x!=="raster"?n.push(new Ye(d,s.source,`layer "${s.id}" requires a vector source`)):A!=="vector"||s["source-layer"]?A==="raster-dem"&&x!=="hillshade"?n.push(new Ye(d,s.source,"raster-dem source can only be used with layer type 'hillshade'.")):x!=="line"||!s.paint||!s.paint["line-gradient"]||A==="geojson"&&E.lineMetrics||n.push(new Ye(d,s,`layer "${s.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):n.push(new Ye(d,s,`layer "${s.id}" must specify a "source-layer"`)):n.push(new Ye(d,s.source,`source "${s.source}" not found`))}else n.push(new Ye(d,s,'missing required property "source"'));return n=n.concat(qr({key:d,value:s,valueSpec:v.layer,style:o.style,styleSpec:o.styleSpec,validateSpec:o.validateSpec,objectElementValidators:{"*":()=>[],type:()=>o.validateSpec({key:`${d}.type`,value:s.type,valueSpec:v.layer.type,style:o.style,styleSpec:o.styleSpec,validateSpec:o.validateSpec,object:s,objectKey:"type"}),filter:ss,layout:E=>qr({layer:s,key:E.key,value:E.value,style:E.style,styleSpec:E.styleSpec,validateSpec:E.validateSpec,objectElementValidators:{"*":A=>mh(Mi({layerType:x},A))}}),paint:E=>qr({layer:s,key:E.key,value:E.value,style:E.style,styleSpec:E.styleSpec,validateSpec:E.validateSpec,objectElementValidators:{"*":A=>fh(Mi({layerType:x},A))}})}})),n}function co(o){const n=o.value,s=o.key,d=en(n);return d!=="string"?[new Ye(s,n,`string expected, ${d} found`)]:[]}const rl={promoteId:function({key:o,value:n}){if(en(n)==="string")return co({key:o,value:n});{const s=[];for(const d in n)s.push(...co({key:`${o}.${d}`,value:n[d]}));return s}}};function di(o){const n=o.value,s=o.key,d=o.styleSpec,f=o.style,v=o.validateSpec;if(!n.type)return[new Ye(s,n,'"type" is required')];const x=Dn(n.type);let b;switch(x){case"vector":case"raster":return b=qr({key:s,value:n,valueSpec:d[`source_${x.replace("-","_")}`],style:o.style,styleSpec:d,objectElementValidators:rl,validateSpec:v}),b;case"raster-dem":return b=function(E){var A;const I=(A=E.sourceName)!==null&&A!==void 0?A:"",z=E.value,$=E.styleSpec,U=$.source_raster_dem,Z=E.style;let Q=[];const se=en(z);if(z===void 0)return Q;if(se!=="object")return Q.push(new Ye("source_raster_dem",z,`object expected, ${se} found`)),Q;const ce=Dn(z.encoding)==="custom",_e=["redFactor","greenFactor","blueFactor","baseShift"],fe=E.value.encoding?`"${E.value.encoding}"`:"Default";for(const be in z)!ce&&_e.includes(be)?Q.push(new Ye(be,z[be],`In "${I}": "${be}" is only valid when "encoding" is set to "custom". ${fe} encoding found`)):U[be]?Q=Q.concat(E.validateSpec({key:be,value:z[be],valueSpec:U[be],validateSpec:E.validateSpec,style:Z,styleSpec:$})):Q.push(new Ye(be,z[be],`unknown property "${be}"`));return Q}({sourceName:s,value:n,style:o.style,styleSpec:d,validateSpec:v}),b;case"geojson":if(b=qr({key:s,value:n,valueSpec:d.source_geojson,style:f,styleSpec:d,validateSpec:v,objectElementValidators:rl}),n.cluster)for(const E in n.clusterProperties){const[A,I]=n.clusterProperties[E],z=typeof A=="string"?[A,["accumulated"],["get",E]]:A;b.push(...Ca({key:`${s}.${E}.map`,value:I,validateSpec:v,expressionContext:"cluster-map"})),b.push(...Ca({key:`${s}.${E}.reduce`,value:z,validateSpec:v,expressionContext:"cluster-reduce"}))}return b;case"video":return qr({key:s,value:n,valueSpec:d.source_video,style:f,validateSpec:v,styleSpec:d});case"image":return qr({key:s,value:n,valueSpec:d.source_image,style:f,validateSpec:v,styleSpec:d});case"canvas":return[new Ye(s,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return nl({key:`${s}.type`,value:n.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:f,validateSpec:v,styleSpec:d})}}function il(o){const n=o.value,s=o.styleSpec,d=s.light,f=o.style;let v=[];const x=en(n);if(n===void 0)return v;if(x!=="object")return v=v.concat([new Ye("light",n,`object expected, ${x} found`)]),v;for(const b in n){const E=b.match(/^(.*)-transition$/);v=v.concat(E&&d[E[1]]&&d[E[1]].transition?o.validateSpec({key:b,value:n[b],valueSpec:s.transition,validateSpec:o.validateSpec,style:f,styleSpec:s}):d[b]?o.validateSpec({key:b,value:n[b],valueSpec:d[b],validateSpec:o.validateSpec,style:f,styleSpec:s}):[new Ye(b,n[b],`unknown property "${b}"`)])}return v}function yh(o){const n=o.value,s=o.styleSpec,d=s.terrain,f=o.style;let v=[];const x=en(n);if(n===void 0)return v;if(x!=="object")return v=v.concat([new Ye("terrain",n,`object expected, ${x} found`)]),v;for(const b in n)v=v.concat(d[b]?o.validateSpec({key:b,value:n[b],valueSpec:d[b],validateSpec:o.validateSpec,style:f,styleSpec:s}):[new Ye(b,n[b],`unknown property "${b}"`)]);return v}function vh(o){let n=[];const s=o.value,d=o.key;if(Array.isArray(s)){const f=[],v=[];for(const x in s)s[x].id&&f.includes(s[x].id)&&n.push(new Ye(d,s,`all the sprites' ids must be unique, but ${s[x].id} is duplicated`)),f.push(s[x].id),s[x].url&&v.includes(s[x].url)&&n.push(new Ye(d,s,`all the sprites' URLs must be unique, but ${s[x].url} is duplicated`)),v.push(s[x].url),n=n.concat(qr({key:`${d}[${x}]`,value:s[x],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:o.validateSpec}));return n}return co({key:d,value:s})}const _h={"*":()=>[],array:as,boolean:function(o){const n=o.value,s=o.key,d=en(n);return d!=="boolean"?[new Ye(s,n,`boolean expected, ${d} found`)]:[]},number:tl,color:function(o){const n=o.key,s=o.value,d=en(s);return d!=="string"?[new Ye(n,s,`color expected, ${d} found`)]:un.parse(String(s))?[]:[new Ye(n,s,`color expected, "${s}" found`)]},constants:dh,enum:nl,filter:ss,function:p1,layer:gh,object:qr,source:di,light:il,terrain:yh,string:co,formatted:function(o){return co(o).length===0?[]:Ca(o)},resolvedImage:function(o){return co(o).length===0?[]:Ca(o)},padding:function(o){const n=o.key,s=o.value;if(en(s)==="array"){if(s.length<1||s.length>4)return[new Ye(n,s,`padding requires 1 to 4 values; ${s.length} values found`)];const d={type:"number"};let f=[];for(let v=0;v<s.length;v++)f=f.concat(o.validateSpec({key:`${n}[${v}]`,value:s[v],validateSpec:o.validateSpec,valueSpec:d}));return f}return tl({key:n,value:s,valueSpec:{}})},variableAnchorOffsetCollection:function(o){const n=o.key,s=o.value,d=en(s),f=o.styleSpec;if(d!=="array"||s.length<1||s.length%2!=0)return[new Ye(n,s,"variableAnchorOffsetCollection requires a non-empty array of even length")];let v=[];for(let x=0;x<s.length;x+=2)v=v.concat(nl({key:`${n}[${x}]`,value:s[x],valueSpec:f.layout_symbol["text-anchor"]})),v=v.concat(as({key:`${n}[${x+1}]`,value:s[x+1],valueSpec:{length:2,value:"number"},validateSpec:o.validateSpec,style:o.style,styleSpec:f}));return v},sprite:vh};function Lo(o){const n=o.value,s=o.valueSpec,d=o.styleSpec;return o.validateSpec=Lo,s.expression&&An(Dn(n))?p1(o):s.expression&&s1(Sa(n))?Ca(o):s.type&&_h[s.type]?_h[s.type](o):qr(Mi({},o,{valueSpec:s.type?d[s.type]:s}))}function xh(o){const n=o.value,s=o.key,d=co(o);return d.length||(n.indexOf("{fontstack}")===-1&&d.push(new Ye(s,n,'"glyphs" url must include a "{fontstack}" token')),n.indexOf("{range}")===-1&&d.push(new Ye(s,n,'"glyphs" url must include a "{range}" token'))),d}function Li(o,n=ke){let s=[];return s=s.concat(Lo({key:"",value:o,valueSpec:n.$root,styleSpec:n,style:o,validateSpec:Lo,objectElementValidators:{glyphs:xh,"*":()=>[]}})),o.constants&&(s=s.concat(dh({key:"constants",value:o.constants,style:o,styleSpec:n,validateSpec:Lo}))),f1(s)}function Do(o){return function(n){return o({...n,validateSpec:Lo})}}function f1(o){return[].concat(o).sort((n,s)=>n.line-s.line)}function Ro(o){return function(...n){return f1(o.apply(this,n))}}Li.source=Ro(Do(di)),Li.sprite=Ro(Do(vh)),Li.glyphs=Ro(Do(xh)),Li.light=Ro(Do(il)),Li.terrain=Ro(Do(yh)),Li.layer=Ro(Do(gh)),Li.filter=Ro(Do(ss)),Li.paintProperty=Ro(Do(fh)),Li.layoutProperty=Ro(Do(mh));const zo=Li,B0=zo.light,qu=zo.paintProperty,bh=zo.layoutProperty;function m1(o,n){let s=!1;if(n&&n.length)for(const d of n)o.fire(new gr(new Error(d.message))),s=!0;return s}class ls{constructor(n,s,d){const f=this.cells=[];if(n instanceof ArrayBuffer){this.arrayBuffer=n;const x=new Int32Array(this.arrayBuffer);n=x[0],this.d=(s=x[1])+2*(d=x[2]);for(let E=0;E<this.d*this.d;E++){const A=x[3+E],I=x[3+E+1];f.push(A===I?null:x.subarray(A,I))}const b=x[3+f.length+1];this.keys=x.subarray(x[3+f.length],b),this.bboxes=x.subarray(b),this.insert=this._insertReadonly}else{this.d=s+2*d;for(let x=0;x<this.d*this.d;x++)f.push([]);this.keys=[],this.bboxes=[]}this.n=s,this.extent=n,this.padding=d,this.scale=s/n,this.uid=0;const v=d/s*n;this.min=-v,this.max=n+v}insert(n,s,d,f,v){this._forEachCell(s,d,f,v,this._insertCell,this.uid++,void 0,void 0),this.keys.push(n),this.bboxes.push(s),this.bboxes.push(d),this.bboxes.push(f),this.bboxes.push(v)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(n,s,d,f,v,x){this.cells[v].push(x)}query(n,s,d,f,v){const x=this.min,b=this.max;if(n<=x&&s<=x&&b<=d&&b<=f&&!v)return Array.prototype.slice.call(this.keys);{const E=[];return this._forEachCell(n,s,d,f,this._queryCell,E,{},v),E}}_queryCell(n,s,d,f,v,x,b,E){const A=this.cells[v];if(A!==null){const I=this.keys,z=this.bboxes;for(let $=0;$<A.length;$++){const U=A[$];if(b[U]===void 0){const Z=4*U;(E?E(z[Z+0],z[Z+1],z[Z+2],z[Z+3]):n<=z[Z+2]&&s<=z[Z+3]&&d>=z[Z+0]&&f>=z[Z+1])?(b[U]=!0,x.push(I[U])):b[U]=!1}}}}_forEachCell(n,s,d,f,v,x,b,E){const A=this._convertToCellCoord(n),I=this._convertToCellCoord(s),z=this._convertToCellCoord(d),$=this._convertToCellCoord(f);for(let U=A;U<=z;U++)for(let Z=I;Z<=$;Z++){const Q=this.d*Z+U;if((!E||E(this._convertFromCellCoord(U),this._convertFromCellCoord(Z),this._convertFromCellCoord(U+1),this._convertFromCellCoord(Z+1)))&&v.call(this,n,s,d,f,Q,x,b,E))return}}_convertFromCellCoord(n){return(n-this.padding)/this.scale}_convertToCellCoord(n){return Math.max(0,Math.min(this.d-1,Math.floor(n*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const n=this.cells,s=3+this.cells.length+1+1;let d=0;for(let x=0;x<this.cells.length;x++)d+=this.cells[x].length;const f=new Int32Array(s+d+this.keys.length+this.bboxes.length);f[0]=this.extent,f[1]=this.n,f[2]=this.padding;let v=s;for(let x=0;x<n.length;x++){const b=n[x];f[3+x]=v,f.set(b,v),v+=b.length}return f[3+n.length]=v,f.set(this.keys,v),v+=this.keys.length,f[3+n.length+1]=v,f.set(this.bboxes,v),v+=this.bboxes.length,f.buffer}static serialize(n,s){const d=n.toArrayBuffer();return s&&s.push(d),{buffer:d}}static deserialize(n){return new ls(n.buffer)}}const Fo={};function ct(o,n,s={}){if(Fo[o])throw new Error(`${o} is already registered.`);Object.defineProperty(n,"_classRegistryKey",{value:o,writeable:!1}),Fo[o]={klass:n,omit:s.omit||[],shallow:s.shallow||[]}}ct("Object",Object),ct("TransferableGridIndex",ls),ct("Color",un),ct("Error",Error),ct("AJAXError",er),ct("ResolvedImage",vr),ct("StylePropertyFunction",Js),ct("StyleExpression",Wu,{omit:["_evaluator"]}),ct("ZoomDependentExpression",u1),ct("ZoomConstantExpression",Uu),ct("CompoundExpression",Ii,{omit:["_evaluate"]});for(const o in is)is[o]._classRegistryKey||ct(`Expression_${o}`,is[o]);function g1(o){return o&&typeof ArrayBuffer<"u"&&(o instanceof ArrayBuffer||o.constructor&&o.constructor.name==="ArrayBuffer")}function la(o,n){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||o instanceof Blob)return o;if(g1(o)||Re(o))return n&&n.push(o),o;if(ArrayBuffer.isView(o)){const s=o;return n&&n.push(s.buffer),s}if(o instanceof ImageData)return n&&n.push(o.data.buffer),o;if(Array.isArray(o)){const s=[];for(const d of o)s.push(la(d,n));return s}if(typeof o=="object"){const s=o.constructor,d=s._classRegistryKey;if(!d)throw new Error("can't serialize object of unregistered class");if(!Fo[d])throw new Error(`${d} is not registered.`);const f=s.serialize?s.serialize(o,n):{};if(s.serialize){if(n&&f===n[n.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const v in o){if(!o.hasOwnProperty(v)||Fo[d].omit.indexOf(v)>=0)continue;const x=o[v];f[v]=Fo[d].shallow.indexOf(v)>=0?x:la(x,n)}o instanceof Error&&(f.message=o.message)}if(f.$name)throw new Error("$name property is reserved for worker serialization logic.");return d!=="Object"&&(f.$name=d),f}throw new Error("can't serialize object of type "+typeof o)}function us(o){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||o instanceof Blob||g1(o)||Re(o)||ArrayBuffer.isView(o)||o instanceof ImageData)return o;if(Array.isArray(o))return o.map(us);if(typeof o=="object"){const n=o.$name||"Object";if(!Fo[n])throw new Error(`can't deserialize unregistered class ${n}`);const{klass:s}=Fo[n];if(!s)throw new Error(`can't deserialize unregistered class ${n}`);if(s.deserialize)return s.deserialize(o);const d=Object.create(s.prototype);for(const f of Object.keys(o)){if(f==="$name")continue;const v=o[f];d[f]=Fo[n].shallow.indexOf(f)>=0?v:us(v)}return d}throw new Error("can't deserialize object of type "+typeof o)}class wh{constructor(){this.first=!0}update(n,s){const d=Math.floor(n);return this.first?(this.first=!1,this.lastIntegerZoom=d,this.lastIntegerZoomTime=0,this.lastZoom=n,this.lastFloorZoom=d,!0):(this.lastFloorZoom>d?(this.lastIntegerZoom=d+1,this.lastIntegerZoomTime=s):this.lastFloorZoom<d&&(this.lastIntegerZoom=d,this.lastIntegerZoomTime=s),n!==this.lastZoom&&(this.lastZoom=n,this.lastFloorZoom=d,!0))}}const st={"Latin-1 Supplement":o=>o>=128&&o<=255,Arabic:o=>o>=1536&&o<=1791,"Arabic Supplement":o=>o>=1872&&o<=1919,"Arabic Extended-A":o=>o>=2208&&o<=2303,"Hangul Jamo":o=>o>=4352&&o<=4607,"Unified Canadian Aboriginal Syllabics":o=>o>=5120&&o<=5759,Khmer:o=>o>=6016&&o<=6143,"Unified Canadian Aboriginal Syllabics Extended":o=>o>=6320&&o<=6399,"General Punctuation":o=>o>=8192&&o<=8303,"Letterlike Symbols":o=>o>=8448&&o<=8527,"Number Forms":o=>o>=8528&&o<=8591,"Miscellaneous Technical":o=>o>=8960&&o<=9215,"Control Pictures":o=>o>=9216&&o<=9279,"Optical Character Recognition":o=>o>=9280&&o<=9311,"Enclosed Alphanumerics":o=>o>=9312&&o<=9471,"Geometric Shapes":o=>o>=9632&&o<=9727,"Miscellaneous Symbols":o=>o>=9728&&o<=9983,"Miscellaneous Symbols and Arrows":o=>o>=11008&&o<=11263,"CJK Radicals Supplement":o=>o>=11904&&o<=12031,"Kangxi Radicals":o=>o>=12032&&o<=12255,"Ideographic Description Characters":o=>o>=12272&&o<=12287,"CJK Symbols and Punctuation":o=>o>=12288&&o<=12351,Hiragana:o=>o>=12352&&o<=12447,Katakana:o=>o>=12448&&o<=12543,Bopomofo:o=>o>=12544&&o<=12591,"Hangul Compatibility Jamo":o=>o>=12592&&o<=12687,Kanbun:o=>o>=12688&&o<=12703,"Bopomofo Extended":o=>o>=12704&&o<=12735,"CJK Strokes":o=>o>=12736&&o<=12783,"Katakana Phonetic Extensions":o=>o>=12784&&o<=12799,"Enclosed CJK Letters and Months":o=>o>=12800&&o<=13055,"CJK Compatibility":o=>o>=13056&&o<=13311,"CJK Unified Ideographs Extension A":o=>o>=13312&&o<=19903,"Yijing Hexagram Symbols":o=>o>=19904&&o<=19967,"CJK Unified Ideographs":o=>o>=19968&&o<=40959,"Yi Syllables":o=>o>=40960&&o<=42127,"Yi Radicals":o=>o>=42128&&o<=42191,"Hangul Jamo Extended-A":o=>o>=43360&&o<=43391,"Hangul Syllables":o=>o>=44032&&o<=55215,"Hangul Jamo Extended-B":o=>o>=55216&&o<=55295,"Private Use Area":o=>o>=57344&&o<=63743,"CJK Compatibility Ideographs":o=>o>=63744&&o<=64255,"Arabic Presentation Forms-A":o=>o>=64336&&o<=65023,"Vertical Forms":o=>o>=65040&&o<=65055,"CJK Compatibility Forms":o=>o>=65072&&o<=65103,"Small Form Variants":o=>o>=65104&&o<=65135,"Arabic Presentation Forms-B":o=>o>=65136&&o<=65279,"Halfwidth and Fullwidth Forms":o=>o>=65280&&o<=65519};function Ku(o){for(const n of o)if(Ju(n.charCodeAt(0)))return!0;return!1}function Xu(o){for(const n of o)if(!$0(n.charCodeAt(0)))return!1;return!0}function $0(o){return!(st.Arabic(o)||st["Arabic Supplement"](o)||st["Arabic Extended-A"](o)||st["Arabic Presentation Forms-A"](o)||st["Arabic Presentation Forms-B"](o))}function Ju(o){return!(o!==746&&o!==747&&(o<4352||!(st["Bopomofo Extended"](o)||st.Bopomofo(o)||st["CJK Compatibility Forms"](o)&&!(o>=65097&&o<=65103)||st["CJK Compatibility Ideographs"](o)||st["CJK Compatibility"](o)||st["CJK Radicals Supplement"](o)||st["CJK Strokes"](o)||!(!st["CJK Symbols and Punctuation"](o)||o>=12296&&o<=12305||o>=12308&&o<=12319||o===12336)||st["CJK Unified Ideographs Extension A"](o)||st["CJK Unified Ideographs"](o)||st["Enclosed CJK Letters and Months"](o)||st["Hangul Compatibility Jamo"](o)||st["Hangul Jamo Extended-A"](o)||st["Hangul Jamo Extended-B"](o)||st["Hangul Jamo"](o)||st["Hangul Syllables"](o)||st.Hiragana(o)||st["Ideographic Description Characters"](o)||st.Kanbun(o)||st["Kangxi Radicals"](o)||st["Katakana Phonetic Extensions"](o)||st.Katakana(o)&&o!==12540||!(!st["Halfwidth and Fullwidth Forms"](o)||o===65288||o===65289||o===65293||o>=65306&&o<=65310||o===65339||o===65341||o===65343||o>=65371&&o<=65503||o===65507||o>=65512&&o<=65519)||!(!st["Small Form Variants"](o)||o>=65112&&o<=65118||o>=65123&&o<=65126)||st["Unified Canadian Aboriginal Syllabics"](o)||st["Unified Canadian Aboriginal Syllabics Extended"](o)||st["Vertical Forms"](o)||st["Yijing Hexagram Symbols"](o)||st["Yi Syllables"](o)||st["Yi Radicals"](o))))}function Sh(o){return!(Ju(o)||function(n){return!!(st["Latin-1 Supplement"](n)&&(n===167||n===169||n===174||n===177||n===188||n===189||n===190||n===215||n===247)||st["General Punctuation"](n)&&(n===8214||n===8224||n===8225||n===8240||n===8241||n===8251||n===8252||n===8258||n===8263||n===8264||n===8265||n===8273)||st["Letterlike Symbols"](n)||st["Number Forms"](n)||st["Miscellaneous Technical"](n)&&(n>=8960&&n<=8967||n>=8972&&n<=8991||n>=8996&&n<=9e3||n===9003||n>=9085&&n<=9114||n>=9150&&n<=9165||n===9167||n>=9169&&n<=9179||n>=9186&&n<=9215)||st["Control Pictures"](n)&&n!==9251||st["Optical Character Recognition"](n)||st["Enclosed Alphanumerics"](n)||st["Geometric Shapes"](n)||st["Miscellaneous Symbols"](n)&&!(n>=9754&&n<=9759)||st["Miscellaneous Symbols and Arrows"](n)&&(n>=11026&&n<=11055||n>=11088&&n<=11097||n>=11192&&n<=11243)||st["CJK Symbols and Punctuation"](n)||st.Katakana(n)||st["Private Use Area"](n)||st["CJK Compatibility Forms"](n)||st["Small Form Variants"](n)||st["Halfwidth and Fullwidth Forms"](n)||n===8734||n===8756||n===8757||n>=9984&&n<=10087||n>=10102&&n<=10131||n===65532||n===65533)}(o))}function Ch(o){return o>=1424&&o<=2303||st["Arabic Presentation Forms-A"](o)||st["Arabic Presentation Forms-B"](o)}function Mh(o,n){return!(!n&&Ch(o)||o>=2304&&o<=3583||o>=3840&&o<=4255||st.Khmer(o))}function j0(o){for(const n of o)if(Ch(n.charCodeAt(0)))return!0;return!1}const Yu="deferred",Qu="loading",ec="loaded";let tc=null,Kr="unavailable",ua=null;const ol=function(o){o&&typeof o=="string"&&o.indexOf("NetworkError")>-1&&(Kr="error"),tc&&tc(o)};function nc(){al.fire(new Er("pluginStateChange",{pluginStatus:Kr,pluginURL:ua}))}const al=new pn,rc=function(){return Kr},Eh=function(){if(Kr!==Yu||!ua)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Kr=Qu,nc(),ua&&nn({url:ua},o=>{o?ol(o):(Kr=ec,nc())})},hi={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Kr===ec||hi.applyArabicShaping!=null,isLoading:()=>Kr===Qu,setState(o){if(!Ie())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Kr=o.pluginStatus,ua=o.pluginURL},isParsed(){if(!Ie())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return hi.applyArabicShaping!=null&&hi.processBidirectionalText!=null&&hi.processStyledBidirectionalText!=null},getPluginURL(){if(!Ie())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return ua}};class vn{constructor(n,s){this.zoom=n,s?(this.now=s.now,this.fadeDuration=s.fadeDuration,this.zoomHistory=s.zoomHistory,this.transition=s.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new wh,this.transition={})}isSupportedScript(n){return function(s,d){for(const f of s)if(!Mh(f.charCodeAt(0),d))return!1;return!0}(n,hi.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const n=this.zoom,s=n-Math.floor(n),d=this.crossFadingFactor();return n>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:s+(1-s)*d}:{fromScale:.5,toScale:1,t:1-(1-d)*s}}}class y1{constructor(n,s){this.property=n,this.value=s,this.expression=function(d,f){if(An(d))return new Js(d,f);if(s1(d)){const v=Hu(d,f);if(v.result==="error")throw new Error(v.value.map(x=>`${x.key}: ${x.message}`).join(", "));return v.value}{let v=d;return f.type==="color"&&typeof d=="string"?v=un.parse(d):f.type!=="padding"||typeof d!="number"&&!Array.isArray(d)?f.type==="variableAnchorOffsetCollection"&&Array.isArray(d)&&(v=Pi.parse(d)):v=li.parse(d),{kind:"constant",evaluate:()=>v}}}(s===void 0?n.specification.default:s,n.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(n,s,d){return this.property.possiblyEvaluate(this,n,s,d)}}class ic{constructor(n){this.property=n,this.value=new y1(n,void 0)}transitioned(n,s){return new Ah(this.property,this.value,s,Se({},n.transition,this.transition),n.now)}untransitioned(){return new Ah(this.property,this.value,null,{},0)}}class kh{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitionablePropertyValues)}getValue(n){return He(this._values[n].value.value)}setValue(n,s){Object.prototype.hasOwnProperty.call(this._values,n)||(this._values[n]=new ic(this._values[n].property)),this._values[n].value=new y1(this._values[n].property,s===null?void 0:He(s))}getTransition(n){return He(this._values[n].transition)}setTransition(n,s){Object.prototype.hasOwnProperty.call(this._values,n)||(this._values[n]=new ic(this._values[n].property)),this._values[n].transition=He(s)||void 0}serialize(){const n={};for(const s of Object.keys(this._values)){const d=this.getValue(s);d!==void 0&&(n[s]=d);const f=this.getTransition(s);f!==void 0&&(n[`${s}-transition`]=f)}return n}transitioned(n,s){const d=new Ph(this._properties);for(const f of Object.keys(this._values))d._values[f]=this._values[f].transitioned(n,s._values[f]);return d}untransitioned(){const n=new Ph(this._properties);for(const s of Object.keys(this._values))n._values[s]=this._values[s].untransitioned();return n}}class Ah{constructor(n,s,d,f,v){this.property=n,this.value=s,this.begin=v+f.delay||0,this.end=this.begin+f.duration||0,n.specification.transition&&(f.delay||f.duration)&&(this.prior=d)}possiblyEvaluate(n,s,d){const f=n.now||0,v=this.value.possiblyEvaluate(n,s,d),x=this.prior;if(x){if(f>this.end)return this.prior=null,v;if(this.value.isDataDriven())return this.prior=null,v;if(f<this.begin)return x.possiblyEvaluate(n,s,d);{const b=(f-this.begin)/(this.end-this.begin);return this.property.interpolate(x.possiblyEvaluate(n,s,d),v,function(E){if(E<=0)return 0;if(E>=1)return 1;const A=E*E,I=A*E;return 4*(E<.5?I:3*(E-A)+I-.75)}(b))}}return v}}class Ph{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitioningPropertyValues)}possiblyEvaluate(n,s,d){const f=new v1(this._properties);for(const v of Object.keys(this._values))f._values[v]=this._values[v].possiblyEvaluate(n,s,d);return f}hasTransition(){for(const n of Object.keys(this._values))if(this._values[n].prior)return!0;return!1}}class V0{constructor(n){this._properties=n,this._values=Object.create(n.defaultPropertyValues)}hasValue(n){return this._values[n].value!==void 0}getValue(n){return He(this._values[n].value)}setValue(n,s){this._values[n]=new y1(this._values[n].property,s===null?void 0:He(s))}serialize(){const n={};for(const s of Object.keys(this._values)){const d=this.getValue(s);d!==void 0&&(n[s]=d)}return n}possiblyEvaluate(n,s,d){const f=new v1(this._properties);for(const v of Object.keys(this._values))f._values[v]=this._values[v].possiblyEvaluate(n,s,d);return f}}class Nr{constructor(n,s,d){this.property=n,this.value=s,this.parameters=d}isConstant(){return this.value.kind==="constant"}constantOr(n){return this.value.kind==="constant"?this.value.value:n}evaluate(n,s,d,f){return this.property.evaluate(this.value,this.parameters,n,s,d,f)}}class v1{constructor(n){this._properties=n,this._values=Object.create(n.defaultPossiblyEvaluatedValues)}get(n){return this._values[n]}}class _t{constructor(n){this.specification=n}possiblyEvaluate(n,s){if(n.isDataDriven())throw new Error("Value should not be data driven");return n.expression.evaluate(s)}interpolate(n,s,d){const f=ui[this.specification.type];return f?f(n,s,d):n}}class Mt{constructor(n,s){this.specification=n,this.overrides=s}possiblyEvaluate(n,s,d,f){return new Nr(this,n.expression.kind==="constant"||n.expression.kind==="camera"?{kind:"constant",value:n.expression.evaluate(s,null,{},d,f)}:n.expression,s)}interpolate(n,s,d){if(n.value.kind!=="constant"||s.value.kind!=="constant")return n;if(n.value.value===void 0||s.value.value===void 0)return new Nr(this,{kind:"constant",value:void 0},n.parameters);const f=ui[this.specification.type];if(f){const v=f(n.value.value,s.value.value,d);return new Nr(this,{kind:"constant",value:v},n.parameters)}return n}evaluate(n,s,d,f,v,x){return n.kind==="constant"?n.value:n.evaluate(s,d,f,v,x)}}class sl extends Mt{possiblyEvaluate(n,s,d,f){if(n.value===void 0)return new Nr(this,{kind:"constant",value:void 0},s);if(n.expression.kind==="constant"){const v=n.expression.evaluate(s,null,{},d,f),x=n.property.specification.type==="resolvedImage"&&typeof v!="string"?v.name:v,b=this._calculate(x,x,x,s);return new Nr(this,{kind:"constant",value:b},s)}if(n.expression.kind==="camera"){const v=this._calculate(n.expression.evaluate({zoom:s.zoom-1}),n.expression.evaluate({zoom:s.zoom}),n.expression.evaluate({zoom:s.zoom+1}),s);return new Nr(this,{kind:"constant",value:v},s)}return new Nr(this,n.expression,s)}evaluate(n,s,d,f,v,x){if(n.kind==="source"){const b=n.evaluate(s,d,f,v,x);return this._calculate(b,b,b,s)}return n.kind==="composite"?this._calculate(n.evaluate({zoom:Math.floor(s.zoom)-1},d,f),n.evaluate({zoom:Math.floor(s.zoom)},d,f),n.evaluate({zoom:Math.floor(s.zoom)+1},d,f),s):n.value}_calculate(n,s,d,f){return f.zoom>f.zoomHistory.lastIntegerZoom?{from:n,to:s}:{from:d,to:s}}interpolate(n){return n}}class oc{constructor(n){this.specification=n}possiblyEvaluate(n,s,d,f){if(n.value!==void 0){if(n.expression.kind==="constant"){const v=n.expression.evaluate(s,null,{},d,f);return this._calculate(v,v,v,s)}return this._calculate(n.expression.evaluate(new vn(Math.floor(s.zoom-1),s)),n.expression.evaluate(new vn(Math.floor(s.zoom),s)),n.expression.evaluate(new vn(Math.floor(s.zoom+1),s)),s)}}_calculate(n,s,d,f){return f.zoom>f.zoomHistory.lastIntegerZoom?{from:n,to:s}:{from:d,to:s}}interpolate(n){return n}}class ac{constructor(n){this.specification=n}possiblyEvaluate(n,s,d,f){return!!n.expression.evaluate(s,null,{},d,f)}interpolate(){return!1}}class Wn{constructor(n){this.properties=n,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const s in n){const d=n[s];d.specification.overridable&&this.overridableProperties.push(s);const f=this.defaultPropertyValues[s]=new y1(d,void 0),v=this.defaultTransitionablePropertyValues[s]=new ic(d);this.defaultTransitioningPropertyValues[s]=v.untransitioned(),this.defaultPossiblyEvaluatedValues[s]=f.possiblyEvaluate({})}}}ct("DataDrivenProperty",Mt),ct("DataConstantProperty",_t),ct("CrossFadedDataDrivenProperty",sl),ct("CrossFadedProperty",oc),ct("ColorRampProperty",ac);const sc="-transition";class Di extends pn{constructor(n,s){if(super(),this.id=n.id,this.type=n.type,this._featureFilter={filter:()=>!0,needGeometry:!1},n.type!=="custom"&&(this.metadata=n.metadata,this.minzoom=n.minzoom,this.maxzoom=n.maxzoom,n.type!=="background"&&(this.source=n.source,this.sourceLayer=n["source-layer"],this.filter=n.filter),s.layout&&(this._unevaluatedLayout=new V0(s.layout)),s.paint)){this._transitionablePaint=new kh(s.paint);for(const d in n.paint)this.setPaintProperty(d,n.paint[d],{validate:!1});for(const d in n.layout)this.setLayoutProperty(d,n.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new v1(s.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(n){return n==="visibility"?this.visibility:this._unevaluatedLayout.getValue(n)}setLayoutProperty(n,s,d={}){s!=null&&this._validate(bh,`layers.${this.id}.layout.${n}`,n,s,d)||(n!=="visibility"?this._unevaluatedLayout.setValue(n,s):this.visibility=s)}getPaintProperty(n){return n.endsWith(sc)?this._transitionablePaint.getTransition(n.slice(0,-11)):this._transitionablePaint.getValue(n)}setPaintProperty(n,s,d={}){if(s!=null&&this._validate(qu,`layers.${this.id}.paint.${n}`,n,s,d))return!1;if(n.endsWith(sc))return this._transitionablePaint.setTransition(n.slice(0,-11),s||void 0),!1;{const f=this._transitionablePaint._values[n],v=f.property.specification["property-type"]==="cross-faded-data-driven",x=f.value.isDataDriven(),b=f.value;this._transitionablePaint.setValue(n,s),this._handleSpecialPaintPropertyUpdate(n);const E=this._transitionablePaint._values[n].value;return E.isDataDriven()||x||v||this._handleOverridablePaintPropertyUpdate(n,b,E)}}_handleSpecialPaintPropertyUpdate(n){}_handleOverridablePaintPropertyUpdate(n,s,d){return!1}isHidden(n){return!!(this.minzoom&&n<this.minzoom)||!!(this.maxzoom&&n>=this.maxzoom)||this.visibility==="none"}updateTransitions(n){this._transitioningPaint=this._transitionablePaint.transitioned(n,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(n,s){n.getCrossfadeParameters&&(this._crossfadeParameters=n.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(n,void 0,s)),this.paint=this._transitioningPaint.possiblyEvaluate(n,void 0,s)}serialize(){const n={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(n.layout=n.layout||{},n.layout.visibility=this.visibility),Be(n,(s,d)=>!(s===void 0||d==="layout"&&!Object.keys(s).length||d==="paint"&&!Object.keys(s).length))}_validate(n,s,d,f,v={}){return(!v||v.validate!==!1)&&m1(this,n.call(zo,{key:s,layerType:this.type,objectKey:d,value:f,styleSpec:ke,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const n in this.paint._values){const s=this.paint.get(n);if(s instanceof Nr&&os(s.property.specification)&&(s.value.kind==="source"||s.value.kind==="composite")&&s.value.isStateDependent)return!0}return!1}}const Th={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Ma{constructor(n,s){this._structArray=n,this._pos1=s*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Rn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(n,s){return n._trim(),s&&(n.isTransferred=!0,s.push(n.arrayBuffer)),{length:n.length,arrayBuffer:n.arrayBuffer}}static deserialize(n){const s=Object.create(this.prototype);return s.arrayBuffer=n.arrayBuffer,s.length=n.length,s.capacity=n.arrayBuffer.byteLength/s.bytesPerElement,s._refreshViews(),s}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(n){this.reserve(n),this.length=n}reserve(n){if(n>this.capacity){this.capacity=Math.max(n,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const s=this.uint8;this._refreshViews(),s&&this.uint8.set(s)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Tn(o,n=1){let s=0,d=0;return{members:o.map(f=>{const v=Th[f.type].BYTES_PER_ELEMENT,x=s=cs(s,Math.max(n,v)),b=f.components||1;return d=Math.max(d,v),s+=v*b,{name:f.name,type:f.type,components:b,offset:x}}),size:cs(s,Math.max(d,n)),alignment:n}}function cs(o,n){return Math.ceil(o/n)*n}class ll extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s){const d=this.length;return this.resize(d+1),this.emplace(d,n,s)}emplace(n,s,d){const f=2*n;return this.int16[f+0]=s,this.int16[f+1]=d,n}}ll.prototype.bytesPerElement=4,ct("StructArrayLayout2i4",ll);class ul extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s,d){const f=this.length;return this.resize(f+1),this.emplace(f,n,s,d)}emplace(n,s,d,f){const v=3*n;return this.int16[v+0]=s,this.int16[v+1]=d,this.int16[v+2]=f,n}}ul.prototype.bytesPerElement=6,ct("StructArrayLayout3i6",ul);class Ea extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s,d,f){const v=this.length;return this.resize(v+1),this.emplace(v,n,s,d,f)}emplace(n,s,d,f,v){const x=4*n;return this.int16[x+0]=s,this.int16[x+1]=d,this.int16[x+2]=f,this.int16[x+3]=v,n}}Ea.prototype.bytesPerElement=8,ct("StructArrayLayout4i8",Ea);class lc extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s,d,f,v,x){const b=this.length;return this.resize(b+1),this.emplace(b,n,s,d,f,v,x)}emplace(n,s,d,f,v,x,b){const E=6*n;return this.int16[E+0]=s,this.int16[E+1]=d,this.int16[E+2]=f,this.int16[E+3]=v,this.int16[E+4]=x,this.int16[E+5]=b,n}}lc.prototype.bytesPerElement=12,ct("StructArrayLayout2i4i12",lc);class uc extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s,d,f,v,x){const b=this.length;return this.resize(b+1),this.emplace(b,n,s,d,f,v,x)}emplace(n,s,d,f,v,x,b){const E=4*n,A=8*n;return this.int16[E+0]=s,this.int16[E+1]=d,this.uint8[A+4]=f,this.uint8[A+5]=v,this.uint8[A+6]=x,this.uint8[A+7]=b,n}}uc.prototype.bytesPerElement=8,ct("StructArrayLayout2i4ub8",uc);class ds extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s){const d=this.length;return this.resize(d+1),this.emplace(d,n,s)}emplace(n,s,d){const f=2*n;return this.float32[f+0]=s,this.float32[f+1]=d,n}}ds.prototype.bytesPerElement=8,ct("StructArrayLayout2f8",ds);class cc extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,s,d,f,v,x,b,E,A,I){const z=this.length;return this.resize(z+1),this.emplace(z,n,s,d,f,v,x,b,E,A,I)}emplace(n,s,d,f,v,x,b,E,A,I,z){const $=10*n;return this.uint16[$+0]=s,this.uint16[$+1]=d,this.uint16[$+2]=f,this.uint16[$+3]=v,this.uint16[$+4]=x,this.uint16[$+5]=b,this.uint16[$+6]=E,this.uint16[$+7]=A,this.uint16[$+8]=I,this.uint16[$+9]=z,n}}cc.prototype.bytesPerElement=20,ct("StructArrayLayout10ui20",cc);class dc extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,s,d,f,v,x,b,E,A,I,z,$){const U=this.length;return this.resize(U+1),this.emplace(U,n,s,d,f,v,x,b,E,A,I,z,$)}emplace(n,s,d,f,v,x,b,E,A,I,z,$,U){const Z=12*n;return this.int16[Z+0]=s,this.int16[Z+1]=d,this.int16[Z+2]=f,this.int16[Z+3]=v,this.uint16[Z+4]=x,this.uint16[Z+5]=b,this.uint16[Z+6]=E,this.uint16[Z+7]=A,this.int16[Z+8]=I,this.int16[Z+9]=z,this.int16[Z+10]=$,this.int16[Z+11]=U,n}}dc.prototype.bytesPerElement=24,ct("StructArrayLayout4i4ui4i24",dc);class tn extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s,d){const f=this.length;return this.resize(f+1),this.emplace(f,n,s,d)}emplace(n,s,d,f){const v=3*n;return this.float32[v+0]=s,this.float32[v+1]=d,this.float32[v+2]=f,n}}tn.prototype.bytesPerElement=12,ct("StructArrayLayout3f12",tn);class g extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n){const s=this.length;return this.resize(s+1),this.emplace(s,n)}emplace(n,s){return this.uint32[1*n+0]=s,n}}g.prototype.bytesPerElement=4,ct("StructArrayLayout1ul4",g);class r extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,s,d,f,v,x,b,E,A){const I=this.length;return this.resize(I+1),this.emplace(I,n,s,d,f,v,x,b,E,A)}emplace(n,s,d,f,v,x,b,E,A,I){const z=10*n,$=5*n;return this.int16[z+0]=s,this.int16[z+1]=d,this.int16[z+2]=f,this.int16[z+3]=v,this.int16[z+4]=x,this.int16[z+5]=b,this.uint32[$+3]=E,this.uint16[z+8]=A,this.uint16[z+9]=I,n}}r.prototype.bytesPerElement=20,ct("StructArrayLayout6i1ul2ui20",r);class c extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s,d,f,v,x){const b=this.length;return this.resize(b+1),this.emplace(b,n,s,d,f,v,x)}emplace(n,s,d,f,v,x,b){const E=6*n;return this.int16[E+0]=s,this.int16[E+1]=d,this.int16[E+2]=f,this.int16[E+3]=v,this.int16[E+4]=x,this.int16[E+5]=b,n}}c.prototype.bytesPerElement=12,ct("StructArrayLayout2i2i2i12",c);class h extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s,d,f,v){const x=this.length;return this.resize(x+1),this.emplace(x,n,s,d,f,v)}emplace(n,s,d,f,v,x){const b=4*n,E=8*n;return this.float32[b+0]=s,this.float32[b+1]=d,this.float32[b+2]=f,this.int16[E+6]=v,this.int16[E+7]=x,n}}h.prototype.bytesPerElement=16,ct("StructArrayLayout2f1f2i16",h);class m extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s,d,f){const v=this.length;return this.resize(v+1),this.emplace(v,n,s,d,f)}emplace(n,s,d,f,v){const x=12*n,b=3*n;return this.uint8[x+0]=s,this.uint8[x+1]=d,this.float32[b+1]=f,this.float32[b+2]=v,n}}m.prototype.bytesPerElement=12,ct("StructArrayLayout2ub2f12",m);class _ extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,s,d){const f=this.length;return this.resize(f+1),this.emplace(f,n,s,d)}emplace(n,s,d,f){const v=3*n;return this.uint16[v+0]=s,this.uint16[v+1]=d,this.uint16[v+2]=f,n}}_.prototype.bytesPerElement=6,ct("StructArrayLayout3ui6",_);class w extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s,d,f,v,x,b,E,A,I,z,$,U,Z,Q,se,ce){const _e=this.length;return this.resize(_e+1),this.emplace(_e,n,s,d,f,v,x,b,E,A,I,z,$,U,Z,Q,se,ce)}emplace(n,s,d,f,v,x,b,E,A,I,z,$,U,Z,Q,se,ce,_e){const fe=24*n,be=12*n,Ee=48*n;return this.int16[fe+0]=s,this.int16[fe+1]=d,this.uint16[fe+2]=f,this.uint16[fe+3]=v,this.uint32[be+2]=x,this.uint32[be+3]=b,this.uint32[be+4]=E,this.uint16[fe+10]=A,this.uint16[fe+11]=I,this.uint16[fe+12]=z,this.float32[be+7]=$,this.float32[be+8]=U,this.uint8[Ee+36]=Z,this.uint8[Ee+37]=Q,this.uint8[Ee+38]=se,this.uint32[be+10]=ce,this.int16[fe+22]=_e,n}}w.prototype.bytesPerElement=48,ct("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",w);class C extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s,d,f,v,x,b,E,A,I,z,$,U,Z,Q,se,ce,_e,fe,be,Ee,Oe,lt,gt,ot,it,et,ht){const nt=this.length;return this.resize(nt+1),this.emplace(nt,n,s,d,f,v,x,b,E,A,I,z,$,U,Z,Q,se,ce,_e,fe,be,Ee,Oe,lt,gt,ot,it,et,ht)}emplace(n,s,d,f,v,x,b,E,A,I,z,$,U,Z,Q,se,ce,_e,fe,be,Ee,Oe,lt,gt,ot,it,et,ht,nt){const Ge=32*n,wt=16*n;return this.int16[Ge+0]=s,this.int16[Ge+1]=d,this.int16[Ge+2]=f,this.int16[Ge+3]=v,this.int16[Ge+4]=x,this.int16[Ge+5]=b,this.int16[Ge+6]=E,this.int16[Ge+7]=A,this.uint16[Ge+8]=I,this.uint16[Ge+9]=z,this.uint16[Ge+10]=$,this.uint16[Ge+11]=U,this.uint16[Ge+12]=Z,this.uint16[Ge+13]=Q,this.uint16[Ge+14]=se,this.uint16[Ge+15]=ce,this.uint16[Ge+16]=_e,this.uint16[Ge+17]=fe,this.uint16[Ge+18]=be,this.uint16[Ge+19]=Ee,this.uint16[Ge+20]=Oe,this.uint16[Ge+21]=lt,this.uint16[Ge+22]=gt,this.uint32[wt+12]=ot,this.float32[wt+13]=it,this.float32[wt+14]=et,this.uint16[Ge+30]=ht,this.uint16[Ge+31]=nt,n}}C.prototype.bytesPerElement=64,ct("StructArrayLayout8i15ui1ul2f2ui64",C);class k extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n){const s=this.length;return this.resize(s+1),this.emplace(s,n)}emplace(n,s){return this.float32[1*n+0]=s,n}}k.prototype.bytesPerElement=4,ct("StructArrayLayout1f4",k);class T extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s,d){const f=this.length;return this.resize(f+1),this.emplace(f,n,s,d)}emplace(n,s,d,f){const v=3*n;return this.uint16[6*n+0]=s,this.float32[v+1]=d,this.float32[v+2]=f,n}}T.prototype.bytesPerElement=12,ct("StructArrayLayout1ui2f12",T);class L extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,s,d){const f=this.length;return this.resize(f+1),this.emplace(f,n,s,d)}emplace(n,s,d,f){const v=4*n;return this.uint32[2*n+0]=s,this.uint16[v+2]=d,this.uint16[v+3]=f,n}}L.prototype.bytesPerElement=8,ct("StructArrayLayout1ul2ui8",L);class D extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,s){const d=this.length;return this.resize(d+1),this.emplace(d,n,s)}emplace(n,s,d){const f=2*n;return this.uint16[f+0]=s,this.uint16[f+1]=d,n}}D.prototype.bytesPerElement=4,ct("StructArrayLayout2ui4",D);class W extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n){const s=this.length;return this.resize(s+1),this.emplace(s,n)}emplace(n,s){return this.uint16[1*n+0]=s,n}}W.prototype.bytesPerElement=2,ct("StructArrayLayout1ui2",W);class te extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s,d,f){const v=this.length;return this.resize(v+1),this.emplace(v,n,s,d,f)}emplace(n,s,d,f,v){const x=4*n;return this.float32[x+0]=s,this.float32[x+1]=d,this.float32[x+2]=f,this.float32[x+3]=v,n}}te.prototype.bytesPerElement=16,ct("StructArrayLayout4f16",te);class ee extends Ma{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new R(this.anchorPointX,this.anchorPointY)}}ee.prototype.size=20;class oe extends r{get(n){return new ee(this,n)}}ct("CollisionBoxArray",oe);class Y extends Ma{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(n){this._structArray.uint8[this._pos1+37]=n}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(n){this._structArray.uint8[this._pos1+38]=n}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(n){this._structArray.uint32[this._pos4+10]=n}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Y.prototype.size=48;class ge extends w{get(n){return new Y(this,n)}}ct("PlacedSymbolArray",ge);class Ce extends Ma{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(n){this._structArray.uint32[this._pos4+12]=n}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Ce.prototype.size=64;class le extends C{get(n){return new Ce(this,n)}}ct("SymbolInstanceArray",le);class ve extends k{getoffsetX(n){return this.float32[1*n+0]}}ct("GlyphOffsetArray",ve);class Ae extends ul{getx(n){return this.int16[3*n+0]}gety(n){return this.int16[3*n+1]}gettileUnitDistanceFromAnchor(n){return this.int16[3*n+2]}}ct("SymbolLineVertexArray",Ae);class Pe extends Ma{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Pe.prototype.size=12;class Ne extends T{get(n){return new Pe(this,n)}}ct("TextAnchorOffsetArray",Ne);class Ue extends Ma{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Ue.prototype.size=8;class je extends L{get(n){return new Ue(this,n)}}ct("FeatureIndexArray",je);class Ke extends ll{}class mt extends ll{}class Bt extends ll{}class rt extends lc{}class Et extends uc{}class yt extends ds{}class cn extends cc{}class Nt extends dc{}class zt extends tn{}class $t extends g{}class Bn extends c{}class mn extends m{}class _r extends _{}class ir extends D{}const Un=Tn([{name:"a_pos",components:2,type:"Int16"}],4),{members:pi}=Un;class _n{constructor(n=[]){this.segments=n}prepareSegment(n,s,d,f){let v=this.segments[this.segments.length-1];return n>_n.MAX_VERTEX_ARRAY_LENGTH&&qe(`Max vertices per segment is ${_n.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${n}`),(!v||v.vertexLength+n>_n.MAX_VERTEX_ARRAY_LENGTH||v.sortKey!==f)&&(v={vertexOffset:s.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},f!==void 0&&(v.sortKey=f),this.segments.push(v)),v}get(){return this.segments}destroy(){for(const n of this.segments)for(const s in n.vaos)n.vaos[s].destroy()}static simpleSegment(n,s,d,f){return new _n([{vertexOffset:n,primitiveOffset:s,vertexLength:d,primitiveLength:f,vaos:{},sortKey:0}])}}function ho(o,n){return 256*(o=pe(Math.floor(o),0,255))+pe(Math.floor(n),0,255)}_n.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ct("SegmentVector",_n);const po=Tn([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var ca={exports:{}},ka={exports:{}};ka.exports=function(o,n){var s,d,f,v,x,b,E,A;for(d=o.length-(s=3&o.length),f=n,x=3432918353,b=461845907,A=0;A<d;)E=255&o.charCodeAt(A)|(255&o.charCodeAt(++A))<<8|(255&o.charCodeAt(++A))<<16|(255&o.charCodeAt(++A))<<24,++A,f=27492+(65535&(v=5*(65535&(f=(f^=E=(65535&(E=(E=(65535&E)*x+(((E>>>16)*x&65535)<<16)&4294967295)<<15|E>>>17))*b+(((E>>>16)*b&65535)<<16)&4294967295)<<13|f>>>19))+((5*(f>>>16)&65535)<<16)&4294967295))+((58964+(v>>>16)&65535)<<16);switch(E=0,s){case 3:E^=(255&o.charCodeAt(A+2))<<16;case 2:E^=(255&o.charCodeAt(A+1))<<8;case 1:f^=E=(65535&(E=(E=(65535&(E^=255&o.charCodeAt(A)))*x+(((E>>>16)*x&65535)<<16)&4294967295)<<15|E>>>17))*b+(((E>>>16)*b&65535)<<16)&4294967295}return f^=o.length,f=2246822507*(65535&(f^=f>>>16))+((2246822507*(f>>>16)&65535)<<16)&4294967295,f=3266489909*(65535&(f^=f>>>13))+((3266489909*(f>>>16)&65535)<<16)&4294967295,(f^=f>>>16)>>>0};var hs=ka.exports,Pr={exports:{}};Pr.exports=function(o,n){for(var s,d=o.length,f=n^d,v=0;d>=4;)s=1540483477*(65535&(s=255&o.charCodeAt(v)|(255&o.charCodeAt(++v))<<8|(255&o.charCodeAt(++v))<<16|(255&o.charCodeAt(++v))<<24))+((1540483477*(s>>>16)&65535)<<16),f=1540483477*(65535&f)+((1540483477*(f>>>16)&65535)<<16)^(s=1540483477*(65535&(s^=s>>>24))+((1540483477*(s>>>16)&65535)<<16)),d-=4,++v;switch(d){case 3:f^=(255&o.charCodeAt(v+2))<<16;case 2:f^=(255&o.charCodeAt(v+1))<<8;case 1:f=1540483477*(65535&(f^=255&o.charCodeAt(v)))+((1540483477*(f>>>16)&65535)<<16)}return f=1540483477*(65535&(f^=f>>>13))+((1540483477*(f>>>16)&65535)<<16),(f^=f>>>15)>>>0};var xr=hs,Or=Pr.exports;ca.exports=xr,ca.exports.murmur3=xr,ca.exports.murmur2=Or;var Aa=S(ca.exports);class $n{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(n,s,d,f){this.ids.push(or(n)),this.positions.push(s,d,f)}getPositions(n){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const s=or(n);let d=0,f=this.ids.length-1;for(;d<f;){const x=d+f>>1;this.ids[x]>=s?f=x:d=x+1}const v=[];for(;this.ids[d]===s;)v.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return v}static serialize(n,s){const d=new Float64Array(n.ids),f=new Uint32Array(n.positions);return Xr(d,f,0,d.length-1),s&&s.push(d.buffer,f.buffer),{ids:d,positions:f}}static deserialize(n){const s=new $n;return s.ids=n.ids,s.positions=n.positions,s.indexed=!0,s}}function or(o){const n=+o;return!isNaN(n)&&n<=Number.MAX_SAFE_INTEGER?n:Aa(String(o))}function Xr(o,n,s,d){for(;s<d;){const f=o[s+d>>1];let v=s-1,x=d+1;for(;;){do v++;while(o[v]<f);do x--;while(o[x]>f);if(v>=x)break;jn(o,v,x),jn(n,3*v,3*x),jn(n,3*v+1,3*x+1),jn(n,3*v+2,3*x+2)}x-s<d-x?(Xr(o,n,s,x),s=x+1):(Xr(o,n,x+1,d),d=x)}}function jn(o,n,s){const d=o[n];o[n]=o[s],o[s]=d}ct("FeaturePositionMap",$n);class Pa{constructor(n,s){this.gl=n.gl,this.location=s}}class _1 extends Pa{constructor(n,s){super(n,s),this.current=0}set(n){this.current!==n&&(this.current=n,this.gl.uniform1f(this.location,n))}}class Ih extends Pa{constructor(n,s){super(n,s),this.current=[0,0,0,0]}set(n){n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]&&n[3]===this.current[3]||(this.current=n,this.gl.uniform4f(this.location,n[0],n[1],n[2],n[3]))}}class Lh extends Pa{constructor(n,s){super(n,s),this.current=un.transparent}set(n){n.r===this.current.r&&n.g===this.current.g&&n.b===this.current.b&&n.a===this.current.a||(this.current=n,this.gl.uniform4f(this.location,n.r,n.g,n.b,n.a))}}const W0=new Float32Array(16);function hc(o){return[ho(255*o.r,255*o.g),ho(255*o.b,255*o.a)]}class fo{constructor(n,s,d){this.value=n,this.uniformNames=s.map(f=>`u_${f}`),this.type=d}setUniform(n,s,d){n.set(d.constantOr(this.value))}getBinding(n,s,d){return this.type==="color"?new Lh(n,s):new _1(n,s)}}class Ta{constructor(n,s){this.uniformNames=s.map(d=>`u_${d}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(n,s){this.pixelRatioFrom=s.pixelRatio,this.pixelRatioTo=n.pixelRatio,this.patternFrom=s.tlbr,this.patternTo=n.tlbr}setUniform(n,s,d,f){const v=f==="u_pattern_to"?this.patternTo:f==="u_pattern_from"?this.patternFrom:f==="u_pixel_ratio_to"?this.pixelRatioTo:f==="u_pixel_ratio_from"?this.pixelRatioFrom:null;v&&n.set(v)}getBinding(n,s,d){return d.substr(0,9)==="u_pattern"?new Ih(n,s):new _1(n,s)}}class mo{constructor(n,s,d,f){this.expression=n,this.type=d,this.maxValue=0,this.paintVertexAttributes=s.map(v=>({name:`a_${v}`,type:"Float32",components:d==="color"?2:1,offset:0})),this.paintVertexArray=new f}populatePaintArray(n,s,d,f,v){const x=this.paintVertexArray.length,b=this.expression.evaluate(new vn(0),s,{},f,[],v);this.paintVertexArray.resize(n),this._setPaintValue(x,n,b)}updatePaintArray(n,s,d,f){const v=this.expression.evaluate({zoom:0},d,f);this._setPaintValue(n,s,v)}_setPaintValue(n,s,d){if(this.type==="color"){const f=hc(d);for(let v=n;v<s;v++)this.paintVertexArray.emplace(v,f[0],f[1])}else{for(let f=n;f<s;f++)this.paintVertexArray.emplace(f,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ri{constructor(n,s,d,f,v,x){this.expression=n,this.uniformNames=s.map(b=>`u_${b}_t`),this.type=d,this.useIntegerZoom=f,this.zoom=v,this.maxValue=0,this.paintVertexAttributes=s.map(b=>({name:`a_${b}`,type:"Float32",components:d==="color"?4:2,offset:0})),this.paintVertexArray=new x}populatePaintArray(n,s,d,f,v){const x=this.expression.evaluate(new vn(this.zoom),s,{},f,[],v),b=this.expression.evaluate(new vn(this.zoom+1),s,{},f,[],v),E=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValue(E,n,x,b)}updatePaintArray(n,s,d,f){const v=this.expression.evaluate({zoom:this.zoom},d,f),x=this.expression.evaluate({zoom:this.zoom+1},d,f);this._setPaintValue(n,s,v,x)}_setPaintValue(n,s,d,f){if(this.type==="color"){const v=hc(d),x=hc(f);for(let b=n;b<s;b++)this.paintVertexArray.emplace(b,v[0],v[1],x[0],x[1])}else{for(let v=n;v<s;v++)this.paintVertexArray.emplace(v,d,f);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(f))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(n,s){const d=this.useIntegerZoom?Math.floor(s.zoom):s.zoom,f=pe(this.expression.interpolationFactor(d,this.zoom,this.zoom+1),0,1);n.set(f)}getBinding(n,s,d){return new _1(n,s)}}class go{constructor(n,s,d,f,v,x){this.expression=n,this.type=s,this.useIntegerZoom=d,this.zoom=f,this.layerId=x,this.zoomInPaintVertexArray=new v,this.zoomOutPaintVertexArray=new v}populatePaintArray(n,s,d){const f=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(n),this.zoomOutPaintVertexArray.resize(n),this._setPaintValues(f,n,s.patterns&&s.patterns[this.layerId],d)}updatePaintArray(n,s,d,f,v){this._setPaintValues(n,s,d.patterns&&d.patterns[this.layerId],v)}_setPaintValues(n,s,d,f){if(!f||!d)return;const{min:v,mid:x,max:b}=d,E=f[v],A=f[x],I=f[b];if(E&&A&&I)for(let z=n;z<s;z++)this.zoomInPaintVertexArray.emplace(z,A.tl[0],A.tl[1],A.br[0],A.br[1],E.tl[0],E.tl[1],E.br[0],E.br[1],A.pixelRatio,E.pixelRatio),this.zoomOutPaintVertexArray.emplace(z,A.tl[0],A.tl[1],A.br[0],A.br[1],I.tl[0],I.tl[1],I.br[0],I.br[1],A.pixelRatio,I.pixelRatio)}upload(n){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=n.createVertexBuffer(this.zoomInPaintVertexArray,po.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=n.createVertexBuffer(this.zoomOutPaintVertexArray,po.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class pc{constructor(n,s,d){this.binders={},this._buffers=[];const f=[];for(const v in n.paint._values){if(!d(v))continue;const x=n.paint.get(v);if(!(x instanceof Nr&&os(x.property.specification)))continue;const b=_b(v,n.type),E=x.value,A=x.property.specification.type,I=x.property.useIntegerZoom,z=x.property.specification["property-type"],$=z==="cross-faded"||z==="cross-faded-data-driven";if(E.kind==="constant")this.binders[v]=$?new Ta(E.value,b):new fo(E.value,b,A),f.push(`/u_${v}`);else if(E.kind==="source"||$){const U=ng(v,A,"source");this.binders[v]=$?new go(E,A,I,s,U,n.id):new mo(E,b,A,U),f.push(`/a_${v}`)}else{const U=ng(v,A,"composite");this.binders[v]=new Ri(E,b,A,I,s,U),f.push(`/z_${v}`)}}this.cacheKey=f.sort().join("")}getMaxValue(n){const s=this.binders[n];return s instanceof mo||s instanceof Ri?s.maxValue:0}populatePaintArrays(n,s,d,f,v){for(const x in this.binders){const b=this.binders[x];(b instanceof mo||b instanceof Ri||b instanceof go)&&b.populatePaintArray(n,s,d,f,v)}}setConstantPatternPositions(n,s){for(const d in this.binders){const f=this.binders[d];f instanceof Ta&&f.setConstantPatternPositions(n,s)}}updatePaintArrays(n,s,d,f,v){let x=!1;for(const b in n){const E=s.getPositions(b);for(const A of E){const I=d.feature(A.index);for(const z in this.binders){const $=this.binders[z];if(($ instanceof mo||$ instanceof Ri||$ instanceof go)&&$.expression.isStateDependent===!0){const U=f.paint.get(z);$.expression=U.value,$.updatePaintArray(A.start,A.end,I,n[b],v),x=!0}}}}return x}defines(){const n=[];for(const s in this.binders){const d=this.binders[s];(d instanceof fo||d instanceof Ta)&&n.push(...d.uniformNames.map(f=>`#define HAS_UNIFORM_${f}`))}return n}getBinderAttributes(){const n=[];for(const s in this.binders){const d=this.binders[s];if(d instanceof mo||d instanceof Ri)for(let f=0;f<d.paintVertexAttributes.length;f++)n.push(d.paintVertexAttributes[f].name);else if(d instanceof go)for(let f=0;f<po.members.length;f++)n.push(po.members[f].name)}return n}getBinderUniforms(){const n=[];for(const s in this.binders){const d=this.binders[s];if(d instanceof fo||d instanceof Ta||d instanceof Ri)for(const f of d.uniformNames)n.push(f)}return n}getPaintVertexBuffers(){return this._buffers}getUniforms(n,s){const d=[];for(const f in this.binders){const v=this.binders[f];if(v instanceof fo||v instanceof Ta||v instanceof Ri){for(const x of v.uniformNames)if(s[x]){const b=v.getBinding(n,s[x],x);d.push({name:x,property:f,binding:b})}}}return d}setUniforms(n,s,d,f){for(const{name:v,property:x,binding:b}of s)this.binders[x].setUniform(b,f,d.get(x),v)}updatePaintBuffers(n){this._buffers=[];for(const s in this.binders){const d=this.binders[s];if(n&&d instanceof go){const f=n.fromScale===2?d.zoomInPaintVertexBuffer:d.zoomOutPaintVertexBuffer;f&&this._buffers.push(f)}else(d instanceof mo||d instanceof Ri)&&d.paintVertexBuffer&&this._buffers.push(d.paintVertexBuffer)}}upload(n){for(const s in this.binders){const d=this.binders[s];(d instanceof mo||d instanceof Ri||d instanceof go)&&d.upload(n)}this.updatePaintBuffers()}destroy(){for(const n in this.binders){const s=this.binders[n];(s instanceof mo||s instanceof Ri||s instanceof go)&&s.destroy()}}}class No{constructor(n,s,d=()=>!0){this.programConfigurations={};for(const f of n)this.programConfigurations[f.id]=new pc(f,s,d);this.needsUpload=!1,this._featureMap=new $n,this._bufferOffset=0}populatePaintArrays(n,s,d,f,v,x){for(const b in this.programConfigurations)this.programConfigurations[b].populatePaintArrays(n,s,f,v,x);s.id!==void 0&&this._featureMap.add(s.id,d,this._bufferOffset,n),this._bufferOffset=n,this.needsUpload=!0}updatePaintArrays(n,s,d,f){for(const v of d)this.needsUpload=this.programConfigurations[v.id].updatePaintArrays(n,this._featureMap,s,v,f)||this.needsUpload}get(n){return this.programConfigurations[n]}upload(n){if(this.needsUpload){for(const s in this.programConfigurations)this.programConfigurations[s].upload(n);this.needsUpload=!1}}destroy(){for(const n in this.programConfigurations)this.programConfigurations[n].destroy()}}function _b(o,n){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[o]||[o.replace(`${n}-`,"").replace(/-/g,"_")]}function ng(o,n,s){const d={color:{source:ds,composite:te},number:{source:k,composite:ds}},f=function(v){return{"line-pattern":{source:cn,composite:cn},"fill-pattern":{source:cn,composite:cn},"fill-extrusion-pattern":{source:cn,composite:cn}}[v]}(o);return f&&f[s]||d[n][s]}ct("ConstantBinder",fo),ct("CrossFadedConstantBinder",Ta),ct("SourceExpressionBinder",mo),ct("CrossFadedCompositeBinder",go),ct("CompositeExpressionBinder",Ri),ct("ProgramConfiguration",pc,{omit:["_buffers"]}),ct("ProgramConfigurationSet",No);const Jn=8192,U0=Math.pow(2,14)-1,rg=-U0-1;function cl(o){const n=Jn/o.extent,s=o.loadGeometry();for(let d=0;d<s.length;d++){const f=s[d];for(let v=0;v<f.length;v++){const x=f[v],b=Math.round(x.x*n),E=Math.round(x.y*n);x.x=pe(b,rg,U0),x.y=pe(E,rg,U0),(b<x.x||b>x.x+1||E<x.y||E>x.y+1)&&qe("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return s}function dl(o,n){return{type:o.type,id:o.id,properties:o.properties,geometry:n?cl(o):[]}}function Dh(o,n,s,d,f){o.emplaceBack(2*n+(d+1)/2,2*s+(f+1)/2)}class H0{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(s=>s.id),this.index=n.index,this.hasPattern=!1,this.layoutVertexArray=new mt,this.indexArray=new _r,this.segments=new _n,this.programConfigurations=new No(n.layers,n.zoom),this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id)}populate(n,s,d){const f=this.layers[0],v=[];let x=null,b=!1;f.type==="circle"&&(x=f.layout.get("circle-sort-key"),b=!x.isConstant());for(const{feature:E,id:A,index:I,sourceLayerIndex:z}of n){const $=this.layers[0]._featureFilter.needGeometry,U=dl(E,$);if(!this.layers[0]._featureFilter.filter(new vn(this.zoom),U,d))continue;const Z=b?x.evaluate(U,{},d):void 0,Q={id:A,properties:E.properties,type:E.type,sourceLayerIndex:z,index:I,geometry:$?U.geometry:cl(E),patterns:{},sortKey:Z};v.push(Q)}b&&v.sort((E,A)=>E.sortKey-A.sortKey);for(const E of v){const{geometry:A,index:I,sourceLayerIndex:z}=E,$=n[I].feature;this.addFeature(E,A,I,d),s.featureIndex.insert($,A,I,z,this.index)}}update(n,s,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,s,this.stateDependentLayers,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,pi),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(n,s,d,f){for(const v of s)for(const x of v){const b=x.x,E=x.y;if(b<0||b>=Jn||E<0||E>=Jn)continue;const A=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,n.sortKey),I=A.vertexLength;Dh(this.layoutVertexArray,b,E,-1,-1),Dh(this.layoutVertexArray,b,E,1,-1),Dh(this.layoutVertexArray,b,E,1,1),Dh(this.layoutVertexArray,b,E,-1,1),this.indexArray.emplaceBack(I,I+1,I+2),this.indexArray.emplaceBack(I,I+3,I+2),A.vertexLength+=4,A.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,{},f)}}function ig(o,n){for(let s=0;s<o.length;s++)if(x1(n,o[s]))return!0;for(let s=0;s<n.length;s++)if(x1(o,n[s]))return!0;return!!Z0(o,n)}function xb(o,n,s){return!!x1(o,n)||!!G0(n,o,s)}function og(o,n){if(o.length===1)return sg(n,o[0]);for(let s=0;s<n.length;s++){const d=n[s];for(let f=0;f<d.length;f++)if(x1(o,d[f]))return!0}for(let s=0;s<o.length;s++)if(sg(n,o[s]))return!0;for(let s=0;s<n.length;s++)if(Z0(o,n[s]))return!0;return!1}function bb(o,n,s){if(o.length>1){if(Z0(o,n))return!0;for(let d=0;d<n.length;d++)if(G0(n[d],o,s))return!0}for(let d=0;d<o.length;d++)if(G0(o[d],n,s))return!0;return!1}function Z0(o,n){if(o.length===0||n.length===0)return!1;for(let s=0;s<o.length-1;s++){const d=o[s],f=o[s+1];for(let v=0;v<n.length-1;v++)if(wb(d,f,n[v],n[v+1]))return!0}return!1}function wb(o,n,s,d){return Je(o,s,d)!==Je(n,s,d)&&Je(o,n,s)!==Je(o,n,d)}function G0(o,n,s){const d=s*s;if(n.length===1)return o.distSqr(n[0])<d;for(let f=1;f<n.length;f++)if(ag(o,n[f-1],n[f])<d)return!0;return!1}function ag(o,n,s){const d=n.distSqr(s);if(d===0)return o.distSqr(n);const f=((o.x-n.x)*(s.x-n.x)+(o.y-n.y)*(s.y-n.y))/d;return o.distSqr(f<0?n:f>1?s:s.sub(n)._mult(f)._add(n))}function sg(o,n){let s,d,f,v=!1;for(let x=0;x<o.length;x++){s=o[x];for(let b=0,E=s.length-1;b<s.length;E=b++)d=s[b],f=s[E],d.y>n.y!=f.y>n.y&&n.x<(f.x-d.x)*(n.y-d.y)/(f.y-d.y)+d.x&&(v=!v)}return v}function x1(o,n){let s=!1;for(let d=0,f=o.length-1;d<o.length;f=d++){const v=o[d],x=o[f];v.y>n.y!=x.y>n.y&&n.x<(x.x-v.x)*(n.y-v.y)/(x.y-v.y)+v.x&&(s=!s)}return s}function Sb(o,n,s){const d=s[0],f=s[2];if(o.x<d.x&&n.x<d.x||o.x>f.x&&n.x>f.x||o.y<d.y&&n.y<d.y||o.y>f.y&&n.y>f.y)return!1;const v=Je(o,n,s[0]);return v!==Je(o,n,s[1])||v!==Je(o,n,s[2])||v!==Je(o,n,s[3])}function fc(o,n,s){const d=n.paint.get(o).value;return d.kind==="constant"?d.value:s.programConfigurations.get(n.id).getMaxValue(o)}function Rh(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function zh(o,n,s,d,f){if(!n[0]&&!n[1])return o;const v=R.convert(n)._mult(f);s==="viewport"&&v._rotate(-d);const x=[];for(let b=0;b<o.length;b++)x.push(o[b].sub(v));return x}let lg,ug;ct("CircleBucket",H0,{omit:["layers"]});var Cb={get paint(){return ug=ug||new Wn({"circle-radius":new Mt(ke.paint_circle["circle-radius"]),"circle-color":new Mt(ke.paint_circle["circle-color"]),"circle-blur":new Mt(ke.paint_circle["circle-blur"]),"circle-opacity":new Mt(ke.paint_circle["circle-opacity"]),"circle-translate":new _t(ke.paint_circle["circle-translate"]),"circle-translate-anchor":new _t(ke.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new _t(ke.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new _t(ke.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Mt(ke.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Mt(ke.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Mt(ke.paint_circle["circle-stroke-opacity"])})},get layout(){return lg=lg||new Wn({"circle-sort-key":new Mt(ke.layout_circle["circle-sort-key"])})}},Jr=1e-6,b1=typeof Float32Array<"u"?Float32Array:Array;function q0(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function cg(o,n,s){var d=n[0],f=n[1],v=n[2],x=n[3],b=n[4],E=n[5],A=n[6],I=n[7],z=n[8],$=n[9],U=n[10],Z=n[11],Q=n[12],se=n[13],ce=n[14],_e=n[15],fe=s[0],be=s[1],Ee=s[2],Oe=s[3];return o[0]=fe*d+be*b+Ee*z+Oe*Q,o[1]=fe*f+be*E+Ee*$+Oe*se,o[2]=fe*v+be*A+Ee*U+Oe*ce,o[3]=fe*x+be*I+Ee*Z+Oe*_e,o[4]=(fe=s[4])*d+(be=s[5])*b+(Ee=s[6])*z+(Oe=s[7])*Q,o[5]=fe*f+be*E+Ee*$+Oe*se,o[6]=fe*v+be*A+Ee*U+Oe*ce,o[7]=fe*x+be*I+Ee*Z+Oe*_e,o[8]=(fe=s[8])*d+(be=s[9])*b+(Ee=s[10])*z+(Oe=s[11])*Q,o[9]=fe*f+be*E+Ee*$+Oe*se,o[10]=fe*v+be*A+Ee*U+Oe*ce,o[11]=fe*x+be*I+Ee*Z+Oe*_e,o[12]=(fe=s[12])*d+(be=s[13])*b+(Ee=s[14])*z+(Oe=s[15])*Q,o[13]=fe*f+be*E+Ee*$+Oe*se,o[14]=fe*v+be*A+Ee*U+Oe*ce,o[15]=fe*x+be*I+Ee*Z+Oe*_e,o}Math.hypot||(Math.hypot=function(){for(var o=0,n=arguments.length;n--;)o+=arguments[n]*arguments[n];return Math.sqrt(o)});var mc,Mb=cg;function Fh(o,n,s){var d=n[0],f=n[1],v=n[2],x=n[3];return o[0]=s[0]*d+s[4]*f+s[8]*v+s[12]*x,o[1]=s[1]*d+s[5]*f+s[9]*v+s[13]*x,o[2]=s[2]*d+s[6]*f+s[10]*v+s[14]*x,o[3]=s[3]*d+s[7]*f+s[11]*v+s[15]*x,o}mc=new b1(4),b1!=Float32Array&&(mc[0]=0,mc[1]=0,mc[2]=0,mc[3]=0);class Eb extends Di{constructor(n){super(n,Cb)}createBucket(n){return new H0(n)}queryRadius(n){const s=n;return fc("circle-radius",this,s)+fc("circle-stroke-width",this,s)+Rh(this.paint.get("circle-translate"))}queryIntersectsFeature(n,s,d,f,v,x,b,E){const A=zh(n,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),x.angle,b),I=this.paint.get("circle-radius").evaluate(s,d)+this.paint.get("circle-stroke-width").evaluate(s,d),z=this.paint.get("circle-pitch-alignment")==="map",$=z?A:function(Z,Q){return Z.map(se=>dg(se,Q))}(A,E),U=z?I*b:I;for(const Z of f)for(const Q of Z){const se=z?Q:dg(Q,E);let ce=U;const _e=Fh([],[Q.x,Q.y,0,1],E);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ce*=_e[3]/x.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ce*=x.cameraToCenterDistance/_e[3]),xb($,se,ce))return!0}return!1}}function dg(o,n){const s=Fh([],[o.x,o.y,0,1],n);return new R(s[0]/s[3],s[1]/s[3])}class hg extends H0{}let pg;ct("HeatmapBucket",hg,{omit:["layers"]});var kb={get paint(){return pg=pg||new Wn({"heatmap-radius":new Mt(ke.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Mt(ke.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new _t(ke.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ac(ke.paint_heatmap["heatmap-color"]),"heatmap-opacity":new _t(ke.paint_heatmap["heatmap-opacity"])})}};function K0(o,{width:n,height:s},d,f){if(f){if(f instanceof Uint8ClampedArray)f=new Uint8Array(f.buffer);else if(f.length!==n*s*d)throw new RangeError(`mismatched image size. expected: ${f.length} but got: ${n*s*d}`)}else f=new Uint8Array(n*s*d);return o.width=n,o.height=s,o.data=f,o}function fg(o,{width:n,height:s},d){if(n===o.width&&s===o.height)return;const f=K0({},{width:n,height:s},d);X0(o,f,{x:0,y:0},{x:0,y:0},{width:Math.min(o.width,n),height:Math.min(o.height,s)},d),o.width=n,o.height=s,o.data=f.data}function X0(o,n,s,d,f,v){if(f.width===0||f.height===0)return n;if(f.width>o.width||f.height>o.height||s.x>o.width-f.width||s.y>o.height-f.height)throw new RangeError("out of range source coordinates for image copy");if(f.width>n.width||f.height>n.height||d.x>n.width-f.width||d.y>n.height-f.height)throw new RangeError("out of range destination coordinates for image copy");const x=o.data,b=n.data;if(x===b)throw new Error("srcData equals dstData, so image is already copied");for(let E=0;E<f.height;E++){const A=((s.y+E)*o.width+s.x)*v,I=((d.y+E)*n.width+d.x)*v;for(let z=0;z<f.width*v;z++)b[I+z]=x[A+z]}return n}class gc{constructor(n,s){K0(this,n,1,s)}resize(n){fg(this,n,1)}clone(){return new gc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,s,d,f,v){X0(n,s,d,f,v,1)}}class Wi{constructor(n,s){K0(this,n,4,s)}resize(n){fg(this,n,4)}replace(n,s){s?this.data.set(n):this.data=n instanceof Uint8ClampedArray?new Uint8Array(n.buffer):n}clone(){return new Wi({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,s,d,f,v){X0(n,s,d,f,v,4)}}function mg(o){const n={},s=o.resolution||256,d=o.clips?o.clips.length:1,f=o.image||new Wi({width:s,height:d});if(Math.log(s)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${s}`);const v=(x,b,E)=>{n[o.evaluationKey]=E;const A=o.expression.evaluate(n);f.data[x+b+0]=Math.floor(255*A.r/A.a),f.data[x+b+1]=Math.floor(255*A.g/A.a),f.data[x+b+2]=Math.floor(255*A.b/A.a),f.data[x+b+3]=Math.floor(255*A.a)};if(o.clips)for(let x=0,b=0;x<d;++x,b+=4*s)for(let E=0,A=0;E<s;E++,A+=4){const I=E/(s-1),{start:z,end:$}=o.clips[x];v(b,A,z*(1-I)+$*I)}else for(let x=0,b=0;x<s;x++,b+=4)v(0,b,x/(s-1));return f}ct("AlphaImage",gc),ct("RGBAImage",Wi);class Ab extends Di{createBucket(n){return new hg(n)}constructor(n){super(n,kb),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(n){n==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=mg({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let gg;var Pb={get paint(){return gg=gg||new Wn({"hillshade-illumination-direction":new _t(ke.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new _t(ke.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new _t(ke.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new _t(ke.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new _t(ke.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new _t(ke.paint_hillshade["hillshade-accent-color"])})}};class Tb extends Di{constructor(n){super(n,Pb)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const Ib=Tn([{name:"a_pos",components:2,type:"Int16"}],4),{members:Lb}=Ib;var J0={exports:{}};function Nh(o,n,s){s=s||2;var d,f,v,x,b,E,A,I=n&&n.length,z=I?n[0]*s:o.length,$=yg(o,0,z,s,!0),U=[];if(!$||$.next===$.prev)return U;if(I&&($=function(Q,se,ce,_e){var fe,be,Ee,Oe=[];for(fe=0,be=se.length;fe<be;fe++)(Ee=yg(Q,se[fe]*_e,fe<be-1?se[fe+1]*_e:Q.length,_e,!1))===Ee.next&&(Ee.steiner=!0),Oe.push($b(Ee));for(Oe.sort(Nb),fe=0;fe<Oe.length;fe++)ce=Ob(Oe[fe],ce);return ce}(o,n,$,s)),o.length>80*s){d=v=o[0],f=x=o[1];for(var Z=s;Z<z;Z+=s)(b=o[Z])<d&&(d=b),(E=o[Z+1])<f&&(f=E),b>v&&(v=b),E>x&&(x=E);A=(A=Math.max(v-d,x-f))!==0?32767/A:0}return yc($,U,s,d,f,A,0),U}function yg(o,n,s,d,f){var v,x;if(f===ef(o,n,s,d)>0)for(v=n;v<s;v+=d)x=xg(v,o[v],o[v+1],x);else for(v=s-d;v>=n;v-=d)x=xg(v,o[v],o[v+1],x);return x&&Oh(x,x.next)&&(_c(x),x=x.next),x}function hl(o,n){if(!o)return o;n||(n=o);var s,d=o;do if(s=!1,d.steiner||!Oh(d,d.next)&&Hn(d.prev,d,d.next)!==0)d=d.next;else{if(_c(d),(d=n=d.prev)===d.next)break;s=!0}while(s||d!==n);return n}function yc(o,n,s,d,f,v,x){if(o){!x&&v&&function(I,z,$,U){var Z=I;do Z.z===0&&(Z.z=Y0(Z.x,Z.y,z,$,U)),Z.prevZ=Z.prev,Z.nextZ=Z.next,Z=Z.next;while(Z!==I);Z.prevZ.nextZ=null,Z.prevZ=null,function(Q){var se,ce,_e,fe,be,Ee,Oe,lt,gt=1;do{for(ce=Q,Q=null,be=null,Ee=0;ce;){for(Ee++,_e=ce,Oe=0,se=0;se<gt&&(Oe++,_e=_e.nextZ);se++);for(lt=gt;Oe>0||lt>0&&_e;)Oe!==0&&(lt===0||!_e||ce.z<=_e.z)?(fe=ce,ce=ce.nextZ,Oe--):(fe=_e,_e=_e.nextZ,lt--),be?be.nextZ=fe:Q=fe,fe.prevZ=be,be=fe;ce=_e}be.nextZ=null,gt*=2}while(Ee>1)}(Z)}(o,d,f,v);for(var b,E,A=o;o.prev!==o.next;)if(b=o.prev,E=o.next,v?Rb(o,d,f,v):Db(o))n.push(b.i/s|0),n.push(o.i/s|0),n.push(E.i/s|0),_c(o),o=E.next,A=E.next;else if((o=E)===A){x?x===1?yc(o=zb(hl(o),n,s),n,s,d,f,v,2):x===2&&Fb(o,n,s,d,f,v):yc(hl(o),n,s,d,f,v,1);break}}}function Db(o){var n=o.prev,s=o,d=o.next;if(Hn(n,s,d)>=0)return!1;for(var f=n.x,v=s.x,x=d.x,b=n.y,E=s.y,A=d.y,I=f<v?f<x?f:x:v<x?v:x,z=b<E?b<A?b:A:E<A?E:A,$=f>v?f>x?f:x:v>x?v:x,U=b>E?b>A?b:A:E>A?E:A,Z=d.next;Z!==n;){if(Z.x>=I&&Z.x<=$&&Z.y>=z&&Z.y<=U&&w1(f,b,v,E,x,A,Z.x,Z.y)&&Hn(Z.prev,Z,Z.next)>=0)return!1;Z=Z.next}return!0}function Rb(o,n,s,d){var f=o.prev,v=o,x=o.next;if(Hn(f,v,x)>=0)return!1;for(var b=f.x,E=v.x,A=x.x,I=f.y,z=v.y,$=x.y,U=b<E?b<A?b:A:E<A?E:A,Z=I<z?I<$?I:$:z<$?z:$,Q=b>E?b>A?b:A:E>A?E:A,se=I>z?I>$?I:$:z>$?z:$,ce=Y0(U,Z,n,s,d),_e=Y0(Q,se,n,s,d),fe=o.prevZ,be=o.nextZ;fe&&fe.z>=ce&&be&&be.z<=_e;){if(fe.x>=U&&fe.x<=Q&&fe.y>=Z&&fe.y<=se&&fe!==f&&fe!==x&&w1(b,I,E,z,A,$,fe.x,fe.y)&&Hn(fe.prev,fe,fe.next)>=0||(fe=fe.prevZ,be.x>=U&&be.x<=Q&&be.y>=Z&&be.y<=se&&be!==f&&be!==x&&w1(b,I,E,z,A,$,be.x,be.y)&&Hn(be.prev,be,be.next)>=0))return!1;be=be.nextZ}for(;fe&&fe.z>=ce;){if(fe.x>=U&&fe.x<=Q&&fe.y>=Z&&fe.y<=se&&fe!==f&&fe!==x&&w1(b,I,E,z,A,$,fe.x,fe.y)&&Hn(fe.prev,fe,fe.next)>=0)return!1;fe=fe.prevZ}for(;be&&be.z<=_e;){if(be.x>=U&&be.x<=Q&&be.y>=Z&&be.y<=se&&be!==f&&be!==x&&w1(b,I,E,z,A,$,be.x,be.y)&&Hn(be.prev,be,be.next)>=0)return!1;be=be.nextZ}return!0}function zb(o,n,s){var d=o;do{var f=d.prev,v=d.next.next;!Oh(f,v)&&vg(f,d,d.next,v)&&vc(f,v)&&vc(v,f)&&(n.push(f.i/s|0),n.push(d.i/s|0),n.push(v.i/s|0),_c(d),_c(d.next),d=o=v),d=d.next}while(d!==o);return hl(d)}function Fb(o,n,s,d,f,v){var x=o;do{for(var b=x.next.next;b!==x.prev;){if(x.i!==b.i&&jb(x,b)){var E=_g(x,b);return x=hl(x,x.next),E=hl(E,E.next),yc(x,n,s,d,f,v,0),void yc(E,n,s,d,f,v,0)}b=b.next}x=x.next}while(x!==o)}function Nb(o,n){return o.x-n.x}function Ob(o,n){var s=function(f,v){var x,b=v,E=f.x,A=f.y,I=-1/0;do{if(A<=b.y&&A>=b.next.y&&b.next.y!==b.y){var z=b.x+(A-b.y)*(b.next.x-b.x)/(b.next.y-b.y);if(z<=E&&z>I&&(I=z,x=b.x<b.next.x?b:b.next,z===E))return x}b=b.next}while(b!==v);if(!x)return null;var $,U=x,Z=x.x,Q=x.y,se=1/0;b=x;do E>=b.x&&b.x>=Z&&E!==b.x&&w1(A<Q?E:I,A,Z,Q,A<Q?I:E,A,b.x,b.y)&&($=Math.abs(A-b.y)/(E-b.x),vc(b,f)&&($<se||$===se&&(b.x>x.x||b.x===x.x&&Bb(x,b)))&&(x=b,se=$)),b=b.next;while(b!==U);return x}(o,n);if(!s)return n;var d=_g(s,o);return hl(d,d.next),hl(s,s.next)}function Bb(o,n){return Hn(o.prev,o,n.prev)<0&&Hn(n.next,o,o.next)<0}function Y0(o,n,s,d,f){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-s)*f|0)|o<<8))|o<<4))|o<<2))|o<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-d)*f|0)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function $b(o){var n=o,s=o;do(n.x<s.x||n.x===s.x&&n.y<s.y)&&(s=n),n=n.next;while(n!==o);return s}function w1(o,n,s,d,f,v,x,b){return(f-x)*(n-b)>=(o-x)*(v-b)&&(o-x)*(d-b)>=(s-x)*(n-b)&&(s-x)*(v-b)>=(f-x)*(d-b)}function jb(o,n){return o.next.i!==n.i&&o.prev.i!==n.i&&!function(s,d){var f=s;do{if(f.i!==s.i&&f.next.i!==s.i&&f.i!==d.i&&f.next.i!==d.i&&vg(f,f.next,s,d))return!0;f=f.next}while(f!==s);return!1}(o,n)&&(vc(o,n)&&vc(n,o)&&function(s,d){var f=s,v=!1,x=(s.x+d.x)/2,b=(s.y+d.y)/2;do f.y>b!=f.next.y>b&&f.next.y!==f.y&&x<(f.next.x-f.x)*(b-f.y)/(f.next.y-f.y)+f.x&&(v=!v),f=f.next;while(f!==s);return v}(o,n)&&(Hn(o.prev,o,n.prev)||Hn(o,n.prev,n))||Oh(o,n)&&Hn(o.prev,o,o.next)>0&&Hn(n.prev,n,n.next)>0)}function Hn(o,n,s){return(n.y-o.y)*(s.x-n.x)-(n.x-o.x)*(s.y-n.y)}function Oh(o,n){return o.x===n.x&&o.y===n.y}function vg(o,n,s,d){var f=$h(Hn(o,n,s)),v=$h(Hn(o,n,d)),x=$h(Hn(s,d,o)),b=$h(Hn(s,d,n));return f!==v&&x!==b||!(f!==0||!Bh(o,s,n))||!(v!==0||!Bh(o,d,n))||!(x!==0||!Bh(s,o,d))||!(b!==0||!Bh(s,n,d))}function Bh(o,n,s){return n.x<=Math.max(o.x,s.x)&&n.x>=Math.min(o.x,s.x)&&n.y<=Math.max(o.y,s.y)&&n.y>=Math.min(o.y,s.y)}function $h(o){return o>0?1:o<0?-1:0}function vc(o,n){return Hn(o.prev,o,o.next)<0?Hn(o,n,o.next)>=0&&Hn(o,o.prev,n)>=0:Hn(o,n,o.prev)<0||Hn(o,o.next,n)<0}function _g(o,n){var s=new Q0(o.i,o.x,o.y),d=new Q0(n.i,n.x,n.y),f=o.next,v=n.prev;return o.next=n,n.prev=o,s.next=f,f.prev=s,d.next=s,s.prev=d,v.next=d,d.prev=v,d}function xg(o,n,s,d){var f=new Q0(o,n,s);return d?(f.next=d.next,f.prev=d,d.next.prev=f,d.next=f):(f.prev=f,f.next=f),f}function _c(o){o.next.prev=o.prev,o.prev.next=o.next,o.prevZ&&(o.prevZ.nextZ=o.nextZ),o.nextZ&&(o.nextZ.prevZ=o.prevZ)}function Q0(o,n,s){this.i=o,this.x=n,this.y=s,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ef(o,n,s,d){for(var f=0,v=n,x=s-d;v<s;v+=d)f+=(o[x]-o[v])*(o[v+1]+o[x+1]),x=v;return f}J0.exports=Nh,J0.exports.default=Nh,Nh.deviation=function(o,n,s,d){var f=n&&n.length,v=Math.abs(ef(o,0,f?n[0]*s:o.length,s));if(f)for(var x=0,b=n.length;x<b;x++)v-=Math.abs(ef(o,n[x]*s,x<b-1?n[x+1]*s:o.length,s));var E=0;for(x=0;x<d.length;x+=3){var A=d[x]*s,I=d[x+1]*s,z=d[x+2]*s;E+=Math.abs((o[A]-o[z])*(o[I+1]-o[A+1])-(o[A]-o[I])*(o[z+1]-o[A+1]))}return v===0&&E===0?0:Math.abs((E-v)/v)},Nh.flatten=function(o){for(var n=o[0][0].length,s={vertices:[],holes:[],dimensions:n},d=0,f=0;f<o.length;f++){for(var v=0;v<o[f].length;v++)for(var x=0;x<n;x++)s.vertices.push(o[f][v][x]);f>0&&s.holes.push(d+=o[f-1].length)}return s};var bg=S(J0.exports);function Vb(o,n,s,d,f){wg(o,n,s||0,d||o.length-1,f||Wb)}function wg(o,n,s,d,f){for(;d>s;){if(d-s>600){var v=d-s+1,x=n-s+1,b=Math.log(v),E=.5*Math.exp(2*b/3),A=.5*Math.sqrt(b*E*(v-E)/v)*(x-v/2<0?-1:1);wg(o,n,Math.max(s,Math.floor(n-x*E/v+A)),Math.min(d,Math.floor(n+(v-x)*E/v+A)),f)}var I=o[n],z=s,$=d;for(xc(o,s,n),f(o[d],I)>0&&xc(o,s,d);z<$;){for(xc(o,z,$),z++,$--;f(o[z],I)<0;)z++;for(;f(o[$],I)>0;)$--}f(o[s],I)===0?xc(o,s,$):xc(o,++$,d),$<=n&&(s=$+1),n<=$&&(d=$-1)}}function xc(o,n,s){var d=o[n];o[n]=o[s],o[s]=d}function Wb(o,n){return o<n?-1:o>n?1:0}function tf(o,n){const s=o.length;if(s<=1)return[o];const d=[];let f,v;for(let x=0;x<s;x++){const b=Le(o[x]);b!==0&&(o[x].area=Math.abs(b),v===void 0&&(v=b<0),v===b<0?(f&&d.push(f),f=[o[x]]):f.push(o[x]))}if(f&&d.push(f),n>1)for(let x=0;x<d.length;x++)d[x].length<=n||(Vb(d[x],n,1,d[x].length-1,Ub),d[x]=d[x].slice(0,n));return d}function Ub(o,n){return n.area-o.area}function nf(o,n,s){const d=s.patternDependencies;let f=!1;for(const v of n){const x=v.paint.get(`${o}-pattern`);x.isConstant()||(f=!0);const b=x.constantOr(null);b&&(f=!0,d[b.to]=!0,d[b.from]=!0)}return f}function rf(o,n,s,d,f){const v=f.patternDependencies;for(const x of n){const b=x.paint.get(`${o}-pattern`).value;if(b.kind!=="constant"){let E=b.evaluate({zoom:d-1},s,{},f.availableImages),A=b.evaluate({zoom:d},s,{},f.availableImages),I=b.evaluate({zoom:d+1},s,{},f.availableImages);E=E&&E.name?E.name:E,A=A&&A.name?A.name:A,I=I&&I.name?I.name:I,v[E]=!0,v[A]=!0,v[I]=!0,s.patterns[x.id]={min:E,mid:A,max:I}}}return s}class of{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(s=>s.id),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Bt,this.indexArray=new _r,this.indexArray2=new ir,this.programConfigurations=new No(n.layers,n.zoom),this.segments=new _n,this.segments2=new _n,this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id)}populate(n,s,d){this.hasPattern=nf("fill",this.layers,s);const f=this.layers[0].layout.get("fill-sort-key"),v=!f.isConstant(),x=[];for(const{feature:b,id:E,index:A,sourceLayerIndex:I}of n){const z=this.layers[0]._featureFilter.needGeometry,$=dl(b,z);if(!this.layers[0]._featureFilter.filter(new vn(this.zoom),$,d))continue;const U=v?f.evaluate($,{},d,s.availableImages):void 0,Z={id:E,properties:b.properties,type:b.type,sourceLayerIndex:I,index:A,geometry:z?$.geometry:cl(b),patterns:{},sortKey:U};x.push(Z)}v&&x.sort((b,E)=>b.sortKey-E.sortKey);for(const b of x){const{geometry:E,index:A,sourceLayerIndex:I}=b;if(this.hasPattern){const z=rf("fill",this.layers,b,this.zoom,s);this.patternFeatures.push(z)}else this.addFeature(b,E,A,d,{});s.featureIndex.insert(n[A].feature,E,A,I,this.index)}}update(n,s,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,s,this.stateDependentLayers,d)}addFeatures(n,s,d){for(const f of this.patternFeatures)this.addFeature(f,f.geometry,f.index,s,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Lb),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.indexBuffer2=n.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(n,s,d,f,v){for(const x of tf(s,500)){let b=0;for(const U of x)b+=U.length;const E=this.segments.prepareSegment(b,this.layoutVertexArray,this.indexArray),A=E.vertexLength,I=[],z=[];for(const U of x){if(U.length===0)continue;U!==x[0]&&z.push(I.length/2);const Z=this.segments2.prepareSegment(U.length,this.layoutVertexArray,this.indexArray2),Q=Z.vertexLength;this.layoutVertexArray.emplaceBack(U[0].x,U[0].y),this.indexArray2.emplaceBack(Q+U.length-1,Q),I.push(U[0].x),I.push(U[0].y);for(let se=1;se<U.length;se++)this.layoutVertexArray.emplaceBack(U[se].x,U[se].y),this.indexArray2.emplaceBack(Q+se-1,Q+se),I.push(U[se].x),I.push(U[se].y);Z.vertexLength+=U.length,Z.primitiveLength+=U.length}const $=bg(I,z);for(let U=0;U<$.length;U+=3)this.indexArray.emplaceBack(A+$[U],A+$[U+1],A+$[U+2]);E.vertexLength+=b,E.primitiveLength+=$.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,v,f)}}let Sg,Cg;ct("FillBucket",of,{omit:["layers","patternFeatures"]});var Hb={get paint(){return Cg=Cg||new Wn({"fill-antialias":new _t(ke.paint_fill["fill-antialias"]),"fill-opacity":new Mt(ke.paint_fill["fill-opacity"]),"fill-color":new Mt(ke.paint_fill["fill-color"]),"fill-outline-color":new Mt(ke.paint_fill["fill-outline-color"]),"fill-translate":new _t(ke.paint_fill["fill-translate"]),"fill-translate-anchor":new _t(ke.paint_fill["fill-translate-anchor"]),"fill-pattern":new sl(ke.paint_fill["fill-pattern"])})},get layout(){return Sg=Sg||new Wn({"fill-sort-key":new Mt(ke.layout_fill["fill-sort-key"])})}};class Zb extends Di{constructor(n){super(n,Hb)}recalculate(n,s){super.recalculate(n,s);const d=this.paint._values["fill-outline-color"];d.value.kind==="constant"&&d.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(n){return new of(n)}queryRadius(){return Rh(this.paint.get("fill-translate"))}queryIntersectsFeature(n,s,d,f,v,x,b){return og(zh(n,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),x.angle,b),f)}isTileClipped(){return!0}}const Gb=Tn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),qb=Tn([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Kb}=Gb;var ps={},Xb=P,Mg=S1;function S1(o,n,s,d,f){this.properties={},this.extent=s,this.type=0,this._pbf=o,this._geometry=-1,this._keys=d,this._values=f,o.readFields(Jb,this,n)}function Jb(o,n,s){o==1?n.id=s.readVarint():o==2?function(d,f){for(var v=d.readVarint()+d.pos;d.pos<v;){var x=f._keys[d.readVarint()],b=f._values[d.readVarint()];f.properties[x]=b}}(s,n):o==3?n.type=s.readVarint():o==4&&(n._geometry=s.pos)}function Yb(o){for(var n,s,d=0,f=0,v=o.length,x=v-1;f<v;x=f++)d+=((s=o[x]).x-(n=o[f]).x)*(n.y+s.y);return d}S1.types=["Unknown","Point","LineString","Polygon"],S1.prototype.loadGeometry=function(){var o=this._pbf;o.pos=this._geometry;for(var n,s=o.readVarint()+o.pos,d=1,f=0,v=0,x=0,b=[];o.pos<s;){if(f<=0){var E=o.readVarint();d=7&E,f=E>>3}if(f--,d===1||d===2)v+=o.readSVarint(),x+=o.readSVarint(),d===1&&(n&&b.push(n),n=[]),n.push(new Xb(v,x));else{if(d!==7)throw new Error("unknown command "+d);n&&n.push(n[0].clone())}}return n&&b.push(n),b},S1.prototype.bbox=function(){var o=this._pbf;o.pos=this._geometry;for(var n=o.readVarint()+o.pos,s=1,d=0,f=0,v=0,x=1/0,b=-1/0,E=1/0,A=-1/0;o.pos<n;){if(d<=0){var I=o.readVarint();s=7&I,d=I>>3}if(d--,s===1||s===2)(f+=o.readSVarint())<x&&(x=f),f>b&&(b=f),(v+=o.readSVarint())<E&&(E=v),v>A&&(A=v);else if(s!==7)throw new Error("unknown command "+s)}return[x,E,b,A]},S1.prototype.toGeoJSON=function(o,n,s){var d,f,v=this.extent*Math.pow(2,s),x=this.extent*o,b=this.extent*n,E=this.loadGeometry(),A=S1.types[this.type];function I(U){for(var Z=0;Z<U.length;Z++){var Q=U[Z];U[Z]=[360*(Q.x+x)/v-180,360/Math.PI*Math.atan(Math.exp((180-360*(Q.y+b)/v)*Math.PI/180))-90]}}switch(this.type){case 1:var z=[];for(d=0;d<E.length;d++)z[d]=E[d][0];I(E=z);break;case 2:for(d=0;d<E.length;d++)I(E[d]);break;case 3:for(E=function(U){var Z=U.length;if(Z<=1)return[U];for(var Q,se,ce=[],_e=0;_e<Z;_e++){var fe=Yb(U[_e]);fe!==0&&(se===void 0&&(se=fe<0),se===fe<0?(Q&&ce.push(Q),Q=[U[_e]]):Q.push(U[_e]))}return Q&&ce.push(Q),ce}(E),d=0;d<E.length;d++)for(f=0;f<E[d].length;f++)I(E[d][f])}E.length===1?E=E[0]:A="Multi"+A;var $={type:"Feature",geometry:{type:A,coordinates:E},properties:this.properties};return"id"in this&&($.id=this.id),$};var Qb=Mg,Eg=kg;function kg(o,n){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=o,this._keys=[],this._values=[],this._features=[],o.readFields(ew,this,n),this.length=this._features.length}function ew(o,n,s){o===15?n.version=s.readVarint():o===1?n.name=s.readString():o===5?n.extent=s.readVarint():o===2?n._features.push(s.pos):o===3?n._keys.push(s.readString()):o===4&&n._values.push(function(d){for(var f=null,v=d.readVarint()+d.pos;d.pos<v;){var x=d.readVarint()>>3;f=x===1?d.readString():x===2?d.readFloat():x===3?d.readDouble():x===4?d.readVarint64():x===5?d.readVarint():x===6?d.readSVarint():x===7?d.readBoolean():null}return f}(s))}kg.prototype.feature=function(o){if(o<0||o>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[o];var n=this._pbf.readVarint()+this._pbf.pos;return new Qb(this._pbf,n,this.extent,this._keys,this._values)};var tw=Eg;function nw(o,n,s){if(o===3){var d=new tw(s,s.readVarint()+s.pos);d.length&&(n[d.name]=d)}}ps.VectorTile=function(o,n){this.layers=o.readFields(nw,{},n)},ps.VectorTileFeature=Mg,ps.VectorTileLayer=Eg;const rw=ps.VectorTileFeature.types,af=Math.pow(2,13);function bc(o,n,s,d,f,v,x,b){o.emplaceBack(n,s,2*Math.floor(d*af)+x,f*af*2,v*af*2,Math.round(b))}class sf{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(s=>s.id),this.index=n.index,this.hasPattern=!1,this.layoutVertexArray=new rt,this.centroidVertexArray=new Ke,this.indexArray=new _r,this.programConfigurations=new No(n.layers,n.zoom),this.segments=new _n,this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id)}populate(n,s,d){this.features=[],this.hasPattern=nf("fill-extrusion",this.layers,s);for(const{feature:f,id:v,index:x,sourceLayerIndex:b}of n){const E=this.layers[0]._featureFilter.needGeometry,A=dl(f,E);if(!this.layers[0]._featureFilter.filter(new vn(this.zoom),A,d))continue;const I={id:v,sourceLayerIndex:b,index:x,geometry:E?A.geometry:cl(f),properties:f.properties,type:f.type,patterns:{}};this.hasPattern?this.features.push(rf("fill-extrusion",this.layers,I,this.zoom,s)):this.addFeature(I,I.geometry,x,d,{}),s.featureIndex.insert(f,I.geometry,x,b,this.index,!0)}}addFeatures(n,s,d){for(const f of this.features){const{geometry:v}=f;this.addFeature(f,v,f.index,s,d)}}update(n,s,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,s,this.stateDependentLayers,d)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Kb),this.centroidVertexBuffer=n.createVertexBuffer(this.centroidVertexArray,qb.members,!0),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(n,s,d,f,v){const x={x:0,y:0,vertexCount:0};for(const b of tf(s,500)){let E=0;for(const Z of b)E+=Z.length;let A=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const Z of b){if(Z.length===0||ow(Z))continue;let Q=0;for(let se=0;se<Z.length;se++){const ce=Z[se];if(se>=1){const _e=Z[se-1];if(!iw(ce,_e)){A.vertexLength+4>_n.MAX_VERTEX_ARRAY_LENGTH&&(A=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const fe=ce.sub(_e)._perp()._unit(),be=_e.dist(ce);Q+be>32768&&(Q=0),bc(this.layoutVertexArray,ce.x,ce.y,fe.x,fe.y,0,0,Q),bc(this.layoutVertexArray,ce.x,ce.y,fe.x,fe.y,0,1,Q),x.x+=2*ce.x,x.y+=2*ce.y,x.vertexCount+=2,Q+=be,bc(this.layoutVertexArray,_e.x,_e.y,fe.x,fe.y,0,0,Q),bc(this.layoutVertexArray,_e.x,_e.y,fe.x,fe.y,0,1,Q),x.x+=2*_e.x,x.y+=2*_e.y,x.vertexCount+=2;const Ee=A.vertexLength;this.indexArray.emplaceBack(Ee,Ee+2,Ee+1),this.indexArray.emplaceBack(Ee+1,Ee+2,Ee+3),A.vertexLength+=4,A.primitiveLength+=2}}}}if(A.vertexLength+E>_n.MAX_VERTEX_ARRAY_LENGTH&&(A=this.segments.prepareSegment(E,this.layoutVertexArray,this.indexArray)),rw[n.type]!=="Polygon")continue;const I=[],z=[],$=A.vertexLength;for(const Z of b)if(Z.length!==0){Z!==b[0]&&z.push(I.length/2);for(let Q=0;Q<Z.length;Q++){const se=Z[Q];bc(this.layoutVertexArray,se.x,se.y,0,0,1,1,0),x.x+=se.x,x.y+=se.y,x.vertexCount+=1,I.push(se.x),I.push(se.y)}}const U=bg(I,z);for(let Z=0;Z<U.length;Z+=3)this.indexArray.emplaceBack($+U[Z],$+U[Z+2],$+U[Z+1]);A.primitiveLength+=U.length/3,A.vertexLength+=E}for(let b=0;b<x.vertexCount;b++)this.centroidVertexArray.emplaceBack(Math.floor(x.x/x.vertexCount),Math.floor(x.y/x.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,v,f)}}function iw(o,n){return o.x===n.x&&(o.x<0||o.x>Jn)||o.y===n.y&&(o.y<0||o.y>Jn)}function ow(o){return o.every(n=>n.x<0)||o.every(n=>n.x>Jn)||o.every(n=>n.y<0)||o.every(n=>n.y>Jn)}let Ag;ct("FillExtrusionBucket",sf,{omit:["layers","features"]});var aw={get paint(){return Ag=Ag||new Wn({"fill-extrusion-opacity":new _t(ke["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Mt(ke["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new _t(ke["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new _t(ke["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new sl(ke["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Mt(ke["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Mt(ke["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new _t(ke["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class sw extends Di{constructor(n){super(n,aw)}createBucket(n){return new sf(n)}queryRadius(){return Rh(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(n,s,d,f,v,x,b,E){const A=zh(n,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),x.angle,b),I=this.paint.get("fill-extrusion-height").evaluate(s,d),z=this.paint.get("fill-extrusion-base").evaluate(s,d),$=function(Z,Q,se,ce){const _e=[];for(const fe of Z){const be=[fe.x,fe.y,0,1];Fh(be,be,Q),_e.push(new R(be[0]/be[3],be[1]/be[3]))}return _e}(A,E),U=function(Z,Q,se,ce){const _e=[],fe=[],be=ce[8]*Q,Ee=ce[9]*Q,Oe=ce[10]*Q,lt=ce[11]*Q,gt=ce[8]*se,ot=ce[9]*se,it=ce[10]*se,et=ce[11]*se;for(const ht of Z){const nt=[],Ge=[];for(const wt of ht){const vt=wt.x,Ft=wt.y,xn=ce[0]*vt+ce[4]*Ft+ce[12],En=ce[1]*vt+ce[5]*Ft+ce[13],sr=ce[2]*vt+ce[6]*Ft+ce[14],zi=ce[3]*vt+ce[7]*Ft+ce[15],Yr=sr+Oe,Yn=zi+lt,br=xn+gt,Ir=En+ot,Qr=sr+it,ei=zi+et,lr=new R((xn+be)/Yn,(En+Ee)/Yn);lr.z=Yr/Yn,nt.push(lr);const ur=new R(br/ei,Ir/ei);ur.z=Qr/ei,Ge.push(ur)}_e.push(nt),fe.push(Ge)}return[_e,fe]}(f,z,I,E);return function(Z,Q,se){let ce=1/0;og(se,Q)&&(ce=Pg(se,Q[0]));for(let _e=0;_e<Q.length;_e++){const fe=Q[_e],be=Z[_e];for(let Ee=0;Ee<fe.length-1;Ee++){const Oe=fe[Ee],lt=[Oe,fe[Ee+1],be[Ee+1],be[Ee],Oe];ig(se,lt)&&(ce=Math.min(ce,Pg(se,lt)))}}return ce!==1/0&&ce}(U[0],U[1],$)}}function wc(o,n){return o.x*n.x+o.y*n.y}function Pg(o,n){if(o.length===1){let s=0;const d=n[s++];let f;for(;!f||d.equals(f);)if(f=n[s++],!f)return 1/0;for(;s<n.length;s++){const v=n[s],x=o[0],b=f.sub(d),E=v.sub(d),A=x.sub(d),I=wc(b,b),z=wc(b,E),$=wc(E,E),U=wc(A,b),Z=wc(A,E),Q=I*$-z*z,se=($*U-z*Z)/Q,ce=(I*Z-z*U)/Q,_e=d.z*(1-se-ce)+f.z*se+v.z*ce;if(isFinite(_e))return _e}return 1/0}{let s=1/0;for(const d of n)s=Math.min(s,d.z);return s}}const lw=Tn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:uw}=lw,cw=Tn([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:dw}=cw,hw=ps.VectorTileFeature.types,pw=Math.cos(Math.PI/180*37.5),Tg=Math.pow(2,14)/.5;class lf{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(s=>s.id),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(s=>{this.gradients[s.id]={}}),this.layoutVertexArray=new Et,this.layoutVertexArray2=new yt,this.indexArray=new _r,this.programConfigurations=new No(n.layers,n.zoom),this.segments=new _n,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id)}populate(n,s,d){this.hasPattern=nf("line",this.layers,s);const f=this.layers[0].layout.get("line-sort-key"),v=!f.isConstant(),x=[];for(const{feature:b,id:E,index:A,sourceLayerIndex:I}of n){const z=this.layers[0]._featureFilter.needGeometry,$=dl(b,z);if(!this.layers[0]._featureFilter.filter(new vn(this.zoom),$,d))continue;const U=v?f.evaluate($,{},d):void 0,Z={id:E,properties:b.properties,type:b.type,sourceLayerIndex:I,index:A,geometry:z?$.geometry:cl(b),patterns:{},sortKey:U};x.push(Z)}v&&x.sort((b,E)=>b.sortKey-E.sortKey);for(const b of x){const{geometry:E,index:A,sourceLayerIndex:I}=b;if(this.hasPattern){const z=rf("line",this.layers,b,this.zoom,s);this.patternFeatures.push(z)}else this.addFeature(b,E,A,d,{});s.featureIndex.insert(n[A].feature,E,A,I,this.index)}}update(n,s,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,s,this.stateDependentLayers,d)}addFeatures(n,s,d){for(const f of this.patternFeatures)this.addFeature(f,f.geometry,f.index,s,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=n.createVertexBuffer(this.layoutVertexArray2,dw)),this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,uw),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(n){if(n.properties&&Object.prototype.hasOwnProperty.call(n.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(n.properties,"mapbox_clip_end"))return{start:+n.properties.mapbox_clip_start,end:+n.properties.mapbox_clip_end}}addFeature(n,s,d,f,v){const x=this.layers[0].layout,b=x.get("line-join").evaluate(n,{}),E=x.get("line-cap"),A=x.get("line-miter-limit"),I=x.get("line-round-limit");this.lineClips=this.lineFeatureClips(n);for(const z of s)this.addLine(z,n,b,E,A,I);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,v,f)}addLine(n,s,d,f,v,x){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ce=0;ce<n.length-1;ce++)this.totalDistance+=n[ce].dist(n[ce+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const b=hw[s.type]==="Polygon";let E=n.length;for(;E>=2&&n[E-1].equals(n[E-2]);)E--;let A=0;for(;A<E-1&&n[A].equals(n[A+1]);)A++;if(E<(b?3:2))return;d==="bevel"&&(v=1.05);const I=this.overscaling<=16?15*Jn/(512*this.overscaling):0,z=this.segments.prepareSegment(10*E,this.layoutVertexArray,this.indexArray);let $,U,Z,Q,se;this.e1=this.e2=-1,b&&($=n[E-2],se=n[A].sub($)._unit()._perp());for(let ce=A;ce<E;ce++){if(Z=ce===E-1?b?n[A+1]:void 0:n[ce+1],Z&&n[ce].equals(Z))continue;se&&(Q=se),$&&(U=$),$=n[ce],se=Z?Z.sub($)._unit()._perp():Q,Q=Q||se;let _e=Q.add(se);_e.x===0&&_e.y===0||_e._unit();const fe=Q.x*se.x+Q.y*se.y,be=_e.x*se.x+_e.y*se.y,Ee=be!==0?1/be:1/0,Oe=2*Math.sqrt(2-2*be),lt=be<pw&&U&&Z,gt=Q.x*se.y-Q.y*se.x>0;if(lt&&ce>A){const et=$.dist(U);if(et>2*I){const ht=$.sub($.sub(U)._mult(I/et)._round());this.updateDistance(U,ht),this.addCurrentVertex(ht,Q,0,0,z),U=ht}}const ot=U&&Z;let it=ot?d:b?"butt":f;if(ot&&it==="round"&&(Ee<x?it="miter":Ee<=2&&(it="fakeround")),it==="miter"&&Ee>v&&(it="bevel"),it==="bevel"&&(Ee>2&&(it="flipbevel"),Ee<v&&(it="miter")),U&&this.updateDistance(U,$),it==="miter")_e._mult(Ee),this.addCurrentVertex($,_e,0,0,z);else if(it==="flipbevel"){if(Ee>100)_e=se.mult(-1);else{const et=Ee*Q.add(se).mag()/Q.sub(se).mag();_e._perp()._mult(et*(gt?-1:1))}this.addCurrentVertex($,_e,0,0,z),this.addCurrentVertex($,_e.mult(-1),0,0,z)}else if(it==="bevel"||it==="fakeround"){const et=-Math.sqrt(Ee*Ee-1),ht=gt?et:0,nt=gt?0:et;if(U&&this.addCurrentVertex($,Q,ht,nt,z),it==="fakeround"){const Ge=Math.round(180*Oe/Math.PI/20);for(let wt=1;wt<Ge;wt++){let vt=wt/Ge;if(vt!==.5){const xn=vt-.5;vt+=vt*xn*(vt-1)*((1.0904+fe*(fe*(3.55645-1.43519*fe)-3.2452))*xn*xn+(.848013+fe*(.215638*fe-1.06021)))}const Ft=se.sub(Q)._mult(vt)._add(Q)._unit()._mult(gt?-1:1);this.addHalfVertex($,Ft.x,Ft.y,!1,gt,0,z)}}Z&&this.addCurrentVertex($,se,-ht,-nt,z)}else if(it==="butt")this.addCurrentVertex($,_e,0,0,z);else if(it==="square"){const et=U?1:-1;this.addCurrentVertex($,_e,et,et,z)}else it==="round"&&(U&&(this.addCurrentVertex($,Q,0,0,z),this.addCurrentVertex($,Q,1,1,z,!0)),Z&&(this.addCurrentVertex($,se,-1,-1,z,!0),this.addCurrentVertex($,se,0,0,z)));if(lt&&ce<E-1){const et=$.dist(Z);if(et>2*I){const ht=$.add(Z.sub($)._mult(I/et)._round());this.updateDistance($,ht),this.addCurrentVertex(ht,se,0,0,z),$=ht}}}}addCurrentVertex(n,s,d,f,v,x=!1){const b=s.y*f-s.x,E=-s.y-s.x*f;this.addHalfVertex(n,s.x+s.y*d,s.y-s.x*d,x,!1,d,v),this.addHalfVertex(n,b,E,x,!0,-f,v),this.distance>Tg/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(n,s,d,f,v,x))}addHalfVertex({x:n,y:s},d,f,v,x,b,E){const A=.5*(this.lineClips?this.scaledDistance*(Tg-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((n<<1)+(v?1:0),(s<<1)+(x?1:0),Math.round(63*d)+128,Math.round(63*f)+128,1+(b===0?0:b<0?-1:1)|(63&A)<<2,A>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const I=E.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,I),E.primitiveLength++),x?this.e2=I:this.e1=I}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(n,s){this.distance+=n.dist(s),this.updateScaledDistance()}}let Ig,Lg;ct("LineBucket",lf,{omit:["layers","patternFeatures"]});var Dg={get paint(){return Lg=Lg||new Wn({"line-opacity":new Mt(ke.paint_line["line-opacity"]),"line-color":new Mt(ke.paint_line["line-color"]),"line-translate":new _t(ke.paint_line["line-translate"]),"line-translate-anchor":new _t(ke.paint_line["line-translate-anchor"]),"line-width":new Mt(ke.paint_line["line-width"]),"line-gap-width":new Mt(ke.paint_line["line-gap-width"]),"line-offset":new Mt(ke.paint_line["line-offset"]),"line-blur":new Mt(ke.paint_line["line-blur"]),"line-dasharray":new oc(ke.paint_line["line-dasharray"]),"line-pattern":new sl(ke.paint_line["line-pattern"]),"line-gradient":new ac(ke.paint_line["line-gradient"])})},get layout(){return Ig=Ig||new Wn({"line-cap":new _t(ke.layout_line["line-cap"]),"line-join":new Mt(ke.layout_line["line-join"]),"line-miter-limit":new _t(ke.layout_line["line-miter-limit"]),"line-round-limit":new _t(ke.layout_line["line-round-limit"]),"line-sort-key":new Mt(ke.layout_line["line-sort-key"])})}};class fw extends Mt{possiblyEvaluate(n,s){return s=new vn(Math.floor(s.zoom),{now:s.now,fadeDuration:s.fadeDuration,zoomHistory:s.zoomHistory,transition:s.transition}),super.possiblyEvaluate(n,s)}evaluate(n,s,d,f){return s=Se({},s,{zoom:Math.floor(s.zoom)}),super.evaluate(n,s,d,f)}}let jh;class mw extends Di{constructor(n){super(n,Dg),this.gradientVersion=0,jh||(jh=new fw(Dg.paint.properties["line-width"].specification),jh.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(n){if(n==="line-gradient"){const s=this.gradientExpression();this.stepInterpolant=!!function(d){return d._styleExpression!==void 0}(s)&&s._styleExpression.expression instanceof aa,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(n,s){super.recalculate(n,s),this.paint._values["line-floorwidth"]=jh.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,n)}createBucket(n){return new lf(n)}queryRadius(n){const s=n,d=Rg(fc("line-width",this,s),fc("line-gap-width",this,s)),f=fc("line-offset",this,s);return d/2+Math.abs(f)+Rh(this.paint.get("line-translate"))}queryIntersectsFeature(n,s,d,f,v,x,b){const E=zh(n,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),x.angle,b),A=b/2*Rg(this.paint.get("line-width").evaluate(s,d),this.paint.get("line-gap-width").evaluate(s,d)),I=this.paint.get("line-offset").evaluate(s,d);return I&&(f=function(z,$){const U=[];for(let Z=0;Z<z.length;Z++){const Q=z[Z],se=[];for(let ce=0;ce<Q.length;ce++){const _e=Q[ce-1],fe=Q[ce],be=Q[ce+1],Ee=ce===0?new R(0,0):fe.sub(_e)._unit()._perp(),Oe=ce===Q.length-1?new R(0,0):be.sub(fe)._unit()._perp(),lt=Ee._add(Oe)._unit(),gt=lt.x*Oe.x+lt.y*Oe.y;gt!==0&&lt._mult(1/gt),se.push(lt._mult($)._add(fe))}U.push(se)}return U}(f,I*b)),function(z,$,U){for(let Z=0;Z<$.length;Z++){const Q=$[Z];if(z.length>=3){for(let se=0;se<Q.length;se++)if(x1(z,Q[se]))return!0}if(bb(z,Q,U))return!0}return!1}(E,f,A)}isTileClipped(){return!0}}function Rg(o,n){return n>0?n+2*o:o}const gw=Tn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),yw=Tn([{name:"a_projected_pos",components:3,type:"Float32"}],4);Tn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const vw=Tn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Tn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const zg=Tn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),_w=Tn([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function xw(o,n,s){return o.sections.forEach(d=>{d.text=function(f,v,x){const b=v.layout.get("text-transform").evaluate(x,{});return b==="uppercase"?f=f.toLocaleUpperCase():b==="lowercase"&&(f=f.toLocaleLowerCase()),hi.applyArabicShaping&&(f=hi.applyArabicShaping(f)),f}(d.text,n,s)}),o}Tn([{name:"triangle",components:3,type:"Uint16"}]),Tn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Tn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Tn([{type:"Float32",name:"offsetX"}]),Tn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Tn([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Sc={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var ar=24,Fg=hn,Ng=function(o,n,s,d,f){var v,x,b=8*f-d-1,E=(1<<b)-1,A=E>>1,I=-7,z=s?f-1:0,$=s?-1:1,U=o[n+z];for(z+=$,v=U&(1<<-I)-1,U>>=-I,I+=b;I>0;v=256*v+o[n+z],z+=$,I-=8);for(x=v&(1<<-I)-1,v>>=-I,I+=d;I>0;x=256*x+o[n+z],z+=$,I-=8);if(v===0)v=1-A;else{if(v===E)return x?NaN:1/0*(U?-1:1);x+=Math.pow(2,d),v-=A}return(U?-1:1)*x*Math.pow(2,v-d)},Og=function(o,n,s,d,f,v){var x,b,E,A=8*v-f-1,I=(1<<A)-1,z=I>>1,$=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,U=d?0:v-1,Z=d?1:-1,Q=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(b=isNaN(n)?1:0,x=I):(x=Math.floor(Math.log(n)/Math.LN2),n*(E=Math.pow(2,-x))<1&&(x--,E*=2),(n+=x+z>=1?$/E:$*Math.pow(2,1-z))*E>=2&&(x++,E/=2),x+z>=I?(b=0,x=I):x+z>=1?(b=(n*E-1)*Math.pow(2,f),x+=z):(b=n*Math.pow(2,z-1)*Math.pow(2,f),x=0));f>=8;o[s+U]=255&b,U+=Z,b/=256,f-=8);for(x=x<<f|b,A+=f;A>0;o[s+U]=255&x,U+=Z,x/=256,A-=8);o[s+U-Z]|=128*Q};function hn(o){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(o)?o:new Uint8Array(o||0),this.pos=0,this.type=0,this.length=this.buf.length}hn.Varint=0,hn.Fixed64=1,hn.Bytes=2,hn.Fixed32=5;var uf=4294967296,Bg=1/uf,$g=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Ia(o){return o.type===hn.Bytes?o.readVarint()+o.pos:o.pos+1}function C1(o,n,s){return s?4294967296*n+(o>>>0):4294967296*(n>>>0)+(o>>>0)}function jg(o,n,s){var d=n<=16383?1:n<=2097151?2:n<=268435455?3:Math.floor(Math.log(n)/(7*Math.LN2));s.realloc(d);for(var f=s.pos-1;f>=o;f--)s.buf[f+d]=s.buf[f]}function bw(o,n){for(var s=0;s<o.length;s++)n.writeVarint(o[s])}function ww(o,n){for(var s=0;s<o.length;s++)n.writeSVarint(o[s])}function Sw(o,n){for(var s=0;s<o.length;s++)n.writeFloat(o[s])}function Cw(o,n){for(var s=0;s<o.length;s++)n.writeDouble(o[s])}function Mw(o,n){for(var s=0;s<o.length;s++)n.writeBoolean(o[s])}function Ew(o,n){for(var s=0;s<o.length;s++)n.writeFixed32(o[s])}function kw(o,n){for(var s=0;s<o.length;s++)n.writeSFixed32(o[s])}function Aw(o,n){for(var s=0;s<o.length;s++)n.writeFixed64(o[s])}function Pw(o,n){for(var s=0;s<o.length;s++)n.writeSFixed64(o[s])}function Vh(o,n){return(o[n]|o[n+1]<<8|o[n+2]<<16)+16777216*o[n+3]}function M1(o,n,s){o[s]=n,o[s+1]=n>>>8,o[s+2]=n>>>16,o[s+3]=n>>>24}function Vg(o,n){return(o[n]|o[n+1]<<8|o[n+2]<<16)+(o[n+3]<<24)}hn.prototype={destroy:function(){this.buf=null},readFields:function(o,n,s){for(s=s||this.length;this.pos<s;){var d=this.readVarint(),f=d>>3,v=this.pos;this.type=7&d,o(f,n,this),this.pos===v&&this.skip(d)}return n},readMessage:function(o,n){return this.readFields(o,n,this.readVarint()+this.pos)},readFixed32:function(){var o=Vh(this.buf,this.pos);return this.pos+=4,o},readSFixed32:function(){var o=Vg(this.buf,this.pos);return this.pos+=4,o},readFixed64:function(){var o=Vh(this.buf,this.pos)+Vh(this.buf,this.pos+4)*uf;return this.pos+=8,o},readSFixed64:function(){var o=Vh(this.buf,this.pos)+Vg(this.buf,this.pos+4)*uf;return this.pos+=8,o},readFloat:function(){var o=Ng(this.buf,this.pos,!0,23,4);return this.pos+=4,o},readDouble:function(){var o=Ng(this.buf,this.pos,!0,52,8);return this.pos+=8,o},readVarint:function(o){var n,s,d=this.buf;return n=127&(s=d[this.pos++]),s<128?n:(n|=(127&(s=d[this.pos++]))<<7,s<128?n:(n|=(127&(s=d[this.pos++]))<<14,s<128?n:(n|=(127&(s=d[this.pos++]))<<21,s<128?n:function(f,v,x){var b,E,A=x.buf;if(b=(112&(E=A[x.pos++]))>>4,E<128||(b|=(127&(E=A[x.pos++]))<<3,E<128)||(b|=(127&(E=A[x.pos++]))<<10,E<128)||(b|=(127&(E=A[x.pos++]))<<17,E<128)||(b|=(127&(E=A[x.pos++]))<<24,E<128)||(b|=(1&(E=A[x.pos++]))<<31,E<128))return C1(f,b,v);throw new Error("Expected varint not more than 10 bytes")}(n|=(15&(s=d[this.pos]))<<28,o,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var o=this.readVarint();return o%2==1?(o+1)/-2:o/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var o=this.readVarint()+this.pos,n=this.pos;return this.pos=o,o-n>=12&&$g?function(s,d,f){return $g.decode(s.subarray(d,f))}(this.buf,n,o):function(s,d,f){for(var v="",x=d;x<f;){var b,E,A,I=s[x],z=null,$=I>239?4:I>223?3:I>191?2:1;if(x+$>f)break;$===1?I<128&&(z=I):$===2?(192&(b=s[x+1]))==128&&(z=(31&I)<<6|63&b)<=127&&(z=null):$===3?(E=s[x+2],(192&(b=s[x+1]))==128&&(192&E)==128&&((z=(15&I)<<12|(63&b)<<6|63&E)<=2047||z>=55296&&z<=57343)&&(z=null)):$===4&&(E=s[x+2],A=s[x+3],(192&(b=s[x+1]))==128&&(192&E)==128&&(192&A)==128&&((z=(15&I)<<18|(63&b)<<12|(63&E)<<6|63&A)<=65535||z>=1114112)&&(z=null)),z===null?(z=65533,$=1):z>65535&&(z-=65536,v+=String.fromCharCode(z>>>10&1023|55296),z=56320|1023&z),v+=String.fromCharCode(z),x+=$}return v}(this.buf,n,o)},readBytes:function(){var o=this.readVarint()+this.pos,n=this.buf.subarray(this.pos,o);return this.pos=o,n},readPackedVarint:function(o,n){if(this.type!==hn.Bytes)return o.push(this.readVarint(n));var s=Ia(this);for(o=o||[];this.pos<s;)o.push(this.readVarint(n));return o},readPackedSVarint:function(o){if(this.type!==hn.Bytes)return o.push(this.readSVarint());var n=Ia(this);for(o=o||[];this.pos<n;)o.push(this.readSVarint());return o},readPackedBoolean:function(o){if(this.type!==hn.Bytes)return o.push(this.readBoolean());var n=Ia(this);for(o=o||[];this.pos<n;)o.push(this.readBoolean());return o},readPackedFloat:function(o){if(this.type!==hn.Bytes)return o.push(this.readFloat());var n=Ia(this);for(o=o||[];this.pos<n;)o.push(this.readFloat());return o},readPackedDouble:function(o){if(this.type!==hn.Bytes)return o.push(this.readDouble());var n=Ia(this);for(o=o||[];this.pos<n;)o.push(this.readDouble());return o},readPackedFixed32:function(o){if(this.type!==hn.Bytes)return o.push(this.readFixed32());var n=Ia(this);for(o=o||[];this.pos<n;)o.push(this.readFixed32());return o},readPackedSFixed32:function(o){if(this.type!==hn.Bytes)return o.push(this.readSFixed32());var n=Ia(this);for(o=o||[];this.pos<n;)o.push(this.readSFixed32());return o},readPackedFixed64:function(o){if(this.type!==hn.Bytes)return o.push(this.readFixed64());var n=Ia(this);for(o=o||[];this.pos<n;)o.push(this.readFixed64());return o},readPackedSFixed64:function(o){if(this.type!==hn.Bytes)return o.push(this.readSFixed64());var n=Ia(this);for(o=o||[];this.pos<n;)o.push(this.readSFixed64());return o},skip:function(o){var n=7&o;if(n===hn.Varint)for(;this.buf[this.pos++]>127;);else if(n===hn.Bytes)this.pos=this.readVarint()+this.pos;else if(n===hn.Fixed32)this.pos+=4;else{if(n!==hn.Fixed64)throw new Error("Unimplemented type: "+n);this.pos+=8}},writeTag:function(o,n){this.writeVarint(o<<3|n)},realloc:function(o){for(var n=this.length||16;n<this.pos+o;)n*=2;if(n!==this.length){var s=new Uint8Array(n);s.set(this.buf),this.buf=s,this.length=n}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(o){this.realloc(4),M1(this.buf,o,this.pos),this.pos+=4},writeSFixed32:function(o){this.realloc(4),M1(this.buf,o,this.pos),this.pos+=4},writeFixed64:function(o){this.realloc(8),M1(this.buf,-1&o,this.pos),M1(this.buf,Math.floor(o*Bg),this.pos+4),this.pos+=8},writeSFixed64:function(o){this.realloc(8),M1(this.buf,-1&o,this.pos),M1(this.buf,Math.floor(o*Bg),this.pos+4),this.pos+=8},writeVarint:function(o){(o=+o||0)>268435455||o<0?function(n,s){var d,f;if(n>=0?(d=n%4294967296|0,f=n/4294967296|0):(f=~(-n/4294967296),4294967295^(d=~(-n%4294967296))?d=d+1|0:(d=0,f=f+1|0)),n>=18446744073709552e3||n<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");s.realloc(10),function(v,x,b){b.buf[b.pos++]=127&v|128,v>>>=7,b.buf[b.pos++]=127&v|128,v>>>=7,b.buf[b.pos++]=127&v|128,v>>>=7,b.buf[b.pos++]=127&v|128,b.buf[b.pos]=127&(v>>>=7)}(d,0,s),function(v,x){var b=(7&v)<<4;x.buf[x.pos++]|=b|((v>>>=3)?128:0),v&&(x.buf[x.pos++]=127&v|((v>>>=7)?128:0),v&&(x.buf[x.pos++]=127&v|((v>>>=7)?128:0),v&&(x.buf[x.pos++]=127&v|((v>>>=7)?128:0),v&&(x.buf[x.pos++]=127&v|((v>>>=7)?128:0),v&&(x.buf[x.pos++]=127&v)))))}(f,s)}(o,this):(this.realloc(4),this.buf[this.pos++]=127&o|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=o>>>7&127))))},writeSVarint:function(o){this.writeVarint(o<0?2*-o-1:2*o)},writeBoolean:function(o){this.writeVarint(!!o)},writeString:function(o){o=String(o),this.realloc(4*o.length),this.pos++;var n=this.pos;this.pos=function(d,f,v){for(var x,b,E=0;E<f.length;E++){if((x=f.charCodeAt(E))>55295&&x<57344){if(!b){x>56319||E+1===f.length?(d[v++]=239,d[v++]=191,d[v++]=189):b=x;continue}if(x<56320){d[v++]=239,d[v++]=191,d[v++]=189,b=x;continue}x=b-55296<<10|x-56320|65536,b=null}else b&&(d[v++]=239,d[v++]=191,d[v++]=189,b=null);x<128?d[v++]=x:(x<2048?d[v++]=x>>6|192:(x<65536?d[v++]=x>>12|224:(d[v++]=x>>18|240,d[v++]=x>>12&63|128),d[v++]=x>>6&63|128),d[v++]=63&x|128)}return v}(this.buf,o,this.pos);var s=this.pos-n;s>=128&&jg(n,s,this),this.pos=n-1,this.writeVarint(s),this.pos+=s},writeFloat:function(o){this.realloc(4),Og(this.buf,o,this.pos,!0,23,4),this.pos+=4},writeDouble:function(o){this.realloc(8),Og(this.buf,o,this.pos,!0,52,8),this.pos+=8},writeBytes:function(o){var n=o.length;this.writeVarint(n),this.realloc(n);for(var s=0;s<n;s++)this.buf[this.pos++]=o[s]},writeRawMessage:function(o,n){this.pos++;var s=this.pos;o(n,this);var d=this.pos-s;d>=128&&jg(s,d,this),this.pos=s-1,this.writeVarint(d),this.pos+=d},writeMessage:function(o,n,s){this.writeTag(o,hn.Bytes),this.writeRawMessage(n,s)},writePackedVarint:function(o,n){n.length&&this.writeMessage(o,bw,n)},writePackedSVarint:function(o,n){n.length&&this.writeMessage(o,ww,n)},writePackedBoolean:function(o,n){n.length&&this.writeMessage(o,Mw,n)},writePackedFloat:function(o,n){n.length&&this.writeMessage(o,Sw,n)},writePackedDouble:function(o,n){n.length&&this.writeMessage(o,Cw,n)},writePackedFixed32:function(o,n){n.length&&this.writeMessage(o,Ew,n)},writePackedSFixed32:function(o,n){n.length&&this.writeMessage(o,kw,n)},writePackedFixed64:function(o,n){n.length&&this.writeMessage(o,Aw,n)},writePackedSFixed64:function(o,n){n.length&&this.writeMessage(o,Pw,n)},writeBytesField:function(o,n){this.writeTag(o,hn.Bytes),this.writeBytes(n)},writeFixed32Field:function(o,n){this.writeTag(o,hn.Fixed32),this.writeFixed32(n)},writeSFixed32Field:function(o,n){this.writeTag(o,hn.Fixed32),this.writeSFixed32(n)},writeFixed64Field:function(o,n){this.writeTag(o,hn.Fixed64),this.writeFixed64(n)},writeSFixed64Field:function(o,n){this.writeTag(o,hn.Fixed64),this.writeSFixed64(n)},writeVarintField:function(o,n){this.writeTag(o,hn.Varint),this.writeVarint(n)},writeSVarintField:function(o,n){this.writeTag(o,hn.Varint),this.writeSVarint(n)},writeStringField:function(o,n){this.writeTag(o,hn.Bytes),this.writeString(n)},writeFloatField:function(o,n){this.writeTag(o,hn.Fixed32),this.writeFloat(n)},writeDoubleField:function(o,n){this.writeTag(o,hn.Fixed64),this.writeDouble(n)},writeBooleanField:function(o,n){this.writeVarintField(o,!!n)}};var cf=S(Fg);const df=3;function Tw(o,n,s){o===1&&s.readMessage(Iw,n)}function Iw(o,n,s){if(o===3){const{id:d,bitmap:f,width:v,height:x,left:b,top:E,advance:A}=s.readMessage(Lw,{});n.push({id:d,bitmap:new gc({width:v+2*df,height:x+2*df},f),metrics:{width:v,height:x,left:b,top:E,advance:A}})}}function Lw(o,n,s){o===1?n.id=s.readVarint():o===2?n.bitmap=s.readBytes():o===3?n.width=s.readVarint():o===4?n.height=s.readVarint():o===5?n.left=s.readSVarint():o===6?n.top=s.readSVarint():o===7&&(n.advance=s.readVarint())}const Wg=df;function Ug(o){let n=0,s=0;for(const x of o)n+=x.w*x.h,s=Math.max(s,x.w);o.sort((x,b)=>b.h-x.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),s),h:1/0}];let f=0,v=0;for(const x of o)for(let b=d.length-1;b>=0;b--){const E=d[b];if(!(x.w>E.w||x.h>E.h)){if(x.x=E.x,x.y=E.y,v=Math.max(v,x.y+x.h),f=Math.max(f,x.x+x.w),x.w===E.w&&x.h===E.h){const A=d.pop();b<d.length&&(d[b]=A)}else x.h===E.h?(E.x+=x.w,E.w-=x.w):x.w===E.w?(E.y+=x.h,E.h-=x.h):(d.push({x:E.x+x.w,y:E.y,w:E.w-x.w,h:x.h}),E.y+=x.h,E.h-=x.h);break}}return{w:f,h:v,fill:n/(f*v)||0}}const fi=1;class hf{constructor(n,{pixelRatio:s,version:d,stretchX:f,stretchY:v,content:x}){this.paddedRect=n,this.pixelRatio=s,this.stretchX=f,this.stretchY=v,this.content=x,this.version=d}get tl(){return[this.paddedRect.x+fi,this.paddedRect.y+fi]}get br(){return[this.paddedRect.x+this.paddedRect.w-fi,this.paddedRect.y+this.paddedRect.h-fi]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*fi)/this.pixelRatio,(this.paddedRect.h-2*fi)/this.pixelRatio]}}class Hg{constructor(n,s){const d={},f={};this.haveRenderCallbacks=[];const v=[];this.addImages(n,d,v),this.addImages(s,f,v);const{w:x,h:b}=Ug(v),E=new Wi({width:x||1,height:b||1});for(const A in n){const I=n[A],z=d[A].paddedRect;Wi.copy(I.data,E,{x:0,y:0},{x:z.x+fi,y:z.y+fi},I.data)}for(const A in s){const I=s[A],z=f[A].paddedRect,$=z.x+fi,U=z.y+fi,Z=I.data.width,Q=I.data.height;Wi.copy(I.data,E,{x:0,y:0},{x:$,y:U},I.data),Wi.copy(I.data,E,{x:0,y:Q-1},{x:$,y:U-1},{width:Z,height:1}),Wi.copy(I.data,E,{x:0,y:0},{x:$,y:U+Q},{width:Z,height:1}),Wi.copy(I.data,E,{x:Z-1,y:0},{x:$-1,y:U},{width:1,height:Q}),Wi.copy(I.data,E,{x:0,y:0},{x:$+Z,y:U},{width:1,height:Q})}this.image=E,this.iconPositions=d,this.patternPositions=f}addImages(n,s,d){for(const f in n){const v=n[f],x={x:0,y:0,w:v.data.width+2*fi,h:v.data.height+2*fi};d.push(x),s[f]=new hf(x,v),v.hasRenderCallback&&this.haveRenderCallbacks.push(f)}}patchUpdatedImages(n,s){n.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const d in n.updatedImages)this.patchUpdatedImage(this.iconPositions[d],n.getImage(d),s),this.patchUpdatedImage(this.patternPositions[d],n.getImage(d),s)}patchUpdatedImage(n,s,d){if(!n||!s||n.version===s.version)return;n.version=s.version;const[f,v]=n.tl;d.update(s.data,void 0,{x:f,y:v})}}var fs;ct("ImagePosition",hf),ct("ImageAtlas",Hg),u.ai=void 0,(fs=u.ai||(u.ai={}))[fs.none=0]="none",fs[fs.horizontal=1]="horizontal",fs[fs.vertical=2]="vertical",fs[fs.horizontalOnly=3]="horizontalOnly";const Cc=-17;class Mc{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(n,s){const d=new Mc;return d.scale=n||1,d.fontStack=s,d}static forImage(n){const s=new Mc;return s.imageName=n,s}}class E1{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(n,s){const d=new E1;for(let f=0;f<n.sections.length;f++){const v=n.sections[f];v.image?d.addImageSection(v):d.addTextSection(v,s)}return d}length(){return this.text.length}getSection(n){return this.sections[this.sectionIndex[n]]}getSectionIndex(n){return this.sectionIndex[n]}getCharCode(n){return this.text.charCodeAt(n)}verticalizePunctuation(){this.text=function(n){let s="";for(let d=0;d<n.length;d++){const f=n.charCodeAt(d+1)||null,v=n.charCodeAt(d-1)||null;s+=f&&Sh(f)&&!Sc[n[d+1]]||v&&Sh(v)&&!Sc[n[d-1]]||!Sc[n[d]]?n[d]:Sc[n[d]]}return s}(this.text)}trim(){let n=0;for(let d=0;d<this.text.length&&Uh[this.text.charCodeAt(d)];d++)n++;let s=this.text.length;for(let d=this.text.length-1;d>=0&&d>=n&&Uh[this.text.charCodeAt(d)];d--)s--;this.text=this.text.substring(n,s),this.sectionIndex=this.sectionIndex.slice(n,s)}substring(n,s){const d=new E1;return d.text=this.text.substring(n,s),d.sectionIndex=this.sectionIndex.slice(n,s),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((n,s)=>Math.max(n,this.sections[s].scale),0)}addTextSection(n,s){this.text+=n.text,this.sections.push(Mc.forText(n.scale,n.fontStack||s));const d=this.sections.length-1;for(let f=0;f<n.text.length;++f)this.sectionIndex.push(d)}addImageSection(n){const s=n.image?n.image.name:"";if(s.length===0)return void qe("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(Mc.forImage(s)),this.sectionIndex.push(this.sections.length-1)):qe("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Wh(o,n,s,d,f,v,x,b,E,A,I,z,$,U,Z,Q){const se=E1.fromFeature(o,f);let ce;z===u.ai.vertical&&se.verticalizePunctuation();const{processBidirectionalText:_e,processStyledBidirectionalText:fe}=hi;if(_e&&se.sections.length===1){ce=[];const Oe=_e(se.toString(),pf(se,A,v,n,d,U,Z));for(const lt of Oe){const gt=new E1;gt.text=lt,gt.sections=se.sections;for(let ot=0;ot<lt.length;ot++)gt.sectionIndex.push(0);ce.push(gt)}}else if(fe){ce=[];const Oe=fe(se.text,se.sectionIndex,pf(se,A,v,n,d,U,Z));for(const lt of Oe){const gt=new E1;gt.text=lt[0],gt.sectionIndex=lt[1],gt.sections=se.sections,ce.push(gt)}}else ce=function(Oe,lt){const gt=[],ot=Oe.text;let it=0;for(const et of lt)gt.push(Oe.substring(it,et)),it=et;return it<ot.length&&gt.push(Oe.substring(it,ot.length)),gt}(se,pf(se,A,v,n,d,U,Z));const be=[],Ee={positionedLines:be,text:se.toString(),top:I[1],bottom:I[1],left:I[0],right:I[0],writingMode:z,iconsInText:!1,verticalizable:!1};return function(Oe,lt,gt,ot,it,et,ht,nt,Ge,wt,vt,Ft){let xn=0,En=Cc,sr=0,zi=0;const Yr=nt==="right"?1:nt==="left"?0:.5;let Yn=0;for(const lr of it){lr.trim();const ur=lr.getMaxScale(),Br=(ur-1)*ar,ti={positionedGlyphs:[],lineOffset:0};Oe.positionedLines[Yn]=ti;const $r=ti.positionedGlyphs;let mi=0;if(!lr.length()){En+=et,++Yn;continue}for(let cr=0;cr<lr.length();cr++){const jt=lr.getSection(cr),jr=lr.getSectionIndex(cr),Lr=lr.getCharCode(cr);let dr=0,yo=null,Oo=null,Bo=null,La=ar;const vo=!(Ge===u.ai.horizontal||!vt&&!Ju(Lr)||vt&&(Uh[Lr]||(br=Lr,st.Arabic(br)||st["Arabic Supplement"](br)||st["Arabic Extended-A"](br)||st["Arabic Presentation Forms-A"](br)||st["Arabic Presentation Forms-B"](br))));if(jt.imageName){const Hi=ot[jt.imageName];if(!Hi)continue;Bo=jt.imageName,Oe.iconsInText=Oe.iconsInText||!0,Oo=Hi.paddedRect;const yi=Hi.displaySize;jt.scale=jt.scale*ar/Ft,yo={width:yi[0],height:yi[1],left:fi,top:-Wg,advance:vo?yi[1]:yi[0]},dr=Br+(ar-yi[1]*jt.scale),La=yo.advance;const Da=vo?yi[0]*jt.scale-ar*ur:yi[1]*jt.scale-ar*ur;Da>0&&Da>mi&&(mi=Da)}else{const Hi=gt[jt.fontStack],yi=Hi&&Hi[Lr];if(yi&&yi.rect)Oo=yi.rect,yo=yi.metrics;else{const Da=lt[jt.fontStack],Tc=Da&&Da[Lr];if(!Tc)continue;yo=Tc.metrics}dr=(ur-jt.scale)*ar}vo?(Oe.verticalizable=!0,$r.push({glyph:Lr,imageName:Bo,x:xn,y:En+dr,vertical:vo,scale:jt.scale,fontStack:jt.fontStack,sectionIndex:jr,metrics:yo,rect:Oo}),xn+=La*jt.scale+wt):($r.push({glyph:Lr,imageName:Bo,x:xn,y:En+dr,vertical:vo,scale:jt.scale,fontStack:jt.fontStack,sectionIndex:jr,metrics:yo,rect:Oo}),xn+=yo.advance*jt.scale+wt)}$r.length!==0&&(sr=Math.max(xn-wt,sr),zw($r,0,$r.length-1,Yr,mi)),xn=0;const gi=et*ur+mi;ti.lineOffset=Math.max(mi,Br),En+=gi,zi=Math.max(gi,zi),++Yn}var br;const Ir=En-Cc,{horizontalAlign:Qr,verticalAlign:ei}=ff(ht);(function(lr,ur,Br,ti,$r,mi,gi,cr,jt){const jr=(ur-Br)*$r;let Lr=0;Lr=mi!==gi?-cr*ti-Cc:(-ti*jt+.5)*gi;for(const dr of lr)for(const yo of dr.positionedGlyphs)yo.x+=jr,yo.y+=Lr})(Oe.positionedLines,Yr,Qr,ei,sr,zi,et,Ir,it.length),Oe.top+=-ei*Ir,Oe.bottom=Oe.top+Ir,Oe.left+=-Qr*sr,Oe.right=Oe.left+sr}(Ee,n,s,d,ce,x,b,E,z,A,$,Q),!function(Oe){for(const lt of Oe)if(lt.positionedGlyphs.length!==0)return!1;return!0}(be)&&Ee}const Uh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Dw={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Zg(o,n,s,d,f,v){if(n.imageName){const x=d[n.imageName];return x?x.displaySize[0]*n.scale*ar/v+f:0}{const x=s[n.fontStack],b=x&&x[o];return b?b.metrics.advance*n.scale+f:0}}function Gg(o,n,s,d){const f=Math.pow(o-n,2);return d?o<n?f/2:2*f:f+Math.abs(s)*s}function Rw(o,n,s){let d=0;return o===10&&(d-=1e4),s&&(d+=150),o!==40&&o!==65288||(d+=50),n!==41&&n!==65289||(d+=50),d}function qg(o,n,s,d,f,v){let x=null,b=Gg(n,s,f,v);for(const E of d){const A=Gg(n-E.x,s,f,v)+E.badness;A<=b&&(x=E,b=A)}return{index:o,x:n,priorBreak:x,badness:b}}function Kg(o){return o?Kg(o.priorBreak).concat(o.index):[]}function pf(o,n,s,d,f,v,x){if(v!=="point")return[];if(!o)return[];const b=[],E=function($,U,Z,Q,se,ce){let _e=0;for(let fe=0;fe<$.length();fe++){const be=$.getSection(fe);_e+=Zg($.getCharCode(fe),be,Q,se,U,ce)}return _e/Math.max(1,Math.ceil(_e/Z))}(o,n,s,d,f,x),A=o.text.indexOf("​")>=0;let I=0;for(let $=0;$<o.length();$++){const U=o.getSection($),Z=o.getCharCode($);if(Uh[Z]||(I+=Zg(Z,U,d,f,n,x)),$<o.length()-1){const Q=!((z=Z)<11904||!(st["Bopomofo Extended"](z)||st.Bopomofo(z)||st["CJK Compatibility Forms"](z)||st["CJK Compatibility Ideographs"](z)||st["CJK Compatibility"](z)||st["CJK Radicals Supplement"](z)||st["CJK Strokes"](z)||st["CJK Symbols and Punctuation"](z)||st["CJK Unified Ideographs Extension A"](z)||st["CJK Unified Ideographs"](z)||st["Enclosed CJK Letters and Months"](z)||st["Halfwidth and Fullwidth Forms"](z)||st.Hiragana(z)||st["Ideographic Description Characters"](z)||st["Kangxi Radicals"](z)||st["Katakana Phonetic Extensions"](z)||st.Katakana(z)||st["Vertical Forms"](z)||st["Yi Radicals"](z)||st["Yi Syllables"](z)));(Dw[Z]||Q||U.imageName)&&b.push(qg($+1,I,E,b,Rw(Z,o.getCharCode($+1),Q&&A),!1))}}var z;return Kg(qg(o.length(),I,E,b,0,!0))}function ff(o){let n=.5,s=.5;switch(o){case"right":case"top-right":case"bottom-right":n=1;break;case"left":case"top-left":case"bottom-left":n=0}switch(o){case"bottom":case"bottom-right":case"bottom-left":s=1;break;case"top":case"top-right":case"top-left":s=0}return{horizontalAlign:n,verticalAlign:s}}function zw(o,n,s,d,f){if(!d&&!f)return;const v=o[s],x=(o[s].x+v.metrics.advance*v.scale)*d;for(let b=n;b<=s;b++)o[b].x-=x,o[b].y+=f}function Fw(o,n,s){const{horizontalAlign:d,verticalAlign:f}=ff(s),v=n[0]-o.displaySize[0]*d,x=n[1]-o.displaySize[1]*f;return{image:o,top:x,bottom:x+o.displaySize[1],left:v,right:v+o.displaySize[0]}}function Xg(o,n,s,d,f,v){const x=o.image;let b;if(x.content){const se=x.content,ce=x.pixelRatio||1;b=[se[0]/ce,se[1]/ce,x.displaySize[0]-se[2]/ce,x.displaySize[1]-se[3]/ce]}const E=n.left*v,A=n.right*v;let I,z,$,U;s==="width"||s==="both"?(U=f[0]+E-d[3],z=f[0]+A+d[1]):(U=f[0]+(E+A-x.displaySize[0])/2,z=U+x.displaySize[0]);const Z=n.top*v,Q=n.bottom*v;return s==="height"||s==="both"?(I=f[1]+Z-d[0],$=f[1]+Q+d[2]):(I=f[1]+(Z+Q-x.displaySize[1])/2,$=I+x.displaySize[1]),{image:x,top:I,right:z,bottom:$,left:U,collisionPadding:b}}const Ec=255,da=128,ms=Ec*da;function Jg(o,n){const{expression:s}=n;if(s.kind==="constant")return{kind:"constant",layoutSize:s.evaluate(new vn(o+1))};if(s.kind==="source")return{kind:"source"};{const{zoomStops:d,interpolationType:f}=s;let v=0;for(;v<d.length&&d[v]<=o;)v++;v=Math.max(0,v-1);let x=v;for(;x<d.length&&d[x]<o+1;)x++;x=Math.min(d.length-1,x);const b=d[v],E=d[x];return s.kind==="composite"?{kind:"composite",minZoom:b,maxZoom:E,interpolationType:f}:{kind:"camera",minZoom:b,maxZoom:E,minSize:s.evaluate(new vn(b)),maxSize:s.evaluate(new vn(E)),interpolationType:f}}}function mf(o,n,s){let d="never";const f=o.get(n);return f?d=f:o.get(s)&&(d="always"),d}const Nw=ps.VectorTileFeature.types,Ow=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Hh(o,n,s,d,f,v,x,b,E,A,I,z,$){const U=b?Math.min(ms,Math.round(b[0])):0,Z=b?Math.min(ms,Math.round(b[1])):0;o.emplaceBack(n,s,Math.round(32*d),Math.round(32*f),v,x,(U<<1)+(E?1:0),Z,16*A,16*I,256*z,256*$)}function gf(o,n,s){o.emplaceBack(n.x,n.y,s),o.emplaceBack(n.x,n.y,s),o.emplaceBack(n.x,n.y,s),o.emplaceBack(n.x,n.y,s)}function Bw(o){for(const n of o.sections)if(j0(n.text))return!0;return!1}class yf{constructor(n){this.layoutVertexArray=new Nt,this.indexArray=new _r,this.programConfigurations=n,this.segments=new _n,this.dynamicLayoutVertexArray=new zt,this.opacityVertexArray=new $t,this.hasVisibleVertices=!1,this.placedSymbolArray=new ge}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(n,s,d,f){this.isEmpty()||(d&&(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,gw.members),this.indexBuffer=n.createIndexBuffer(this.indexArray,s),this.dynamicLayoutVertexBuffer=n.createVertexBuffer(this.dynamicLayoutVertexArray,yw.members,!0),this.opacityVertexBuffer=n.createVertexBuffer(this.opacityVertexArray,Ow,!0),this.opacityVertexBuffer.itemSize=1),(d||f)&&this.programConfigurations.upload(n))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}ct("SymbolBuffers",yf);class vf{constructor(n,s,d){this.layoutVertexArray=new n,this.layoutAttributes=s,this.indexArray=new d,this.segments=new _n,this.collisionVertexArray=new mn}upload(n){this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=n.createVertexBuffer(this.collisionVertexArray,vw.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}ct("CollisionBuffers",vf);class k1{constructor(n){this.collisionBoxArray=n.collisionBoxArray,this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(x=>x.id),this.index=n.index,this.pixelRatio=n.pixelRatio,this.sourceLayerIndex=n.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=q0([]),this.placementViewportMatrix=q0([]);const s=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Jg(this.zoom,s["text-size"]),this.iconSizeData=Jg(this.zoom,s["icon-size"]);const d=this.layers[0].layout,f=d.get("symbol-sort-key"),v=d.get("symbol-z-order");this.canOverlap=mf(d,"text-overlap","text-allow-overlap")!=="never"||mf(d,"icon-overlap","icon-allow-overlap")!=="never"||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=v!=="viewport-y"&&!f.isConstant(),this.sortFeaturesByY=(v==="viewport-y"||v==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,d.get("symbol-placement")==="point"&&(this.writingModes=d.get("text-writing-mode").map(x=>u.ai[x])),this.stateDependentLayerIds=this.layers.filter(x=>x.isStateDependent()).map(x=>x.id),this.sourceID=n.sourceID}createArrays(){this.text=new yf(new No(this.layers,this.zoom,n=>/^text/.test(n))),this.icon=new yf(new No(this.layers,this.zoom,n=>/^icon/.test(n))),this.glyphOffsetArray=new ve,this.lineVertexArray=new Ae,this.symbolInstances=new le,this.textAnchorOffsets=new Ne}calculateGlyphDependencies(n,s,d,f,v){for(let x=0;x<n.length;x++)if(s[n.charCodeAt(x)]=!0,(d||f)&&v){const b=Sc[n.charAt(x)];b&&(s[b.charCodeAt(0)]=!0)}}populate(n,s,d){const f=this.layers[0],v=f.layout,x=v.get("text-font"),b=v.get("text-field"),E=v.get("icon-image"),A=(b.value.kind!=="constant"||b.value.value instanceof Ar&&!b.value.value.isEmpty()||b.value.value.toString().length>0)&&(x.value.kind!=="constant"||x.value.value.length>0),I=E.value.kind!=="constant"||!!E.value.value||Object.keys(E.parameters).length>0,z=v.get("symbol-sort-key");if(this.features=[],!A&&!I)return;const $=s.iconDependencies,U=s.glyphDependencies,Z=s.availableImages,Q=new vn(this.zoom);for(const{feature:se,id:ce,index:_e,sourceLayerIndex:fe}of n){const be=f._featureFilter.needGeometry,Ee=dl(se,be);if(!f._featureFilter.filter(Q,Ee,d))continue;let Oe,lt;if(be||(Ee.geometry=cl(se)),A){const ot=f.getValueAndResolveTokens("text-field",Ee,d,Z),it=Ar.factory(ot);Bw(it)&&(this.hasRTLText=!0),(!this.hasRTLText||rc()==="unavailable"||this.hasRTLText&&hi.isParsed())&&(Oe=xw(it,f,Ee))}if(I){const ot=f.getValueAndResolveTokens("icon-image",Ee,d,Z);lt=ot instanceof vr?ot:vr.fromString(ot)}if(!Oe&&!lt)continue;const gt=this.sortFeaturesByKey?z.evaluate(Ee,{},d):void 0;if(this.features.push({id:ce,text:Oe,icon:lt,index:_e,sourceLayerIndex:fe,geometry:Ee.geometry,properties:se.properties,type:Nw[se.type],sortKey:gt}),lt&&($[lt.name]=!0),Oe){const ot=x.evaluate(Ee,{},d).join(","),it=v.get("text-rotation-alignment")!=="viewport"&&v.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(u.ai.vertical)>=0;for(const et of Oe.sections)if(et.image)$[et.image.name]=!0;else{const ht=Ku(Oe.toString()),nt=et.fontStack||ot,Ge=U[nt]=U[nt]||{};this.calculateGlyphDependencies(et.text,Ge,it,this.allowVerticalPlacement,ht)}}}v.get("symbol-placement")==="line"&&(this.features=function(se){const ce={},_e={},fe=[];let be=0;function Ee(ot){fe.push(se[ot]),be++}function Oe(ot,it,et){const ht=_e[ot];return delete _e[ot],_e[it]=ht,fe[ht].geometry[0].pop(),fe[ht].geometry[0]=fe[ht].geometry[0].concat(et[0]),ht}function lt(ot,it,et){const ht=ce[it];return delete ce[it],ce[ot]=ht,fe[ht].geometry[0].shift(),fe[ht].geometry[0]=et[0].concat(fe[ht].geometry[0]),ht}function gt(ot,it,et){const ht=et?it[0][it[0].length-1]:it[0][0];return`${ot}:${ht.x}:${ht.y}`}for(let ot=0;ot<se.length;ot++){const it=se[ot],et=it.geometry,ht=it.text?it.text.toString():null;if(!ht){Ee(ot);continue}const nt=gt(ht,et),Ge=gt(ht,et,!0);if(nt in _e&&Ge in ce&&_e[nt]!==ce[Ge]){const wt=lt(nt,Ge,et),vt=Oe(nt,Ge,fe[wt].geometry);delete ce[nt],delete _e[Ge],_e[gt(ht,fe[vt].geometry,!0)]=vt,fe[wt].geometry=null}else nt in _e?Oe(nt,Ge,et):Ge in ce?lt(nt,Ge,et):(Ee(ot),ce[nt]=be-1,_e[Ge]=be-1)}return fe.filter(ot=>ot.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((se,ce)=>se.sortKey-ce.sortKey)}update(n,s,d){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(n,s,this.layers,d),this.icon.programConfigurations.updatePaintArrays(n,s,this.layers,d))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(n){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(n),this.iconCollisionBox.upload(n)),this.text.upload(n,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(n,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(n,s){const d=this.lineVertexArray.length;if(n.segment!==void 0){let f=n.dist(s[n.segment+1]),v=n.dist(s[n.segment]);const x={};for(let b=n.segment+1;b<s.length;b++)x[b]={x:s[b].x,y:s[b].y,tileUnitDistanceFromAnchor:f},b<s.length-1&&(f+=s[b+1].dist(s[b]));for(let b=n.segment||0;b>=0;b--)x[b]={x:s[b].x,y:s[b].y,tileUnitDistanceFromAnchor:v},b>0&&(v+=s[b-1].dist(s[b]));for(let b=0;b<s.length;b++){const E=x[b];this.lineVertexArray.emplaceBack(E.x,E.y,E.tileUnitDistanceFromAnchor)}}return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(n,s,d,f,v,x,b,E,A,I,z,$){const U=n.indexArray,Z=n.layoutVertexArray,Q=n.segments.prepareSegment(4*s.length,Z,U,this.canOverlap?x.sortKey:void 0),se=this.glyphOffsetArray.length,ce=Q.vertexLength,_e=this.allowVerticalPlacement&&b===u.ai.vertical?Math.PI/2:0,fe=x.text&&x.text.sections;for(let be=0;be<s.length;be++){const{tl:Ee,tr:Oe,bl:lt,br:gt,tex:ot,pixelOffsetTL:it,pixelOffsetBR:et,minFontScaleX:ht,minFontScaleY:nt,glyphOffset:Ge,isSDF:wt,sectionIndex:vt}=s[be],Ft=Q.vertexLength,xn=Ge[1];Hh(Z,E.x,E.y,Ee.x,xn+Ee.y,ot.x,ot.y,d,wt,it.x,it.y,ht,nt),Hh(Z,E.x,E.y,Oe.x,xn+Oe.y,ot.x+ot.w,ot.y,d,wt,et.x,it.y,ht,nt),Hh(Z,E.x,E.y,lt.x,xn+lt.y,ot.x,ot.y+ot.h,d,wt,it.x,et.y,ht,nt),Hh(Z,E.x,E.y,gt.x,xn+gt.y,ot.x+ot.w,ot.y+ot.h,d,wt,et.x,et.y,ht,nt),gf(n.dynamicLayoutVertexArray,E,_e),U.emplaceBack(Ft,Ft+1,Ft+2),U.emplaceBack(Ft+1,Ft+2,Ft+3),Q.vertexLength+=4,Q.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ge[0]),be!==s.length-1&&vt===s[be+1].sectionIndex||n.programConfigurations.populatePaintArrays(Z.length,x,x.index,{},$,fe&&fe[vt])}n.placedSymbolArray.emplaceBack(E.x,E.y,se,this.glyphOffsetArray.length-se,ce,A,I,E.segment,d?d[0]:0,d?d[1]:0,f[0],f[1],b,0,!1,0,z)}_addCollisionDebugVertex(n,s,d,f,v,x){return s.emplaceBack(0,0),n.emplaceBack(d.x,d.y,f,v,Math.round(x.x),Math.round(x.y))}addCollisionDebugVertices(n,s,d,f,v,x,b){const E=v.segments.prepareSegment(4,v.layoutVertexArray,v.indexArray),A=E.vertexLength,I=v.layoutVertexArray,z=v.collisionVertexArray,$=b.anchorX,U=b.anchorY;this._addCollisionDebugVertex(I,z,x,$,U,new R(n,s)),this._addCollisionDebugVertex(I,z,x,$,U,new R(d,s)),this._addCollisionDebugVertex(I,z,x,$,U,new R(d,f)),this._addCollisionDebugVertex(I,z,x,$,U,new R(n,f)),E.vertexLength+=4;const Z=v.indexArray;Z.emplaceBack(A,A+1),Z.emplaceBack(A+1,A+2),Z.emplaceBack(A+2,A+3),Z.emplaceBack(A+3,A),E.primitiveLength+=4}addDebugCollisionBoxes(n,s,d,f){for(let v=n;v<s;v++){const x=this.collisionBoxArray.get(v);this.addCollisionDebugVertices(x.x1,x.y1,x.x2,x.y2,f?this.textCollisionBox:this.iconCollisionBox,x.anchorPoint,d)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new vf(Bn,zg.members,ir),this.iconCollisionBox=new vf(Bn,zg.members,ir);for(let n=0;n<this.symbolInstances.length;n++){const s=this.symbolInstances.get(n);this.addDebugCollisionBoxes(s.textBoxStartIndex,s.textBoxEndIndex,s,!0),this.addDebugCollisionBoxes(s.verticalTextBoxStartIndex,s.verticalTextBoxEndIndex,s,!0),this.addDebugCollisionBoxes(s.iconBoxStartIndex,s.iconBoxEndIndex,s,!1),this.addDebugCollisionBoxes(s.verticalIconBoxStartIndex,s.verticalIconBoxEndIndex,s,!1)}}_deserializeCollisionBoxesForSymbol(n,s,d,f,v,x,b,E,A){const I={};for(let z=s;z<d;z++){const $=n.get(z);I.textBox={x1:$.x1,y1:$.y1,x2:$.x2,y2:$.y2,anchorPointX:$.anchorPointX,anchorPointY:$.anchorPointY},I.textFeatureIndex=$.featureIndex;break}for(let z=f;z<v;z++){const $=n.get(z);I.verticalTextBox={x1:$.x1,y1:$.y1,x2:$.x2,y2:$.y2,anchorPointX:$.anchorPointX,anchorPointY:$.anchorPointY},I.verticalTextFeatureIndex=$.featureIndex;break}for(let z=x;z<b;z++){const $=n.get(z);I.iconBox={x1:$.x1,y1:$.y1,x2:$.x2,y2:$.y2,anchorPointX:$.anchorPointX,anchorPointY:$.anchorPointY},I.iconFeatureIndex=$.featureIndex;break}for(let z=E;z<A;z++){const $=n.get(z);I.verticalIconBox={x1:$.x1,y1:$.y1,x2:$.x2,y2:$.y2,anchorPointX:$.anchorPointX,anchorPointY:$.anchorPointY},I.verticalIconFeatureIndex=$.featureIndex;break}return I}deserializeCollisionBoxes(n){this.collisionArrays=[];for(let s=0;s<this.symbolInstances.length;s++){const d=this.symbolInstances.get(s);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(n,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(n,s){const d=n.placedSymbolArray.get(s),f=d.vertexStartIndex+4*d.numGlyphs;for(let v=d.vertexStartIndex;v<f;v+=4)n.indexArray.emplaceBack(v,v+1,v+2),n.indexArray.emplaceBack(v+1,v+2,v+3)}getSortedSymbolIndexes(n){if(this.sortedAngle===n&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const s=Math.sin(n),d=Math.cos(n),f=[],v=[],x=[];for(let b=0;b<this.symbolInstances.length;++b){x.push(b);const E=this.symbolInstances.get(b);f.push(0|Math.round(s*E.anchorX+d*E.anchorY)),v.push(E.featureIndex)}return x.sort((b,E)=>f[b]-f[E]||v[E]-v[b]),x}addToSortKeyRanges(n,s){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===s?d.symbolInstanceEnd=n+1:this.sortKeyRanges.push({sortKey:s,symbolInstanceStart:n,symbolInstanceEnd:n+1})}sortFeatures(n){if(this.sortFeaturesByY&&this.sortedAngle!==n&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(n),this.sortedAngle=n,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const s of this.symbolInstanceIndexes){const d=this.symbolInstances.get(s);this.featureSortOrder.push(d.featureIndex),[d.rightJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.leftJustifiedTextSymbolIndex].forEach((f,v,x)=>{f>=0&&x.indexOf(f)===v&&this.addIndicesForPlacedSymbol(this.text,f)}),d.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,d.verticalPlacedTextSymbolIndex),d.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.placedIconSymbolIndex),d.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Yg,Qg;ct("SymbolBucket",k1,{omit:["layers","collisionBoxArray","features","compareText"]}),k1.MAX_GLYPHS=65535,k1.addDynamicAttributes=gf;var _f={get paint(){return Qg=Qg||new Wn({"icon-opacity":new Mt(ke.paint_symbol["icon-opacity"]),"icon-color":new Mt(ke.paint_symbol["icon-color"]),"icon-halo-color":new Mt(ke.paint_symbol["icon-halo-color"]),"icon-halo-width":new Mt(ke.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Mt(ke.paint_symbol["icon-halo-blur"]),"icon-translate":new _t(ke.paint_symbol["icon-translate"]),"icon-translate-anchor":new _t(ke.paint_symbol["icon-translate-anchor"]),"text-opacity":new Mt(ke.paint_symbol["text-opacity"]),"text-color":new Mt(ke.paint_symbol["text-color"],{runtimeType:On,getOverride:o=>o.textColor,hasOverride:o=>!!o.textColor}),"text-halo-color":new Mt(ke.paint_symbol["text-halo-color"]),"text-halo-width":new Mt(ke.paint_symbol["text-halo-width"]),"text-halo-blur":new Mt(ke.paint_symbol["text-halo-blur"]),"text-translate":new _t(ke.paint_symbol["text-translate"]),"text-translate-anchor":new _t(ke.paint_symbol["text-translate-anchor"])})},get layout(){return Yg=Yg||new Wn({"symbol-placement":new _t(ke.layout_symbol["symbol-placement"]),"symbol-spacing":new _t(ke.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new _t(ke.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Mt(ke.layout_symbol["symbol-sort-key"]),"symbol-z-order":new _t(ke.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new _t(ke.layout_symbol["icon-allow-overlap"]),"icon-overlap":new _t(ke.layout_symbol["icon-overlap"]),"icon-ignore-placement":new _t(ke.layout_symbol["icon-ignore-placement"]),"icon-optional":new _t(ke.layout_symbol["icon-optional"]),"icon-rotation-alignment":new _t(ke.layout_symbol["icon-rotation-alignment"]),"icon-size":new Mt(ke.layout_symbol["icon-size"]),"icon-text-fit":new _t(ke.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new _t(ke.layout_symbol["icon-text-fit-padding"]),"icon-image":new Mt(ke.layout_symbol["icon-image"]),"icon-rotate":new Mt(ke.layout_symbol["icon-rotate"]),"icon-padding":new Mt(ke.layout_symbol["icon-padding"]),"icon-keep-upright":new _t(ke.layout_symbol["icon-keep-upright"]),"icon-offset":new Mt(ke.layout_symbol["icon-offset"]),"icon-anchor":new Mt(ke.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new _t(ke.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new _t(ke.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new _t(ke.layout_symbol["text-rotation-alignment"]),"text-field":new Mt(ke.layout_symbol["text-field"]),"text-font":new Mt(ke.layout_symbol["text-font"]),"text-size":new Mt(ke.layout_symbol["text-size"]),"text-max-width":new Mt(ke.layout_symbol["text-max-width"]),"text-line-height":new _t(ke.layout_symbol["text-line-height"]),"text-letter-spacing":new Mt(ke.layout_symbol["text-letter-spacing"]),"text-justify":new Mt(ke.layout_symbol["text-justify"]),"text-radial-offset":new Mt(ke.layout_symbol["text-radial-offset"]),"text-variable-anchor":new _t(ke.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Mt(ke.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Mt(ke.layout_symbol["text-anchor"]),"text-max-angle":new _t(ke.layout_symbol["text-max-angle"]),"text-writing-mode":new _t(ke.layout_symbol["text-writing-mode"]),"text-rotate":new Mt(ke.layout_symbol["text-rotate"]),"text-padding":new _t(ke.layout_symbol["text-padding"]),"text-keep-upright":new _t(ke.layout_symbol["text-keep-upright"]),"text-transform":new Mt(ke.layout_symbol["text-transform"]),"text-offset":new Mt(ke.layout_symbol["text-offset"]),"text-allow-overlap":new _t(ke.layout_symbol["text-allow-overlap"]),"text-overlap":new _t(ke.layout_symbol["text-overlap"]),"text-ignore-placement":new _t(ke.layout_symbol["text-ignore-placement"]),"text-optional":new _t(ke.layout_symbol["text-optional"])})}};class e3{constructor(n){if(n.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=n.property.overrides?n.property.overrides.runtimeType:Fr,this.defaultValue=n}evaluate(n){if(n.formattedSection){const s=this.defaultValue.property.overrides;if(s&&s.hasOverride(n.formattedSection))return s.getOverride(n.formattedSection)}return n.feature&&n.featureState?this.defaultValue.evaluate(n.feature,n.featureState):this.defaultValue.property.specification.default}eachChild(n){this.defaultValue.isConstant()||n(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}ct("FormatSectionOverride",e3,{omit:["defaultValue"]});class Zh extends Di{constructor(n){super(n,_f)}recalculate(n,s){if(super.recalculate(n,s),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const d=this.layout.get("text-writing-mode");if(d){const f=[];for(const v of d)f.indexOf(v)<0&&f.push(v);this.layout._values["text-writing-mode"]=f}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(n,s,d,f){const v=this.layout.get(n).evaluate(s,{},d,f),x=this._unevaluatedLayout._values[n];return x.isDataDriven()||s1(x.value)||!v?v:function(b,E){return E.replace(/{([^{}]+)}/g,(A,I)=>b&&I in b?String(b[I]):"")}(s.properties,v)}createBucket(n){return new k1(n)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const n of _f.paint.overridableProperties){if(!Zh.hasPaintOverride(this.layout,n))continue;const s=this.paint.get(n),d=new e3(s),f=new Wu(d,s.property.specification);let v=null;v=s.value.kind==="constant"||s.value.kind==="source"?new Uu("source",f):new u1("composite",f,s.value.zoomStops),this.paint._values[n]=new Nr(s.property,v,s.parameters)}}_handleOverridablePaintPropertyUpdate(n,s,d){return!(!this.layout||s.isDataDriven()||d.isDataDriven())&&Zh.hasPaintOverride(this.layout,n)}static hasPaintOverride(n,s){const d=n.get("text-field"),f=_f.paint.properties[s];let v=!1;const x=b=>{for(const E of b)if(f.overrides&&f.overrides.hasOverride(E))return void(v=!0)};if(d.value.kind==="constant"&&d.value.value instanceof Ar)x(d.value.value.sections);else if(d.value.kind==="source"){const b=A=>{v||(A instanceof _a&&kn(A.value)===ie?x(A.value.sections):A instanceof a1?x(A.sections):A.eachChild(b))},E=d.value;E._styleExpression&&b(E._styleExpression.expression)}return v}}let t3;var $w={get paint(){return t3=t3||new Wn({"background-color":new _t(ke.paint_background["background-color"]),"background-pattern":new oc(ke.paint_background["background-pattern"]),"background-opacity":new _t(ke.paint_background["background-opacity"])})}};class jw extends Di{constructor(n){super(n,$w)}}let n3;var Vw={get paint(){return n3=n3||new Wn({"raster-opacity":new _t(ke.paint_raster["raster-opacity"]),"raster-hue-rotate":new _t(ke.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new _t(ke.paint_raster["raster-brightness-min"]),"raster-brightness-max":new _t(ke.paint_raster["raster-brightness-max"]),"raster-saturation":new _t(ke.paint_raster["raster-saturation"]),"raster-contrast":new _t(ke.paint_raster["raster-contrast"]),"raster-resampling":new _t(ke.paint_raster["raster-resampling"]),"raster-fade-duration":new _t(ke.paint_raster["raster-fade-duration"])})}};class Ww extends Di{constructor(n){super(n,Vw)}}class Uw extends Di{constructor(n){super(n,{}),this.onAdd=s=>{this.implementation.onAdd&&this.implementation.onAdd(s,s.painter.context.gl)},this.onRemove=s=>{this.implementation.onRemove&&this.implementation.onRemove(s,s.painter.context.gl)},this.implementation=n}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class Hw{constructor(n){this._callback=n,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const xf=63710088e-1;class gs{constructor(n,s){if(isNaN(n)||isNaN(s))throw new Error(`Invalid LngLat object: (${n}, ${s})`);if(this.lng=+n,this.lat=+s,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new gs(de(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(n){const s=Math.PI/180,d=this.lat*s,f=n.lat*s,v=Math.sin(d)*Math.sin(f)+Math.cos(d)*Math.cos(f)*Math.cos((n.lng-this.lng)*s);return xf*Math.acos(Math.min(v,1))}static convert(n){if(n instanceof gs)return n;if(Array.isArray(n)&&(n.length===2||n.length===3))return new gs(Number(n[0]),Number(n[1]));if(!Array.isArray(n)&&typeof n=="object"&&n!==null)return new gs(Number("lng"in n?n.lng:n.lon),Number(n.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const r3=2*Math.PI*xf;function i3(o){return r3*Math.cos(o*Math.PI/180)}function o3(o){return(180+o)/360}function a3(o){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o*Math.PI/360)))/360}function s3(o,n){return o/i3(n)}function bf(o){return 360/Math.PI*Math.atan(Math.exp((180-360*o)*Math.PI/180))-90}class Gh{constructor(n,s,d=0){this.x=+n,this.y=+s,this.z=+d}static fromLngLat(n,s=0){const d=gs.convert(n);return new Gh(o3(d.lng),a3(d.lat),s3(s,d.lat))}toLngLat(){return new gs(360*this.x-180,bf(this.y))}toAltitude(){return this.z*i3(bf(this.y))}meterInMercatorCoordinateUnits(){return 1/r3*(n=bf(this.y),1/Math.cos(n*Math.PI/180));var n}}function l3(o,n,s){var d=2*Math.PI*6378137/256/Math.pow(2,s);return[o*d-2*Math.PI*6378137/2,n*d-2*Math.PI*6378137/2]}class wf{constructor(n,s,d){if(n<0||n>25||d<0||d>=Math.pow(2,n)||s<0||s>=Math.pow(2,n))throw new Error(`x=${s}, y=${d}, z=${n} outside of bounds. 0<=x<${Math.pow(2,n)}, 0<=y<${Math.pow(2,n)} 0<=z<=25 `);this.z=n,this.x=s,this.y=d,this.key=kc(0,n,n,s,d)}equals(n){return this.z===n.z&&this.x===n.x&&this.y===n.y}url(n,s,d){const f=(x=this.y,b=this.z,E=l3(256*(v=this.x),256*(x=Math.pow(2,b)-x-1),b),A=l3(256*(v+1),256*(x+1),b),E[0]+","+E[1]+","+A[0]+","+A[1]);var v,x,b,E,A;const I=function(z,$,U){let Z,Q="";for(let se=z;se>0;se--)Z=1<<se-1,Q+=($&Z?1:0)+(U&Z?2:0);return Q}(this.z,this.x,this.y);return n[(this.x+this.y)%n.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(d==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,s>1?"@2x":"").replace(/{quadkey}/g,I).replace(/{bbox-epsg-3857}/g,f)}isChildOf(n){const s=this.z-n.z;return s>0&&n.x===this.x>>s&&n.y===this.y>>s}getTilePoint(n){const s=Math.pow(2,this.z);return new R((n.x*s-this.x)*Jn,(n.y*s-this.y)*Jn)}toString(){return`${this.z}/${this.x}/${this.y}`}}class u3{constructor(n,s){this.wrap=n,this.canonical=s,this.key=kc(n,s.z,s.z,s.x,s.y)}}class Ui{constructor(n,s,d,f,v){if(n<d)throw new Error(`overscaledZ should be >= z; overscaledZ = ${n}; z = ${d}`);this.overscaledZ=n,this.wrap=s,this.canonical=new wf(d,+f,+v),this.key=kc(s,n,d,f,v)}clone(){return new Ui(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(n){return this.overscaledZ===n.overscaledZ&&this.wrap===n.wrap&&this.canonical.equals(n.canonical)}scaledTo(n){if(n>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${n}; overscaledZ = ${this.overscaledZ}`);const s=this.canonical.z-n;return n>this.canonical.z?new Ui(n,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ui(n,this.wrap,n,this.canonical.x>>s,this.canonical.y>>s)}calculateScaledKey(n,s){if(n>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${n}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-n;return n>this.canonical.z?kc(this.wrap*+s,n,this.canonical.z,this.canonical.x,this.canonical.y):kc(this.wrap*+s,n,n,this.canonical.x>>d,this.canonical.y>>d)}isChildOf(n){if(n.wrap!==this.wrap)return!1;const s=this.canonical.z-n.canonical.z;return n.overscaledZ===0||n.overscaledZ<this.overscaledZ&&n.canonical.x===this.canonical.x>>s&&n.canonical.y===this.canonical.y>>s}children(n){if(this.overscaledZ>=n)return[new Ui(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const s=this.canonical.z+1,d=2*this.canonical.x,f=2*this.canonical.y;return[new Ui(s,this.wrap,s,d,f),new Ui(s,this.wrap,s,d+1,f),new Ui(s,this.wrap,s,d,f+1),new Ui(s,this.wrap,s,d+1,f+1)]}isLessThan(n){return this.wrap<n.wrap||!(this.wrap>n.wrap)&&(this.overscaledZ<n.overscaledZ||!(this.overscaledZ>n.overscaledZ)&&(this.canonical.x<n.canonical.x||!(this.canonical.x>n.canonical.x)&&this.canonical.y<n.canonical.y))}wrapped(){return new Ui(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(n){return new Ui(this.overscaledZ,n,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new u3(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(n){return this.canonical.getTilePoint(new Gh(n.x-this.wrap,n.y))}}function kc(o,n,s,d,f){(o*=2)<0&&(o=-1*o-1);const v=1<<s;return(v*v*o+v*f+d).toString(36)+s.toString(36)+n.toString(36)}ct("CanonicalTileID",wf),ct("OverscaledTileID",Ui,{omit:["posMatrix"]});class c3{constructor(n,s,d,f=1,v=1,x=1,b=0){if(this.uid=n,s.height!==s.width)throw new RangeError("DEM tiles must be square");if(d&&!["mapbox","terrarium","custom"].includes(d))return void qe(`"${d}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=s.height;const E=this.dim=s.height-2;switch(this.data=new Uint32Array(s.data.buffer),d){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=f,this.greenFactor=v,this.blueFactor=x,this.baseShift=b;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let A=0;A<E;A++)this.data[this._idx(-1,A)]=this.data[this._idx(0,A)],this.data[this._idx(E,A)]=this.data[this._idx(E-1,A)],this.data[this._idx(A,-1)]=this.data[this._idx(A,0)],this.data[this._idx(A,E)]=this.data[this._idx(A,E-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(E,-1)]=this.data[this._idx(E-1,0)],this.data[this._idx(-1,E)]=this.data[this._idx(0,E-1)],this.data[this._idx(E,E)]=this.data[this._idx(E-1,E-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let A=0;A<E;A++)for(let I=0;I<E;I++){const z=this.get(A,I);z>this.max&&(this.max=z),z<this.min&&(this.min=z)}}get(n,s){const d=new Uint8Array(this.data.buffer),f=4*this._idx(n,s);return this.unpack(d[f],d[f+1],d[f+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(n,s){if(n<-1||n>=this.dim+1||s<-1||s>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(s+1)*this.stride+(n+1)}unpack(n,s,d){return n*this.redFactor+s*this.greenFactor+d*this.blueFactor-this.baseShift}getPixels(){return new Wi({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(n,s,d){if(this.dim!==n.dim)throw new Error("dem dimension mismatch");let f=s*this.dim,v=s*this.dim+this.dim,x=d*this.dim,b=d*this.dim+this.dim;switch(s){case-1:f=v-1;break;case 1:v=f+1}switch(d){case-1:x=b-1;break;case 1:b=x+1}const E=-s*this.dim,A=-d*this.dim;for(let I=x;I<b;I++)for(let z=f;z<v;z++)this.data[this._idx(z,I)]=n.data[this._idx(z+E,I+A)]}}ct("DEMData",c3);class d3{constructor(n){this._stringToNumber={},this._numberToString=[];for(let s=0;s<n.length;s++){const d=n[s];this._stringToNumber[d]=s,this._numberToString[s]=d}}encode(n){return this._stringToNumber[n]}decode(n){if(n>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${n} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[n]}}class h3{constructor(n,s,d,f,v){this.type="Feature",this._vectorTileFeature=n,n._z=s,n._x=d,n._y=f,this.properties=n.properties,this.id=v}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(n){this._geometry=n}toJSON(){const n={geometry:this.geometry};for(const s in this)s!=="_geometry"&&s!=="_vectorTileFeature"&&(n[s]=this[s]);return n}}class p3{constructor(n,s){this.tileID=n,this.x=n.canonical.x,this.y=n.canonical.y,this.z=n.canonical.z,this.grid=new ls(Jn,16,0),this.grid3D=new ls(Jn,16,0),this.featureIndexArray=new je,this.promoteId=s}insert(n,s,d,f,v,x){const b=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,f,v);const E=x?this.grid3D:this.grid;for(let A=0;A<s.length;A++){const I=s[A],z=[1/0,1/0,-1/0,-1/0];for(let $=0;$<I.length;$++){const U=I[$];z[0]=Math.min(z[0],U.x),z[1]=Math.min(z[1],U.y),z[2]=Math.max(z[2],U.x),z[3]=Math.max(z[3],U.y)}z[0]<Jn&&z[1]<Jn&&z[2]>=0&&z[3]>=0&&E.insert(b,z[0],z[1],z[2],z[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new ps.VectorTile(new cf(this.rawTileData)).layers,this.sourceLayerCoder=new d3(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(n,s,d,f){this.loadVTLayers();const v=n.params||{},x=Jn/n.tileSize/n.scale,b=Zu(v.filter),E=n.queryGeometry,A=n.queryPadding*x,I=m3(E),z=this.grid.query(I.minX-A,I.minY-A,I.maxX+A,I.maxY+A),$=m3(n.cameraQueryGeometry),U=this.grid3D.query($.minX-A,$.minY-A,$.maxX+A,$.maxY+A,(se,ce,_e,fe)=>function(be,Ee,Oe,lt,gt){for(const it of be)if(Ee<=it.x&&Oe<=it.y&&lt>=it.x&&gt>=it.y)return!0;const ot=[new R(Ee,Oe),new R(Ee,gt),new R(lt,gt),new R(lt,Oe)];if(be.length>2){for(const it of ot)if(x1(be,it))return!0}for(let it=0;it<be.length-1;it++)if(Sb(be[it],be[it+1],ot))return!0;return!1}(n.cameraQueryGeometry,se-A,ce-A,_e+A,fe+A));for(const se of U)z.push(se);z.sort(Zw);const Z={};let Q;for(let se=0;se<z.length;se++){const ce=z[se];if(ce===Q)continue;Q=ce;const _e=this.featureIndexArray.get(ce);let fe=null;this.loadMatchingFeature(Z,_e.bucketIndex,_e.sourceLayerIndex,_e.featureIndex,b,v.layers,v.availableImages,s,d,f,(be,Ee,Oe)=>(fe||(fe=cl(be)),Ee.queryIntersectsFeature(E,be,Oe,fe,this.z,n.transform,x,n.pixelPosMatrix)))}return Z}loadMatchingFeature(n,s,d,f,v,x,b,E,A,I,z){const $=this.bucketLayerIDs[s];if(x&&!function(se,ce){for(let _e=0;_e<se.length;_e++)if(ce.indexOf(se[_e])>=0)return!0;return!1}(x,$))return;const U=this.sourceLayerCoder.decode(d),Z=this.vtLayers[U].feature(f);if(v.needGeometry){const se=dl(Z,!0);if(!v.filter(new vn(this.tileID.overscaledZ),se,this.tileID.canonical))return}else if(!v.filter(new vn(this.tileID.overscaledZ),Z))return;const Q=this.getId(Z,U);for(let se=0;se<$.length;se++){const ce=$[se];if(x&&x.indexOf(ce)<0)continue;const _e=E[ce];if(!_e)continue;let fe={};Q&&I&&(fe=I.getState(_e.sourceLayer||"_geojsonTileLayer",Q));const be=Se({},A[ce]);be.paint=f3(be.paint,_e.paint,Z,fe,b),be.layout=f3(be.layout,_e.layout,Z,fe,b);const Ee=!z||z(Z,_e,fe);if(!Ee)continue;const Oe=new h3(Z,this.z,this.x,this.y,Q);Oe.layer=be;let lt=n[ce];lt===void 0&&(lt=n[ce]=[]),lt.push({featureIndex:f,feature:Oe,intersectionZ:Ee})}}lookupSymbolFeatures(n,s,d,f,v,x,b,E){const A={};this.loadVTLayers();const I=Zu(v);for(const z of n)this.loadMatchingFeature(A,d,f,z,I,x,b,E,s);return A}hasLayer(n){for(const s of this.bucketLayerIDs)for(const d of s)if(n===d)return!0;return!1}getId(n,s){let d=n.id;return this.promoteId&&(d=n.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[s]],typeof d=="boolean"&&(d=Number(d))),d}}function f3(o,n,s,d,f){return Me(o,(v,x)=>{const b=n instanceof v1?n.get(x):null;return b&&b.evaluate?b.evaluate(s,d,f):b})}function m3(o){let n=1/0,s=1/0,d=-1/0,f=-1/0;for(const v of o)n=Math.min(n,v.x),s=Math.min(s,v.y),d=Math.max(d,v.x),f=Math.max(f,v.y);return{minX:n,minY:s,maxX:d,maxY:f}}function Zw(o,n){return n-o}function g3(o,n,s,d,f){const v=[];for(let x=0;x<o.length;x++){const b=o[x];let E;for(let A=0;A<b.length-1;A++){let I=b[A],z=b[A+1];I.x<n&&z.x<n||(I.x<n?I=new R(n,I.y+(n-I.x)/(z.x-I.x)*(z.y-I.y))._round():z.x<n&&(z=new R(n,I.y+(n-I.x)/(z.x-I.x)*(z.y-I.y))._round()),I.y<s&&z.y<s||(I.y<s?I=new R(I.x+(s-I.y)/(z.y-I.y)*(z.x-I.x),s)._round():z.y<s&&(z=new R(I.x+(s-I.y)/(z.y-I.y)*(z.x-I.x),s)._round()),I.x>=d&&z.x>=d||(I.x>=d?I=new R(d,I.y+(d-I.x)/(z.x-I.x)*(z.y-I.y))._round():z.x>=d&&(z=new R(d,I.y+(d-I.x)/(z.x-I.x)*(z.y-I.y))._round()),I.y>=f&&z.y>=f||(I.y>=f?I=new R(I.x+(f-I.y)/(z.y-I.y)*(z.x-I.x),f)._round():z.y>=f&&(z=new R(I.x+(f-I.y)/(z.y-I.y)*(z.x-I.x),f)._round()),E&&I.equals(E[E.length-1])||(E=[I],v.push(E)),E.push(z)))))}}return v}ct("FeatureIndex",p3,{omit:["rawTileData","sourceLayerCoder"]});class ys extends R{constructor(n,s,d,f){super(n,s),this.angle=d,f!==void 0&&(this.segment=f)}clone(){return new ys(this.x,this.y,this.angle,this.segment)}}function y3(o,n,s,d,f){if(n.segment===void 0||s===0)return!0;let v=n,x=n.segment+1,b=0;for(;b>-s/2;){if(x--,x<0)return!1;b-=o[x].dist(v),v=o[x]}b+=o[x].dist(o[x+1]),x++;const E=[];let A=0;for(;b<s/2;){const I=o[x],z=o[x+1];if(!z)return!1;let $=o[x-1].angleTo(I)-I.angleTo(z);for($=Math.abs(($+3*Math.PI)%(2*Math.PI)-Math.PI),E.push({distance:b,angleDelta:$}),A+=$;b-E[0].distance>d;)A-=E.shift().angleDelta;if(A>f)return!1;x++,b+=I.dist(z)}return!0}function v3(o){let n=0;for(let s=0;s<o.length-1;s++)n+=o[s].dist(o[s+1]);return n}function _3(o,n,s){return o?.6*n*s:0}function x3(o,n){return Math.max(o?o.right-o.left:0,n?n.right-n.left:0)}function Gw(o,n,s,d,f,v){const x=_3(s,f,v),b=x3(s,d)*v;let E=0;const A=v3(o)/2;for(let I=0;I<o.length-1;I++){const z=o[I],$=o[I+1],U=z.dist($);if(E+U>A){const Z=(A-E)/U,Q=ui.number(z.x,$.x,Z),se=ui.number(z.y,$.y,Z),ce=new ys(Q,se,$.angleTo(z),I);return ce._round(),!x||y3(o,ce,b,x,n)?ce:void 0}E+=U}}function qw(o,n,s,d,f,v,x,b,E){const A=_3(d,v,x),I=x3(d,f),z=I*x,$=o[0].x===0||o[0].x===E||o[0].y===0||o[0].y===E;return n-z<n/4&&(n=z+n/4),b3(o,$?n/2*b%n:(I/2+2*v)*x*b%n,n,A,s,z,$,!1,E)}function b3(o,n,s,d,f,v,x,b,E){const A=v/2,I=v3(o);let z=0,$=n-s,U=[];for(let Z=0;Z<o.length-1;Z++){const Q=o[Z],se=o[Z+1],ce=Q.dist(se),_e=se.angleTo(Q);for(;$+s<z+ce;){$+=s;const fe=($-z)/ce,be=ui.number(Q.x,se.x,fe),Ee=ui.number(Q.y,se.y,fe);if(be>=0&&be<E&&Ee>=0&&Ee<E&&$-A>=0&&$+A<=I){const Oe=new ys(be,Ee,_e,Z);Oe._round(),d&&!y3(o,Oe,v,d,f)||U.push(Oe)}}z+=ce}return b||U.length||x||(U=b3(o,z/2,s,d,f,v,x,!0,E)),U}ct("Anchor",ys);const A1=fi;function w3(o,n,s,d){const f=[],v=o.image,x=v.pixelRatio,b=v.paddedRect.w-2*A1,E=v.paddedRect.h-2*A1,A=o.right-o.left,I=o.bottom-o.top,z=v.stretchX||[[0,b]],$=v.stretchY||[[0,E]],U=(et,ht)=>et+ht[1]-ht[0],Z=z.reduce(U,0),Q=$.reduce(U,0),se=b-Z,ce=E-Q;let _e=0,fe=Z,be=0,Ee=Q,Oe=0,lt=se,gt=0,ot=ce;if(v.content&&d){const et=v.content;_e=qh(z,0,et[0]),be=qh($,0,et[1]),fe=qh(z,et[0],et[2]),Ee=qh($,et[1],et[3]),Oe=et[0]-_e,gt=et[1]-be,lt=et[2]-et[0]-fe,ot=et[3]-et[1]-Ee}const it=(et,ht,nt,Ge)=>{const wt=Kh(et.stretch-_e,fe,A,o.left),vt=Xh(et.fixed-Oe,lt,et.stretch,Z),Ft=Kh(ht.stretch-be,Ee,I,o.top),xn=Xh(ht.fixed-gt,ot,ht.stretch,Q),En=Kh(nt.stretch-_e,fe,A,o.left),sr=Xh(nt.fixed-Oe,lt,nt.stretch,Z),zi=Kh(Ge.stretch-be,Ee,I,o.top),Yr=Xh(Ge.fixed-gt,ot,Ge.stretch,Q),Yn=new R(wt,Ft),br=new R(En,Ft),Ir=new R(En,zi),Qr=new R(wt,zi),ei=new R(vt/x,xn/x),lr=new R(sr/x,Yr/x),ur=n*Math.PI/180;if(ur){const $r=Math.sin(ur),mi=Math.cos(ur),gi=[mi,-$r,$r,mi];Yn._matMult(gi),br._matMult(gi),Qr._matMult(gi),Ir._matMult(gi)}const Br=et.stretch+et.fixed,ti=ht.stretch+ht.fixed;return{tl:Yn,tr:br,bl:Qr,br:Ir,tex:{x:v.paddedRect.x+A1+Br,y:v.paddedRect.y+A1+ti,w:nt.stretch+nt.fixed-Br,h:Ge.stretch+Ge.fixed-ti},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ei,pixelOffsetBR:lr,minFontScaleX:lt/x/A,minFontScaleY:ot/x/I,isSDF:s}};if(d&&(v.stretchX||v.stretchY)){const et=S3(z,se,Z),ht=S3($,ce,Q);for(let nt=0;nt<et.length-1;nt++){const Ge=et[nt],wt=et[nt+1];for(let vt=0;vt<ht.length-1;vt++)f.push(it(Ge,ht[vt],wt,ht[vt+1]))}}else f.push(it({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:b+1},{fixed:0,stretch:E+1}));return f}function qh(o,n,s){let d=0;for(const f of o)d+=Math.max(n,Math.min(s,f[1]))-Math.max(n,Math.min(s,f[0]));return d}function S3(o,n,s){const d=[{fixed:-A1,stretch:0}];for(const[f,v]of o){const x=d[d.length-1];d.push({fixed:f-x.stretch,stretch:x.stretch}),d.push({fixed:f-x.stretch,stretch:x.stretch+(v-f)})}return d.push({fixed:n+A1,stretch:s}),d}function Kh(o,n,s,d){return o/n*s+d}function Xh(o,n,s,d){return o-n*s/d}class Jh{constructor(n,s,d,f,v,x,b,E,A,I){if(this.boxStartIndex=n.length,A){let z=x.top,$=x.bottom;const U=x.collisionPadding;U&&(z-=U[1],$+=U[3]);let Z=$-z;Z>0&&(Z=Math.max(10,Z),this.circleDiameter=Z)}else{let z=x.top*b-E[0],$=x.bottom*b+E[2],U=x.left*b-E[3],Z=x.right*b+E[1];const Q=x.collisionPadding;if(Q&&(U-=Q[0]*b,z-=Q[1]*b,Z+=Q[2]*b,$+=Q[3]*b),I){const se=new R(U,z),ce=new R(Z,z),_e=new R(U,$),fe=new R(Z,$),be=I*Math.PI/180;se._rotate(be),ce._rotate(be),_e._rotate(be),fe._rotate(be),U=Math.min(se.x,ce.x,_e.x,fe.x),Z=Math.max(se.x,ce.x,_e.x,fe.x),z=Math.min(se.y,ce.y,_e.y,fe.y),$=Math.max(se.y,ce.y,_e.y,fe.y)}n.emplaceBack(s.x,s.y,U,z,Z,$,d,f,v)}this.boxEndIndex=n.length}}class Kw{constructor(n=[],s=Xw){if(this.data=n,this.length=this.data.length,this.compare=s,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(n){this.data.push(n),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const n=this.data[0],s=this.data.pop();return this.length--,this.length>0&&(this.data[0]=s,this._down(0)),n}peek(){return this.data[0]}_up(n){const{data:s,compare:d}=this,f=s[n];for(;n>0;){const v=n-1>>1,x=s[v];if(d(f,x)>=0)break;s[n]=x,n=v}s[n]=f}_down(n){const{data:s,compare:d}=this,f=this.length>>1,v=s[n];for(;n<f;){let x=1+(n<<1),b=s[x];const E=x+1;if(E<this.length&&d(s[E],b)<0&&(x=E,b=s[E]),d(b,v)>=0)break;s[n]=b,n=x}s[n]=v}}function Xw(o,n){return o<n?-1:o>n?1:0}function Jw(o,n=1,s=!1){let d=1/0,f=1/0,v=-1/0,x=-1/0;const b=o[0];for(let U=0;U<b.length;U++){const Z=b[U];(!U||Z.x<d)&&(d=Z.x),(!U||Z.y<f)&&(f=Z.y),(!U||Z.x>v)&&(v=Z.x),(!U||Z.y>x)&&(x=Z.y)}const E=Math.min(v-d,x-f);let A=E/2;const I=new Kw([],Yw);if(E===0)return new R(d,f);for(let U=d;U<v;U+=E)for(let Z=f;Z<x;Z+=E)I.push(new P1(U+A,Z+A,A,o));let z=function(U){let Z=0,Q=0,se=0;const ce=U[0];for(let _e=0,fe=ce.length,be=fe-1;_e<fe;be=_e++){const Ee=ce[_e],Oe=ce[be],lt=Ee.x*Oe.y-Oe.x*Ee.y;Q+=(Ee.x+Oe.x)*lt,se+=(Ee.y+Oe.y)*lt,Z+=3*lt}return new P1(Q/Z,se/Z,0,U)}(o),$=I.length;for(;I.length;){const U=I.pop();(U.d>z.d||!z.d)&&(z=U,s&&console.log("found best %d after %d probes",Math.round(1e4*U.d)/1e4,$)),U.max-z.d<=n||(A=U.h/2,I.push(new P1(U.p.x-A,U.p.y-A,A,o)),I.push(new P1(U.p.x+A,U.p.y-A,A,o)),I.push(new P1(U.p.x-A,U.p.y+A,A,o)),I.push(new P1(U.p.x+A,U.p.y+A,A,o)),$+=4)}return s&&(console.log(`num probes: ${$}`),console.log(`best distance: ${z.d}`)),z.p}function Yw(o,n){return n.max-o.max}function P1(o,n,s,d){this.p=new R(o,n),this.h=s,this.d=function(f,v){let x=!1,b=1/0;for(let E=0;E<v.length;E++){const A=v[E];for(let I=0,z=A.length,$=z-1;I<z;$=I++){const U=A[I],Z=A[$];U.y>f.y!=Z.y>f.y&&f.x<(Z.x-U.x)*(f.y-U.y)/(Z.y-U.y)+U.x&&(x=!x),b=Math.min(b,ag(f,U,Z))}}return(x?1:-1)*Math.sqrt(b)}(this.p,d),this.max=this.d+this.h*Math.SQRT2}var Tr;u.aq=void 0,(Tr=u.aq||(u.aq={}))[Tr.center=1]="center",Tr[Tr.left=2]="left",Tr[Tr.right=3]="right",Tr[Tr.top=4]="top",Tr[Tr.bottom=5]="bottom",Tr[Tr["top-left"]=6]="top-left",Tr[Tr["top-right"]=7]="top-right",Tr[Tr["bottom-left"]=8]="bottom-left",Tr[Tr["bottom-right"]=9]="bottom-right";const vs=7,Sf=Number.POSITIVE_INFINITY;function C3(o,n){return n[1]!==Sf?function(s,d,f){let v=0,x=0;switch(d=Math.abs(d),f=Math.abs(f),s){case"top-right":case"top-left":case"top":x=f-vs;break;case"bottom-right":case"bottom-left":case"bottom":x=-f+vs}switch(s){case"top-right":case"bottom-right":case"right":v=-d;break;case"top-left":case"bottom-left":case"left":v=d}return[v,x]}(o,n[0],n[1]):function(s,d){let f=0,v=0;d<0&&(d=0);const x=d/Math.SQRT2;switch(s){case"top-right":case"top-left":v=x-vs;break;case"bottom-right":case"bottom-left":v=-x+vs;break;case"bottom":v=-d+vs;break;case"top":v=d-vs}switch(s){case"top-right":case"bottom-right":f=-x;break;case"top-left":case"bottom-left":f=x;break;case"left":f=d;break;case"right":f=-d}return[f,v]}(o,n[0])}function M3(o,n,s){var d;const f=o.layout,v=(d=f.get("text-variable-anchor-offset"))===null||d===void 0?void 0:d.evaluate(n,{},s);if(v){const b=v.values,E=[];for(let A=0;A<b.length;A+=2){const I=E[A]=b[A],z=b[A+1].map($=>$*ar);I.startsWith("top")?z[1]-=vs:I.startsWith("bottom")&&(z[1]+=vs),E[A+1]=z}return new Pi(E)}const x=f.get("text-variable-anchor");if(x){let b;b=o._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[f.get("text-radial-offset").evaluate(n,{},s)*ar,Sf]:f.get("text-offset").evaluate(n,{},s).map(A=>A*ar);const E=[];for(const A of x)E.push(A,C3(A,b));return new Pi(E)}return null}function Cf(o){switch(o){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Qw(o,n,s,d,f,v,x,b,E,A,I){let z=v.textMaxSize.evaluate(n,{});z===void 0&&(z=x);const $=o.layers[0].layout,U=$.get("icon-offset").evaluate(n,{},I),Z=k3(s.horizontal),Q=x/24,se=o.tilePixelRatio*Q,ce=o.tilePixelRatio*z/24,_e=o.tilePixelRatio*b,fe=o.tilePixelRatio*$.get("symbol-spacing"),be=$.get("text-padding")*o.tilePixelRatio,Ee=function(Ge,wt,vt,Ft=1){const xn=Ge.get("icon-padding").evaluate(wt,{},vt),En=xn&&xn.values;return[En[0]*Ft,En[1]*Ft,En[2]*Ft,En[3]*Ft]}($,n,I,o.tilePixelRatio),Oe=$.get("text-max-angle")/180*Math.PI,lt=$.get("text-rotation-alignment")!=="viewport"&&$.get("symbol-placement")!=="point",gt=$.get("icon-rotation-alignment")==="map"&&$.get("symbol-placement")!=="point",ot=$.get("symbol-placement"),it=fe/2,et=$.get("icon-text-fit");let ht;d&&et!=="none"&&(o.allowVerticalPlacement&&s.vertical&&(ht=Xg(d,s.vertical,et,$.get("icon-text-fit-padding"),U,Q)),Z&&(d=Xg(d,Z,et,$.get("icon-text-fit-padding"),U,Q)));const nt=(Ge,wt)=>{wt.x<0||wt.x>=Jn||wt.y<0||wt.y>=Jn||function(vt,Ft,xn,En,sr,zi,Yr,Yn,br,Ir,Qr,ei,lr,ur,Br,ti,$r,mi,gi,cr,jt,jr,Lr,dr,yo){const Oo=vt.addToLineVertexArray(Ft,xn);let Bo,La,vo,Hi,yi=0,Da=0,Tc=0,I3=0,Lf=-1,Df=-1;const Ra={};let L3=Aa("");if(vt.allowVerticalPlacement&&En.vertical){const Vr=Yn.layout.get("text-rotate").evaluate(jt,{},dr)+90;vo=new Jh(br,Ft,Ir,Qr,ei,En.vertical,lr,ur,Br,Vr),Yr&&(Hi=new Jh(br,Ft,Ir,Qr,ei,Yr,$r,mi,Br,Vr))}if(sr){const Vr=Yn.layout.get("icon-rotate").evaluate(jt,{}),Zi=Yn.layout.get("icon-text-fit")!=="none",pl=w3(sr,Vr,Lr,Zi),jo=Yr?w3(Yr,Vr,Lr,Zi):void 0;La=new Jh(br,Ft,Ir,Qr,ei,sr,$r,mi,!1,Vr),yi=4*pl.length;const fl=vt.iconSizeData;let ha=null;fl.kind==="source"?(ha=[da*Yn.layout.get("icon-size").evaluate(jt,{})],ha[0]>ms&&qe(`${vt.layerIds[0]}: Value for "icon-size" is >= ${Ec}. Reduce your "icon-size".`)):fl.kind==="composite"&&(ha=[da*jr.compositeIconSizes[0].evaluate(jt,{},dr),da*jr.compositeIconSizes[1].evaluate(jt,{},dr)],(ha[0]>ms||ha[1]>ms)&&qe(`${vt.layerIds[0]}: Value for "icon-size" is >= ${Ec}. Reduce your "icon-size".`)),vt.addSymbols(vt.icon,pl,ha,cr,gi,jt,u.ai.none,Ft,Oo.lineStartIndex,Oo.lineLength,-1,dr),Lf=vt.icon.placedSymbolArray.length-1,jo&&(Da=4*jo.length,vt.addSymbols(vt.icon,jo,ha,cr,gi,jt,u.ai.vertical,Ft,Oo.lineStartIndex,Oo.lineLength,-1,dr),Df=vt.icon.placedSymbolArray.length-1)}const D3=Object.keys(En.horizontal);for(const Vr of D3){const Zi=En.horizontal[Vr];if(!Bo){L3=Aa(Zi.text);const jo=Yn.layout.get("text-rotate").evaluate(jt,{},dr);Bo=new Jh(br,Ft,Ir,Qr,ei,Zi,lr,ur,Br,jo)}const pl=Zi.positionedLines.length===1;if(Tc+=E3(vt,Ft,Zi,zi,Yn,Br,jt,ti,Oo,En.vertical?u.ai.horizontal:u.ai.horizontalOnly,pl?D3:[Vr],Ra,Lf,jr,dr),pl)break}En.vertical&&(I3+=E3(vt,Ft,En.vertical,zi,Yn,Br,jt,ti,Oo,u.ai.vertical,["vertical"],Ra,Df,jr,dr));const nS=Bo?Bo.boxStartIndex:vt.collisionBoxArray.length,rS=Bo?Bo.boxEndIndex:vt.collisionBoxArray.length,iS=vo?vo.boxStartIndex:vt.collisionBoxArray.length,oS=vo?vo.boxEndIndex:vt.collisionBoxArray.length,aS=La?La.boxStartIndex:vt.collisionBoxArray.length,sS=La?La.boxEndIndex:vt.collisionBoxArray.length,lS=Hi?Hi.boxStartIndex:vt.collisionBoxArray.length,uS=Hi?Hi.boxEndIndex:vt.collisionBoxArray.length;let $o=-1;const Qh=(Vr,Zi)=>Vr&&Vr.circleDiameter?Math.max(Vr.circleDiameter,Zi):Zi;$o=Qh(Bo,$o),$o=Qh(vo,$o),$o=Qh(La,$o),$o=Qh(Hi,$o);const R3=$o>-1?1:0;R3&&($o*=yo/ar),vt.glyphOffsetArray.length>=k1.MAX_GLYPHS&&qe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),jt.sortKey!==void 0&&vt.addToSortKeyRanges(vt.symbolInstances.length,jt.sortKey);const cS=M3(Yn,jt,dr),[dS,hS]=function(Vr,Zi){const pl=Vr.length,jo=Zi==null?void 0:Zi.values;if((jo==null?void 0:jo.length)>0)for(let fl=0;fl<jo.length;fl+=2){const ha=jo[fl+1];Vr.emplaceBack(u.aq[jo[fl]],ha[0],ha[1])}return[pl,Vr.length]}(vt.textAnchorOffsets,cS);vt.symbolInstances.emplaceBack(Ft.x,Ft.y,Ra.right>=0?Ra.right:-1,Ra.center>=0?Ra.center:-1,Ra.left>=0?Ra.left:-1,Ra.vertical||-1,Lf,Df,L3,nS,rS,iS,oS,aS,sS,lS,uS,Ir,Tc,I3,yi,Da,R3,0,lr,$o,dS,hS)}(o,wt,Ge,s,d,f,ht,o.layers[0],o.collisionBoxArray,n.index,n.sourceLayerIndex,o.index,se,[be,be,be,be],lt,E,_e,Ee,gt,U,n,v,A,I,x)};if(ot==="line")for(const Ge of g3(n.geometry,0,0,Jn,Jn)){const wt=qw(Ge,fe,Oe,s.vertical||Z,d,24,ce,o.overscaling,Jn);for(const vt of wt)Z&&eS(o,Z.text,it,vt)||nt(Ge,vt)}else if(ot==="line-center"){for(const Ge of n.geometry)if(Ge.length>1){const wt=Gw(Ge,Oe,s.vertical||Z,d,24,ce);wt&&nt(Ge,wt)}}else if(n.type==="Polygon")for(const Ge of tf(n.geometry,0)){const wt=Jw(Ge,16);nt(Ge[0],new ys(wt.x,wt.y,0))}else if(n.type==="LineString")for(const Ge of n.geometry)nt(Ge,new ys(Ge[0].x,Ge[0].y,0));else if(n.type==="Point")for(const Ge of n.geometry)for(const wt of Ge)nt([wt],new ys(wt.x,wt.y,0))}function E3(o,n,s,d,f,v,x,b,E,A,I,z,$,U,Z){const Q=function(_e,fe,be,Ee,Oe,lt,gt,ot){const it=Ee.layout.get("text-rotate").evaluate(lt,{})*Math.PI/180,et=[];for(const ht of fe.positionedLines)for(const nt of ht.positionedGlyphs){if(!nt.rect)continue;const Ge=nt.rect||{};let wt=Wg+1,vt=!0,Ft=1,xn=0;const En=(Oe||ot)&&nt.vertical,sr=nt.metrics.advance*nt.scale/2;if(ot&&fe.verticalizable&&(xn=ht.lineOffset/2-(nt.imageName?-(ar-nt.metrics.width*nt.scale)/2:(nt.scale-1)*ar)),nt.imageName){const cr=gt[nt.imageName];vt=cr.sdf,Ft=cr.pixelRatio,wt=fi/Ft}const zi=Oe?[nt.x+sr,nt.y]:[0,0];let Yr=Oe?[0,0]:[nt.x+sr+be[0],nt.y+be[1]-xn],Yn=[0,0];En&&(Yn=Yr,Yr=[0,0]);const br=nt.metrics.isDoubleResolution?2:1,Ir=(nt.metrics.left-wt)*nt.scale-sr+Yr[0],Qr=(-nt.metrics.top-wt)*nt.scale+Yr[1],ei=Ir+Ge.w/br*nt.scale/Ft,lr=Qr+Ge.h/br*nt.scale/Ft,ur=new R(Ir,Qr),Br=new R(ei,Qr),ti=new R(Ir,lr),$r=new R(ei,lr);if(En){const cr=new R(-sr,sr-Cc),jt=-Math.PI/2,jr=ar/2-sr,Lr=new R(5-Cc-jr,-(nt.imageName?jr:0)),dr=new R(...Yn);ur._rotateAround(jt,cr)._add(Lr)._add(dr),Br._rotateAround(jt,cr)._add(Lr)._add(dr),ti._rotateAround(jt,cr)._add(Lr)._add(dr),$r._rotateAround(jt,cr)._add(Lr)._add(dr)}if(it){const cr=Math.sin(it),jt=Math.cos(it),jr=[jt,-cr,cr,jt];ur._matMult(jr),Br._matMult(jr),ti._matMult(jr),$r._matMult(jr)}const mi=new R(0,0),gi=new R(0,0);et.push({tl:ur,tr:Br,bl:ti,br:$r,tex:Ge,writingMode:fe.writingMode,glyphOffset:zi,sectionIndex:nt.sectionIndex,isSDF:vt,pixelOffsetTL:mi,pixelOffsetBR:gi,minFontScaleX:0,minFontScaleY:0})}return et}(0,s,b,f,v,x,d,o.allowVerticalPlacement),se=o.textSizeData;let ce=null;se.kind==="source"?(ce=[da*f.layout.get("text-size").evaluate(x,{})],ce[0]>ms&&qe(`${o.layerIds[0]}: Value for "text-size" is >= ${Ec}. Reduce your "text-size".`)):se.kind==="composite"&&(ce=[da*U.compositeTextSizes[0].evaluate(x,{},Z),da*U.compositeTextSizes[1].evaluate(x,{},Z)],(ce[0]>ms||ce[1]>ms)&&qe(`${o.layerIds[0]}: Value for "text-size" is >= ${Ec}. Reduce your "text-size".`)),o.addSymbols(o.text,Q,ce,b,v,x,A,n,E.lineStartIndex,E.lineLength,$,Z);for(const _e of I)z[_e]=o.text.placedSymbolArray.length-1;return 4*Q.length}function k3(o){for(const n in o)return o[n];return null}function eS(o,n,s,d){const f=o.compareText;if(n in f){const v=f[n];for(let x=v.length-1;x>=0;x--)if(d.dist(v[x])<s)return!0}else f[n]=[];return f[n].push(d),!1}const A3=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Mf{static from(n){if(!(n instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[s,d]=new Uint8Array(n,0,2);if(s!==219)throw new Error("Data does not appear to be in a KDBush format.");const f=d>>4;if(f!==1)throw new Error(`Got v${f} data when expected v1.`);const v=A3[15&d];if(!v)throw new Error("Unrecognized array type.");const[x]=new Uint16Array(n,2,1),[b]=new Uint32Array(n,4,1);return new Mf(b,x,v,n)}constructor(n,s=64,d=Float64Array,f){if(isNaN(n)||n<0)throw new Error(`Unpexpected numItems value: ${n}.`);this.numItems=+n,this.nodeSize=Math.min(Math.max(+s,2),65535),this.ArrayType=d,this.IndexArrayType=n<65536?Uint16Array:Uint32Array;const v=A3.indexOf(this.ArrayType),x=2*n*this.ArrayType.BYTES_PER_ELEMENT,b=n*this.IndexArrayType.BYTES_PER_ELEMENT,E=(8-b%8)%8;if(v<0)throw new Error(`Unexpected typed array class: ${d}.`);f&&f instanceof ArrayBuffer?(this.data=f,this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+b+E,2*n),this._pos=2*n,this._finished=!0):(this.data=new ArrayBuffer(8+x+b+E),this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+b+E,2*n),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+v]),new Uint16Array(this.data,2,1)[0]=s,new Uint32Array(this.data,4,1)[0]=n)}add(n,s){const d=this._pos>>1;return this.ids[d]=d,this.coords[this._pos++]=n,this.coords[this._pos++]=s,d}finish(){const n=this._pos>>1;if(n!==this.numItems)throw new Error(`Added ${n} items when expected ${this.numItems}.`);return Ef(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(n,s,d,f){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:v,coords:x,nodeSize:b}=this,E=[0,v.length-1,0],A=[];for(;E.length;){const I=E.pop()||0,z=E.pop()||0,$=E.pop()||0;if(z-$<=b){for(let se=$;se<=z;se++){const ce=x[2*se],_e=x[2*se+1];ce>=n&&ce<=d&&_e>=s&&_e<=f&&A.push(v[se])}continue}const U=$+z>>1,Z=x[2*U],Q=x[2*U+1];Z>=n&&Z<=d&&Q>=s&&Q<=f&&A.push(v[U]),(I===0?n<=Z:s<=Q)&&(E.push($),E.push(U-1),E.push(1-I)),(I===0?d>=Z:f>=Q)&&(E.push(U+1),E.push(z),E.push(1-I))}return A}within(n,s,d){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:f,coords:v,nodeSize:x}=this,b=[0,f.length-1,0],E=[],A=d*d;for(;b.length;){const I=b.pop()||0,z=b.pop()||0,$=b.pop()||0;if(z-$<=x){for(let se=$;se<=z;se++)T3(v[2*se],v[2*se+1],n,s)<=A&&E.push(f[se]);continue}const U=$+z>>1,Z=v[2*U],Q=v[2*U+1];T3(Z,Q,n,s)<=A&&E.push(f[U]),(I===0?n-d<=Z:s-d<=Q)&&(b.push($),b.push(U-1),b.push(1-I)),(I===0?n+d>=Z:s+d>=Q)&&(b.push(U+1),b.push(z),b.push(1-I))}return E}}function Ef(o,n,s,d,f,v){if(f-d<=s)return;const x=d+f>>1;P3(o,n,x,d,f,v),Ef(o,n,s,d,x-1,1-v),Ef(o,n,s,x+1,f,1-v)}function P3(o,n,s,d,f,v){for(;f>d;){if(f-d>600){const A=f-d+1,I=s-d+1,z=Math.log(A),$=.5*Math.exp(2*z/3),U=.5*Math.sqrt(z*$*(A-$)/A)*(I-A/2<0?-1:1);P3(o,n,s,Math.max(d,Math.floor(s-I*$/A+U)),Math.min(f,Math.floor(s+(A-I)*$/A+U)),v)}const x=n[2*s+v];let b=d,E=f;for(Ac(o,n,d,s),n[2*f+v]>x&&Ac(o,n,d,f);b<E;){for(Ac(o,n,b,E),b++,E--;n[2*b+v]<x;)b++;for(;n[2*E+v]>x;)E--}n[2*d+v]===x?Ac(o,n,d,E):(E++,Ac(o,n,E,f)),E<=s&&(d=E+1),s<=E&&(f=E-1)}}function Ac(o,n,s,d){kf(o,s,d),kf(n,2*s,2*d),kf(n,2*s+1,2*d+1)}function kf(o,n,s){const d=o[n];o[n]=o[s],o[s]=d}function T3(o,n,s,d){const f=o-s,v=n-d;return f*f+v*v}var Af;u.bg=void 0,(Af=u.bg||(u.bg={})).create="create",Af.load="load",Af.fullLoad="fullLoad";let Yh=null,Pc=[];const Pf=1e3/60,Tf="loadTime",If="fullLoadTime",tS={mark(o){performance.mark(o)},frame(o){const n=o;Yh!=null&&Pc.push(n-Yh),Yh=n},clearMetrics(){Yh=null,Pc=[],performance.clearMeasures(Tf),performance.clearMeasures(If);for(const o in u.bg)performance.clearMarks(u.bg[o])},getPerformanceMetrics(){performance.measure(Tf,u.bg.create,u.bg.load),performance.measure(If,u.bg.create,u.bg.fullLoad);const o=performance.getEntriesByName(Tf)[0].duration,n=performance.getEntriesByName(If)[0].duration,s=Pc.length,d=1/(Pc.reduce((v,x)=>v+x,0)/s/1e3),f=Pc.filter(v=>v>Pf).reduce((v,x)=>v+(x-Pf)/Pf,0);return{loadTime:o,fullLoadTime:n,fps:d,percentDroppedFrames:f/(s+f)*100,totalFrames:s}}};u.$=function(o,n,s){var d,f,v,x,b,E,A,I,z,$,U,Z,Q=s[0],se=s[1],ce=s[2];return n===o?(o[12]=n[0]*Q+n[4]*se+n[8]*ce+n[12],o[13]=n[1]*Q+n[5]*se+n[9]*ce+n[13],o[14]=n[2]*Q+n[6]*se+n[10]*ce+n[14],o[15]=n[3]*Q+n[7]*se+n[11]*ce+n[15]):(f=n[1],v=n[2],x=n[3],b=n[4],E=n[5],A=n[6],I=n[7],z=n[8],$=n[9],U=n[10],Z=n[11],o[0]=d=n[0],o[1]=f,o[2]=v,o[3]=x,o[4]=b,o[5]=E,o[6]=A,o[7]=I,o[8]=z,o[9]=$,o[10]=U,o[11]=Z,o[12]=d*Q+b*se+z*ce+n[12],o[13]=f*Q+E*se+$*ce+n[13],o[14]=v*Q+A*se+U*ce+n[14],o[15]=x*Q+I*se+Z*ce+n[15]),o},u.A=b1,u.B=ui,u.C=class{constructor(o,n,s){this.receive=d=>{const f=d.data,v=f.id;if(v&&(!f.targetMapId||this.mapId===f.targetMapId))if(f.type==="<cancel>"){delete this.tasks[v];const x=this.cancelCallbacks[v];delete this.cancelCallbacks[v],x&&x()}else Ie()||f.mustQueue?(this.tasks[v]=f,this.taskQueue.push(v),this.invoker.trigger()):this.processTask(v,f)},this.process=()=>{if(!this.taskQueue.length)return;const d=this.taskQueue.shift(),f=this.tasks[d];delete this.tasks[d],this.taskQueue.length&&this.invoker.trigger(),f&&this.processTask(d,f)},this.target=o,this.parent=n,this.mapId=s,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new Hw(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Ie()?o:window}send(o,n,s,d,f=!1){const v=Math.round(1e18*Math.random()).toString(36).substring(0,10);s&&(this.callbacks[v]=s);const x=[],b={id:v,type:o,hasCallback:!!s,targetMapId:d,mustQueue:f,sourceMapId:this.mapId,data:la(n,x)};return this.target.postMessage(b,{transfer:x}),{cancel:()=>{s&&delete this.callbacks[v],this.target.postMessage({id:v,type:"<cancel>",targetMapId:d,sourceMapId:this.mapId})}}}processTask(o,n){if(n.type==="<response>"){const s=this.callbacks[o];delete this.callbacks[o],s&&(n.error?s(us(n.error)):s(null,us(n.data)))}else{let s=!1;const d=[],f=n.hasCallback?(b,E)=>{s=!0,delete this.cancelCallbacks[o];const A={id:o,type:"<response>",sourceMapId:this.mapId,error:b?la(b):null,data:la(E,d)};this.target.postMessage(A,{transfer:d})}:b=>{s=!0};let v=null;const x=us(n.data);if(this.parent[n.type])v=this.parent[n.type](n.sourceMapId,x,f);else if("getWorkerSource"in this.parent){const b=n.type.split(".");v=this.parent.getWorkerSource(n.sourceMapId,b[0],x.source)[b[1]](x,f)}else f(new Error(`Could not find function ${n.type}`));!s&&v&&v.cancel&&(this.cancelCallbacks[o]=v.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},u.D=_t,u.E=pn,u.F=function(o,n){const s={};for(let d=0;d<n.length;d++){const f=n[d];f in o&&(s[f]=o[f])}return s},u.G=o3,u.H=a3,u.I=hf,u.J=B,u.K=V,u.L=gs,u.M=Ze,u.N=Jn,u.O=Ui,u.P=R,u.Q=Tn,u.R=Wi,u.S=_n,u.T=kh,u.U=Gh,u.V=class extends Ea{},u.W=wf,u.X=function(o,n){const s=window.document.createElement("video");s.muted=!0,s.onloadstart=function(){n(null,s)};for(let d=0;d<o.length;d++){const f=window.document.createElement("source");Kn(o[d])||(s.crossOrigin="Anonymous"),f.src=o[d],s.appendChild(f)}return{cancel:()=>{}}},u.Y=Ye,u.Z=function(){var o=new b1(16);return b1!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0),o[0]=1,o[5]=1,o[10]=1,o[15]=1,o},u._=M,u.a=Re,u.a$=class extends W{},u.a0=function(o,n,s){var d=s[0],f=s[1],v=s[2];return o[0]=n[0]*d,o[1]=n[1]*d,o[2]=n[2]*d,o[3]=n[3]*d,o[4]=n[4]*f,o[5]=n[5]*f,o[6]=n[6]*f,o[7]=n[7]*f,o[8]=n[8]*v,o[9]=n[9]*v,o[10]=n[10]*v,o[11]=n[11]*v,o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15],o},u.a1=cg,u.a2=function(){return Te++},u.a3=oe,u.a4=k1,u.a5=function(){hi.isLoading()||hi.isLoaded()||rc()!=="deferred"||Eh()},u.a6=Zu,u.a7=dl,u.a8=vn,u.a9=h3,u.aA=ol,u.aB=function(o){o=o.slice();const n=Object.create(null);for(let s=0;s<o.length;s++)n[o[s].id]=o[s];for(let s=0;s<o.length;s++)"ref"in o[s]&&(o[s]=Kt(o[s],n[o[s].ref]));return o},u.aC=function(o){if(o.type==="custom")return new Uw(o);switch(o.type){case"background":return new jw(o);case"circle":return new Eb(o);case"fill":return new Zb(o);case"fill-extrusion":return new sw(o);case"heatmap":return new Ab(o);case"hillshade":return new Tb(o);case"line":return new mw(o);case"raster":return new Ww(o);case"symbol":return new Zh(o)}},u.aD=He,u.aE=function(o,n){if(!o)return[{command:Zt.setStyle,args:[n]}];let s=[];try{if(!Ot(o.version,n.version))return[{command:Zt.setStyle,args:[n]}];Ot(o.center,n.center)||s.push({command:Zt.setCenter,args:[n.center]}),Ot(o.zoom,n.zoom)||s.push({command:Zt.setZoom,args:[n.zoom]}),Ot(o.bearing,n.bearing)||s.push({command:Zt.setBearing,args:[n.bearing]}),Ot(o.pitch,n.pitch)||s.push({command:Zt.setPitch,args:[n.pitch]}),Ot(o.sprite,n.sprite)||s.push({command:Zt.setSprite,args:[n.sprite]}),Ot(o.glyphs,n.glyphs)||s.push({command:Zt.setGlyphs,args:[n.glyphs]}),Ot(o.transition,n.transition)||s.push({command:Zt.setTransition,args:[n.transition]}),Ot(o.light,n.light)||s.push({command:Zt.setLight,args:[n.light]});const d={},f=[];(function(x,b,E,A){let I;for(I in b=b||{},x=x||{})Object.prototype.hasOwnProperty.call(x,I)&&(Object.prototype.hasOwnProperty.call(b,I)||na(I,E,A));for(I in b)Object.prototype.hasOwnProperty.call(b,I)&&(Object.prototype.hasOwnProperty.call(x,I)?Ot(x[I],b[I])||(x[I].type==="geojson"&&b[I].type==="geojson"&&Ya(x,b,I)?E.push({command:Zt.setGeoJSONSourceData,args:[I,b[I].data]}):Vi(I,b,E,A)):Ci(I,b,E))})(o.sources,n.sources,f,d);const v=[];o.layers&&o.layers.forEach(x=>{d[x.source]?s.push({command:Zt.removeLayer,args:[x.id]}):v.push(x)}),s=s.concat(f),function(x,b,E){b=b||[];const A=(x=x||[]).map(uo),I=b.map(uo),z=x.reduce(Io,{}),$=b.reduce(Io,{}),U=A.slice(),Z=Object.create(null);let Q,se,ce,_e,fe,be,Ee;for(Q=0,se=0;Q<A.length;Q++)ce=A[Q],Object.prototype.hasOwnProperty.call($,ce)?se++:(E.push({command:Zt.removeLayer,args:[ce]}),U.splice(U.indexOf(ce,se),1));for(Q=0,se=0;Q<I.length;Q++)ce=I[I.length-1-Q],U[U.length-1-Q]!==ce&&(Object.prototype.hasOwnProperty.call(z,ce)?(E.push({command:Zt.removeLayer,args:[ce]}),U.splice(U.lastIndexOf(ce,U.length-se),1)):se++,be=U[U.length-Q],E.push({command:Zt.addLayer,args:[$[ce],be]}),U.splice(U.length-Q,0,ce),Z[ce]=!0);for(Q=0;Q<I.length;Q++)if(ce=I[Q],_e=z[ce],fe=$[ce],!Z[ce]&&!Ot(_e,fe))if(Ot(_e.source,fe.source)&&Ot(_e["source-layer"],fe["source-layer"])&&Ot(_e.type,fe.type)){for(Ee in ra(_e.layout,fe.layout,E,ce,null,Zt.setLayoutProperty),ra(_e.paint,fe.paint,E,ce,null,Zt.setPaintProperty),Ot(_e.filter,fe.filter)||E.push({command:Zt.setFilter,args:[ce,fe.filter]}),Ot(_e.minzoom,fe.minzoom)&&Ot(_e.maxzoom,fe.maxzoom)||E.push({command:Zt.setLayerZoomRange,args:[ce,fe.minzoom,fe.maxzoom]}),_e)Object.prototype.hasOwnProperty.call(_e,Ee)&&Ee!=="layout"&&Ee!=="paint"&&Ee!=="filter"&&Ee!=="metadata"&&Ee!=="minzoom"&&Ee!=="maxzoom"&&(Ee.indexOf("paint.")===0?ra(_e[Ee],fe[Ee],E,ce,Ee.slice(6),Zt.setPaintProperty):Ot(_e[Ee],fe[Ee])||E.push({command:Zt.setLayerProperty,args:[ce,Ee,fe[Ee]]}));for(Ee in fe)Object.prototype.hasOwnProperty.call(fe,Ee)&&!Object.prototype.hasOwnProperty.call(_e,Ee)&&Ee!=="layout"&&Ee!=="paint"&&Ee!=="filter"&&Ee!=="metadata"&&Ee!=="minzoom"&&Ee!=="maxzoom"&&(Ee.indexOf("paint.")===0?ra(_e[Ee],fe[Ee],E,ce,Ee.slice(6),Zt.setPaintProperty):Ot(_e[Ee],fe[Ee])||E.push({command:Zt.setLayerProperty,args:[ce,Ee,fe[Ee]]}))}else E.push({command:Zt.removeLayer,args:[ce]}),be=U[U.lastIndexOf(ce)+1],E.push({command:Zt.addLayer,args:[fe,be]})}(v,n.layers,s)}catch(d){console.warn("Unable to compute style diff:",d),s=[{command:Zt.setStyle,args:[n]}]}return s},u.aF=function(o){const n=[],s=o.id;return s===void 0&&n.push({message:`layers.${s}: missing required property "id"`}),o.render===void 0&&n.push({message:`layers.${s}: missing required method "render"`}),o.renderingMode&&o.renderingMode!=="2d"&&o.renderingMode!=="3d"&&n.push({message:`layers.${s}: property "renderingMode" must be either "2d" or "3d"`}),n},u.aG=function o(n,s){if(Array.isArray(n)){if(!Array.isArray(s)||n.length!==s.length)return!1;for(let d=0;d<n.length;d++)if(!o(n[d],s[d]))return!1;return!0}if(typeof n=="object"&&n!==null&&s!==null){if(typeof s!="object"||Object.keys(n).length!==Object.keys(s).length)return!1;for(const d in n)if(!o(n[d],s[d]))return!1;return!0}return n===s},u.aH=Me,u.aI=Be,u.aJ=al,u.aK=function(o){return o({pluginStatus:Kr,pluginURL:ua}),al.on("pluginStateChange",o),o},u.aL=class extends Pa{constructor(o,n){super(o,n),this.current=0}set(o){this.current!==o&&(this.current=o,this.gl.uniform1i(this.location,o))}},u.aM=_1,u.aN=class extends Pa{constructor(o,n){super(o,n),this.current=W0}set(o){if(o[12]!==this.current[12]||o[0]!==this.current[0])return this.current=o,void this.gl.uniformMatrix4fv(this.location,!1,o);for(let n=1;n<16;n++)if(o[n]!==this.current[n]){this.current=o,this.gl.uniformMatrix4fv(this.location,!1,o);break}}},u.aO=Ih,u.aP=class extends Pa{constructor(o,n){super(o,n),this.current=[0,0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]||(this.current=o,this.gl.uniform3f(this.location,o[0],o[1],o[2]))}},u.aQ=class extends Pa{constructor(o,n){super(o,n),this.current=[0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]||(this.current=o,this.gl.uniform2f(this.location,o[0],o[1]))}},u.aR=Lh,u.aS=function(o,n,s,d,f,v,x){var b=1/(n-s),E=1/(d-f),A=1/(v-x);return o[0]=-2*b,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*E,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*A,o[11]=0,o[12]=(n+s)*b,o[13]=(f+d)*E,o[14]=(x+v)*A,o[15]=1,o},u.aT=un,u.aU=Mb,u.aV=class extends h{},u.aW=_w,u.aX=class extends _{},u.aY=function(o){return o<=1?1:Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))},u.aZ=mg,u.a_=Ke,u.aa=function(o){const n={};if(o.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(s,d,f,v)=>{const x=f||v;return n[d]=!x||x.toLowerCase(),""}),n["max-age"]){const s=parseInt(n["max-age"],10);isNaN(s)?delete n["max-age"]:n["max-age"]=s}return n},u.ab=function(o,n){const s=[];for(const d in o)d in n||s.push(d);return s},u.ac=function(o){if(we==null){const n=o.navigator?o.navigator.userAgent:null;we=!!o.safari||!(!n||!(/\b(iPad|iPhone|iPod)\b/.test(n)||n.match("Safari")&&!n.match("Chrome")))}return we},u.ad=pe,u.ae=function(o,n,s){var d=Math.sin(s),f=Math.cos(s),v=n[0],x=n[1],b=n[2],E=n[3],A=n[4],I=n[5],z=n[6],$=n[7];return n!==o&&(o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15]),o[0]=v*f+A*d,o[1]=x*f+I*d,o[2]=b*f+z*d,o[3]=E*f+$*d,o[4]=A*f-v*d,o[5]=I*f-x*d,o[6]=z*f-b*d,o[7]=$*f-E*d,o},u.af=function(o){var n=new b1(16);return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],n[9]=o[9],n[10]=o[10],n[11]=o[11],n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15],n},u.ag=Fh,u.ah=function(o,n){let s=0,d=0;if(o.kind==="constant")d=o.layoutSize;else if(o.kind!=="source"){const{interpolationType:f,minZoom:v,maxZoom:x}=o,b=f?pe(ci.interpolationFactor(f,n,v,x),0,1):0;o.kind==="camera"?d=ui.number(o.minSize,o.maxSize,b):s=b}return{uSizeT:s,uSize:d}},u.aj=function(o,{uSize:n,uSizeT:s},{lowerSize:d,upperSize:f}){return o.kind==="source"?d/da:o.kind==="composite"?ui.number(d/da,f/da,s):n},u.ak=gf,u.al=function(o,n,s,d){const f=n.y-o.y,v=n.x-o.x,x=d.y-s.y,b=d.x-s.x,E=x*v-b*f;if(E===0)return null;const A=(b*(o.y-s.y)-x*(o.x-s.x))/E;return new R(o.x+A*v,o.y+A*f)},u.am=g3,u.an=ig,u.ao=q0,u.ap=ar,u.ar=mf,u.as=function(o,n){var s=n[0],d=n[1],f=n[2],v=n[3],x=n[4],b=n[5],E=n[6],A=n[7],I=n[8],z=n[9],$=n[10],U=n[11],Z=n[12],Q=n[13],se=n[14],ce=n[15],_e=s*b-d*x,fe=s*E-f*x,be=s*A-v*x,Ee=d*E-f*b,Oe=d*A-v*b,lt=f*A-v*E,gt=I*Q-z*Z,ot=I*se-$*Z,it=I*ce-U*Z,et=z*se-$*Q,ht=z*ce-U*Q,nt=$*ce-U*se,Ge=_e*nt-fe*ht+be*et+Ee*it-Oe*ot+lt*gt;return Ge?(o[0]=(b*nt-E*ht+A*et)*(Ge=1/Ge),o[1]=(f*ht-d*nt-v*et)*Ge,o[2]=(Q*lt-se*Oe+ce*Ee)*Ge,o[3]=($*Oe-z*lt-U*Ee)*Ge,o[4]=(E*it-x*nt-A*ot)*Ge,o[5]=(s*nt-f*it+v*ot)*Ge,o[6]=(se*be-Z*lt-ce*fe)*Ge,o[7]=(I*lt-$*be+U*fe)*Ge,o[8]=(x*ht-b*it+A*gt)*Ge,o[9]=(d*it-s*ht-v*gt)*Ge,o[10]=(Z*Oe-Q*be+ce*_e)*Ge,o[11]=(z*be-I*Oe-U*_e)*Ge,o[12]=(b*ot-x*et-E*gt)*Ge,o[13]=(s*et-d*ot+f*gt)*Ge,o[14]=(Q*fe-Z*Ee-se*_e)*Ge,o[15]=(I*Ee-z*fe+$*_e)*Ge,o):null},u.at=Cf,u.au=ff,u.av=Mf,u.aw=function(){const o={},n=ke.$version;for(const s in ke.$root){const d=ke.$root[s];if(d.required){let f=null;f=s==="version"?n:d.type==="array"?[]:{},f!=null&&(o[s]=f)}}return o},u.ax=Zt,u.ay=wh,u.az=tr,u.b=function(o,n){const s=new Blob([new Uint8Array(o)],{type:"image/png"});createImageBitmap(s).then(d=>{n(null,d)}).catch(d=>{n(new Error(`Could not load image because of ${d.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},u.b0=_r,u.b1=function(o,n){var s=o[0],d=o[1],f=o[2],v=o[3],x=o[4],b=o[5],E=o[6],A=o[7],I=o[8],z=o[9],$=o[10],U=o[11],Z=o[12],Q=o[13],se=o[14],ce=o[15],_e=n[0],fe=n[1],be=n[2],Ee=n[3],Oe=n[4],lt=n[5],gt=n[6],ot=n[7],it=n[8],et=n[9],ht=n[10],nt=n[11],Ge=n[12],wt=n[13],vt=n[14],Ft=n[15];return Math.abs(s-_e)<=Jr*Math.max(1,Math.abs(s),Math.abs(_e))&&Math.abs(d-fe)<=Jr*Math.max(1,Math.abs(d),Math.abs(fe))&&Math.abs(f-be)<=Jr*Math.max(1,Math.abs(f),Math.abs(be))&&Math.abs(v-Ee)<=Jr*Math.max(1,Math.abs(v),Math.abs(Ee))&&Math.abs(x-Oe)<=Jr*Math.max(1,Math.abs(x),Math.abs(Oe))&&Math.abs(b-lt)<=Jr*Math.max(1,Math.abs(b),Math.abs(lt))&&Math.abs(E-gt)<=Jr*Math.max(1,Math.abs(E),Math.abs(gt))&&Math.abs(A-ot)<=Jr*Math.max(1,Math.abs(A),Math.abs(ot))&&Math.abs(I-it)<=Jr*Math.max(1,Math.abs(I),Math.abs(it))&&Math.abs(z-et)<=Jr*Math.max(1,Math.abs(z),Math.abs(et))&&Math.abs($-ht)<=Jr*Math.max(1,Math.abs($),Math.abs(ht))&&Math.abs(U-nt)<=Jr*Math.max(1,Math.abs(U),Math.abs(nt))&&Math.abs(Z-Ge)<=Jr*Math.max(1,Math.abs(Z),Math.abs(Ge))&&Math.abs(Q-wt)<=Jr*Math.max(1,Math.abs(Q),Math.abs(wt))&&Math.abs(se-vt)<=Jr*Math.max(1,Math.abs(se),Math.abs(vt))&&Math.abs(ce-Ft)<=Jr*Math.max(1,Math.abs(ce),Math.abs(Ft))},u.b2=function(o,n){return o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15],o},u.b3=function(o,n,s){return o[0]=n[0]*s[0],o[1]=n[1]*s[1],o[2]=n[2]*s[2],o[3]=n[3]*s[3],o},u.b4=function(o,n){return o[0]*n[0]+o[1]*n[1]+o[2]*n[2]+o[3]*n[3]},u.b5=de,u.b6=u3,u.b7=s3,u.b8=function(o,n,s,d,f){var v,x=1/Math.tan(n/2);return o[0]=x/s,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=x,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=-1,o[12]=0,o[13]=0,o[15]=0,f!=null&&f!==1/0?(o[10]=(f+d)*(v=1/(d-f)),o[14]=2*f*d*v):(o[10]=-1,o[14]=-2*d),o},u.b9=function(o,n,s){var d=Math.sin(s),f=Math.cos(s),v=n[4],x=n[5],b=n[6],E=n[7],A=n[8],I=n[9],z=n[10],$=n[11];return n!==o&&(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15]),o[4]=v*f+A*d,o[5]=x*f+I*d,o[6]=b*f+z*d,o[7]=E*f+$*d,o[8]=A*f-v*d,o[9]=I*f-x*d,o[10]=z*f-b*d,o[11]=$*f-E*d,o},u.bA=Fg,u.bB=l1,u.bC=hi,u.ba=ne,u.bb=he,u.bc=function(o,n){return o[0]=n[0],o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=n[1],o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=n[2],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},u.bd=class extends ul{},u.be=xf,u.bf=tS,u.bh=er,u.bi=function(o,n,s=!1){if(Kr===Yu||Kr===Qu||Kr===ec)throw new Error("setRTLTextPlugin cannot be called multiple times.");ua=qt.resolveURL(o),Kr=Yu,tc=n,nc(),s||Eh()},u.bj=rc,u.bk=function(o,n){const s={};for(let f=0;f<o.length;f++){const v=n&&n[o[f].id]||h1(o[f]);n&&(n[o[f].id]=v);let x=s[v];x||(x=s[v]=[]),x.push(o[f])}const d=[];for(const f in s)d.push(s[f]);return d},u.bl=ct,u.bm=d3,u.bn=p3,u.bo=Hg,u.bp=function(o){o.bucket.createArrays(),o.bucket.tilePixelRatio=Jn/(512*o.bucket.overscaling),o.bucket.compareText={},o.bucket.iconsNeedLinear=!1;const n=o.bucket.layers[0],s=n.layout,d=n._unevaluatedLayout._values,f={layoutIconSize:d["icon-size"].possiblyEvaluate(new vn(o.bucket.zoom+1),o.canonical),layoutTextSize:d["text-size"].possiblyEvaluate(new vn(o.bucket.zoom+1),o.canonical),textMaxSize:d["text-size"].possiblyEvaluate(new vn(18))};if(o.bucket.textSizeData.kind==="composite"){const{minZoom:A,maxZoom:I}=o.bucket.textSizeData;f.compositeTextSizes=[d["text-size"].possiblyEvaluate(new vn(A),o.canonical),d["text-size"].possiblyEvaluate(new vn(I),o.canonical)]}if(o.bucket.iconSizeData.kind==="composite"){const{minZoom:A,maxZoom:I}=o.bucket.iconSizeData;f.compositeIconSizes=[d["icon-size"].possiblyEvaluate(new vn(A),o.canonical),d["icon-size"].possiblyEvaluate(new vn(I),o.canonical)]}const v=s.get("text-line-height")*ar,x=s.get("text-rotation-alignment")!=="viewport"&&s.get("symbol-placement")!=="point",b=s.get("text-keep-upright"),E=s.get("text-size");for(const A of o.bucket.features){const I=s.get("text-font").evaluate(A,{},o.canonical).join(","),z=E.evaluate(A,{},o.canonical),$=f.layoutTextSize.evaluate(A,{},o.canonical),U=f.layoutIconSize.evaluate(A,{},o.canonical),Z={horizontal:{},vertical:void 0},Q=A.text;let se,ce=[0,0];if(Q){const be=Q.toString(),Ee=s.get("text-letter-spacing").evaluate(A,{},o.canonical)*ar,Oe=Xu(be)?Ee:0,lt=s.get("text-anchor").evaluate(A,{},o.canonical),gt=M3(n,A,o.canonical);if(!gt){const nt=s.get("text-radial-offset").evaluate(A,{},o.canonical);ce=nt?C3(lt,[nt*ar,Sf]):s.get("text-offset").evaluate(A,{},o.canonical).map(Ge=>Ge*ar)}let ot=x?"center":s.get("text-justify").evaluate(A,{},o.canonical);const it=s.get("symbol-placement"),et=it==="point"?s.get("text-max-width").evaluate(A,{},o.canonical)*ar:0,ht=()=>{o.bucket.allowVerticalPlacement&&Ku(be)&&(Z.vertical=Wh(Q,o.glyphMap,o.glyphPositions,o.imagePositions,I,et,v,lt,"left",Oe,ce,u.ai.vertical,!0,it,$,z))};if(!x&&gt){const nt=new Set;if(ot==="auto")for(let wt=0;wt<gt.values.length;wt+=2)nt.add(Cf(gt.values[wt]));else nt.add(ot);let Ge=!1;for(const wt of nt)if(!Z.horizontal[wt])if(Ge)Z.horizontal[wt]=Z.horizontal[0];else{const vt=Wh(Q,o.glyphMap,o.glyphPositions,o.imagePositions,I,et,v,"center",wt,Oe,ce,u.ai.horizontal,!1,it,$,z);vt&&(Z.horizontal[wt]=vt,Ge=vt.positionedLines.length===1)}ht()}else{ot==="auto"&&(ot=Cf(lt));const nt=Wh(Q,o.glyphMap,o.glyphPositions,o.imagePositions,I,et,v,lt,ot,Oe,ce,u.ai.horizontal,!1,it,$,z);nt&&(Z.horizontal[ot]=nt),ht(),Ku(be)&&x&&b&&(Z.vertical=Wh(Q,o.glyphMap,o.glyphPositions,o.imagePositions,I,et,v,lt,ot,Oe,ce,u.ai.vertical,!1,it,$,z))}}let _e=!1;if(A.icon&&A.icon.name){const be=o.imageMap[A.icon.name];be&&(se=Fw(o.imagePositions[A.icon.name],s.get("icon-offset").evaluate(A,{},o.canonical),s.get("icon-anchor").evaluate(A,{},o.canonical)),_e=!!be.sdf,o.bucket.sdfIcons===void 0?o.bucket.sdfIcons=_e:o.bucket.sdfIcons!==_e&&qe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(be.pixelRatio!==o.bucket.pixelRatio||s.get("icon-rotate").constantOr(1)!==0)&&(o.bucket.iconsNeedLinear=!0))}const fe=k3(Z.horizontal)||Z.vertical;o.bucket.iconsInText=!!fe&&fe.iconsInText,(fe||se)&&Qw(o.bucket,A,Z,se,o.imageMap,f,$,U,ce,_e,o.canonical)}o.showCollisionBoxes&&o.bucket.generateCollisionDebugBuffers()},u.bq=lf,u.br=of,u.bs=sf,u.bt=class{constructor(o){this._marks={start:[o.url,"start"].join("#"),end:[o.url,"end"].join("#"),measure:o.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let o=performance.getEntriesByName(this._marks.measure);return o.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),o=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),o}},u.bu=cf,u.bv=ps,u.bw=function(o,n,s,d,f){return M(this,void 0,void 0,function*(){if(V())try{return yield Ze(o,n,s,d,f)}catch{}return function(v,x,b,E,A){const I=v.width,z=v.height;at&&ut||(at=new OffscreenCanvas(I,z),ut=at.getContext("2d",{willReadFrequently:!0})),at.width=I,at.height=z,ut.drawImage(v,0,0,I,z);const $=ut.getImageData(x,b,E,A);return ut.clearRect(0,0,I,z),$.data}(o,n,s,d,f)})},u.bx=c3,u.by=S,u.bz=P,u.c=ln,u.d=function(o,n){const s=new Image;s.onload=()=>{n(null,s),URL.revokeObjectURL(s.src),s.onload=null,window.requestAnimationFrame(()=>{s.src=Ve})},s.onerror=()=>n(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const d=new Blob([new Uint8Array(o)],{type:"image/png"});s.src=o.byteLength?URL.createObjectURL(d):Ve},u.e=Se,u.f=function(o,n){return Mr(Se(o,{type:"json"}),n)},u.g=Nn,u.h=qt,u.i=Ie,u.j=gr,u.k=Er,u.l=nn,u.m=Mr,u.n=function(o){return new cf(o).readFields(Tw,[])},u.o=function(o,n,s){if(!o.length)return s(null,[]);let d=o.length;const f=new Array(o.length);let v=null;o.forEach((x,b)=>{n(x,(E,A)=>{E&&(v=E),f[b]=A,--d==0&&s(v,f)})})},u.p=Ug,u.q=gc,u.r=Wn,u.s=Kn,u.t=B0,u.u=st,u.v=ke,u.w=qe,u.x=m1,u.y=zo,u.z=function([o,n,s]){return n+=90,n*=Math.PI/180,s*=Math.PI/180,{x:o*Math.cos(n)*Math.sin(s),y:o*Math.sin(n)*Math.sin(s),z:o*Math.cos(s)}}}),p(["./shared"],function(u){class M{constructor(N){this.keyCache={},N&&this.replace(N)}replace(N){this._layerConfigs={},this._layers={},this.update(N,[])}update(N,j){for(const re of N){this._layerConfigs[re.id]=re;const ae=this._layers[re.id]=u.aC(re);ae._featureFilter=u.a6(ae.filter),this.keyCache[re.id]&&delete this.keyCache[re.id]}for(const re of j)delete this.keyCache[re],delete this._layerConfigs[re],delete this._layers[re];this.familiesBySource={};const q=u.bk(Object.values(this._layerConfigs),this.keyCache);for(const re of q){const ae=re.map(ze=>this._layers[ze.id]),xe=ae[0];if(xe.visibility==="none")continue;const me=xe.source||"";let ue=this.familiesBySource[me];ue||(ue=this.familiesBySource[me]={});const ye=xe.sourceLayer||"_geojsonTileLayer";let De=ue[ye];De||(De=ue[ye]=[]),De.push(ae)}}}class S{constructor(N){const j={},q=[];for(const me in N){const ue=N[me],ye=j[me]={};for(const De in ue){const ze=ue[+De];if(!ze||ze.bitmap.width===0||ze.bitmap.height===0)continue;const $e={x:0,y:0,w:ze.bitmap.width+2,h:ze.bitmap.height+2};q.push($e),ye[De]={rect:$e,metrics:ze.metrics}}}const{w:re,h:ae}=u.p(q),xe=new u.q({width:re||1,height:ae||1});for(const me in N){const ue=N[me];for(const ye in ue){const De=ue[+ye];if(!De||De.bitmap.width===0||De.bitmap.height===0)continue;const ze=j[me][ye].rect;u.q.copy(De.bitmap,xe,{x:0,y:0},{x:ze.x+1,y:ze.y+1},De.bitmap)}}this.image=xe,this.positions=j}}u.bl("GlyphAtlas",S);class P{constructor(N){this.tileID=new u.O(N.tileID.overscaledZ,N.tileID.wrap,N.tileID.canonical.z,N.tileID.canonical.x,N.tileID.canonical.y),this.uid=N.uid,this.zoom=N.zoom,this.pixelRatio=N.pixelRatio,this.tileSize=N.tileSize,this.source=N.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=N.showCollisionBoxes,this.collectResourceTiming=!!N.collectResourceTiming,this.returnDependencies=!!N.returnDependencies,this.promoteId=N.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(N,j,q,re,ae){this.status="parsing",this.data=N,this.collisionBoxArray=new u.a3;const xe=new u.bm(Object.keys(N.layers).sort()),me=new u.bn(this.tileID,this.promoteId);me.bucketLayerIDs=[];const ue={},ye={featureIndex:me,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:q},De=j.familiesBySource[this.source];for(const Gt in De){const Ht=N.layers[Gt];if(!Ht)continue;Ht.version===1&&u.w(`Vector tile source "${this.source}" layer "${Gt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const kr=xe.encode(Gt),fn=[];for(let Xn=0;Xn<Ht.length;Xn++){const yr=Ht.feature(Xn),Ai=me.getId(yr,Gt);fn.push({feature:yr,id:Ai,index:Xn,sourceLayerIndex:kr})}for(const Xn of De[Gt]){const yr=Xn[0];yr.source!==this.source&&u.w(`layer.source = ${yr.source} does not equal this.source = ${this.source}`),yr.minzoom&&this.zoom<Math.floor(yr.minzoom)||yr.maxzoom&&this.zoom>=yr.maxzoom||yr.visibility!=="none"&&(F(Xn,this.zoom,q),(ue[yr.id]=yr.createBucket({index:me.bucketLayerIDs.length,layers:Xn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:kr,sourceID:this.source})).populate(fn,ye,this.tileID.canonical),me.bucketLayerIDs.push(Xn.map(Ai=>Ai.id)))}}let ze,$e,pt,At;const ft=u.aH(ye.glyphDependencies,Gt=>Object.keys(Gt).map(Number));this.inFlightDependencies.forEach(Gt=>Gt==null?void 0:Gt.cancel()),this.inFlightDependencies=[];const St=++this.dependencySentinel;Object.keys(ft).length?this.inFlightDependencies.push(re.send("getGlyphs",{uid:this.uid,stacks:ft,source:this.source,tileID:this.tileID,type:"glyphs"},(Gt,Ht)=>{St===this.dependencySentinel&&(ze||(ze=Gt,$e=Ht,dn.call(this)))})):$e={};const It=Object.keys(ye.iconDependencies);It.length?this.inFlightDependencies.push(re.send("getImages",{icons:It,source:this.source,tileID:this.tileID,type:"icons"},(Gt,Ht)=>{St===this.dependencySentinel&&(ze||(ze=Gt,pt=Ht,dn.call(this)))})):pt={};const rn=Object.keys(ye.patternDependencies);function dn(){if(ze)return ae(ze);if($e&&pt&&At){const Gt=new S($e),Ht=new u.bo(pt,At);for(const kr in ue){const fn=ue[kr];fn instanceof u.a4?(F(fn.layers,this.zoom,q),u.bp({bucket:fn,glyphMap:$e,glyphPositions:Gt.positions,imageMap:pt,imagePositions:Ht.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):fn.hasPattern&&(fn instanceof u.bq||fn instanceof u.br||fn instanceof u.bs)&&(F(fn.layers,this.zoom,q),fn.addFeatures(ye,this.tileID.canonical,Ht.patternPositions))}this.status="done",ae(null,{buckets:Object.values(ue).filter(kr=>!kr.isEmpty()),featureIndex:me,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Gt.image,imageAtlas:Ht,glyphMap:this.returnDependencies?$e:null,iconMap:this.returnDependencies?pt:null,glyphPositions:this.returnDependencies?Gt.positions:null})}}rn.length?this.inFlightDependencies.push(re.send("getImages",{icons:rn,source:this.source,tileID:this.tileID,type:"patterns"},(Gt,Ht)=>{St===this.dependencySentinel&&(ze||(ze=Gt,At=Ht,dn.call(this)))})):At={},dn.call(this)}}function F(ie,N,j){const q=new u.a8(N);for(const re of ie)re.recalculate(q,j)}function R(ie,N){const j=u.l(ie.request,(q,re,ae,xe)=>{if(q)N(q);else if(re)try{const me=new u.bv.VectorTile(new u.bu(re));N(null,{vectorTile:me,rawData:re,cacheControl:ae,expires:xe})}catch(me){const ue=new Uint8Array(re);let ye=`Unable to parse the tile at ${ie.request.url}, `;ye+=ue[0]===31&&ue[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${me.messge}`,N(new Error(ye))}});return()=>{j.cancel(),N()}}class J{constructor(N,j,q,re){this.actor=N,this.layerIndex=j,this.availableImages=q,this.loadVectorData=re||R,this.fetching={},this.loading={},this.loaded={}}loadTile(N,j){const q=N.uid;this.loading||(this.loading={});const re=!!(N&&N.request&&N.request.collectResourceTiming)&&new u.bt(N.request),ae=this.loading[q]=new P(N);ae.abort=this.loadVectorData(N,(xe,me)=>{if(delete this.loading[q],xe||!me)return ae.status="done",this.loaded[q]=ae,j(xe);const ue=me.rawData,ye={};me.expires&&(ye.expires=me.expires),me.cacheControl&&(ye.cacheControl=me.cacheControl);const De={};if(re){const ze=re.finish();ze&&(De.resourceTiming=JSON.parse(JSON.stringify(ze)))}ae.vectorTile=me.vectorTile,ae.parse(me.vectorTile,this.layerIndex,this.availableImages,this.actor,(ze,$e)=>{if(delete this.fetching[q],ze||!$e)return j(ze);j(null,u.e({rawTileData:ue.slice(0)},$e,ye,De))}),this.loaded=this.loaded||{},this.loaded[q]=ae,this.fetching[q]={rawTileData:ue,cacheControl:ye,resourceTiming:De}})}reloadTile(N,j){const q=this.loaded,re=N.uid;if(q&&q[re]){const ae=q[re];ae.showCollisionBoxes=N.showCollisionBoxes,ae.status==="parsing"?ae.parse(ae.vectorTile,this.layerIndex,this.availableImages,this.actor,(xe,me)=>{if(xe||!me)return j(xe,me);let ue;if(this.fetching[re]){const{rawTileData:ye,cacheControl:De,resourceTiming:ze}=this.fetching[re];delete this.fetching[re],ue=u.e({rawTileData:ye.slice(0)},me,De,ze)}else ue=me;j(null,ue)}):ae.status==="done"&&(ae.vectorTile?ae.parse(ae.vectorTile,this.layerIndex,this.availableImages,this.actor,j):j())}}abortTile(N,j){const q=this.loading,re=N.uid;q&&q[re]&&q[re].abort&&(q[re].abort(),delete q[re]),j()}removeTile(N,j){const q=this.loaded,re=N.uid;q&&q[re]&&delete q[re],j()}}class X{constructor(){this.loaded={}}loadTile(N,j){return u._(this,void 0,void 0,function*(){const{uid:q,encoding:re,rawImageData:ae,redFactor:xe,greenFactor:me,blueFactor:ue,baseShift:ye}=N,De=ae.width+2,ze=ae.height+2,$e=u.a(ae)?new u.R({width:De,height:ze},yield u.bw(ae,-1,-1,De,ze)):ae,pt=new u.bx(q,$e,re,xe,me,ue,ye);this.loaded=this.loaded||{},this.loaded[q]=pt,j(null,pt)})}removeTile(N){const j=this.loaded,q=N.uid;j&&j[q]&&delete j[q]}}function G(ie,N){if(ie.length!==0){K(ie[0],N);for(var j=1;j<ie.length;j++)K(ie[j],!N)}}function K(ie,N){for(var j=0,q=0,re=0,ae=ie.length,xe=ae-1;re<ae;xe=re++){var me=(ie[re][0]-ie[xe][0])*(ie[xe][1]+ie[re][1]),ue=j+me;q+=Math.abs(j)>=Math.abs(me)?j-ue+me:me-ue+j,j=ue}j+q>=0!=!!N&&ie.reverse()}var O=u.by(function ie(N,j){var q,re=N&&N.type;if(re==="FeatureCollection")for(q=0;q<N.features.length;q++)ie(N.features[q],j);else if(re==="GeometryCollection")for(q=0;q<N.geometries.length;q++)ie(N.geometries[q],j);else if(re==="Feature")ie(N.geometry,j);else if(re==="Polygon")G(N.coordinates,j);else if(re==="MultiPolygon")for(q=0;q<N.coordinates.length;q++)G(N.coordinates[q],j);return N});const B=u.bv.VectorTileFeature.prototype.toGeoJSON;var V={exports:{}},ne=u.bz,he=u.bv.VectorTileFeature,pe=de;function de(ie,N){this.options=N||{},this.features=ie,this.length=ie.length}function Se(ie,N){this.id=typeof ie.id=="number"?ie.id:void 0,this.type=ie.type,this.rawGeometry=ie.type===1?[ie.geometry]:ie.geometry,this.properties=ie.tags,this.extent=N||4096}de.prototype.feature=function(ie){return new Se(this.features[ie],this.options.extent)},Se.prototype.loadGeometry=function(){var ie=this.rawGeometry;this.geometry=[];for(var N=0;N<ie.length;N++){for(var j=ie[N],q=[],re=0;re<j.length;re++)q.push(new ne(j[re][0],j[re][1]));this.geometry.push(q)}return this.geometry},Se.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ie=this.geometry,N=1/0,j=-1/0,q=1/0,re=-1/0,ae=0;ae<ie.length;ae++)for(var xe=ie[ae],me=0;me<xe.length;me++){var ue=xe[me];N=Math.min(N,ue.x),j=Math.max(j,ue.x),q=Math.min(q,ue.y),re=Math.max(re,ue.y)}return[N,q,j,re]},Se.prototype.toGeoJSON=he.prototype.toGeoJSON;var Te=u.bA,Me=pe;function Be(ie){var N=new Te;return function(j,q){for(var re in j.layers)q.writeMessage(3,He,j.layers[re])}(ie,N),N.finish()}function He(ie,N){var j;N.writeVarintField(15,ie.version||1),N.writeStringField(1,ie.name||""),N.writeVarintField(5,ie.extent||4096);var q={keys:[],values:[],keycache:{},valuecache:{}};for(j=0;j<ie.length;j++)q.feature=ie.feature(j),N.writeMessage(2,We,q);var re=q.keys;for(j=0;j<re.length;j++)N.writeStringField(3,re[j]);var ae=q.values;for(j=0;j<ae.length;j++)N.writeMessage(4,we,ae[j])}function We(ie,N){var j=ie.feature;j.id!==void 0&&N.writeVarintField(1,j.id),N.writeMessage(2,qe,ie),N.writeVarintField(3,j.type),N.writeMessage(4,Ie,j)}function qe(ie,N){var j=ie.feature,q=ie.keys,re=ie.values,ae=ie.keycache,xe=ie.valuecache;for(var me in j.properties){var ue=j.properties[me],ye=ae[me];if(ue!==null){ye===void 0&&(q.push(me),ae[me]=ye=q.length-1),N.writeVarint(ye);var De=typeof ue;De!=="string"&&De!=="boolean"&&De!=="number"&&(ue=JSON.stringify(ue));var ze=De+":"+ue,$e=xe[ze];$e===void 0&&(re.push(ue),xe[ze]=$e=re.length-1),N.writeVarint($e)}}}function Je(ie,N){return(N<<3)+(7&ie)}function Le(ie){return ie<<1^ie>>31}function Ie(ie,N){for(var j=ie.loadGeometry(),q=ie.type,re=0,ae=0,xe=j.length,me=0;me<xe;me++){var ue=j[me],ye=1;q===1&&(ye=ue.length),N.writeVarint(Je(1,ye));for(var De=q===3?ue.length-1:ue.length,ze=0;ze<De;ze++){ze===1&&q!==1&&N.writeVarint(Je(2,De-1));var $e=ue[ze].x-re,pt=ue[ze].y-ae;N.writeVarint(Le($e)),N.writeVarint(Le(pt)),re+=$e,ae+=pt}q===3&&N.writeVarint(Je(7,1))}}function we(ie,N){var j=typeof ie;j==="string"?N.writeStringField(1,ie):j==="boolean"?N.writeBooleanField(7,ie):j==="number"&&(ie%1!=0?N.writeDoubleField(3,ie):ie<0?N.writeSVarintField(6,ie):N.writeVarintField(5,ie))}V.exports=Be,V.exports.fromVectorTileJs=Be,V.exports.fromGeojsonVt=function(ie,N){N=N||{};var j={};for(var q in ie)j[q]=new Me(ie[q].features,N),j[q].name=q,j[q].version=N.version,j[q].extent=N.extent;return Be({layers:j})},V.exports.GeoJSONWrapper=Me;var Re=u.by(V.exports);const Ve={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ie=>ie},Ze=Math.fround||(at=new Float32Array(1),ie=>(at[0]=+ie,at[0]));var at;const ut=3,Pt=5,Xt=6;class qt{constructor(N){this.options=Object.assign(Object.create(Ve),N),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(N){const{log:j,minZoom:q,maxZoom:re}=this.options;j&&console.time("total time");const ae=`prepare ${N.length} points`;j&&console.time(ae),this.points=N;const xe=[];for(let ue=0;ue<N.length;ue++){const ye=N[ue];if(!ye.geometry)continue;const[De,ze]=ye.geometry.coordinates,$e=Ze(tr(De)),pt=Ze(Nn(ze));xe.push($e,pt,1/0,ue,-1,1),this.options.reduce&&xe.push(0)}let me=this.trees[re+1]=this._createTree(xe);j&&console.timeEnd(ae);for(let ue=re;ue>=q;ue--){const ye=+Date.now();me=this.trees[ue]=this._createTree(this._cluster(me,ue)),j&&console.log("z%d: %d clusters in %dms",ue,me.numItems,+Date.now()-ye)}return j&&console.timeEnd("total time"),this}getClusters(N,j){let q=((N[0]+180)%360+360)%360-180;const re=Math.max(-90,Math.min(90,N[1]));let ae=N[2]===180?180:((N[2]+180)%360+360)%360-180;const xe=Math.max(-90,Math.min(90,N[3]));if(N[2]-N[0]>=360)q=-180,ae=180;else if(q>ae){const ze=this.getClusters([q,re,180,xe],j),$e=this.getClusters([-180,re,ae,xe],j);return ze.concat($e)}const me=this.trees[this._limitZoom(j)],ue=me.range(tr(q),Nn(xe),tr(ae),Nn(re)),ye=me.data,De=[];for(const ze of ue){const $e=this.stride*ze;De.push(ye[$e+Pt]>1?ln(ye,$e,this.clusterProps):this.points[ye[$e+ut]])}return De}getChildren(N){const j=this._getOriginId(N),q=this._getOriginZoom(N),re="No cluster with the specified id.",ae=this.trees[q];if(!ae)throw new Error(re);const xe=ae.data;if(j*this.stride>=xe.length)throw new Error(re);const me=this.options.radius/(this.options.extent*Math.pow(2,q-1)),ue=ae.within(xe[j*this.stride],xe[j*this.stride+1],me),ye=[];for(const De of ue){const ze=De*this.stride;xe[ze+4]===N&&ye.push(xe[ze+Pt]>1?ln(xe,ze,this.clusterProps):this.points[xe[ze+ut]])}if(ye.length===0)throw new Error(re);return ye}getLeaves(N,j,q){const re=[];return this._appendLeaves(re,N,j=j||10,q=q||0,0),re}getTile(N,j,q){const re=this.trees[this._limitZoom(N)],ae=Math.pow(2,N),{extent:xe,radius:me}=this.options,ue=me/xe,ye=(q-ue)/ae,De=(q+1+ue)/ae,ze={features:[]};return this._addTileFeatures(re.range((j-ue)/ae,ye,(j+1+ue)/ae,De),re.data,j,q,ae,ze),j===0&&this._addTileFeatures(re.range(1-ue/ae,ye,1,De),re.data,ae,q,ae,ze),j===ae-1&&this._addTileFeatures(re.range(0,ye,ue/ae,De),re.data,-1,q,ae,ze),ze.features.length?ze:null}getClusterExpansionZoom(N){let j=this._getOriginZoom(N)-1;for(;j<=this.options.maxZoom;){const q=this.getChildren(N);if(j++,q.length!==1)break;N=q[0].properties.cluster_id}return j}_appendLeaves(N,j,q,re,ae){const xe=this.getChildren(j);for(const me of xe){const ue=me.properties;if(ue&&ue.cluster?ae+ue.point_count<=re?ae+=ue.point_count:ae=this._appendLeaves(N,ue.cluster_id,q,re,ae):ae<re?ae++:N.push(me),N.length===q)break}return ae}_createTree(N){const j=new u.av(N.length/this.stride|0,this.options.nodeSize,Float32Array);for(let q=0;q<N.length;q+=this.stride)j.add(N[q],N[q+1]);return j.finish(),j.data=N,j}_addTileFeatures(N,j,q,re,ae,xe){for(const me of N){const ue=me*this.stride,ye=j[ue+Pt]>1;let De,ze,$e;if(ye)De=er(j,ue,this.clusterProps),ze=j[ue],$e=j[ue+1];else{const ft=this.points[j[ue+ut]];De=ft.properties;const[St,It]=ft.geometry.coordinates;ze=tr(St),$e=Nn(It)}const pt={type:1,geometry:[[Math.round(this.options.extent*(ze*ae-q)),Math.round(this.options.extent*($e*ae-re))]],tags:De};let At;At=ye||this.options.generateId?j[ue+ut]:this.points[j[ue+ut]].id,At!==void 0&&(pt.id=At),xe.features.push(pt)}}_limitZoom(N){return Math.max(this.options.minZoom,Math.min(Math.floor(+N),this.options.maxZoom+1))}_cluster(N,j){const{radius:q,extent:re,reduce:ae,minPoints:xe}=this.options,me=q/(re*Math.pow(2,j)),ue=N.data,ye=[],De=this.stride;for(let ze=0;ze<ue.length;ze+=De){if(ue[ze+2]<=j)continue;ue[ze+2]=j;const $e=ue[ze],pt=ue[ze+1],At=N.within(ue[ze],ue[ze+1],me),ft=ue[ze+Pt];let St=ft;for(const It of At){const rn=It*De;ue[rn+2]>j&&(St+=ue[rn+Pt])}if(St>ft&&St>=xe){let It,rn=$e*ft,dn=pt*ft,Gt=-1;const Ht=((ze/De|0)<<5)+(j+1)+this.points.length;for(const kr of At){const fn=kr*De;if(ue[fn+2]<=j)continue;ue[fn+2]=j;const Xn=ue[fn+Pt];rn+=ue[fn]*Xn,dn+=ue[fn+1]*Xn,ue[fn+4]=Ht,ae&&(It||(It=this._map(ue,ze,!0),Gt=this.clusterProps.length,this.clusterProps.push(It)),ae(It,this._map(ue,fn)))}ue[ze+4]=Ht,ye.push(rn/St,dn/St,1/0,Ht,-1,St),ae&&ye.push(Gt)}else{for(let It=0;It<De;It++)ye.push(ue[ze+It]);if(St>1)for(const It of At){const rn=It*De;if(!(ue[rn+2]<=j)){ue[rn+2]=j;for(let dn=0;dn<De;dn++)ye.push(ue[rn+dn])}}}}return ye}_getOriginId(N){return N-this.points.length>>5}_getOriginZoom(N){return(N-this.points.length)%32}_map(N,j,q){if(N[j+Pt]>1){const xe=this.clusterProps[N[j+Xt]];return q?Object.assign({},xe):xe}const re=this.points[N[j+ut]].properties,ae=this.options.map(re);return q&&ae===re?Object.assign({},ae):ae}}function ln(ie,N,j){return{type:"Feature",id:ie[N+ut],properties:er(ie,N,j),geometry:{type:"Point",coordinates:[(q=ie[N],360*(q-.5)),nr(ie[N+1])]}};var q}function er(ie,N,j){const q=ie[N+Pt],re=q>=1e4?`${Math.round(q/1e3)}k`:q>=1e3?Math.round(q/100)/10+"k":q,ae=ie[N+Xt],xe=ae===-1?{}:Object.assign({},j[ae]);return Object.assign(xe,{cluster:!0,cluster_id:ie[N+ut],point_count:q,point_count_abbreviated:re})}function tr(ie){return ie/360+.5}function Nn(ie){const N=Math.sin(ie*Math.PI/180),j=.5-.25*Math.log((1+N)/(1-N))/Math.PI;return j<0?0:j>1?1:j}function nr(ie){const N=(180-360*ie)*Math.PI/180;return 360*Math.atan(Math.exp(N))/Math.PI-90}function Mr(ie,N,j,q){for(var re,ae=q,xe=j-N>>1,me=j-N,ue=ie[N],ye=ie[N+1],De=ie[j],ze=ie[j+1],$e=N+3;$e<j;$e+=3){var pt=nn(ie[$e],ie[$e+1],ue,ye,De,ze);if(pt>ae)re=$e,ae=pt;else if(pt===ae){var At=Math.abs($e-xe);At<me&&(re=$e,me=At)}}ae>q&&(re-N>3&&Mr(ie,N,re,q),ie[re+2]=ae,j-re>3&&Mr(ie,re,j,q))}function nn(ie,N,j,q,re,ae){var xe=re-j,me=ae-q;if(xe!==0||me!==0){var ue=((ie-j)*xe+(N-q)*me)/(xe*xe+me*me);ue>1?(j=re,q=ae):ue>0&&(j+=xe*ue,q+=me*ue)}return(xe=ie-j)*xe+(me=N-q)*me}function Kn(ie,N,j,q){var re={id:ie===void 0?null:ie,type:N,geometry:j,tags:q,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ae){var xe=ae.geometry,me=ae.type;if(me==="Point"||me==="MultiPoint"||me==="LineString")rr(ae,xe);else if(me==="Polygon"||me==="MultiLineString")for(var ue=0;ue<xe.length;ue++)rr(ae,xe[ue]);else if(me==="MultiPolygon")for(ue=0;ue<xe.length;ue++)for(var ye=0;ye<xe[ue].length;ye++)rr(ae,xe[ue][ye])}(re),re}function rr(ie,N){for(var j=0;j<N.length;j+=3)ie.minX=Math.min(ie.minX,N[j]),ie.minY=Math.min(ie.minY,N[j+1]),ie.maxX=Math.max(ie.maxX,N[j]),ie.maxY=Math.max(ie.maxY,N[j+1])}function ai(ie,N,j,q){if(N.geometry){var re=N.geometry.coordinates,ae=N.geometry.type,xe=Math.pow(j.tolerance/((1<<j.maxZoom)*j.extent),2),me=[],ue=N.id;if(j.promoteId?ue=N.properties[j.promoteId]:j.generateId&&(ue=q||0),ae==="Point")Er(re,me);else if(ae==="MultiPoint")for(var ye=0;ye<re.length;ye++)Er(re[ye],me);else if(ae==="LineString")gr(re,me,xe,!1);else if(ae==="MultiLineString"){if(j.lineMetrics){for(ye=0;ye<re.length;ye++)gr(re[ye],me=[],xe,!1),ie.push(Kn(ue,"LineString",me,N.properties));return}pn(re,me,xe,!1)}else if(ae==="Polygon")pn(re,me,xe,!0);else{if(ae!=="MultiPolygon"){if(ae==="GeometryCollection"){for(ye=0;ye<N.geometry.geometries.length;ye++)ai(ie,{id:ue,geometry:N.geometry.geometries[ye],properties:N.properties},j,q);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ye=0;ye<re.length;ye++){var De=[];pn(re[ye],De,xe,!0),me.push(De)}}ie.push(Kn(ue,ae,me,N.properties))}}function Er(ie,N){N.push(ke(ie[0])),N.push(Rt(ie[1])),N.push(0)}function gr(ie,N,j,q){for(var re,ae,xe=0,me=0;me<ie.length;me++){var ue=ke(ie[me][0]),ye=Rt(ie[me][1]);N.push(ue),N.push(ye),N.push(0),me>0&&(xe+=q?(re*ye-ue*ae)/2:Math.sqrt(Math.pow(ue-re,2)+Math.pow(ye-ae,2))),re=ue,ae=ye}var De=N.length-3;N[2]=1,Mr(N,0,De,j),N[De+2]=1,N.size=Math.abs(xe),N.start=0,N.end=N.size}function pn(ie,N,j,q){for(var re=0;re<ie.length;re++){var ae=[];gr(ie[re],ae,j,q),N.push(ae)}}function ke(ie){return ie/360+.5}function Rt(ie){var N=Math.sin(ie*Math.PI/180),j=.5-.25*Math.log((1+N)/(1-N))/Math.PI;return j<0?0:j>1?1:j}function Kt(ie,N,j,q,re,ae,xe,me){if(q/=N,ae>=(j/=N)&&xe<q)return ie;if(xe<j||ae>=q)return null;for(var ue=[],ye=0;ye<ie.length;ye++){var De=ie[ye],ze=De.geometry,$e=De.type,pt=re===0?De.minX:De.minY,At=re===0?De.maxX:De.maxY;if(pt>=j&&At<q)ue.push(De);else if(!(At<j||pt>=q)){var ft=[];if($e==="Point"||$e==="MultiPoint")Ot(ze,ft,j,q,re);else if($e==="LineString")Zt(ze,ft,j,q,re,!1,me.lineMetrics);else if($e==="MultiLineString")na(ze,ft,j,q,re,!1);else if($e==="Polygon")na(ze,ft,j,q,re,!0);else if($e==="MultiPolygon")for(var St=0;St<ze.length;St++){var It=[];na(ze[St],It,j,q,re,!0),It.length&&ft.push(It)}if(ft.length){if(me.lineMetrics&&$e==="LineString"){for(St=0;St<ft.length;St++)ue.push(Kn(De.id,$e,ft[St],De.tags));continue}$e!=="LineString"&&$e!=="MultiLineString"||(ft.length===1?($e="LineString",ft=ft[0]):$e="MultiLineString"),$e!=="Point"&&$e!=="MultiPoint"||($e=ft.length===3?"Point":"MultiPoint"),ue.push(Kn(De.id,$e,ft,De.tags))}}}return ue.length?ue:null}function Ot(ie,N,j,q,re){for(var ae=0;ae<ie.length;ae+=3){var xe=ie[ae+re];xe>=j&&xe<=q&&(N.push(ie[ae]),N.push(ie[ae+1]),N.push(ie[ae+2]))}}function Zt(ie,N,j,q,re,ae,xe){for(var me,ue,ye=Ci(ie),De=re===0?Ya:ra,ze=ie.start,$e=0;$e<ie.length-3;$e+=3){var pt=ie[$e],At=ie[$e+1],ft=ie[$e+2],St=ie[$e+3],It=ie[$e+4],rn=re===0?pt:At,dn=re===0?St:It,Gt=!1;xe&&(me=Math.sqrt(Math.pow(pt-St,2)+Math.pow(At-It,2))),rn<j?dn>j&&(ue=De(ye,pt,At,St,It,j),xe&&(ye.start=ze+me*ue)):rn>q?dn<q&&(ue=De(ye,pt,At,St,It,q),xe&&(ye.start=ze+me*ue)):Vi(ye,pt,At,ft),dn<j&&rn>=j&&(ue=De(ye,pt,At,St,It,j),Gt=!0),dn>q&&rn<=q&&(ue=De(ye,pt,At,St,It,q),Gt=!0),!ae&&Gt&&(xe&&(ye.end=ze+me*ue),N.push(ye),ye=Ci(ie)),xe&&(ze+=me)}var Ht=ie.length-3;pt=ie[Ht],At=ie[Ht+1],ft=ie[Ht+2],(rn=re===0?pt:At)>=j&&rn<=q&&Vi(ye,pt,At,ft),Ht=ye.length-3,ae&&Ht>=3&&(ye[Ht]!==ye[0]||ye[Ht+1]!==ye[1])&&Vi(ye,ye[0],ye[1],ye[2]),ye.length&&N.push(ye)}function Ci(ie){var N=[];return N.size=ie.size,N.start=ie.start,N.end=ie.end,N}function na(ie,N,j,q,re,ae){for(var xe=0;xe<ie.length;xe++)Zt(ie[xe],N,j,q,re,ae,!1)}function Vi(ie,N,j,q){ie.push(N),ie.push(j),ie.push(q)}function Ya(ie,N,j,q,re,ae){var xe=(ae-N)/(q-N);return ie.push(ae),ie.push(j+(re-j)*xe),ie.push(1),xe}function ra(ie,N,j,q,re,ae){var xe=(ae-j)/(re-j);return ie.push(N+(q-N)*xe),ie.push(ae),ie.push(1),xe}function uo(ie,N){for(var j=[],q=0;q<ie.length;q++){var re,ae=ie[q],xe=ae.type;if(xe==="Point"||xe==="MultiPoint"||xe==="LineString")re=Io(ae.geometry,N);else if(xe==="MultiLineString"||xe==="Polygon"){re=[];for(var me=0;me<ae.geometry.length;me++)re.push(Io(ae.geometry[me],N))}else if(xe==="MultiPolygon")for(re=[],me=0;me<ae.geometry.length;me++){for(var ue=[],ye=0;ye<ae.geometry[me].length;ye++)ue.push(Io(ae.geometry[me][ye],N));re.push(ue)}j.push(Kn(ae.id,xe,re,ae.tags))}return j}function Io(ie,N){var j=[];j.size=ie.size,ie.start!==void 0&&(j.start=ie.start,j.end=ie.end);for(var q=0;q<ie.length;q+=3)j.push(ie[q]+N,ie[q+1],ie[q+2]);return j}function Ye(ie,N){if(ie.transformed)return ie;var j,q,re,ae=1<<ie.z,xe=ie.x,me=ie.y;for(j=0;j<ie.features.length;j++){var ue=ie.features[j],ye=ue.geometry,De=ue.type;if(ue.geometry=[],De===1)for(q=0;q<ye.length;q+=2)ue.geometry.push(Mi(ye[q],ye[q+1],N,ae,xe,me));else for(q=0;q<ye.length;q++){var ze=[];for(re=0;re<ye[q].length;re+=2)ze.push(Mi(ye[q][re],ye[q][re+1],N,ae,xe,me));ue.geometry.push(ze)}}return ie.transformed=!0,ie}function Mi(ie,N,j,q,re,ae){return[Math.round(j*(ie*q-re)),Math.round(j*(N*q-ae))]}function Cn(ie,N,j,q,re){for(var ae=N===re.maxZoom?0:re.tolerance/((1<<N)*re.extent),xe={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:j,y:q,z:N,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},me=0;me<ie.length;me++){xe.numFeatures++,si(xe,ie[me],ae,re);var ue=ie[me].minX,ye=ie[me].minY,De=ie[me].maxX,ze=ie[me].maxY;ue<xe.minX&&(xe.minX=ue),ye<xe.minY&&(xe.minY=ye),De>xe.maxX&&(xe.maxX=De),ze>xe.maxY&&(xe.maxY=ze)}return xe}function si(ie,N,j,q){var re=N.geometry,ae=N.type,xe=[];if(ae==="Point"||ae==="MultiPoint")for(var me=0;me<re.length;me+=3)xe.push(re[me]),xe.push(re[me+1]),ie.numPoints++,ie.numSimplified++;else if(ae==="LineString")Fr(xe,re,ie,j,!1,!1);else if(ae==="MultiLineString"||ae==="Polygon")for(me=0;me<re.length;me++)Fr(xe,re[me],ie,j,ae==="Polygon",me===0);else if(ae==="MultiPolygon")for(var ue=0;ue<re.length;ue++){var ye=re[ue];for(me=0;me<ye.length;me++)Fr(xe,ye[me],ie,j,!0,me===0)}if(xe.length){var De=N.tags||null;if(ae==="LineString"&&q.lineMetrics){for(var ze in De={},N.tags)De[ze]=N.tags[ze];De.mapbox_clip_start=re.start/re.size,De.mapbox_clip_end=re.end/re.size}var $e={geometry:xe,type:ae==="Polygon"||ae==="MultiPolygon"?3:ae==="LineString"||ae==="MultiLineString"?2:1,tags:De};N.id!==null&&($e.id=N.id),ie.features.push($e)}}function Fr(ie,N,j,q,re,ae){var xe=q*q;if(q>0&&N.size<(re?xe:q))j.numPoints+=N.length/3;else{for(var me=[],ue=0;ue<N.length;ue+=3)(q===0||N[ue+2]>xe)&&(j.numSimplified++,me.push(N[ue]),me.push(N[ue+1])),j.numPoints++;re&&function(ye,De){for(var ze=0,$e=0,pt=ye.length,At=pt-2;$e<pt;At=$e,$e+=2)ze+=(ye[$e]-ye[At])*(ye[$e+1]+ye[At+1]);if(ze>0===De)for($e=0,pt=ye.length;$e<pt/2;$e+=2){var ft=ye[$e],St=ye[$e+1];ye[$e]=ye[pt-2-$e],ye[$e+1]=ye[pt-1-$e],ye[pt-2-$e]=ft,ye[pt-1-$e]=St}}(me,ae),ie.push(me)}}function Qe(ie,N){var j=(N=this.options=function(re,ae){for(var xe in ae)re[xe]=ae[xe];return re}(Object.create(this.options),N)).debug;if(j&&console.time("preprocess data"),N.maxZoom<0||N.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(N.promoteId&&N.generateId)throw new Error("promoteId and generateId cannot be used together.");var q=function(re,ae){var xe=[];if(re.type==="FeatureCollection")for(var me=0;me<re.features.length;me++)ai(xe,re.features[me],ae,me);else ai(xe,re.type==="Feature"?re:{geometry:re},ae);return xe}(ie,N);this.tiles={},this.tileCoords=[],j&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",N.indexMaxZoom,N.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),q=function(re,ae){var xe=ae.buffer/ae.extent,me=re,ue=Kt(re,1,-1-xe,xe,0,-1,2,ae),ye=Kt(re,1,1-xe,2+xe,0,-1,2,ae);return(ue||ye)&&(me=Kt(re,1,-xe,1+xe,0,-1,2,ae)||[],ue&&(me=uo(ue,1).concat(me)),ye&&(me=me.concat(uo(ye,-1)))),me}(q,N),q.length&&this.splitTile(q,0,0,0),j&&(q.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Lt(ie,N,j){return 32*((1<<ie)*j+N)+ie}function kt(ie,N){return N?ie.properties[N]:ie.id}function On(ie,N){if(ie==null)return!0;if(ie.type==="Feature")return kt(ie,N)!=null;if(ie.type==="FeatureCollection"){const j=new Set;for(const q of ie.features){const re=kt(q,N);if(re==null||j.has(re))return!1;j.add(re)}return!0}return!1}function Ei(ie,N){const j=new Map;if(ie!=null)if(ie.type==="Feature")j.set(kt(ie,N),ie);else for(const q of ie.features)j.set(kt(q,N),q);return j}Qe.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Qe.prototype.splitTile=function(ie,N,j,q,re,ae,xe){for(var me=[ie,N,j,q],ue=this.options,ye=ue.debug;me.length;){q=me.pop(),j=me.pop(),N=me.pop(),ie=me.pop();var De=1<<N,ze=Lt(N,j,q),$e=this.tiles[ze];if(!$e&&(ye>1&&console.time("creation"),$e=this.tiles[ze]=Cn(ie,N,j,q,ue),this.tileCoords.push({z:N,x:j,y:q}),ye)){ye>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",N,j,q,$e.numFeatures,$e.numPoints,$e.numSimplified),console.timeEnd("creation"));var pt="z"+N;this.stats[pt]=(this.stats[pt]||0)+1,this.total++}if($e.source=ie,re){if(N===ue.maxZoom||N===re)continue;var At=1<<re-N;if(j!==Math.floor(ae/At)||q!==Math.floor(xe/At))continue}else if(N===ue.indexMaxZoom||$e.numPoints<=ue.indexMaxPoints)continue;if($e.source=null,ie.length!==0){ye>1&&console.time("clipping");var ft,St,It,rn,dn,Gt,Ht=.5*ue.buffer/ue.extent,kr=.5-Ht,fn=.5+Ht,Xn=1+Ht;ft=St=It=rn=null,dn=Kt(ie,De,j-Ht,j+fn,0,$e.minX,$e.maxX,ue),Gt=Kt(ie,De,j+kr,j+Xn,0,$e.minX,$e.maxX,ue),ie=null,dn&&(ft=Kt(dn,De,q-Ht,q+fn,1,$e.minY,$e.maxY,ue),St=Kt(dn,De,q+kr,q+Xn,1,$e.minY,$e.maxY,ue),dn=null),Gt&&(It=Kt(Gt,De,q-Ht,q+fn,1,$e.minY,$e.maxY,ue),rn=Kt(Gt,De,q+kr,q+Xn,1,$e.minY,$e.maxY,ue),Gt=null),ye>1&&console.timeEnd("clipping"),me.push(ft||[],N+1,2*j,2*q),me.push(St||[],N+1,2*j,2*q+1),me.push(It||[],N+1,2*j+1,2*q),me.push(rn||[],N+1,2*j+1,2*q+1)}}},Qe.prototype.getTile=function(ie,N,j){var q=this.options,re=q.extent,ae=q.debug;if(ie<0||ie>24)return null;var xe=1<<ie,me=Lt(ie,N=(N%xe+xe)%xe,j);if(this.tiles[me])return Ye(this.tiles[me],re);ae>1&&console.log("drilling down to z%d-%d-%d",ie,N,j);for(var ue,ye=ie,De=N,ze=j;!ue&&ye>0;)ye--,De=Math.floor(De/2),ze=Math.floor(ze/2),ue=this.tiles[Lt(ye,De,ze)];return ue&&ue.source?(ae>1&&console.log("found parent tile z%d-%d-%d",ye,De,ze),ae>1&&console.time("drilling down"),this.splitTile(ue.source,ye,De,ze,ie,N,j),ae>1&&console.timeEnd("drilling down"),this.tiles[me]?Ye(this.tiles[me],re):null):null};class xt extends J{constructor(N,j,q,re){super(N,j,q),this._dataUpdateable=new Map,this.loadGeoJSON=(ae,xe)=>{const{promoteId:me}=ae;if(ae.request)return u.f(ae.request,(ue,ye,De,ze)=>{this._dataUpdateable=On(ye,me)?Ei(ye,me):void 0,xe(ue,ye,De,ze)});if(typeof ae.data=="string")try{const ue=JSON.parse(ae.data);this._dataUpdateable=On(ue,me)?Ei(ue,me):void 0,xe(null,ue)}catch{xe(new Error(`Input data given to '${ae.source}' is not a valid GeoJSON object.`))}else ae.dataDiff?this._dataUpdateable?(function(ue,ye,De){var ze,$e,pt,At;if(ye.removeAll&&ue.clear(),ye.remove)for(const ft of ye.remove)ue.delete(ft);if(ye.add)for(const ft of ye.add){const St=kt(ft,De);St!=null&&ue.set(St,ft)}if(ye.update)for(const ft of ye.update){let St=ue.get(ft.id);if(St==null)continue;const It=!ft.removeAllProperties&&(((ze=ft.removeProperties)===null||ze===void 0?void 0:ze.length)>0||(($e=ft.addOrUpdateProperties)===null||$e===void 0?void 0:$e.length)>0);if((ft.newGeometry||ft.removeAllProperties||It)&&(St=Object.assign({},St),ue.set(ft.id,St),It&&(St.properties=Object.assign({},St.properties))),ft.newGeometry&&(St.geometry=ft.newGeometry),ft.removeAllProperties)St.properties={};else if(((pt=ft.removeProperties)===null||pt===void 0?void 0:pt.length)>0)for(const rn of ft.removeProperties)Object.prototype.hasOwnProperty.call(St.properties,rn)&&delete St.properties[rn];if(((At=ft.addOrUpdateProperties)===null||At===void 0?void 0:At.length)>0)for(const{key:rn,value:dn}of ft.addOrUpdateProperties)St.properties[rn]=dn}}(this._dataUpdateable,ae.dataDiff,me),xe(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):xe(new Error(`Cannot update existing geojson data in ${ae.source}`)):xe(new Error(`Input data given to '${ae.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},this.loadVectorData=this.loadGeoJSONTile,re&&(this.loadGeoJSON=re)}loadGeoJSONTile(N,j){const q=N.tileID.canonical;if(!this._geoJSONIndex)return j(null,null);const re=this._geoJSONIndex.getTile(q.z,q.x,q.y);if(!re)return j(null,null);const ae=new class{constructor(me){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=u.N,this.length=me.length,this._features=me}feature(me){return new class{constructor(ue){this._feature=ue,this.extent=u.N,this.type=ue.type,this.properties=ue.tags,"id"in ue&&!isNaN(ue.id)&&(this.id=parseInt(ue.id,10))}loadGeometry(){if(this._feature.type===1){const ue=[];for(const ye of this._feature.geometry)ue.push([new u.P(ye[0],ye[1])]);return ue}{const ue=[];for(const ye of this._feature.geometry){const De=[];for(const ze of ye)De.push(new u.P(ze[0],ze[1]));ue.push(De)}return ue}}toGeoJSON(ue,ye,De){return B.call(this,ue,ye,De)}}(this._features[me])}}(re.features);let xe=Re(ae);xe.byteOffset===0&&xe.byteLength===xe.buffer.byteLength||(xe=new Uint8Array(xe)),j(null,{vectorTile:ae,rawData:xe.buffer})}loadData(N,j){var q;(q=this._pendingRequest)===null||q===void 0||q.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const re=!!(N&&N.request&&N.request.collectResourceTiming)&&new u.bt(N.request);this._pendingCallback=j,this._pendingRequest=this.loadGeoJSON(N,(ae,xe)=>{if(delete this._pendingCallback,delete this._pendingRequest,ae||!xe)return j(ae);if(typeof xe!="object")return j(new Error(`Input data given to '${N.source}' is not a valid GeoJSON object.`));{O(xe,!0);try{if(N.filter){const ue=u.bB(N.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ue.result==="error")throw new Error(ue.value.map(De=>`${De.key}: ${De.message}`).join(", "));xe={type:"FeatureCollection",features:xe.features.filter(De=>ue.value.evaluate({zoom:0},De))}}this._geoJSONIndex=N.cluster?new qt(function({superclusterOptions:ue,clusterProperties:ye}){if(!ye||!ue)return ue;const De={},ze={},$e={accumulated:null,zoom:0},pt={properties:null},At=Object.keys(ye);for(const ft of At){const[St,It]=ye[ft],rn=u.bB(It),dn=u.bB(typeof St=="string"?[St,["accumulated"],["get",ft]]:St);De[ft]=rn.value,ze[ft]=dn.value}return ue.map=ft=>{pt.properties=ft;const St={};for(const It of At)St[It]=De[It].evaluate($e,pt);return St},ue.reduce=(ft,St)=>{pt.properties=St;for(const It of At)$e.accumulated=ft[It],ft[It]=ze[It].evaluate($e,pt)},ue}(N)).load(xe.features):function(ue,ye){return new Qe(ue,ye)}(xe,N.geojsonVtOptions)}catch(ue){return j(ue)}this.loaded={};const me={};if(re){const ue=re.finish();ue&&(me.resourceTiming={},me.resourceTiming[N.source]=JSON.parse(JSON.stringify(ue)))}j(null,me)}})}reloadTile(N,j){const q=this.loaded;return q&&q[N.uid]?super.reloadTile(N,j):this.loadTile(N,j)}removeSource(N,j){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),j()}getClusterExpansionZoom(N,j){try{j(null,this._geoJSONIndex.getClusterExpansionZoom(N.clusterId))}catch(q){j(q)}}getClusterChildren(N,j){try{j(null,this._geoJSONIndex.getChildren(N.clusterId))}catch(q){j(q)}}getClusterLeaves(N,j){try{j(null,this._geoJSONIndex.getLeaves(N.clusterId,N.limit,N.offset))}catch(q){j(q)}}}class ki{constructor(N){this.self=N,this.actor=new u.C(N,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:J,geojson:xt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(j,q)=>{if(this.workerSourceTypes[j])throw new Error(`Worker source with name "${j}" already registered.`);this.workerSourceTypes[j]=q},this.self.registerRTLTextPlugin=j=>{if(u.bC.isParsed())throw new Error("RTL text plugin already registered.");u.bC.applyArabicShaping=j.applyArabicShaping,u.bC.processBidirectionalText=j.processBidirectionalText,u.bC.processStyledBidirectionalText=j.processStyledBidirectionalText}}setReferrer(N,j){this.referrer=j}setImages(N,j,q){this.availableImages[N]=j;for(const re in this.workerSources[N]){const ae=this.workerSources[N][re];for(const xe in ae)ae[xe].availableImages=j}q()}setLayers(N,j,q){this.getLayerIndex(N).replace(j),q()}updateLayers(N,j,q){this.getLayerIndex(N).update(j.layers,j.removedIds),q()}loadTile(N,j,q){this.getWorkerSource(N,j.type,j.source).loadTile(j,q)}loadDEMTile(N,j,q){this.getDEMWorkerSource(N,j.source).loadTile(j,q)}reloadTile(N,j,q){this.getWorkerSource(N,j.type,j.source).reloadTile(j,q)}abortTile(N,j,q){this.getWorkerSource(N,j.type,j.source).abortTile(j,q)}removeTile(N,j,q){this.getWorkerSource(N,j.type,j.source).removeTile(j,q)}removeDEMTile(N,j){this.getDEMWorkerSource(N,j.source).removeTile(j)}removeSource(N,j,q){if(!this.workerSources[N]||!this.workerSources[N][j.type]||!this.workerSources[N][j.type][j.source])return;const re=this.workerSources[N][j.type][j.source];delete this.workerSources[N][j.type][j.source],re.removeSource!==void 0?re.removeSource(j,q):q()}loadWorkerSource(N,j,q){try{this.self.importScripts(j.url),q()}catch(re){q(re.toString())}}syncRTLPluginState(N,j,q){try{u.bC.setState(j);const re=u.bC.getPluginURL();if(u.bC.isLoaded()&&!u.bC.isParsed()&&re!=null){this.self.importScripts(re);const ae=u.bC.isParsed();q(ae?void 0:new Error(`RTL Text Plugin failed to import scripts from ${re}`),ae)}}catch(re){q(re.toString())}}getAvailableImages(N){let j=this.availableImages[N];return j||(j=[]),j}getLayerIndex(N){let j=this.layerIndexes[N];return j||(j=this.layerIndexes[N]=new M),j}getWorkerSource(N,j,q){return this.workerSources[N]||(this.workerSources[N]={}),this.workerSources[N][j]||(this.workerSources[N][j]={}),this.workerSources[N][j][q]||(this.workerSources[N][j][q]=new this.workerSourceTypes[j]({send:(re,ae,xe)=>{this.actor.send(re,ae,xe,N)}},this.getLayerIndex(N),this.getAvailableImages(N))),this.workerSources[N][j][q]}getDEMWorkerSource(N,j){return this.demWorkerSources[N]||(this.demWorkerSources[N]={}),this.demWorkerSources[N][j]||(this.demWorkerSources[N][j]=new X),this.demWorkerSources[N][j]}}return u.i()&&(self.worker=new ki(self)),ki}),p(["./shared"],function(u){var M="3.6.1";class S{static testProp(r){if(!S.docStyle)return r[0];for(let c=0;c<r.length;c++)if(r[c]in S.docStyle)return r[c];return r[0]}static create(r,c,h){const m=window.document.createElement(r);return c!==void 0&&(m.className=c),h&&h.appendChild(m),m}static createNS(r,c){return window.document.createElementNS(r,c)}static disableDrag(){S.docStyle&&S.selectProp&&(S.userSelect=S.docStyle[S.selectProp],S.docStyle[S.selectProp]="none")}static enableDrag(){S.docStyle&&S.selectProp&&(S.docStyle[S.selectProp]=S.userSelect)}static setTransform(r,c){r.style[S.transformProp]=c}static addEventListener(r,c,h,m={}){r.addEventListener(c,h,"passive"in m?m:m.capture)}static removeEventListener(r,c,h,m={}){r.removeEventListener(c,h,"passive"in m?m:m.capture)}static suppressClickInternal(r){r.preventDefault(),r.stopPropagation(),window.removeEventListener("click",S.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",S.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",S.suppressClickInternal,!0)},0)}static mousePos(r,c){const h=r.getBoundingClientRect();return new u.P(c.clientX-h.left-r.clientLeft,c.clientY-h.top-r.clientTop)}static touchPos(r,c){const h=r.getBoundingClientRect(),m=[];for(let _=0;_<c.length;_++)m.push(new u.P(c[_].clientX-h.left-r.clientLeft,c[_].clientY-h.top-r.clientTop));return m}static mouseButton(r){return r.button}static remove(r){r.parentNode&&r.parentNode.removeChild(r)}}S.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,S.selectProp=S.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),S.transformProp=S.testProp(["transform","WebkitTransform"]);const P={supported:!1,testSupport:function(g){!J&&R&&(X?G(g):F=g)}};let F,R,J=!1,X=!1;function G(g){const r=g.createTexture();g.bindTexture(g.TEXTURE_2D,r);try{if(g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,R),g.isContextLost())return;P.supported=!0}catch{}g.deleteTexture(r),J=!0}var K,O;typeof document<"u"&&(R=document.createElement("img"),R.onload=function(){F&&G(F),F=null,X=!0},R.onerror=function(){J=!0,F=null},R.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(g){let r,c,h,m;g.resetRequestQueue=()=>{r=[],c=0,h=0,m={}},g.addThrottleControl=T=>{const L=h++;return m[L]=T,L},g.removeThrottleControl=T=>{delete m[T],C()},g.getImage=(T,L,D=!0)=>{P.supported&&(T.headers||(T.headers={}),T.headers.accept="image/webp,*/*");const W={requestParameters:T,supportImageRefresh:D,callback:L,cancelled:!1,completed:!1,cancel:()=>{W.completed||W.cancelled||(W.cancelled=!0,W.innerRequest&&(W.innerRequest.cancel(),c--),C())}};return r.push(W),C(),W};const _=T=>{const{requestParameters:L,supportImageRefresh:D,callback:W}=T;return u.e(L,{type:"image"}),(D!==!1||u.i()||u.g(L.url)||L.headers&&!Object.keys(L.headers).reduce((te,ee)=>te&&ee==="accept",!0)?u.m:k)(L,(te,ee,oe,Y)=>{w(T,W,te,ee,oe,Y)})},w=(T,L,D,W,te,ee)=>{D?L(D):W instanceof HTMLImageElement||u.a(W)?L(null,W):W&&((oe,Y)=>{typeof createImageBitmap=="function"?u.b(oe,Y):u.d(oe,Y)})(W,(oe,Y)=>{oe!=null?L(oe):Y!=null&&L(null,Y,{cacheControl:te,expires:ee})}),T.cancelled||(T.completed=!0,c--,C())},C=()=>{const T=(()=>{const L=Object.keys(m);let D=!1;if(L.length>0){for(const W of L)if(D=m[W](),D)break}return D})()?u.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:u.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let L=c;L<T&&r.length>0;L++){const D=r.shift();if(D.cancelled){L--;continue}const W=_(D);c++,D.innerRequest=W}},k=(T,L)=>{const D=new Image,W=T.url;let te=!1;const ee=T.credentials;return ee&&ee==="include"?D.crossOrigin="use-credentials":(ee&&ee==="same-origin"||!u.s(W))&&(D.crossOrigin="anonymous"),D.fetchPriority="high",D.onload=()=>{L(null,D),D.onerror=D.onload=null},D.onerror=()=>{te||L(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),D.onerror=D.onload=null},D.src=W,{cancel:()=>{te=!0,D.src=""}}}}(K||(K={})),K.resetRequestQueue(),function(g){g.Glyphs="Glyphs",g.Image="Image",g.Source="Source",g.SpriteImage="SpriteImage",g.SpriteJSON="SpriteJSON",g.Style="Style",g.Tile="Tile",g.Unknown="Unknown"}(O||(O={}));class B{constructor(r){this._transformRequestFn=r}transformRequest(r,c){return this._transformRequestFn&&this._transformRequestFn(r,c)||{url:r}}normalizeSpriteURL(r,c,h){const m=function(_){const w=_.match(V);if(!w)throw new Error(`Unable to parse URL "${_}"`);return{protocol:w[1],authority:w[2],path:w[3]||"/",params:w[4]?w[4].split("&"):[]}}(r);return m.path+=`${c}${h}`,function(_){const w=_.params.length?`?${_.params.join("&")}`:"";return`${_.protocol}://${_.authority}${_.path}${w}`}(m)}setTransformRequest(r){this._transformRequestFn=r}}const V=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ne(g){var r=new u.A(3);return r[0]=g[0],r[1]=g[1],r[2]=g[2],r}var he,pe=function(g,r,c){return g[0]=r[0]-c[0],g[1]=r[1]-c[1],g[2]=r[2]-c[2],g};he=new u.A(3),u.A!=Float32Array&&(he[0]=0,he[1]=0,he[2]=0);var de=function(g){var r=g[0],c=g[1];return r*r+c*c};function Se(g){const r=[];if(typeof g=="string")r.push({id:"default",url:g});else if(g&&g.length>0){const c=[];for(const{id:h,url:m}of g){const _=`${h}${m}`;c.indexOf(_)===-1&&(c.push(_),r.push({id:h,url:m}))}}return r}function Te(g,r,c,h,m){if(h)return void g(h);if(m!==Object.values(r).length||m!==Object.values(c).length)return;const _={};for(const w in r){_[w]={};const C=u.h.getImageCanvasContext(c[w]),k=r[w];for(const T in k){const{width:L,height:D,x:W,y:te,sdf:ee,pixelRatio:oe,stretchX:Y,stretchY:ge,content:Ce}=k[T];_[w][T]={data:null,pixelRatio:oe,sdf:ee,stretchX:Y,stretchY:ge,content:Ce,spriteData:{width:L,height:D,x:W,y:te,context:C}}}}g(null,_)}(function(){var g=new u.A(2);u.A!=Float32Array&&(g[0]=0,g[1]=0)})();class Me{constructor(r,c,h,m){this.context=r,this.format=h,this.texture=r.gl.createTexture(),this.update(c,m)}update(r,c,h){const{width:m,height:_}=r,w=!(this.size&&this.size[0]===m&&this.size[1]===_||h),{context:C}=this,{gl:k}=C;if(this.useMipmap=!!(c&&c.useMipmap),k.bindTexture(k.TEXTURE_2D,this.texture),C.pixelStoreUnpackFlipY.set(!1),C.pixelStoreUnpack.set(1),C.pixelStoreUnpackPremultiplyAlpha.set(this.format===k.RGBA&&(!c||c.premultiply!==!1)),w)this.size=[m,_],r instanceof HTMLImageElement||r instanceof HTMLCanvasElement||r instanceof HTMLVideoElement||r instanceof ImageData||u.a(r)?k.texImage2D(k.TEXTURE_2D,0,this.format,this.format,k.UNSIGNED_BYTE,r):k.texImage2D(k.TEXTURE_2D,0,this.format,m,_,0,this.format,k.UNSIGNED_BYTE,r.data);else{const{x:T,y:L}=h||{x:0,y:0};r instanceof HTMLImageElement||r instanceof HTMLCanvasElement||r instanceof HTMLVideoElement||r instanceof ImageData||u.a(r)?k.texSubImage2D(k.TEXTURE_2D,0,T,L,k.RGBA,k.UNSIGNED_BYTE,r):k.texSubImage2D(k.TEXTURE_2D,0,T,L,m,_,k.RGBA,k.UNSIGNED_BYTE,r.data)}this.useMipmap&&this.isSizePowerOfTwo()&&k.generateMipmap(k.TEXTURE_2D)}bind(r,c,h){const{context:m}=this,{gl:_}=m;_.bindTexture(_.TEXTURE_2D,this.texture),h!==_.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(h=_.LINEAR),r!==this.filter&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,r),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,h||r),this.filter=r),c!==this.wrap&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,c),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,c),this.wrap=c)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:r}=this.context;r.deleteTexture(this.texture),this.texture=null}}function Be(g){const{userImage:r}=g;return!!(r&&r.render&&r.render())&&(g.data.replace(new Uint8Array(r.data.buffer)),!0)}class He extends u.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new u.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(r){if(this.loaded!==r&&(this.loaded=r,r)){for(const{ids:c,callback:h}of this.requestors)this._notify(c,h);this.requestors=[]}}getImage(r){const c=this.images[r];if(c&&!c.data&&c.spriteData){const h=c.spriteData;c.data=new u.R({width:h.width,height:h.height},h.context.getImageData(h.x,h.y,h.width,h.height).data),c.spriteData=null}return c}addImage(r,c){if(this.images[r])throw new Error(`Image id ${r} already exist, use updateImage instead`);this._validate(r,c)&&(this.images[r]=c)}_validate(r,c){let h=!0;const m=c.data||c.spriteData;return this._validateStretch(c.stretchX,m&&m.width)||(this.fire(new u.j(new Error(`Image "${r}" has invalid "stretchX" value`))),h=!1),this._validateStretch(c.stretchY,m&&m.height)||(this.fire(new u.j(new Error(`Image "${r}" has invalid "stretchY" value`))),h=!1),this._validateContent(c.content,c)||(this.fire(new u.j(new Error(`Image "${r}" has invalid "content" value`))),h=!1),h}_validateStretch(r,c){if(!r)return!0;let h=0;for(const m of r){if(m[0]<h||m[1]<m[0]||c<m[1])return!1;h=m[1]}return!0}_validateContent(r,c){if(!r)return!0;if(r.length!==4)return!1;const h=c.spriteData,m=h&&h.width||c.data.width,_=h&&h.height||c.data.height;return!(r[0]<0||m<r[0]||r[1]<0||_<r[1]||r[2]<0||m<r[2]||r[3]<0||_<r[3]||r[2]<r[0]||r[3]<r[1])}updateImage(r,c,h=!0){const m=this.getImage(r);if(h&&(m.data.width!==c.data.width||m.data.height!==c.data.height))throw new Error(`size mismatch between old image (${m.data.width}x${m.data.height}) and new image (${c.data.width}x${c.data.height}).`);c.version=m.version+1,this.images[r]=c,this.updatedImages[r]=!0}removeImage(r){const c=this.images[r];delete this.images[r],delete this.patterns[r],c.userImage&&c.userImage.onRemove&&c.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(r,c){let h=!0;if(!this.isLoaded())for(const m of r)this.images[m]||(h=!1);this.isLoaded()||h?this._notify(r,c):this.requestors.push({ids:r,callback:c})}_notify(r,c){const h={};for(const m of r){let _=this.getImage(m);_||(this.fire(new u.k("styleimagemissing",{id:m})),_=this.getImage(m)),_?h[m]={data:_.data.clone(),pixelRatio:_.pixelRatio,sdf:_.sdf,version:_.version,stretchX:_.stretchX,stretchY:_.stretchY,content:_.content,hasRenderCallback:!!(_.userImage&&_.userImage.render)}:u.w(`Image "${m}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}c(null,h)}getPixelSize(){const{width:r,height:c}=this.atlasImage;return{width:r,height:c}}getPattern(r){const c=this.patterns[r],h=this.getImage(r);if(!h)return null;if(c&&c.position.version===h.version)return c.position;if(c)c.position.version=h.version;else{const m={w:h.data.width+2,h:h.data.height+2,x:0,y:0},_=new u.I(m,h);this.patterns[r]={bin:m,position:_}}return this._updatePatternAtlas(),this.patterns[r].position}bind(r){const c=r.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Me(r,this.atlasImage,c.RGBA),this.atlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE)}_updatePatternAtlas(){const r=[];for(const _ in this.patterns)r.push(this.patterns[_].bin);const{w:c,h}=u.p(r),m=this.atlasImage;m.resize({width:c||1,height:h||1});for(const _ in this.patterns){const{bin:w}=this.patterns[_],C=w.x+1,k=w.y+1,T=this.getImage(_).data,L=T.width,D=T.height;u.R.copy(T,m,{x:0,y:0},{x:C,y:k},{width:L,height:D}),u.R.copy(T,m,{x:0,y:D-1},{x:C,y:k-1},{width:L,height:1}),u.R.copy(T,m,{x:0,y:0},{x:C,y:k+D},{width:L,height:1}),u.R.copy(T,m,{x:L-1,y:0},{x:C-1,y:k},{width:1,height:D}),u.R.copy(T,m,{x:0,y:0},{x:C+L,y:k},{width:1,height:D})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(r){for(const c of r){if(this.callbackDispatchedThisFrame[c])continue;this.callbackDispatchedThisFrame[c]=!0;const h=this.getImage(c);h||u.w(`Image with ID: "${c}" was not found`),Be(h)&&this.updateImage(c,h)}}}const We=1e20;function qe(g,r,c,h,m,_,w,C,k){for(let T=r;T<r+h;T++)Je(g,c*_+T,_,m,w,C,k);for(let T=c;T<c+m;T++)Je(g,T*_+r,1,h,w,C,k)}function Je(g,r,c,h,m,_,w){_[0]=0,w[0]=-We,w[1]=We,m[0]=g[r];for(let C=1,k=0,T=0;C<h;C++){m[C]=g[r+C*c];const L=C*C;do{const D=_[k];T=(m[C]-m[D]+L-D*D)/(C-D)/2}while(T<=w[k]&&--k>-1);k++,_[k]=C,w[k]=T,w[k+1]=We}for(let C=0,k=0;C<h;C++){for(;w[k+1]<C;)k++;const T=_[k],L=C-T;g[r+C*c]=m[T]+L*L}}class Le{constructor(r,c){this.requestManager=r,this.localIdeographFontFamily=c,this.entries={}}setURL(r){this.url=r}getGlyphs(r,c){const h=[];for(const m in r)for(const _ of r[m])h.push({stack:m,id:_});u.o(h,({stack:m,id:_},w)=>{let C=this.entries[m];C||(C=this.entries[m]={glyphs:{},requests:{},ranges:{}});let k=C.glyphs[_];if(k!==void 0)return void w(null,{stack:m,id:_,glyph:k});if(k=this._tinySDF(C,m,_),k)return C.glyphs[_]=k,void w(null,{stack:m,id:_,glyph:k});const T=Math.floor(_/256);if(256*T>65535)return void w(new Error("glyphs > 65535 not supported"));if(C.ranges[T])return void w(null,{stack:m,id:_,glyph:k});if(!this.url)return void w(new Error("glyphsUrl is not set"));let L=C.requests[T];L||(L=C.requests[T]=[],Le.loadGlyphRange(m,T,this.url,this.requestManager,(D,W)=>{if(W){for(const te in W)this._doesCharSupportLocalGlyph(+te)||(C.glyphs[+te]=W[+te]);C.ranges[T]=!0}for(const te of L)te(D,W);delete C.requests[T]})),L.push((D,W)=>{D?w(D):W&&w(null,{stack:m,id:_,glyph:W[_]||null})})},(m,_)=>{if(m)c(m);else if(_){const w={};for(const{stack:C,id:k,glyph:T}of _)(w[C]||(w[C]={}))[k]=T&&{id:T.id,bitmap:T.bitmap.clone(),metrics:T.metrics};c(null,w)}})}_doesCharSupportLocalGlyph(r){return!!this.localIdeographFontFamily&&(u.u["CJK Unified Ideographs"](r)||u.u["Hangul Syllables"](r)||u.u.Hiragana(r)||u.u.Katakana(r))}_tinySDF(r,c,h){const m=this.localIdeographFontFamily;if(!m||!this._doesCharSupportLocalGlyph(h))return;let _=r.tinySDF;if(!_){let C="400";/bold/i.test(c)?C="900":/medium/i.test(c)?C="500":/light/i.test(c)&&(C="200"),_=r.tinySDF=new Le.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:m,fontWeight:C})}const w=_.draw(String.fromCharCode(h));return{id:h,bitmap:new u.q({width:w.width||60,height:w.height||60},w.data),metrics:{width:w.glyphWidth/2||24,height:w.glyphHeight/2||24,left:w.glyphLeft/2+.5||0,top:w.glyphTop/2-27.5||-8,advance:w.glyphAdvance/2||24,isDoubleResolution:!0}}}}Le.loadGlyphRange=function(g,r,c,h,m){const _=256*r,w=_+255,C=h.transformRequest(c.replace("{fontstack}",g).replace("{range}",`${_}-${w}`),O.Glyphs);u.l(C,(k,T)=>{if(k)m(k);else if(T){const L={};for(const D of u.n(T))L[D.id]=D;m(null,L)}})},Le.TinySDF=class{constructor({fontSize:g=24,buffer:r=3,radius:c=8,cutoff:h=.25,fontFamily:m="sans-serif",fontWeight:_="normal",fontStyle:w="normal"}={}){this.buffer=r,this.cutoff=h,this.radius=c;const C=this.size=g+4*r,k=this._createCanvas(C),T=this.ctx=k.getContext("2d",{willReadFrequently:!0});T.font=`${w} ${_} ${g}px ${m}`,T.textBaseline="alphabetic",T.textAlign="left",T.fillStyle="black",this.gridOuter=new Float64Array(C*C),this.gridInner=new Float64Array(C*C),this.f=new Float64Array(C),this.z=new Float64Array(C+1),this.v=new Uint16Array(C)}_createCanvas(g){const r=document.createElement("canvas");return r.width=r.height=g,r}draw(g){const{width:r,actualBoundingBoxAscent:c,actualBoundingBoxDescent:h,actualBoundingBoxLeft:m,actualBoundingBoxRight:_}=this.ctx.measureText(g),w=Math.ceil(c),C=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(_-m))),k=Math.min(this.size-this.buffer,w+Math.ceil(h)),T=C+2*this.buffer,L=k+2*this.buffer,D=Math.max(T*L,0),W=new Uint8ClampedArray(D),te={data:W,width:T,height:L,glyphWidth:C,glyphHeight:k,glyphTop:w,glyphLeft:0,glyphAdvance:r};if(C===0||k===0)return te;const{ctx:ee,buffer:oe,gridInner:Y,gridOuter:ge}=this;ee.clearRect(oe,oe,C,k),ee.fillText(g,oe,oe+w);const Ce=ee.getImageData(oe,oe,C,k);ge.fill(We,0,D),Y.fill(0,0,D);for(let le=0;le<k;le++)for(let ve=0;ve<C;ve++){const Ae=Ce.data[4*(le*C+ve)+3]/255;if(Ae===0)continue;const Pe=(le+oe)*T+ve+oe;if(Ae===1)ge[Pe]=0,Y[Pe]=We;else{const Ne=.5-Ae;ge[Pe]=Ne>0?Ne*Ne:0,Y[Pe]=Ne<0?Ne*Ne:0}}qe(ge,0,0,T,L,T,this.f,this.v,this.z),qe(Y,oe,oe,C,k,T,this.f,this.v,this.z);for(let le=0;le<D;le++){const ve=Math.sqrt(ge[le])-Math.sqrt(Y[le]);W[le]=Math.round(255-255*(ve/this.radius+this.cutoff))}return te}};class Ie{constructor(){this.specification=u.v.light.position}possiblyEvaluate(r,c){return u.z(r.expression.evaluate(c))}interpolate(r,c,h){return{x:u.B.number(r.x,c.x,h),y:u.B.number(r.y,c.y,h),z:u.B.number(r.z,c.z,h)}}}let we;class Re extends u.E{constructor(r){super(),we=we||new u.r({anchor:new u.D(u.v.light.anchor),position:new Ie,color:new u.D(u.v.light.color),intensity:new u.D(u.v.light.intensity)}),this._transitionable=new u.T(we),this.setLight(r),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(r,c={}){if(!this._validate(u.t,r,c))for(const h in r){const m=r[h];h.endsWith("-transition")?this._transitionable.setTransition(h.slice(0,-11),m):this._transitionable.setValue(h,m)}}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,c,h){return(!h||h.validate!==!1)&&u.x(this,r.call(u.y,u.e({value:c,style:{glyphs:!0,sprite:!0},styleSpec:u.v})))}}class Ve{constructor(r,c){this.width=r,this.height=c,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(r,c){const h=r.join(",")+String(c);return this.dashEntry[h]||(this.dashEntry[h]=this.addDash(r,c)),this.dashEntry[h]}getDashRanges(r,c,h){const m=[];let _=r.length%2==1?-r[r.length-1]*h:0,w=r[0]*h,C=!0;m.push({left:_,right:w,isDash:C,zeroLength:r[0]===0});let k=r[0];for(let T=1;T<r.length;T++){C=!C;const L=r[T];_=k*h,k+=L,w=k*h,m.push({left:_,right:w,isDash:C,zeroLength:L===0})}return m}addRoundDash(r,c,h){const m=c/2;for(let _=-h;_<=h;_++){const w=this.width*(this.nextRow+h+_);let C=0,k=r[C];for(let T=0;T<this.width;T++){T/k.right>1&&(k=r[++C]);const L=Math.abs(T-k.left),D=Math.abs(T-k.right),W=Math.min(L,D);let te;const ee=_/h*(m+1);if(k.isDash){const oe=m-Math.abs(ee);te=Math.sqrt(W*W+oe*oe)}else te=m-Math.sqrt(W*W+ee*ee);this.data[w+T]=Math.max(0,Math.min(255,te+128))}}}addRegularDash(r){for(let C=r.length-1;C>=0;--C){const k=r[C],T=r[C+1];k.zeroLength?r.splice(C,1):T&&T.isDash===k.isDash&&(T.left=k.left,r.splice(C,1))}const c=r[0],h=r[r.length-1];c.isDash===h.isDash&&(c.left=h.left-this.width,h.right=c.right+this.width);const m=this.width*this.nextRow;let _=0,w=r[_];for(let C=0;C<this.width;C++){C/w.right>1&&(w=r[++_]);const k=Math.abs(C-w.left),T=Math.abs(C-w.right),L=Math.min(k,T);this.data[m+C]=Math.max(0,Math.min(255,(w.isDash?L:-L)+128))}}addDash(r,c){const h=c?7:0,m=2*h+1;if(this.nextRow+m>this.height)return u.w("LineAtlas out of space"),null;let _=0;for(let C=0;C<r.length;C++)_+=r[C];if(_!==0){const C=this.width/_,k=this.getDashRanges(r,this.width,C);c?this.addRoundDash(k,C,h):this.addRegularDash(k)}const w={y:(this.nextRow+h+.5)/this.height,height:2*h/this.height,width:_};return this.nextRow+=m,this.dirty=!0,w}bind(r){const c=r.gl;this.texture?(c.bindTexture(c.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,c.texSubImage2D(c.TEXTURE_2D,0,0,0,this.width,this.height,c.ALPHA,c.UNSIGNED_BYTE,this.data))):(this.texture=c.createTexture(),c.bindTexture(c.TEXTURE_2D,this.texture),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texImage2D(c.TEXTURE_2D,0,c.ALPHA,this.width,this.height,0,c.ALPHA,c.UNSIGNED_BYTE,this.data))}}class Ze{constructor(r,c,h){this.workerPool=r,this.actors=[],this.currentActor=0,this.id=h;const m=this.workerPool.acquire(h);for(let _=0;_<m.length;_++){const w=new u.C(m[_],c,h);w.name=`Worker ${_}`,this.actors.push(w)}if(!this.actors.length)throw new Error("No actors found")}broadcast(r,c,h){u.o(this.actors,(m,_)=>{m.send(r,c,_)},h=h||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(r=!0){this.actors.forEach(c=>{c.remove()}),this.actors=[],r&&this.workerPool.release(this.id)}}function at(g,r,c){const h=function(m,_){if(m)return c(m);if(_){const w=u.F(u.e(_,g),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);_.vector_layers&&(w.vectorLayers=_.vector_layers,w.vectorLayerIds=w.vectorLayers.map(C=>C.id)),c(null,w)}};return g.url?u.f(r.transformRequest(g.url,O.Source),h):u.h.frame(()=>h(null,g))}class ut{constructor(r,c){r&&(c?this.setSouthWest(r).setNorthEast(c):Array.isArray(r)&&(r.length===4?this.setSouthWest([r[0],r[1]]).setNorthEast([r[2],r[3]]):this.setSouthWest(r[0]).setNorthEast(r[1])))}setNorthEast(r){return this._ne=r instanceof u.L?new u.L(r.lng,r.lat):u.L.convert(r),this}setSouthWest(r){return this._sw=r instanceof u.L?new u.L(r.lng,r.lat):u.L.convert(r),this}extend(r){const c=this._sw,h=this._ne;let m,_;if(r instanceof u.L)m=r,_=r;else{if(!(r instanceof ut))return Array.isArray(r)?r.length===4||r.every(Array.isArray)?this.extend(ut.convert(r)):this.extend(u.L.convert(r)):r&&("lng"in r||"lon"in r)&&"lat"in r?this.extend(u.L.convert(r)):this;if(m=r._sw,_=r._ne,!m||!_)return this}return c||h?(c.lng=Math.min(m.lng,c.lng),c.lat=Math.min(m.lat,c.lat),h.lng=Math.max(_.lng,h.lng),h.lat=Math.max(_.lat,h.lat)):(this._sw=new u.L(m.lng,m.lat),this._ne=new u.L(_.lng,_.lat)),this}getCenter(){return new u.L((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new u.L(this.getWest(),this.getNorth())}getSouthEast(){return new u.L(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(r){const{lng:c,lat:h}=u.L.convert(r);let m=this._sw.lng<=c&&c<=this._ne.lng;return this._sw.lng>this._ne.lng&&(m=this._sw.lng>=c&&c>=this._ne.lng),this._sw.lat<=h&&h<=this._ne.lat&&m}static convert(r){return r instanceof ut?r:r&&new ut(r)}static fromLngLat(r,c=0){const h=360*c/40075017,m=h/Math.cos(Math.PI/180*r.lat);return new ut(new u.L(r.lng-m,r.lat-h),new u.L(r.lng+m,r.lat+h))}}class Pt{constructor(r,c,h){this.bounds=ut.convert(this.validateBounds(r)),this.minzoom=c||0,this.maxzoom=h||24}validateBounds(r){return Array.isArray(r)&&r.length===4?[Math.max(-180,r[0]),Math.max(-90,r[1]),Math.min(180,r[2]),Math.min(90,r[3])]:[-180,-90,180,90]}contains(r){const c=Math.pow(2,r.z),h=Math.floor(u.G(this.bounds.getWest())*c),m=Math.floor(u.H(this.bounds.getNorth())*c),_=Math.ceil(u.G(this.bounds.getEast())*c),w=Math.ceil(u.H(this.bounds.getSouth())*c);return r.x>=h&&r.x<_&&r.y>=m&&r.y<w}}class Xt extends u.E{constructor(r,c,h,m){if(super(),this.load=()=>{this._loaded=!1,this.fire(new u.k("dataloading",{dataType:"source"})),this._tileJSONRequest=at(this._options,this.map._requestManager,(_,w)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),_?this.fire(new u.j(_)):w&&(u.e(this,w),w.bounds&&(this.tileBounds=new Pt(w.bounds,this.minzoom,this.maxzoom)),this.fire(new u.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new u.k("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>u.e({},this._options),this.id=r,this.dispatcher=h,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,u.e(this,u.F(c,["url","scheme","tileSize","promoteId"])),this._options=u.e({type:"vector"},c),this._collectResourceTiming=c.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(m)}loaded(){return this._loaded}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}onAdd(r){this.map=r,this.load()}setSourceProperty(r){this._tileJSONRequest&&this._tileJSONRequest.cancel(),r(),this.load()}setTiles(r){return this.setSourceProperty(()=>{this._options.tiles=r}),this}setUrl(r){return this.setSourceProperty(()=>{this.url=r,this._options.url=r}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(r,c){const h=r.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),m={request:this.map._requestManager.transformRequest(h,O.Tile),uid:r.uid,tileID:r.tileID,zoom:r.tileID.overscaledZ,tileSize:this.tileSize*r.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function _(w,C){return delete r.request,r.aborted?c(null):w&&w.status!==404?c(w):(C&&C.resourceTiming&&(r.resourceTiming=C.resourceTiming),this.map._refreshExpiredTiles&&C&&r.setExpiryData(C),r.loadVectorData(C,this.map.painter),c(null),void(r.reloadCallback&&(this.loadTile(r,r.reloadCallback),r.reloadCallback=null)))}m.request.collectResourceTiming=this._collectResourceTiming,r.actor&&r.state!=="expired"?r.state==="loading"?r.reloadCallback=c:r.request=r.actor.send("reloadTile",m,_.bind(this)):(r.actor=this.dispatcher.getActor(),r.request=r.actor.send("loadTile",m,_.bind(this)))}abortTile(r){r.request&&(r.request.cancel(),delete r.request),r.actor&&r.actor.send("abortTile",{uid:r.uid,type:this.type,source:this.id},void 0)}unloadTile(r){r.unloadVectorData(),r.actor&&r.actor.send("removeTile",{uid:r.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class qt extends u.E{constructor(r,c,h,m){super(),this.id=r,this.dispatcher=h,this.setEventedParent(m),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=u.e({type:"raster"},c),u.e(this,u.F(c,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new u.k("dataloading",{dataType:"source"})),this._tileJSONRequest=at(this._options,this.map._requestManager,(r,c)=>{this._tileJSONRequest=null,this._loaded=!0,r?this.fire(new u.j(r)):c&&(u.e(this,c),c.bounds&&(this.tileBounds=new Pt(c.bounds,this.minzoom,this.maxzoom)),this.fire(new u.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new u.k("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(r){this.map=r,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(r){this._tileJSONRequest&&this._tileJSONRequest.cancel(),r(),this.load()}setTiles(r){return this.setSourceProperty(()=>{this._options.tiles=r}),this}serialize(){return u.e({},this._options)}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}loadTile(r,c){const h=r.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);r.request=K.getImage(this.map._requestManager.transformRequest(h,O.Tile),(m,_,w)=>{if(delete r.request,r.aborted)r.state="unloaded",c(null);else if(m)r.state="errored",c(m);else if(_){this.map._refreshExpiredTiles&&w&&r.setExpiryData(w);const C=this.map.painter.context,k=C.gl;r.texture=this.map.painter.getTileTexture(_.width),r.texture?r.texture.update(_,{useMipmap:!0}):(r.texture=new Me(C,_,k.RGBA,{useMipmap:!0}),r.texture.bind(k.LINEAR,k.CLAMP_TO_EDGE,k.LINEAR_MIPMAP_NEAREST),C.extTextureFilterAnisotropic&&k.texParameterf(k.TEXTURE_2D,C.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,C.extTextureFilterAnisotropicMax)),r.state="loaded",c(null)}},this.map._refreshExpiredTiles)}abortTile(r,c){r.request&&(r.request.cancel(),delete r.request),c()}unloadTile(r,c){r.texture&&this.map.painter.saveTileTexture(r.texture),c()}hasTransition(){return!1}}class ln extends qt{constructor(r,c,h,m){super(r,c,h,m),this.type="raster-dem",this.maxzoom=22,this._options=u.e({type:"raster-dem"},c),this.encoding=c.encoding||"mapbox",this.redFactor=c.redFactor,this.greenFactor=c.greenFactor,this.blueFactor=c.blueFactor,this.baseShift=c.baseShift}loadTile(r,c){const h=r.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),m=this.map._requestManager.transformRequest(h,O.Tile);function _(w,C){w&&(r.state="errored",c(w)),C&&(r.dem=C,r.needsHillshadePrepare=!0,r.needsTerrainPrepare=!0,r.state="loaded",c(null))}r.neighboringTiles=this._getNeighboringTiles(r.tileID),r.request=K.getImage(m,(w,C,k)=>u._(this,void 0,void 0,function*(){if(delete r.request,r.aborted)r.state="unloaded",c(null);else if(w)r.state="errored",c(w);else if(C){this.map._refreshExpiredTiles&&r.setExpiryData(k);const T=u.a(C)&&u.J()?C:yield function(D){return u._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&u.K()){const W=D.width+2,te=D.height+2;try{return new u.R({width:W,height:te},yield u.M(D,-1,-1,W,te))}catch{}}return u.h.getImageData(D,1)})}(C),L={uid:r.uid,coord:r.tileID,source:this.id,rawImageData:T,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};r.actor&&r.state!=="expired"||(r.actor=this.dispatcher.getActor(),r.actor.send("loadDEMTile",L,_))}}),this.map._refreshExpiredTiles)}_getNeighboringTiles(r){const c=r.canonical,h=Math.pow(2,c.z),m=(c.x-1+h)%h,_=c.x===0?r.wrap-1:r.wrap,w=(c.x+1+h)%h,C=c.x+1===h?r.wrap+1:r.wrap,k={};return k[new u.O(r.overscaledZ,_,c.z,m,c.y).key]={backfilled:!1},k[new u.O(r.overscaledZ,C,c.z,w,c.y).key]={backfilled:!1},c.y>0&&(k[new u.O(r.overscaledZ,_,c.z,m,c.y-1).key]={backfilled:!1},k[new u.O(r.overscaledZ,r.wrap,c.z,c.x,c.y-1).key]={backfilled:!1},k[new u.O(r.overscaledZ,C,c.z,w,c.y-1).key]={backfilled:!1}),c.y+1<h&&(k[new u.O(r.overscaledZ,_,c.z,m,c.y+1).key]={backfilled:!1},k[new u.O(r.overscaledZ,r.wrap,c.z,c.x,c.y+1).key]={backfilled:!1},k[new u.O(r.overscaledZ,C,c.z,w,c.y+1).key]={backfilled:!1}),k}unloadTile(r){r.demTexture&&this.map.painter.saveTileTexture(r.demTexture),r.fbo&&(r.fbo.destroy(),delete r.fbo),r.dem&&delete r.dem,delete r.neighboringTiles,r.state="unloaded",r.actor&&r.actor.send("removeDEMTile",{uid:r.uid,source:this.id})}}class er extends u.E{constructor(r,c,h,m){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>u.e({},this._options,{type:this.type,data:this._data}),this.id=r,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=h.getActor(),this.setEventedParent(m),this._data=c.data,this._options=u.e({},c),this._collectResourceTiming=c.collectResourceTiming,c.maxzoom!==void 0&&(this.maxzoom=c.maxzoom),c.type&&(this.type=c.type),c.attribution&&(this.attribution=c.attribution),this.promoteId=c.promoteId;const _=u.N/this.tileSize;this.workerOptions=u.e({source:this.id,cluster:c.cluster||!1,geojsonVtOptions:{buffer:(c.buffer!==void 0?c.buffer:128)*_,tolerance:(c.tolerance!==void 0?c.tolerance:.375)*_,extent:u.N,maxZoom:this.maxzoom,lineMetrics:c.lineMetrics||!1,generateId:c.generateId||!1},superclusterOptions:{maxZoom:c.clusterMaxZoom!==void 0?c.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,c.clusterMinPoints||2),extent:u.N,radius:(c.clusterRadius||50)*_,log:!1,generateId:c.generateId||!1},clusterProperties:c.clusterProperties,filter:c.filter},c.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}onAdd(r){this.map=r,this.load()}setData(r){return this._data=r,this._updateWorkerData(),this}updateData(r){return this._updateWorkerData(r),this}setClusterOptions(r){return this.workerOptions.cluster=r.cluster,r&&(r.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=r.clusterRadius),r.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=r.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(r,c){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:r,source:this.id},c),this}getClusterChildren(r,c){return this.actor.send("geojson.getClusterChildren",{clusterId:r,source:this.id},c),this}getClusterLeaves(r,c,h,m){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:r,limit:c,offset:h},m),this}_updateWorkerData(r){const c=u.e({},this.workerOptions);r?c.dataDiff=r:typeof this._data=="string"?(c.request=this.map._requestManager.transformRequest(u.h.resolveURL(this._data),O.Source),c.request.collectResourceTiming=this._collectResourceTiming):c.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new u.k("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,c,(h,m)=>{if(this._pendingLoads--,this._removed||m&&m.abandoned)return void this.fire(new u.k("dataabort",{dataType:"source"}));let _=null;if(m&&m.resourceTiming&&m.resourceTiming[this.id]&&(_=m.resourceTiming[this.id].slice(0)),h)return void this.fire(new u.j(h));const w={dataType:"source"};this._collectResourceTiming&&_&&_.length>0&&u.e(w,{resourceTiming:_}),this.fire(new u.k("data",Object.assign(Object.assign({},w),{sourceDataType:"metadata"}))),this.fire(new u.k("data",Object.assign(Object.assign({},w),{sourceDataType:"content"})))})}loaded(){return this._pendingLoads===0}loadTile(r,c){const h=r.actor?"reloadTile":"loadTile";r.actor=this.actor;const m={type:this.type,uid:r.uid,tileID:r.tileID,zoom:r.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};r.request=this.actor.send(h,m,(_,w)=>(delete r.request,r.unloadVectorData(),r.aborted?c(null):_?c(_):(r.loadVectorData(w,this.map.painter,h==="reloadTile"),c(null))))}abortTile(r){r.request&&(r.request.cancel(),delete r.request),r.aborted=!0}unloadTile(r){r.unloadVectorData(),this.actor.send("removeTile",{uid:r.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var tr=u.Q([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Nn extends u.E{constructor(r,c,h,m){super(),this.load=(_,w)=>{this._loaded=!1,this.fire(new u.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=K.getImage(this.map._requestManager.transformRequest(this.url,O.Image),(C,k)=>{this._request=null,this._loaded=!0,C?this.fire(new u.j(C)):k&&(this.image=k,_&&(this.coordinates=_),w&&w(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||!this.image)return;const _=this.map.painter.context,w=_.gl;this.boundsBuffer||(this.boundsBuffer=_.createVertexBuffer(this._boundsArray,tr.members)),this.boundsSegments||(this.boundsSegments=u.S.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Me(_,this.image,w.RGBA),this.texture.bind(w.LINEAR,w.CLAMP_TO_EDGE));let C=!1;for(const k in this.tiles){const T=this.tiles[k];T.state!=="loaded"&&(T.state="loaded",T.texture=this.texture,C=!0)}C&&this.fire(new u.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=r,this.dispatcher=h,this.coordinates=c.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(m),this.options=c}loaded(){return this._loaded}updateImage(r){return r.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=r.url,this.load(r.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new u.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(r){this.map=r,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(r){this.coordinates=r;const c=r.map(u.U.fromLngLat);this.tileID=function(m){let _=1/0,w=1/0,C=-1/0,k=-1/0;for(const W of m)_=Math.min(_,W.x),w=Math.min(w,W.y),C=Math.max(C,W.x),k=Math.max(k,W.y);const T=Math.max(C-_,k-w),L=Math.max(0,Math.floor(-Math.log(T)/Math.LN2)),D=Math.pow(2,L);return new u.W(L,Math.floor((_+C)/2*D),Math.floor((w+k)/2*D))}(c),this.minzoom=this.maxzoom=this.tileID.z;const h=c.map(m=>this.tileID.getTilePoint(m)._round());return this._boundsArray=new u.V,this._boundsArray.emplaceBack(h[0].x,h[0].y,0,0),this._boundsArray.emplaceBack(h[1].x,h[1].y,u.N,0),this._boundsArray.emplaceBack(h[3].x,h[3].y,0,u.N),this._boundsArray.emplaceBack(h[2].x,h[2].y,u.N,u.N),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new u.k("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(r,c){this.tileID&&this.tileID.equals(r.tileID.canonical)?(this.tiles[String(r.tileID.wrap)]=r,r.buckets={},c(null)):(r.state="errored",c(null))}hasTransition(){return!1}}class nr extends Nn{constructor(r,c,h,m){super(r,c,h,m),this.load=()=>{this._loaded=!1;const _=this.options;this.urls=[];for(const w of _.urls)this.urls.push(this.map._requestManager.transformRequest(w,O.Source).url);u.X(this.urls,(w,C)=>{this._loaded=!0,w?this.fire(new u.j(w)):C&&(this.video=C,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const _=this.map.painter.context,w=_.gl;this.boundsBuffer||(this.boundsBuffer=_.createVertexBuffer(this._boundsArray,tr.members)),this.boundsSegments||(this.boundsSegments=u.S.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(w.LINEAR,w.CLAMP_TO_EDGE),w.texSubImage2D(w.TEXTURE_2D,0,0,0,w.RGBA,w.UNSIGNED_BYTE,this.video)):(this.texture=new Me(_,this.video,w.RGBA),this.texture.bind(w.LINEAR,w.CLAMP_TO_EDGE));let C=!1;for(const k in this.tiles){const T=this.tiles[k];T.state!=="loaded"&&(T.state="loaded",T.texture=this.texture,C=!0)}C&&this.fire(new u.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=c}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(r){if(this.video){const c=this.video.seekable;r<c.start(0)||r>c.end(0)?this.fire(new u.j(new u.Y(`sources.${this.id}`,null,`Playback for this video can be set only between the ${c.start(0)} and ${c.end(0)}-second mark.`))):this.video.currentTime=r}}getVideo(){return this.video}onAdd(r){this.map||(this.map=r,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class Mr extends Nn{constructor(r,c,h,m){super(r,c,h,m),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new u.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let _=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,_=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,_=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const w=this.map.painter.context,C=w.gl;this.boundsBuffer||(this.boundsBuffer=w.createVertexBuffer(this._boundsArray,tr.members)),this.boundsSegments||(this.boundsSegments=u.S.simpleSegment(0,0,4,2)),this.texture?(_||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Me(w,this.canvas,C.RGBA,{premultiply:!0});let k=!1;for(const T in this.tiles){const L=this.tiles[T];L.state!=="loaded"&&(L.state="loaded",L.texture=this.texture,k=!0)}k&&this.fire(new u.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),c.coordinates?Array.isArray(c.coordinates)&&c.coordinates.length===4&&!c.coordinates.some(_=>!Array.isArray(_)||_.length!==2||_.some(w=>typeof w!="number"))||this.fire(new u.j(new u.Y(`sources.${r}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new u.j(new u.Y(`sources.${r}`,null,'missing required property "coordinates"'))),c.animate&&typeof c.animate!="boolean"&&this.fire(new u.j(new u.Y(`sources.${r}`,null,'optional "animate" property must be a boolean value'))),c.canvas?typeof c.canvas=="string"||c.canvas instanceof HTMLCanvasElement||this.fire(new u.j(new u.Y(`sources.${r}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new u.j(new u.Y(`sources.${r}`,null,'missing required property "canvas"'))),this.options=c,this.animate=c.animate===void 0||c.animate}getCanvas(){return this.canvas}onAdd(r){this.map=r,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const r of[this.canvas.width,this.canvas.height])if(isNaN(r)||r<=0)return!0;return!1}}const nn={},Kn=g=>{switch(g){case"geojson":return er;case"image":return Nn;case"raster":return qt;case"raster-dem":return ln;case"vector":return Xt;case"video":return nr;case"canvas":return Mr}return nn[g]};function rr(g,r){const c=u.Z();return u.$(c,c,[1,1,0]),u.a0(c,c,[.5*g.width,.5*g.height,1]),u.a1(c,c,g.calculatePosMatrix(r.toUnwrapped()))}function ai(g,r,c,h,m,_){const w=function(D,W,te){if(D)for(const ee of D){const oe=W[ee];if(oe&&oe.source===te&&oe.type==="fill-extrusion")return!0}else for(const ee in W){const oe=W[ee];if(oe.source===te&&oe.type==="fill-extrusion")return!0}return!1}(m&&m.layers,r,g.id),C=_.maxPitchScaleFactor(),k=g.tilesIn(h,C,w);k.sort(Er);const T=[];for(const D of k)T.push({wrappedTileID:D.tileID.wrapped().key,queryResults:D.tile.queryRenderedFeatures(r,c,g._state,D.queryGeometry,D.cameraQueryGeometry,D.scale,m,_,C,rr(g.transform,D.tileID))});const L=function(D){const W={},te={};for(const ee of D){const oe=ee.queryResults,Y=ee.wrappedTileID,ge=te[Y]=te[Y]||{};for(const Ce in oe){const le=oe[Ce],ve=ge[Ce]=ge[Ce]||{},Ae=W[Ce]=W[Ce]||[];for(const Pe of le)ve[Pe.featureIndex]||(ve[Pe.featureIndex]=!0,Ae.push(Pe))}}return W}(T);for(const D in L)L[D].forEach(W=>{const te=W.feature,ee=g.getFeatureState(te.layer["source-layer"],te.id);te.source=te.layer.source,te.layer["source-layer"]&&(te.sourceLayer=te.layer["source-layer"]),te.state=ee});return L}function Er(g,r){const c=g.tileID,h=r.tileID;return c.overscaledZ-h.overscaledZ||c.canonical.y-h.canonical.y||c.wrap-h.wrap||c.canonical.x-h.canonical.x}class gr{constructor(r,c){this.timeAdded=0,this.fadeEndTime=0,this.tileID=r,this.uid=u.a2(),this.uses=0,this.tileSize=c,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(r){const c=r+this.timeAdded;c<this.fadeEndTime||(this.fadeEndTime=c)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(r){this.demTexture&&r.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(r,c,h){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",r){r.featureIndex&&(this.latestFeatureIndex=r.featureIndex,r.rawTileData?(this.latestRawTileData=r.rawTileData,this.latestFeatureIndex.rawTileData=r.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=r.collisionBoxArray,this.buckets=function(m,_){const w={};if(!_)return w;for(const C of m){const k=C.layerIds.map(T=>_.getLayer(T)).filter(Boolean);if(k.length!==0){C.layers=k,C.stateDependentLayerIds&&(C.stateDependentLayers=C.stateDependentLayerIds.map(T=>k.filter(L=>L.id===T)[0]));for(const T of k)w[T.id]=C}}return w}(r.buckets,c.style),this.hasSymbolBuckets=!1;for(const m in this.buckets){const _=this.buckets[m];if(_ instanceof u.a4){if(this.hasSymbolBuckets=!0,!h)break;_.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const m in this.buckets){const _=this.buckets[m];if(_ instanceof u.a4&&_.hasRTLText){this.hasRTLText=!0,u.a5();break}}this.queryPadding=0;for(const m in this.buckets){const _=this.buckets[m];this.queryPadding=Math.max(this.queryPadding,c.style.getLayer(m).queryRadius(_))}r.imageAtlas&&(this.imageAtlas=r.imageAtlas),r.glyphAtlasImage&&(this.glyphAtlasImage=r.glyphAtlasImage)}else this.collisionBoxArray=new u.a3}unloadVectorData(){for(const r in this.buckets)this.buckets[r].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(r){return this.buckets[r.id]}upload(r){for(const h in this.buckets){const m=this.buckets[h];m.uploadPending()&&m.upload(r)}const c=r.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Me(r,this.imageAtlas.image,c.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Me(r,this.glyphAtlasImage,c.ALPHA),this.glyphAtlasImage=null)}prepare(r){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(r,this.imageAtlasTexture)}queryRenderedFeatures(r,c,h,m,_,w,C,k,T,L){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:m,cameraQueryGeometry:_,scale:w,tileSize:this.tileSize,pixelPosMatrix:L,transform:k,params:C,queryPadding:this.queryPadding*T},r,c,h):{}}querySourceFeatures(r,c){const h=this.latestFeatureIndex;if(!h||!h.rawTileData)return;const m=h.loadVTLayers(),_=c&&c.sourceLayer?c.sourceLayer:"",w=m._geojsonTileLayer||m[_];if(!w)return;const C=u.a6(c&&c.filter),{z:k,x:T,y:L}=this.tileID.canonical,D={z:k,x:T,y:L};for(let W=0;W<w.length;W++){const te=w.feature(W);if(C.needGeometry){const Y=u.a7(te,!0);if(!C.filter(new u.a8(this.tileID.overscaledZ),Y,this.tileID.canonical))continue}else if(!C.filter(new u.a8(this.tileID.overscaledZ),te))continue;const ee=h.getId(te,_),oe=new u.a9(te,k,T,L,ee);oe.tile=D,r.push(oe)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(r){const c=this.expirationTime;if(r.cacheControl){const h=u.aa(r.cacheControl);h["max-age"]&&(this.expirationTime=Date.now()+1e3*h["max-age"])}else r.expires&&(this.expirationTime=new Date(r.expires).getTime());if(this.expirationTime){const h=Date.now();let m=!1;if(this.expirationTime>h)m=!1;else if(c)if(this.expirationTime<c)m=!0;else{const _=this.expirationTime-c;_?this.expirationTime=h+Math.max(_,3e4):m=!0}else m=!0;m?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(r,c){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(r).length===0)return;const h=this.latestFeatureIndex.loadVTLayers();for(const m in this.buckets){if(!c.style.hasLayer(m))continue;const _=this.buckets[m],w=_.layers[0].sourceLayer||"_geojsonTileLayer",C=h[w],k=r[w];if(!C||!k||Object.keys(k).length===0)continue;_.update(k,C,this.imageAtlas&&this.imageAtlas.patternPositions||{});const T=c&&c.style&&c.style.getLayer(m);T&&(this.queryPadding=Math.max(this.queryPadding,T.queryRadius(_)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<u.h.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(r){this.symbolFadeHoldUntil=u.h.now()+r}setDependencies(r,c){const h={};for(const m of c)h[m]=!0;this.dependencies[r]=h}hasDependency(r,c){for(const h of r){const m=this.dependencies[h];if(m){for(const _ of c)if(m[_])return!0}}return!1}}class pn{constructor(r,c){this.max=r,this.onRemove=c,this.reset()}reset(){for(const r in this.data)for(const c of this.data[r])c.timeout&&clearTimeout(c.timeout),this.onRemove(c.value);return this.data={},this.order=[],this}add(r,c,h){const m=r.wrapped().key;this.data[m]===void 0&&(this.data[m]=[]);const _={value:c,timeout:void 0};if(h!==void 0&&(_.timeout=setTimeout(()=>{this.remove(r,_)},h)),this.data[m].push(_),this.order.push(m),this.order.length>this.max){const w=this._getAndRemoveByKey(this.order[0]);w&&this.onRemove(w)}return this}has(r){return r.wrapped().key in this.data}getAndRemove(r){return this.has(r)?this._getAndRemoveByKey(r.wrapped().key):null}_getAndRemoveByKey(r){const c=this.data[r].shift();return c.timeout&&clearTimeout(c.timeout),this.data[r].length===0&&delete this.data[r],this.order.splice(this.order.indexOf(r),1),c.value}getByKey(r){const c=this.data[r];return c?c[0].value:null}get(r){return this.has(r)?this.data[r.wrapped().key][0].value:null}remove(r,c){if(!this.has(r))return this;const h=r.wrapped().key,m=c===void 0?0:this.data[h].indexOf(c),_=this.data[h][m];return this.data[h].splice(m,1),_.timeout&&clearTimeout(_.timeout),this.data[h].length===0&&delete this.data[h],this.onRemove(_.value),this.order.splice(this.order.indexOf(h),1),this}setMaxSize(r){for(this.max=r;this.order.length>this.max;){const c=this._getAndRemoveByKey(this.order[0]);c&&this.onRemove(c)}return this}filter(r){const c=[];for(const h in this.data)for(const m of this.data[h])r(m.value)||c.push(m);for(const h of c)this.remove(h.value.tileID,h)}}class ke{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(r,c,h){const m=String(c);if(this.stateChanges[r]=this.stateChanges[r]||{},this.stateChanges[r][m]=this.stateChanges[r][m]||{},u.e(this.stateChanges[r][m],h),this.deletedStates[r]===null){this.deletedStates[r]={};for(const _ in this.state[r])_!==m&&(this.deletedStates[r][_]=null)}else if(this.deletedStates[r]&&this.deletedStates[r][m]===null){this.deletedStates[r][m]={};for(const _ in this.state[r][m])h[_]||(this.deletedStates[r][m][_]=null)}else for(const _ in h)this.deletedStates[r]&&this.deletedStates[r][m]&&this.deletedStates[r][m][_]===null&&delete this.deletedStates[r][m][_]}removeFeatureState(r,c,h){if(this.deletedStates[r]===null)return;const m=String(c);if(this.deletedStates[r]=this.deletedStates[r]||{},h&&c!==void 0)this.deletedStates[r][m]!==null&&(this.deletedStates[r][m]=this.deletedStates[r][m]||{},this.deletedStates[r][m][h]=null);else if(c!==void 0)if(this.stateChanges[r]&&this.stateChanges[r][m])for(h in this.deletedStates[r][m]={},this.stateChanges[r][m])this.deletedStates[r][m][h]=null;else this.deletedStates[r][m]=null;else this.deletedStates[r]=null}getState(r,c){const h=String(c),m=u.e({},(this.state[r]||{})[h],(this.stateChanges[r]||{})[h]);if(this.deletedStates[r]===null)return{};if(this.deletedStates[r]){const _=this.deletedStates[r][c];if(_===null)return{};for(const w in _)delete m[w]}return m}initializeTileState(r,c){r.setFeatureState(this.state,c)}coalesceChanges(r,c){const h={};for(const m in this.stateChanges){this.state[m]=this.state[m]||{};const _={};for(const w in this.stateChanges[m])this.state[m][w]||(this.state[m][w]={}),u.e(this.state[m][w],this.stateChanges[m][w]),_[w]=this.state[m][w];h[m]=_}for(const m in this.deletedStates){this.state[m]=this.state[m]||{};const _={};if(this.deletedStates[m]===null)for(const w in this.state[m])_[w]={},this.state[m][w]={};else for(const w in this.deletedStates[m]){if(this.deletedStates[m][w]===null)this.state[m][w]={};else for(const C of Object.keys(this.deletedStates[m][w]))delete this.state[m][w][C];_[w]=this.state[m][w]}h[m]=h[m]||{},u.e(h[m],_)}if(this.stateChanges={},this.deletedStates={},Object.keys(h).length!==0)for(const m in r)r[m].setFeatureState(h,c)}}class Rt extends u.E{constructor(r,c,h){super(),this.id=r,this.dispatcher=h,this.on("data",m=>{m.dataType==="source"&&m.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&m.dataType==="source"&&m.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((m,_,w,C)=>{const k=new(Kn(_.type))(m,_,w,C);if(k.id!==m)throw new Error(`Expected Source id to be ${m} instead of ${k.id}`);return k})(r,c,h,this),this._tiles={},this._cache=new pn(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new ke,this._didEmitContent=!1,this._updated=!1}onAdd(r){this.map=r,this._maxTileCacheSize=r?r._maxTileCacheSize:null,this._maxTileCacheZoomLevels=r?r._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(r)}onRemove(r){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(r)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const r in this._tiles){const c=this._tiles[r];if(c.state!=="loaded"&&c.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const r=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,r&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(r,c){return this._source.loadTile(r,c)}_unloadTile(r){if(this._source.unloadTile)return this._source.unloadTile(r,()=>{})}_abortTile(r){this._source.abortTile&&this._source.abortTile(r,()=>{}),this._source.fire(new u.k("dataabort",{tile:r,coord:r.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(r){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const c in this._tiles){const h=this._tiles[c];h.upload(r),h.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(r=>r.tileID).sort(Kt).map(r=>r.key)}getRenderableIds(r){const c=[];for(const h in this._tiles)this._isIdRenderable(h,r)&&c.push(this._tiles[h]);return r?c.sort((h,m)=>{const _=h.tileID,w=m.tileID,C=new u.P(_.canonical.x,_.canonical.y)._rotate(this.transform.angle),k=new u.P(w.canonical.x,w.canonical.y)._rotate(this.transform.angle);return _.overscaledZ-w.overscaledZ||k.y-C.y||k.x-C.x}).map(h=>h.tileID.key):c.map(h=>h.tileID).sort(Kt).map(h=>h.key)}hasRenderableParent(r){const c=this.findLoadedParent(r,0);return!!c&&this._isIdRenderable(c.tileID.key)}_isIdRenderable(r,c){return this._tiles[r]&&this._tiles[r].hasData()&&!this._coveredTiles[r]&&(c||!this._tiles[r].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const r in this._tiles)this._tiles[r].state!=="errored"&&this._reloadTile(r,"reloading")}}_reloadTile(r,c){const h=this._tiles[r];h&&(h.state!=="loading"&&(h.state=c),this._loadTile(h,this._tileLoaded.bind(this,h,r,c)))}_tileLoaded(r,c,h,m){if(m)return r.state="errored",void(m.status!==404?this._source.fire(new u.j(m,{tile:r})):this.update(this.transform,this.terrain));r.timeAdded=u.h.now(),h==="expired"&&(r.refreshedUponExpiration=!0),this._setTileReloadTimer(c,r),this.getSource().type==="raster-dem"&&r.dem&&this._backfillDEM(r),this._state.initializeTileState(r,this.map?this.map.painter:null),r.aborted||this._source.fire(new u.k("data",{dataType:"source",tile:r,coord:r.tileID}))}_backfillDEM(r){const c=this.getRenderableIds();for(let m=0;m<c.length;m++){const _=c[m];if(r.neighboringTiles&&r.neighboringTiles[_]){const w=this.getTileByID(_);h(r,w),h(w,r)}}function h(m,_){m.needsHillshadePrepare=!0,m.needsTerrainPrepare=!0;let w=_.tileID.canonical.x-m.tileID.canonical.x;const C=_.tileID.canonical.y-m.tileID.canonical.y,k=Math.pow(2,m.tileID.canonical.z),T=_.tileID.key;w===0&&C===0||Math.abs(C)>1||(Math.abs(w)>1&&(Math.abs(w+k)===1?w+=k:Math.abs(w-k)===1&&(w-=k)),_.dem&&m.dem&&(m.dem.backfillBorder(_.dem,w,C),m.neighboringTiles&&m.neighboringTiles[T]&&(m.neighboringTiles[T].backfilled=!0)))}}getTile(r){return this.getTileByID(r.key)}getTileByID(r){return this._tiles[r]}_retainLoadedChildren(r,c,h,m){for(const _ in this._tiles){let w=this._tiles[_];if(m[_]||!w.hasData()||w.tileID.overscaledZ<=c||w.tileID.overscaledZ>h)continue;let C=w.tileID;for(;w&&w.tileID.overscaledZ>c+1;){const T=w.tileID.scaledTo(w.tileID.overscaledZ-1);w=this._tiles[T.key],w&&w.hasData()&&(C=T)}let k=C;for(;k.overscaledZ>c;)if(k=k.scaledTo(k.overscaledZ-1),r[k.key]){m[C.key]=C;break}}}findLoadedParent(r,c){if(r.key in this._loadedParentTiles){const h=this._loadedParentTiles[r.key];return h&&h.tileID.overscaledZ>=c?h:null}for(let h=r.overscaledZ-1;h>=c;h--){const m=r.scaledTo(h),_=this._getLoadedTile(m);if(_)return _}}_getLoadedTile(r){const c=this._tiles[r.key];return c&&c.hasData()?c:this._cache.getByKey(r.wrapped().key)}updateCacheSize(r){const c=Math.ceil(r.width/this._source.tileSize)+1,h=Math.ceil(r.height/this._source.tileSize)+1,m=Math.floor(c*h*(this._maxTileCacheZoomLevels===null?u.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),_=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,m):m;this._cache.setMaxSize(_)}handleWrapJump(r){const c=Math.round((r-(this._prevLng===void 0?r:this._prevLng))/360);if(this._prevLng=r,c){const h={};for(const m in this._tiles){const _=this._tiles[m];_.tileID=_.tileID.unwrapTo(_.tileID.wrap+c),h[_.tileID.key]=_}this._tiles=h;for(const m in this._timers)clearTimeout(this._timers[m]),delete this._timers[m];for(const m in this._tiles)this._setTileReloadTimer(m,this._tiles[m])}}update(r,c){if(this.transform=r,this.terrain=c,!this._sourceLoaded||this._paused)return;let h;this.updateCacheSize(r),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?h=r.getVisibleUnwrappedCoordinates(this._source.tileID).map(L=>new u.O(L.canonical.z,L.wrap,L.canonical.z,L.canonical.x,L.canonical.y)):(h=r.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:c}),this._source.hasTile&&(h=h.filter(L=>this._source.hasTile(L)))):h=[];const m=r.coveringZoomLevel(this._source),_=Math.max(m-Rt.maxOverzooming,this._source.minzoom),w=Math.max(m+Rt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const L={};for(const D of h)if(D.canonical.z>this._source.minzoom){const W=D.scaledTo(D.canonical.z-1);L[W.key]=W;const te=D.scaledTo(Math.max(this._source.minzoom,Math.min(D.canonical.z,5)));L[te.key]=te}h=h.concat(Object.values(L))}const C=h.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,C&&this.fire(new u.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const k=this._updateRetainedTiles(h,m);if(Ot(this._source.type)){const L={},D={},W=Object.keys(k),te=u.h.now();for(const ee of W){const oe=k[ee],Y=this._tiles[ee];if(!Y||Y.fadeEndTime!==0&&Y.fadeEndTime<=te)continue;const ge=this.findLoadedParent(oe,_);ge&&(this._addTile(ge.tileID),L[ge.tileID.key]=ge.tileID),D[ee]=oe}this._retainLoadedChildren(D,m,w,k);for(const ee in L)k[ee]||(this._coveredTiles[ee]=!0,k[ee]=L[ee]);if(c){const ee={},oe={};for(const Y of h)this._tiles[Y.key].hasData()?ee[Y.key]=Y:oe[Y.key]=Y;for(const Y in oe){const ge=oe[Y].children(this._source.maxzoom);this._tiles[ge[0].key]&&this._tiles[ge[1].key]&&this._tiles[ge[2].key]&&this._tiles[ge[3].key]&&(ee[ge[0].key]=k[ge[0].key]=ge[0],ee[ge[1].key]=k[ge[1].key]=ge[1],ee[ge[2].key]=k[ge[2].key]=ge[2],ee[ge[3].key]=k[ge[3].key]=ge[3],delete oe[Y])}for(const Y in oe){const ge=this.findLoadedParent(oe[Y],this._source.minzoom);if(ge){ee[ge.tileID.key]=k[ge.tileID.key]=ge.tileID;for(const Ce in ee)ee[Ce].isChildOf(ge.tileID)&&delete ee[Ce]}}for(const Y in this._tiles)ee[Y]||(this._coveredTiles[Y]=!0)}}for(const L in k)this._tiles[L].clearFadeHold();const T=u.ab(this._tiles,k);for(const L of T){const D=this._tiles[L];D.hasSymbolBuckets&&!D.holdingForFade()?D.setHoldDuration(this.map._fadeDuration):D.hasSymbolBuckets&&!D.symbolFadeFinished()||this._removeTile(L)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const r in this._tiles)this._tiles[r].holdingForFade()&&this._removeTile(r)}_updateRetainedTiles(r,c){const h={},m={},_=Math.max(c-Rt.maxOverzooming,this._source.minzoom),w=Math.max(c+Rt.maxUnderzooming,this._source.minzoom),C={};for(const k of r){const T=this._addTile(k);h[k.key]=k,T.hasData()||c<this._source.maxzoom&&(C[k.key]=k)}this._retainLoadedChildren(C,c,w,h);for(const k of r){let T=this._tiles[k.key];if(T.hasData())continue;if(c+1>this._source.maxzoom){const D=k.children(this._source.maxzoom)[0],W=this.getTile(D);if(W&&W.hasData()){h[D.key]=D;continue}}else{const D=k.children(this._source.maxzoom);if(h[D[0].key]&&h[D[1].key]&&h[D[2].key]&&h[D[3].key])continue}let L=T.wasRequested();for(let D=k.overscaledZ-1;D>=_;--D){const W=k.scaledTo(D);if(m[W.key])break;if(m[W.key]=!0,T=this.getTile(W),!T&&L&&(T=this._addTile(W)),T){const te=T.hasData();if((L||te)&&(h[W.key]=W),L=T.wasRequested(),te)break}}}return h}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const r in this._tiles){const c=[];let h,m=this._tiles[r].tileID;for(;m.overscaledZ>0;){if(m.key in this._loadedParentTiles){h=this._loadedParentTiles[m.key];break}c.push(m.key);const _=m.scaledTo(m.overscaledZ-1);if(h=this._getLoadedTile(_),h)break;m=_}for(const _ of c)this._loadedParentTiles[_]=h}}_addTile(r){let c=this._tiles[r.key];if(c)return c;c=this._cache.getAndRemove(r),c&&(this._setTileReloadTimer(r.key,c),c.tileID=r,this._state.initializeTileState(c,this.map?this.map.painter:null),this._cacheTimers[r.key]&&(clearTimeout(this._cacheTimers[r.key]),delete this._cacheTimers[r.key],this._setTileReloadTimer(r.key,c)));const h=c;return c||(c=new gr(r,this._source.tileSize*r.overscaleFactor()),this._loadTile(c,this._tileLoaded.bind(this,c,r.key,c.state))),c.uses++,this._tiles[r.key]=c,h||this._source.fire(new u.k("dataloading",{tile:c,coord:c.tileID,dataType:"source"})),c}_setTileReloadTimer(r,c){r in this._timers&&(clearTimeout(this._timers[r]),delete this._timers[r]);const h=c.getExpiryTimeout();h&&(this._timers[r]=setTimeout(()=>{this._reloadTile(r,"expired"),delete this._timers[r]},h))}_removeTile(r){const c=this._tiles[r];c&&(c.uses--,delete this._tiles[r],this._timers[r]&&(clearTimeout(this._timers[r]),delete this._timers[r]),c.uses>0||(c.hasData()&&c.state!=="reloading"?this._cache.add(c.tileID,c,c.getExpiryTimeout()):(c.aborted=!0,this._abortTile(c),this._unloadTile(c))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const r in this._tiles)this._removeTile(r);this._cache.reset()}tilesIn(r,c,h){const m=[],_=this.transform;if(!_)return m;const w=h?_.getCameraQueryGeometry(r):r,C=r.map(ee=>_.pointCoordinate(ee,this.terrain)),k=w.map(ee=>_.pointCoordinate(ee,this.terrain)),T=this.getIds();let L=1/0,D=1/0,W=-1/0,te=-1/0;for(const ee of k)L=Math.min(L,ee.x),D=Math.min(D,ee.y),W=Math.max(W,ee.x),te=Math.max(te,ee.y);for(let ee=0;ee<T.length;ee++){const oe=this._tiles[T[ee]];if(oe.holdingForFade())continue;const Y=oe.tileID,ge=Math.pow(2,_.zoom-oe.tileID.overscaledZ),Ce=c*oe.queryPadding*u.N/oe.tileSize/ge,le=[Y.getTilePoint(new u.U(L,D)),Y.getTilePoint(new u.U(W,te))];if(le[0].x-Ce<u.N&&le[0].y-Ce<u.N&&le[1].x+Ce>=0&&le[1].y+Ce>=0){const ve=C.map(Pe=>Y.getTilePoint(Pe)),Ae=k.map(Pe=>Y.getTilePoint(Pe));m.push({tile:oe,tileID:Y,queryGeometry:ve,cameraQueryGeometry:Ae,scale:ge})}}return m}getVisibleCoordinates(r){const c=this.getRenderableIds(r).map(h=>this._tiles[h].tileID);for(const h of c)h.posMatrix=this.transform.calculatePosMatrix(h.toUnwrapped());return c}hasTransition(){if(this._source.hasTransition())return!0;if(Ot(this._source.type)){const r=u.h.now();for(const c in this._tiles)if(this._tiles[c].fadeEndTime>=r)return!0}return!1}setFeatureState(r,c,h){this._state.updateState(r=r||"_geojsonTileLayer",c,h)}removeFeatureState(r,c,h){this._state.removeFeatureState(r=r||"_geojsonTileLayer",c,h)}getFeatureState(r,c){return this._state.getState(r=r||"_geojsonTileLayer",c)}setDependencies(r,c,h){const m=this._tiles[r];m&&m.setDependencies(c,h)}reloadTilesForDependencies(r,c){for(const h in this._tiles)this._tiles[h].hasDependency(r,c)&&this._reloadTile(h,"reloading");this._cache.filter(h=>!h.hasDependency(r,c))}}function Kt(g,r){const c=Math.abs(2*g.wrap)-+(g.wrap<0),h=Math.abs(2*r.wrap)-+(r.wrap<0);return g.overscaledZ-r.overscaledZ||h-c||r.canonical.y-g.canonical.y||r.canonical.x-g.canonical.x}function Ot(g){return g==="raster"||g==="image"||g==="video"}Rt.maxOverzooming=10,Rt.maxUnderzooming=3;const Zt="mapboxgl_preloaded_worker_pool";class Ci{constructor(){this.active={}}acquire(r){if(!this.workers)for(this.workers=[];this.workers.length<Ci.workerCount;)this.workers.push(new Worker(u.c.WORKER_URL));return this.active[r]=!0,this.workers.slice()}release(r){delete this.active[r],this.numActive()===0&&(this.workers.forEach(c=>{c.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Zt]}numActive(){return Object.keys(this.active).length}}const na=Math.floor(u.h.hardwareConcurrency/2);let Vi;function Ya(){return Vi||(Vi=new Ci),Vi}Ci.workerCount=u.ac(globalThis)?Math.max(Math.min(na,3),1):1;class ra{constructor(r,c){this.reset(r,c)}reset(r,c){this.points=r||[],this._distances=[0];for(let h=1;h<this.points.length;h++)this._distances[h]=this._distances[h-1]+this.points[h].dist(this.points[h-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(c||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(r){if(this.points.length===1)return this.points[0];r=u.ad(r,0,1);let c=1,h=this._distances[c];const m=r*this.paddedLength+this.padding;for(;h<m&&c<this._distances.length;)h=this._distances[++c];const _=c-1,w=this._distances[_],C=h-w,k=C>0?(m-w)/C:0;return this.points[_].mult(1-k).add(this.points[c].mult(k))}}function uo(g,r){let c=!0;return g==="always"||g!=="never"&&r!=="never"||(c=!1),c}class Io{constructor(r,c,h){const m=this.boxCells=[],_=this.circleCells=[];this.xCellCount=Math.ceil(r/h),this.yCellCount=Math.ceil(c/h);for(let w=0;w<this.xCellCount*this.yCellCount;w++)m.push([]),_.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=r,this.height=c,this.xScale=this.xCellCount/r,this.yScale=this.yCellCount/c,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(r,c,h,m,_){this._forEachCell(c,h,m,_,this._insertBoxCell,this.boxUid++),this.boxKeys.push(r),this.bboxes.push(c),this.bboxes.push(h),this.bboxes.push(m),this.bboxes.push(_)}insertCircle(r,c,h,m){this._forEachCell(c-m,h-m,c+m,h+m,this._insertCircleCell,this.circleUid++),this.circleKeys.push(r),this.circles.push(c),this.circles.push(h),this.circles.push(m)}_insertBoxCell(r,c,h,m,_,w){this.boxCells[_].push(w)}_insertCircleCell(r,c,h,m,_,w){this.circleCells[_].push(w)}_query(r,c,h,m,_,w,C){if(h<0||r>this.width||m<0||c>this.height)return[];const k=[];if(r<=0&&c<=0&&this.width<=h&&this.height<=m){if(_)return[{key:null,x1:r,y1:c,x2:h,y2:m}];for(let T=0;T<this.boxKeys.length;T++)k.push({key:this.boxKeys[T],x1:this.bboxes[4*T],y1:this.bboxes[4*T+1],x2:this.bboxes[4*T+2],y2:this.bboxes[4*T+3]});for(let T=0;T<this.circleKeys.length;T++){const L=this.circles[3*T],D=this.circles[3*T+1],W=this.circles[3*T+2];k.push({key:this.circleKeys[T],x1:L-W,y1:D-W,x2:L+W,y2:D+W})}}else this._forEachCell(r,c,h,m,this._queryCell,k,{hitTest:_,overlapMode:w,seenUids:{box:{},circle:{}}},C);return k}query(r,c,h,m){return this._query(r,c,h,m,!1,null)}hitTest(r,c,h,m,_,w){return this._query(r,c,h,m,!0,_,w).length>0}hitTestCircle(r,c,h,m,_){const w=r-h,C=r+h,k=c-h,T=c+h;if(C<0||w>this.width||T<0||k>this.height)return!1;const L=[];return this._forEachCell(w,k,C,T,this._queryCellCircle,L,{hitTest:!0,overlapMode:m,circle:{x:r,y:c,radius:h},seenUids:{box:{},circle:{}}},_),L.length>0}_queryCell(r,c,h,m,_,w,C,k){const{seenUids:T,hitTest:L,overlapMode:D}=C,W=this.boxCells[_];if(W!==null){const ee=this.bboxes;for(const oe of W)if(!T.box[oe]){T.box[oe]=!0;const Y=4*oe,ge=this.boxKeys[oe];if(r<=ee[Y+2]&&c<=ee[Y+3]&&h>=ee[Y+0]&&m>=ee[Y+1]&&(!k||k(ge))&&(!L||!uo(D,ge.overlapMode))&&(w.push({key:ge,x1:ee[Y],y1:ee[Y+1],x2:ee[Y+2],y2:ee[Y+3]}),L))return!0}}const te=this.circleCells[_];if(te!==null){const ee=this.circles;for(const oe of te)if(!T.circle[oe]){T.circle[oe]=!0;const Y=3*oe,ge=this.circleKeys[oe];if(this._circleAndRectCollide(ee[Y],ee[Y+1],ee[Y+2],r,c,h,m)&&(!k||k(ge))&&(!L||!uo(D,ge.overlapMode))){const Ce=ee[Y],le=ee[Y+1],ve=ee[Y+2];if(w.push({key:ge,x1:Ce-ve,y1:le-ve,x2:Ce+ve,y2:le+ve}),L)return!0}}}return!1}_queryCellCircle(r,c,h,m,_,w,C,k){const{circle:T,seenUids:L,overlapMode:D}=C,W=this.boxCells[_];if(W!==null){const ee=this.bboxes;for(const oe of W)if(!L.box[oe]){L.box[oe]=!0;const Y=4*oe,ge=this.boxKeys[oe];if(this._circleAndRectCollide(T.x,T.y,T.radius,ee[Y+0],ee[Y+1],ee[Y+2],ee[Y+3])&&(!k||k(ge))&&!uo(D,ge.overlapMode))return w.push(!0),!0}}const te=this.circleCells[_];if(te!==null){const ee=this.circles;for(const oe of te)if(!L.circle[oe]){L.circle[oe]=!0;const Y=3*oe,ge=this.circleKeys[oe];if(this._circlesCollide(ee[Y],ee[Y+1],ee[Y+2],T.x,T.y,T.radius)&&(!k||k(ge))&&!uo(D,ge.overlapMode))return w.push(!0),!0}}}_forEachCell(r,c,h,m,_,w,C,k){const T=this._convertToXCellCoord(r),L=this._convertToYCellCoord(c),D=this._convertToXCellCoord(h),W=this._convertToYCellCoord(m);for(let te=T;te<=D;te++)for(let ee=L;ee<=W;ee++)if(_.call(this,r,c,h,m,this.xCellCount*ee+te,w,C,k))return}_convertToXCellCoord(r){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(r*this.xScale)))}_convertToYCellCoord(r){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(r*this.yScale)))}_circlesCollide(r,c,h,m,_,w){const C=m-r,k=_-c,T=h+w;return T*T>C*C+k*k}_circleAndRectCollide(r,c,h,m,_,w,C){const k=(w-m)/2,T=Math.abs(r-(m+k));if(T>k+h)return!1;const L=(C-_)/2,D=Math.abs(c-(_+L));if(D>L+h)return!1;if(T<=k||D<=L)return!0;const W=T-k,te=D-L;return W*W+te*te<=h*h}}function Ye(g,r,c,h,m){const _=u.Z();return r?(u.a0(_,_,[1/m,1/m,1]),c||u.ae(_,_,h.angle)):u.a1(_,h.labelPlaneMatrix,g),_}function Mi(g,r,c,h,m){if(r){const _=u.af(g);return u.a0(_,_,[m,m,1]),c||u.ae(_,_,-h.angle),_}return h.glCoordMatrix}function Cn(g,r,c){let h;c?(h=[g.x,g.y,c(g.x,g.y),1],u.ag(h,h,r)):(h=[g.x,g.y,0,1],re(h,h,r));const m=h[3];return{point:new u.P(h[0]/m,h[1]/m),signedDistanceFromCamera:m}}function si(g,r){return .5+g/r*.5}function Fr(g,r){const c=g[0]/g[3],h=g[1]/g[3];return c>=-r[0]&&c<=r[0]&&h>=-r[1]&&h<=r[1]}function Qe(g,r,c,h,m,_,w,C,k,T){const L=h?g.textSizeData:g.iconSizeData,D=u.ah(L,c.transform.zoom),W=[256/c.width*2+1,256/c.height*2+1],te=h?g.text.dynamicLayoutVertexArray:g.icon.dynamicLayoutVertexArray;te.clear();const ee=g.lineVertexArray,oe=h?g.text.placedSymbolArray:g.icon.placedSymbolArray,Y=c.transform.width/c.transform.height;let ge=!1;for(let Ce=0;Ce<oe.length;Ce++){const le=oe.get(Ce);if(le.hidden||le.writingMode===u.ai.vertical&&!ge){q(le.numGlyphs,te);continue}let ve;if(ge=!1,T?(ve=[le.anchorX,le.anchorY,T(le.anchorX,le.anchorY),1],u.ag(ve,ve,r)):(ve=[le.anchorX,le.anchorY,0,1],re(ve,ve,r)),!Fr(ve,W)){q(le.numGlyphs,te);continue}const Ae=si(c.transform.cameraToCenterDistance,ve[3]),Pe=u.aj(L,D,le),Ne=w?Pe/Ae:Pe*Ae,Ue=new u.P(le.anchorX,le.anchorY),je=Cn(Ue,m,T).point,Ke={projections:{},offsets:{}},mt=On(le,Ne,!1,C,r,m,_,g.glyphOffsetArray,ee,te,je,Ue,Ke,Y,k,T);ge=mt.useVertical,(mt.notEnoughRoom||ge||mt.needsFlipping&&On(le,Ne,!0,C,r,m,_,g.glyphOffsetArray,ee,te,je,Ue,Ke,Y,k,T).notEnoughRoom)&&q(le.numGlyphs,te)}h?g.text.dynamicLayoutVertexBuffer.updateData(te):g.icon.dynamicLayoutVertexBuffer.updateData(te)}function Lt(g,r,c,h,m,_,w,C,k,T,L,D,W){const te=C.glyphStartIndex+C.numGlyphs,ee=C.lineStartIndex,oe=C.lineStartIndex+C.lineLength,Y=r.getoffsetX(C.glyphStartIndex),ge=r.getoffsetX(te-1),Ce=N(g*Y,c,h,m,_,w,C.segment,ee,oe,k,T,L,D,W);if(!Ce)return null;const le=N(g*ge,c,h,m,_,w,C.segment,ee,oe,k,T,L,D,W);return le?{first:Ce,last:le}:null}function kt(g,r,c,h){return g===u.ai.horizontal&&Math.abs(c.y-r.y)>Math.abs(c.x-r.x)*h?{useVertical:!0}:(g===u.ai.vertical?r.y<c.y:r.x>c.x)?{needsFlipping:!0}:null}function On(g,r,c,h,m,_,w,C,k,T,L,D,W,te,ee,oe){const Y=r/24,ge=g.lineOffsetX*Y,Ce=g.lineOffsetY*Y;let le;if(g.numGlyphs>1){const ve=g.glyphStartIndex+g.numGlyphs,Ae=g.lineStartIndex,Pe=g.lineStartIndex+g.lineLength,Ne=Lt(Y,C,ge,Ce,c,L,D,g,k,_,W,ee,oe);if(!Ne)return{notEnoughRoom:!0};const Ue=Cn(Ne.first.point,w,oe).point,je=Cn(Ne.last.point,w,oe).point;if(h&&!c){const Ke=kt(g.writingMode,Ue,je,te);if(Ke)return Ke}le=[Ne.first];for(let Ke=g.glyphStartIndex+1;Ke<ve-1;Ke++)le.push(N(Y*C.getoffsetX(Ke),ge,Ce,c,L,D,g.segment,Ae,Pe,k,_,W,ee,oe));le.push(Ne.last)}else{if(h&&!c){const Ae=Cn(D,m,oe).point,Pe=g.lineStartIndex+g.segment+1,Ne=new u.P(k.getx(Pe),k.gety(Pe)),Ue=Cn(Ne,m,oe),je=Ue.signedDistanceFromCamera>0?Ue.point:Ei(D,Ne,Ae,1,m,oe),Ke=kt(g.writingMode,Ae,je,te);if(Ke)return Ke}const ve=N(Y*C.getoffsetX(g.glyphStartIndex),ge,Ce,c,L,D,g.segment,g.lineStartIndex,g.lineStartIndex+g.lineLength,k,_,W,ee,oe);if(!ve)return{notEnoughRoom:!0};le=[ve]}for(const ve of le)u.ak(T,ve.point,ve.angle);return{}}function Ei(g,r,c,h,m,_){const w=Cn(g.add(g.sub(r)._unit()),m,_).point,C=c.sub(w);return c.add(C._mult(h/C.mag()))}function xt(g,r){const{projectionCache:c,lineVertexArray:h,labelPlaneMatrix:m,tileAnchorPoint:_,distanceFromAnchor:w,getElevation:C,previousVertex:k,direction:T,absOffsetX:L}=r;if(c.projections[g])return c.projections[g];const D=new u.P(h.getx(g),h.gety(g)),W=Cn(D,m,C);if(W.signedDistanceFromCamera>0)return c.projections[g]=W.point,W.point;const te=g-T;return Ei(w===0?_:new u.P(h.getx(te),h.gety(te)),D,k,L-w+1,m,C)}function ki(g,r,c){return g._unit()._perp()._mult(r*c)}function ie(g,r,c,h,m,_,w,C){const{projectionCache:k,direction:T}=C;if(k.offsets[g])return k.offsets[g];const L=c.add(r);if(g+T<h||g+T>=m)return k.offsets[g]=L,L;const D=xt(g+T,C),W=ki(D.sub(c),w,T),te=c.add(W),ee=D.add(W);return k.offsets[g]=u.al(_,L,te,ee)||L,k.offsets[g]}function N(g,r,c,h,m,_,w,C,k,T,L,D,W,te){const ee=h?g-r:g+r;let oe=ee>0?1:-1,Y=0;h&&(oe*=-1,Y=Math.PI),oe<0&&(Y+=Math.PI);let ge,Ce,le=oe>0?C+w:C+w+1,ve=m,Ae=m,Pe=0,Ne=0;const Ue=Math.abs(ee),je=[];let Ke;for(;Pe+Ne<=Ue;){if(le+=oe,le<C||le>=k)return null;Pe+=Ne,Ae=ve,Ce=ge;const rt={projectionCache:D,lineVertexArray:T,labelPlaneMatrix:L,tileAnchorPoint:_,distanceFromAnchor:Pe,getElevation:te,previousVertex:Ae,direction:oe,absOffsetX:Ue};if(ve=xt(le,rt),c===0)je.push(Ae),Ke=ve.sub(Ae);else{let Et;const yt=ve.sub(Ae);Et=yt.mag()===0?ki(xt(le+oe,rt).sub(ve),c,oe):ki(yt,c,oe),Ce||(Ce=Ae.add(Et)),ge=ie(le,Et,ve,C,k,Ce,c,rt),je.push(Ce),Ke=ge.sub(Ce)}Ne=Ke.mag()}const mt=Ke._mult((Ue-Pe)/Ne)._add(Ce||Ae),Bt=Y+Math.atan2(ve.y-Ae.y,ve.x-Ae.x);return je.push(mt),{point:mt,angle:W?Bt:0,path:je}}const j=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function q(g,r){for(let c=0;c<g;c++){const h=r.length;r.resize(h+4),r.float32.set(j,3*h)}}function re(g,r,c){const h=r[0],m=r[1];return g[0]=c[0]*h+c[4]*m+c[12],g[1]=c[1]*h+c[5]*m+c[13],g[3]=c[3]*h+c[7]*m+c[15],g}const ae=100;class xe{constructor(r,c=new Io(r.width+200,r.height+200,25),h=new Io(r.width+200,r.height+200,25)){this.transform=r,this.grid=c,this.ignoredGrid=h,this.pitchfactor=Math.cos(r._pitch)*r.cameraToCenterDistance,this.screenRightBoundary=r.width+ae,this.screenBottomBoundary=r.height+ae,this.gridRightBoundary=r.width+200,this.gridBottomBoundary=r.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(r,c,h,m,_,w){const C=this.projectAndGetPerspectiveRatio(m,r.anchorPointX,r.anchorPointY,w),k=h*C.perspectiveRatio,T=r.x1*k+C.point.x,L=r.y1*k+C.point.y,D=r.x2*k+C.point.x,W=r.y2*k+C.point.y;return!this.isInsideGrid(T,L,D,W)||c!=="always"&&this.grid.hitTest(T,L,D,W,c,_)||C.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[T,L,D,W],offscreen:this.isOffscreen(T,L,D,W)}}placeCollisionCircles(r,c,h,m,_,w,C,k,T,L,D,W,te,ee){const oe=[],Y=new u.P(c.anchorX,c.anchorY),ge=Cn(Y,w,ee),Ce=si(this.transform.cameraToCenterDistance,ge.signedDistanceFromCamera),le=(L?_/Ce:_*Ce)/u.ap,ve=Cn(Y,C,ee).point,Ae=Lt(le,m,c.lineOffsetX*le,c.lineOffsetY*le,!1,ve,Y,c,h,C,{projections:{},offsets:{}},!1,ee);let Pe=!1,Ne=!1,Ue=!0;if(Ae){const je=.5*W*Ce+te,Ke=new u.P(-100,-100),mt=new u.P(this.screenRightBoundary,this.screenBottomBoundary),Bt=new ra,rt=Ae.first,Et=Ae.last;let yt=[];for(let zt=rt.path.length-1;zt>=1;zt--)yt.push(rt.path[zt]);for(let zt=1;zt<Et.path.length;zt++)yt.push(Et.path[zt]);const cn=2.5*je;if(k){const zt=yt.map($t=>Cn($t,k,ee));yt=zt.some($t=>$t.signedDistanceFromCamera<=0)?[]:zt.map($t=>$t.point)}let Nt=[];if(yt.length>0){const zt=yt[0].clone(),$t=yt[0].clone();for(let Bn=1;Bn<yt.length;Bn++)zt.x=Math.min(zt.x,yt[Bn].x),zt.y=Math.min(zt.y,yt[Bn].y),$t.x=Math.max($t.x,yt[Bn].x),$t.y=Math.max($t.y,yt[Bn].y);Nt=zt.x>=Ke.x&&$t.x<=mt.x&&zt.y>=Ke.y&&$t.y<=mt.y?[yt]:$t.x<Ke.x||zt.x>mt.x||$t.y<Ke.y||zt.y>mt.y?[]:u.am([yt],Ke.x,Ke.y,mt.x,mt.y)}for(const zt of Nt){Bt.reset(zt,.25*je);let $t=0;$t=Bt.length<=.5*je?1:Math.ceil(Bt.paddedLength/cn)+1;for(let Bn=0;Bn<$t;Bn++){const mn=Bn/Math.max($t-1,1),_r=Bt.lerp(mn),ir=_r.x+ae,Un=_r.y+ae;oe.push(ir,Un,je,0);const pi=ir-je,_n=Un-je,ho=ir+je,po=Un+je;if(Ue=Ue&&this.isOffscreen(pi,_n,ho,po),Ne=Ne||this.isInsideGrid(pi,_n,ho,po),r!=="always"&&this.grid.hitTestCircle(ir,Un,je,r,D)&&(Pe=!0,!T))return{circles:[],offscreen:!1,collisionDetected:Pe}}}}return{circles:!T&&Pe||!Ne||Ce<this.perspectiveRatioCutoff?[]:oe,offscreen:Ue,collisionDetected:Pe}}queryRenderedSymbols(r){if(r.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const c=[];let h=1/0,m=1/0,_=-1/0,w=-1/0;for(const L of r){const D=new u.P(L.x+ae,L.y+ae);h=Math.min(h,D.x),m=Math.min(m,D.y),_=Math.max(_,D.x),w=Math.max(w,D.y),c.push(D)}const C=this.grid.query(h,m,_,w).concat(this.ignoredGrid.query(h,m,_,w)),k={},T={};for(const L of C){const D=L.key;if(k[D.bucketInstanceId]===void 0&&(k[D.bucketInstanceId]={}),k[D.bucketInstanceId][D.featureIndex])continue;const W=[new u.P(L.x1,L.y1),new u.P(L.x2,L.y1),new u.P(L.x2,L.y2),new u.P(L.x1,L.y2)];u.an(c,W)&&(k[D.bucketInstanceId][D.featureIndex]=!0,T[D.bucketInstanceId]===void 0&&(T[D.bucketInstanceId]=[]),T[D.bucketInstanceId].push(D.featureIndex))}return T}insertCollisionBox(r,c,h,m,_,w){(h?this.ignoredGrid:this.grid).insert({bucketInstanceId:m,featureIndex:_,collisionGroupID:w,overlapMode:c},r[0],r[1],r[2],r[3])}insertCollisionCircles(r,c,h,m,_,w){const C=h?this.ignoredGrid:this.grid,k={bucketInstanceId:m,featureIndex:_,collisionGroupID:w,overlapMode:c};for(let T=0;T<r.length;T+=4)C.insertCircle(k,r[T],r[T+1],r[T+2])}projectAndGetPerspectiveRatio(r,c,h,m){let _;return m?(_=[c,h,m(c,h),1],u.ag(_,_,r)):(_=[c,h,0,1],re(_,_,r)),{point:new u.P((_[0]/_[3]+1)/2*this.transform.width+ae,(-_[1]/_[3]+1)/2*this.transform.height+ae),perspectiveRatio:.5+this.transform.cameraToCenterDistance/_[3]*.5}}isOffscreen(r,c,h,m){return h<ae||r>=this.screenRightBoundary||m<ae||c>this.screenBottomBoundary}isInsideGrid(r,c,h,m){return h>=0&&r<this.gridRightBoundary&&m>=0&&c<this.gridBottomBoundary}getViewportMatrix(){const r=u.ao([]);return u.$(r,r,[-100,-100,0]),r}}function me(g,r,c){return r*(u.N/(g.tileSize*Math.pow(2,c-g.tileID.overscaledZ)))}class ue{constructor(r,c,h,m){this.opacity=r?Math.max(0,Math.min(1,r.opacity+(r.placed?c:-c))):m&&h?1:0,this.placed=h}isHidden(){return this.opacity===0&&!this.placed}}class ye{constructor(r,c,h,m,_){this.text=new ue(r?r.text:null,c,h,_),this.icon=new ue(r?r.icon:null,c,m,_)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class De{constructor(r,c,h){this.text=r,this.icon=c,this.skipFade=h}}class ze{constructor(){this.invProjMatrix=u.Z(),this.viewportMatrix=u.Z(),this.circles=[]}}class $e{constructor(r,c,h,m,_){this.bucketInstanceId=r,this.featureIndex=c,this.sourceLayerIndex=h,this.bucketIndex=m,this.tileID=_}}class pt{constructor(r){this.crossSourceCollisions=r,this.maxGroupID=0,this.collisionGroups={}}get(r){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[r]){const c=++this.maxGroupID;this.collisionGroups[r]={ID:c,predicate:h=>h.collisionGroupID===c}}return this.collisionGroups[r]}}function At(g,r,c,h,m){const{horizontalAlign:_,verticalAlign:w}=u.au(g);return new u.P(-(_-.5)*r+h[0]*m,-(w-.5)*c+h[1]*m)}function ft(g,r,c,h,m,_){const{x1:w,x2:C,y1:k,y2:T,anchorPointX:L,anchorPointY:D}=g,W=new u.P(r,c);return h&&W._rotate(m?_:-_),{x1:w+W.x,y1:k+W.y,x2:C+W.x,y2:T+W.y,anchorPointX:L,anchorPointY:D}}class St{constructor(r,c,h,m,_){this.transform=r.clone(),this.terrain=c,this.collisionIndex=new xe(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=h,this.retainedQueryData={},this.collisionGroups=new pt(m),this.collisionCircleArrays={},this.prevPlacement=_,_&&(_.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(r,c,h,m){const _=h.getBucket(c),w=h.latestFeatureIndex;if(!_||!w||c.id!==_.layerIds[0])return;const C=h.collisionBoxArray,k=_.layers[0].layout,T=Math.pow(2,this.transform.zoom-h.tileID.overscaledZ),L=h.tileSize/u.N,D=this.transform.calculatePosMatrix(h.tileID.toUnwrapped()),W=k.get("text-pitch-alignment")==="map",te=k.get("text-rotation-alignment")==="map",ee=me(h,1,this.transform.zoom),oe=Ye(D,W,te,this.transform,ee);let Y=null;if(W){const Ce=Mi(D,W,te,this.transform,ee);Y=u.a1([],this.transform.labelPlaneMatrix,Ce)}this.retainedQueryData[_.bucketInstanceId]=new $e(_.bucketInstanceId,w,_.sourceLayerIndex,_.index,h.tileID);const ge={bucket:_,layout:k,posMatrix:D,textLabelPlaneMatrix:oe,labelToScreenMatrix:Y,scale:T,textPixelRatio:L,holdingForFade:h.holdingForFade(),collisionBoxArray:C,partiallyEvaluatedTextSize:u.ah(_.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(_.sourceID)};if(m)for(const Ce of _.sortKeyRanges){const{sortKey:le,symbolInstanceStart:ve,symbolInstanceEnd:Ae}=Ce;r.push({sortKey:le,symbolInstanceStart:ve,symbolInstanceEnd:Ae,parameters:ge})}else r.push({symbolInstanceStart:0,symbolInstanceEnd:_.symbolInstances.length,parameters:ge})}attemptAnchorPlacement(r,c,h,m,_,w,C,k,T,L,D,W,te,ee,oe,Y){const ge=u.aq[r.textAnchor],Ce=[r.textOffset0,r.textOffset1],le=At(ge,h,m,Ce,_),ve=this.collisionIndex.placeCollisionBox(ft(c,le.x,le.y,w,C,this.transform.angle),D,k,T,L.predicate,Y);if((!oe||this.collisionIndex.placeCollisionBox(ft(oe,le.x,le.y,w,C,this.transform.angle),D,k,T,L.predicate,Y).box.length!==0)&&ve.box.length>0){let Ae;if(this.prevPlacement&&this.prevPlacement.variableOffsets[W.crossTileID]&&this.prevPlacement.placements[W.crossTileID]&&this.prevPlacement.placements[W.crossTileID].text&&(Ae=this.prevPlacement.variableOffsets[W.crossTileID].anchor),W.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[W.crossTileID]={textOffset:Ce,width:h,height:m,anchor:ge,textBoxScale:_,prevAnchor:Ae},this.markUsedJustification(te,ge,W,ee),te.allowVerticalPlacement&&(this.markUsedOrientation(te,ee,W),this.placedOrientations[W.crossTileID]=ee),{shift:le,placedGlyphBoxes:ve}}}placeLayerBucketPart(r,c,h){const{bucket:m,layout:_,posMatrix:w,textLabelPlaneMatrix:C,labelToScreenMatrix:k,textPixelRatio:T,holdingForFade:L,collisionBoxArray:D,partiallyEvaluatedTextSize:W,collisionGroup:te}=r.parameters,ee=_.get("text-optional"),oe=_.get("icon-optional"),Y=u.ar(_,"text-overlap","text-allow-overlap"),ge=Y==="always",Ce=u.ar(_,"icon-overlap","icon-allow-overlap"),le=Ce==="always",ve=_.get("text-rotation-alignment")==="map",Ae=_.get("text-pitch-alignment")==="map",Pe=_.get("icon-text-fit")!=="none",Ne=_.get("symbol-z-order")==="viewport-y",Ue=ge&&(le||!m.hasIconData()||oe),je=le&&(ge||!m.hasTextData()||ee);!m.collisionArrays&&D&&m.deserializeCollisionBoxes(D);const Ke=this.retainedQueryData[m.bucketInstanceId].tileID,mt=this.terrain?(rt,Et)=>this.terrain.getElevation(Ke,rt,Et):null,Bt=(rt,Et)=>{var yt,cn;if(c[rt.crossTileID])return;if(L)return void(this.placements[rt.crossTileID]=new De(!1,!1,!1));let Nt=!1,zt=!1,$t=!0,Bn=null,mn={box:null,offscreen:null},_r={box:null,offscreen:null},ir=null,Un=null,pi=null,_n=0,ho=0,po=0;Et.textFeatureIndex?_n=Et.textFeatureIndex:rt.useRuntimeCollisionCircles&&(_n=rt.featureIndex),Et.verticalTextFeatureIndex&&(ho=Et.verticalTextFeatureIndex);const ca=Et.textBox;if(ca){const Pr=$n=>{let or=u.ai.horizontal;if(m.allowVerticalPlacement&&!$n&&this.prevPlacement){const Xr=this.prevPlacement.placedOrientations[rt.crossTileID];Xr&&(this.placedOrientations[rt.crossTileID]=Xr,or=Xr,this.markUsedOrientation(m,or,rt))}return or},xr=($n,or)=>{if(m.allowVerticalPlacement&&rt.numVerticalGlyphVertices>0&&Et.verticalTextBox){for(const Xr of m.writingModes)if(Xr===u.ai.vertical?(mn=or(),_r=mn):mn=$n(),mn&&mn.box&&mn.box.length)break}else mn=$n()},Or=rt.textAnchorOffsetStartIndex,Aa=rt.textAnchorOffsetEndIndex;if(Aa===Or){const $n=(or,Xr)=>{const jn=this.collisionIndex.placeCollisionBox(or,Y,T,w,te.predicate,mt);return jn&&jn.box&&jn.box.length&&(this.markUsedOrientation(m,Xr,rt),this.placedOrientations[rt.crossTileID]=Xr),jn};xr(()=>$n(ca,u.ai.horizontal),()=>{const or=Et.verticalTextBox;return m.allowVerticalPlacement&&rt.numVerticalGlyphVertices>0&&or?$n(or,u.ai.vertical):{box:null,offscreen:null}}),Pr(mn&&mn.box&&mn.box.length)}else{let $n=u.aq[(cn=(yt=this.prevPlacement)===null||yt===void 0?void 0:yt.variableOffsets[rt.crossTileID])===null||cn===void 0?void 0:cn.anchor];const or=(jn,Pa,_1)=>{const Ih=jn.x2-jn.x1,Lh=jn.y2-jn.y1,W0=rt.textBoxScale,hc=Pe&&Ce==="never"?Pa:null;let fo={box:[],offscreen:!1},Ta=Y==="never"?1:2,mo="never";$n&&Ta++;for(let Ri=0;Ri<Ta;Ri++){for(let go=Or;go<Aa;go++){const pc=m.textAnchorOffsets.get(go);if($n&&pc.textAnchor!==$n)continue;const No=this.attemptAnchorPlacement(pc,jn,Ih,Lh,W0,ve,Ae,T,w,te,mo,rt,m,_1,hc,mt);if(No&&(fo=No.placedGlyphBoxes,fo&&fo.box&&fo.box.length))return Nt=!0,Bn=No.shift,fo}$n?$n=null:mo=Y}return fo};xr(()=>or(ca,Et.iconBox,u.ai.horizontal),()=>{const jn=Et.verticalTextBox;return m.allowVerticalPlacement&&!(mn&&mn.box&&mn.box.length)&&rt.numVerticalGlyphVertices>0&&jn?or(jn,Et.verticalIconBox,u.ai.vertical):{box:null,offscreen:null}}),mn&&(Nt=mn.box,$t=mn.offscreen);const Xr=Pr(mn&&mn.box);if(!Nt&&this.prevPlacement){const jn=this.prevPlacement.variableOffsets[rt.crossTileID];jn&&(this.variableOffsets[rt.crossTileID]=jn,this.markUsedJustification(m,jn.anchor,rt,Xr))}}}if(ir=mn,Nt=ir&&ir.box&&ir.box.length>0,$t=ir&&ir.offscreen,rt.useRuntimeCollisionCircles){const Pr=m.text.placedSymbolArray.get(rt.centerJustifiedTextSymbolIndex),xr=u.aj(m.textSizeData,W,Pr),Or=_.get("text-padding");Un=this.collisionIndex.placeCollisionCircles(Y,Pr,m.lineVertexArray,m.glyphOffsetArray,xr,w,C,k,h,Ae,te.predicate,rt.collisionCircleDiameter,Or,mt),Un.circles.length&&Un.collisionDetected&&!h&&u.w("Collisions detected, but collision boxes are not shown"),Nt=ge||Un.circles.length>0&&!Un.collisionDetected,$t=$t&&Un.offscreen}if(Et.iconFeatureIndex&&(po=Et.iconFeatureIndex),Et.iconBox){const Pr=xr=>{const Or=Pe&&Bn?ft(xr,Bn.x,Bn.y,ve,Ae,this.transform.angle):xr;return this.collisionIndex.placeCollisionBox(Or,Ce,T,w,te.predicate,mt)};_r&&_r.box&&_r.box.length&&Et.verticalIconBox?(pi=Pr(Et.verticalIconBox),zt=pi.box.length>0):(pi=Pr(Et.iconBox),zt=pi.box.length>0),$t=$t&&pi.offscreen}const ka=ee||rt.numHorizontalGlyphVertices===0&&rt.numVerticalGlyphVertices===0,hs=oe||rt.numIconVertices===0;if(ka||hs?hs?ka||(zt=zt&&Nt):Nt=zt&&Nt:zt=Nt=zt&&Nt,Nt&&ir&&ir.box&&this.collisionIndex.insertCollisionBox(ir.box,Y,_.get("text-ignore-placement"),m.bucketInstanceId,_r&&_r.box&&ho?ho:_n,te.ID),zt&&pi&&this.collisionIndex.insertCollisionBox(pi.box,Ce,_.get("icon-ignore-placement"),m.bucketInstanceId,po,te.ID),Un&&(Nt&&this.collisionIndex.insertCollisionCircles(Un.circles,Y,_.get("text-ignore-placement"),m.bucketInstanceId,_n,te.ID),h)){const Pr=m.bucketInstanceId;let xr=this.collisionCircleArrays[Pr];xr===void 0&&(xr=this.collisionCircleArrays[Pr]=new ze);for(let Or=0;Or<Un.circles.length;Or+=4)xr.circles.push(Un.circles[Or+0]),xr.circles.push(Un.circles[Or+1]),xr.circles.push(Un.circles[Or+2]),xr.circles.push(Un.collisionDetected?1:0)}if(rt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(m.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[rt.crossTileID]=new De(Nt||Ue,zt||je,$t||m.justReloaded),c[rt.crossTileID]=!0};if(Ne){if(r.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const rt=m.getSortedSymbolIndexes(this.transform.angle);for(let Et=rt.length-1;Et>=0;--Et){const yt=rt[Et];Bt(m.symbolInstances.get(yt),m.collisionArrays[yt])}}else for(let rt=r.symbolInstanceStart;rt<r.symbolInstanceEnd;rt++)Bt(m.symbolInstances.get(rt),m.collisionArrays[rt]);if(h&&m.bucketInstanceId in this.collisionCircleArrays){const rt=this.collisionCircleArrays[m.bucketInstanceId];u.as(rt.invProjMatrix,w),rt.viewportMatrix=this.collisionIndex.getViewportMatrix()}m.justReloaded=!1}markUsedJustification(r,c,h,m){let _;_=m===u.ai.vertical?h.verticalPlacedTextSymbolIndex:{left:h.leftJustifiedTextSymbolIndex,center:h.centerJustifiedTextSymbolIndex,right:h.rightJustifiedTextSymbolIndex}[u.at(c)];const w=[h.leftJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.rightJustifiedTextSymbolIndex,h.verticalPlacedTextSymbolIndex];for(const C of w)C>=0&&(r.text.placedSymbolArray.get(C).crossTileID=_>=0&&C!==_?0:h.crossTileID)}markUsedOrientation(r,c,h){const m=c===u.ai.horizontal||c===u.ai.horizontalOnly?c:0,_=c===u.ai.vertical?c:0,w=[h.leftJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.rightJustifiedTextSymbolIndex];for(const C of w)r.text.placedSymbolArray.get(C).placedOrientation=m;h.verticalPlacedTextSymbolIndex&&(r.text.placedSymbolArray.get(h.verticalPlacedTextSymbolIndex).placedOrientation=_)}commit(r){this.commitTime=r,this.zoomAtLastRecencyCheck=this.transform.zoom;const c=this.prevPlacement;let h=!1;this.prevZoomAdjustment=c?c.zoomAdjustment(this.transform.zoom):0;const m=c?c.symbolFadeChange(r):1,_=c?c.opacities:{},w=c?c.variableOffsets:{},C=c?c.placedOrientations:{};for(const k in this.placements){const T=this.placements[k],L=_[k];L?(this.opacities[k]=new ye(L,m,T.text,T.icon),h=h||T.text!==L.text.placed||T.icon!==L.icon.placed):(this.opacities[k]=new ye(null,m,T.text,T.icon,T.skipFade),h=h||T.text||T.icon)}for(const k in _){const T=_[k];if(!this.opacities[k]){const L=new ye(T,m,!1,!1);L.isHidden()||(this.opacities[k]=L,h=h||T.text.placed||T.icon.placed)}}for(const k in w)this.variableOffsets[k]||!this.opacities[k]||this.opacities[k].isHidden()||(this.variableOffsets[k]=w[k]);for(const k in C)this.placedOrientations[k]||!this.opacities[k]||this.opacities[k].isHidden()||(this.placedOrientations[k]=C[k]);if(c&&c.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");h?this.lastPlacementChangeTime=r:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=c?c.lastPlacementChangeTime:r)}updateLayerOpacities(r,c){const h={};for(const m of c){const _=m.getBucket(r);_&&m.latestFeatureIndex&&r.id===_.layerIds[0]&&this.updateBucketOpacities(_,h,m.collisionBoxArray)}}updateBucketOpacities(r,c,h){r.hasTextData()&&(r.text.opacityVertexArray.clear(),r.text.hasVisibleVertices=!1),r.hasIconData()&&(r.icon.opacityVertexArray.clear(),r.icon.hasVisibleVertices=!1),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexArray.clear(),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexArray.clear();const m=r.layers[0],_=m.layout,w=new ye(null,0,!1,!1,!0),C=_.get("text-allow-overlap"),k=_.get("icon-allow-overlap"),T=m._unevaluatedLayout.hasValue("text-variable-anchor")||m._unevaluatedLayout.hasValue("text-variable-anchor-offset"),L=_.get("text-rotation-alignment")==="map",D=_.get("text-pitch-alignment")==="map",W=_.get("icon-text-fit")!=="none",te=new ye(null,0,C&&(k||!r.hasIconData()||_.get("icon-optional")),k&&(C||!r.hasTextData()||_.get("text-optional")),!0);!r.collisionArrays&&h&&(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData())&&r.deserializeCollisionBoxes(h);const ee=(oe,Y,ge)=>{for(let Ce=0;Ce<Y/4;Ce++)oe.opacityVertexArray.emplaceBack(ge);oe.hasVisibleVertices=oe.hasVisibleVertices||ge!==Ai};for(let oe=0;oe<r.symbolInstances.length;oe++){const Y=r.symbolInstances.get(oe),{numHorizontalGlyphVertices:ge,numVerticalGlyphVertices:Ce,crossTileID:le}=Y;let ve=this.opacities[le];c[le]?ve=w:ve||(ve=te,this.opacities[le]=ve),c[le]=!0;const Ae=Y.numIconVertices>0,Pe=this.placedOrientations[Y.crossTileID],Ne=Pe===u.ai.vertical,Ue=Pe===u.ai.horizontal||Pe===u.ai.horizontalOnly;if(ge>0||Ce>0){const je=yr(ve.text);ee(r.text,ge,Ne?Ai:je),ee(r.text,Ce,Ue?Ai:je);const Ke=ve.text.isHidden();[Y.rightJustifiedTextSymbolIndex,Y.centerJustifiedTextSymbolIndex,Y.leftJustifiedTextSymbolIndex].forEach(rt=>{rt>=0&&(r.text.placedSymbolArray.get(rt).hidden=Ke||Ne?1:0)}),Y.verticalPlacedTextSymbolIndex>=0&&(r.text.placedSymbolArray.get(Y.verticalPlacedTextSymbolIndex).hidden=Ke||Ue?1:0);const mt=this.variableOffsets[Y.crossTileID];mt&&this.markUsedJustification(r,mt.anchor,Y,Pe);const Bt=this.placedOrientations[Y.crossTileID];Bt&&(this.markUsedJustification(r,"left",Y,Bt),this.markUsedOrientation(r,Bt,Y))}if(Ae){const je=yr(ve.icon),Ke=!(W&&Y.verticalPlacedIconSymbolIndex&&Ne);Y.placedIconSymbolIndex>=0&&(ee(r.icon,Y.numIconVertices,Ke?je:Ai),r.icon.placedSymbolArray.get(Y.placedIconSymbolIndex).hidden=ve.icon.isHidden()),Y.verticalPlacedIconSymbolIndex>=0&&(ee(r.icon,Y.numVerticalIconVertices,Ke?Ai:je),r.icon.placedSymbolArray.get(Y.verticalPlacedIconSymbolIndex).hidden=ve.icon.isHidden())}if(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData()){const je=r.collisionArrays[oe];if(je){let Ke=new u.P(0,0);if(je.textBox||je.verticalTextBox){let Bt=!0;if(T){const rt=this.variableOffsets[le];rt?(Ke=At(rt.anchor,rt.width,rt.height,rt.textOffset,rt.textBoxScale),L&&Ke._rotate(D?this.transform.angle:-this.transform.angle)):Bt=!1}je.textBox&&It(r.textCollisionBox.collisionVertexArray,ve.text.placed,!Bt||Ne,Ke.x,Ke.y),je.verticalTextBox&&It(r.textCollisionBox.collisionVertexArray,ve.text.placed,!Bt||Ue,Ke.x,Ke.y)}const mt=!!(!Ue&&je.verticalIconBox);je.iconBox&&It(r.iconCollisionBox.collisionVertexArray,ve.icon.placed,mt,W?Ke.x:0,W?Ke.y:0),je.verticalIconBox&&It(r.iconCollisionBox.collisionVertexArray,ve.icon.placed,!mt,W?Ke.x:0,W?Ke.y:0)}}}if(r.sortFeatures(this.transform.angle),this.retainedQueryData[r.bucketInstanceId]&&(this.retainedQueryData[r.bucketInstanceId].featureSortOrder=r.featureSortOrder),r.hasTextData()&&r.text.opacityVertexBuffer&&r.text.opacityVertexBuffer.updateData(r.text.opacityVertexArray),r.hasIconData()&&r.icon.opacityVertexBuffer&&r.icon.opacityVertexBuffer.updateData(r.icon.opacityVertexArray),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexBuffer&&r.iconCollisionBox.collisionVertexBuffer.updateData(r.iconCollisionBox.collisionVertexArray),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexBuffer&&r.textCollisionBox.collisionVertexBuffer.updateData(r.textCollisionBox.collisionVertexArray),r.text.opacityVertexArray.length!==r.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${r.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${r.text.layoutVertexArray.length}) / 4`);if(r.icon.opacityVertexArray.length!==r.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${r.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${r.icon.layoutVertexArray.length}) / 4`);if(r.bucketInstanceId in this.collisionCircleArrays){const oe=this.collisionCircleArrays[r.bucketInstanceId];r.placementInvProjMatrix=oe.invProjMatrix,r.placementViewportMatrix=oe.viewportMatrix,r.collisionCircleArray=oe.circles,delete this.collisionCircleArrays[r.bucketInstanceId]}}symbolFadeChange(r){return this.fadeDuration===0?1:(r-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(r){return Math.max(0,(this.transform.zoom-r)/1.5)}hasTransitions(r){return this.stale||r-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(r,c){const h=this.zoomAtLastRecencyCheck===c?1-this.zoomAdjustment(c):1;return this.zoomAtLastRecencyCheck=c,this.commitTime+this.fadeDuration*h>r}setStale(){this.stale=!0}}function It(g,r,c,h,m){g.emplaceBack(r?1:0,c?1:0,h||0,m||0),g.emplaceBack(r?1:0,c?1:0,h||0,m||0),g.emplaceBack(r?1:0,c?1:0,h||0,m||0),g.emplaceBack(r?1:0,c?1:0,h||0,m||0)}const rn=Math.pow(2,25),dn=Math.pow(2,24),Gt=Math.pow(2,17),Ht=Math.pow(2,16),kr=Math.pow(2,9),fn=Math.pow(2,8),Xn=Math.pow(2,1);function yr(g){if(g.opacity===0&&!g.placed)return 0;if(g.opacity===1&&g.placed)return 4294967295;const r=g.placed?1:0,c=Math.floor(127*g.opacity);return c*rn+r*dn+c*Gt+r*Ht+c*kr+r*fn+c*Xn+r}const Ai=0;class Gd{constructor(r){this._sortAcrossTiles=r.layout.get("symbol-z-order")!=="viewport-y"&&!r.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(r,c,h,m,_){const w=this._bucketParts;for(;this._currentTileIndex<r.length;)if(c.getBucketParts(w,m,r[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,_())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,w.sort((C,k)=>C.sortKey-k.sortKey));this._currentPartIndex<w.length;)if(c.placeLayerBucketPart(w[this._currentPartIndex],this._seenCrossTileIDs,h),this._currentPartIndex++,_())return!0;return!1}}class Qa{constructor(r,c,h,m,_,w,C,k){this.placement=new St(r,c,w,C,k),this._currentPlacementIndex=h.length-1,this._forceFullPlacement=m,this._showCollisionBoxes=_,this._done=!1}isDone(){return this._done}continuePlacement(r,c,h){const m=u.h.now(),_=()=>!this._forceFullPlacement&&u.h.now()-m>2;for(;this._currentPlacementIndex>=0;){const w=c[r[this._currentPlacementIndex]],C=this.placement.collisionIndex.transform.zoom;if(w.type==="symbol"&&(!w.minzoom||w.minzoom<=C)&&(!w.maxzoom||w.maxzoom>C)){if(this._inProgressLayer||(this._inProgressLayer=new Gd(w)),this._inProgressLayer.continuePlacement(h[w.source],this.placement,this._showCollisionBoxes,w,_))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(r){return this.placement.commit(r),this.placement}}const es=512/u.N/2;class E0{constructor(r,c,h){this.tileID=r,this.bucketInstanceId=h,this._symbolsByKey={};const m=new Map;for(let _=0;_<c.length;_++){const w=c.get(_),C=w.key,k=m.get(C);k?k.push(w):m.set(C,[w])}for(const[_,w]of m){const C={positions:w.map(k=>({x:Math.floor(k.anchorX*es),y:Math.floor(k.anchorY*es)})),crossTileIDs:w.map(k=>k.crossTileID)};if(C.positions.length>128){const k=new u.av(C.positions.length,16,Uint16Array);for(const{x:T,y:L}of C.positions)k.add(T,L);k.finish(),delete C.positions,C.index=k}this._symbolsByKey[_]=C}}getScaledCoordinates(r,c){const{x:h,y:m,z:_}=this.tileID.canonical,{x:w,y:C,z:k}=c.canonical,T=es/Math.pow(2,k-_),L=(C*u.N+r.anchorY)*T,D=m*u.N*es;return{x:Math.floor((w*u.N+r.anchorX)*T-h*u.N*es),y:Math.floor(L-D)}}findMatches(r,c,h){const m=this.tileID.canonical.z<c.canonical.z?1:Math.pow(2,this.tileID.canonical.z-c.canonical.z);for(let _=0;_<r.length;_++){const w=r.get(_);if(w.crossTileID)continue;const C=this._symbolsByKey[w.key];if(!C)continue;const k=this.getScaledCoordinates(w,c);if(C.index){const T=C.index.range(k.x-m,k.y-m,k.x+m,k.y+m).sort();for(const L of T){const D=C.crossTileIDs[L];if(!h[D]){h[D]=!0,w.crossTileID=D;break}}}else if(C.positions)for(let T=0;T<C.positions.length;T++){const L=C.positions[T],D=C.crossTileIDs[T];if(Math.abs(L.x-k.x)<=m&&Math.abs(L.y-k.y)<=m&&!h[D]){h[D]=!0,w.crossTileID=D;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:r})=>r)}}class un{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Mu{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(r){const c=Math.round((r-this.lng)/360);if(c!==0)for(const h in this.indexes){const m=this.indexes[h],_={};for(const w in m){const C=m[w];C.tileID=C.tileID.unwrapTo(C.tileID.wrap+c),_[C.tileID.key]=C}this.indexes[h]=_}this.lng=r}addBucket(r,c,h){if(this.indexes[r.overscaledZ]&&this.indexes[r.overscaledZ][r.key]){if(this.indexes[r.overscaledZ][r.key].bucketInstanceId===c.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(r.overscaledZ,this.indexes[r.overscaledZ][r.key])}for(let _=0;_<c.symbolInstances.length;_++)c.symbolInstances.get(_).crossTileID=0;this.usedCrossTileIDs[r.overscaledZ]||(this.usedCrossTileIDs[r.overscaledZ]={});const m=this.usedCrossTileIDs[r.overscaledZ];for(const _ in this.indexes){const w=this.indexes[_];if(Number(_)>r.overscaledZ)for(const C in w){const k=w[C];k.tileID.isChildOf(r)&&k.findMatches(c.symbolInstances,r,m)}else{const C=w[r.scaledTo(Number(_)).key];C&&C.findMatches(c.symbolInstances,r,m)}}for(let _=0;_<c.symbolInstances.length;_++){const w=c.symbolInstances.get(_);w.crossTileID||(w.crossTileID=h.generate(),m[w.crossTileID]=!0)}return this.indexes[r.overscaledZ]===void 0&&(this.indexes[r.overscaledZ]={}),this.indexes[r.overscaledZ][r.key]=new E0(r,c.symbolInstances,c.bucketInstanceId),!0}removeBucketCrossTileIDs(r,c){for(const h of c.getCrossTileIDsLists())for(const m of h)delete this.usedCrossTileIDs[r][m]}removeStaleBuckets(r){let c=!1;for(const h in this.indexes){const m=this.indexes[h];for(const _ in m)r[m[_].bucketInstanceId]||(this.removeBucketCrossTileIDs(h,m[_]),delete m[_],c=!0)}return c}}class Hl{constructor(){this.layerIndexes={},this.crossTileIDs=new un,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(r,c,h){let m=this.layerIndexes[r.id];m===void 0&&(m=this.layerIndexes[r.id]=new Mu);let _=!1;const w={};m.handleWrapJump(h);for(const C of c){const k=C.getBucket(r);k&&r.id===k.layerIds[0]&&(k.bucketInstanceId||(k.bucketInstanceId=++this.maxBucketInstanceId),m.addBucket(C.tileID,k,this.crossTileIDs)&&(_=!0),w[k.bucketInstanceId]=!0)}return m.removeStaleBuckets(w)&&(_=!0),_}pruneUnusedLayers(r){const c={};r.forEach(h=>{c[h]=!0});for(const h in this.layerIndexes)c[h]||delete this.layerIndexes[h]}}const Ar=(g,r)=>u.x(g,r&&r.filter(c=>c.identifier!=="source.canvas")),li=u.F(u.ax,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),k0=u.F(u.ax,["setCenter","setZoom","setBearing","setPitch"]),Pi=u.aw();class vr extends u.E{constructor(r,c={}){super(),this.map=r,this.dispatcher=new Ze(Ya(),this,r._getMapId()),this.imageManager=new He,this.imageManager.setEventedParent(this),this.glyphManager=new Le(r._requestManager,c.localIdeographFontFamily),this.lineAtlas=new Ve(256,512),this.crossTileSymbolIndex=new Hl,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new u.ay,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",u.az());const h=this;this._rtlTextPluginCallback=vr.registerForPluginStateChange(m=>{h.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:m.pluginStatus,pluginURL:m.pluginURL},(_,w)=>{if(u.aA(_),w&&w.every(C=>C))for(const C in h.sourceCaches){const k=h.sourceCaches[C].getSource().type;k!=="vector"&&k!=="geojson"||h.sourceCaches[C].reload()}})}),this.on("data",m=>{if(m.dataType!=="source"||m.sourceDataType!=="metadata")return;const _=this.sourceCaches[m.sourceId];if(!_)return;const w=_.getSource();if(w&&w.vectorLayerIds)for(const C in this._layers){const k=this._layers[C];k.source===w.id&&this._validateLayer(k)}})}loadURL(r,c={},h){this.fire(new u.k("dataloading",{dataType:"style"})),c.validate=typeof c.validate!="boolean"||c.validate;const m=this.map._requestManager.transformRequest(r,O.Style);this._request=u.f(m,(_,w)=>{this._request=null,_?this.fire(new u.j(_)):w&&this._load(w,c,h)})}loadJSON(r,c={},h){this.fire(new u.k("dataloading",{dataType:"style"})),this._request=u.h.frame(()=>{this._request=null,c.validate=c.validate!==!1,this._load(r,c,h)})}loadEmpty(){this.fire(new u.k("dataloading",{dataType:"style"})),this._load(Pi,{validate:!1})}_load(r,c,h){var m;const _=c.transformStyle?c.transformStyle(h,r):r;if(!c.validate||!Ar(this,u.y(_))){this._loaded=!0,this.stylesheet=_;for(const w in _.sources)this.addSource(w,_.sources[w],{validate:!1});_.sprite?this._loadSprite(_.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(_.glyphs),this._createLayers(),this.light=new Re(this.stylesheet.light),this.map.setTerrain((m=this.stylesheet.terrain)!==null&&m!==void 0?m:null),this.fire(new u.k("data",{dataType:"style"})),this.fire(new u.k("style.load"))}}_createLayers(){const r=u.aB(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",r),this._order=r.map(c=>c.id),this._layers={},this._serializedLayers=null;for(const c of r){const h=u.aC(c);h.setEventedParent(this,{layer:{id:c.id}}),this._layers[c.id]=h}}_loadSprite(r,c=!1,h=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(m,_,w,C){const k=Se(m),T=k.length,L=w>1?"@2x":"",D={},W={},te={};for(const{id:ee,url:oe}of k){const Y=_.transformRequest(_.normalizeSpriteURL(oe,L,".json"),O.SpriteJSON),ge=`${ee}_${Y.url}`;D[ge]=u.f(Y,(ve,Ae)=>{delete D[ge],W[ee]=Ae,Te(C,W,te,ve,T)});const Ce=_.transformRequest(_.normalizeSpriteURL(oe,L,".png"),O.SpriteImage),le=`${ee}_${Ce.url}`;D[le]=K.getImage(Ce,(ve,Ae)=>{delete D[le],te[ee]=Ae,Te(C,W,te,ve,T)})}return{cancel(){for(const ee of Object.values(D))ee.cancel()}}}(r,this.map._requestManager,this.map.getPixelRatio(),(m,_)=>{if(this._spriteRequest=null,m)this.fire(new u.j(m));else if(_)for(const w in _){this._spritesImagesIds[w]=[];const C=this._spritesImagesIds[w]?this._spritesImagesIds[w].filter(k=>!(k in _)):[];for(const k of C)this.imageManager.removeImage(k),this._changedImages[k]=!0;for(const k in _[w]){const T=w==="default"?k:`${w}:${k}`;this._spritesImagesIds[w].push(T),T in this.imageManager.images?this.imageManager.updateImage(T,_[w][k],!1):this.imageManager.addImage(T,_[w][k]),c&&(this._changedImages[T]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),c&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new u.k("data",{dataType:"style"})),h&&h(m)})}_unloadSprite(){for(const r of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(r),this._changedImages[r]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new u.k("data",{dataType:"style"}))}_validateLayer(r){const c=this.sourceCaches[r.source];if(!c)return;const h=r.sourceLayer;if(!h)return;const m=c.getSource();(m.type==="geojson"||m.vectorLayerIds&&m.vectorLayerIds.indexOf(h)===-1)&&this.fire(new u.j(new Error(`Source layer "${h}" does not exist on source "${m.id}" as specified by style layer "${r.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const r in this.sourceCaches)if(!this.sourceCaches[r].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(r){const c=this._serializedAllLayers();if(!r||r.length===0)return Object.values(c);const h=[];for(const m of r)c[m]&&h.push(c[m]);return h}_serializedAllLayers(){let r=this._serializedLayers;if(r)return r;r=this._serializedLayers={};const c=Object.keys(this._layers);for(const h of c){const m=this._layers[h];m.type!=="custom"&&(r[h]=m.serialize())}return r}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const r in this.sourceCaches)if(this.sourceCaches[r].hasTransition())return!0;for(const r in this._layers)if(this._layers[r].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(r){if(!this._loaded)return;const c=this._changed;if(this._changed){const m=Object.keys(this._updatedLayers),_=Object.keys(this._removedLayers);(m.length||_.length)&&this._updateWorkerLayers(m,_);for(const w in this._updatedSources){const C=this._updatedSources[w];if(C==="reload")this._reloadSource(w);else{if(C!=="clear")throw new Error(`Invalid action ${C}`);this._clearSource(w)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const w in this._updatedPaintProps)this._layers[w].updateTransitions(r);this.light.updateTransitions(r),this._resetUpdates()}const h={};for(const m in this.sourceCaches){const _=this.sourceCaches[m];h[m]=_.used,_.used=!1}for(const m of this._order){const _=this._layers[m];_.recalculate(r,this._availableImages),!_.isHidden(r.zoom)&&_.source&&(this.sourceCaches[_.source].used=!0)}for(const m in h){const _=this.sourceCaches[m];h[m]!==_.used&&_.fire(new u.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:m}))}this.light.recalculate(r),this.z=r.zoom,c&&this.fire(new u.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const r=Object.keys(this._changedImages);if(r.length){for(const c in this.sourceCaches)this.sourceCaches[c].reloadTilesForDependencies(["icons","patterns"],r);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const r in this.sourceCaches)this.sourceCaches[r].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(r,c){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(r),removedIds:c})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(r,c={}){this._checkLoaded();const h=this.serialize();if(r=c.transformStyle?c.transformStyle(h,r):r,Ar(this,u.y(r)))return!1;(r=u.aD(r)).layers=u.aB(r.layers);const m=u.aE(h,r).filter(w=>!(w.command in k0));if(m.length===0)return!1;const _=m.filter(w=>!(w.command in li));if(_.length>0)throw new Error(`Unimplemented: ${_.map(w=>w.command).join(", ")}.`);for(const w of m)w.command!=="setTransition"&&this[w.command].apply(this,w.args);return this.stylesheet=r,this._serializedLayers=null,!0}addImage(r,c){if(this.getImage(r))return this.fire(new u.j(new Error(`An image named "${r}" already exists.`)));this.imageManager.addImage(r,c),this._afterImageUpdated(r)}updateImage(r,c){this.imageManager.updateImage(r,c)}getImage(r){return this.imageManager.getImage(r)}removeImage(r){if(!this.getImage(r))return this.fire(new u.j(new Error(`An image named "${r}" does not exist.`)));this.imageManager.removeImage(r),this._afterImageUpdated(r)}_afterImageUpdated(r){this._availableImages=this.imageManager.listImages(),this._changedImages[r]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new u.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(r,c,h={}){if(this._checkLoaded(),this.sourceCaches[r]!==void 0)throw new Error(`Source "${r}" already exists.`);if(!c.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(c).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(c.type)>=0&&this._validate(u.y.source,`sources.${r}`,c,null,h))return;this.map&&this.map._collectResourceTiming&&(c.collectResourceTiming=!0);const m=this.sourceCaches[r]=new Rt(r,c,this.dispatcher);m.style=this,m.setEventedParent(this,()=>({isSourceLoaded:m.loaded(),source:m.serialize(),sourceId:r})),m.onAdd(this.map),this._changed=!0}removeSource(r){if(this._checkLoaded(),this.sourceCaches[r]===void 0)throw new Error("There is no source with this ID");for(const h in this._layers)if(this._layers[h].source===r)return this.fire(new u.j(new Error(`Source "${r}" cannot be removed while layer "${h}" is using it.`)));const c=this.sourceCaches[r];delete this.sourceCaches[r],delete this._updatedSources[r],c.fire(new u.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:r})),c.setEventedParent(null),c.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(r,c){if(this._checkLoaded(),this.sourceCaches[r]===void 0)throw new Error(`There is no source with this ID=${r}`);const h=this.sourceCaches[r].getSource();if(h.type!=="geojson")throw new Error(`geojsonSource.type is ${h.type}, which is !== 'geojson`);h.setData(c),this._changed=!0}getSource(r){return this.sourceCaches[r]&&this.sourceCaches[r].getSource()}addLayer(r,c,h={}){this._checkLoaded();const m=r.id;if(this.getLayer(m))return void this.fire(new u.j(new Error(`Layer "${m}" already exists on this map.`)));let _;if(r.type==="custom"){if(Ar(this,u.aF(r)))return;_=u.aC(r)}else{if("source"in r&&typeof r.source=="object"&&(this.addSource(m,r.source),r=u.aD(r),r=u.e(r,{source:m})),this._validate(u.y.layer,`layers.${m}`,r,{arrayIndex:-1},h))return;_=u.aC(r),this._validateLayer(_),_.setEventedParent(this,{layer:{id:m}})}const w=c?this._order.indexOf(c):this._order.length;if(c&&w===-1)this.fire(new u.j(new Error(`Cannot add layer "${m}" before non-existing layer "${c}".`)));else{if(this._order.splice(w,0,m),this._layerOrderChanged=!0,this._layers[m]=_,this._removedLayers[m]&&_.source&&_.type!=="custom"){const C=this._removedLayers[m];delete this._removedLayers[m],C.type!==_.type?this._updatedSources[_.source]="clear":(this._updatedSources[_.source]="reload",this.sourceCaches[_.source].pause())}this._updateLayer(_),_.onAdd&&_.onAdd(this.map)}}moveLayer(r,c){if(this._checkLoaded(),this._changed=!0,!this._layers[r])return void this.fire(new u.j(new Error(`The layer '${r}' does not exist in the map's style and cannot be moved.`)));if(r===c)return;const h=this._order.indexOf(r);this._order.splice(h,1);const m=c?this._order.indexOf(c):this._order.length;c&&m===-1?this.fire(new u.j(new Error(`Cannot move layer "${r}" before non-existing layer "${c}".`))):(this._order.splice(m,0,r),this._layerOrderChanged=!0)}removeLayer(r){this._checkLoaded();const c=this._layers[r];if(!c)return void this.fire(new u.j(new Error(`Cannot remove non-existing layer "${r}".`)));c.setEventedParent(null);const h=this._order.indexOf(r);this._order.splice(h,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[r]=c,delete this._layers[r],this._serializedLayers&&delete this._serializedLayers[r],delete this._updatedLayers[r],delete this._updatedPaintProps[r],c.onRemove&&c.onRemove(this.map)}getLayer(r){return this._layers[r]}getLayersOrder(){return[...this._order]}hasLayer(r){return r in this._layers}setLayerZoomRange(r,c,h){this._checkLoaded();const m=this.getLayer(r);m?m.minzoom===c&&m.maxzoom===h||(c!=null&&(m.minzoom=c),h!=null&&(m.maxzoom=h),this._updateLayer(m)):this.fire(new u.j(new Error(`Cannot set the zoom range of non-existing layer "${r}".`)))}setFilter(r,c,h={}){this._checkLoaded();const m=this.getLayer(r);if(m){if(!u.aG(m.filter,c))return c==null?(m.filter=void 0,void this._updateLayer(m)):void(this._validate(u.y.filter,`layers.${m.id}.filter`,c,null,h)||(m.filter=u.aD(c),this._updateLayer(m)))}else this.fire(new u.j(new Error(`Cannot filter non-existing layer "${r}".`)))}getFilter(r){return u.aD(this.getLayer(r).filter)}setLayoutProperty(r,c,h,m={}){this._checkLoaded();const _=this.getLayer(r);_?u.aG(_.getLayoutProperty(c),h)||(_.setLayoutProperty(c,h,m),this._updateLayer(_)):this.fire(new u.j(new Error(`Cannot style non-existing layer "${r}".`)))}getLayoutProperty(r,c){const h=this.getLayer(r);if(h)return h.getLayoutProperty(c);this.fire(new u.j(new Error(`Cannot get style of non-existing layer "${r}".`)))}setPaintProperty(r,c,h,m={}){this._checkLoaded();const _=this.getLayer(r);_?u.aG(_.getPaintProperty(c),h)||(_.setPaintProperty(c,h,m)&&this._updateLayer(_),this._changed=!0,this._updatedPaintProps[r]=!0):this.fire(new u.j(new Error(`Cannot style non-existing layer "${r}".`)))}getPaintProperty(r,c){return this.getLayer(r).getPaintProperty(c)}setFeatureState(r,c){this._checkLoaded();const h=r.source,m=r.sourceLayer,_=this.sourceCaches[h];if(_===void 0)return void this.fire(new u.j(new Error(`The source '${h}' does not exist in the map's style.`)));const w=_.getSource().type;w==="geojson"&&m?this.fire(new u.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):w!=="vector"||m?(r.id===void 0&&this.fire(new u.j(new Error("The feature id parameter must be provided."))),_.setFeatureState(m,r.id,c)):this.fire(new u.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(r,c){this._checkLoaded();const h=r.source,m=this.sourceCaches[h];if(m===void 0)return void this.fire(new u.j(new Error(`The source '${h}' does not exist in the map's style.`)));const _=m.getSource().type,w=_==="vector"?r.sourceLayer:void 0;_!=="vector"||w?c&&typeof r.id!="string"&&typeof r.id!="number"?this.fire(new u.j(new Error("A feature id is required to remove its specific state property."))):m.removeFeatureState(w,r.id,c):this.fire(new u.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(r){this._checkLoaded();const c=r.source,h=r.sourceLayer,m=this.sourceCaches[c];if(m!==void 0)return m.getSource().type!=="vector"||h?(r.id===void 0&&this.fire(new u.j(new Error("The feature id parameter must be provided."))),m.getFeatureState(h,r.id)):void this.fire(new u.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new u.j(new Error(`The source '${c}' does not exist in the map's style.`)))}getTransition(){return u.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const r=u.aH(this.sourceCaches,_=>_.serialize()),c=this._serializeByIds(this._order),h=this.map.getTerrain()||void 0,m=this.stylesheet;return u.aI({version:m.version,name:m.name,metadata:m.metadata,light:m.light,center:m.center,zoom:m.zoom,bearing:m.bearing,pitch:m.pitch,sprite:m.sprite,glyphs:m.glyphs,transition:m.transition,sources:r,layers:c,terrain:h},_=>_!==void 0)}_updateLayer(r){this._updatedLayers[r.id]=!0,r.source&&!this._updatedSources[r.source]&&this.sourceCaches[r.source].getSource().type!=="raster"&&(this._updatedSources[r.source]="reload",this.sourceCaches[r.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(r){const c=w=>this._layers[w].type==="fill-extrusion",h={},m=[];for(let w=this._order.length-1;w>=0;w--){const C=this._order[w];if(c(C)){h[C]=w;for(const k of r){const T=k[C];if(T)for(const L of T)m.push(L)}}}m.sort((w,C)=>C.intersectionZ-w.intersectionZ);const _=[];for(let w=this._order.length-1;w>=0;w--){const C=this._order[w];if(c(C))for(let k=m.length-1;k>=0;k--){const T=m[k].feature;if(h[T.layer.id]<w)break;_.push(T),m.pop()}else for(const k of r){const T=k[C];if(T)for(const L of T)_.push(L.feature)}}return _}queryRenderedFeatures(r,c,h){c&&c.filter&&this._validate(u.y.filter,"queryRenderedFeatures.filter",c.filter,null,c);const m={};if(c&&c.layers){if(!Array.isArray(c.layers))return this.fire(new u.j(new Error("parameters.layers must be an Array."))),[];for(const C of c.layers){const k=this._layers[C];if(!k)return this.fire(new u.j(new Error(`The layer '${C}' does not exist in the map's style and cannot be queried for features.`))),[];m[k.source]=!0}}const _=[];c.availableImages=this._availableImages;const w=this._serializedAllLayers();for(const C in this.sourceCaches)c.layers&&!m[C]||_.push(ai(this.sourceCaches[C],this._layers,w,r,c,h));return this.placement&&_.push(function(C,k,T,L,D,W,te){const ee={},oe=W.queryRenderedSymbols(L),Y=[];for(const ge of Object.keys(oe).map(Number))Y.push(te[ge]);Y.sort(Er);for(const ge of Y){const Ce=ge.featureIndex.lookupSymbolFeatures(oe[ge.bucketInstanceId],k,ge.bucketIndex,ge.sourceLayerIndex,D.filter,D.layers,D.availableImages,C);for(const le in Ce){const ve=ee[le]=ee[le]||[],Ae=Ce[le];Ae.sort((Pe,Ne)=>{const Ue=ge.featureSortOrder;if(Ue){const je=Ue.indexOf(Pe.featureIndex);return Ue.indexOf(Ne.featureIndex)-je}return Ne.featureIndex-Pe.featureIndex});for(const Pe of Ae)ve.push(Pe)}}for(const ge in ee)ee[ge].forEach(Ce=>{const le=Ce.feature,ve=T[C[ge].source].getFeatureState(le.layer["source-layer"],le.id);le.source=le.layer.source,le.layer["source-layer"]&&(le.sourceLayer=le.layer["source-layer"]),le.state=ve});return ee}(this._layers,w,this.sourceCaches,r,c,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(_)}querySourceFeatures(r,c){c&&c.filter&&this._validate(u.y.filter,"querySourceFeatures.filter",c.filter,null,c);const h=this.sourceCaches[r];return h?function(m,_){const w=m.getRenderableIds().map(T=>m.getTileByID(T)),C=[],k={};for(let T=0;T<w.length;T++){const L=w[T],D=L.tileID.canonical.key;k[D]||(k[D]=!0,L.querySourceFeatures(C,_))}return C}(h,c):[]}addSourceType(r,c,h){return Kn(r)?h(new Error(`A source type called "${r}" already exists.`)):(((m,_)=>{nn[m]=_})(r,c),c.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:r,url:c.workerSourceURL},h):h(null,null))}getLight(){return this.light.getLight()}setLight(r,c={}){this._checkLoaded();const h=this.light.getLight();let m=!1;for(const w in r)if(!u.aG(r[w],h[w])){m=!0;break}if(!m)return;const _={now:u.h.now(),transition:u.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(r,c),this.light.updateTransitions(_)}_validate(r,c,h,m,_={}){return(!_||_.validate!==!1)&&Ar(this,r.call(u.y,u.e({key:c,style:this.serialize(),value:h,styleSpec:u.v},m)))}_remove(r=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),u.aJ.off("pluginStateChange",this._rtlTextPluginCallback);for(const c in this._layers)this._layers[c].setEventedParent(null);for(const c in this.sourceCaches){const h=this.sourceCaches[c];h.setEventedParent(null),h.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(r)}_clearSource(r){this.sourceCaches[r].clearTiles()}_reloadSource(r){this.sourceCaches[r].resume(),this.sourceCaches[r].reload()}_updateSources(r){for(const c in this.sourceCaches)this.sourceCaches[c].update(r,this.map.terrain)}_generateCollisionBoxes(){for(const r in this.sourceCaches)this._reloadSource(r)}_updatePlacement(r,c,h,m,_=!1){let w=!1,C=!1;const k={};for(const T of this._order){const L=this._layers[T];if(L.type!=="symbol")continue;if(!k[L.source]){const W=this.sourceCaches[L.source];k[L.source]=W.getRenderableIds(!0).map(te=>W.getTileByID(te)).sort((te,ee)=>ee.tileID.overscaledZ-te.tileID.overscaledZ||(te.tileID.isLessThan(ee.tileID)?-1:1))}const D=this.crossTileSymbolIndex.addLayer(L,k[L.source],r.center.lng);w=w||D}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((_=_||this._layerOrderChanged||h===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(u.h.now(),r.zoom))&&(this.pauseablePlacement=new Qa(r,this.map.terrain,this._order,_,c,h,m,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,k),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(u.h.now()),C=!0),w&&this.pauseablePlacement.placement.setStale()),C||w)for(const T of this._order){const L=this._layers[T];L.type==="symbol"&&this.placement.updateLayerOpacities(L,k[L.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(u.h.now())}_releaseSymbolFadeTiles(){for(const r in this.sourceCaches)this.sourceCaches[r].releaseSymbolFadeTiles()}getImages(r,c,h){this.imageManager.getImages(c.icons,h),this._updateTilesForChangedImages();const m=this.sourceCaches[c.source];m&&m.setDependencies(c.tileID.key,c.type,c.icons)}getGlyphs(r,c,h){this.glyphManager.getGlyphs(c.stacks,h);const m=this.sourceCaches[c.source];m&&m.setDependencies(c.tileID.key,c.type,[""])}getResource(r,c,h){return u.m(c,h)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(r,c={}){this._checkLoaded(),r&&this._validate(u.y.glyphs,"glyphs",r,null,c)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=r,this.glyphManager.entries={},this.glyphManager.setURL(r))}addSprite(r,c,h={},m){this._checkLoaded();const _=[{id:r,url:c}],w=[...Se(this.stylesheet.sprite),..._];this._validate(u.y.sprite,"sprite",w,null,h)||(this.stylesheet.sprite=w,this._loadSprite(_,!0,m))}removeSprite(r){this._checkLoaded();const c=Se(this.stylesheet.sprite);if(c.find(h=>h.id===r)){if(this._spritesImagesIds[r])for(const h of this._spritesImagesIds[r])this.imageManager.removeImage(h),this._changedImages[h]=!0;c.splice(c.findIndex(h=>h.id===r),1),this.stylesheet.sprite=c.length>0?c:void 0,delete this._spritesImagesIds[r],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new u.k("data",{dataType:"style"}))}else this.fire(new u.j(new Error(`Sprite "${r}" doesn't exists on this map.`)))}getSprite(){return Se(this.stylesheet.sprite)}setSprite(r,c={},h){this._checkLoaded(),r&&this._validate(u.y.sprite,"sprite",r,null,c)||(this.stylesheet.sprite=r,r?this._loadSprite(r,!0,h):(this._unloadSprite(),h&&h(null)))}}vr.registerForPluginStateChange=u.aK;var Zl=u.Q([{name:"a_pos",type:"Int16",components:2}]),ts="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const kn={prelude:Qt(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Qt(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Qt(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Qt(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Qt("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Qt(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:Qt(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Qt("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Qt("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Qt("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Qt(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Qt(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Qt(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Qt(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Qt(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Qt(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Qt(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Qt(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Qt(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Qt(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Qt(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Qt(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Qt(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Qt(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Qt(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Qt(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Qt("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",ts),terrainDepth:Qt("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",ts),terrainCoords:Qt("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",ts)};function Qt(g,r){const c=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,h=r.match(/attribute ([\w]+) ([\w]+)/g),m=g.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),_=r.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),w=_?_.concat(m):m,C={};return{fragmentSource:g=g.replace(c,(k,T,L,D,W)=>(C[W]=!0,T==="define"?`
#ifndef HAS_UNIFORM_u_${W}
varying ${L} ${D} ${W};
#else
uniform ${L} ${D} u_${W};
#endif
`:`
#ifdef HAS_UNIFORM_u_${W}
    ${L} ${D} ${W} = u_${W};
#endif
`)),vertexSource:r=r.replace(c,(k,T,L,D,W)=>{const te=D==="float"?"vec2":"vec4",ee=W.match(/color/)?"color":te;return C[W]?T==="define"?`
#ifndef HAS_UNIFORM_u_${W}
uniform lowp float u_${W}_t;
attribute ${L} ${te} a_${W};
varying ${L} ${D} ${W};
#else
uniform ${L} ${D} u_${W};
#endif
`:ee==="vec4"?`
#ifndef HAS_UNIFORM_u_${W}
    ${W} = a_${W};
#else
    ${L} ${D} ${W} = u_${W};
#endif
`:`
#ifndef HAS_UNIFORM_u_${W}
    ${W} = unpack_mix_${ee}(a_${W}, u_${W}_t);
#else
    ${L} ${D} ${W} = u_${W};
#endif
`:T==="define"?`
#ifndef HAS_UNIFORM_u_${W}
uniform lowp float u_${W}_t;
attribute ${L} ${te} a_${W};
#else
uniform ${L} ${D} u_${W};
#endif
`:ee==="vec4"?`
#ifndef HAS_UNIFORM_u_${W}
    ${L} ${D} ${W} = a_${W};
#else
    ${L} ${D} ${W} = u_${W};
#endif
`:`
#ifndef HAS_UNIFORM_u_${W}
    ${L} ${D} ${W} = unpack_mix_${ee}(a_${W}, u_${W}_t);
#else
    ${L} ${D} ${W} = u_${W};
#endif
`}),staticAttributes:h,staticUniforms:w}}class _a{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(r,c,h,m,_,w,C,k,T){this.context=r;let L=this.boundPaintVertexBuffers.length!==m.length;for(let D=0;!L&&D<m.length;D++)this.boundPaintVertexBuffers[D]!==m[D]&&(L=!0);!this.vao||this.boundProgram!==c||this.boundLayoutVertexBuffer!==h||L||this.boundIndexBuffer!==_||this.boundVertexOffset!==w||this.boundDynamicVertexBuffer!==C||this.boundDynamicVertexBuffer2!==k||this.boundDynamicVertexBuffer3!==T?this.freshBind(c,h,m,_,w,C,k,T):(r.bindVertexArray.set(this.vao),C&&C.bind(),_&&_.dynamicDraw&&_.bind(),k&&k.bind(),T&&T.bind())}freshBind(r,c,h,m,_,w,C,k){const T=r.numAttributes,L=this.context,D=L.gl;this.vao&&this.destroy(),this.vao=L.createVertexArray(),L.bindVertexArray.set(this.vao),this.boundProgram=r,this.boundLayoutVertexBuffer=c,this.boundPaintVertexBuffers=h,this.boundIndexBuffer=m,this.boundVertexOffset=_,this.boundDynamicVertexBuffer=w,this.boundDynamicVertexBuffer2=C,this.boundDynamicVertexBuffer3=k,c.enableAttributes(D,r);for(const W of h)W.enableAttributes(D,r);w&&w.enableAttributes(D,r),C&&C.enableAttributes(D,r),k&&k.enableAttributes(D,r),c.bind(),c.setVertexAttribPointers(D,r,_);for(const W of h)W.bind(),W.setVertexAttribPointers(D,r,_);w&&(w.bind(),w.setVertexAttribPointers(D,r,_)),m&&m.bind(),C&&(C.bind(),C.setVertexAttribPointers(D,r,_)),k&&(k.bind(),k.setVertexAttribPointers(D,r,_)),L.currentNumAttributes=T}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function Ln(g){const r=[];for(let c=0;c<g.length;c++){if(g[c]===null)continue;const h=g[c].split(" ");r.push(h.pop())}return r}class Gl{constructor(r,c,h,m,_,w){const C=r.gl;this.program=C.createProgram();const k=Ln(c.staticAttributes),T=h?h.getBinderAttributes():[],L=k.concat(T),D=kn.prelude.staticUniforms?Ln(kn.prelude.staticUniforms):[],W=c.staticUniforms?Ln(c.staticUniforms):[],te=h?h.getBinderUniforms():[],ee=D.concat(W).concat(te),oe=[];for(const Pe of ee)oe.indexOf(Pe)<0&&oe.push(Pe);const Y=h?h.defines():[];_&&Y.push("#define OVERDRAW_INSPECTOR;"),w&&Y.push("#define TERRAIN3D;");const ge=Y.concat(kn.prelude.fragmentSource,c.fragmentSource).join(`
`),Ce=Y.concat(kn.prelude.vertexSource,c.vertexSource).join(`
`),le=C.createShader(C.FRAGMENT_SHADER);if(C.isContextLost())return void(this.failedToCreate=!0);if(C.shaderSource(le,ge),C.compileShader(le),!C.getShaderParameter(le,C.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${C.getShaderInfoLog(le)}`);C.attachShader(this.program,le);const ve=C.createShader(C.VERTEX_SHADER);if(C.isContextLost())return void(this.failedToCreate=!0);if(C.shaderSource(ve,Ce),C.compileShader(ve),!C.getShaderParameter(ve,C.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${C.getShaderInfoLog(ve)}`);C.attachShader(this.program,ve),this.attributes={};const Ae={};this.numAttributes=L.length;for(let Pe=0;Pe<this.numAttributes;Pe++)L[Pe]&&(C.bindAttribLocation(this.program,Pe,L[Pe]),this.attributes[L[Pe]]=Pe);if(C.linkProgram(this.program),!C.getProgramParameter(this.program,C.LINK_STATUS))throw new Error(`Program failed to link: ${C.getProgramInfoLog(this.program)}`);C.deleteShader(ve),C.deleteShader(le);for(let Pe=0;Pe<oe.length;Pe++){const Ne=oe[Pe];if(Ne&&!Ae[Ne]){const Ue=C.getUniformLocation(this.program,Ne);Ue&&(Ae[Ne]=Ue)}}this.fixedUniforms=m(r,Ae),this.terrainUniforms=((Pe,Ne)=>({u_depth:new u.aL(Pe,Ne.u_depth),u_terrain:new u.aL(Pe,Ne.u_terrain),u_terrain_dim:new u.aM(Pe,Ne.u_terrain_dim),u_terrain_matrix:new u.aN(Pe,Ne.u_terrain_matrix),u_terrain_unpack:new u.aO(Pe,Ne.u_terrain_unpack),u_terrain_exaggeration:new u.aM(Pe,Ne.u_terrain_exaggeration)}))(r,Ae),this.binderUniforms=h?h.getUniforms(r,Ae):[]}draw(r,c,h,m,_,w,C,k,T,L,D,W,te,ee,oe,Y,ge,Ce){const le=r.gl;if(this.failedToCreate)return;if(r.program.set(this.program),r.setDepthMode(h),r.setStencilMode(m),r.setColorMode(_),r.setCullFace(w),k){r.activeTexture.set(le.TEXTURE2),le.bindTexture(le.TEXTURE_2D,k.depthTexture),r.activeTexture.set(le.TEXTURE3),le.bindTexture(le.TEXTURE_2D,k.texture);for(const Ae in this.terrainUniforms)this.terrainUniforms[Ae].set(k[Ae])}for(const Ae in this.fixedUniforms)this.fixedUniforms[Ae].set(C[Ae]);oe&&oe.setUniforms(r,this.binderUniforms,te,{zoom:ee});let ve=0;switch(c){case le.LINES:ve=2;break;case le.TRIANGLES:ve=3;break;case le.LINE_STRIP:ve=1}for(const Ae of W.get()){const Pe=Ae.vaos||(Ae.vaos={});(Pe[T]||(Pe[T]=new _a)).bind(r,this,L,oe?oe.getPaintVertexBuffers():[],D,Ae.vertexOffset,Y,ge,Ce),le.drawElements(c,Ae.primitiveLength*ve,le.UNSIGNED_SHORT,Ae.primitiveOffset*ve*2)}}}function Ti(g,r,c){const h=1/me(c,1,r.transform.tileZoom),m=Math.pow(2,c.tileID.overscaledZ),_=c.tileSize*Math.pow(2,r.transform.tileZoom)/m,w=_*(c.tileID.canonical.x+c.tileID.wrap*m),C=_*c.tileID.canonical.y;return{u_image:0,u_texsize:c.imageAtlasTexture.size,u_scale:[h,g.fromScale,g.toScale],u_fade:g.t,u_pixel_coord_upper:[w>>16,C>>16],u_pixel_coord_lower:[65535&w,65535&C]}}const Eu=(g,r,c,h)=>{const m=r.style.light,_=m.properties.get("position"),w=[_.x,_.y,_.z],C=function(){var T=new u.A(9);return u.A!=Float32Array&&(T[1]=0,T[2]=0,T[3]=0,T[5]=0,T[6]=0,T[7]=0),T[0]=1,T[4]=1,T[8]=1,T}();m.properties.get("anchor")==="viewport"&&function(T,L){var D=Math.sin(L),W=Math.cos(L);T[0]=W,T[1]=D,T[2]=0,T[3]=-D,T[4]=W,T[5]=0,T[6]=0,T[7]=0,T[8]=1}(C,-r.transform.angle),function(T,L,D){var W=L[0],te=L[1],ee=L[2];T[0]=W*D[0]+te*D[3]+ee*D[6],T[1]=W*D[1]+te*D[4]+ee*D[7],T[2]=W*D[2]+te*D[5]+ee*D[8]}(w,w,C);const k=m.properties.get("color");return{u_matrix:g,u_lightpos:w,u_lightintensity:m.properties.get("intensity"),u_lightcolor:[k.r,k.g,k.b],u_vertical_gradient:+c,u_opacity:h}},ia=(g,r,c,h,m,_,w)=>u.e(Eu(g,r,c,h),Ti(_,r,w),{u_height_factor:-Math.pow(2,m.overscaledZ)/w.tileSize/8}),qd=g=>({u_matrix:g}),ku=(g,r,c,h)=>u.e(qd(g),Ti(c,r,h)),ql=(g,r)=>({u_matrix:g,u_world:r}),Kl=(g,r,c,h,m)=>u.e(ku(g,r,c,h),{u_world:m}),oa=(g,r,c,h)=>{const m=g.transform;let _,w;if(h.paint.get("circle-pitch-alignment")==="map"){const C=me(c,1,m.zoom);_=!0,w=[C,C]}else _=!1,w=m.pixelsToGLUnits;return{u_camera_to_center_distance:m.cameraToCenterDistance,u_scale_with_map:+(h.paint.get("circle-pitch-scale")==="map"),u_matrix:g.translatePosMatrix(r.posMatrix,c,h.paint.get("circle-translate"),h.paint.get("circle-translate-anchor")),u_pitch_with_map:+_,u_device_pixel_ratio:g.pixelRatio,u_extrude_scale:w}},Au=(g,r,c)=>{const h=me(c,1,r.zoom),m=Math.pow(2,r.zoom-c.tileID.overscaledZ),_=c.tileID.overscaleFactor();return{u_matrix:g,u_camera_to_center_distance:r.cameraToCenterDistance,u_pixels_to_tile_units:h,u_extrude_scale:[r.pixelsToGLUnits[0]/(h*m),r.pixelsToGLUnits[1]/(h*m)],u_overscale_factor:_}},qs=(g,r,c=1)=>({u_matrix:g,u_color:r,u_overlay:0,u_overlay_scale:c}),Kd=g=>({u_matrix:g}),A0=(g,r,c,h)=>({u_matrix:g,u_extrude_scale:me(r,1,c),u_intensity:h});function Pu(g,r){const c=Math.pow(2,r.canonical.z),h=r.canonical.y;return[new u.U(0,h/c).toLngLat().lat,new u.U(0,(h+1)/c).toLngLat().lat]}const Tu=(g,r,c,h)=>{const m=g.transform;return{u_matrix:Xl(g,r,c,h),u_ratio:1/me(r,1,m.zoom),u_device_pixel_ratio:g.pixelRatio,u_units_to_pixels:[1/m.pixelsToGLUnits[0],1/m.pixelsToGLUnits[1]]}},Xd=(g,r,c,h,m)=>u.e(Tu(g,r,c,m),{u_image:0,u_image_height:h}),P0=(g,r,c,h,m)=>{const _=g.transform,w=Yd(r,_);return{u_matrix:Xl(g,r,c,m),u_texsize:r.imageAtlasTexture.size,u_ratio:1/me(r,1,_.zoom),u_device_pixel_ratio:g.pixelRatio,u_image:0,u_scale:[w,h.fromScale,h.toScale],u_fade:h.t,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},Jd=(g,r,c,h,m,_)=>{const w=g.lineAtlas,C=Yd(r,g.transform),k=c.layout.get("line-cap")==="round",T=w.getDash(h.from,k),L=w.getDash(h.to,k),D=T.width*m.fromScale,W=L.width*m.toScale;return u.e(Tu(g,r,c,_),{u_patternscale_a:[C/D,-T.height/2],u_patternscale_b:[C/W,-L.height/2],u_sdfgamma:w.width/(256*Math.min(D,W)*g.pixelRatio)/2,u_image:0,u_tex_y_a:T.y,u_tex_y_b:L.y,u_mix:m.t})};function Yd(g,r){return 1/me(g,1,r.tileZoom)}function Xl(g,r,c,h){return g.translatePosMatrix(h?h.posMatrix:r.tileID.posMatrix,r,c.paint.get("line-translate"),c.paint.get("line-translate-anchor"))}const Qd=(g,r,c,h,m)=>{return{u_matrix:g,u_tl_parent:r,u_scale_parent:c,u_buffer_scale:1,u_fade_t:h.mix,u_opacity:h.opacity*m.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:m.paint.get("raster-brightness-min"),u_brightness_high:m.paint.get("raster-brightness-max"),u_saturation_factor:(w=m.paint.get("raster-saturation"),w>0?1-1/(1.001-w):-w),u_contrast_factor:(_=m.paint.get("raster-contrast"),_>0?1/(1-_):1+_),u_spin_weights:eh(m.paint.get("raster-hue-rotate"))};var _,w};function eh(g){g*=Math.PI/180;const r=Math.sin(g),c=Math.cos(g);return[(2*c+1)/3,(-Math.sqrt(3)*r-c+1)/3,(Math.sqrt(3)*r-c+1)/3]}const Iu=(g,r,c,h,m,_,w,C,k,T)=>{const L=m.transform;return{u_is_size_zoom_constant:+(g==="constant"||g==="source"),u_is_size_feature_constant:+(g==="constant"||g==="camera"),u_size_t:r?r.uSizeT:0,u_size:r?r.uSize:0,u_camera_to_center_distance:L.cameraToCenterDistance,u_pitch:L.pitch/360*2*Math.PI,u_rotate_symbol:+c,u_aspect_ratio:L.width/L.height,u_fade_change:m.options.fadeDuration?m.symbolFadeChange:1,u_matrix:_,u_label_plane_matrix:w,u_coord_matrix:C,u_is_text:+k,u_pitch_with_map:+h,u_texsize:T,u_texture:0}},Lu=(g,r,c,h,m,_,w,C,k,T,L)=>{const D=m.transform;return u.e(Iu(g,r,c,h,m,_,w,C,k,T),{u_gamma_scale:h?Math.cos(D._pitch)*D.cameraToCenterDistance:1,u_device_pixel_ratio:m.pixelRatio,u_is_halo:+L})},xa=(g,r,c,h,m,_,w,C,k,T)=>u.e(Lu(g,r,c,h,m,_,w,C,!0,k,!0),{u_texsize_icon:T,u_texture_icon:1}),Jl=(g,r,c)=>({u_matrix:g,u_opacity:r,u_color:c}),Ii=(g,r,c,h,m,_)=>u.e(function(w,C,k,T){const L=k.imageManager.getPattern(w.from.toString()),D=k.imageManager.getPattern(w.to.toString()),{width:W,height:te}=k.imageManager.getPixelSize(),ee=Math.pow(2,T.tileID.overscaledZ),oe=T.tileSize*Math.pow(2,k.transform.tileZoom)/ee,Y=oe*(T.tileID.canonical.x+T.tileID.wrap*ee),ge=oe*T.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:L.tl,u_pattern_br_a:L.br,u_pattern_tl_b:D.tl,u_pattern_br_b:D.br,u_texsize:[W,te],u_mix:C.t,u_pattern_size_a:L.displaySize,u_pattern_size_b:D.displaySize,u_scale_a:C.fromScale,u_scale_b:C.toScale,u_tile_units_to_pixels:1/me(T,1,k.transform.tileZoom),u_pixel_coord_upper:[Y>>16,ge>>16],u_pixel_coord_lower:[65535&Y,65535&ge]}}(h,_,c,m),{u_matrix:g,u_opacity:r}),Yl={fillExtrusion:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_lightpos:new u.aP(g,r.u_lightpos),u_lightintensity:new u.aM(g,r.u_lightintensity),u_lightcolor:new u.aP(g,r.u_lightcolor),u_vertical_gradient:new u.aM(g,r.u_vertical_gradient),u_opacity:new u.aM(g,r.u_opacity)}),fillExtrusionPattern:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_lightpos:new u.aP(g,r.u_lightpos),u_lightintensity:new u.aM(g,r.u_lightintensity),u_lightcolor:new u.aP(g,r.u_lightcolor),u_vertical_gradient:new u.aM(g,r.u_vertical_gradient),u_height_factor:new u.aM(g,r.u_height_factor),u_image:new u.aL(g,r.u_image),u_texsize:new u.aQ(g,r.u_texsize),u_pixel_coord_upper:new u.aQ(g,r.u_pixel_coord_upper),u_pixel_coord_lower:new u.aQ(g,r.u_pixel_coord_lower),u_scale:new u.aP(g,r.u_scale),u_fade:new u.aM(g,r.u_fade),u_opacity:new u.aM(g,r.u_opacity)}),fill:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix)}),fillPattern:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_image:new u.aL(g,r.u_image),u_texsize:new u.aQ(g,r.u_texsize),u_pixel_coord_upper:new u.aQ(g,r.u_pixel_coord_upper),u_pixel_coord_lower:new u.aQ(g,r.u_pixel_coord_lower),u_scale:new u.aP(g,r.u_scale),u_fade:new u.aM(g,r.u_fade)}),fillOutline:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_world:new u.aQ(g,r.u_world)}),fillOutlinePattern:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_world:new u.aQ(g,r.u_world),u_image:new u.aL(g,r.u_image),u_texsize:new u.aQ(g,r.u_texsize),u_pixel_coord_upper:new u.aQ(g,r.u_pixel_coord_upper),u_pixel_coord_lower:new u.aQ(g,r.u_pixel_coord_lower),u_scale:new u.aP(g,r.u_scale),u_fade:new u.aM(g,r.u_fade)}),circle:(g,r)=>({u_camera_to_center_distance:new u.aM(g,r.u_camera_to_center_distance),u_scale_with_map:new u.aL(g,r.u_scale_with_map),u_pitch_with_map:new u.aL(g,r.u_pitch_with_map),u_extrude_scale:new u.aQ(g,r.u_extrude_scale),u_device_pixel_ratio:new u.aM(g,r.u_device_pixel_ratio),u_matrix:new u.aN(g,r.u_matrix)}),collisionBox:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_camera_to_center_distance:new u.aM(g,r.u_camera_to_center_distance),u_pixels_to_tile_units:new u.aM(g,r.u_pixels_to_tile_units),u_extrude_scale:new u.aQ(g,r.u_extrude_scale),u_overscale_factor:new u.aM(g,r.u_overscale_factor)}),collisionCircle:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_inv_matrix:new u.aN(g,r.u_inv_matrix),u_camera_to_center_distance:new u.aM(g,r.u_camera_to_center_distance),u_viewport_size:new u.aQ(g,r.u_viewport_size)}),debug:(g,r)=>({u_color:new u.aR(g,r.u_color),u_matrix:new u.aN(g,r.u_matrix),u_overlay:new u.aL(g,r.u_overlay),u_overlay_scale:new u.aM(g,r.u_overlay_scale)}),clippingMask:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix)}),heatmap:(g,r)=>({u_extrude_scale:new u.aM(g,r.u_extrude_scale),u_intensity:new u.aM(g,r.u_intensity),u_matrix:new u.aN(g,r.u_matrix)}),heatmapTexture:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_world:new u.aQ(g,r.u_world),u_image:new u.aL(g,r.u_image),u_color_ramp:new u.aL(g,r.u_color_ramp),u_opacity:new u.aM(g,r.u_opacity)}),hillshade:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_image:new u.aL(g,r.u_image),u_latrange:new u.aQ(g,r.u_latrange),u_light:new u.aQ(g,r.u_light),u_shadow:new u.aR(g,r.u_shadow),u_highlight:new u.aR(g,r.u_highlight),u_accent:new u.aR(g,r.u_accent)}),hillshadePrepare:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_image:new u.aL(g,r.u_image),u_dimension:new u.aQ(g,r.u_dimension),u_zoom:new u.aM(g,r.u_zoom),u_unpack:new u.aO(g,r.u_unpack)}),line:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_ratio:new u.aM(g,r.u_ratio),u_device_pixel_ratio:new u.aM(g,r.u_device_pixel_ratio),u_units_to_pixels:new u.aQ(g,r.u_units_to_pixels)}),lineGradient:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_ratio:new u.aM(g,r.u_ratio),u_device_pixel_ratio:new u.aM(g,r.u_device_pixel_ratio),u_units_to_pixels:new u.aQ(g,r.u_units_to_pixels),u_image:new u.aL(g,r.u_image),u_image_height:new u.aM(g,r.u_image_height)}),linePattern:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_texsize:new u.aQ(g,r.u_texsize),u_ratio:new u.aM(g,r.u_ratio),u_device_pixel_ratio:new u.aM(g,r.u_device_pixel_ratio),u_image:new u.aL(g,r.u_image),u_units_to_pixels:new u.aQ(g,r.u_units_to_pixels),u_scale:new u.aP(g,r.u_scale),u_fade:new u.aM(g,r.u_fade)}),lineSDF:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_ratio:new u.aM(g,r.u_ratio),u_device_pixel_ratio:new u.aM(g,r.u_device_pixel_ratio),u_units_to_pixels:new u.aQ(g,r.u_units_to_pixels),u_patternscale_a:new u.aQ(g,r.u_patternscale_a),u_patternscale_b:new u.aQ(g,r.u_patternscale_b),u_sdfgamma:new u.aM(g,r.u_sdfgamma),u_image:new u.aL(g,r.u_image),u_tex_y_a:new u.aM(g,r.u_tex_y_a),u_tex_y_b:new u.aM(g,r.u_tex_y_b),u_mix:new u.aM(g,r.u_mix)}),raster:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_tl_parent:new u.aQ(g,r.u_tl_parent),u_scale_parent:new u.aM(g,r.u_scale_parent),u_buffer_scale:new u.aM(g,r.u_buffer_scale),u_fade_t:new u.aM(g,r.u_fade_t),u_opacity:new u.aM(g,r.u_opacity),u_image0:new u.aL(g,r.u_image0),u_image1:new u.aL(g,r.u_image1),u_brightness_low:new u.aM(g,r.u_brightness_low),u_brightness_high:new u.aM(g,r.u_brightness_high),u_saturation_factor:new u.aM(g,r.u_saturation_factor),u_contrast_factor:new u.aM(g,r.u_contrast_factor),u_spin_weights:new u.aP(g,r.u_spin_weights)}),symbolIcon:(g,r)=>({u_is_size_zoom_constant:new u.aL(g,r.u_is_size_zoom_constant),u_is_size_feature_constant:new u.aL(g,r.u_is_size_feature_constant),u_size_t:new u.aM(g,r.u_size_t),u_size:new u.aM(g,r.u_size),u_camera_to_center_distance:new u.aM(g,r.u_camera_to_center_distance),u_pitch:new u.aM(g,r.u_pitch),u_rotate_symbol:new u.aL(g,r.u_rotate_symbol),u_aspect_ratio:new u.aM(g,r.u_aspect_ratio),u_fade_change:new u.aM(g,r.u_fade_change),u_matrix:new u.aN(g,r.u_matrix),u_label_plane_matrix:new u.aN(g,r.u_label_plane_matrix),u_coord_matrix:new u.aN(g,r.u_coord_matrix),u_is_text:new u.aL(g,r.u_is_text),u_pitch_with_map:new u.aL(g,r.u_pitch_with_map),u_texsize:new u.aQ(g,r.u_texsize),u_texture:new u.aL(g,r.u_texture)}),symbolSDF:(g,r)=>({u_is_size_zoom_constant:new u.aL(g,r.u_is_size_zoom_constant),u_is_size_feature_constant:new u.aL(g,r.u_is_size_feature_constant),u_size_t:new u.aM(g,r.u_size_t),u_size:new u.aM(g,r.u_size),u_camera_to_center_distance:new u.aM(g,r.u_camera_to_center_distance),u_pitch:new u.aM(g,r.u_pitch),u_rotate_symbol:new u.aL(g,r.u_rotate_symbol),u_aspect_ratio:new u.aM(g,r.u_aspect_ratio),u_fade_change:new u.aM(g,r.u_fade_change),u_matrix:new u.aN(g,r.u_matrix),u_label_plane_matrix:new u.aN(g,r.u_label_plane_matrix),u_coord_matrix:new u.aN(g,r.u_coord_matrix),u_is_text:new u.aL(g,r.u_is_text),u_pitch_with_map:new u.aL(g,r.u_pitch_with_map),u_texsize:new u.aQ(g,r.u_texsize),u_texture:new u.aL(g,r.u_texture),u_gamma_scale:new u.aM(g,r.u_gamma_scale),u_device_pixel_ratio:new u.aM(g,r.u_device_pixel_ratio),u_is_halo:new u.aL(g,r.u_is_halo)}),symbolTextAndIcon:(g,r)=>({u_is_size_zoom_constant:new u.aL(g,r.u_is_size_zoom_constant),u_is_size_feature_constant:new u.aL(g,r.u_is_size_feature_constant),u_size_t:new u.aM(g,r.u_size_t),u_size:new u.aM(g,r.u_size),u_camera_to_center_distance:new u.aM(g,r.u_camera_to_center_distance),u_pitch:new u.aM(g,r.u_pitch),u_rotate_symbol:new u.aL(g,r.u_rotate_symbol),u_aspect_ratio:new u.aM(g,r.u_aspect_ratio),u_fade_change:new u.aM(g,r.u_fade_change),u_matrix:new u.aN(g,r.u_matrix),u_label_plane_matrix:new u.aN(g,r.u_label_plane_matrix),u_coord_matrix:new u.aN(g,r.u_coord_matrix),u_is_text:new u.aL(g,r.u_is_text),u_pitch_with_map:new u.aL(g,r.u_pitch_with_map),u_texsize:new u.aQ(g,r.u_texsize),u_texsize_icon:new u.aQ(g,r.u_texsize_icon),u_texture:new u.aL(g,r.u_texture),u_texture_icon:new u.aL(g,r.u_texture_icon),u_gamma_scale:new u.aM(g,r.u_gamma_scale),u_device_pixel_ratio:new u.aM(g,r.u_device_pixel_ratio),u_is_halo:new u.aL(g,r.u_is_halo)}),background:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_opacity:new u.aM(g,r.u_opacity),u_color:new u.aR(g,r.u_color)}),backgroundPattern:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_opacity:new u.aM(g,r.u_opacity),u_image:new u.aL(g,r.u_image),u_pattern_tl_a:new u.aQ(g,r.u_pattern_tl_a),u_pattern_br_a:new u.aQ(g,r.u_pattern_br_a),u_pattern_tl_b:new u.aQ(g,r.u_pattern_tl_b),u_pattern_br_b:new u.aQ(g,r.u_pattern_br_b),u_texsize:new u.aQ(g,r.u_texsize),u_mix:new u.aM(g,r.u_mix),u_pattern_size_a:new u.aQ(g,r.u_pattern_size_a),u_pattern_size_b:new u.aQ(g,r.u_pattern_size_b),u_scale_a:new u.aM(g,r.u_scale_a),u_scale_b:new u.aM(g,r.u_scale_b),u_pixel_coord_upper:new u.aQ(g,r.u_pixel_coord_upper),u_pixel_coord_lower:new u.aQ(g,r.u_pixel_coord_lower),u_tile_units_to_pixels:new u.aM(g,r.u_tile_units_to_pixels)}),terrain:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_texture:new u.aL(g,r.u_texture),u_ele_delta:new u.aM(g,r.u_ele_delta)}),terrainDepth:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_ele_delta:new u.aM(g,r.u_ele_delta)}),terrainCoords:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_texture:new u.aL(g,r.u_texture),u_terrain_coords_id:new u.aM(g,r.u_terrain_coords_id),u_ele_delta:new u.aM(g,r.u_ele_delta)})};class Ql{constructor(r,c,h){this.context=r;const m=r.gl;this.buffer=m.createBuffer(),this.dynamicDraw=!!h,this.context.unbindVAO(),r.bindElementBuffer.set(this.buffer),m.bufferData(m.ELEMENT_ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?m.DYNAMIC_DRAW:m.STATIC_DRAW),this.dynamicDraw||delete c.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(r){const c=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),c.bufferSubData(c.ELEMENT_ARRAY_BUFFER,0,r.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ks={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class e1{constructor(r,c,h,m){this.length=c.length,this.attributes=h,this.itemSize=c.bytesPerElement,this.dynamicDraw=m,this.context=r;const _=r.gl;this.buffer=_.createBuffer(),r.bindVertexBuffer.set(this.buffer),_.bufferData(_.ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete c.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(r){if(r.length!==this.length)throw new Error(`Length of new data is ${r.length}, which doesn't match current length of ${this.length}`);const c=this.context.gl;this.bind(),c.bufferSubData(c.ARRAY_BUFFER,0,r.arrayBuffer)}enableAttributes(r,c){for(let h=0;h<this.attributes.length;h++){const m=c.attributes[this.attributes[h].name];m!==void 0&&r.enableVertexAttribArray(m)}}setVertexAttribPointers(r,c,h){for(let m=0;m<this.attributes.length;m++){const _=this.attributes[m],w=c.attributes[_.name];w!==void 0&&r.vertexAttribPointer(w,_.components,r[Ks[_.type]],!1,this.itemSize,_.offset+this.itemSize*(h||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const ns=new WeakMap;function aa(g){var r;if(ns.has(g))return ns.get(g);{const c=(r=g.getParameter(g.VERSION))===null||r===void 0?void 0:r.startsWith("WebGL 2.0");return ns.set(g,c),c}}class Wt{constructor(r){this.gl=r.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(r){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class t1 extends Wt{getDefault(){return u.aT.transparent}set(r){const c=this.current;(r.r!==c.r||r.g!==c.g||r.b!==c.b||r.a!==c.a||this.dirty)&&(this.gl.clearColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class ui extends Wt{getDefault(){return 1}set(r){(r!==this.current||this.dirty)&&(this.gl.clearDepth(r),this.current=r,this.dirty=!1)}}class ci extends Wt{getDefault(){return 0}set(r){(r!==this.current||this.dirty)&&(this.gl.clearStencil(r),this.current=r,this.dirty=!1)}}class Du extends Wt{getDefault(){return[!0,!0,!0,!0]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||r[2]!==c[2]||r[3]!==c[3]||this.dirty)&&(this.gl.colorMask(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class n1 extends Wt{getDefault(){return!0}set(r){(r!==this.current||this.dirty)&&(this.gl.depthMask(r),this.current=r,this.dirty=!1)}}class r1 extends Wt{getDefault(){return 255}set(r){(r!==this.current||this.dirty)&&(this.gl.stencilMask(r),this.current=r,this.dirty=!1)}}class Ru extends Wt{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(r){const c=this.current;(r.func!==c.func||r.ref!==c.ref||r.mask!==c.mask||this.dirty)&&(this.gl.stencilFunc(r.func,r.ref,r.mask),this.current=r,this.dirty=!1)}}class zu extends Wt{getDefault(){const r=this.gl;return[r.KEEP,r.KEEP,r.KEEP]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||r[2]!==c[2]||this.dirty)&&(this.gl.stencilOp(r[0],r[1],r[2]),this.current=r,this.dirty=!1)}}class i1 extends Wt{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;r?c.enable(c.STENCIL_TEST):c.disable(c.STENCIL_TEST),this.current=r,this.dirty=!1}}class Fu extends Wt{getDefault(){return[0,1]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||this.dirty)&&(this.gl.depthRange(r[0],r[1]),this.current=r,this.dirty=!1)}}class Nu extends Wt{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;r?c.enable(c.DEPTH_TEST):c.disable(c.DEPTH_TEST),this.current=r,this.dirty=!1}}class o1 extends Wt{getDefault(){return this.gl.LESS}set(r){(r!==this.current||this.dirty)&&(this.gl.depthFunc(r),this.current=r,this.dirty=!1)}}class th extends Wt{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;r?c.enable(c.BLEND):c.disable(c.BLEND),this.current=r,this.dirty=!1}}class nh extends Wt{getDefault(){const r=this.gl;return[r.ONE,r.ZERO]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||this.dirty)&&(this.gl.blendFunc(r[0],r[1]),this.current=r,this.dirty=!1)}}class rs extends Wt{getDefault(){return u.aT.transparent}set(r){const c=this.current;(r.r!==c.r||r.g!==c.g||r.b!==c.b||r.a!==c.a||this.dirty)&&(this.gl.blendColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class T0 extends Wt{getDefault(){return this.gl.FUNC_ADD}set(r){(r!==this.current||this.dirty)&&(this.gl.blendEquation(r),this.current=r,this.dirty=!1)}}class I0 extends Wt{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;r?c.enable(c.CULL_FACE):c.disable(c.CULL_FACE),this.current=r,this.dirty=!1}}class L0 extends Wt{getDefault(){return this.gl.BACK}set(r){(r!==this.current||this.dirty)&&(this.gl.cullFace(r),this.current=r,this.dirty=!1)}}class D0 extends Wt{getDefault(){return this.gl.CCW}set(r){(r!==this.current||this.dirty)&&(this.gl.frontFace(r),this.current=r,this.dirty=!1)}}class R0 extends Wt{getDefault(){return null}set(r){(r!==this.current||this.dirty)&&(this.gl.useProgram(r),this.current=r,this.dirty=!1)}}class z0 extends Wt{getDefault(){return this.gl.TEXTURE0}set(r){(r!==this.current||this.dirty)&&(this.gl.activeTexture(r),this.current=r,this.dirty=!1)}}class Ou extends Wt{getDefault(){const r=this.gl;return[0,0,r.drawingBufferWidth,r.drawingBufferHeight]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||r[2]!==c[2]||r[3]!==c[3]||this.dirty)&&(this.gl.viewport(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class a1 extends Wt{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.bindFramebuffer(c.FRAMEBUFFER,r),this.current=r,this.dirty=!1}}class Bu extends Wt{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.bindRenderbuffer(c.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class $u extends Wt{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.bindTexture(c.TEXTURE_2D,r),this.current=r,this.dirty=!1}}class is extends Wt{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.bindBuffer(c.ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class rh extends Wt{getDefault(){return null}set(r){const c=this.gl;c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class ih extends Wt{getDefault(){return null}set(r){var c;if(r===this.current&&!this.dirty)return;const h=this.gl;aa(h)?h.bindVertexArray(r):(c=h.getExtension("OES_vertex_array_object"))===null||c===void 0||c.bindVertexArrayOES(r),this.current=r,this.dirty=!1}}class ju extends Wt{getDefault(){return 4}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_ALIGNMENT,r),this.current=r,this.dirty=!1}}class ba extends Wt{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r),this.current=r,this.dirty=!1}}class oh extends Wt{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,r),this.current=r,this.dirty=!1}}class sa extends Wt{constructor(r,c){super(r),this.context=r,this.parent=c}getDefault(){return null}}class os extends sa{setDirty(){this.dirty=!0}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class ah extends sa{set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class Vu extends sa{set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class en{constructor(r,c,h,m,_){this.context=r,this.width=c,this.height=h;const w=r.gl,C=this.framebuffer=w.createFramebuffer();if(this.colorAttachment=new os(r,C),m)this.depthAttachment=_?new Vu(r,C):new ah(r,C);else if(_)throw new Error("Stencil cannot be setted without depth");if(w.checkFramebufferStatus(w.FRAMEBUFFER)!==w.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const r=this.context.gl,c=this.colorAttachment.get();if(c&&r.deleteTexture(c),this.depthAttachment){const h=this.depthAttachment.get();h&&r.deleteRenderbuffer(h)}r.deleteFramebuffer(this.framebuffer)}}class An{constructor(r,c,h){this.blendFunction=r,this.blendColor=c,this.mask=h}}An.Replace=[1,0],An.disabled=new An(An.Replace,u.aT.transparent,[!1,!1,!1,!1]),An.unblended=new An(An.Replace,u.aT.transparent,[!0,!0,!0,!0]),An.alphaBlended=new An([1,771],u.aT.transparent,[!0,!0,!0,!0]);class F0{constructor(r){var c,h;if(this.gl=r,this.clearColor=new t1(this),this.clearDepth=new ui(this),this.clearStencil=new ci(this),this.colorMask=new Du(this),this.depthMask=new n1(this),this.stencilMask=new r1(this),this.stencilFunc=new Ru(this),this.stencilOp=new zu(this),this.stencilTest=new i1(this),this.depthRange=new Fu(this),this.depthTest=new Nu(this),this.depthFunc=new o1(this),this.blend=new th(this),this.blendFunc=new nh(this),this.blendColor=new rs(this),this.blendEquation=new T0(this),this.cullFace=new I0(this),this.cullFaceSide=new L0(this),this.frontFace=new D0(this),this.program=new R0(this),this.activeTexture=new z0(this),this.viewport=new Ou(this),this.bindFramebuffer=new a1(this),this.bindRenderbuffer=new Bu(this),this.bindTexture=new $u(this),this.bindVertexBuffer=new is(this),this.bindElementBuffer=new rh(this),this.bindVertexArray=new ih(this),this.pixelStoreUnpack=new ju(this),this.pixelStoreUnpackPremultiplyAlpha=new ba(this),this.pixelStoreUnpackFlipY=new oh(this),this.extTextureFilterAnisotropic=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=r.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),aa(r)){this.HALF_FLOAT=r.HALF_FLOAT;const m=r.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(c=r.RGBA16F)!==null&&c!==void 0?c:m==null?void 0:m.RGBA16F_EXT,this.RGB16F=(h=r.RGB16F)!==null&&h!==void 0?h:m==null?void 0:m.RGB16F_EXT,r.getExtension("EXT_color_buffer_float")}else{r.getExtension("EXT_color_buffer_half_float"),r.getExtension("OES_texture_half_float_linear");const m=r.getExtension("OES_texture_half_float");this.HALF_FLOAT=m==null?void 0:m.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(r,c){return new Ql(this,r,c)}createVertexBuffer(r,c,h){return new e1(this,r,c,h)}createRenderbuffer(r,c,h){const m=this.gl,_=m.createRenderbuffer();return this.bindRenderbuffer.set(_),m.renderbufferStorage(m.RENDERBUFFER,r,c,h),this.bindRenderbuffer.set(null),_}createFramebuffer(r,c,h,m){return new en(this,r,c,h,m)}clear({color:r,depth:c,stencil:h}){const m=this.gl;let _=0;r&&(_|=m.COLOR_BUFFER_BIT,this.clearColor.set(r),this.colorMask.set([!0,!0,!0,!0])),c!==void 0&&(_|=m.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(c),this.depthMask.set(!0)),h!==void 0&&(_|=m.STENCIL_BUFFER_BIT,this.clearStencil.set(h),this.stencilMask.set(255)),m.clear(_)}setCullFace(r){r.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(r.mode),this.frontFace.set(r.frontFace))}setDepthMode(r){r.func!==this.gl.ALWAYS||r.mask?(this.depthTest.set(!0),this.depthFunc.set(r.func),this.depthMask.set(r.mask),this.depthRange.set(r.range)):this.depthTest.set(!1)}setStencilMode(r){r.test.func!==this.gl.ALWAYS||r.mask?(this.stencilTest.set(!0),this.stencilMask.set(r.mask),this.stencilOp.set([r.fail,r.depthFail,r.pass]),this.stencilFunc.set({func:r.test.func,ref:r.ref,mask:r.test.mask})):this.stencilTest.set(!1)}setColorMode(r){u.aG(r.blendFunction,An.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(r.blendFunction),this.blendColor.set(r.blendColor)),this.colorMask.set(r.mask)}createVertexArray(){var r;return aa(this.gl)?this.gl.createVertexArray():(r=this.gl.getExtension("OES_vertex_array_object"))===null||r===void 0?void 0:r.createVertexArrayOES()}deleteVertexArray(r){var c;return aa(this.gl)?this.gl.deleteVertexArray(r):(c=this.gl.getExtension("OES_vertex_array_object"))===null||c===void 0?void 0:c.deleteVertexArrayOES(r)}unbindVAO(){this.bindVertexArray.set(null)}}class Ut{constructor(r,c,h){this.func=r,this.mask=c,this.range=h}}Ut.ReadOnly=!1,Ut.ReadWrite=!0,Ut.disabled=new Ut(519,Ut.ReadOnly,[0,1]);const wa=7680;class Pn{constructor(r,c,h,m,_,w){this.test=r,this.ref=c,this.mask=h,this.fail=m,this.depthFail=_,this.pass=w}}Pn.disabled=new Pn({func:519,mask:0},0,0,wa,wa,wa);class Mn{constructor(r,c,h){this.enable=r,this.mode=c,this.frontFace=h}}let Xs;function sh(g,r,c,h,m,_,w){const C=g.context,k=C.gl,T=g.useProgram("collisionBox"),L=[];let D=0,W=0;for(let le=0;le<h.length;le++){const ve=h[le],Ae=r.getTile(ve),Pe=Ae.getBucket(c);if(!Pe)continue;let Ne=ve.posMatrix;m[0]===0&&m[1]===0||(Ne=g.translatePosMatrix(ve.posMatrix,Ae,m,_));const Ue=w?Pe.textCollisionBox:Pe.iconCollisionBox,je=Pe.collisionCircleArray;if(je.length>0){const Ke=u.Z(),mt=Ne;u.aU(Ke,Pe.placementInvProjMatrix,g.transform.glCoordMatrix),u.aU(Ke,Ke,Pe.placementViewportMatrix),L.push({circleArray:je,circleOffset:W,transform:mt,invTransform:Ke,coord:ve}),D+=je.length/4,W=D}Ue&&T.draw(C,k.LINES,Ut.disabled,Pn.disabled,g.colorModeForRenderPass(),Mn.disabled,Au(Ne,g.transform,Ae),g.style.map.terrain&&g.style.map.terrain.getTerrainData(ve),c.id,Ue.layoutVertexBuffer,Ue.indexBuffer,Ue.segments,null,g.transform.zoom,null,null,Ue.collisionVertexBuffer)}if(!w||!L.length)return;const te=g.useProgram("collisionCircle"),ee=new u.aV;ee.resize(4*D),ee._trim();let oe=0;for(const le of L)for(let ve=0;ve<le.circleArray.length/4;ve++){const Ae=4*ve,Pe=le.circleArray[Ae+0],Ne=le.circleArray[Ae+1],Ue=le.circleArray[Ae+2],je=le.circleArray[Ae+3];ee.emplace(oe++,Pe,Ne,Ue,je,0),ee.emplace(oe++,Pe,Ne,Ue,je,1),ee.emplace(oe++,Pe,Ne,Ue,je,2),ee.emplace(oe++,Pe,Ne,Ue,je,3)}(!Xs||Xs.length<2*D)&&(Xs=function(le){const ve=2*le,Ae=new u.aX;Ae.resize(ve),Ae._trim();for(let Pe=0;Pe<ve;Pe++){const Ne=6*Pe;Ae.uint16[Ne+0]=4*Pe+0,Ae.uint16[Ne+1]=4*Pe+1,Ae.uint16[Ne+2]=4*Pe+2,Ae.uint16[Ne+3]=4*Pe+2,Ae.uint16[Ne+4]=4*Pe+3,Ae.uint16[Ne+5]=4*Pe+0}return Ae}(D));const Y=C.createIndexBuffer(Xs,!0),ge=C.createVertexBuffer(ee,u.aW.members,!0);for(const le of L){const ve={u_matrix:le.transform,u_inv_matrix:le.invTransform,u_camera_to_center_distance:(Ce=g.transform).cameraToCenterDistance,u_viewport_size:[Ce.width,Ce.height]};te.draw(C,k.TRIANGLES,Ut.disabled,Pn.disabled,g.colorModeForRenderPass(),Mn.disabled,ve,g.style.map.terrain&&g.style.map.terrain.getTerrainData(le.coord),c.id,ge,Y,u.S.simpleSegment(0,2*le.circleOffset,le.circleArray.length,le.circleArray.length/2),null,g.transform.zoom,null,null,null)}var Ce;ge.destroy(),Y.destroy()}Mn.disabled=new Mn(!1,1029,2305),Mn.backCCW=new Mn(!0,1029,2305);const Wu=u.ao(new Float32Array(16));function s1(g,r,c,h,m,_){const{horizontalAlign:w,verticalAlign:C}=u.au(g);return new u.P((-(w-.5)*r/m+h[0])*_,(-(C-.5)*c/m+h[1])*_)}function l1(g,r,c,h,m,_,w,C,k,T,L){const D=g.text.placedSymbolArray,W=g.text.dynamicLayoutVertexArray,te=g.icon.dynamicLayoutVertexArray,ee={};W.clear();for(let oe=0;oe<D.length;oe++){const Y=D.get(oe),ge=Y.hidden||!Y.crossTileID||g.allowVerticalPlacement&&!Y.placedOrientation?null:h[Y.crossTileID];if(ge){const Ce=new u.P(Y.anchorX,Y.anchorY),le=Cn(Ce,c?w:_,L),ve=si(m.cameraToCenterDistance,le.signedDistanceFromCamera);let Ae=u.aj(g.textSizeData,k,Y)*ve/u.ap;c&&(Ae*=g.tilePixelRatio/C);const{width:Pe,height:Ne,anchor:Ue,textOffset:je,textBoxScale:Ke}=ge,mt=s1(Ue,Pe,Ne,je,Ke,Ae),Bt=c?Cn(Ce.add(mt),_,L).point:le.point.add(r?mt.rotate(-m.angle):mt),rt=g.allowVerticalPlacement&&Y.placedOrientation===u.ai.vertical?Math.PI/2:0;for(let Et=0;Et<Y.numGlyphs;Et++)u.ak(W,Bt,rt);T&&Y.associatedIconIndex>=0&&(ee[Y.associatedIconIndex]={shiftedAnchor:Bt,angle:rt})}else q(Y.numGlyphs,W)}if(T){te.clear();const oe=g.icon.placedSymbolArray;for(let Y=0;Y<oe.length;Y++){const ge=oe.get(Y);if(ge.hidden)q(ge.numGlyphs,te);else{const Ce=ee[Y];if(Ce)for(let le=0;le<ge.numGlyphs;le++)u.ak(te,Ce.shiftedAnchor,Ce.angle);else q(ge.numGlyphs,te)}}g.icon.dynamicLayoutVertexBuffer.updateData(te)}g.text.dynamicLayoutVertexBuffer.updateData(W)}function Uu(g,r,c){return c.iconsInText&&r?"symbolTextAndIcon":g?"symbolSDF":"symbolIcon"}function u1(g,r,c,h,m,_,w,C,k,T,L,D){const W=g.context,te=W.gl,ee=g.transform,oe=C==="map",Y=k==="map",ge=C!=="viewport"&&c.layout.get("symbol-placement")!=="point",Ce=oe&&!Y&&!ge,le=!c.layout.get("symbol-sort-key").isConstant();let ve=!1;const Ae=g.depthModeForSublayer(0,Ut.ReadOnly),Pe=c._unevaluatedLayout.hasValue("text-variable-anchor")||c._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ne=[];for(const Ue of h){const je=r.getTile(Ue),Ke=je.getBucket(c);if(!Ke)continue;const mt=m?Ke.text:Ke.icon;if(!mt||!mt.segments.get().length||!mt.hasVisibleVertices)continue;const Bt=mt.programConfigurations.get(c.id),rt=m||Ke.sdfIcons,Et=m?Ke.textSizeData:Ke.iconSizeData,yt=Y||ee.pitch!==0,cn=g.useProgram(Uu(rt,m,Ke),Bt),Nt=u.ah(Et,ee.zoom),zt=g.style.map.terrain&&g.style.map.terrain.getTerrainData(Ue);let $t,Bn,mn,_r,ir=[0,0],Un=null;if(m)Bn=je.glyphAtlasTexture,mn=te.LINEAR,$t=je.glyphAtlasTexture.size,Ke.iconsInText&&(ir=je.imageAtlasTexture.size,Un=je.imageAtlasTexture,_r=yt||g.options.rotating||g.options.zooming||Et.kind==="composite"||Et.kind==="camera"?te.LINEAR:te.NEAREST);else{const $n=c.layout.get("icon-size").constantOr(0)!==1||Ke.iconsNeedLinear;Bn=je.imageAtlasTexture,mn=rt||g.options.rotating||g.options.zooming||$n||yt?te.LINEAR:te.NEAREST,$t=je.imageAtlasTexture.size}const pi=me(je,1,g.transform.zoom),_n=Ye(Ue.posMatrix,Y,oe,g.transform,pi),ho=Mi(Ue.posMatrix,Y,oe,g.transform,pi),po=Pe&&Ke.hasTextData(),ca=c.layout.get("icon-text-fit")!=="none"&&po&&Ke.hasIconData();if(ge){const $n=g.style.map.terrain?(Xr,jn)=>g.style.map.terrain.getElevation(Ue,Xr,jn):null,or=c.layout.get("text-rotation-alignment")==="map";Qe(Ke,Ue.posMatrix,g,m,_n,ho,Y,T,or,$n)}const ka=g.translatePosMatrix(Ue.posMatrix,je,_,w),hs=ge||m&&Pe||ca?Wu:_n,Pr=g.translatePosMatrix(ho,je,_,w,!0),xr=rt&&c.paint.get(m?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Or;Or=rt?Ke.iconsInText?xa(Et.kind,Nt,Ce,Y,g,ka,hs,Pr,$t,ir):Lu(Et.kind,Nt,Ce,Y,g,ka,hs,Pr,m,$t,!0):Iu(Et.kind,Nt,Ce,Y,g,ka,hs,Pr,m,$t);const Aa={program:cn,buffers:mt,uniformValues:Or,atlasTexture:Bn,atlasTextureIcon:Un,atlasInterpolation:mn,atlasInterpolationIcon:_r,isSDF:rt,hasHalo:xr};if(le&&Ke.canOverlap){ve=!0;const $n=mt.segments.get();for(const or of $n)Ne.push({segments:new u.S([or]),sortKey:or.sortKey,state:Aa,terrainData:zt})}else Ne.push({segments:mt.segments,sortKey:0,state:Aa,terrainData:zt})}ve&&Ne.sort((Ue,je)=>Ue.sortKey-je.sortKey);for(const Ue of Ne){const je=Ue.state;if(W.activeTexture.set(te.TEXTURE0),je.atlasTexture.bind(je.atlasInterpolation,te.CLAMP_TO_EDGE),je.atlasTextureIcon&&(W.activeTexture.set(te.TEXTURE1),je.atlasTextureIcon&&je.atlasTextureIcon.bind(je.atlasInterpolationIcon,te.CLAMP_TO_EDGE)),je.isSDF){const Ke=je.uniformValues;je.hasHalo&&(Ke.u_is_halo=1,Hu(je.buffers,Ue.segments,c,g,je.program,Ae,L,D,Ke,Ue.terrainData)),Ke.u_is_halo=0}Hu(je.buffers,Ue.segments,c,g,je.program,Ae,L,D,je.uniformValues,Ue.terrainData)}}function Hu(g,r,c,h,m,_,w,C,k,T){const L=h.context;m.draw(L,L.gl.TRIANGLES,_,w,C,Mn.disabled,k,T,c.id,g.layoutVertexBuffer,g.indexBuffer,r,c.paint,h.transform.zoom,g.programConfigurations.get(c.id),g.dynamicLayoutVertexBuffer,g.opacityVertexBuffer)}function Js(g,r,c,h,m){if(!c||!h||!h.imageAtlas)return;const _=h.imageAtlas.patternPositions;let w=_[c.to.toString()],C=_[c.from.toString()];if(!w||!C){const k=m.getPaintProperty(r);w=_[k],C=_[k]}w&&C&&g.setConstantPatternPositions(w,C)}function Ys(g,r,c,h,m,_,w){const C=g.context.gl,k="fill-pattern",T=c.paint.get(k),L=T&&T.constantOr(1),D=c.getCrossfadeParameters();let W,te,ee,oe,Y;w?(te=L&&!c.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",W=C.LINES):(te=L?"fillPattern":"fill",W=C.TRIANGLES);const ge=T.constantOr(null);for(const Ce of h){const le=r.getTile(Ce);if(L&&!le.patternsLoaded())continue;const ve=le.getBucket(c);if(!ve)continue;const Ae=ve.programConfigurations.get(c.id),Pe=g.useProgram(te,Ae),Ne=g.style.map.terrain&&g.style.map.terrain.getTerrainData(Ce);L&&(g.context.activeTexture.set(C.TEXTURE0),le.imageAtlasTexture.bind(C.LINEAR,C.CLAMP_TO_EDGE),Ae.updatePaintBuffers(D)),Js(Ae,k,ge,le,c);const Ue=Ne?Ce:null,je=g.translatePosMatrix(Ue?Ue.posMatrix:Ce.posMatrix,le,c.paint.get("fill-translate"),c.paint.get("fill-translate-anchor"));if(w){oe=ve.indexBuffer2,Y=ve.segments2;const Ke=[C.drawingBufferWidth,C.drawingBufferHeight];ee=te==="fillOutlinePattern"&&L?Kl(je,g,D,le,Ke):ql(je,Ke)}else oe=ve.indexBuffer,Y=ve.segments,ee=L?ku(je,g,D,le):qd(je);Pe.draw(g.context,W,m,g.stencilModeForClipping(Ce),_,Mn.disabled,ee,Ne,c.id,ve.layoutVertexBuffer,oe,Y,c.paint,g.transform.zoom,Ae)}}function Qs(g,r,c,h,m,_,w){const C=g.context,k=C.gl,T="fill-extrusion-pattern",L=c.paint.get(T),D=L.constantOr(1),W=c.getCrossfadeParameters(),te=c.paint.get("fill-extrusion-opacity"),ee=L.constantOr(null);for(const oe of h){const Y=r.getTile(oe),ge=Y.getBucket(c);if(!ge)continue;const Ce=g.style.map.terrain&&g.style.map.terrain.getTerrainData(oe),le=ge.programConfigurations.get(c.id),ve=g.useProgram(D?"fillExtrusionPattern":"fillExtrusion",le);D&&(g.context.activeTexture.set(k.TEXTURE0),Y.imageAtlasTexture.bind(k.LINEAR,k.CLAMP_TO_EDGE),le.updatePaintBuffers(W)),Js(le,T,ee,Y,c);const Ae=g.translatePosMatrix(oe.posMatrix,Y,c.paint.get("fill-extrusion-translate"),c.paint.get("fill-extrusion-translate-anchor")),Pe=c.paint.get("fill-extrusion-vertical-gradient"),Ne=D?ia(Ae,g,Pe,te,oe,W,Y):Eu(Ae,g,Pe,te);ve.draw(C,C.gl.TRIANGLES,m,_,w,Mn.backCCW,Ne,Ce,c.id,ge.layoutVertexBuffer,ge.indexBuffer,ge.segments,c.paint,g.transform.zoom,le,g.style.map.terrain&&ge.centroidVertexBuffer)}}function N0(g,r,c,h,m,_,w){const C=g.context,k=C.gl,T=c.fbo;if(!T)return;const L=g.useProgram("hillshade"),D=g.style.map.terrain&&g.style.map.terrain.getTerrainData(r);C.activeTexture.set(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,T.colorAttachment.get()),L.draw(C,k.TRIANGLES,m,_,w,Mn.disabled,((W,te,ee,oe)=>{const Y=ee.paint.get("hillshade-shadow-color"),ge=ee.paint.get("hillshade-highlight-color"),Ce=ee.paint.get("hillshade-accent-color");let le=ee.paint.get("hillshade-illumination-direction")*(Math.PI/180);ee.paint.get("hillshade-illumination-anchor")==="viewport"&&(le-=W.transform.angle);const ve=!W.options.moving;return{u_matrix:oe?oe.posMatrix:W.transform.calculatePosMatrix(te.tileID.toUnwrapped(),ve),u_image:0,u_latrange:Pu(0,te.tileID),u_light:[ee.paint.get("hillshade-exaggeration"),le],u_shadow:Y,u_highlight:ge,u_accent:Ce}})(g,c,h,D?r:null),D,h.id,g.rasterBoundsBuffer,g.quadTriangleIndexBuffer,g.rasterBoundsSegments)}function Zu(g,r,c,h,m,_){const w=g.context,C=w.gl,k=r.dem;if(k&&k.data){const T=k.dim,L=k.stride,D=k.getPixels();if(w.activeTexture.set(C.TEXTURE1),w.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||g.getTileTexture(L),r.demTexture){const te=r.demTexture;te.update(D,{premultiply:!1}),te.bind(C.NEAREST,C.CLAMP_TO_EDGE)}else r.demTexture=new Me(w,D,C.RGBA,{premultiply:!1}),r.demTexture.bind(C.NEAREST,C.CLAMP_TO_EDGE);w.activeTexture.set(C.TEXTURE0);let W=r.fbo;if(!W){const te=new Me(w,{width:T,height:T,data:null},C.RGBA);te.bind(C.LINEAR,C.CLAMP_TO_EDGE),W=r.fbo=w.createFramebuffer(T,T,!0,!1),W.colorAttachment.set(te.texture)}w.bindFramebuffer.set(W.framebuffer),w.viewport.set([0,0,T,T]),g.useProgram("hillshadePrepare").draw(w,C.TRIANGLES,h,m,_,Mn.disabled,((te,ee)=>{const oe=ee.stride,Y=u.Z();return u.aS(Y,0,u.N,-u.N,0,0,1),u.$(Y,Y,[0,-u.N,0]),{u_matrix:Y,u_image:1,u_dimension:[oe,oe],u_zoom:te.overscaledZ,u_unpack:ee.getUnpackVector()}})(r.tileID,k),null,c.id,g.rasterBoundsBuffer,g.quadTriangleIndexBuffer,g.rasterBoundsSegments),r.needsHillshadePrepare=!1}}function O0(g,r,c,h,m,_){const w=h.paint.get("raster-fade-duration");if(!_&&w>0){const C=u.h.now(),k=(C-g.timeAdded)/w,T=r?(C-r.timeAdded)/w:-1,L=c.getSource(),D=m.coveringZoomLevel({tileSize:L.tileSize,roundZoom:L.roundZoom}),W=!r||Math.abs(r.tileID.overscaledZ-D)>Math.abs(g.tileID.overscaledZ-D),te=W&&g.refreshedUponExpiration?1:u.ad(W?k:1-T,0,1);return g.refreshedUponExpiration&&k>=1&&(g.refreshedUponExpiration=!1),r?{opacity:1,mix:1-te}:{opacity:te,mix:0}}return{opacity:1,mix:0}}const lh=new u.aT(1,0,0,1),c1=new u.aT(0,1,0,1),Gu=new u.aT(0,0,1,1),uh=new u.aT(1,0,1,1),ch=new u.aT(0,1,1,1);function el(g,r,c,h){h1(g,0,r+c/2,g.transform.width,c,h)}function d1(g,r,c,h){h1(g,r-c/2,0,c,g.transform.height,h)}function h1(g,r,c,h,m,_){const w=g.context,C=w.gl;C.enable(C.SCISSOR_TEST),C.scissor(r*g.pixelRatio,c*g.pixelRatio,h*g.pixelRatio,m*g.pixelRatio),w.clear({color:_}),C.disable(C.SCISSOR_TEST)}function dh(g,r,c){const h=g.context,m=h.gl,_=c.posMatrix,w=g.useProgram("debug"),C=Ut.disabled,k=Pn.disabled,T=g.colorModeForRenderPass(),L="$debug",D=g.style.map.terrain&&g.style.map.terrain.getTerrainData(c);h.activeTexture.set(m.TEXTURE0);const W=r.getTileByID(c.key).latestRawTileData,te=Math.floor((W&&W.byteLength||0)/1024),ee=r.getTile(c).tileSize,oe=512/Math.min(ee,512)*(c.overscaledZ/g.transform.zoom)*.5;let Y=c.canonical.toString();c.overscaledZ!==c.canonical.z&&(Y+=` => ${c.overscaledZ}`),function(ge,Ce){ge.initDebugOverlayCanvas();const le=ge.debugOverlayCanvas,ve=ge.context.gl,Ae=ge.debugOverlayCanvas.getContext("2d");Ae.clearRect(0,0,le.width,le.height),Ae.shadowColor="white",Ae.shadowBlur=2,Ae.lineWidth=1.5,Ae.strokeStyle="white",Ae.textBaseline="top",Ae.font="bold 36px Open Sans, sans-serif",Ae.fillText(Ce,5,5),Ae.strokeText(Ce,5,5),ge.debugOverlayTexture.update(le),ge.debugOverlayTexture.bind(ve.LINEAR,ve.CLAMP_TO_EDGE)}(g,`${Y} ${te}kB`),w.draw(h,m.TRIANGLES,C,k,An.alphaBlended,Mn.disabled,qs(_,u.aT.transparent,oe),null,L,g.debugBuffer,g.quadTriangleIndexBuffer,g.debugSegments),w.draw(h,m.LINE_STRIP,C,k,T,Mn.disabled,qs(_,u.aT.red),D,L,g.debugBuffer,g.tileBorderIndexBuffer,g.debugSegments)}function Dn(g,r,c){const h=g.context,m=h.gl,_=g.colorModeForRenderPass(),w=new Ut(m.LEQUAL,Ut.ReadWrite,g.depthRangeFor3D),C=g.useProgram("terrain"),k=r.getTerrainMesh();h.bindFramebuffer.set(null),h.viewport.set([0,0,g.width,g.height]);for(const T of c){const L=g.renderToTexture.getTexture(T),D=r.getTerrainData(T.tileID);h.activeTexture.set(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,L.texture);const W={u_matrix:g.transform.calculatePosMatrix(T.tileID.toUnwrapped()),u_texture:0,u_ele_delta:r.getMeshFrameDelta(g.transform.zoom)};C.draw(h,m.TRIANGLES,w,Pn.disabled,_,Mn.backCCW,W,D,"terrain",k.vertexBuffer,k.indexBuffer,k.segments)}}class Sa{constructor(r,c){this.context=new F0(r),this.transform=c,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:u.Z(),renderTime:0},this.setup(),this.numSublayers=Rt.maxUnderzooming+Rt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Hl}resize(r,c,h){if(this.width=Math.floor(r*h),this.height=Math.floor(c*h),this.pixelRatio=h,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const m of this.style._order)this.style._layers[m].resize()}setup(){const r=this.context,c=new u.a_;c.emplaceBack(0,0),c.emplaceBack(u.N,0),c.emplaceBack(0,u.N),c.emplaceBack(u.N,u.N),this.tileExtentBuffer=r.createVertexBuffer(c,Zl.members),this.tileExtentSegments=u.S.simpleSegment(0,0,4,2);const h=new u.a_;h.emplaceBack(0,0),h.emplaceBack(u.N,0),h.emplaceBack(0,u.N),h.emplaceBack(u.N,u.N),this.debugBuffer=r.createVertexBuffer(h,Zl.members),this.debugSegments=u.S.simpleSegment(0,0,4,5);const m=new u.V;m.emplaceBack(0,0,0,0),m.emplaceBack(u.N,0,u.N,0),m.emplaceBack(0,u.N,0,u.N),m.emplaceBack(u.N,u.N,u.N,u.N),this.rasterBoundsBuffer=r.createVertexBuffer(m,tr.members),this.rasterBoundsSegments=u.S.simpleSegment(0,0,4,2);const _=new u.a_;_.emplaceBack(0,0),_.emplaceBack(1,0),_.emplaceBack(0,1),_.emplaceBack(1,1),this.viewportBuffer=r.createVertexBuffer(_,Zl.members),this.viewportSegments=u.S.simpleSegment(0,0,4,2);const w=new u.a$;w.emplaceBack(0),w.emplaceBack(1),w.emplaceBack(3),w.emplaceBack(2),w.emplaceBack(0),this.tileBorderIndexBuffer=r.createIndexBuffer(w);const C=new u.b0;C.emplaceBack(0,1,2),C.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=r.createIndexBuffer(C);const k=this.context.gl;this.stencilClearMode=new Pn({func:k.ALWAYS,mask:0},0,255,k.ZERO,k.ZERO,k.ZERO)}clearStencil(){const r=this.context,c=r.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const h=u.Z();u.aS(h,0,this.width,this.height,0,0,1),u.a0(h,h,[c.drawingBufferWidth,c.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(r,c.TRIANGLES,Ut.disabled,this.stencilClearMode,An.disabled,Mn.disabled,Kd(h),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(r,c){if(this.currentStencilSource===r.source||!r.isTileClipped()||!c||!c.length)return;this.currentStencilSource=r.source;const h=this.context,m=h.gl;this.nextStencilID+c.length>256&&this.clearStencil(),h.setColorMode(An.disabled),h.setDepthMode(Ut.disabled);const _=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const w of c){const C=this._tileClippingMaskIDs[w.key]=this.nextStencilID++,k=this.style.map.terrain&&this.style.map.terrain.getTerrainData(w);_.draw(h,m.TRIANGLES,Ut.disabled,new Pn({func:m.ALWAYS,mask:0},C,255,m.KEEP,m.KEEP,m.REPLACE),An.disabled,Mn.disabled,Kd(w.posMatrix),k,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const r=this.nextStencilID++,c=this.context.gl;return new Pn({func:c.NOTEQUAL,mask:255},r,255,c.KEEP,c.KEEP,c.REPLACE)}stencilModeForClipping(r){const c=this.context.gl;return new Pn({func:c.EQUAL,mask:255},this._tileClippingMaskIDs[r.key],0,c.KEEP,c.KEEP,c.REPLACE)}stencilConfigForOverlap(r){const c=this.context.gl,h=r.sort((w,C)=>C.overscaledZ-w.overscaledZ),m=h[h.length-1].overscaledZ,_=h[0].overscaledZ-m+1;if(_>1){this.currentStencilSource=void 0,this.nextStencilID+_>256&&this.clearStencil();const w={};for(let C=0;C<_;C++)w[C+m]=new Pn({func:c.GEQUAL,mask:255},C+this.nextStencilID,255,c.KEEP,c.KEEP,c.REPLACE);return this.nextStencilID+=_,[w,h]}return[{[m]:Pn.disabled},h]}colorModeForRenderPass(){const r=this.context.gl;return this._showOverdrawInspector?new An([r.CONSTANT_COLOR,r.ONE],new u.aT(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?An.unblended:An.alphaBlended}depthModeForSublayer(r,c,h){if(!this.opaquePassEnabledForLayer())return Ut.disabled;const m=1-((1+this.currentLayer)*this.numSublayers+r)*this.depthEpsilon;return new Ut(h||this.context.gl.LEQUAL,c,[m,m])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(r,c){this.style=r,this.options=c,this.lineAtlas=r.lineAtlas,this.imageManager=r.imageManager,this.glyphManager=r.glyphManager,this.symbolFadeChange=r.placement.symbolFadeChange(u.h.now()),this.imageManager.beginFrame();const h=this.style._order,m=this.style.sourceCaches,_={},w={},C={};for(const k in m){const T=m[k];T.used&&T.prepare(this.context),_[k]=T.getVisibleCoordinates(),w[k]=_[k].slice().reverse(),C[k]=T.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let k=0;k<h.length;k++)if(this.style._layers[h[k]].is3D()){this.opaquePassCutoff=k;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const k=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!u.b1(this.terrainFacilitator.matrix,this.transform.projMatrix)||k.length)&&(u.b2(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(T,L){const D=T.context,W=D.gl,te=An.unblended,ee=new Ut(W.LEQUAL,Ut.ReadWrite,[0,1]),oe=L.getTerrainMesh(),Y=L.sourceCache.getRenderableTiles(),ge=T.useProgram("terrainDepth");D.bindFramebuffer.set(L.getFramebuffer("depth").framebuffer),D.viewport.set([0,0,T.width/devicePixelRatio,T.height/devicePixelRatio]),D.clear({color:u.aT.transparent,depth:1});for(const Ce of Y){const le=L.getTerrainData(Ce.tileID),ve={u_matrix:T.transform.calculatePosMatrix(Ce.tileID.toUnwrapped()),u_ele_delta:L.getMeshFrameDelta(T.transform.zoom)};ge.draw(D,W.TRIANGLES,ee,Pn.disabled,te,Mn.backCCW,ve,le,"terrain",oe.vertexBuffer,oe.indexBuffer,oe.segments)}D.bindFramebuffer.set(null),D.viewport.set([0,0,T.width,T.height])}(this,this.style.map.terrain),function(T,L){const D=T.context,W=D.gl,te=An.unblended,ee=new Ut(W.LEQUAL,Ut.ReadWrite,[0,1]),oe=L.getTerrainMesh(),Y=L.getCoordsTexture(),ge=L.sourceCache.getRenderableTiles(),Ce=T.useProgram("terrainCoords");D.bindFramebuffer.set(L.getFramebuffer("coords").framebuffer),D.viewport.set([0,0,T.width/devicePixelRatio,T.height/devicePixelRatio]),D.clear({color:u.aT.transparent,depth:1}),L.coordsIndex=[];for(const le of ge){const ve=L.getTerrainData(le.tileID);D.activeTexture.set(W.TEXTURE0),W.bindTexture(W.TEXTURE_2D,Y.texture);const Ae={u_matrix:T.transform.calculatePosMatrix(le.tileID.toUnwrapped()),u_terrain_coords_id:(255-L.coordsIndex.length)/255,u_texture:0,u_ele_delta:L.getMeshFrameDelta(T.transform.zoom)};Ce.draw(D,W.TRIANGLES,ee,Pn.disabled,te,Mn.backCCW,Ae,ve,"terrain",oe.vertexBuffer,oe.indexBuffer,oe.segments),L.coordsIndex.push(le.tileID.key)}D.bindFramebuffer.set(null),D.viewport.set([0,0,T.width,T.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const k of h){const T=this.style._layers[k];if(!T.hasOffscreenPass()||T.isHidden(this.transform.zoom))continue;const L=w[T.source];(T.type==="custom"||L.length)&&this.renderLayer(this,m[T.source],T,L)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:c.showOverdrawInspector?u.aT.black:u.aT.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=c.showOverdrawInspector,this.depthRangeFor3D=[0,1-(r._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=h.length-1;this.currentLayer>=0;this.currentLayer--){const k=this.style._layers[h[this.currentLayer]],T=m[k.source],L=_[k.source];this._renderTileClippingMasks(k,L),this.renderLayer(this,T,k,L)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<h.length;this.currentLayer++){const k=this.style._layers[h[this.currentLayer]],T=m[k.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(k))continue;const L=(k.type==="symbol"?C:w)[k.source];this._renderTileClippingMasks(k,_[k.source]),this.renderLayer(this,T,k,L)}if(this.options.showTileBoundaries){const k=function(T,L){let D=null;const W=Object.values(T._layers).flatMap(Y=>Y.source&&!Y.isHidden(L)?[T.sourceCaches[Y.source]]:[]),te=W.filter(Y=>Y.getSource().type==="vector"),ee=W.filter(Y=>Y.getSource().type!=="vector"),oe=Y=>{(!D||D.getSource().maxzoom<Y.getSource().maxzoom)&&(D=Y)};return te.forEach(Y=>oe(Y)),D||ee.forEach(Y=>oe(Y)),D}(this.style,this.transform.zoom);k&&function(T,L,D){for(let W=0;W<D.length;W++)dh(T,L,D[W])}(this,k,k.getVisibleCoordinates())}this.options.showPadding&&function(k){const T=k.transform.padding;el(k,k.transform.height-(T.top||0),3,lh),el(k,T.bottom||0,3,c1),d1(k,T.left||0,3,Gu),d1(k,k.transform.width-(T.right||0),3,uh);const L=k.transform.centerPoint;(function(D,W,te,ee){h1(D,W-1,te-10,2,20,ee),h1(D,W-10,te-1,20,2,ee)})(k,L.x,k.transform.height-L.y,ch)}(this),this.context.setDefault()}renderLayer(r,c,h,m){if(!h.isHidden(this.transform.zoom)&&(h.type==="background"||h.type==="custom"||(m||[]).length))switch(this.id=h.id,h.type){case"symbol":(function(_,w,C,k,T){if(_.renderPass!=="translucent")return;const L=Pn.disabled,D=_.colorModeForRenderPass();(C._unevaluatedLayout.hasValue("text-variable-anchor")||C._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(W,te,ee,oe,Y,ge,Ce){const le=te.transform,ve=Y==="map",Ae=ge==="map";for(const Pe of W){const Ne=oe.getTile(Pe),Ue=Ne.getBucket(ee);if(!Ue||!Ue.text||!Ue.text.segments.get().length)continue;const je=u.ah(Ue.textSizeData,le.zoom),Ke=me(Ne,1,te.transform.zoom),mt=Ye(Pe.posMatrix,Ae,ve,te.transform,Ke),Bt=ee.layout.get("icon-text-fit")!=="none"&&Ue.hasIconData();if(je){const rt=Math.pow(2,le.zoom-Ne.tileID.overscaledZ);l1(Ue,ve,Ae,Ce,le,mt,Pe.posMatrix,rt,je,Bt,te.style.map.terrain?(Et,yt)=>te.style.map.terrain.getElevation(Pe,Et,yt):null)}}}(k,_,C,w,C.layout.get("text-rotation-alignment"),C.layout.get("text-pitch-alignment"),T),C.paint.get("icon-opacity").constantOr(1)!==0&&u1(_,w,C,k,!1,C.paint.get("icon-translate"),C.paint.get("icon-translate-anchor"),C.layout.get("icon-rotation-alignment"),C.layout.get("icon-pitch-alignment"),C.layout.get("icon-keep-upright"),L,D),C.paint.get("text-opacity").constantOr(1)!==0&&u1(_,w,C,k,!0,C.paint.get("text-translate"),C.paint.get("text-translate-anchor"),C.layout.get("text-rotation-alignment"),C.layout.get("text-pitch-alignment"),C.layout.get("text-keep-upright"),L,D),w.map.showCollisionBoxes&&(sh(_,w,C,k,C.paint.get("text-translate"),C.paint.get("text-translate-anchor"),!0),sh(_,w,C,k,C.paint.get("icon-translate"),C.paint.get("icon-translate-anchor"),!1))})(r,c,h,m,this.style.placement.variableOffsets);break;case"circle":(function(_,w,C,k){if(_.renderPass!=="translucent")return;const T=C.paint.get("circle-opacity"),L=C.paint.get("circle-stroke-width"),D=C.paint.get("circle-stroke-opacity"),W=!C.layout.get("circle-sort-key").isConstant();if(T.constantOr(1)===0&&(L.constantOr(1)===0||D.constantOr(1)===0))return;const te=_.context,ee=te.gl,oe=_.depthModeForSublayer(0,Ut.ReadOnly),Y=Pn.disabled,ge=_.colorModeForRenderPass(),Ce=[];for(let le=0;le<k.length;le++){const ve=k[le],Ae=w.getTile(ve),Pe=Ae.getBucket(C);if(!Pe)continue;const Ne=Pe.programConfigurations.get(C.id),Ue=_.useProgram("circle",Ne),je=Pe.layoutVertexBuffer,Ke=Pe.indexBuffer,mt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(ve),Bt={programConfiguration:Ne,program:Ue,layoutVertexBuffer:je,indexBuffer:Ke,uniformValues:oa(_,ve,Ae,C),terrainData:mt};if(W){const rt=Pe.segments.get();for(const Et of rt)Ce.push({segments:new u.S([Et]),sortKey:Et.sortKey,state:Bt})}else Ce.push({segments:Pe.segments,sortKey:0,state:Bt})}W&&Ce.sort((le,ve)=>le.sortKey-ve.sortKey);for(const le of Ce){const{programConfiguration:ve,program:Ae,layoutVertexBuffer:Pe,indexBuffer:Ne,uniformValues:Ue,terrainData:je}=le.state;Ae.draw(te,ee.TRIANGLES,oe,Y,ge,Mn.disabled,Ue,je,C.id,Pe,Ne,le.segments,C.paint,_.transform.zoom,ve)}})(r,c,h,m);break;case"heatmap":(function(_,w,C,k){if(C.paint.get("heatmap-opacity")!==0)if(_.renderPass==="offscreen"){const T=_.context,L=T.gl,D=Pn.disabled,W=new An([L.ONE,L.ONE],u.aT.transparent,[!0,!0,!0,!0]);(function(te,ee,oe){const Y=te.gl;te.activeTexture.set(Y.TEXTURE1),te.viewport.set([0,0,ee.width/4,ee.height/4]);let ge=oe.heatmapFbo;if(ge)Y.bindTexture(Y.TEXTURE_2D,ge.colorAttachment.get()),te.bindFramebuffer.set(ge.framebuffer);else{const Ce=Y.createTexture();Y.bindTexture(Y.TEXTURE_2D,Ce),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_S,Y.CLAMP_TO_EDGE),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_T,Y.CLAMP_TO_EDGE),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,Y.LINEAR),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,Y.LINEAR),ge=oe.heatmapFbo=te.createFramebuffer(ee.width/4,ee.height/4,!1,!1),function(le,ve,Ae,Pe){var Ne,Ue;const je=le.gl,Ke=(Ne=le.HALF_FLOAT)!==null&&Ne!==void 0?Ne:je.UNSIGNED_BYTE,mt=(Ue=le.RGBA16F)!==null&&Ue!==void 0?Ue:je.RGBA;je.texImage2D(je.TEXTURE_2D,0,mt,ve.width/4,ve.height/4,0,je.RGBA,Ke,null),Pe.colorAttachment.set(Ae)}(te,ee,Ce,ge)}})(T,_,C),T.clear({color:u.aT.transparent});for(let te=0;te<k.length;te++){const ee=k[te];if(w.hasRenderableParent(ee))continue;const oe=w.getTile(ee),Y=oe.getBucket(C);if(!Y)continue;const ge=Y.programConfigurations.get(C.id),Ce=_.useProgram("heatmap",ge),{zoom:le}=_.transform;Ce.draw(T,L.TRIANGLES,Ut.disabled,D,W,Mn.disabled,A0(ee.posMatrix,oe,le,C.paint.get("heatmap-intensity")),null,C.id,Y.layoutVertexBuffer,Y.indexBuffer,Y.segments,C.paint,_.transform.zoom,ge)}T.viewport.set([0,0,_.width,_.height])}else _.renderPass==="translucent"&&(_.context.setColorMode(_.colorModeForRenderPass()),function(T,L){const D=T.context,W=D.gl,te=L.heatmapFbo;if(!te)return;D.activeTexture.set(W.TEXTURE0),W.bindTexture(W.TEXTURE_2D,te.colorAttachment.get()),D.activeTexture.set(W.TEXTURE1);let ee=L.colorRampTexture;ee||(ee=L.colorRampTexture=new Me(D,L.colorRamp,W.RGBA)),ee.bind(W.LINEAR,W.CLAMP_TO_EDGE),T.useProgram("heatmapTexture").draw(D,W.TRIANGLES,Ut.disabled,Pn.disabled,T.colorModeForRenderPass(),Mn.disabled,((oe,Y,ge,Ce)=>{const le=u.Z();u.aS(le,0,oe.width,oe.height,0,0,1);const ve=oe.context.gl;return{u_matrix:le,u_world:[ve.drawingBufferWidth,ve.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:Y.paint.get("heatmap-opacity")}})(T,L),null,L.id,T.viewportBuffer,T.quadTriangleIndexBuffer,T.viewportSegments,L.paint,T.transform.zoom)}(_,C))})(r,c,h,m);break;case"line":(function(_,w,C,k){if(_.renderPass!=="translucent")return;const T=C.paint.get("line-opacity"),L=C.paint.get("line-width");if(T.constantOr(1)===0||L.constantOr(1)===0)return;const D=_.depthModeForSublayer(0,Ut.ReadOnly),W=_.colorModeForRenderPass(),te=C.paint.get("line-dasharray"),ee=C.paint.get("line-pattern"),oe=ee.constantOr(1),Y=C.paint.get("line-gradient"),ge=C.getCrossfadeParameters(),Ce=oe?"linePattern":te?"lineSDF":Y?"lineGradient":"line",le=_.context,ve=le.gl;let Ae=!0;for(const Pe of k){const Ne=w.getTile(Pe);if(oe&&!Ne.patternsLoaded())continue;const Ue=Ne.getBucket(C);if(!Ue)continue;const je=Ue.programConfigurations.get(C.id),Ke=_.context.program.get(),mt=_.useProgram(Ce,je),Bt=Ae||mt.program!==Ke,rt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Pe),Et=ee.constantOr(null);if(Et&&Ne.imageAtlas){const Nt=Ne.imageAtlas,zt=Nt.patternPositions[Et.to.toString()],$t=Nt.patternPositions[Et.from.toString()];zt&&$t&&je.setConstantPatternPositions(zt,$t)}const yt=rt?Pe:null,cn=oe?P0(_,Ne,C,ge,yt):te?Jd(_,Ne,C,te,ge,yt):Y?Xd(_,Ne,C,Ue.lineClipsArray.length,yt):Tu(_,Ne,C,yt);if(oe)le.activeTexture.set(ve.TEXTURE0),Ne.imageAtlasTexture.bind(ve.LINEAR,ve.CLAMP_TO_EDGE),je.updatePaintBuffers(ge);else if(te&&(Bt||_.lineAtlas.dirty))le.activeTexture.set(ve.TEXTURE0),_.lineAtlas.bind(le);else if(Y){const Nt=Ue.gradients[C.id];let zt=Nt.texture;if(C.gradientVersion!==Nt.version){let $t=256;if(C.stepInterpolant){const Bn=w.getSource().maxzoom,mn=Pe.canonical.z===Bn?Math.ceil(1<<_.transform.maxZoom-Pe.canonical.z):1;$t=u.ad(u.aY(Ue.maxLineLength/u.N*1024*mn),256,le.maxTextureSize)}Nt.gradient=u.aZ({expression:C.gradientExpression(),evaluationKey:"lineProgress",resolution:$t,image:Nt.gradient||void 0,clips:Ue.lineClipsArray}),Nt.texture?Nt.texture.update(Nt.gradient):Nt.texture=new Me(le,Nt.gradient,ve.RGBA),Nt.version=C.gradientVersion,zt=Nt.texture}le.activeTexture.set(ve.TEXTURE0),zt.bind(C.stepInterpolant?ve.NEAREST:ve.LINEAR,ve.CLAMP_TO_EDGE)}mt.draw(le,ve.TRIANGLES,D,_.stencilModeForClipping(Pe),W,Mn.disabled,cn,rt,C.id,Ue.layoutVertexBuffer,Ue.indexBuffer,Ue.segments,C.paint,_.transform.zoom,je,Ue.layoutVertexBuffer2),Ae=!1}})(r,c,h,m);break;case"fill":(function(_,w,C,k){const T=C.paint.get("fill-color"),L=C.paint.get("fill-opacity");if(L.constantOr(1)===0)return;const D=_.colorModeForRenderPass(),W=C.paint.get("fill-pattern"),te=_.opaquePassEnabledForLayer()&&!W.constantOr(1)&&T.constantOr(u.aT.transparent).a===1&&L.constantOr(0)===1?"opaque":"translucent";if(_.renderPass===te){const ee=_.depthModeForSublayer(1,_.renderPass==="opaque"?Ut.ReadWrite:Ut.ReadOnly);Ys(_,w,C,k,ee,D,!1)}if(_.renderPass==="translucent"&&C.paint.get("fill-antialias")){const ee=_.depthModeForSublayer(C.getPaintProperty("fill-outline-color")?2:0,Ut.ReadOnly);Ys(_,w,C,k,ee,D,!0)}})(r,c,h,m);break;case"fill-extrusion":(function(_,w,C,k){const T=C.paint.get("fill-extrusion-opacity");if(T!==0&&_.renderPass==="translucent"){const L=new Ut(_.context.gl.LEQUAL,Ut.ReadWrite,_.depthRangeFor3D);if(T!==1||C.paint.get("fill-extrusion-pattern").constantOr(1))Qs(_,w,C,k,L,Pn.disabled,An.disabled),Qs(_,w,C,k,L,_.stencilModeFor3D(),_.colorModeForRenderPass());else{const D=_.colorModeForRenderPass();Qs(_,w,C,k,L,Pn.disabled,D)}}})(r,c,h,m);break;case"hillshade":(function(_,w,C,k){if(_.renderPass!=="offscreen"&&_.renderPass!=="translucent")return;const T=_.context,L=_.depthModeForSublayer(0,Ut.ReadOnly),D=_.colorModeForRenderPass(),[W,te]=_.renderPass==="translucent"?_.stencilConfigForOverlap(k):[{},k];for(const ee of te){const oe=w.getTile(ee);oe.needsHillshadePrepare!==void 0&&oe.needsHillshadePrepare&&_.renderPass==="offscreen"?Zu(_,oe,C,L,Pn.disabled,D):_.renderPass==="translucent"&&N0(_,ee,oe,C,L,W[ee.overscaledZ],D)}T.viewport.set([0,0,_.width,_.height])})(r,c,h,m);break;case"raster":(function(_,w,C,k){if(_.renderPass!=="translucent"||C.paint.get("raster-opacity")===0||!k.length)return;const T=_.context,L=T.gl,D=w.getSource(),W=_.useProgram("raster"),te=_.colorModeForRenderPass(),[ee,oe]=D instanceof Nn?[{},k]:_.stencilConfigForOverlap(k),Y=oe[oe.length-1].overscaledZ,ge=!_.options.moving;for(const Ce of oe){const le=_.depthModeForSublayer(Ce.overscaledZ-Y,C.paint.get("raster-opacity")===1?Ut.ReadWrite:Ut.ReadOnly,L.LESS),ve=w.getTile(Ce);ve.registerFadeDuration(C.paint.get("raster-fade-duration"));const Ae=w.findLoadedParent(Ce,0),Pe=O0(ve,Ae,w,C,_.transform,_.style.map.terrain);let Ne,Ue;const je=C.paint.get("raster-resampling")==="nearest"?L.NEAREST:L.LINEAR;T.activeTexture.set(L.TEXTURE0),ve.texture.bind(je,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST),T.activeTexture.set(L.TEXTURE1),Ae?(Ae.texture.bind(je,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST),Ne=Math.pow(2,Ae.tileID.overscaledZ-ve.tileID.overscaledZ),Ue=[ve.tileID.canonical.x*Ne%1,ve.tileID.canonical.y*Ne%1]):ve.texture.bind(je,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST);const Ke=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Ce),mt=Ke?Ce:null,Bt=mt?mt.posMatrix:_.transform.calculatePosMatrix(Ce.toUnwrapped(),ge),rt=Qd(Bt,Ue||[0,0],Ne||1,Pe,C);D instanceof Nn?W.draw(T,L.TRIANGLES,le,Pn.disabled,te,Mn.disabled,rt,Ke,C.id,D.boundsBuffer,_.quadTriangleIndexBuffer,D.boundsSegments):W.draw(T,L.TRIANGLES,le,ee[Ce.overscaledZ],te,Mn.disabled,rt,Ke,C.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}})(r,c,h,m);break;case"background":(function(_,w,C,k){const T=C.paint.get("background-color"),L=C.paint.get("background-opacity");if(L===0)return;const D=_.context,W=D.gl,te=_.transform,ee=te.tileSize,oe=C.paint.get("background-pattern");if(_.isPatternMissing(oe))return;const Y=!oe&&T.a===1&&L===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass!==Y)return;const ge=Pn.disabled,Ce=_.depthModeForSublayer(0,Y==="opaque"?Ut.ReadWrite:Ut.ReadOnly),le=_.colorModeForRenderPass(),ve=_.useProgram(oe?"backgroundPattern":"background"),Ae=k||te.coveringTiles({tileSize:ee,terrain:_.style.map.terrain});oe&&(D.activeTexture.set(W.TEXTURE0),_.imageManager.bind(_.context));const Pe=C.getCrossfadeParameters();for(const Ne of Ae){const Ue=k?Ne.posMatrix:_.transform.calculatePosMatrix(Ne.toUnwrapped()),je=oe?Ii(Ue,L,_,oe,{tileID:Ne,tileSize:ee},Pe):Jl(Ue,L,T),Ke=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Ne);ve.draw(D,W.TRIANGLES,Ce,ge,le,Mn.disabled,je,Ke,C.id,_.tileExtentBuffer,_.quadTriangleIndexBuffer,_.tileExtentSegments)}})(r,0,h,m);break;case"custom":(function(_,w,C){const k=_.context,T=C.implementation;if(_.renderPass==="offscreen"){const L=T.prerender;L&&(_.setCustomLayerDefaults(),k.setColorMode(_.colorModeForRenderPass()),L.call(T,k.gl,_.transform.customLayerMatrix()),k.setDirty(),_.setBaseState())}else if(_.renderPass==="translucent"){_.setCustomLayerDefaults(),k.setColorMode(_.colorModeForRenderPass()),k.setStencilMode(Pn.disabled);const L=T.renderingMode==="3d"?new Ut(_.context.gl.LEQUAL,Ut.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,Ut.ReadOnly);k.setDepthMode(L),T.render(k.gl,_.transform.customLayerMatrix()),k.setDirty(),_.setBaseState(),k.bindFramebuffer.set(null)}})(r,0,h)}}translatePosMatrix(r,c,h,m,_){if(!h[0]&&!h[1])return r;const w=_?m==="map"?this.transform.angle:0:m==="viewport"?-this.transform.angle:0;if(w){const T=Math.sin(w),L=Math.cos(w);h=[h[0]*L-h[1]*T,h[0]*T+h[1]*L]}const C=[_?h[0]:me(c,h[0],this.transform.zoom),_?h[1]:me(c,h[1],this.transform.zoom),0],k=new Float32Array(16);return u.$(k,r,C),k}saveTileTexture(r){const c=this._tileTextures[r.size[0]];c?c.push(r):this._tileTextures[r.size[0]]=[r]}getTileTexture(r){const c=this._tileTextures[r];return c&&c.length>0?c.pop():null}isPatternMissing(r){if(!r)return!1;if(!r.from||!r.to)return!0;const c=this.imageManager.getPattern(r.from.toString()),h=this.imageManager.getPattern(r.to.toString());return!c||!h}useProgram(r,c){this.cache=this.cache||{};const h=r+(c?c.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[h]||(this.cache[h]=new Gl(this.context,kn[r],c,Yl[r],this._showOverdrawInspector,this.style.map.terrain)),this.cache[h]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const r=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(r.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Me(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:r,drawingBufferHeight:c}=this.context.gl;return this.width!==r||this.height!==c}}class qr{constructor(r,c){this.points=r,this.planes=c}static fromInvProjectionMatrix(r,c,h){const m=Math.pow(2,h),_=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(C=>{const k=1/(C=u.ag([],C,r))[3]/c*m;return u.b3(C,C,[k,k,1/C[3],k])}),w=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(C=>{const k=function(W,te){var ee=te[0],oe=te[1],Y=te[2],ge=ee*ee+oe*oe+Y*Y;return ge>0&&(ge=1/Math.sqrt(ge)),W[0]=te[0]*ge,W[1]=te[1]*ge,W[2]=te[2]*ge,W}([],function(W,te,ee){var oe=te[0],Y=te[1],ge=te[2],Ce=ee[0],le=ee[1],ve=ee[2];return W[0]=Y*ve-ge*le,W[1]=ge*Ce-oe*ve,W[2]=oe*le-Y*Ce,W}([],pe([],_[C[0]],_[C[1]]),pe([],_[C[2]],_[C[1]]))),T=-((L=k)[0]*(D=_[C[1]])[0]+L[1]*D[1]+L[2]*D[2]);var L,D;return k.concat(T)});return new qr(_,w)}}class as{constructor(r,c){this.min=r,this.max=c,this.center=function(h,m,_){return h[0]=.5*m[0],h[1]=.5*m[1],h[2]=.5*m[2],h}([],function(h,m,_){return h[0]=m[0]+_[0],h[1]=m[1]+_[1],h[2]=m[2]+_[2],h}([],this.min,this.max))}quadrant(r){const c=[r%2==0,r<2],h=ne(this.min),m=ne(this.max);for(let _=0;_<c.length;_++)h[_]=c[_]?this.min[_]:this.center[_],m[_]=c[_]?this.center[_]:this.max[_];return m[2]=this.max[2],new as(h,m)}distanceX(r){return Math.max(Math.min(this.max[0],r[0]),this.min[0])-r[0]}distanceY(r){return Math.max(Math.min(this.max[1],r[1]),this.min[1])-r[1]}intersects(r){const c=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let h=!0;for(let m=0;m<r.planes.length;m++){const _=r.planes[m];let w=0;for(let C=0;C<c.length;C++)u.b4(_,c[C])>=0&&w++;if(w===0)return 0;w!==c.length&&(h=!1)}if(h)return 2;for(let m=0;m<3;m++){let _=Number.MAX_VALUE,w=-Number.MAX_VALUE;for(let C=0;C<r.points.length;C++){const k=r.points[C][m]-this.min[m];_=Math.min(_,k),w=Math.max(w,k)}if(w<0||_>this.max[m]-this.min[m])return 0}return 1}}class tl{constructor(r=0,c=0,h=0,m=0){if(isNaN(r)||r<0||isNaN(c)||c<0||isNaN(h)||h<0||isNaN(m)||m<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=r,this.bottom=c,this.left=h,this.right=m}interpolate(r,c,h){return c.top!=null&&r.top!=null&&(this.top=u.B.number(r.top,c.top,h)),c.bottom!=null&&r.bottom!=null&&(this.bottom=u.B.number(r.bottom,c.bottom,h)),c.left!=null&&r.left!=null&&(this.left=u.B.number(r.left,c.left,h)),c.right!=null&&r.right!=null&&(this.right=u.B.number(r.right,c.right,h)),this}getCenter(r,c){const h=u.ad((this.left+r-this.right)/2,0,r),m=u.ad((this.top+c-this.bottom)/2,0,c);return new u.P(h,m)}equals(r){return this.top===r.top&&this.bottom===r.bottom&&this.left===r.left&&this.right===r.right}clone(){return new tl(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class p1{constructor(r,c,h,m,_){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=_===void 0||!!_,this._minZoom=r||0,this._maxZoom=c||22,this._minPitch=h??0,this._maxPitch=m??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new u.L(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new tl,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const r=new p1(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return r.apply(this),r}apply(r){this.tileSize=r.tileSize,this.latRange=r.latRange,this.width=r.width,this.height=r.height,this._center=r._center,this._elevation=r._elevation,this._minEleveationForCurrentTile=r._minEleveationForCurrentTile,this.zoom=r.zoom,this.angle=r.angle,this._fov=r._fov,this._pitch=r._pitch,this._unmodified=r._unmodified,this._edgeInsets=r._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(r){this._minZoom!==r&&(this._minZoom=r,this.zoom=Math.max(this.zoom,r))}get maxZoom(){return this._maxZoom}set maxZoom(r){this._maxZoom!==r&&(this._maxZoom=r,this.zoom=Math.min(this.zoom,r))}get minPitch(){return this._minPitch}set minPitch(r){this._minPitch!==r&&(this._minPitch=r,this.pitch=Math.max(this.pitch,r))}get maxPitch(){return this._maxPitch}set maxPitch(r){this._maxPitch!==r&&(this._maxPitch=r,this.pitch=Math.min(this.pitch,r))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(r){r===void 0?r=!0:r===null&&(r=!1),this._renderWorldCopies=r}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new u.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(r){const c=-u.b5(r,-180,180)*Math.PI/180;this.angle!==c&&(this._unmodified=!1,this.angle=c,this._calcMatrices(),this.rotationMatrix=function(){var h=new u.A(4);return u.A!=Float32Array&&(h[1]=0,h[2]=0),h[0]=1,h[3]=1,h}(),function(h,m,_){var w=m[0],C=m[1],k=m[2],T=m[3],L=Math.sin(_),D=Math.cos(_);h[0]=w*D+k*L,h[1]=C*D+T*L,h[2]=w*-L+k*D,h[3]=C*-L+T*D}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(r){const c=u.ad(r,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==c&&(this._unmodified=!1,this._pitch=c,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(r){r=Math.max(.01,Math.min(60,r)),this._fov!==r&&(this._unmodified=!1,this._fov=r/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(r){const c=Math.min(Math.max(r,this.minZoom),this.maxZoom);this._zoom!==c&&(this._unmodified=!1,this._zoom=c,this.tileZoom=Math.max(0,Math.floor(c)),this.scale=this.zoomScale(c),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(r){r.lat===this._center.lat&&r.lng===this._center.lng||(this._unmodified=!1,this._center=r,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(r){r!==this._elevation&&(this._elevation=r,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(r){this._edgeInsets.equals(r)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,r,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(r){return this._edgeInsets.equals(r)}interpolatePadding(r,c,h){this._unmodified=!1,this._edgeInsets.interpolate(r,c,h),this._constrain(),this._calcMatrices()}coveringZoomLevel(r){const c=(r.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/r.tileSize));return Math.max(0,c)}getVisibleUnwrappedCoordinates(r){const c=[new u.b6(0,r)];if(this._renderWorldCopies){const h=this.pointCoordinate(new u.P(0,0)),m=this.pointCoordinate(new u.P(this.width,0)),_=this.pointCoordinate(new u.P(this.width,this.height)),w=this.pointCoordinate(new u.P(0,this.height)),C=Math.floor(Math.min(h.x,m.x,_.x,w.x)),k=Math.floor(Math.max(h.x,m.x,_.x,w.x)),T=1;for(let L=C-T;L<=k+T;L++)L!==0&&c.push(new u.b6(L,r))}return c}coveringTiles(r){var c,h;let m=this.coveringZoomLevel(r);const _=m;if(r.minzoom!==void 0&&m<r.minzoom)return[];r.maxzoom!==void 0&&m>r.maxzoom&&(m=r.maxzoom);const w=this.pointCoordinate(this.getCameraPoint()),C=u.U.fromLngLat(this.center),k=Math.pow(2,m),T=[k*w.x,k*w.y,0],L=[k*C.x,k*C.y,0],D=qr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,m);let W=r.minzoom||0;!r.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(W=m);const te=r.terrain?2/Math.min(this.tileSize,r.tileSize)*this.tileSize:3,ee=le=>({aabb:new as([le*k,0,0],[(le+1)*k,k,0]),zoom:0,x:0,y:0,wrap:le,fullyVisible:!1}),oe=[],Y=[],ge=m,Ce=r.reparseOverscaled?_:m;if(this._renderWorldCopies)for(let le=1;le<=3;le++)oe.push(ee(-le)),oe.push(ee(le));for(oe.push(ee(0));oe.length>0;){const le=oe.pop(),ve=le.x,Ae=le.y;let Pe=le.fullyVisible;if(!Pe){const mt=le.aabb.intersects(D);if(mt===0)continue;Pe=mt===2}const Ne=r.terrain?T:L,Ue=le.aabb.distanceX(Ne),je=le.aabb.distanceY(Ne),Ke=Math.max(Math.abs(Ue),Math.abs(je));if(le.zoom===ge||Ke>te+(1<<ge-le.zoom)-2&&le.zoom>=W){const mt=ge-le.zoom,Bt=T[0]-.5-(ve<<mt),rt=T[1]-.5-(Ae<<mt);Y.push({tileID:new u.O(le.zoom===ge?Ce:le.zoom,le.wrap,le.zoom,ve,Ae),distanceSq:de([L[0]-.5-ve,L[1]-.5-Ae]),tileDistanceToCamera:Math.sqrt(Bt*Bt+rt*rt)})}else for(let mt=0;mt<4;mt++){const Bt=(ve<<1)+mt%2,rt=(Ae<<1)+(mt>>1),Et=le.zoom+1;let yt=le.aabb.quadrant(mt);if(r.terrain){const cn=new u.O(Et,le.wrap,Et,Bt,rt),Nt=r.terrain.getMinMaxElevation(cn),zt=(c=Nt.minElevation)!==null&&c!==void 0?c:this.elevation,$t=(h=Nt.maxElevation)!==null&&h!==void 0?h:this.elevation;yt=new as([yt.min[0],yt.min[1],zt],[yt.max[0],yt.max[1],$t])}oe.push({aabb:yt,zoom:Et,x:Bt,y:rt,wrap:le.wrap,fullyVisible:Pe})}}return Y.sort((le,ve)=>le.distanceSq-ve.distanceSq).map(le=>le.tileID)}resize(r,c){this.width=r,this.height=c,this.pixelsToGLUnits=[2/r,-2/c],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(r){return Math.pow(2,r)}scaleZoom(r){return Math.log(r)/Math.LN2}project(r){const c=u.ad(r.lat,-this.maxValidLatitude,this.maxValidLatitude);return new u.P(u.G(r.lng)*this.worldSize,u.H(c)*this.worldSize)}unproject(r){return new u.U(r.x/this.worldSize,r.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(r){const c=this.pointLocation(this.centerPoint,r),h=r.getElevationForLngLatZoom(c,this.tileZoom);if(!(this.elevation-h))return;const m=this.getCameraPosition(),_=u.U.fromLngLat(m.lngLat,m.altitude),w=u.U.fromLngLat(c,h),C=_.x-w.x,k=_.y-w.y,T=_.z-w.z,L=Math.sqrt(C*C+k*k+T*T),D=this.scaleZoom(this.cameraToCenterDistance/L/this.tileSize);this._elevation=h,this._center=c,this.zoom=D}setLocationAtPoint(r,c){const h=this.pointCoordinate(c),m=this.pointCoordinate(this.centerPoint),_=this.locationCoordinate(r),w=new u.U(_.x-(h.x-m.x),_.y-(h.y-m.y));this.center=this.coordinateLocation(w),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(r,c){return c?this.coordinatePoint(this.locationCoordinate(r),c.getElevationForLngLatZoom(r,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(r))}pointLocation(r,c){return this.coordinateLocation(this.pointCoordinate(r,c))}locationCoordinate(r){return u.U.fromLngLat(r)}coordinateLocation(r){return r&&r.toLngLat()}pointCoordinate(r,c){if(c){const W=c.pointCoordinate(r);if(W!=null)return W}const h=[r.x,r.y,0,1],m=[r.x,r.y,1,1];u.ag(h,h,this.pixelMatrixInverse),u.ag(m,m,this.pixelMatrixInverse);const _=h[3],w=m[3],C=h[1]/_,k=m[1]/w,T=h[2]/_,L=m[2]/w,D=T===L?0:(0-T)/(L-T);return new u.U(u.B.number(h[0]/_,m[0]/w,D)/this.worldSize,u.B.number(C,k,D)/this.worldSize)}coordinatePoint(r,c=0,h=this.pixelMatrix){const m=[r.x*this.worldSize,r.y*this.worldSize,c,1];return u.ag(m,m,h),new u.P(m[0]/m[3],m[1]/m[3])}getBounds(){const r=Math.max(0,this.height/2-this.getHorizon());return new ut().extend(this.pointLocation(new u.P(0,r))).extend(this.pointLocation(new u.P(this.width,r))).extend(this.pointLocation(new u.P(this.width,this.height))).extend(this.pointLocation(new u.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new ut([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(r){r?(this.lngRange=[r.getWest(),r.getEast()],this.latRange=[r.getSouth(),r.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(r,c=!1){const h=r.key,m=c?this._alignedPosMatrixCache:this._posMatrixCache;if(m[h])return m[h];const _=r.canonical,w=this.worldSize/this.zoomScale(_.z),C=_.x+Math.pow(2,_.z)*r.wrap,k=u.ao(new Float64Array(16));return u.$(k,k,[C*w,_.y*w,0]),u.a0(k,k,[w/u.N,w/u.N,1]),u.a1(k,c?this.alignedProjMatrix:this.projMatrix,k),m[h]=new Float32Array(k),m[h]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let r,c,h,m,_=-90,w=90,C=-180,k=180;const T=this.size,L=this._unmodified;if(this.latRange){const te=this.latRange;_=u.H(te[1])*this.worldSize,w=u.H(te[0])*this.worldSize,r=w-_<T.y?T.y/(w-_):0}if(this.lngRange){const te=this.lngRange;C=u.b5(u.G(te[0])*this.worldSize,0,this.worldSize),k=u.b5(u.G(te[1])*this.worldSize,0,this.worldSize),k<C&&(k+=this.worldSize),c=k-C<T.x?T.x/(k-C):0}const D=this.point,W=Math.max(c||0,r||0);if(W)return this.center=this.unproject(new u.P(c?(k+C)/2:D.x,r?(w+_)/2:D.y)),this.zoom+=this.scaleZoom(W),this._unmodified=L,void(this._constraining=!1);if(this.latRange){const te=D.y,ee=T.y/2;te-ee<_&&(m=_+ee),te+ee>w&&(m=w-ee)}if(this.lngRange){const te=(C+k)/2,ee=u.b5(D.x,te-this.worldSize/2,te+this.worldSize/2),oe=T.x/2;ee-oe<C&&(h=C+oe),ee+oe>k&&(h=k-oe)}h===void 0&&m===void 0||(this.center=this.unproject(new u.P(h!==void 0?h:D.x,m!==void 0?m:D.y)).wrap()),this._unmodified=L,this._constraining=!1}_calcMatrices(){if(!this.height)return;const r=this.centerOffset,c=this.point.x,h=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=u.b7(1,this.center.lat)*this.worldSize;let m=u.ao(new Float64Array(16));u.a0(m,m,[this.width/2,-this.height/2,1]),u.$(m,m,[1,-1,0]),this.labelPlaneMatrix=m,m=u.ao(new Float64Array(16)),u.a0(m,m,[1,-1,1]),u.$(m,m,[-1,-1,0]),u.a0(m,m,[2/this.width,2/this.height,1]),this.glCoordMatrix=m;const _=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),w=Math.min(this.elevation,this._minEleveationForCurrentTile),C=_-w*this._pixelPerMeter/Math.cos(this._pitch),k=w<0?C:_,T=Math.PI/2+this._pitch,L=this._fov*(.5+r.y/this.height),D=Math.sin(L)*k/Math.sin(u.ad(Math.PI-T-L,.01,Math.PI-.01)),W=this.getHorizon(),te=2*Math.atan(W/this.cameraToCenterDistance)*(.5+r.y/(2*W)),ee=Math.sin(te)*k/Math.sin(u.ad(Math.PI-T-te,.01,Math.PI-.01)),oe=Math.min(D,ee),Y=1.01*(Math.cos(Math.PI/2-this._pitch)*oe+k),ge=this.height/50;m=new Float64Array(16),u.b8(m,this._fov,this.width/this.height,ge,Y),m[8]=2*-r.x/this.width,m[9]=2*r.y/this.height,u.a0(m,m,[1,-1,1]),u.$(m,m,[0,0,-this.cameraToCenterDistance]),u.b9(m,m,this._pitch),u.ae(m,m,this.angle),u.$(m,m,[-c,-h,0]),this.mercatorMatrix=u.a0([],m,[this.worldSize,this.worldSize,this.worldSize]),u.a0(m,m,[1,1,this._pixelPerMeter]),this.pixelMatrix=u.a1(new Float64Array(16),this.labelPlaneMatrix,m),u.$(m,m,[0,0,-this.elevation]),this.projMatrix=m,this.invProjMatrix=u.as([],m),this.pixelMatrix3D=u.a1(new Float64Array(16),this.labelPlaneMatrix,m);const Ce=this.width%2/2,le=this.height%2/2,ve=Math.cos(this.angle),Ae=Math.sin(this.angle),Pe=c-Math.round(c)+ve*Ce+Ae*le,Ne=h-Math.round(h)+ve*le+Ae*Ce,Ue=new Float64Array(m);if(u.$(Ue,Ue,[Pe>.5?Pe-1:Pe,Ne>.5?Ne-1:Ne,0]),this.alignedProjMatrix=Ue,m=u.as(new Float64Array(16),this.pixelMatrix),!m)throw new Error("failed to invert matrix");this.pixelMatrixInverse=m,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const r=this.pointCoordinate(new u.P(0,0)),c=[r.x*this.worldSize,r.y*this.worldSize,0,1];return u.ag(c,c,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const r=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new u.P(0,r))}getCameraQueryGeometry(r){const c=this.getCameraPoint();if(r.length===1)return[r[0],c];{let h=c.x,m=c.y,_=c.x,w=c.y;for(const C of r)h=Math.min(h,C.x),m=Math.min(m,C.y),_=Math.max(_,C.x),w=Math.max(w,C.y);return[new u.P(h,m),new u.P(_,m),new u.P(_,w),new u.P(h,w),new u.P(h,m)]}}}function Ca(g,r){let c,h=!1,m=null,_=null;const w=()=>{m=null,h&&(g.apply(_,c),m=setTimeout(w,r),h=!1)};return(...C)=>(h=!0,_=this,c=C,m||w(),m)}class nl{constructor(r){this._getCurrentHash=()=>{const c=window.location.hash.replace("#","");if(this._hashName){let h;return c.split("&").map(m=>m.split("=")).forEach(m=>{m[0]===this._hashName&&(h=m)}),(h&&h[1]||"").split("/")}return c.split("/")},this._onHashChange=()=>{const c=this._getCurrentHash();if(c.length>=3&&!c.some(h=>isNaN(h))){const h=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(c[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+c[2],+c[1]],zoom:+c[0],bearing:h,pitch:+(c[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const c=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,c)}catch{}},this._updateHash=Ca(this._updateHashUnthrottled,300),this._hashName=r&&encodeURIComponent(r)}addTo(r){return this._map=r,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(r){const c=this._map.getCenter(),h=Math.round(100*this._map.getZoom())/100,m=Math.ceil((h*Math.LN2+Math.log(512/360/.5))/Math.LN10),_=Math.pow(10,m),w=Math.round(c.lng*_)/_,C=Math.round(c.lat*_)/_,k=this._map.getBearing(),T=this._map.getPitch();let L="";if(L+=r?`/${w}/${C}/${h}`:`${h}/${C}/${w}`,(k||T)&&(L+="/"+Math.round(10*k)/10),T&&(L+=`/${Math.round(T)}`),this._hashName){const D=this._hashName;let W=!1;const te=window.location.hash.slice(1).split("&").map(ee=>{const oe=ee.split("=")[0];return oe===D?(W=!0,`${oe}=${L}`):ee}).filter(ee=>ee);return W||te.push(`${D}=${L}`),`#${te.join("&")}`}return`#${L}`}}const ss={linearity:.3,easing:u.ba(0,0,.3,1)},hh=u.e({deceleration:2500,maxSpeed:1400},ss),ph=u.e({deceleration:20,maxSpeed:1400},ss),fh=u.e({deceleration:1e3,maxSpeed:360},ss),mh=u.e({deceleration:1e3,maxSpeed:90},ss);class gh{constructor(r){this._map=r,this.clear()}clear(){this._inertiaBuffer=[]}record(r){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:u.h.now(),settings:r})}_drainInertiaBuffer(){const r=this._inertiaBuffer,c=u.h.now();for(;r.length>0&&c-r[0].time>160;)r.shift()}_onMoveEnd(r){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const c={zoom:0,bearing:0,pitch:0,pan:new u.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:_}of this._inertiaBuffer)c.zoom+=_.zoomDelta||0,c.bearing+=_.bearingDelta||0,c.pitch+=_.pitchDelta||0,_.panDelta&&c.pan._add(_.panDelta),_.around&&(c.around=_.around),_.pinchAround&&(c.pinchAround=_.pinchAround);const h=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,m={};if(c.pan.mag()){const _=rl(c.pan.mag(),h,u.e({},hh,r||{}));m.offset=c.pan.mult(_.amount/c.pan.mag()),m.center=this._map.transform.center,co(m,_)}if(c.zoom){const _=rl(c.zoom,h,ph);m.zoom=this._map.transform.zoom+_.amount,co(m,_)}if(c.bearing){const _=rl(c.bearing,h,fh);m.bearing=this._map.transform.bearing+u.ad(_.amount,-179,179),co(m,_)}if(c.pitch){const _=rl(c.pitch,h,mh);m.pitch=this._map.transform.pitch+_.amount,co(m,_)}if(m.zoom||m.bearing){const _=c.pinchAround===void 0?c.around:c.pinchAround;m.around=_?this._map.unproject(_):this._map.getCenter()}return this.clear(),u.e(m,{noMoveStart:!0})}}function co(g,r){(!g.duration||g.duration<r.duration)&&(g.duration=r.duration,g.easing=r.easing)}function rl(g,r,c){const{maxSpeed:h,linearity:m,deceleration:_}=c,w=u.ad(g*m/(r/1e3),-h,h),C=Math.abs(w)/(_*m);return{easing:c.easing,duration:1e3*C,amount:w*(C/2)}}class di extends u.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,c,h,m={}){const _=S.mousePos(c.getCanvasContainer(),h),w=c.unproject(_);super(r,u.e({point:_,lngLat:w,originalEvent:h},m)),this._defaultPrevented=!1,this.target=c}}class il extends u.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,c,h){const m=r==="touchend"?h.changedTouches:h.touches,_=S.touchPos(c.getCanvasContainer(),m),w=_.map(k=>c.unproject(k)),C=_.reduce((k,T,L,D)=>k.add(T.div(D.length)),new u.P(0,0));super(r,{points:_,point:C,lngLats:w,lngLat:c.unproject(C),originalEvent:h}),this._defaultPrevented=!1}}class yh extends u.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,c,h){super(r,{originalEvent:h}),this._defaultPrevented=!1}}class vh{constructor(r,c){this._map=r,this._clickTolerance=c.clickTolerance}reset(){delete this._mousedownPos}wheel(r){return this._firePreventable(new yh(r.type,this._map,r))}mousedown(r,c){return this._mousedownPos=c,this._firePreventable(new di(r.type,this._map,r))}mouseup(r){this._map.fire(new di(r.type,this._map,r))}click(r,c){this._mousedownPos&&this._mousedownPos.dist(c)>=this._clickTolerance||this._map.fire(new di(r.type,this._map,r))}dblclick(r){return this._firePreventable(new di(r.type,this._map,r))}mouseover(r){this._map.fire(new di(r.type,this._map,r))}mouseout(r){this._map.fire(new di(r.type,this._map,r))}touchstart(r){return this._firePreventable(new il(r.type,this._map,r))}touchmove(r){this._map.fire(new il(r.type,this._map,r))}touchend(r){this._map.fire(new il(r.type,this._map,r))}touchcancel(r){this._map.fire(new il(r.type,this._map,r))}_firePreventable(r){if(this._map.fire(r),r.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class _h{constructor(r){this._map=r}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(r){this._map.fire(new di(r.type,this._map,r))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new di("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(r){this._delayContextMenu?this._contextMenuEvent=r:this._ignoreContextMenu||this._map.fire(new di(r.type,this._map,r)),this._map.listens("contextmenu")&&r.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Lo{constructor(r){this._map=r}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(r){return this.transform.pointLocation(u.P.convert(r),this._map.terrain)}}class xh{constructor(r,c){this._map=r,this._tr=new Lo(r),this._el=r.getCanvasContainer(),this._container=r.getContainer(),this._clickTolerance=c.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(r,c){this.isEnabled()&&r.shiftKey&&r.button===0&&(S.disableDrag(),this._startPos=this._lastPos=c,this._active=!0)}mousemoveWindow(r,c){if(!this._active)return;const h=c;if(this._lastPos.equals(h)||!this._box&&h.dist(this._startPos)<this._clickTolerance)return;const m=this._startPos;this._lastPos=h,this._box||(this._box=S.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",r));const _=Math.min(m.x,h.x),w=Math.max(m.x,h.x),C=Math.min(m.y,h.y),k=Math.max(m.y,h.y);S.setTransform(this._box,`translate(${_}px,${C}px)`),this._box.style.width=w-_+"px",this._box.style.height=k-C+"px"}mouseupWindow(r,c){if(!this._active||r.button!==0)return;const h=this._startPos,m=c;if(this.reset(),S.suppressClick(),h.x!==m.x||h.y!==m.y)return this._map.fire(new u.k("boxzoomend",{originalEvent:r})),{cameraAnimation:_=>_.fitScreenCoordinates(h,m,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",r)}keydown(r){this._active&&r.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",r))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(S.remove(this._box),this._box=null),S.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(r,c){return this._map.fire(new u.k(r,{originalEvent:c}))}}function Li(g,r){if(g.length!==r.length)throw new Error(`The number of touches and points are not equal - touches ${g.length}, points ${r.length}`);const c={};for(let h=0;h<g.length;h++)c[g[h].identifier]=r[h];return c}class Do{constructor(r){this.reset(),this.numTouches=r.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(r,c,h){(this.centroid||h.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=r.timeStamp),h.length===this.numTouches&&(this.centroid=function(m){const _=new u.P(0,0);for(const w of m)_._add(w);return _.div(m.length)}(c),this.touches=Li(h,c)))}touchmove(r,c,h){if(this.aborted||!this.centroid)return;const m=Li(h,c);for(const _ in this.touches){const w=m[_];(!w||w.dist(this.touches[_])>30)&&(this.aborted=!0)}}touchend(r,c,h){if((!this.centroid||r.timeStamp-this.startTime>500)&&(this.aborted=!0),h.length===0){const m=!this.aborted&&this.centroid;if(this.reset(),m)return m}}}class f1{constructor(r){this.singleTap=new Do(r),this.numTaps=r.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(r,c,h){this.singleTap.touchstart(r,c,h)}touchmove(r,c,h){this.singleTap.touchmove(r,c,h)}touchend(r,c,h){const m=this.singleTap.touchend(r,c,h);if(m){const _=r.timeStamp-this.lastTime<500,w=!this.lastTap||this.lastTap.dist(m)<30;if(_&&w||this.reset(),this.count++,this.lastTime=r.timeStamp,this.lastTap=m,this.count===this.numTaps)return this.reset(),m}}}class Ro{constructor(r){this._tr=new Lo(r),this._zoomIn=new f1({numTouches:1,numTaps:2}),this._zoomOut=new f1({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(r,c,h){this._zoomIn.touchstart(r,c,h),this._zoomOut.touchstart(r,c,h)}touchmove(r,c,h){this._zoomIn.touchmove(r,c,h),this._zoomOut.touchmove(r,c,h)}touchend(r,c,h){const m=this._zoomIn.touchend(r,c,h),_=this._zoomOut.touchend(r,c,h),w=this._tr;return m?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:C=>C.easeTo({duration:300,zoom:w.zoom+1,around:w.unproject(m)},{originalEvent:r})}):_?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:C=>C.easeTo({duration:300,zoom:w.zoom-1,around:w.unproject(_)},{originalEvent:r})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class zo{constructor(r){this._enabled=!!r.enable,this._moveStateManager=r.moveStateManager,this._clickTolerance=r.clickTolerance||1,this._moveFunction=r.move,this._activateOnStart=!!r.activateOnStart,r.assignEvents(this),this.reset()}reset(r){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(r)}_move(...r){const c=this._moveFunction(...r);if(c.bearingDelta||c.pitchDelta||c.around||c.panDelta)return this._active=!0,c}dragStart(r,c){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(r)&&(this._moveStateManager.startMove(r),this._lastPoint=c.length?c[0]:c,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(r,c){if(!this.isEnabled())return;const h=this._lastPoint;if(!h)return;if(r.preventDefault(),!this._moveStateManager.isValidMoveEvent(r))return void this.reset(r);const m=c.length?c[0]:c;return!this._moved&&m.dist(h)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=m,this._move(h,m))}dragEnd(r){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(r)&&(this._moved&&S.suppressClick(),this.reset(r))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const B0={0:1,2:2};class qu{constructor(r){this._correctEvent=r.checkCorrectEvent}startMove(r){const c=S.mouseButton(r);this._eventButton=c}endMove(r){delete this._eventButton}isValidStartEvent(r){return this._correctEvent(r)}isValidMoveEvent(r){return!function(c,h){const m=B0[h];return c.buttons===void 0||(c.buttons&m)!==m}(r,this._eventButton)}isValidEndEvent(r){return S.mouseButton(r)===this._eventButton}}class bh{constructor(){this._firstTouch=void 0}_isOneFingerTouch(r){return r.targetTouches.length===1}_isSameTouchEvent(r){return r.targetTouches[0].identifier===this._firstTouch}startMove(r){this._firstTouch=r.targetTouches[0].identifier}endMove(r){delete this._firstTouch}isValidStartEvent(r){return this._isOneFingerTouch(r)}isValidMoveEvent(r){return this._isOneFingerTouch(r)&&this._isSameTouchEvent(r)}isValidEndEvent(r){return this._isOneFingerTouch(r)&&this._isSameTouchEvent(r)}}const m1=g=>{g.mousedown=g.dragStart,g.mousemoveWindow=g.dragMove,g.mouseup=g.dragEnd,g.contextmenu=function(r){r.preventDefault()}},ls=({enable:g,clickTolerance:r,bearingDegreesPerPixelMoved:c=.8})=>{const h=new qu({checkCorrectEvent:m=>S.mouseButton(m)===0&&m.ctrlKey||S.mouseButton(m)===2});return new zo({clickTolerance:r,move:(m,_)=>({bearingDelta:(_.x-m.x)*c}),moveStateManager:h,enable:g,assignEvents:m1})},Fo=({enable:g,clickTolerance:r,pitchDegreesPerPixelMoved:c=-.5})=>{const h=new qu({checkCorrectEvent:m=>S.mouseButton(m)===0&&m.ctrlKey||S.mouseButton(m)===2});return new zo({clickTolerance:r,move:(m,_)=>({pitchDelta:(_.y-m.y)*c}),moveStateManager:h,enable:g,assignEvents:m1})};class ct{constructor(r,c){this._minTouches=r.cooperativeGestures?2:1,this._clickTolerance=r.clickTolerance||1,this._map=c,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new u.P(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(r,c,h){return this._calculateTransform(r,c,h)}touchmove(r,c,h){if(this._map._cooperativeGestures&&(this._minTouches===2&&h.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(r,!1,h.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(h.length<this._minTouches))return r.preventDefault(),this._calculateTransform(r,c,h)}touchend(r,c,h){this._calculateTransform(r,c,h),this._active&&h.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(r,c,h){h.length>0&&(this._active=!0);const m=Li(h,c),_=new u.P(0,0),w=new u.P(0,0);let C=0;for(const T in m){const L=m[T],D=this._touches[T];D&&(_._add(L),w._add(L.sub(D)),C++,m[T]=L)}if(this._touches=m,C<this._minTouches||!w.mag())return;const k=w.div(C);return this._sum._add(k),this._sum.mag()<this._clickTolerance?void 0:{around:_.div(C),panDelta:k}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class g1{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(r,c,h){this._firstTwoTouches||h.length<2||(this._firstTwoTouches=[h[0].identifier,h[1].identifier],this._start([c[0],c[1]]))}touchmove(r,c,h){if(!this._firstTwoTouches)return;r.preventDefault();const[m,_]=this._firstTwoTouches,w=la(h,c,m),C=la(h,c,_);if(!w||!C)return;const k=this._aroundCenter?null:w.add(C).div(2);return this._move([w,C],k,r)}touchend(r,c,h){if(!this._firstTwoTouches)return;const[m,_]=this._firstTwoTouches,w=la(h,c,m),C=la(h,c,_);w&&C||(this._active&&S.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(r){this._enabled=!0,this._aroundCenter=!!r&&r.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function la(g,r,c){for(let h=0;h<g.length;h++)if(g[h].identifier===c)return r[h]}function us(g,r){return Math.log(g/r)/Math.LN2}class wh extends g1{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(r){this._startDistance=this._distance=r[0].dist(r[1])}_move(r,c){const h=this._distance;if(this._distance=r[0].dist(r[1]),this._active||!(Math.abs(us(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:us(this._distance,h),pinchAround:c}}}function st(g,r){return 180*g.angleWith(r)/Math.PI}class Ku extends g1{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(r){this._startVector=this._vector=r[0].sub(r[1]),this._minDiameter=r[0].dist(r[1])}_move(r,c){const h=this._vector;if(this._vector=r[0].sub(r[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:st(this._vector,h),pinchAround:c}}_isBelowThreshold(r){this._minDiameter=Math.min(this._minDiameter,r.mag());const c=25/(Math.PI*this._minDiameter)*360,h=st(r,this._startVector);return Math.abs(h)<c}}function Xu(g){return Math.abs(g.y)>Math.abs(g.x)}class $0 extends g1{constructor(r){super(),this._map=r}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(r,c,h){super.touchstart(r,c,h),this._currentTouchCount=h.length}_start(r){this._lastPoints=r,Xu(r[0].sub(r[1]))&&(this._valid=!1)}_move(r,c,h){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const m=r[0].sub(this._lastPoints[0]),_=r[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(m,_,h.timeStamp),this._valid?(this._lastPoints=r,this._active=!0,{pitchDelta:(m.y+_.y)/2*-.5}):void 0}gestureBeginsVertically(r,c,h){if(this._valid!==void 0)return this._valid;const m=r.mag()>=2,_=c.mag()>=2;if(!m&&!_)return;if(!m||!_)return this._firstMove===void 0&&(this._firstMove=h),h-this._firstMove<100&&void 0;const w=r.y>0==c.y>0;return Xu(r)&&Xu(c)&&w}}const Ju={panStep:100,bearingStep:15,pitchStep:10};class Sh{constructor(r){this._tr=new Lo(r);const c=Ju;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(r){if(r.altKey||r.ctrlKey||r.metaKey)return;let c=0,h=0,m=0,_=0,w=0;switch(r.keyCode){case 61:case 107:case 171:case 187:c=1;break;case 189:case 109:case 173:c=-1;break;case 37:r.shiftKey?h=-1:(r.preventDefault(),_=-1);break;case 39:r.shiftKey?h=1:(r.preventDefault(),_=1);break;case 38:r.shiftKey?m=1:(r.preventDefault(),w=-1);break;case 40:r.shiftKey?m=-1:(r.preventDefault(),w=1);break;default:return}return this._rotationDisabled&&(h=0,m=0),{cameraAnimation:C=>{const k=this._tr;C.easeTo({duration:300,easeId:"keyboardHandler",easing:Ch,zoom:c?Math.round(k.zoom)+c*(r.shiftKey?2:1):k.zoom,bearing:k.bearing+h*this._bearingStep,pitch:k.pitch+m*this._pitchStep,offset:[-_*this._panStep,-w*this._panStep],center:k.center},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Ch(g){return g*(2-g)}const Mh=4.000244140625;class j0{constructor(r,c){this._onTimeout=h=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(h)},this._map=r,this._tr=new Lo(r),this._el=r.getCanvasContainer(),this._triggerRenderFrame=c,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(r){this._defaultZoomRate=r}setWheelZoomRate(r){this._wheelZoomRate=r}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(r){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!r&&r.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(r){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!r[this._map._metaKey])return;r.preventDefault()}let c=r.deltaMode===WheelEvent.DOM_DELTA_LINE?40*r.deltaY:r.deltaY;const h=u.h.now(),m=h-(this._lastWheelEventTime||0);this._lastWheelEventTime=h,c!==0&&c%Mh==0?this._type="wheel":c!==0&&Math.abs(c)<4?this._type="trackpad":m>400?(this._type=null,this._lastValue=c,this._timeout=setTimeout(this._onTimeout,40,r)):this._type||(this._type=Math.abs(m*c)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,c+=this._lastValue)),r.shiftKey&&c&&(c/=4),this._type&&(this._lastWheelEvent=r,this._delta-=c,this._active||this._start(r)),r.preventDefault()}_start(r){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const c=S.mousePos(this._el,r),h=this._tr;this._around=u.L.convert(this._aroundCenter?h.center:h.unproject(c)),this._aroundPoint=h.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const r=this._tr.transform;if(this._delta!==0){const C=this._type==="wheel"&&Math.abs(this._delta)>Mh?this._wheelZoomRate:this._defaultZoomRate;let k=2/(1+Math.exp(-Math.abs(this._delta*C)));this._delta<0&&k!==0&&(k=1/k);const T=typeof this._targetZoom=="number"?r.zoomScale(this._targetZoom):r.scale;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(T*k))),this._type==="wheel"&&(this._startZoom=r.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const c=typeof this._targetZoom=="number"?this._targetZoom:r.zoom,h=this._startZoom,m=this._easing;let _,w=!1;if(this._type==="wheel"&&h&&m){const C=Math.min((u.h.now()-this._lastWheelEventTime)/200,1),k=m(C);_=u.B.number(h,c,k),C<1?this._frameId||(this._frameId=!0):w=!0}else _=c,w=!0;return this._active=!0,w&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!w,zoomDelta:_-r.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(r){let c=u.bb;if(this._prevEase){const h=this._prevEase,m=(u.h.now()-h.start)/h.duration,_=h.easing(m+.01)-h.easing(m),w=.27/Math.sqrt(_*_+1e-4)*.01,C=Math.sqrt(.0729-w*w);c=u.ba(w,C,.25,1)}return this._prevEase={start:u.h.now(),duration:r,easing:c},c}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Yu{constructor(r,c){this._clickZoom=r,this._tapZoom=c}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Qu{constructor(r){this._tr=new Lo(r),this.reset()}reset(){this._active=!1}dblclick(r,c){return r.preventDefault(),{cameraAnimation:h=>{h.easeTo({duration:300,zoom:this._tr.zoom+(r.shiftKey?-1:1),around:this._tr.unproject(c)},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ec{constructor(){this._tap=new f1({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(r,c,h){if(!this._swipePoint)if(this._tapTime){const m=c[0],_=r.timeStamp-this._tapTime<500,w=this._tapPoint.dist(m)<30;_&&w?h.length>0&&(this._swipePoint=m,this._swipeTouch=h[0].identifier):this.reset()}else this._tap.touchstart(r,c,h)}touchmove(r,c,h){if(this._tapTime){if(this._swipePoint){if(h[0].identifier!==this._swipeTouch)return;const m=c[0],_=m.y-this._swipePoint.y;return this._swipePoint=m,r.preventDefault(),this._active=!0,{zoomDelta:_/128}}}else this._tap.touchmove(r,c,h)}touchend(r,c,h){if(this._tapTime)this._swipePoint&&h.length===0&&this.reset();else{const m=this._tap.touchend(r,c,h);m&&(this._tapTime=r.timeStamp,this._tapPoint=m)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class tc{constructor(r,c,h){this._el=r,this._mousePan=c,this._touchPan=h}enable(r){this._inertiaOptions=r||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Kr{constructor(r,c,h){this._pitchWithRotate=r.pitchWithRotate,this._mouseRotate=c,this._mousePitch=h}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class ua{constructor(r,c,h,m){this._el=r,this._touchZoom=c,this._touchRotate=h,this._tapDragZoom=m,this._rotationDisabled=!1,this._enabled=!0}enable(r){this._touchZoom.enable(r),this._rotationDisabled||this._touchRotate.enable(r),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const ol=g=>g.zoom||g.drag||g.pitch||g.rotate;class nc extends u.k{}function al(g){return g.panDelta&&g.panDelta.mag()||g.zoomDelta||g.bearingDelta||g.pitchDelta}class rc{constructor(r,c){this.handleWindowEvent=m=>{this.handleEvent(m,`${m.type}Window`)},this.handleEvent=(m,_)=>{if(m.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const w=m.type==="renderFrame"?void 0:m,C={needsRenderFrame:!1},k={},T={},L=m.touches,D=L?this._getMapTouches(L):void 0,W=D?S.touchPos(this._el,D):S.mousePos(this._el,m);for(const{handlerName:oe,handler:Y,allowed:ge}of this._handlers){if(!Y.isEnabled())continue;let Ce;this._blockedByActive(T,ge,oe)?Y.reset():Y[_||m.type]&&(Ce=Y[_||m.type](m,W,D),this.mergeHandlerResult(C,k,Ce,oe,w),Ce&&Ce.needsRenderFrame&&this._triggerRenderFrame()),(Ce||Y.isActive())&&(T[oe]=Y)}const te={};for(const oe in this._previousActiveHandlers)T[oe]||(te[oe]=w);this._previousActiveHandlers=T,(Object.keys(te).length||al(C))&&(this._changes.push([C,k,te]),this._triggerRenderFrame()),(Object.keys(T).length||al(C))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ee}=C;ee&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ee(this._map))},this._map=r,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new gh(r),this._bearingSnap=c.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(c);const h=this._el;this._listeners=[[h,"touchstart",{passive:!0}],[h,"touchmove",{passive:!1}],[h,"touchend",void 0],[h,"touchcancel",void 0],[h,"mousedown",void 0],[h,"mousemove",void 0],[h,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[h,"mouseover",void 0],[h,"mouseout",void 0],[h,"dblclick",void 0],[h,"click",void 0],[h,"keydown",{capture:!1}],[h,"keyup",void 0],[h,"wheel",{passive:!1}],[h,"contextmenu",void 0],[window,"blur",void 0]];for(const[m,_,w]of this._listeners)S.addEventListener(m,_,m===document?this.handleWindowEvent:this.handleEvent,w)}destroy(){for(const[r,c,h]of this._listeners)S.removeEventListener(r,c,r===document?this.handleWindowEvent:this.handleEvent,h)}_addDefaultHandlers(r){const c=this._map,h=c.getCanvasContainer();this._add("mapEvent",new vh(c,r));const m=c.boxZoom=new xh(c,r);this._add("boxZoom",m),r.interactive&&r.boxZoom&&m.enable();const _=new Ro(c),w=new Qu(c);c.doubleClickZoom=new Yu(w,_),this._add("tapZoom",_),this._add("clickZoom",w),r.interactive&&r.doubleClickZoom&&c.doubleClickZoom.enable();const C=new ec;this._add("tapDragZoom",C);const k=c.touchPitch=new $0(c);this._add("touchPitch",k),r.interactive&&r.touchPitch&&c.touchPitch.enable(r.touchPitch);const T=ls(r),L=Fo(r);c.dragRotate=new Kr(r,T,L),this._add("mouseRotate",T,["mousePitch"]),this._add("mousePitch",L,["mouseRotate"]),r.interactive&&r.dragRotate&&c.dragRotate.enable();const D=(({enable:ge,clickTolerance:Ce})=>{const le=new qu({checkCorrectEvent:ve=>S.mouseButton(ve)===0&&!ve.ctrlKey});return new zo({clickTolerance:Ce,move:(ve,Ae)=>({around:Ae,panDelta:Ae.sub(ve)}),activateOnStart:!0,moveStateManager:le,enable:ge,assignEvents:m1})})(r),W=new ct(r,c);c.dragPan=new tc(h,D,W),this._add("mousePan",D),this._add("touchPan",W,["touchZoom","touchRotate"]),r.interactive&&r.dragPan&&c.dragPan.enable(r.dragPan);const te=new Ku,ee=new wh;c.touchZoomRotate=new ua(h,ee,te,C),this._add("touchRotate",te,["touchPan","touchZoom"]),this._add("touchZoom",ee,["touchPan","touchRotate"]),r.interactive&&r.touchZoomRotate&&c.touchZoomRotate.enable(r.touchZoomRotate);const oe=c.scrollZoom=new j0(c,()=>this._triggerRenderFrame());this._add("scrollZoom",oe,["mousePan"]),r.interactive&&r.scrollZoom&&c.scrollZoom.enable(r.scrollZoom);const Y=c.keyboard=new Sh(c);this._add("keyboard",Y),r.interactive&&r.keyboard&&c.keyboard.enable(),this._add("blockableMapEvent",new _h(c))}_add(r,c,h){this._handlers.push({handlerName:r,handler:c,allowed:h}),this._handlersById[r]=c}stop(r){if(!this._updatingCamera){for(const{handler:c}of this._handlers)c.reset();this._inertia.clear(),this._fireEvents({},{},r),this._changes=[]}}isActive(){for(const{handler:r}of this._handlers)if(r.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!ol(this._eventsInProgress)||this.isZooming()}_blockedByActive(r,c,h){for(const m in r)if(m!==h&&(!c||c.indexOf(m)<0))return!0;return!1}_getMapTouches(r){const c=[];for(const h of r)this._el.contains(h.target)&&c.push(h);return c}mergeHandlerResult(r,c,h,m,_){if(!h)return;u.e(r,h);const w={handlerName:m,originalEvent:h.originalEvent||_};h.zoomDelta!==void 0&&(c.zoom=w),h.panDelta!==void 0&&(c.drag=w),h.pitchDelta!==void 0&&(c.pitch=w),h.bearingDelta!==void 0&&(c.rotate=w)}_applyChanges(){const r={},c={},h={};for(const[m,_,w]of this._changes)m.panDelta&&(r.panDelta=(r.panDelta||new u.P(0,0))._add(m.panDelta)),m.zoomDelta&&(r.zoomDelta=(r.zoomDelta||0)+m.zoomDelta),m.bearingDelta&&(r.bearingDelta=(r.bearingDelta||0)+m.bearingDelta),m.pitchDelta&&(r.pitchDelta=(r.pitchDelta||0)+m.pitchDelta),m.around!==void 0&&(r.around=m.around),m.pinchAround!==void 0&&(r.pinchAround=m.pinchAround),m.noInertia&&(r.noInertia=m.noInertia),u.e(c,_),u.e(h,w);this._updateMapTransform(r,c,h),this._changes=[]}_updateMapTransform(r,c,h){const m=this._map,_=m._getTransformForUpdate(),w=m.terrain;if(!(al(r)||w&&this._terrainMovement))return this._fireEvents(c,h,!0);let{panDelta:C,zoomDelta:k,bearingDelta:T,pitchDelta:L,around:D,pinchAround:W}=r;W!==void 0&&(D=W),m._stop(!0),D=D||m.transform.centerPoint;const te=_.pointLocation(C?D.sub(C):D);T&&(_.bearing+=T),L&&(_.pitch+=L),k&&(_.zoom+=k),w?this._terrainMovement||!c.drag&&!c.zoom?c.drag&&this._terrainMovement?_.center=_.pointLocation(_.centerPoint.sub(C)):_.setLocationAtPoint(te,D):(this._terrainMovement=!0,this._map._elevationFreeze=!0,_.setLocationAtPoint(te,D),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,_.recalculateZoom(m.terrain)})):_.setLocationAtPoint(te,D),m._applyUpdatedTransform(_),this._map._update(),r.noInertia||this._inertia.record(r),this._fireEvents(c,h,!0)}_fireEvents(r,c,h){const m=ol(this._eventsInProgress),_=ol(r),w={};for(const L in r){const{originalEvent:D}=r[L];this._eventsInProgress[L]||(w[`${L}start`]=D),this._eventsInProgress[L]=r[L]}!m&&_&&this._fireEvent("movestart",_.originalEvent);for(const L in w)this._fireEvent(L,w[L]);_&&this._fireEvent("move",_.originalEvent);for(const L in r){const{originalEvent:D}=r[L];this._fireEvent(L,D)}const C={};let k;for(const L in this._eventsInProgress){const{handlerName:D,originalEvent:W}=this._eventsInProgress[L];this._handlersById[D].isActive()||(delete this._eventsInProgress[L],k=c[D]||W,C[`${L}end`]=k)}for(const L in C)this._fireEvent(L,C[L]);const T=ol(this._eventsInProgress);if(h&&(m||_)&&!T){this._updatingCamera=!0;const L=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),D=W=>W!==0&&-this._bearingSnap<W&&W<this._bearingSnap;!L||!L.essential&&u.h.prefersReducedMotion?(this._map.fire(new u.k("moveend",{originalEvent:k})),D(this._map.getBearing())&&this._map.resetNorth()):(D(L.bearing||this._map.getBearing())&&(L.bearing=0),L.freezeElevation=!0,this._map.easeTo(L,{originalEvent:k})),this._updatingCamera=!1}}_fireEvent(r,c){this._map.fire(new u.k(r,c?{originalEvent:c}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(r=>{delete this._frameId,this.handleEvent(new nc("renderFrame",{timeStamp:r})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Eh extends u.E{constructor(r,c){super(),this._renderFrameCallback=()=>{const h=Math.min((u.h.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(h)),h<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=c.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new u.L(this.transform.center.lng,this.transform.center.lat)}setCenter(r,c){return this.jumpTo({center:r},c)}panBy(r,c,h){return r=u.P.convert(r).mult(-1),this.panTo(this.transform.center,u.e({offset:r},c),h)}panTo(r,c,h){return this.easeTo(u.e({center:r},c),h)}getZoom(){return this.transform.zoom}setZoom(r,c){return this.jumpTo({zoom:r},c),this}zoomTo(r,c,h){return this.easeTo(u.e({zoom:r},c),h)}zoomIn(r,c){return this.zoomTo(this.getZoom()+1,r,c),this}zoomOut(r,c){return this.zoomTo(this.getZoom()-1,r,c),this}getBearing(){return this.transform.bearing}setBearing(r,c){return this.jumpTo({bearing:r},c),this}getPadding(){return this.transform.padding}setPadding(r,c){return this.jumpTo({padding:r},c),this}rotateTo(r,c,h){return this.easeTo(u.e({bearing:r},c),h)}resetNorth(r,c){return this.rotateTo(0,u.e({duration:1e3},r),c),this}resetNorthPitch(r,c){return this.easeTo(u.e({bearing:0,pitch:0,duration:1e3},r),c),this}snapToNorth(r,c){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(r,c):this}getPitch(){return this.transform.pitch}setPitch(r,c){return this.jumpTo({pitch:r},c),this}cameraForBounds(r,c){r=ut.convert(r);const h=c&&c.bearing||0;return this._cameraForBoxAndBearing(r.getNorthWest(),r.getSouthEast(),h,c)}_cameraForBoxAndBearing(r,c,h,m){const _={top:0,bottom:0,right:0,left:0};if(typeof(m=u.e({padding:_,offset:[0,0],maxZoom:this.transform.maxZoom},m)).padding=="number"){const Ae=m.padding;m.padding={top:Ae,bottom:Ae,right:Ae,left:Ae}}m.padding=u.e(_,m.padding);const w=this.transform,C=w.padding,k=w.project(u.L.convert(r)),T=w.project(u.L.convert(c)),L=k.rotate(-h*Math.PI/180),D=T.rotate(-h*Math.PI/180),W=new u.P(Math.max(L.x,D.x),Math.max(L.y,D.y)),te=new u.P(Math.min(L.x,D.x),Math.min(L.y,D.y)),ee=W.sub(te),oe=(w.width-(C.left+C.right+m.padding.left+m.padding.right))/ee.x,Y=(w.height-(C.top+C.bottom+m.padding.top+m.padding.bottom))/ee.y;if(Y<0||oe<0)return void u.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const ge=Math.min(w.scaleZoom(w.scale*Math.min(oe,Y)),m.maxZoom),Ce=u.P.convert(m.offset),le=new u.P((m.padding.left-m.padding.right)/2,(m.padding.top-m.padding.bottom)/2).rotate(h*Math.PI/180),ve=Ce.add(le).mult(w.scale/w.zoomScale(ge));return{center:w.unproject(k.add(T).div(2).sub(ve)),zoom:ge,bearing:h}}fitBounds(r,c,h){return this._fitInternal(this.cameraForBounds(r,c),c,h)}fitScreenCoordinates(r,c,h,m,_){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(u.P.convert(r)),this.transform.pointLocation(u.P.convert(c)),h,m),m,_)}_fitInternal(r,c,h){return r?(delete(c=u.e(r,c)).padding,c.linear?this.easeTo(c,h):this.flyTo(c,h)):this}jumpTo(r,c){this.stop();const h=this._getTransformForUpdate();let m=!1,_=!1,w=!1;return"zoom"in r&&h.zoom!==+r.zoom&&(m=!0,h.zoom=+r.zoom),r.center!==void 0&&(h.center=u.L.convert(r.center)),"bearing"in r&&h.bearing!==+r.bearing&&(_=!0,h.bearing=+r.bearing),"pitch"in r&&h.pitch!==+r.pitch&&(w=!0,h.pitch=+r.pitch),r.padding==null||h.isPaddingEqual(r.padding)||(h.padding=r.padding),this._applyUpdatedTransform(h),this.fire(new u.k("movestart",c)).fire(new u.k("move",c)),m&&this.fire(new u.k("zoomstart",c)).fire(new u.k("zoom",c)).fire(new u.k("zoomend",c)),_&&this.fire(new u.k("rotatestart",c)).fire(new u.k("rotate",c)).fire(new u.k("rotateend",c)),w&&this.fire(new u.k("pitchstart",c)).fire(new u.k("pitch",c)).fire(new u.k("pitchend",c)),this.fire(new u.k("moveend",c))}calculateCameraOptionsFromTo(r,c,h,m=0){const _=u.U.fromLngLat(r,c),w=u.U.fromLngLat(h,m),C=w.x-_.x,k=w.y-_.y,T=w.z-_.z,L=Math.hypot(C,k,T);if(L===0)throw new Error("Can't calculate camera options with same From and To");const D=Math.hypot(C,k),W=this.transform.scaleZoom(this.transform.cameraToCenterDistance/L/this.transform.tileSize),te=180*Math.atan2(C,-k)/Math.PI;let ee=180*Math.acos(D/L)/Math.PI;return ee=T<0?90-ee:90+ee,{center:w.toLngLat(),zoom:W,pitch:ee,bearing:te}}easeTo(r,c){this._stop(!1,r.easeId),((r=u.e({offset:[0,0],duration:500,easing:u.bb},r)).animate===!1||!r.essential&&u.h.prefersReducedMotion)&&(r.duration=0);const h=this._getTransformForUpdate(),m=this.getZoom(),_=this.getBearing(),w=this.getPitch(),C=this.getPadding(),k="zoom"in r?+r.zoom:m,T="bearing"in r?this._normalizeBearing(r.bearing,_):_,L="pitch"in r?+r.pitch:w,D="padding"in r?r.padding:h.padding,W=u.P.convert(r.offset);let te=h.centerPoint.add(W);const ee=h.pointLocation(te),oe=u.L.convert(r.center||ee);this._normalizeCenter(oe);const Y=h.project(ee),ge=h.project(oe).sub(Y),Ce=h.zoomScale(k-m);let le,ve;r.around&&(le=u.L.convert(r.around),ve=h.locationPoint(le));const Ae={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||k!==m,this._rotating=this._rotating||_!==T,this._pitching=this._pitching||L!==w,this._padding=!h.isPaddingEqual(D),this._easeId=r.easeId,this._prepareEase(c,r.noMoveStart,Ae),this.terrain&&this._prepareElevation(oe),this._ease(Pe=>{if(this._zooming&&(h.zoom=u.B.number(m,k,Pe)),this._rotating&&(h.bearing=u.B.number(_,T,Pe)),this._pitching&&(h.pitch=u.B.number(w,L,Pe)),this._padding&&(h.interpolatePadding(C,D,Pe),te=h.centerPoint.add(W)),this.terrain&&!r.freezeElevation&&this._updateElevation(Pe),le)h.setLocationAtPoint(le,ve);else{const Ne=h.zoomScale(h.zoom-m),Ue=k>m?Math.min(2,Ce):Math.max(.5,Ce),je=Math.pow(Ue,1-Pe),Ke=h.unproject(Y.add(ge.mult(Pe*je)).mult(Ne));h.setLocationAtPoint(h.renderWorldCopies?Ke.wrap():Ke,te)}this._applyUpdatedTransform(h),this._fireMoveEvents(c)},Pe=>{this.terrain&&this._finalizeElevation(),this._afterEase(c,Pe)},r),this}_prepareEase(r,c,h={}){this._moving=!0,c||h.moving||this.fire(new u.k("movestart",r)),this._zooming&&!h.zooming&&this.fire(new u.k("zoomstart",r)),this._rotating&&!h.rotating&&this.fire(new u.k("rotatestart",r)),this._pitching&&!h.pitching&&this.fire(new u.k("pitchstart",r))}_prepareElevation(r){this._elevationCenter=r,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(r,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(r){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const c=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(r<1&&c!==this._elevationTarget){const h=this._elevationTarget-this._elevationStart;this._elevationStart+=r*(h-(c-(h*r+this._elevationStart))/(1-r)),this._elevationTarget=c}this.transform.elevation=u.B.number(this._elevationStart,this._elevationTarget,r)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(r){if(!this.transformCameraUpdate)return;const c=r.clone(),{center:h,zoom:m,pitch:_,bearing:w,elevation:C}=this.transformCameraUpdate(c);h&&(c.center=h),m!==void 0&&(c.zoom=m),_!==void 0&&(c.pitch=_),w!==void 0&&(c.bearing=w),C!==void 0&&(c.elevation=C),this.transform.apply(c)}_fireMoveEvents(r){this.fire(new u.k("move",r)),this._zooming&&this.fire(new u.k("zoom",r)),this._rotating&&this.fire(new u.k("rotate",r)),this._pitching&&this.fire(new u.k("pitch",r))}_afterEase(r,c){if(this._easeId&&c&&this._easeId===c)return;delete this._easeId;const h=this._zooming,m=this._rotating,_=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,h&&this.fire(new u.k("zoomend",r)),m&&this.fire(new u.k("rotateend",r)),_&&this.fire(new u.k("pitchend",r)),this.fire(new u.k("moveend",r))}flyTo(r,c){if(!r.essential&&u.h.prefersReducedMotion){const yt=u.F(r,["center","zoom","bearing","pitch","around"]);return this.jumpTo(yt,c)}this.stop(),r=u.e({offset:[0,0],speed:1.2,curve:1.42,easing:u.bb},r);const h=this._getTransformForUpdate(),m=this.getZoom(),_=this.getBearing(),w=this.getPitch(),C=this.getPadding(),k="zoom"in r?u.ad(+r.zoom,h.minZoom,h.maxZoom):m,T="bearing"in r?this._normalizeBearing(r.bearing,_):_,L="pitch"in r?+r.pitch:w,D="padding"in r?r.padding:h.padding,W=h.zoomScale(k-m),te=u.P.convert(r.offset);let ee=h.centerPoint.add(te);const oe=h.pointLocation(ee),Y=u.L.convert(r.center||oe);this._normalizeCenter(Y);const ge=h.project(oe),Ce=h.project(Y).sub(ge);let le=r.curve;const ve=Math.max(h.width,h.height),Ae=ve/W,Pe=Ce.mag();if("minZoom"in r){const yt=u.ad(Math.min(r.minZoom,m,k),h.minZoom,h.maxZoom),cn=ve/h.zoomScale(yt-m);le=Math.sqrt(cn/Pe*2)}const Ne=le*le;function Ue(yt){const cn=(Ae*Ae-ve*ve+(yt?-1:1)*Ne*Ne*Pe*Pe)/(2*(yt?Ae:ve)*Ne*Pe);return Math.log(Math.sqrt(cn*cn+1)-cn)}function je(yt){return(Math.exp(yt)-Math.exp(-yt))/2}function Ke(yt){return(Math.exp(yt)+Math.exp(-yt))/2}const mt=Ue(!1);let Bt=function(yt){return Ke(mt)/Ke(mt+le*yt)},rt=function(yt){return ve*((Ke(mt)*(je(cn=mt+le*yt)/Ke(cn))-je(mt))/Ne)/Pe;var cn},Et=(Ue(!0)-mt)/le;if(Math.abs(Pe)<1e-6||!isFinite(Et)){if(Math.abs(ve-Ae)<1e-6)return this.easeTo(r,c);const yt=Ae<ve?-1:1;Et=Math.abs(Math.log(Ae/ve))/le,rt=function(){return 0},Bt=function(cn){return Math.exp(yt*le*cn)}}return r.duration="duration"in r?+r.duration:1e3*Et/("screenSpeed"in r?+r.screenSpeed/le:+r.speed),r.maxDuration&&r.duration>r.maxDuration&&(r.duration=0),this._zooming=!0,this._rotating=_!==T,this._pitching=L!==w,this._padding=!h.isPaddingEqual(D),this._prepareEase(c,!1),this.terrain&&this._prepareElevation(Y),this._ease(yt=>{const cn=yt*Et,Nt=1/Bt(cn);h.zoom=yt===1?k:m+h.scaleZoom(Nt),this._rotating&&(h.bearing=u.B.number(_,T,yt)),this._pitching&&(h.pitch=u.B.number(w,L,yt)),this._padding&&(h.interpolatePadding(C,D,yt),ee=h.centerPoint.add(te)),this.terrain&&!r.freezeElevation&&this._updateElevation(yt);const zt=yt===1?Y:h.unproject(ge.add(Ce.mult(rt(cn))).mult(Nt));h.setLocationAtPoint(h.renderWorldCopies?zt.wrap():zt,ee),this._applyUpdatedTransform(h),this._fireMoveEvents(c)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(c)},r),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(r,c){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const h=this._onEaseEnd;delete this._onEaseEnd,h.call(this,c)}if(!r){const h=this.handlers;h&&h.stop(!1)}return this}_ease(r,c,h){h.animate===!1||h.duration===0?(r(1),c()):(this._easeStart=u.h.now(),this._easeOptions=h,this._onEaseFrame=r,this._onEaseEnd=c,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(r,c){r=u.b5(r,-180,180);const h=Math.abs(r-c);return Math.abs(r-360-c)<h&&(r-=360),Math.abs(r+360-c)<h&&(r+=360),r}_normalizeCenter(r){const c=this.transform;if(!c.renderWorldCopies||c.lngRange)return;const h=r.lng-c.center.lng;r.lng+=h>180?-360:h<-180?360:0}queryTerrainElevation(r){return this.terrain?this.terrain.getElevationForLngLatZoom(u.L.convert(r),this.transform.tileZoom)-this.transform.elevation:null}}class hi{constructor(r={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=c=>{!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"&&c.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=r}getDefaultPosition(){return"bottom-right"}onAdd(r){return this._map=r,this._compact=this.options&&this.options.compact,this._container=S.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=S.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=S.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){S.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(r,c){const h=this._map._getUIString(`AttributionControl.${c}`);r.title=h,r.setAttribute("aria-label",h)}_updateAttributions(){if(!this._map.style)return;let r=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?r=r.concat(this.options.customAttribution.map(m=>typeof m!="string"?"":m)):typeof this.options.customAttribution=="string"&&r.push(this.options.customAttribution)),this._map.style.stylesheet){const m=this._map.style.stylesheet;this.styleOwner=m.owner,this.styleId=m.id}const c=this._map.style.sourceCaches;for(const m in c){const _=c[m];if(_.used||_.usedForTerrain){const w=_.getSource();w.attribution&&r.indexOf(w.attribution)<0&&r.push(w.attribution)}}r=r.filter(m=>String(m).trim()),r.sort((m,_)=>m.length-_.length),r=r.filter((m,_)=>{for(let w=_+1;w<r.length;w++)if(r[w].indexOf(m)>=0)return!1;return!0});const h=r.join(" | ");h!==this._attribHTML&&(this._attribHTML=h,r.length?(this._innerContainer.innerHTML=h,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class vn{constructor(r={}){this._updateCompact=()=>{const c=this._container.children;if(c.length){const h=c[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&h.classList.add("maplibregl-compact"):h.classList.remove("maplibregl-compact")}},this.options=r}getDefaultPosition(){return"bottom-left"}onAdd(r){this._map=r,this._compact=this.options&&this.options.compact,this._container=S.create("div","maplibregl-ctrl");const c=S.create("a","maplibregl-ctrl-logo");return c.target="_blank",c.rel="noopener nofollow",c.href="https://maplibre.org/",c.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),c.setAttribute("rel","noopener nofollow"),this._container.appendChild(c),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){S.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class y1{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(r){const c=++this._id;return this._queue.push({callback:r,id:c,cancelled:!1}),c}remove(r){const c=this._currentlyRunning,h=c?this._queue.concat(c):this._queue;for(const m of h)if(m.id===r)return void(m.cancelled=!0)}run(r=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const c=this._currentlyRunning=this._queue;this._queue=[];for(const h of c)if(!h.cancelled&&(h.callback(r),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const ic={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var kh=u.Q([{name:"a_pos3d",type:"Int16",components:3}]);class Ah extends u.E{constructor(r){super(),this.sourceCache=r,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,r.usedForTerrain=!0,r.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(r,c){this.sourceCache.update(r,c),this._renderableTilesKeys=[];const h={};for(const m of r.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:c}))h[m.key]=!0,this._renderableTilesKeys.push(m.key),this._tiles[m.key]||(m.posMatrix=new Float64Array(16),u.aS(m.posMatrix,0,u.N,0,u.N,0,1),this._tiles[m.key]=new gr(m,this.tileSize));for(const m in this._tiles)h[m]||delete this._tiles[m]}freeRtt(r){for(const c in this._tiles){const h=this._tiles[c];(!r||h.tileID.equals(r)||h.tileID.isChildOf(r)||r.isChildOf(h.tileID))&&(h.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(r=>this.getTileByID(r))}getTileByID(r){return this._tiles[r]}getTerrainCoords(r){const c={};for(const h of this._renderableTilesKeys){const m=this._tiles[h].tileID;if(m.canonical.equals(r.canonical)){const _=r.clone();_.posMatrix=new Float64Array(16),u.aS(_.posMatrix,0,u.N,0,u.N,0,1),c[h]=_}else if(m.canonical.isChildOf(r.canonical)){const _=r.clone();_.posMatrix=new Float64Array(16);const w=m.canonical.z-r.canonical.z,C=m.canonical.x-(m.canonical.x>>w<<w),k=m.canonical.y-(m.canonical.y>>w<<w),T=u.N>>w;u.aS(_.posMatrix,0,T,0,T,0,1),u.$(_.posMatrix,_.posMatrix,[-C*T,-k*T,0]),c[h]=_}else if(r.canonical.isChildOf(m.canonical)){const _=r.clone();_.posMatrix=new Float64Array(16);const w=r.canonical.z-m.canonical.z,C=r.canonical.x-(r.canonical.x>>w<<w),k=r.canonical.y-(r.canonical.y>>w<<w),T=u.N>>w;u.aS(_.posMatrix,0,u.N,0,u.N,0,1),u.$(_.posMatrix,_.posMatrix,[C*T,k*T,0]),u.a0(_.posMatrix,_.posMatrix,[1/2**w,1/2**w,0]),c[h]=_}}return c}getSourceTile(r,c){const h=this.sourceCache._source;let m=r.overscaledZ-this.deltaZoom;if(m>h.maxzoom&&(m=h.maxzoom),m<h.minzoom)return null;this._sourceTileCache[r.key]||(this._sourceTileCache[r.key]=r.scaledTo(m).key);let _=this.sourceCache.getTileByID(this._sourceTileCache[r.key]);if((!_||!_.dem)&&c)for(;m>=h.minzoom&&(!_||!_.dem);)_=this.sourceCache.getTileByID(r.scaledTo(m--).key);return _}tilesAfterTime(r=Date.now()){return Object.values(this._tiles).filter(c=>c.timeAdded>=r)}}class Ph{constructor(r,c,h){this.painter=r,this.sourceCache=new Ah(c),this.options=h,this.exaggeration=typeof h.exaggeration=="number"?h.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(r,c,h,m=u.N){var _;if(!(c>=0&&c<m&&h>=0&&h<m))return 0;const w=this.getTerrainData(r),C=(_=w.tile)===null||_===void 0?void 0:_.dem;if(!C)return 0;const k=function(ee,oe,Y){var ge=oe[0],Ce=oe[1];return ee[0]=Y[0]*ge+Y[4]*Ce+Y[12],ee[1]=Y[1]*ge+Y[5]*Ce+Y[13],ee}([],[c/m*u.N,h/m*u.N],w.u_terrain_matrix),T=[k[0]*C.dim,k[1]*C.dim],L=Math.floor(T[0]),D=Math.floor(T[1]),W=T[0]-L,te=T[1]-D;return C.get(L,D)*(1-W)*(1-te)+C.get(L+1,D)*W*(1-te)+C.get(L,D+1)*(1-W)*te+C.get(L+1,D+1)*W*te}getElevationForLngLatZoom(r,c){const{tileID:h,mercatorX:m,mercatorY:_}=this._getOverscaledTileIDFromLngLatZoom(r,c);return this.getElevation(h,m%u.N,_%u.N,u.N)}getElevation(r,c,h,m=u.N){return this.getDEMElevation(r,c,h,m)*this.exaggeration}getTerrainData(r){if(!this._emptyDemTexture){const m=this.painter.context,_=new u.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Me(m,_,m.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Me(m,new u.R({width:1,height:1}),m.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(m.gl.NEAREST,m.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=u.ao([])}const c=this.sourceCache.getSourceTile(r,!0);if(c&&c.dem&&(!c.demTexture||c.needsTerrainPrepare)){const m=this.painter.context;c.demTexture=this.painter.getTileTexture(c.dem.stride),c.demTexture?c.demTexture.update(c.dem.getPixels(),{premultiply:!1}):c.demTexture=new Me(m,c.dem.getPixels(),m.gl.RGBA,{premultiply:!1}),c.demTexture.bind(m.gl.NEAREST,m.gl.CLAMP_TO_EDGE),c.needsTerrainPrepare=!1}const h=c&&c+c.tileID.key+r.key;if(h&&!this._demMatrixCache[h]){const m=this.sourceCache.sourceCache._source.maxzoom;let _=r.canonical.z-c.tileID.canonical.z;r.overscaledZ>r.canonical.z&&(r.canonical.z>=m?_=r.canonical.z-m:u.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const w=r.canonical.x-(r.canonical.x>>_<<_),C=r.canonical.y-(r.canonical.y>>_<<_),k=u.bc(new Float64Array(16),[1/(u.N<<_),1/(u.N<<_),0]);u.$(k,k,[w*u.N,C*u.N,0]),this._demMatrixCache[r.key]={matrix:k,coord:r}}return{u_depth:2,u_terrain:3,u_terrain_dim:c&&c.dem&&c.dem.dim||1,u_terrain_matrix:h?this._demMatrixCache[r.key].matrix:this._emptyDemMatrix,u_terrain_unpack:c&&c.dem&&c.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(c&&c.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:c}}getFramebuffer(r){const c=this.painter,h=c.width/devicePixelRatio,m=c.height/devicePixelRatio;return!this._fbo||this._fbo.width===h&&this._fbo.height===m||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Me(c.context,{width:h,height:m,data:null},c.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(c.context.gl.NEAREST,c.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Me(c.context,{width:h,height:m,data:null},c.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(c.context.gl.NEAREST,c.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=c.context.createFramebuffer(h,m,!0,!1),this._fbo.depthAttachment.set(c.context.createRenderbuffer(c.context.gl.DEPTH_COMPONENT16,h,m))),this._fbo.colorAttachment.set(r==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const r=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const c=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let _=0,w=0;_<this._coordsTextureSize;_++)for(let C=0;C<this._coordsTextureSize;C++,w+=4)c[w+0]=255&C,c[w+1]=255&_,c[w+2]=C>>8<<4|_>>8,c[w+3]=0;const h=new u.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(c.buffer)),m=new Me(r,h,r.gl.RGBA,{premultiply:!1});return m.bind(r.gl.NEAREST,r.gl.CLAMP_TO_EDGE),this._coordsTexture=m,m}pointCoordinate(r){const c=new Uint8Array(4),h=this.painter.context,m=h.gl;h.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),m.readPixels(r.x,this.painter.height/devicePixelRatio-r.y-1,1,1,m.RGBA,m.UNSIGNED_BYTE,c),h.bindFramebuffer.set(null);const _=c[0]+(c[2]>>4<<8),w=c[1]+((15&c[2])<<8),C=this.coordsIndex[255-c[3]],k=C&&this.sourceCache.getTileByID(C);if(!k)return null;const T=this._coordsTextureSize,L=(1<<k.tileID.canonical.z)*T;return new u.U((k.tileID.canonical.x*T+_)/L,(k.tileID.canonical.y*T+w)/L,this.getElevation(k.tileID,_,w,T))}getTerrainMesh(){if(this._mesh)return this._mesh;const r=this.painter.context,c=new u.bd,h=new u.b0,m=this.meshSize,_=u.N/m,w=m*m;for(let D=0;D<=m;D++)for(let W=0;W<=m;W++)c.emplaceBack(W*_,D*_,0);for(let D=0;D<w;D+=m+1)for(let W=0;W<m;W++)h.emplaceBack(W+D,m+W+D+1,m+W+D+2),h.emplaceBack(W+D,m+W+D+2,W+D+1);const C=c.length,k=C+2*(m+1);for(const D of[0,1])for(let W=0;W<=m;W++)for(const te of[0,1])c.emplaceBack(W*_,D*u.N,te);for(let D=0;D<2*m;D+=2)h.emplaceBack(k+D,k+D+1,k+D+3),h.emplaceBack(k+D,k+D+3,k+D+2),h.emplaceBack(C+D,C+D+3,C+D+1),h.emplaceBack(C+D,C+D+2,C+D+3);const T=c.length,L=T+2*(m+1);for(const D of[0,1])for(let W=0;W<=m;W++)for(const te of[0,1])c.emplaceBack(D*u.N,W*_,te);for(let D=0;D<2*m;D+=2)h.emplaceBack(T+D,T+D+1,T+D+3),h.emplaceBack(T+D,T+D+3,T+D+2),h.emplaceBack(L+D,L+D+3,L+D+1),h.emplaceBack(L+D,L+D+2,L+D+3);return this._mesh={indexBuffer:r.createIndexBuffer(h),vertexBuffer:r.createVertexBuffer(c,kh.members),segments:u.S.simpleSegment(0,0,c.length,h.length)},this._mesh}getMeshFrameDelta(r){return 2*Math.PI*u.be/Math.pow(2,r)/5}getMinTileElevationForLngLatZoom(r,c){var h;const{tileID:m}=this._getOverscaledTileIDFromLngLatZoom(r,c);return(h=this.getMinMaxElevation(m).minElevation)!==null&&h!==void 0?h:0}getMinMaxElevation(r){const c=this.getTerrainData(r).tile,h={minElevation:null,maxElevation:null};return c&&c.dem&&(h.minElevation=c.dem.min*this.exaggeration,h.maxElevation=c.dem.max*this.exaggeration),h}_getOverscaledTileIDFromLngLatZoom(r,c){const h=u.U.fromLngLat(r.wrap()),m=(1<<c)*u.N,_=h.x*m,w=h.y*m,C=Math.floor(_/u.N),k=Math.floor(w/u.N);return{tileID:new u.O(c,0,c,C,k),mercatorX:_,mercatorY:w}}}class V0{constructor(r,c,h){this._context=r,this._size=c,this._tileSize=h,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const r of this._objects)r.texture.destroy(),r.fbo.destroy()}_createObject(r){const c=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),h=new Me(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return h.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),c.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),c.colorAttachment.set(h.texture),{id:r,fbo:c,texture:h,stamp:-1,inUse:!1}}getObjectForId(r){return this._objects[r]}useObject(r){r.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(c=>r.id!==c),this._recentlyUsed.push(r.id)}stampObject(r){r.stamp=++this._stamp}getOrCreateFreeObject(){for(const c of this._recentlyUsed)if(!this._objects[c].inUse)return this._objects[c];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const r=this._createObject(this._objects.length);return this._objects.push(r),r}freeObject(r){r.inUse=!1}freeAllObjects(){for(const r of this._objects)this.freeObject(r)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(r=>!r.inUse)===!1}}const Nr={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class v1{constructor(r,c){this.painter=r,this.terrain=c,this.pool=new V0(r.context,30,c.sourceCache.tileSize*c.qualityFactor)}destruct(){this.pool.destruct()}getTexture(r){return this.pool.getObjectForId(r.rtt[this._stacks.length-1].id).texture}prepareForRender(r,c){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=r._order.filter(h=>!r._layers[h].isHidden(c)),this._coordsDescendingInv={};for(const h in r.sourceCaches){this._coordsDescendingInv[h]={};const m=r.sourceCaches[h].getVisibleCoordinates();for(const _ of m){const w=this.terrain.sourceCache.getTerrainCoords(_);for(const C in w)this._coordsDescendingInv[h][C]||(this._coordsDescendingInv[h][C]=[]),this._coordsDescendingInv[h][C].push(w[C])}}this._coordsDescendingInvStr={};for(const h of r._order){const m=r._layers[h],_=m.source;if(Nr[m.type]&&!this._coordsDescendingInvStr[_]){this._coordsDescendingInvStr[_]={};for(const w in this._coordsDescendingInv[_])this._coordsDescendingInvStr[_][w]=this._coordsDescendingInv[_][w].map(C=>C.key).sort().join()}}for(const h of this._renderableTiles)for(const m in this._coordsDescendingInvStr){const _=this._coordsDescendingInvStr[m][h.tileID.key];_&&_!==h.rttCoords[m]&&(h.rtt=[])}}renderLayer(r){if(r.isHidden(this.painter.transform.zoom))return!1;const c=r.type,h=this.painter,m=this._renderableLayerIds[this._renderableLayerIds.length-1]===r.id;if(Nr[c]&&(this._prevType&&Nr[this._prevType]||this._stacks.push([]),this._prevType=c,this._stacks[this._stacks.length-1].push(r.id),!m))return!0;if(Nr[this._prevType]||Nr[c]&&m){this._prevType=c;const _=this._stacks.length-1,w=this._stacks[_]||[];for(const C of this._renderableTiles){if(this.pool.isFull()&&(Dn(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(C),C.rtt[_]){const T=this.pool.getObjectForId(C.rtt[_].id);if(T.stamp===C.rtt[_].stamp){this.pool.useObject(T);continue}}const k=this.pool.getOrCreateFreeObject();this.pool.useObject(k),this.pool.stampObject(k),C.rtt[_]={id:k.id,stamp:k.stamp},h.context.bindFramebuffer.set(k.fbo.framebuffer),h.context.clear({color:u.aT.transparent,stencil:0}),h.currentStencilSource=void 0;for(let T=0;T<w.length;T++){const L=h.style._layers[w[T]],D=L.source?this._coordsDescendingInv[L.source][C.tileID.key]:[C.tileID];h.context.viewport.set([0,0,k.fbo.width,k.fbo.height]),h._renderTileClippingMasks(L,D),h.renderLayer(h,h.style.sourceCaches[L.source],L,D),L.source&&(C.rttCoords[L.source]=this._coordsDescendingInvStr[L.source][C.tileID.key])}}return Dn(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Nr[c]}return!1}}const _t=M,Mt={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:u.c.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},sl=g=>{g.touchstart=g.dragStart,g.touchmoveWindow=g.dragMove,g.touchend=g.dragEnd},oc={showCompass:!0,showZoom:!0,visualizePitch:!1};class ac{constructor(r,c,h=!1){this.mousedown=w=>{this.startMouse(u.e({},w,{ctrlKey:!0,preventDefault:()=>w.preventDefault()}),S.mousePos(this.element,w)),S.addEventListener(window,"mousemove",this.mousemove),S.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=w=>{this.moveMouse(w,S.mousePos(this.element,w))},this.mouseup=w=>{this.mouseRotate.dragEnd(w),this.mousePitch&&this.mousePitch.dragEnd(w),this.offTemp()},this.touchstart=w=>{w.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=S.touchPos(this.element,w.targetTouches)[0],this.startTouch(w,this._startPos),S.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),S.addEventListener(window,"touchend",this.touchend))},this.touchmove=w=>{w.targetTouches.length!==1?this.reset():(this._lastPos=S.touchPos(this.element,w.targetTouches)[0],this.moveTouch(w,this._lastPos))},this.touchend=w=>{w.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const m=r.dragRotate._mouseRotate.getClickTolerance(),_=r.dragRotate._mousePitch.getClickTolerance();this.element=c,this.mouseRotate=ls({clickTolerance:m,enable:!0}),this.touchRotate=(({enable:w,clickTolerance:C,bearingDegreesPerPixelMoved:k=.8})=>{const T=new bh;return new zo({clickTolerance:C,move:(L,D)=>({bearingDelta:(D.x-L.x)*k}),moveStateManager:T,enable:w,assignEvents:sl})})({clickTolerance:m,enable:!0}),this.map=r,h&&(this.mousePitch=Fo({clickTolerance:_,enable:!0}),this.touchPitch=(({enable:w,clickTolerance:C,pitchDegreesPerPixelMoved:k=-.5})=>{const T=new bh;return new zo({clickTolerance:C,move:(L,D)=>({pitchDelta:(D.y-L.y)*k}),moveStateManager:T,enable:w,assignEvents:sl})})({clickTolerance:_,enable:!0})),S.addEventListener(c,"mousedown",this.mousedown),S.addEventListener(c,"touchstart",this.touchstart,{passive:!1}),S.addEventListener(c,"touchcancel",this.reset)}startMouse(r,c){this.mouseRotate.dragStart(r,c),this.mousePitch&&this.mousePitch.dragStart(r,c),S.disableDrag()}startTouch(r,c){this.touchRotate.dragStart(r,c),this.touchPitch&&this.touchPitch.dragStart(r,c),S.disableDrag()}moveMouse(r,c){const h=this.map,{bearingDelta:m}=this.mouseRotate.dragMove(r,c)||{};if(m&&h.setBearing(h.getBearing()+m),this.mousePitch){const{pitchDelta:_}=this.mousePitch.dragMove(r,c)||{};_&&h.setPitch(h.getPitch()+_)}}moveTouch(r,c){const h=this.map,{bearingDelta:m}=this.touchRotate.dragMove(r,c)||{};if(m&&h.setBearing(h.getBearing()+m),this.touchPitch){const{pitchDelta:_}=this.touchPitch.dragMove(r,c)||{};_&&h.setPitch(h.getPitch()+_)}}off(){const r=this.element;S.removeEventListener(r,"mousedown",this.mousedown),S.removeEventListener(r,"touchstart",this.touchstart,{passive:!1}),S.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),S.removeEventListener(window,"touchend",this.touchend),S.removeEventListener(r,"touchcancel",this.reset),this.offTemp()}offTemp(){S.enableDrag(),S.removeEventListener(window,"mousemove",this.mousemove),S.removeEventListener(window,"mouseup",this.mouseup),S.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),S.removeEventListener(window,"touchend",this.touchend)}}let Wn;function sc(g,r,c){if(g=new u.L(g.lng,g.lat),r){const h=new u.L(g.lng-360,g.lat),m=new u.L(g.lng+360,g.lat),_=c.locationPoint(g).distSqr(r);c.locationPoint(h).distSqr(r)<_?g=h:c.locationPoint(m).distSqr(r)<_&&(g=m)}for(;Math.abs(g.lng-c.center.lng)>180;){const h=c.locationPoint(g);if(h.x>=0&&h.y>=0&&h.x<=c.width&&h.y<=c.height)break;g.lng>c.center.lng?g.lng-=360:g.lng+=360}return g}const Di={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Th(g,r,c){const h=g.classList;for(const m in Di)h.remove(`maplibregl-${c}-anchor-${m}`);h.add(`maplibregl-${c}-anchor-${r}`)}class Ma extends u.E{constructor(r){if(super(),this._onKeyPress=c=>{const h=c.code,m=c.charCode||c.keyCode;h!=="Space"&&h!=="Enter"&&m!==32&&m!==13||this.togglePopup()},this._onMapClick=c=>{const h=c.originalEvent.target,m=this._element;this._popup&&(h===m||m.contains(h))&&this.togglePopup()},this._update=c=>{if(!this._map)return;const h=this._map.loaded()&&!this._map.isMoving();((c==null?void 0:c.type)==="terrain"||(c==null?void 0:c.type)==="render"&&!h)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=sc(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let m="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?m=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(m=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let _="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?_="rotateX(0deg)":this._pitchAlignment==="map"&&(_=`rotateX(${this._map.getPitch()}deg)`),c&&c.type!=="moveend"||(this._pos=this._pos.round()),S.setTransform(this._element,`${Di[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${_} ${m}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const w=this._map.unproject(this._pos),C=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=w.distanceTo(this._lngLat)>20*C?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=c=>{if(!this._isDragging){const h=this._clickTolerance||this._map._clickTolerance;this._isDragging=c.point.dist(this._pointerdownPos)>=h}this._isDragging&&(this._pos=c.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new u.k("dragstart"))),this.fire(new u.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new u.k("dragend")),this._state="inactive"},this._addDragHandler=c=>{this._element.contains(c.originalEvent.target)&&(c.preventDefault(),this._positionDelta=c.point.sub(this._pos).add(this._offset),this._pointerdownPos=c.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&r.pitchAlignment!=="auto"?r.pitchAlignment:this._rotationAlignment,r&&r.element)this._element=r.element,this._offset=u.P.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=S.create("div"),this._element.setAttribute("aria-label","Map marker");const c=S.createNS("http://www.w3.org/2000/svg","svg"),h=41,m=27;c.setAttributeNS(null,"display","block"),c.setAttributeNS(null,"height",`${h}px`),c.setAttributeNS(null,"width",`${m}px`),c.setAttributeNS(null,"viewBox",`0 0 ${m} ${h}`);const _=S.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"stroke","none"),_.setAttributeNS(null,"stroke-width","1"),_.setAttributeNS(null,"fill","none"),_.setAttributeNS(null,"fill-rule","evenodd");const w=S.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"fill-rule","nonzero");const C=S.createNS("http://www.w3.org/2000/svg","g");C.setAttributeNS(null,"transform","translate(3.0, 29.0)"),C.setAttributeNS(null,"fill","#000000");const k=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const ge of k){const Ce=S.createNS("http://www.w3.org/2000/svg","ellipse");Ce.setAttributeNS(null,"opacity","0.04"),Ce.setAttributeNS(null,"cx","10.5"),Ce.setAttributeNS(null,"cy","5.80029008"),Ce.setAttributeNS(null,"rx",ge.rx),Ce.setAttributeNS(null,"ry",ge.ry),C.appendChild(Ce)}const T=S.createNS("http://www.w3.org/2000/svg","g");T.setAttributeNS(null,"fill",this._color);const L=S.createNS("http://www.w3.org/2000/svg","path");L.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),T.appendChild(L);const D=S.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"opacity","0.25"),D.setAttributeNS(null,"fill","#000000");const W=S.createNS("http://www.w3.org/2000/svg","path");W.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),D.appendChild(W);const te=S.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"transform","translate(6.0, 7.0)"),te.setAttributeNS(null,"fill","#FFFFFF");const ee=S.createNS("http://www.w3.org/2000/svg","g");ee.setAttributeNS(null,"transform","translate(8.0, 8.0)");const oe=S.createNS("http://www.w3.org/2000/svg","circle");oe.setAttributeNS(null,"fill","#000000"),oe.setAttributeNS(null,"opacity","0.25"),oe.setAttributeNS(null,"cx","5.5"),oe.setAttributeNS(null,"cy","5.5"),oe.setAttributeNS(null,"r","5.4999962");const Y=S.createNS("http://www.w3.org/2000/svg","circle");Y.setAttributeNS(null,"fill","#FFFFFF"),Y.setAttributeNS(null,"cx","5.5"),Y.setAttributeNS(null,"cy","5.5"),Y.setAttributeNS(null,"r","5.4999962"),ee.appendChild(oe),ee.appendChild(Y),w.appendChild(C),w.appendChild(T),w.appendChild(D),w.appendChild(te),w.appendChild(ee),c.appendChild(w),c.setAttributeNS(null,"height",h*this._scale+"px"),c.setAttributeNS(null,"width",m*this._scale+"px"),this._element.appendChild(c),this._offset=u.P.convert(r&&r.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",c=>{c.preventDefault()}),this._element.addEventListener("mousedown",c=>{c.preventDefault()}),Th(this._element,this._anchor,"marker"),r&&r.className)for(const c of r.className.split(" "))this._element.classList.add(c);this._popup=null}addTo(r){return this.remove(),this._map=r,r.getCanvasContainer().appendChild(this._element),r.on("move",this._update),r.on("moveend",this._update),r.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),S.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(r){return this._lngLat=u.L.convert(r),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(r){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),r){if(!("offset"in r.options)){const m=Math.abs(13.5)/Math.SQRT2;r.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[m,-1*(38.1-13.5+m)],"bottom-right":[-m,-1*(38.1-13.5+m)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=r,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const r=this._popup;return r?(r.isOpen()?r.remove():r.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(r){return this._offset=u.P.convert(r),this._update(),this}addClassName(r){this._element.classList.add(r)}removeClassName(r){this._element.classList.remove(r)}toggleClassName(r){return this._element.classList.toggle(r)}setDraggable(r){return this._draggable=!!r,this._map&&(r?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(r){return this._rotation=r||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(r){return this._rotationAlignment=r||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(r){return this._pitchAlignment=r&&r!=="auto"?r:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const Rn={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Tn=0,cs=!1;const ll={maxWidth:100,unit:"metric"};function ul(g,r,c){const h=c&&c.maxWidth||100,m=g._container.clientHeight/2,_=g.unproject([0,m]),w=g.unproject([h,m]),C=_.distanceTo(w);if(c&&c.unit==="imperial"){const k=3.2808*C;k>5280?Ea(r,h,k/5280,g._getUIString("ScaleControl.Miles")):Ea(r,h,k,g._getUIString("ScaleControl.Feet"))}else c&&c.unit==="nautical"?Ea(r,h,C/1852,g._getUIString("ScaleControl.NauticalMiles")):C>=1e3?Ea(r,h,C/1e3,g._getUIString("ScaleControl.Kilometers")):Ea(r,h,C,g._getUIString("ScaleControl.Meters"))}function Ea(g,r,c,h){const m=function(_){const w=Math.pow(10,`${Math.floor(_)}`.length-1);let C=_/w;return C=C>=10?10:C>=5?5:C>=3?3:C>=2?2:C>=1?1:function(k){const T=Math.pow(10,Math.ceil(-Math.log(k)/Math.LN10));return Math.round(k*T)/T}(C),w*C}(c);g.style.width=r*(m/c)+"px",g.innerHTML=`${m}&nbsp;${h}`}const lc={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},uc=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function ds(g){if(g){if(typeof g=="number"){const r=Math.round(Math.abs(g)/Math.SQRT2);return{center:new u.P(0,0),top:new u.P(0,g),"top-left":new u.P(r,r),"top-right":new u.P(-r,r),bottom:new u.P(0,-g),"bottom-left":new u.P(r,-r),"bottom-right":new u.P(-r,-r),left:new u.P(g,0),right:new u.P(-g,0)}}if(g instanceof u.P||Array.isArray(g)){const r=u.P.convert(g);return{center:r,top:r,"top-left":r,"top-right":r,bottom:r,"bottom-left":r,"bottom-right":r,left:r,right:r}}return{center:u.P.convert(g.center||[0,0]),top:u.P.convert(g.top||[0,0]),"top-left":u.P.convert(g["top-left"]||[0,0]),"top-right":u.P.convert(g["top-right"]||[0,0]),bottom:u.P.convert(g.bottom||[0,0]),"bottom-left":u.P.convert(g["bottom-left"]||[0,0]),"bottom-right":u.P.convert(g["bottom-right"]||[0,0]),left:u.P.convert(g.left||[0,0]),right:u.P.convert(g.right||[0,0])}}return ds(new u.P(0,0))}const cc={extend:(g,...r)=>u.e(g,...r),run(g){g()},logToElement(g,r=!1,c="log"){const h=window.document.getElementById(c);h&&(r&&(h.innerHTML=""),h.innerHTML+=`<br>${g}`)}},dc=M;class tn{static get version(){return dc}static get workerCount(){return Ci.workerCount}static set workerCount(r){Ci.workerCount=r}static get maxParallelImageRequests(){return u.c.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(r){u.c.MAX_PARALLEL_IMAGE_REQUESTS=r}static get workerUrl(){return u.c.WORKER_URL}static set workerUrl(r){u.c.WORKER_URL=r}static addProtocol(r,c){u.c.REGISTERED_PROTOCOLS[r]=c}static removeProtocol(r){delete u.c.REGISTERED_PROTOCOLS[r]}}return tn.Map=class extends Eh{constructor(g){if(u.bf.mark(u.bg.create),(g=u.e({},Mt,g)).minZoom!=null&&g.maxZoom!=null&&g.minZoom>g.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(g.minPitch!=null&&g.maxPitch!=null&&g.minPitch>g.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(g.minPitch!=null&&g.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(g.maxPitch!=null&&g.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new p1(g.minZoom,g.maxZoom,g.minPitch,g.maxPitch,g.renderWorldCopies),{bearingSnap:g.bearingSnap}),this._cooperativeGesturesOnWheel=r=>{this._onCooperativeGesture(r,r[this._metaKey],1)},this._contextLost=r=>{r.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new u.k("webglcontextlost",{originalEvent:r}))},this._contextRestored=r=>{this._setupPainter(),this.resize(),this._update(),this.fire(new u.k("webglcontextrestored",{originalEvent:r}))},this._onMapScroll=r=>{if(r.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=g.interactive,this._cooperativeGestures=g.cooperativeGestures,this._metaKey=navigator.platform.indexOf("Mac")===0?"metaKey":"ctrlKey",this._maxTileCacheSize=g.maxTileCacheSize,this._maxTileCacheZoomLevels=g.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=g.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=g.preserveDrawingBuffer,this._antialias=g.antialias,this._trackResize=g.trackResize,this._bearingSnap=g.bearingSnap,this._refreshExpiredTiles=g.refreshExpiredTiles,this._fadeDuration=g.fadeDuration,this._crossSourceCollisions=g.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=g.collectResourceTiming,this._renderTaskQueue=new y1,this._controls=[],this._mapId=u.a2(),this._locale=u.e({},ic,g.locale),this._clickTolerance=g.clickTolerance,this._overridePixelRatio=g.pixelRatio,this._maxCanvasSize=g.maxCanvasSize,this.transformCameraUpdate=g.transformCameraUpdate,this._imageQueueHandle=K.addThrottleControl(()=>this.isMoving()),this._requestManager=new B(g.transformRequest),typeof g.container=="string"){if(this._container=document.getElementById(g.container),!this._container)throw new Error(`Container '${g.container}' not found.`)}else{if(!(g.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=g.container}if(g.maxBounds&&this.setMaxBounds(g.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let r=!1;const c=Ca(h=>{this._trackResize&&!this._removed&&this.resize(h)._update()},50);this._resizeObserver=new ResizeObserver(h=>{r?c(h):r=!0}),this._resizeObserver.observe(this._container)}this.handlers=new rc(this,g),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=g.hash&&new nl(typeof g.hash=="string"&&g.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:g.center,zoom:g.zoom,bearing:g.bearing,pitch:g.pitch}),g.bounds&&(this.resize(),this.fitBounds(g.bounds,u.e({},g.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=g.localIdeographFontFamily,this._validateStyle=g.validateStyle,g.style&&this.setStyle(g.style,{localIdeographFontFamily:g.localIdeographFontFamily}),g.attributionControl&&this.addControl(new hi({customAttribution:g.customAttribution})),g.maplibreLogo&&this.addControl(new vn,g.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",r=>{this._update(r.dataType==="style"),this.fire(new u.k(`${r.dataType}data`,r))}),this.on("dataloading",r=>{this.fire(new u.k(`${r.dataType}dataloading`,r))}),this.on("dataabort",r=>{this.fire(new u.k("sourcedataabort",r))})}_getMapId(){return this._mapId}addControl(g,r){if(r===void 0&&(r=g.getDefaultPosition?g.getDefaultPosition():"top-right"),!g||!g.onAdd)return this.fire(new u.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const c=g.onAdd(this);this._controls.push(g);const h=this._controlPositions[r];return r.indexOf("bottom")!==-1?h.insertBefore(c,h.firstChild):h.appendChild(c),this}removeControl(g){if(!g||!g.onRemove)return this.fire(new u.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const r=this._controls.indexOf(g);return r>-1&&this._controls.splice(r,1),g.onRemove(this),this}hasControl(g){return this._controls.indexOf(g)>-1}calculateCameraOptionsFromTo(g,r,c,h){return h==null&&this.terrain&&(h=this.terrain.getElevationForLngLatZoom(c,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(g,r,c,h)}resize(g){var r;const c=this._containerDimensions(),h=c[0],m=c[1],_=this._getClampedPixelRatio(h,m);if(this._resizeCanvas(h,m,_),this.painter.resize(h,m,_),this.painter.overLimit()){const C=this.painter.context.gl;this._maxCanvasSize=[C.drawingBufferWidth,C.drawingBufferHeight];const k=this._getClampedPixelRatio(h,m);this._resizeCanvas(h,m,k),this.painter.resize(h,m,k)}this.transform.resize(h,m),(r=this._requestedCameraState)===null||r===void 0||r.resize(h,m);const w=!this._moving;return w&&(this.stop(),this.fire(new u.k("movestart",g)).fire(new u.k("move",g))),this.fire(new u.k("resize",g)),w&&this.fire(new u.k("moveend",g)),this}_getClampedPixelRatio(g,r){const{0:c,1:h}=this._maxCanvasSize,m=this.getPixelRatio(),_=g*m,w=r*m;return Math.min(_>c?c/_:1,w>h?h/w:1)*m}getPixelRatio(){var g;return(g=this._overridePixelRatio)!==null&&g!==void 0?g:devicePixelRatio}setPixelRatio(g){this._overridePixelRatio=g,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(g){return this.transform.setMaxBounds(ut.convert(g)),this._update()}setMinZoom(g){if((g=g??-2)>=-2&&g<=this.transform.maxZoom)return this.transform.minZoom=g,this._update(),this.getZoom()<g&&this.setZoom(g),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(g){if((g=g??22)>=this.transform.minZoom)return this.transform.maxZoom=g,this._update(),this.getZoom()>g&&this.setZoom(g),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(g){if((g=g??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(g>=0&&g<=this.transform.maxPitch)return this.transform.minPitch=g,this._update(),this.getPitch()<g&&this.setPitch(g),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(g){if((g=g??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(g>=this.transform.minPitch)return this.transform.maxPitch=g,this._update(),this.getPitch()>g&&this.setPitch(g),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(g){return this.transform.renderWorldCopies=g,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(g){return this._cooperativeGestures=g,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(g){return this.transform.locationPoint(u.L.convert(g),this.style&&this.terrain)}unproject(g){return this.transform.pointLocation(u.P.convert(g),this.terrain)}isMoving(){var g;return this._moving||((g=this.handlers)===null||g===void 0?void 0:g.isMoving())}isZooming(){var g;return this._zooming||((g=this.handlers)===null||g===void 0?void 0:g.isZooming())}isRotating(){var g;return this._rotating||((g=this.handlers)===null||g===void 0?void 0:g.isRotating())}_createDelegatedListener(g,r,c){if(g==="mouseenter"||g==="mouseover"){let h=!1;return{layer:r,listener:c,delegates:{mousemove:_=>{const w=this.getLayer(r)?this.queryRenderedFeatures(_.point,{layers:[r]}):[];w.length?h||(h=!0,c.call(this,new di(g,this,_.originalEvent,{features:w}))):h=!1},mouseout:()=>{h=!1}}}}if(g==="mouseleave"||g==="mouseout"){let h=!1;return{layer:r,listener:c,delegates:{mousemove:w=>{(this.getLayer(r)?this.queryRenderedFeatures(w.point,{layers:[r]}):[]).length?h=!0:h&&(h=!1,c.call(this,new di(g,this,w.originalEvent)))},mouseout:w=>{h&&(h=!1,c.call(this,new di(g,this,w.originalEvent)))}}}}{const h=m=>{const _=this.getLayer(r)?this.queryRenderedFeatures(m.point,{layers:[r]}):[];_.length&&(m.features=_,c.call(this,m),delete m.features)};return{layer:r,listener:c,delegates:{[g]:h}}}}on(g,r,c){if(c===void 0)return super.on(g,r);const h=this._createDelegatedListener(g,r,c);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[g]=this._delegatedListeners[g]||[],this._delegatedListeners[g].push(h);for(const m in h.delegates)this.on(m,h.delegates[m]);return this}once(g,r,c){if(c===void 0)return super.once(g,r);const h=this._createDelegatedListener(g,r,c);for(const m in h.delegates)this.once(m,h.delegates[m]);return this}off(g,r,c){return c===void 0?super.off(g,r):(this._delegatedListeners&&this._delegatedListeners[g]&&(h=>{const m=this._delegatedListeners[g];for(let _=0;_<m.length;_++){const w=m[_];if(w.layer===r&&w.listener===c){for(const C in w.delegates)this.off(C,w.delegates[C]);return m.splice(_,1),this}}})(),this)}queryRenderedFeatures(g,r){if(!this.style)return[];let c;const h=g instanceof u.P||Array.isArray(g),m=h?g:[[0,0],[this.transform.width,this.transform.height]];if(r=r||(h?{}:g)||{},m instanceof u.P||typeof m[0]=="number")c=[u.P.convert(m)];else{const _=u.P.convert(m[0]),w=u.P.convert(m[1]);c=[_,new u.P(w.x,_.y),w,new u.P(_.x,w.y),_]}return this.style.queryRenderedFeatures(c,r,this.transform)}querySourceFeatures(g,r){return this.style.querySourceFeatures(g,r)}setStyle(g,r){return(r=u.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},r)).diff!==!1&&r.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&g?(this._diffStyle(g,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._updateStyle(g,r))}setTransformRequest(g){return this._requestManager.setTransformRequest(g),this}_getUIString(g){const r=this._locale[g];if(r==null)throw new Error(`Missing UI string '${g}'`);return r}_updateStyle(g,r){if(r.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(g,r));const c=this.style&&r.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!g)),g?(this.style=new vr(this,r||{}),this.style.setEventedParent(this,{style:this.style}),typeof g=="string"?this.style.loadURL(g,r,c):this.style.loadJSON(g,r,c),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new vr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(g,r){if(typeof g=="string"){const c=this._requestManager.transformRequest(g,O.Style);u.f(c,(h,m)=>{h?this.fire(new u.j(h)):m&&this._updateDiff(m,r)})}else typeof g=="object"&&this._updateDiff(g,r)}_updateDiff(g,r){try{this.style.setState(g,r)&&this._update(!0)}catch(c){u.w(`Unable to perform style diff: ${c.message||c.error||c}.  Rebuilding the style from scratch.`),this._updateStyle(g,r)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():u.w("There is no style added to the map.")}addSource(g,r){return this._lazyInitEmptyStyle(),this.style.addSource(g,r),this._update(!0)}isSourceLoaded(g){const r=this.style&&this.style.sourceCaches[g];if(r!==void 0)return r.loaded();this.fire(new u.j(new Error(`There is no source with ID '${g}'`)))}setTerrain(g){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),g){const r=this.style.sourceCaches[g.source];if(!r)throw new Error(`cannot load terrain, because there exists no source with ID: ${g.source}`);for(const c in this.style._layers){const h=this.style._layers[c];h.type==="hillshade"&&h.source===g.source&&u.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Ph(this.painter,r,g),this.painter.renderToTexture=new v1(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=c=>{c.dataType==="style"?this.terrain.sourceCache.freeRtt():c.dataType==="source"&&c.tile&&(c.sourceId!==g.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(c.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new u.k("terrain",{terrain:g})),this}getTerrain(){var g,r;return(r=(g=this.terrain)===null||g===void 0?void 0:g.options)!==null&&r!==void 0?r:null}areTilesLoaded(){const g=this.style&&this.style.sourceCaches;for(const r in g){const c=g[r]._tiles;for(const h in c){const m=c[h];if(m.state!=="loaded"&&m.state!=="errored")return!1}}return!0}addSourceType(g,r,c){return this._lazyInitEmptyStyle(),this.style.addSourceType(g,r,c)}removeSource(g){return this.style.removeSource(g),this._update(!0)}getSource(g){return this.style.getSource(g)}addImage(g,r,c={}){const{pixelRatio:h=1,sdf:m=!1,stretchX:_,stretchY:w,content:C}=c;if(this._lazyInitEmptyStyle(),!(r instanceof HTMLImageElement||u.a(r))){if(r.width===void 0||r.height===void 0)return this.fire(new u.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:k,height:T,data:L}=r,D=r;return this.style.addImage(g,{data:new u.R({width:k,height:T},new Uint8Array(L)),pixelRatio:h,stretchX:_,stretchY:w,content:C,sdf:m,version:0,userImage:D}),D.onAdd&&D.onAdd(this,g),this}}{const{width:k,height:T,data:L}=u.h.getImageData(r);this.style.addImage(g,{data:new u.R({width:k,height:T},L),pixelRatio:h,stretchX:_,stretchY:w,content:C,sdf:m,version:0})}}updateImage(g,r){const c=this.style.getImage(g);if(!c)return this.fire(new u.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const h=r instanceof HTMLImageElement||u.a(r)?u.h.getImageData(r):r,{width:m,height:_,data:w}=h;if(m===void 0||_===void 0)return this.fire(new u.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(m!==c.data.width||_!==c.data.height)return this.fire(new u.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const C=!(r instanceof HTMLImageElement||u.a(r));return c.data.replace(w,C),this.style.updateImage(g,c),this}getImage(g){return this.style.getImage(g)}hasImage(g){return g?!!this.style.getImage(g):(this.fire(new u.j(new Error("Missing required image id"))),!1)}removeImage(g){this.style.removeImage(g)}loadImage(g,r){K.getImage(this._requestManager.transformRequest(g,O.Image),r)}listImages(){return this.style.listImages()}addLayer(g,r){return this._lazyInitEmptyStyle(),this.style.addLayer(g,r),this._update(!0)}moveLayer(g,r){return this.style.moveLayer(g,r),this._update(!0)}removeLayer(g){return this.style.removeLayer(g),this._update(!0)}getLayer(g){return this.style.getLayer(g)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(g,r,c){return this.style.setLayerZoomRange(g,r,c),this._update(!0)}setFilter(g,r,c={}){return this.style.setFilter(g,r,c),this._update(!0)}getFilter(g){return this.style.getFilter(g)}setPaintProperty(g,r,c,h={}){return this.style.setPaintProperty(g,r,c,h),this._update(!0)}getPaintProperty(g,r){return this.style.getPaintProperty(g,r)}setLayoutProperty(g,r,c,h={}){return this.style.setLayoutProperty(g,r,c,h),this._update(!0)}getLayoutProperty(g,r){return this.style.getLayoutProperty(g,r)}setGlyphs(g,r={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(g,r),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(g,r,c={}){return this._lazyInitEmptyStyle(),this.style.addSprite(g,r,c,h=>{h||this._update(!0)}),this}removeSprite(g){return this._lazyInitEmptyStyle(),this.style.removeSprite(g),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(g,r={}){return this._lazyInitEmptyStyle(),this.style.setSprite(g,r,c=>{c||this._update(!0)}),this}setLight(g,r={}){return this._lazyInitEmptyStyle(),this.style.setLight(g,r),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(g,r){return this.style.setFeatureState(g,r),this._update()}removeFeatureState(g,r){return this.style.removeFeatureState(g,r),this._update()}getFeatureState(g){return this.style.getFeatureState(g)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let g=0,r=0;return this._container&&(g=this._container.clientWidth||400,r=this._container.clientHeight||300),[g,r]}_setupContainer(){const g=this._container;g.classList.add("maplibregl-map");const r=this._canvasContainer=S.create("div","maplibregl-canvas-container",g);this._interactive&&r.classList.add("maplibregl-interactive"),this._canvas=S.create("canvas","maplibregl-canvas",r),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const c=this._containerDimensions(),h=this._getClampedPixelRatio(c[0],c[1]);this._resizeCanvas(c[0],c[1],h);const m=this._controlContainer=S.create("div","maplibregl-control-container",g),_=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(w=>{_[w]=S.create("div",`maplibregl-ctrl-${w} `,m)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=S.create("div","maplibregl-cooperative-gesture-screen",this._container);let g=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(g=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use ⌘ + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${g}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){S.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(g,r,c){this._canvas.width=Math.floor(c*g),this._canvas.height=Math.floor(c*r),this._canvas.style.width=`${g}px`,this._canvas.style.height=`${r}px`}_setupPainter(){const g={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let r=null;this._canvas.addEventListener("webglcontextcreationerror",h=>{r={requestedAttributes:g},h&&(r.statusMessage=h.statusMessage,r.type=h.type)},{once:!0});const c=this._canvas.getContext("webgl2",g)||this._canvas.getContext("webgl",g);if(!c){const h="Failed to initialize WebGL";throw r?(r.message=h,new Error(JSON.stringify(r))):new Error(h)}this.painter=new Sa(c,this.transform),P.testSupport(c)}_onCooperativeGesture(g,r,c){return!r&&c<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(g){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||g,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(g){return this._update(),this._renderTaskQueue.add(g)}_cancelRenderFrame(g){this._renderTaskQueue.remove(g)}_render(g){const r=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(g),this._removed)return;let c=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const m=this.transform.zoom,_=u.h.now();this.style.zoomHistory.update(m,_);const w=new u.a8(m,{now:_,fadeDuration:r,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),C=w.crossFadingFactor();C===1&&C===this._crossFadingFactor||(c=!0,this._crossFadingFactor=C),this.style.update(w)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,r,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:r,showPadding:this.showPadding}),this.fire(new u.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,u.bf.mark(u.bg.load),this.fire(new u.k("load"))),this.style&&(this.style.hasTransitions()||c)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const h=this._sourcesDirty||this._styleDirty||this._placementDirty;return h||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new u.k("idle")),!this._loaded||this._fullyLoaded||h||(this._fullyLoaded=!0,u.bf.mark(u.bg.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var g;this._hash&&this._hash.remove();for(const c of this._controls)c.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),K.removeThrottleControl(this._imageQueueHandle),(g=this._resizeObserver)===null||g===void 0||g.disconnect();const r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),S.remove(this._canvasContainer),S.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),u.bf.clearMetrics(),this._removed=!0,this.fire(new u.k("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=u.h.frame(g=>{u.bf.frame(g),this._frame=null,this._render(g)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(g){this._showTileBoundaries!==g&&(this._showTileBoundaries=g,this._update())}get showPadding(){return!!this._showPadding}set showPadding(g){this._showPadding!==g&&(this._showPadding=g,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(g){this._showCollisionBoxes!==g&&(this._showCollisionBoxes=g,g?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(g){this._showOverdrawInspector!==g&&(this._showOverdrawInspector=g,this._update())}get repaint(){return!!this._repaint}set repaint(g){this._repaint!==g&&(this._repaint=g,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(g){this._vertices=g,this._update()}get version(){return _t}getCameraTargetElevation(){return this.transform.elevation}},tn.NavigationControl=class{constructor(g){this._updateZoomButtons=()=>{const r=this._map.getZoom(),c=r===this._map.getMaxZoom(),h=r===this._map.getMinZoom();this._zoomInButton.disabled=c,this._zoomOutButton.disabled=h,this._zoomInButton.setAttribute("aria-disabled",c.toString()),this._zoomOutButton.setAttribute("aria-disabled",h.toString())},this._rotateCompassArrow=()=>{const r=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=r},this._setButtonTitle=(r,c)=>{const h=this._map._getUIString(`NavigationControl.${c}`);r.title=h,r.setAttribute("aria-label",h)},this.options=u.e({},oc,g),this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",r=>r.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",r=>this._map.zoomIn({},{originalEvent:r})),S.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",r=>this._map.zoomOut({},{originalEvent:r})),S.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",r=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:r}):this._map.resetNorth({},{originalEvent:r})}),this._compassIcon=S.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(g){return this._map=g,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ac(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){S.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(g,r){const c=S.create("button",g,this._container);return c.type="button",c.addEventListener("click",r),c}},tn.GeolocateControl=class extends u.E{constructor(g){super(),this._onSuccess=r=>{if(this._map){if(this._isOutOfMapMaxBounds(r))return this._setErrorState(),this.fire(new u.k("outofmaxbounds",r)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=r,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(r),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(r),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new u.k("geolocate",r)),this._finish()}},this._updateCamera=r=>{const c=new u.L(r.coords.longitude,r.coords.latitude),h=r.coords.accuracy,m=this._map.getBearing(),_=u.e({bearing:m},this.options.fitBoundsOptions),w=ut.fromLngLat(c,h);this._map.fitBounds(w,_,{geolocateSource:!0})},this._updateMarker=r=>{if(r){const c=new u.L(r.coords.longitude,r.coords.latitude);this._accuracyCircleMarker.setLngLat(c).addTo(this._map),this._userLocationDotMarker.setLngLat(c).addTo(this._map),this._accuracy=r.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=r=>{if(this._map){if(this.options.trackUserLocation)if(r.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(r.code===3&&cs)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new u.k("error",r)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=r=>{if(this._map){if(this._container.addEventListener("contextmenu",c=>c.preventDefault()),this._geolocateButton=S.create("button","maplibregl-ctrl-geolocate",this._container),S.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",r===!1){u.w("Geolocation support is not available so the GeolocateControl will be disabled.");const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c)}else{const c=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=S.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Ma({element:this._dotElement}),this._circleElement=S.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ma({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",c=>{c.geolocateSource||this._watchState!=="ACTIVE_LOCK"||c.originalEvent&&c.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new u.k("trackuserlocationend")))})}},this.options=u.e({},Rn,g)}onAdd(g){return this._map=g,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(r,c=!1){Wn===void 0||c?window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(h=>{Wn=h.state!=="denied",r(Wn)}).catch(()=>{Wn=!!window.navigator.geolocation,r(Wn)}):(Wn=!!window.navigator.geolocation,r(Wn)):r(Wn)}(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),S.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Tn=0,cs=!1}_isOutOfMapMaxBounds(g){const r=this._map.getMaxBounds(),c=g.coords;return r&&(c.longitude<r.getWest()||c.longitude>r.getEast()||c.latitude<r.getSouth()||c.latitude>r.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const g=this._map.getBounds(),r=g.getSouthEast(),c=g.getNorthEast(),h=r.distanceTo(c),m=Math.ceil(this._accuracy/(h/this._map._container.clientHeight)*2);this._circleElement.style.width=`${m}px`,this._circleElement.style.height=`${m}px`}trigger(){if(!this._setup)return u.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new u.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Tn--,cs=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new u.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new u.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let g;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Tn++,Tn>1?(g={maximumAge:6e5,timeout:0},cs=!0):(g=this.options.positionOptions,cs=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,g)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},tn.AttributionControl=hi,tn.LogoControl=vn,tn.ScaleControl=class{constructor(g){this._onMove=()=>{ul(this._map,this._container,this.options)},this.setUnit=r=>{this.options.unit=r,ul(this._map,this._container,this.options)},this.options=u.e({},ll,g)}getDefaultPosition(){return"bottom-left"}onAdd(g){return this._map=g,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-scale",g.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){S.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},tn.FullscreenControl=class extends u.E{constructor(g={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,g&&g.container&&(g.container instanceof HTMLElement?this._container=g.container:u.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(g){return this._map=g,this._container||(this._container=this._map.getContainer()),this._controlContainer=S.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){S.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const g=this._fullscreenButton=S.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);S.create("span","maplibregl-ctrl-icon",g).setAttribute("aria-hidden","true"),g.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const g=this._getTitle();this._fullscreenButton.setAttribute("aria-label",g),this._fullscreenButton.title=g}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new u.k("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new u.k("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},tn.TerrainControl=class{constructor(g){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=g}onAdd(g){return this._map=g,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=S.create("button","maplibregl-ctrl-terrain",this._container),S.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){S.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},tn.Popup=class extends u.E{constructor(g){super(),this.remove=()=>(this._content&&S.remove(this._content),this._container&&(S.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new u.k("close")),this),this._onMouseUp=r=>{this._update(r.point)},this._onMouseMove=r=>{this._update(r.point)},this._onDrag=r=>{this._update(r.point)},this._update=r=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=S.create("div","maplibregl-popup",this._map.getContainer()),this._tip=S.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const w of this.options.className.split(" "))this._container.classList.add(w);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=sc(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!r)return;const c=this._pos=this._trackPointer&&r?r:this._map.project(this._lngLat);let h=this.options.anchor;const m=ds(this.options.offset);if(!h){const w=this._container.offsetWidth,C=this._container.offsetHeight;let k;k=c.y+m.bottom.y<C?["top"]:c.y>this._map.transform.height-C?["bottom"]:[],c.x<w/2?k.push("left"):c.x>this._map.transform.width-w/2&&k.push("right"),h=k.length===0?"bottom":k.join("-")}const _=c.add(m[h]).round();S.setTransform(this._container,`${Di[h]} translate(${_.x}px,${_.y}px)`),Th(this._container,h,"popup")},this._onClose=()=>{this.remove()},this.options=u.e(Object.create(lc),g)}addTo(g){return this._map&&this.remove(),this._map=g,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new u.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(g){return this._lngLat=u.L.convert(g),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(g){return this.setDOMContent(document.createTextNode(g))}setHTML(g){const r=document.createDocumentFragment(),c=document.createElement("body");let h;for(c.innerHTML=g;h=c.firstChild,h;)r.appendChild(h);return this.setDOMContent(r)}getMaxWidth(){var g;return(g=this._container)===null||g===void 0?void 0:g.style.maxWidth}setMaxWidth(g){return this.options.maxWidth=g,this._update(),this}setDOMContent(g){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=S.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(g),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(g){this._container&&this._container.classList.add(g)}removeClassName(g){this._container&&this._container.classList.remove(g)}setOffset(g){return this.options.offset=g,this._update(),this}toggleClassName(g){if(this._container)return this._container.classList.toggle(g)}_createCloseButton(){this.options.closeButton&&(this._closeButton=S.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const g=this._container.querySelector(uc);g&&g.focus()}},tn.Marker=Ma,tn.Style=vr,tn.LngLat=u.L,tn.LngLatBounds=ut,tn.Point=u.P,tn.MercatorCoordinate=u.U,tn.Evented=u.E,tn.AJAXError=u.bh,tn.config=u.c,tn.CanvasSource=Mr,tn.GeoJSONSource=er,tn.ImageSource=Nn,tn.RasterDEMTileSource=ln,tn.RasterTileSource=qt,tn.VectorTileSource=Xt,tn.VideoSource=nr,tn.setRTLTextPlugin=u.bi,tn.getRTLTextPluginStatus=u.bj,tn.prewarm=function(){Ya().acquire(Zt)},tn.clearPrewarmedResources=function(){const g=Vi;g&&(g.isPreloaded()&&g.numActive()===1?(g.release(Zt),Vi=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},cc.extend(tn,{isSafari:u.ac,getPerformanceMetrics:u.bf.getPerformanceMetrics}),tn});var y=l;return y})})(y_);var Yk=y_.exports;const Qk=F4(Yk),eA="FeatureCollection",tA="buildings",nA={type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},rA=[{type:"Feature",properties:{fid:20156,osm_id:"77649044",id:2,"Current Name (DE)":"Katholische Pfarrkirche St. Anna","Current Name (Eng)":"Catholic parish church of St. Anna","Previous Name":null,Address:"St.-Anna-Straße 21A, 80538 München","Starting year":1887,"Completion year/Opening year":"1892","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:"Brick building, https://www.erzbistum-muenchen.de/pfarrei/st-anna-muenchen/cont/64345",Website:"https://www.pfarrei-st-anna.de/startseite.html","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/pfarrkirche-st-anna","Wikipedia page":"https://de.wikipedia.org/wiki/St._Anna_im_Lehel","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gabriel von Seidls",Status:null,AddressM:"St.-Anna-Straße 21A, 80538 München, Munich",Latitude:48.1403308,Longitude:11.5872645,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5878303,48.1403221],[11.5878472,48.1403122],[11.5878584,48.1402996],[11.5878661,48.1402776],[11.5877887,48.1402506],[11.5877567,48.1402725],[11.5877404,48.1402694],[11.5877406,48.14026],[11.5877378,48.1402542],[11.5877296,48.1402489],[11.5876882,48.1402419],[11.5876852,48.1402508],[11.5876748,48.1402492],[11.5876668,48.1402349],[11.5876578,48.1402276],[11.5876441,48.1402225],[11.5876275,48.1402204],[11.5876115,48.1402219],[11.5875971,48.1402261],[11.5875829,48.1402347],[11.5875479,48.1402298],[11.5875377,48.1402627],[11.587351,48.1402368],[11.5872762,48.1402264],[11.5871818,48.1402133],[11.5871214,48.1402049],[11.5871281,48.1401812],[11.5870934,48.1401762],[11.587076,48.1401544],[11.587037,48.1401497],[11.5870095,48.1401642],[11.5869769,48.1401595],[11.5869551,48.1402414],[11.5868742,48.1403744],[11.5869139,48.1403895],[11.5869074,48.1404064],[11.5869415,48.1404114],[11.5869501,48.1404269],[11.5869908,48.1404324],[11.5870118,48.1404218],[11.5870551,48.1404282],[11.5870619,48.140405],[11.5874772,48.1404629],[11.5874679,48.1404923],[11.5874968,48.1404964],[11.587503,48.1405096],[11.5875142,48.1405195],[11.5875288,48.1405259],[11.5875432,48.1405285],[11.5875587,48.1405275],[11.587571,48.140524],[11.5875801,48.1405193],[11.5875919,48.1405094],[11.5876331,48.1405157],[11.5876499,48.1405115],[11.5876655,48.1405041],[11.5876748,48.1404966],[11.5876837,48.1404855],[11.5877062,48.1404876],[11.5877253,48.1404879],[11.5877493,48.1404867],[11.5877726,48.1404823],[11.5877907,48.1404773],[11.5878079,48.140471],[11.5878237,48.1404613],[11.5878393,48.1404499],[11.5878505,48.1404378],[11.5878597,48.1404236],[11.5878664,48.1404091],[11.5878697,48.14039],[11.5878687,48.1403766],[11.5878636,48.1403602],[11.5878554,48.1403472],[11.5878457,48.140335],[11.5878303,48.1403221]]]]}},{type:"Feature",properties:{fid:446,osm_id:"4270033",id:3,"Current Name (DE)":"Bayerisches Nationalmuseum","Current Name (Eng)":"Bavarian National Museum","Previous Name":null,Address:"Prinzregentenstraße 3","Starting year":null,"Completion year/Opening year":"1855","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:null,Website:"https://www.bayerisches-nationalmuseum.de/en/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/museen/bayerisches-nationalmuseum","Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gabriel von Seidl",Status:null,AddressM:"Prinzregentenstraße 3, Munich",Latitude:48.1429764,Longitude:11.5909426,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5895521,48.1432091],[11.5896512,48.1431887],[11.5897167,48.1433328],[11.589702,48.1433589],[11.5897295,48.1434252],[11.5896822,48.1434486],[11.5896689,48.143474],[11.5896729,48.1434975],[11.5896954,48.1435209],[11.5897246,48.1435328],[11.5897855,48.1435319],[11.5898127,48.1435936],[11.5898372,48.1436066],[11.5899284,48.1435903],[11.5899446,48.1435707],[11.5900928,48.1435392],[11.5901238,48.1436033],[11.5906219,48.1435012],[11.5906643,48.1435254],[11.5907628,48.1437429],[11.5916716,48.1435369],[11.5924374,48.1433638],[11.5923505,48.1432297],[11.5923831,48.1432189],[11.5923234,48.143118],[11.5922863,48.1431277],[11.5921784,48.1429485],[11.5919465,48.1429958],[11.5919017,48.1429061],[11.5919162,48.1428819],[11.5919107,48.142856],[11.591881,48.1428452],[11.5922468,48.1427681],[11.5921328,48.142503],[11.5919251,48.1425513],[11.5920025,48.142729],[11.5915989,48.1428144],[11.5916765,48.1429853],[11.5916429,48.1430057],[11.5916257,48.143025],[11.5916338,48.1430438],[11.5915705,48.1430534],[11.5915533,48.1430486],[11.5915243,48.143048],[11.591509,48.1430595],[11.5915072,48.1430806],[11.5914447,48.1430951],[11.5914311,48.14308],[11.5913986,48.1430703],[11.5913651,48.143077],[11.5913434,48.1430981],[11.5913352,48.1431192],[11.5911965,48.1431484],[11.5911398,48.143025],[11.5911805,48.1430063],[11.5911832,48.1429743],[11.5911597,48.1429532],[11.5911208,48.1429441],[11.591035,48.1429634],[11.5910212,48.1429323],[11.5909462,48.1429486],[11.5908713,48.1429649],[11.5908895,48.1430054],[11.5908647,48.1430124],[11.5908556,48.1430166],[11.5908131,48.143016],[11.5907914,48.1430299],[11.5907887,48.1430534],[11.5908122,48.1430727],[11.5908538,48.1430715],[11.5908837,48.1430564],[11.590936,48.1431622],[11.590901,48.1431691],[11.5909425,48.1432636],[11.5903481,48.1433831],[11.5902879,48.1432516],[11.5902863,48.1431995],[11.5902488,48.1431799],[11.5901918,48.1431821],[11.5901576,48.1432147],[11.5900615,48.1432364],[11.5900257,48.1432223],[11.5899752,48.1432212],[11.5899394,48.1432484],[11.5899378,48.1432777],[11.5899713,48.1433074],[11.5898742,48.1433264],[11.5898385,48.143333],[11.5897971,48.1433141],[11.5896801,48.1430738],[11.5896594,48.1430679],[11.5896349,48.1430727],[11.5896223,48.1430812],[11.5896178,48.1430921],[11.5895097,48.1431161],[11.5894775,48.1430454],[11.589328,48.1430757],[11.589347,48.1431173],[11.5892237,48.1431424],[11.5890983,48.1431678],[11.5890794,48.1431263],[11.5889242,48.1431578],[11.5889459,48.1432054],[11.588891,48.1432166],[11.5889246,48.1432902],[11.5889807,48.1432788],[11.5890049,48.1433318],[11.5890186,48.143329],[11.5891597,48.1433004],[11.5891532,48.1432862],[11.5893952,48.143237],[11.5894031,48.1432544],[11.5895584,48.1432229],[11.5895521,48.1432091]],[[11.5917489,48.143441],[11.5916474,48.1432214],[11.5917777,48.1431924],[11.5918121,48.1432105],[11.5918537,48.143202],[11.5918809,48.1431779],[11.5919388,48.1431622],[11.5919605,48.1431803],[11.5919877,48.14319],[11.5920058,48.1431924],[11.5921107,48.1433542],[11.5920564,48.1433699],[11.5920365,48.1433651],[11.5920175,48.1433678],[11.5920073,48.1433747],[11.5919951,48.1433879],[11.5917489,48.143441]],[[11.5909525,48.1436162],[11.5908891,48.1434689],[11.5914357,48.1433578],[11.5915045,48.1434931],[11.5909525,48.1436162]],[[11.5899105,48.1435007],[11.5900562,48.1434714],[11.590011,48.1433712],[11.5898653,48.1434005],[11.5899105,48.1435007]]]]}},{type:"Feature",properties:{fid:443,osm_id:"4192267",id:4,"Current Name (DE)":"Archäologische Staatssammlung","Current Name (Eng)":"Bavarian State Archaeological Collection","Previous Name":"State Prehistoric Collection",Address:"Lerchenfeldstraße 2","Starting year":null,"Completion year/Opening year":"1885","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:"1976",Moved:null,Type:"building",Function:"art and culture",Description:null,Website:"http://www.archaeologie-bayern.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/museen/archaeologische-staatssammlung","Wikipedia page":null,"Owner/Initiator/Commissioned by":"Johannes Ranke (1885), Hans-Jörg Kellner (1976)","Architect/Artist/Author":"Helmut von Werz, Johann-Christoph Ottow, Erhard Bachmann and Michel Marx (1976)",Status:null,AddressM:"Lerchenfeldstraße 2, Munich",Latitude:48.1441432,Longitude:11.5915101,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5917597,48.1443342],[11.5917186,48.1443435],[11.5913742,48.1444188],[11.5913,48.1442678],[11.5912705,48.1442094],[11.5910953,48.1442488],[11.591044,48.1441471],[11.5910853,48.1441379],[11.5910762,48.14412],[11.5909249,48.144154],[11.5908683,48.144042],[11.5908125,48.1440546],[11.5907606,48.1439517],[11.5909294,48.1439137],[11.5909014,48.1438582],[11.5910517,48.1438244],[11.5911063,48.1439326],[11.5911963,48.1439123],[11.5912474,48.1440133],[11.5914003,48.1439789],[11.5914168,48.1440116],[11.5915783,48.1439753],[11.5917597,48.1443342]],[[11.5914849,48.1442591],[11.5914489,48.1441833],[11.5914996,48.1441726],[11.5915356,48.1442484],[11.5914849,48.1442591]]]]}},{type:"Feature",properties:{fid:66488,osm_id:"130469169",id:5,"Current Name (DE)":"Haus der Kunst","Current Name (Eng)":"House of Art","Previous Name":null,Address:"Prinzregentenstraße 1, 80538 München","Starting year":1933,"Completion year/Opening year":"1937","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:null,Website:"https://hausderkunst.de/en","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Haus_der_Kunst","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Paul Ludwig Troost",Status:null,AddressM:"Prinzregentenstraße 1, 80538 München, Munich",Latitude:48.1453678,Longitude:11.58586,Period:5},geometry:{type:"MultiPolygon",coordinates:[[[[11.585808,48.1454046],[11.5859126,48.145426],[11.5859162,48.1454181],[11.5859244,48.1454198],[11.5859312,48.1454047],[11.5859596,48.1454105],[11.585971,48.1453856],[11.5859933,48.1453369],[11.5858359,48.1453047],[11.5858203,48.1453389],[11.5857935,48.1453334],[11.5857701,48.1453848],[11.585813,48.1453936],[11.585808,48.1454046]]]]}},{type:"Feature",properties:{fid:1641,osm_id:"25503951",id:6,"Current Name (DE)":"Prinz-Carl-Palais","Current Name (Eng)":"Prince Carl Palace","Previous Name":null,Address:"Franz-Josef-Strauß-Ring 5, 80539 München","Starting year":1804,"Completion year/Opening year":"1806","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"palace",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Prinz-Carl-Palais_(München)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Karl von Fischer",Status:null,AddressM:"Franz-Josef-Strauß-Ring 5, 80539 München, Munich",Latitude:48.1442146,Longitude:11.5830924,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5827655,48.1441094],[11.5829361,48.1440718],[11.582999,48.1440579],[11.5829898,48.1440393],[11.5832359,48.1439849],[11.5832737,48.1440612],[11.583324,48.1440501],[11.5833574,48.1441175],[11.5833862,48.1441755],[11.5833212,48.1441899],[11.5833514,48.1442507],[11.5831087,48.1443043],[11.5830994,48.1442856],[11.5828839,48.1443332],[11.5828791,48.1443235],[11.5828532,48.1442714],[11.582805,48.144282],[11.5827546,48.1441805],[11.5827962,48.1441713],[11.5827655,48.1441094]]]]}},{type:"Feature",properties:{fid:9,osm_id:"20948",id:8,"Current Name (DE)":"Münchner Residenz","Current Name (Eng)":"Munich Residence","Previous Name":"Neuveste",Address:"Residenzstraße 1, 80333 München","Starting year":null,"Completion year/Opening year":"1385","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":"1470, 1568-1571, 1586-1600, 1612-1617 (...) 1826-1835",Rebuilt:null,Moved:null,Type:"building",Function:"palace",Description:"Built around the historical Neuveste palace. Is the largest city palace in Germany. ",Website:"www.residenz-muenchen.de","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/museen/residenz","Wikipedia page":"https://de.wikipedia.org/wiki/M%C3%BCnchner_Residenz","Owner/Initiator/Commissioned by":"Township of Munich (1385), Ludwig I (1826-1835)","Architect/Artist/Author":"Leo von Klenze (1826-1835)",Status:null,AddressM:"Residenzstraße 1, 80333 München, Munich",Latitude:48.1414477,Longitude:11.5778316,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5801888,48.1405586],[11.5801252,48.1405709],[11.5797146,48.14065],[11.5796925,48.1406002],[11.5796578,48.1406069],[11.5796196,48.1406143],[11.5797285,48.1408685],[11.5797476,48.1408667],[11.5797729,48.1408642],[11.5802779,48.1407663],[11.580365,48.1409672],[11.5804332,48.1411249],[11.5804637,48.1411967],[11.5804711,48.1412137],[11.5804805,48.1412353],[11.5804854,48.1412464],[11.5805675,48.1414292],[11.5807829,48.1413856],[11.5807705,48.1413584],[11.5810202,48.1413102],[11.5810472,48.1413724],[11.5811294,48.141562],[11.5808844,48.1416098],[11.5808742,48.1415866],[11.5804017,48.1416793],[11.5800178,48.1417511],[11.5800259,48.1417745],[11.5798064,48.1418187],[11.5798347,48.1418836],[11.5795347,48.1419415],[11.5792307,48.1419979],[11.5792066,48.1419398],[11.5789883,48.1419797],[11.5789729,48.1419497],[11.5781073,48.1421236],[11.5781121,48.1421345],[11.5779918,48.1421597],[11.5779712,48.142164],[11.5778681,48.1421857],[11.5778327,48.1420155],[11.5777749,48.1417379],[11.577758,48.14167],[11.5777176,48.1414973],[11.5776624,48.141261],[11.5775796,48.1408764],[11.5775582,48.1407772],[11.5774898,48.1404716],[11.5778603,48.1403933],[11.5784545,48.1402679],[11.5790754,48.1401478],[11.579155,48.1403396],[11.5793453,48.1403044],[11.5794308,48.1402886],[11.5800475,48.1401747],[11.5800965,48.1403404],[11.5801363,48.1404337],[11.5801888,48.1405586]],[[11.5789032,48.1417958],[11.5781659,48.1419472],[11.578045,48.1416739],[11.5779178,48.1414125],[11.5783047,48.1413397],[11.5786601,48.1412672],[11.57878,48.1415276],[11.5789032,48.1417958]],[[11.5777511,48.1408404],[11.5777085,48.1407511],[11.5776707,48.1406489],[11.5779485,48.140591],[11.5784828,48.1404797],[11.5785306,48.1405785],[11.5785718,48.1406693],[11.5784227,48.1407037],[11.5783989,48.1407092],[11.5777511,48.1408404]],[[11.5778232,48.1411931],[11.5785441,48.1410397],[11.5785674,48.1410354],[11.5785832,48.1410739],[11.5786134,48.1411409],[11.5782472,48.1412136],[11.5778432,48.1412946],[11.5778308,48.1412306],[11.5778232,48.1411931]],[[11.5790561,48.1417506],[11.5789404,48.1414973],[11.5788257,48.1412629],[11.5788507,48.1412575],[11.5788724,48.1412528],[11.5790014,48.1412319],[11.579859,48.1410621],[11.5801161,48.1410123],[11.5802237,48.1412651],[11.5802336,48.141288],[11.5803202,48.1414842],[11.5797088,48.141612],[11.5792026,48.1417171],[11.5791208,48.1417341],[11.5790684,48.1417441],[11.5790561,48.1417506]],[[11.5789278,48.1411585],[11.5788081,48.1411046],[11.5787744,48.141034],[11.5787544,48.1409919],[11.5791785,48.140478],[11.5792789,48.1404562],[11.579357,48.1404392],[11.5794236,48.1404636],[11.5794894,48.1404876],[11.5795143,48.1405526],[11.5795353,48.1406072],[11.5791127,48.1411232],[11.5789738,48.14115],[11.5789278,48.1411585]],[[11.5786238,48.1407643],[11.5786606,48.140865],[11.5787644,48.1407342],[11.5786238,48.1407643]],[[11.578688,48.1406611],[11.5788256,48.1406309],[11.5790129,48.1403692],[11.5788013,48.1404133],[11.5788089,48.1404311],[11.5787124,48.140453],[11.5787284,48.1404865],[11.5787697,48.1404781],[11.5787879,48.1405198],[11.5788031,48.1405545],[11.5787561,48.1405638],[11.5787729,48.1406025],[11.5786707,48.1406236],[11.578688,48.1406611]],[[11.578553,48.1410025],[11.5784762,48.1408379],[11.5784477,48.1408437],[11.5780839,48.1409179],[11.5781595,48.1410828],[11.5785255,48.1410082],[11.578553,48.1410025]]]]}},{type:"Feature",properties:{fid:1044,osm_id:"23458583",id:11,"Current Name (DE)":"Bayerische Staatsoper","Current Name (Eng)":"Bavarian State Opera","Previous Name":null,Address:"Max-Joseph-Platz 2","Starting year":null,"Completion year/Opening year":"1818","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":"1925",Rebuilt:"1825, 1963",Moved:null,Type:"building",Function:"theatre",Description:null,Website:"https://www.staatsoper.de/","Muenchen.de":null,"Wikipedia page":"https://en.wikipedia.org/wiki/National_Theatre_(Munich)","Owner/Initiator/Commissioned by":"King Maximilian I of Bavaria","Architect/Artist/Author":"Karl von Fischer (1818), Leo von Klenze (1825), Gerhard Moritz Graubner (1963)",Status:null,AddressM:"Max-Joseph-Platz 2, Munich",Latitude:48.1394402,Longitude:11.5797847,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5789856,48.1399313],[11.5789247,48.1399434],[11.5788879,48.1398565],[11.5787977,48.1398735],[11.5787298,48.1397131],[11.578665,48.1395598],[11.5787538,48.139543],[11.5787153,48.1394521],[11.5801536,48.139181],[11.5803616,48.1396726],[11.5802945,48.1396852],[11.5793353,48.1398666],[11.5789856,48.1399313]]]]}},{type:"Feature",properties:{fid:150042,osm_id:"366512581",id:13,"Current Name (DE)":"Salvatorgarage","Current Name (Eng)":null,"Previous Name":null,Address:"Salvatorplatz 3, 80333 München","Starting year":1964,"Completion year/Opening year":"1965","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"garage",Description:null,Website:"https://www.archdaily.com/312122/salvartor-car-park-peter-haimerel-architektur","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Salvatorgarage","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Peter Haimerel Architektur",Status:null,AddressM:"Salvatorplatz 3, 80333 München, Munich",Latitude:48.141908,Longitude:11.5744683,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5744612,48.1421282],[11.5745078,48.1421346],[11.5745823,48.1421263],[11.5746257,48.1421182],[11.5744489,48.1416951],[11.5744185,48.1417008],[11.5744142,48.1416905],[11.5744086,48.1416769],[11.5743393,48.1416898],[11.5743106,48.1416952],[11.5742836,48.1417002],[11.5744612,48.1421282]]]]}},{type:"Feature",properties:{fid:25535,osm_id:"91268699",id:14,"Current Name (DE)":"143 Fünf Höfe","Current Name (Eng)":"Five Courtyards for the Munich City Centre","Previous Name":null,Address:"Theatinerstraße 15, 80333 München","Starting year":1999,"Completion year/Opening year":"2003","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"shopping mall",Description:"https://www.herzogdemeuron.com/projects/143-funf-hofe-five-courtyards-for-the-munich-city-centre/",Website:"https://fuenfhoefe.de/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/F%C3%BCnf_H%C3%B6fe","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Herzog & de Meuron",Status:null,AddressM:"Theatinerstraße 15, 80333 München, Munich",Latitude:48.1409094,Longitude:11.5764595,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.576181,48.1411523],[11.5765482,48.1410618],[11.576506,48.1409774],[11.5764168,48.1407968],[11.5761966,48.1408467],[11.5762467,48.1409509],[11.5762508,48.1409594],[11.5761036,48.1409977],[11.5761032,48.1410236],[11.576181,48.1411523]]]]}},{type:"Feature",properties:{fid:73,osm_id:"147095",id:16,"Current Name (DE)":"Neues Rathaus","Current Name (Eng)":"New Town Hall","Previous Name":null,Address:"Marienplatz 8, 80331 München","Starting year":null,"Completion year/Opening year":"1857","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"administrative",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Neues_Rathaus_(München)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Georg von Hauberrisser",Status:null,AddressM:"Marienplatz 8, 80331 München, Munich",Latitude:48.1372385,Longitude:11.5761905,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5754195,48.1383103],[11.5755887,48.1382736],[11.5760474,48.1381731],[11.5763261,48.1381123],[11.5764367,48.1380877],[11.5767122,48.1380245],[11.5767133,48.1380265],[11.5768539,48.1379937],[11.5767854,48.1378921],[11.5767707,48.1378951],[11.5766284,48.1376742],[11.5766075,48.1376331],[11.5765727,48.137641],[11.5764491,48.1374166],[11.5764181,48.1373579],[11.5763704,48.1372674],[11.5762951,48.1372851],[11.5762278,48.1373009],[11.5761605,48.1373167],[11.5761353,48.1373226],[11.57611,48.1373286],[11.5760849,48.1373345],[11.5760596,48.1373404],[11.5760344,48.1373463],[11.5760091,48.1373522],[11.5759838,48.1373582],[11.5759582,48.1373631],[11.5758903,48.1373777],[11.5758224,48.1373923],[11.5757554,48.1374067],[11.5756911,48.1374206],[11.5756278,48.1374342],[11.5755644,48.1374478],[11.5755606,48.1374397],[11.5755656,48.1374371],[11.5755666,48.137432],[11.575562,48.1374281],[11.5755544,48.1374274],[11.5755483,48.1374305],[11.5755475,48.1374349],[11.5754791,48.1374492],[11.5754099,48.1374635],[11.5754051,48.1374593],[11.5753975,48.1374587],[11.5753915,48.1374618],[11.5753906,48.1374669],[11.5753954,48.137471],[11.5754032,48.1374714],[11.5754083,48.1374818],[11.5753391,48.1374964],[11.5751316,48.1375401],[11.575137,48.137557],[11.5751334,48.1375602],[11.5751214,48.1375551],[11.5751075,48.1375572],[11.5750997,48.137566],[11.5751028,48.1375744],[11.5751148,48.1375796],[11.5751196,48.1375922],[11.5751353,48.1376335],[11.5751646,48.1377104],[11.5752195,48.1378545],[11.575241,48.1379109],[11.5752698,48.1379865],[11.5753037,48.1380755],[11.5754195,48.1383103]],[[11.5761988,48.137533],[11.5763387,48.1375019],[11.5763121,48.1374487],[11.576173,48.1374814],[11.5761988,48.137533]],[[11.5762764,48.138018],[11.5763903,48.1379924],[11.5765672,48.1379523],[11.5765482,48.1379149],[11.5765618,48.1379118],[11.5766046,48.1379021],[11.5765872,48.1378679],[11.576354,48.1379176],[11.5762437,48.1379403],[11.5762764,48.138018]],[[11.5761037,48.1378752],[11.5761834,48.1378588],[11.5763096,48.137829],[11.5764775,48.1377906],[11.5764639,48.1377638],[11.5764983,48.1377559],[11.5764478,48.1376568],[11.5760054,48.137758],[11.5760532,48.137861],[11.5760933,48.1378527],[11.5761037,48.1378752]],[[11.5753937,48.1376517],[11.5753762,48.1376773],[11.575423,48.1377854],[11.5754723,48.137778],[11.5755203,48.137801],[11.5755319,48.1378333],[11.5755047,48.1378667],[11.5754561,48.1378748],[11.5754781,48.1379449],[11.5754862,48.1379706],[11.5755516,48.1379568],[11.5755469,48.1379468],[11.5757893,48.1378955],[11.5757924,48.1379089],[11.5758986,48.137887],[11.5758611,48.1378061],[11.575816,48.1378155],[11.5758087,48.1378002],[11.5757268,48.1376398],[11.5757598,48.1376314],[11.5757425,48.1376008],[11.5756418,48.1376262],[11.5756287,48.1376013],[11.5755567,48.1376167],[11.5753937,48.1376517]],[[11.5760016,48.1380698],[11.5759694,48.1380019],[11.5758781,48.1380212],[11.5759116,48.1380918],[11.5760016,48.1380698]],[[11.575862,48.1376088],[11.5759435,48.1375902],[11.5759863,48.1375804],[11.5759702,48.137549],[11.5760197,48.1375377],[11.5760362,48.1375698],[11.5761126,48.1375524],[11.5760866,48.1375017],[11.5758362,48.1375604],[11.575862,48.1376088]]]]}},{type:"Feature",properties:{fid:162461,osm_id:"858537733",id:20,"Current Name (DE)":"BEYOND","Current Name (Eng)":"BEYOND","Previous Name":null,Address:"Marienplatz 22","Starting year":null,"Completion year/Opening year":"2017","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"hotel",Description:"luxury hotel",Website:"https://www.beyond-muc.de/","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":"Geisel","Architect/Artist/Author":"Jung Schalksmühle",Status:null,AddressM:"Marienplatz 22, Munich",Latitude:48.1368649,Longitude:11.5752684,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5753462,48.1366348],[11.5753511,48.1366387],[11.5754923,48.1367641],[11.5755181,48.1367901],[11.5755844,48.1368569],[11.5756248,48.1369071],[11.5753195,48.1370081],[11.5751035,48.1367961],[11.5752079,48.1367596],[11.5751614,48.1367186],[11.575159,48.1367151],[11.5753462,48.1366348]]]]}},{type:"Feature",properties:{fid:22043,osm_id:"80965569",id:21,"Current Name (DE)":"Munich Frauenkirche","Current Name (Eng)":"Cathedral of Our Dear Lady","Previous Name":null,Address:"Frauenplatz 12, 80331 München","Starting year":1468,"Completion year/Opening year":"1525","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/int/en/sights/churches/cathedral-church-of-our-lady.html","Wikipedia page":"https://de.wikipedia.org/wiki/Frauenkirche_(München)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Jörg von Halsbach",Status:null,AddressM:"Frauenplatz 12, 80331 München, Munich",Latitude:48.1388456,Longitude:11.5744983,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5746462,48.1388908],[11.5746369,48.138857],[11.5746231,48.1388139],[11.5743108,48.1388432],[11.5743142,48.1389118],[11.5743566,48.1389115],[11.5745138,48.138895],[11.5745176,48.1389336],[11.5746332,48.1389231],[11.5746279,48.1388931],[11.5746462,48.1388908]]]]}},{type:"Feature",properties:{fid:1764,osm_id:"26558561",id:22,"Current Name (DE)":"Landgericht München I - Abteilung für Zivilsachen","Current Name (Eng)":"Munich Regional Court I - Civil Division","Previous Name":null,Address:"Lenbachpl. 7, 80333 München","Starting year":null,"Completion year/Opening year":"1897","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"administrative",Description:null,Website:"https://www.justiz.bayern.de/gerichte-und-behoerden/landgericht/muenchen-1/historie.php","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich von Thiersch",Status:null,AddressM:"Lenbachpl. 7, 80333 München, Munich",Latitude:48.1405799,Longitude:11.5689894,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5687767,48.1407078],[11.569241,48.1406326],[11.5692172,48.1405655],[11.5691582,48.140405],[11.5686938,48.1404802],[11.5687352,48.1405928],[11.5687767,48.1407078]]]]}},{type:"Feature",properties:{fid:6874,osm_id:"36943165",id:23,"Current Name (DE)":"Jesuitenkirche St. Michael","Current Name (Eng)":"St. Michael's Church","Previous Name":null,Address:"Neuhauser Str. 6, 80333 München","Starting year":1583,"Completion year/Opening year":"1597","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/St._Michael_(München)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich Sustris + Wendel Dietrich",Status:null,AddressM:"Neuhauser Str. 6, 80333 München, Munich",Latitude:48.1389018,Longitude:11.5703979,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5706937,48.139331],[11.5707075,48.1393267],[11.5707677,48.1392605],[11.5707516,48.1391864],[11.5707912,48.1391779],[11.5707302,48.1390579],[11.5706097,48.1388207],[11.570463,48.1385321],[11.5702538,48.1385797],[11.5700235,48.1386322],[11.5700985,48.1387773],[11.5702292,48.1390325],[11.5702841,48.1391368],[11.5703567,48.1392861],[11.5704144,48.1392725],[11.5704582,48.1393319],[11.5705747,48.1393584],[11.5706937,48.139331]]]]}},{type:"Feature",properties:{fid:118565,osm_id:"242652749",id:24,"Current Name (DE)":"Joseph Pschorr Haus","Current Name (Eng)":"Joseph Pschorr House","Previous Name":null,Address:"Neuhauser Str. 19, 80331 München","Starting year":null,"Completion year/Opening year":"2013","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"commerce",Description:null,Website:"https://www.archdaily.com/590984/joseph-pschorr-house-kuehn-malvezzi","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Kuehn Malvezzi",Status:null,AddressM:"Neuhauser Str. 19, 80331 München, Munich",Latitude:48.13832,Longitude:11.56985,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5692564,48.137821],[11.5692784,48.1379083],[11.5693943,48.1383479],[11.5695477,48.1383416],[11.569753,48.1383331],[11.5699346,48.138324],[11.5701415,48.1383031],[11.5701069,48.1381359],[11.5700859,48.1380821],[11.5699952,48.1378503],[11.569964,48.1377675],[11.5699267,48.137675],[11.5692564,48.137821]]]]}},{type:"Feature",properties:{fid:288,osm_id:"1665185",id:25,"Current Name (DE)":"Sendlinger Tor","Current Name (Eng)":"Sendling Gate","Previous Name":null,Address:"Sendlinger-Tor-Platz 1, 80336 München","Starting year":null,"Completion year/Opening year":"1318","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":"1420, 1860, 1906",Rebuilt:null,Moved:null,Type:"building",Function:"gates",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/int/en/sights/attractions/sendlinger-tor.html","Wikipedia page":"https://de.wikipedia.org/wiki/Sendlinger_Tor","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Arnold Zenetti(1860),  Wilhelm Bertsch (1906)",Status:null,AddressM:"Sendlinger-Tor-Platz 1, 80336 München, Munich",Latitude:48.1332271,Longitude:11.5674429,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5674921,48.1335113],[11.5677979,48.1330316],[11.5678166,48.133004],[11.5678403,48.1329679],[11.5673306,48.1328236],[11.5669875,48.1333641],[11.567019,48.1333733],[11.5670443,48.1333807],[11.5674921,48.1335113]],[[11.5670228,48.1333463],[11.5670461,48.1333529],[11.5670838,48.1332949],[11.5670604,48.1332884],[11.5670228,48.1333463]],[[11.5674429,48.1329386],[11.5676568,48.1330001],[11.5675272,48.1332113],[11.5673134,48.1331498],[11.5674429,48.1329386]]]]}},{type:"Feature",properties:{fid:12780,osm_id:"47515468",id:26,"Current Name (DE)":"Asamkirche","Current Name (Eng)":"Asam Church","Previous Name":null,Address:"Sendlinger Straße 32","Starting year":1733,"Completion year/Opening year":"1746","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church dedicated to St. John of Nepomuk",Description:"https://www.atlasobscura.com/places/asamkirche",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/asamkirche","Wikipedia page":null,"Owner/Initiator/Commissioned by":"Egid Quirin Asam, Cosmas Damian Asam","Architect/Artist/Author":" sculptor Egid Quirin Asam and painter Cosmas Damian Asam",Status:null,AddressM:"Sendlinger Straße 32, Munich",Latitude:48.1352163,Longitude:11.569583,Period:2},geometry:{type:"MultiPolygon",coordinates:[[[[11.5697162,48.135127],[11.5695545,48.135258],[11.5694662,48.135319],[11.5694268,48.1353213],[11.5694015,48.135342],[11.5693964,48.1353377],[11.5693239,48.1352767],[11.5693941,48.1352334],[11.5694705,48.1351871],[11.5696026,48.1350807],[11.5697162,48.135127]]]]}},{type:"Feature",properties:{fid:1103,osm_id:"24164434",id:28,"Current Name (DE)":"Jüdisches Museum München","Current Name (Eng)":"Jewish Museum Munich","Previous Name":null,Address:"Sankt-Jakobs-Platz 16, 80331 München","Starting year":2004,"Completion year/Opening year":"2007","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Jüdisches_Museum_München","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Rena Wandel-Hoefer and Wolfgang Lorch",Status:null,AddressM:"Sankt-Jakobs-Platz 16, 80331 München, Munich",Latitude:48.1343467,Longitude:11.5722831,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5721492,48.1344368],[11.5720815,48.1342976],[11.5724597,48.1342156],[11.5725275,48.1343547],[11.5721492,48.1344368]]]]}},{type:"Feature",properties:{fid:845,osm_id:"17952124",id:30,"Current Name (DE)":"Schrannenhalle Munich","Current Name (Eng)":null,"Previous Name":null,Address:"Blumenstraße 4, 80331 München","Starting year":null,"Completion year/Opening year":"2011","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"market",Description:null,Website:"https://www.archdaily.com/230287/schrannenhalle-munich-oliv-architekten-ingenieure","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Oliv Architekten Ingenieure",Status:null,AddressM:"Blumenstraße 4, 80331 München, Munich",Latitude:48.1345254,Longitude:11.5747727,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5739113,48.1341213],[11.5743282,48.1343832],[11.5748859,48.1347334],[11.5749274,48.1347595],[11.5749612,48.1347807],[11.5752066,48.1346067],[11.5751258,48.134556],[11.5745736,48.1342092],[11.5741567,48.1339473],[11.5739113,48.1341213]]]]}},{type:"Feature",properties:{fid:536,osm_id:"11701898",id:32,"Current Name (DE)":"Europäisches Patentamt München","Current Name (Eng)":"European Patent Office in Munich","Previous Name":null,Address:"Bob‑van‑Benthem‑Platz 1","Starting year":null,"Completion year/Opening year":"1980","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"patent office",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/bauwerke-und-denkmaeler/europaeisches-patentamt","Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"GMP Architekten von Gerkan, Marg und Partner",Status:null,AddressM:"Bob‑van‑Benthem‑Platz 1, Munich",Latitude:48.1306193,Longitude:11.5803185,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5793592,48.1300342],[11.5797426,48.1298363],[11.5798271,48.1299092],[11.5799309,48.1299104],[11.5801177,48.1300797],[11.5800952,48.1300915],[11.5801153,48.1301086],[11.5801378,48.1300968],[11.580307,48.1301079],[11.580395,48.1301877],[11.5803932,48.1302013],[11.5804142,48.1302026],[11.580416,48.1301889],[11.580542,48.1302024],[11.5806644,48.1303134],[11.5806889,48.1303008],[11.5808253,48.1304229],[11.5805223,48.1305771],[11.5803857,48.1305648],[11.5803831,48.1305774],[11.5803764,48.1306102],[11.5803707,48.130638],[11.5803678,48.130652],[11.5806627,48.1306787],[11.5807793,48.1307792],[11.5808739,48.130735],[11.5811999,48.1307641],[11.5813509,48.1309036],[11.5813298,48.1310037],[11.5814104,48.1310759],[11.5805801,48.1314989],[11.5805686,48.1314884],[11.5804357,48.1314786],[11.5798241,48.1309393],[11.5798051,48.1309493],[11.5796673,48.1308305],[11.5800614,48.1306232],[11.5801899,48.1306357],[11.5801915,48.1306236],[11.5801975,48.1305954],[11.5802044,48.1305631],[11.5802062,48.1305495],[11.5799199,48.1305231],[11.5794096,48.1300777],[11.5793592,48.1300342]],[[11.5805767,48.1311802],[11.5803872,48.1310165],[11.5804877,48.1309647],[11.5806772,48.1311285],[11.5805767,48.1311802]]]]}},{type:"Feature",properties:{fid:49396,osm_id:"117275238",id:33,"Current Name (DE)":'Wohnbauensemble "Erhardt10"',"Current Name (Eng)":"Erhardt10 Apartments","Previous Name":null,Address:"Erhardtstraße 10","Starting year":null,"Completion year/Opening year":"2021","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"residential",Description:"https://thomaskroeger.net/de/erhardtstrasse/",Website:null,"Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":"private","Architect/Artist/Author":"Thomas Kröger Architekt",Status:null,AddressM:"Erhardtstraße 10, Munich",Latitude:48.1291066,Longitude:11.5783822,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5784731,48.1290569],[11.5782871,48.1289836],[11.5782112,48.1290694],[11.5783972,48.1291427],[11.5784731,48.1290569]]]]}},{type:"Feature",properties:{fid:109055,osm_id:"231580441",id:34,"Current Name (DE)":"Katholische Pfarrkirche St. Maximilian","Current Name (Eng)":"Catholic parish church of  St. Maximilian","Previous Name":null,Address:"Deutingerstraße 4 / I, 80469 München","Starting year":1892,"Completion year/Opening year":"1908","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":"1953",Rebuilt:null,Moved:null,Type:"building",Function:"chirch",Description:null,Website:"https://life-globe.com/en/st-maximilian-munich/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/st-maximilian","Wikipedia page":"https://de.wikipedia.org/wiki/St._Maximilian_(München)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Heinrich von Schmidt",Status:null,AddressM:"Deutingerstraße 4 / I, 80469 München, Munich",Latitude:48.1264968,Longitude:11.5729586,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5730959,48.1264964],[11.5729225,48.1264],[11.5727907,48.1265056],[11.572964,48.126602],[11.5730667,48.1265198],[11.5730959,48.1264964]]]]}},{type:"Feature",properties:{fid:1890,osm_id:"27567925",id:35,"Current Name (DE)":"Zentraler Omnibusbahnhof München","Current Name (Eng)":"Central bus station Munich","Previous Name":null,Address:"Arnulfstraße 21","Starting year":null,"Completion year/Opening year":"2009","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"bus station",Description:"https://www.auer-weber.de/projekte/details/zentraler-omnibusbahnhof-muenchen.html",Website:"https://www.muenchen-zob.de/de","Muenchen.de":"https://www.muenchen.de/verkehr/zob-zentraler-omnibusbahnhof","Wikipedia page":"https://de.wikipedia.org/wiki/Zentraler_Omnibusbahnhof_M%C3%BCnchen","Owner/Initiator/Commissioned by":"The city of Munich","Architect/Artist/Author":"Auer+Weber+Assoziierte",Status:null,AddressM:"Arnulfstraße 21, Munich",Latitude:48.142397,Longitude:11.5498154,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5489645,48.1421506],[11.549442,48.1421238],[11.5502072,48.1420792],[11.5507263,48.1420806],[11.5510374,48.142083],[11.55126,48.142389],[11.5509372,48.1424259],[11.550868,48.1424338],[11.5507577,48.1424435],[11.5501757,48.1424947],[11.5490323,48.1425663],[11.5490305,48.1425492],[11.5490276,48.1425322],[11.5490193,48.1424836],[11.54901,48.1424294],[11.5490045,48.142397],[11.5489995,48.1423699],[11.5489689,48.1421719],[11.5489645,48.1421506]]]]}},{type:"Feature",properties:{fid:5,osm_id:"14897",id:36,"Current Name (DE)":"Justizpalast","Current Name (Eng)":"Palace of Justice","Previous Name":null,Address:"Prielmayerstraße 7, 80335 München","Starting year":1891,"Completion year/Opening year":"1897","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"palace",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Justizpalast_(München)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich von Thiersch",Status:null,AddressM:"Prielmayerstraße 7, 80335 München, Munich",Latitude:48.1407326,Longitude:11.5647681,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5640582,48.1410772],[11.5642222,48.1410265],[11.5641631,48.1409377],[11.564649,48.1407889],[11.564688,48.1408448],[11.5650626,48.1407303],[11.5650234,48.1406739],[11.5654544,48.1405412],[11.5655,48.1405272],[11.5655582,48.1406188],[11.5656059,48.1406045],[11.5656108,48.1406107],[11.5657124,48.1405795],[11.5657076,48.1405725],[11.565763,48.1405638],[11.5656134,48.1403388],[11.5656302,48.1403334],[11.565609,48.1403048],[11.5655987,48.1402916],[11.565611,48.1402737],[11.5656155,48.1402614],[11.5656171,48.140248],[11.5656132,48.1402278],[11.5656049,48.1402125],[11.5655907,48.1401972],[11.565576,48.1401867],[11.565555,48.1401765],[11.5655434,48.1401726],[11.5655159,48.1401669],[11.5655019,48.1401449],[11.5654863,48.1401203],[11.5654667,48.1401274],[11.5653152,48.1398998],[11.5652746,48.1399072],[11.56527,48.1399009],[11.5651486,48.1399365],[11.5651539,48.1399434],[11.56512,48.1399541],[11.5651806,48.1400425],[11.5647177,48.1401886],[11.5646976,48.1401611],[11.564685,48.1401578],[11.5646318,48.1401756],[11.5646248,48.1401698],[11.5645294,48.1401999],[11.5645257,48.1401949],[11.5644834,48.1402072],[11.5644368,48.1402209],[11.5644399,48.1402266],[11.5643572,48.1402514],[11.564362,48.1402583],[11.5643023,48.1402759],[11.5643228,48.1403069],[11.5638541,48.1404502],[11.5637987,48.1403606],[11.5636017,48.1404164],[11.5636175,48.1404393],[11.5640548,48.1410723],[11.5640582,48.1410772]],[[11.5639335,48.1405746],[11.5642533,48.1404779],[11.5644177,48.14072],[11.5640979,48.1408167],[11.5639335,48.1405746]],[[11.5651219,48.1405016],[11.564963,48.14027],[11.5652717,48.1401757],[11.5654306,48.1404072],[11.5651219,48.1405016]]]]}},{type:"Feature",properties:{fid:112198,osm_id:"237426208",id:38,"Current Name (DE)":"Lenbachhaus Museum","Current Name (Eng)":"Municipal art gallery of Munich","Previous Name":null,Address:"Luisenstraße 33, 80333 München","Starting year":1885,"Completion year/Opening year":"1888","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":"1924, 1992, 2009",Rebuilt:null,Moved:null,Type:"building",Function:"art gallery",Description:null,Website:"https://www.archdaily.com/370465/lenbachhaus-museum-foster-partners","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/museen/lenbachhaus-muenchen","Wikipedia page":"https://de.wikipedia.org/wiki/St%C3%A4dtische_Galerie_im_Lenbachhaus","Owner/Initiator/Commissioned by":"City of Munich","Architect/Artist/Author":"Foster + Partners (2009)",Status:null,AddressM:"Luisenstraße 33, 80333 München, Munich",Latitude:48.1472214,Longitude:11.563543,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5635502,48.1473119],[11.5637765,48.1472481],[11.5639076,48.1472117],[11.5643736,48.1470824],[11.564298,48.1469609],[11.563832,48.1470902],[11.5638493,48.147118],[11.5637768,48.1471381],[11.5637267,48.1470576],[11.5637552,48.1470501],[11.5636668,48.1469097],[11.5636265,48.1469189],[11.5636008,48.1468776],[11.5640807,48.1467451],[11.5640114,48.1466334],[11.5636063,48.1467452],[11.5636253,48.1467759],[11.5635958,48.1467843],[11.5635901,48.1467858],[11.5634436,48.1465581],[11.5631365,48.1466449],[11.5631467,48.1466613],[11.5635502,48.1473119]]]]}},{type:"Feature",properties:{fid:120016,osm_id:"244969498",id:39,"Current Name (DE)":"Propyläen","Current Name (Eng)":"Propylaea","Previous Name":null,Address:"Luisenstraße 31, 80333 München","Starting year":null,"Completion year/Opening year":"1862","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"gates",Description:null,Website:"https://www.spottinghistory.com/view/5609/propylaea/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Propyläen_(München)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Leo von Klenze",Status:null,AddressM:"Luisenstraße 31, 80333 München, Munich",Latitude:48.1462642,Longitude:11.5643613,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5642215,48.1458096],[11.5642957,48.1459347],[11.5643623,48.145917],[11.5644903,48.1461326],[11.5644217,48.1461507],[11.564496,48.1462759],[11.5643056,48.1463262],[11.5642313,48.146201],[11.5641613,48.1462195],[11.5640972,48.1461115],[11.5640333,48.1460039],[11.5641046,48.1459851],[11.5640304,48.1458601],[11.5642215,48.1458096]]]]}},{type:"Feature",properties:{fid:135,osm_id:"532621",id:41,"Current Name (DE)":"Glyptothek","Current Name (Eng)":null,"Previous Name":null,Address:"Königsplatz 3, 80333 München","Starting year":null,"Completion year/Opening year":"1830","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:"New Munich'",Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Glyptothek_(München)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Leo von Klenze",Status:null,AddressM:"Königsplatz 3, 80333 München, Munich",Latitude:48.1463432,Longitude:11.5657031,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5654977,48.1463317],[11.5652478,48.1464024],[11.5655998,48.1469569],[11.5659406,48.1468606],[11.565953,48.1468801],[11.5659679,48.1469036],[11.5660932,48.1468682],[11.5660783,48.1468447],[11.5660638,48.1468218],[11.5664078,48.1467246],[11.5660577,48.1461731],[11.5658004,48.1462458],[11.5657769,48.1462089],[11.5656252,48.1462517],[11.5654741,48.1462945],[11.5654977,48.1463317]],[[11.5656962,48.1467914],[11.5655008,48.1464837],[11.5655775,48.146462],[11.5655875,48.1464778],[11.5657409,48.1464344],[11.56589,48.1463923],[11.5658818,48.1463793],[11.5659544,48.1463588],[11.566148,48.1466637],[11.5659262,48.1467264],[11.5656962,48.1467914]]]]}},{type:"Feature",properties:{fid:137534,osm_id:"280336045",id:42,"Current Name (DE)":"NS-Dokumentationszentrum München","Current Name (Eng)":"Munich Documentation Centre for the History of National Socialism","Previous Name":null,Address:"Max-Mannheimer-Platz 1, 80333 München","Starting year":2012,"Completion year/Opening year":"2015","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:null,Website:"https://www.ns-dokuzentrum-muenchen.de/en/documentation-center/about-us/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/museen/ns-dokumentationszentrum-muenchen","Wikipedia page":"https://de.wikipedia.org/wiki/NS-Dokumentationszentrum_(München)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Georg Scheel Wetzel Architekten",Status:null,AddressM:"Max-Mannheimer-Platz 1, 80333 München, Munich",Latitude:48.14546,Longitude:11.5672973,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5675162,48.1452986],[11.5675411,48.1453379],[11.5676268,48.1454733],[11.5678872,48.1453999],[11.5677766,48.1452252],[11.5675162,48.1452986]]]]}},{type:"Feature",properties:{fid:523,osm_id:"9593522",id:43,"Current Name (DE)":"Staatliches Museum Ägyptischer Kunst","Current Name (Eng)":"State Museum of Egyptian Art","Previous Name":null,Address:"Gabelsbergerstraße 35, 80333 München","Starting year":null,"Completion year/Opening year":"2013","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:null,Website:"https://smaek.de/en/ihr-besuch/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Staatliches_Museum_Ägyptischer_Kunst","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Peter Böhm",Status:null,AddressM:"Gabelsbergerstraße 35, 80333 München, Munich",Latitude:48.1473204,Longitude:11.5683829,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5693018,48.1471572],[11.5691274,48.1468756],[11.5691082,48.1468447],[11.5695297,48.1467249],[11.5696234,48.1466983],[11.569733,48.1466671],[11.5699896,48.1465942],[11.5698956,48.1464458],[11.5695815,48.1465309],[11.5693988,48.1463603],[11.5692697,48.1463975],[11.5693264,48.1466053],[11.5687848,48.1467548],[11.5686656,48.1465625],[11.5683589,48.146647],[11.5684781,48.1468394],[11.5680547,48.1469562],[11.5681537,48.147116],[11.568094,48.1471339],[11.5682875,48.147444],[11.5693018,48.1471572]],[[11.5686443,48.1471202],[11.5690964,48.1469943],[11.5690719,48.1469551],[11.5686198,48.147081],[11.5686443,48.1471202]]]]}},{type:"Feature",properties:{fid:490,osm_id:"6758375",id:44,"Current Name (DE)":"Cafe Vorhoelzer","Current Name (Eng)":"Vorhoelzer Coffee Shop","Previous Name":null,Address:"Arcisstraße 21","Starting year":null,"Completion year/Opening year":"2010","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"student café",Description:"https://www.bundesstiftung-baukultur.de/foerderverein/netzwerk/akteure/detail/vorhoelzer-forum-der-fakultat-fur-architektur",Website:"https://www.arc.ed.tum.de/arc/forschung-innovation/einrichtungen/vorhoelzer-forum/","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":"TUM School of Engineering and Design","Architect/Artist/Author":null,Status:null,AddressM:"Arcisstraße 21, Munich",Latitude:48.1487175,Longitude:11.5684644,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5686123,48.1487338],[11.5686939,48.1488609],[11.5683457,48.1489604],[11.5683181,48.1489685],[11.5682516,48.1488653],[11.5681944,48.1487766],[11.5681412,48.1486941],[11.5680781,48.1485962],[11.568455,48.1484886],[11.5685301,48.1486057],[11.5685532,48.1485987],[11.5685993,48.1486684],[11.568638,48.1487269],[11.5686123,48.1487338]],[[11.568275,48.1488158],[11.5684231,48.1487738],[11.5683914,48.1487242],[11.56836,48.1486748],[11.5682119,48.1487168],[11.568242,48.148764],[11.568275,48.1488158]]]]}},{type:"Feature",properties:{fid:622,osm_id:"4647135",id:45,"Current Name (DE)":"Alte Pinakothek","Current Name (Eng)":"Old Pinakothek","Previous Name":null,Address:"Barer Str. 27","Starting year":null,"Completion year/Opening year":"1836","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:"1952–1957",Moved:null,Type:"building",Function:"museum",Description:"New Munich'",Website:"https://www.pinakothek.de/de/besuch/alte-pinakothek","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Alte_Pinakothek","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Leo von Klenze and Hans Döllgast",Status:null,AddressM:"Barer Str. 27, Munich",Latitude:48.1482625,Longitude:11.5699802,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5693571,48.1487141],[11.5693243,48.1486609],[11.569294,48.1486118],[11.5693219,48.1486041],[11.5699528,48.148431],[11.5700497,48.1484044],[11.5701733,48.1483705],[11.5707522,48.1482115],[11.5707856,48.1482023],[11.5708159,48.1482514],[11.570846,48.1483003],[11.5710408,48.1482468],[11.5709049,48.1480265],[11.5707688,48.1478059],[11.5705721,48.1478599],[11.5706361,48.1479636],[11.5699003,48.1481656],[11.5691499,48.1483716],[11.5690884,48.1482719],[11.5688875,48.1483271],[11.5691596,48.1487683],[11.5693571,48.1487141]]]]}},{type:"Feature",properties:{fid:272,osm_id:"1644123",id:47,"Current Name (DE)":"Neue Pinakothek","Current Name (Eng)":"New Pinacotheca","Previous Name":null,Address:"Barer Str. 29, 80799 München","Starting year":null,"Completion year/Opening year":"1825","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:"New Munich'",Website:"https://www.pinakothek.de/en/visit/neue-pinakothek","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Neue_Pinakothek","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Alexander von Branca",Status:null,AddressM:"Barer Str. 29, 80799 München, Munich",Latitude:48.1499867,Longitude:11.5708946,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5709145,48.1504364],[11.570917,48.1504404],[11.5711263,48.1503813],[11.5711236,48.1503771],[11.571104,48.1503462],[11.5715604,48.1502173],[11.5714227,48.1500003],[11.5714769,48.149985],[11.5717284,48.1499143],[11.5717723,48.1499838],[11.5719233,48.1499413],[11.5718649,48.1498489],[11.5720117,48.1498076],[11.5719671,48.149737],[11.5720176,48.1497228],[11.5719786,48.1496609],[11.5719253,48.1496759],[11.5718209,48.1495109],[11.5717381,48.1495342],[11.5716539,48.149401],[11.5715684,48.149425],[11.5715957,48.1494682],[11.5714093,48.1495206],[11.5713703,48.1495316],[11.5712364,48.1495693],[11.5712162,48.1495374],[11.5711807,48.1494813],[11.5710495,48.1495182],[11.5711241,48.1496362],[11.5710115,48.1496679],[11.5708732,48.1497069],[11.5707444,48.149504],[11.5705855,48.1495489],[11.5706059,48.149581],[11.5702743,48.1496747],[11.5703835,48.1498467],[11.5703285,48.1498622],[11.5703434,48.1498857],[11.569936,48.1500009],[11.5701116,48.1502774],[11.5702612,48.1502351],[11.5702929,48.150285],[11.5702102,48.1503084],[11.570318,48.1504783],[11.5707487,48.1503566],[11.5707731,48.150395],[11.5708177,48.1503824],[11.5708707,48.1503674],[11.5709145,48.1504364]],[[11.5701989,48.1500835],[11.5704669,48.1500082],[11.5705898,48.1502028],[11.5703262,48.1502768],[11.5702963,48.1502294],[11.5703577,48.1502121],[11.5703367,48.1501789],[11.5702708,48.1501974],[11.5701989,48.1500835]]]]}},{type:"Feature",properties:{fid:769,osm_id:"10053440",id:48,"Current Name (DE)":"Pinakothek der Moderne","Current Name (Eng)":"Pinakothek of the Modern","Previous Name":null,Address:"Barer Str. 40, 80333 München","Starting year":null,"Completion year/Opening year":"2002","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:null,Website:"https://www.pinakothek.de/en/visit/sammlung-moderne-kunst-der-pinakothek-der-moderne","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/pinakothek-der-moderne","Wikipedia page":"https://de.wikipedia.org/wiki/Pinakothek_der_Moderne","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Stephan Braunfels",Status:null,AddressM:"Barer Str. 40, 80333 München, Munich",Latitude:48.147128,Longitude:11.5722422,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5715094,48.1476889],[11.5719871,48.1475556],[11.5723911,48.1474404],[11.5732954,48.1471855],[11.5731101,48.1468927],[11.5729448,48.1466316],[11.5722803,48.1468189],[11.5711588,48.147135],[11.5715094,48.1476889]]]]}},{type:"Feature",properties:{fid:2217,osm_id:"28026817",id:50,"Current Name (DE)":"Museum Brandhorst","Current Name (Eng)":null,"Previous Name":null,Address:"Theresienstraße 35a, 80333 München","Starting year":null,"Completion year/Opening year":"2009","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:null,Website:`www.museum-brandhorst.de
https://www.sauerbruchhutton.de/en/project/sab`,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Museum_Brandhorst","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Sauerbruch Hutton",Status:null,AddressM:"Theresienstraße 35a, 80333 München, Munich",Latitude:48.1482083,Longitude:11.5741133,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5740169,48.1480853],[11.5738639,48.1478459],[11.5735887,48.1474154],[11.5736447,48.1474006],[11.5738126,48.1473532],[11.5742422,48.1480085],[11.5743603,48.1481487],[11.5741765,48.1482012],[11.5739369,48.1482697],[11.5738997,48.1481218],[11.5740169,48.1480853]]]]}},{type:"Feature",properties:{fid:1673,osm_id:"25507219",id:52,"Current Name (DE)":"Palais Ludwig Ferdinand","Current Name (Eng)":"Ludwig Ferdinand Palace","Previous Name":null,Address:"Wittelsbacherpl. 3-4, 80333 München","Starting year":null,"Completion year/Opening year":"1825","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"palace",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Palais_Ludwig_Ferdinand","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Leo von Klenze",Status:null,AddressM:"Wittelsbacherpl. 3-4, 80333 München, Munich",Latitude:48.1437117,Longitude:11.5760136,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5765458,48.143749],[11.5762735,48.1438052],[11.5759851,48.1438646],[11.5760006,48.1438981],[11.5760108,48.1439201],[11.5760489,48.1440024],[11.5762001,48.1439712],[11.5764484,48.1439201],[11.5765014,48.1440345],[11.5765981,48.1440145],[11.5766622,48.1440013],[11.5766375,48.143948],[11.576664,48.1439426],[11.5766299,48.1438691],[11.5765971,48.1437983],[11.576571,48.1438036],[11.5765458,48.143749]]]]}},{type:"Feature",properties:{fid:109245,osm_id:"231934090",id:53,"Current Name (DE)":"Textilmacher","Current Name (Eng)":null,"Previous Name":null,Address:"Lindberghstraße 7","Starting year":null,"Completion year/Opening year":"2013?2016","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"offices",Description:null,Website:"https://www.bda-bund.de/praemierte-architektur/kurt-tillich-produktions-buerogebaeude-die-textilmacher/","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Tillich Architektur",Status:null,AddressM:"Lindberghstraße 7, Munich",Latitude:48.1908203,Longitude:11.6003448,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.6003452,48.1909351],[11.6002707,48.1907048],[11.6004078,48.1906851],[11.6004823,48.1909154],[11.6003452,48.1909351]]]]}},{type:"Feature",properties:{fid:22651,osm_id:"83612906",id:54,"Current Name (DE)":"Ludwigpalais","Current Name (Eng)":null,"Previous Name":null,Address:"Ludwigstraße 8, 80539 München","Starting year":null,"Completion year/Opening year":"1825","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"office",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Ludwigstraße 8, 80539 München, Munich",Latitude:48.1456379,Longitude:11.5792439,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5797212,48.1457273],[11.5798366,48.1457005],[11.5798271,48.1456778],[11.5797775,48.1455701],[11.5796696,48.1455914],[11.5796456,48.1455346],[11.5796364,48.1455124],[11.5792345,48.1455905],[11.5793077,48.1457765],[11.5794947,48.1457415],[11.5794295,48.1455875],[11.5795656,48.1455585],[11.5796335,48.145725],[11.5797212,48.1457273]]]]}},{type:"Feature",properties:{fid:20,osm_id:"52412",id:55,"Current Name (DE)":"Bayerische Staatsbibliothek","Current Name (Eng)":"Bavarian state library","Previous Name":"Court Library",Address:"Ludwigstraße 16","Starting year":null,"Completion year/Opening year":"1558","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"library",Description:null,Website:"https://www.bsb-muenchen.de/en/","Muenchen.de":null,"Wikipedia page":"https://en.wikipedia.org/wiki/Bavarian_State_Library","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich von Gaertner",Status:null,AddressM:"Ludwigstraße 16, Munich",Latitude:48.1468606,Longitude:11.580282,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5809222,48.1468247],[11.5808872,48.1468311],[11.580785,48.1466302],[11.5803027,48.1467331],[11.5797866,48.1468432],[11.5801149,48.1475153],[11.5803915,48.1481295],[11.5809275,48.1480138],[11.5811617,48.1479633],[11.5811764,48.1479883],[11.5813985,48.1479427],[11.5810988,48.1473085],[11.5810266,48.1471557],[11.5810909,48.1471396],[11.5811017,48.1471665],[11.5819063,48.1469929],[11.5817252,48.1466413],[11.5809435,48.1468049],[11.5809502,48.1468192],[11.5809222,48.1468247]],[[11.5801177,48.1469723],[11.5802986,48.1473718],[11.580573,48.1473164],[11.5808285,48.1472649],[11.5806476,48.1468655],[11.5801177,48.1469723]],[[11.5810843,48.147816],[11.5809083,48.1474275],[11.5803786,48.1475342],[11.5805545,48.1479228],[11.580858,48.1478616],[11.5810843,48.147816]]]]}},{type:"Feature",properties:{fid:5909,osm_id:"34103841",id:56,"Current Name (DE)":"Ludwigskirche","Current Name (Eng)":"Catholic Parish and University Church St. Louis","Previous Name":null,Address:"Ludwigstraße 22, 80539 München","Starting year":1829,"Completion year/Opening year":"1844","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:null,Website:"https://www.munich.travel/en/pois/urban-districts/ludwigskirche","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/St._Ludwig_(München)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich von Gärtner",Status:null,AddressM:"Ludwigstraße 22, 80539 München, Munich",Latitude:48.1493293,Longitude:11.5811325,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5809587,48.1493008],[11.5810362,48.149284],[11.5810604,48.1492788],[11.5812574,48.1492364],[11.5812591,48.1492399],[11.5813238,48.1493737],[11.5813419,48.1494109],[11.5811643,48.1494492],[11.5810433,48.1494753],[11.5809587,48.1493008]]]]}},{type:"Feature",properties:{fid:856,osm_id:"17973243",id:57,"Current Name (DE)":"Ludwig-Maximilians-Universität München","Current Name (Eng)":"Ludwig Maximilian University of Munich","Previous Name":null,Address:"Geschwister-Scholl-Platz 1, 80539 München","Starting year":null,"Completion year/Opening year":"1826","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"university",Description:null,Website:"https://www.lmu.de/en/newsroom/news-overview/news/tour-of-lmus-main-building.html","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Ludwig-Maximilians-Universität_München","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"German Bestelmeyer",Status:null,AddressM:"Geschwister-Scholl-Platz 1, 80539 München, Munich",Latitude:48.1509185,Longitude:11.5798609,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5806127,48.1509452],[11.5805525,48.1509578],[11.5804675,48.1509756],[11.5804248,48.1508851],[11.5803619,48.1508983],[11.5802247,48.1509385],[11.5802007,48.1509441],[11.5801519,48.1509569],[11.5802162,48.1510608],[11.580177,48.1510719],[11.5796635,48.1512152],[11.5796029,48.1512346],[11.5794433,48.1512785],[11.5794119,48.1512874],[11.5792858,48.1510901],[11.5791607,48.1508942],[11.5793378,48.1508472],[11.5794159,48.1508262],[11.5799475,48.1506709],[11.5799707,48.1506638],[11.5800397,48.1507754],[11.5800968,48.150761],[11.5802712,48.1507108],[11.5803464,48.150695],[11.5802882,48.1505718],[11.5803674,48.1505551],[11.5804233,48.1505433],[11.5805281,48.1507656],[11.5806127,48.1509452]]]]}},{type:"Feature",properties:{fid:959,osm_id:"22727580",id:58,"Current Name (DE)":"Siegestor","Current Name (Eng)":"Victory Gate","Previous Name":null,Address:"80539 Munich","Starting year":null,"Completion year/Opening year":"1852","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"gates",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/int/en/sights/attractions/siegestor.html","Wikipedia page":"https://de.wikipedia.org/wiki/Siegestor","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Eduard Mezger",Status:null,AddressM:"80539 Munich, Munich",Latitude:48.1447027,Longitude:11.5821606,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5819684,48.1523404],[11.5820418,48.1523242],[11.5821179,48.1523073],[11.5821918,48.152291],[11.582269,48.1522739],[11.582312,48.1523602],[11.5822349,48.1523773],[11.5821689,48.1523919],[11.5821606,48.1523937],[11.5820861,48.1524102],[11.5820113,48.1524268],[11.5819684,48.1523404]]]]}},{type:"Feature",properties:{fid:92299,osm_id:"173135247",id:59,"Current Name (DE)":"Akademie der Bildenden Künste München","Current Name (Eng)":"Academy of Fine Arts","Previous Name":null,Address:"Akademiestraße 2-4, 80799 München","Starting year":null,"Completion year/Opening year":"1886","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"academic",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://en.wikipedia.org/wiki/Academy_of_Fine_Arts,_Munich","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gottfried Neureuther (1886) and Coop Himmelb(l)au (2005)",Status:null,AddressM:"Akademiestraße 2-4, 80799 München, Munich",Latitude:48.1531612,Longitude:11.5801885,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5813399,48.1526179],[11.5811375,48.1526586],[11.5812724,48.1529417],[11.5804965,48.1531062],[11.5804515,48.1530117],[11.5802424,48.1530561],[11.5800319,48.1531007],[11.5800782,48.1531978],[11.579364,48.1533492],[11.5792367,48.153082],[11.5789994,48.1531323],[11.5792042,48.153562],[11.5801556,48.1533602],[11.5802378,48.1535327],[11.5805789,48.1534604],[11.5806591,48.1534432],[11.5806036,48.1533309],[11.5805717,48.1532639],[11.5815473,48.153057],[11.5814863,48.1529289],[11.5813399,48.1526179]]]]}},{type:"Feature",properties:{fid:6715,osm_id:"35590645",id:62,"Current Name (DE)":"Stadtpfarrkirche St. Ursula","Current Name (Eng)":"Parish church of St. Ursula","Previous Name":null,Address:"Kaiserpl. 1, 80803 München","Starting year":1894,"Completion year/Opening year":"1897","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/St._Ursula_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"August Thiersch",Status:null,AddressM:"Kaiserpl. 1, 80803 München, Munich",Latitude:48.1611947,Longitude:11.580957,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5807959,48.1611576],[11.5809035,48.1611496],[11.5810091,48.1611419],[11.5810422,48.1613424],[11.5809645,48.1613481],[11.5809656,48.1613562],[11.5809441,48.1613762],[11.5809114,48.1613788],[11.5808873,48.1613619],[11.5808857,48.1613544],[11.5808294,48.1613589],[11.5808215,48.1613122],[11.580815,48.1612721],[11.5807959,48.1611576]]]]}},{type:"Feature",properties:{fid:150290,osm_id:"369270035",id:65,"Current Name (DE)":"Schwabinger Tor","Current Name (Eng)":"Schwabing Gate","Previous Name":null,Address:"Leopoldstraße 170, 80804 München","Starting year":2013,"Completion year/Opening year":"2017","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"hotel",Description:null,Website:"https://h-s-a.de/projekte/schwabinger_tor","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hilmer Sattler Architekten",Status:null,AddressM:"Leopoldstraße 170, 80804 München, Munich",Latitude:48.1720446,Longitude:11.5863278,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.586236,48.1725391],[11.586267,48.1721901],[11.586185,48.1721869],[11.5862376,48.1715959],[11.5866326,48.1716115],[11.5866013,48.1719636],[11.5866827,48.1719668],[11.5866304,48.1725547],[11.586236,48.1725391]]]]}},{type:"Feature",properties:{fid:147711,osm_id:"325929848",id:67,"Current Name (DE)":"Maximilianeum","Current Name (Eng)":null,"Previous Name":null,Address:"Max-Planck-Straße 1, 81675 München","Starting year":null,"Completion year/Opening year":"1854","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"palace",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Maximilianeum","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich Bürklein, Gottfried Semper and Karl Kergl",Status:null,AddressM:"Max-Planck-Straße 1, 81675 München, Munich",Latitude:48.13613,Longitude:11.59419,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5942958,48.1370566],[11.5944009,48.1370362],[11.5943706,48.1369667],[11.594368,48.1369672],[11.5942798,48.1367641],[11.5945013,48.1367212],[11.5944245,48.1365445],[11.5946523,48.1365004],[11.5946945,48.1365974],[11.5947487,48.1367263],[11.5947888,48.1367191],[11.5952737,48.1366242],[11.5952883,48.136657],[11.5953032,48.1366374],[11.5953043,48.1366154],[11.5951654,48.1363021],[11.5950722,48.1364145],[11.5951143,48.136517],[11.5947326,48.13659],[11.5946905,48.136493],[11.5948135,48.1364692],[11.5947679,48.1363642],[11.594699,48.1362055],[11.594654,48.1361018],[11.5945328,48.1361253],[11.5944903,48.1360274],[11.5948718,48.1359487],[11.5949203,48.1360537],[11.5950819,48.136112],[11.5949408,48.135789],[11.594927,48.1357807],[11.594903,48.1357727],[11.5949158,48.1358045],[11.5943849,48.1359068],[11.5944445,48.1360362],[11.5944882,48.1361348],[11.5942818,48.1361739],[11.5942047,48.1359963],[11.5939693,48.1360419],[11.5938797,48.1358356],[11.5938856,48.1358344],[11.5938564,48.1357671],[11.5937508,48.1357876],[11.59378,48.1358548],[11.5937913,48.1358527],[11.5938809,48.136059],[11.5938582,48.1360634],[11.5938747,48.1361015],[11.5938562,48.1361051],[11.5938839,48.136169],[11.5938992,48.136166],[11.5939174,48.1362042],[11.5939519,48.1361978],[11.59404,48.136319],[11.5940252,48.1363218],[11.5940437,48.1363624],[11.5940244,48.1363661],[11.5940692,48.1364693],[11.5940841,48.1364665],[11.5941021,48.1365066],[11.5941187,48.1365034],[11.5941376,48.1366391],[11.5941065,48.1366443],[11.5941194,48.1366813],[11.5941,48.1366851],[11.5941288,48.1367514],[11.5941495,48.1367474],[11.5941663,48.136786],[11.5941892,48.1367816],[11.5942774,48.1369847],[11.5942656,48.136987],[11.5942958,48.1370566]]]]}},{type:"Feature",properties:{fid:149902,osm_id:"364535850",id:69,"Current Name (DE)":"Müllersches Volksbad (Hallenbad)","Current Name (Eng)":"Müllersches Public Baths","Previous Name":null,Address:"Rosenheimer Str. 1, 81667 München","Starting year":null,"Completion year/Opening year":"1901","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"swimming pool",Description:null,Website:"https://www.swm.de/baeder/schwimmen-sauna/muellersches-volksbad","Muenchen.de":"https://www.muenchen.de/freizeit/hallenbaeder/muellersches-volksbad","Wikipedia page":"https://de.wikipedia.org/wiki/Müllersches_Volksbad","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Carl Hocheder",Status:null,AddressM:"Rosenheimer Str. 1, 81667 München, Munich",Latitude:48.1325792,Longitude:11.5886695,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5886596,48.1326258],[11.5887897,48.1325855],[11.5887516,48.1325307],[11.5886215,48.132571],[11.5886596,48.1326258]]]]}},{type:"Feature",properties:{fid:393,osm_id:"3301702",id:70,"Current Name (DE)":"Gasteig","Current Name (Eng)":null,"Previous Name":null,Address:"Rosenheimer Str. 5, 81667 München","Starting year":null,"Completion year/Opening year":"1985","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"cultural center",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Gasteig","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Raue, Rollenhagen and Lindemann",Status:null,AddressM:"Rosenheimer Str. 5, 81667 München, Munich",Latitude:48.131652,Longitude:11.5914022,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5906897,48.1321489],[11.5907061,48.1321423],[11.5910351,48.132031],[11.5911959,48.1319714],[11.5916405,48.1318101],[11.5917231,48.1317761],[11.5917049,48.1317523],[11.5916727,48.1317111],[11.5918335,48.1316575],[11.5919419,48.1316214],[11.592087,48.131573],[11.5920575,48.1315406],[11.5920181,48.1314942],[11.5922197,48.1314284],[11.5921592,48.1313543],[11.5923543,48.1312798],[11.5920893,48.1309363],[11.5919728,48.1309757],[11.5919408,48.1309363],[11.5914269,48.1311123],[11.5914315,48.1311186],[11.5914471,48.1311394],[11.5914674,48.1311692],[11.5914522,48.1311733],[11.591508,48.1312451],[11.5912849,48.13132],[11.5908248,48.1314834],[11.5908447,48.1315086],[11.5908269,48.1315152],[11.5908095,48.1315216],[11.5906563,48.131425],[11.5904544,48.131498],[11.5904355,48.1314905],[11.5902882,48.1315435],[11.5901259,48.1316996],[11.5900991,48.1317314],[11.5900769,48.1317578],[11.5901338,48.131865],[11.5901455,48.1319353],[11.5902037,48.1319788],[11.5904296,48.1321209],[11.590473,48.1321064],[11.5905491,48.1321559],[11.5906463,48.1321191],[11.5906897,48.1321489]],[[11.5914546,48.1316145],[11.5914754,48.1316077],[11.5914977,48.1316402],[11.5915135,48.131635],[11.5915771,48.1316143],[11.5914692,48.1314774],[11.5914079,48.1314976],[11.5913728,48.1315101],[11.5914546,48.1316145]]]]}},{type:"Feature",properties:{fid:2314,osm_id:"28132472",id:72,"Current Name (DE)":"Katholische Pfarrkirche Maria Hilf in der Au","Current Name (Eng)":"Catholic parish church of Maria","Previous Name":null,Address:"Mariahilfpl., 81541 München","Starting year":1831,"Completion year/Opening year":"1839","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"chirch",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Mariahilfkirche_(München)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Joseph Daniel Ohlmüller",Status:null,AddressM:"Mariahilfpl., 81541 München, Munich",Latitude:48.1257983,Longitude:11.5827048,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5833417,48.1256574],[11.5837015,48.1255175],[11.5840546,48.1253803],[11.5841212,48.1253203],[11.5841292,48.1252448],[11.5840711,48.1251822],[11.5839698,48.1251524],[11.583913,48.1251549],[11.5838959,48.125098],[11.583779,48.1251167],[11.5836136,48.1251772],[11.5836649,48.1252351],[11.5832081,48.1254152],[11.5831513,48.1254376],[11.5833417,48.1256574]]]]}},{type:"Feature",properties:{fid:56920,osm_id:"120108460",id:73,"Current Name (DE)":"Städtische Berufsschule","Current Name (Eng)":"Municipal vocational school","Previous Name":null,Address:"Simon-Knoll-Platz 3, 81669 München","Starting year":2007,"Completion year/Opening year":"2010","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"education",Description:null,Website:"https://www.ssp-muc.com/projekte/projekt-detail/show/berufliche-schulen-am-simon-knoll-platz","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Fritsch + Tschaidse Architekten",Status:null,AddressM:"Simon-Knoll-Platz 3, 81669 München, Munich",Latitude:48.1259103,Longitude:11.5925853,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5922122,48.1260846],[11.5922136,48.126013],[11.5924918,48.1260155],[11.5924995,48.125623],[11.5924286,48.1256224],[11.5924372,48.1251819],[11.5925974,48.1251833],[11.5925914,48.1254897],[11.592668,48.1254903],[11.5926549,48.1261639],[11.5922108,48.12616],[11.5922122,48.1260846]]]]}},{type:"Feature",properties:{fid:13970,osm_id:"51366125",id:109,"Current Name (DE)":"Olympiastadion","Current Name (Eng)":"Olympic Stadium","Previous Name":null,Address:"Olympiapark München, Spiridon-Louis-Ring 25, 80809 München","Starting year":null,"Completion year/Opening year":"1972","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"stadium",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://en.wikiarquitectura.com/building/munich-olympic-stadium/","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Günther Behnisch and Frei Otto",Status:null,AddressM:"Olympiapark München, Spiridon-Louis-Ring 25, 80809 München, Munich",Latitude:48.1719887,Longitude:11.5477061,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.545854,48.1727026],[11.5457237,48.1728786],[11.545443,48.1728334],[11.5453658,48.1730466],[11.5456465,48.1730918],[11.5456393,48.1732716],[11.5448577,48.1732275],[11.5448767,48.1730353],[11.5449397,48.1728255],[11.5450365,48.1726428],[11.5451684,48.1724543],[11.545854,48.1727026]]]]}},{type:"Feature",properties:{fid:156514,osm_id:"599834311",id:75,"Current Name (DE)":"WERK12","Current Name (Eng)":null,"Previous Name":null,Address:"Speicherstraße 20","Starting year":null,"Completion year/Opening year":"2019","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"building",Description:"https://www.archdaily.com/926797/werk12-mvrdv",Website:"https://www.archdaily.com/926797/werk12-mvrdv","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"MVRDV + N-V-O Architekten",Status:null,AddressM:"Speicherstraße 20, Munich",Latitude:48.1240819,Longitude:11.6058168,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.6054857,48.1241139],[11.6058257,48.1242828],[11.6058566,48.1242982],[11.6058757,48.124281],[11.6059601,48.1242052],[11.6061619,48.1240241],[11.6061674,48.1240191],[11.6057894,48.1238315],[11.6054857,48.1241139]]]]}},{type:"Feature",properties:{fid:6664,osm_id:"35587189",id:76,"Current Name (DE)":"Medienbrücke München","Current Name (Eng)":"Media Bridge","Previous Name":null,Address:"Rosenheimer Str. 145 d, 81671 München","Starting year":2009,"Completion year/Opening year":"2011","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"office",Description:null,Website:"https://www.archdaily.com/291857/ivg-media-bridge-steidle-architects","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Medienbrücke","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Otto Steidle Architects",Status:null,AddressM:"Rosenheimer Str. 145 d, 81671 München, Munich",Latitude:48.1219077,Longitude:11.605736,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.6063357,48.1212788],[11.6069241,48.121314],[11.6068503,48.1218853],[11.6071665,48.1219052],[11.6072371,48.1213615],[11.6072416,48.1213298],[11.6075224,48.1213503],[11.6075174,48.1213957],[11.6077236,48.121408],[11.6079346,48.1214205],[11.6079445,48.1213759],[11.6082231,48.1213945],[11.6081405,48.1219363],[11.6081361,48.1219673],[11.6084716,48.1219885],[11.6085391,48.1214149],[11.6085675,48.1214149],[11.6085876,48.1212521],[11.6084881,48.1212459],[11.6077511,48.1212074],[11.6062353,48.1211154],[11.605917,48.1213722],[11.6050117,48.1221191],[11.6044994,48.1225445],[11.6046117,48.1226089],[11.6046776,48.1226414],[11.6046904,48.1226318],[11.6047295,48.1226549],[11.6049988,48.1228006],[11.605338,48.1230031],[11.6055419,48.1228318],[11.6054024,48.1227535],[11.6054179,48.1227382],[11.605382,48.1227188],[11.6053646,48.1227312],[11.6052585,48.1226729],[11.6050561,48.1225618],[11.6048881,48.1224696],[11.60507,48.1223234],[11.605122,48.1223506],[11.6052082,48.1222794],[11.6052492,48.1222456],[11.605306,48.1221979],[11.6053906,48.1221267],[11.6053399,48.1220994],[11.6055086,48.1219589],[11.6056901,48.1220566],[11.6058433,48.1221391],[11.6059613,48.1222026],[11.6060541,48.1222526],[11.6061119,48.1222837],[11.6063104,48.1221214],[11.6057141,48.1217842],[11.6063357,48.1212788]]]]}},{type:"Feature",properties:{fid:70,osm_id:"144404",id:77,"Current Name (DE)":"Loopsite","Current Name (Eng)":null,"Previous Name":null,Address:"St.-Martin-Straße 76, 81541 München","Starting year":2015,"Completion year/Opening year":"2017","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"office",Description:null,Website:"https://www.quincap.de/en/projects/loopsite/","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hadi Teherani",Status:null,AddressM:"St.-Martin-Straße 76, 81541 München, Munich",Latitude:48.1171161,Longitude:11.5967287,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5961311,48.1172503],[11.5968485,48.1172204],[11.5971172,48.1172092],[11.5970674,48.1166767],[11.5970504,48.1164952],[11.5969899,48.1164977],[11.5963379,48.1165249],[11.5960643,48.1165363],[11.5961132,48.1170592],[11.5961311,48.1172503]],[[11.5963022,48.1171202],[11.59625,48.1166473],[11.5968891,48.1166159],[11.5969413,48.1170888],[11.5963022,48.1171202]]]]}},{type:"Feature",properties:{fid:813,osm_id:"15805217",id:110,"Current Name (DE)":"Olympia-Schwimmhalle (Hallenbad)","Current Name (Eng)":null,"Previous Name":null,Address:"Coubertinpl. 1, 80809 München","Starting year":null,"Completion year/Opening year":"1972","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"swimmimg pool",Description:null,Website:"https://www.swm.de/baeder/schwimmen-sauna/olympia-schwimmhalle","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Olympia-Schwimmhalle","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Günter Behnisch",Status:null,AddressM:"Coubertinpl. 1, 80809 München, Munich",Latitude:48.1729824,Longitude:11.5525499,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5508223,48.1737908],[11.5509247,48.173752],[11.5509965,48.1737456],[11.5510682,48.1737504],[11.55116,48.173801],[11.5512034,48.1738523],[11.5512321,48.1739183],[11.5512377,48.1739744],[11.5512237,48.1740247],[11.5511902,48.174063],[11.5511112,48.1741079],[11.551114,48.1741127],[11.551172,48.1741022],[11.5512126,48.1740989],[11.5512522,48.1741027],[11.5512917,48.1741174],[11.5513096,48.1741406],[11.5513269,48.1741723],[11.5513637,48.1741654],[11.5514112,48.1741563],[11.5514685,48.1741559],[11.5515226,48.1741683],[11.5515605,48.1741859],[11.551592,48.1742029],[11.5516231,48.1742353],[11.551661,48.174293],[11.551671,48.1742929],[11.5517057,48.1742602],[11.551749,48.1742312],[11.5517953,48.1742125],[11.5518462,48.174205],[11.5519125,48.1742069],[11.5519526,48.1742144],[11.5520073,48.1742359],[11.5520511,48.1742557],[11.5520555,48.1742551],[11.5520578,48.1742496],[11.5520469,48.1742319],[11.5520354,48.174204],[11.5520319,48.1741513],[11.5520379,48.1741195],[11.552051,48.1740913],[11.552078,48.1740505],[11.5521229,48.1740152],[11.5521827,48.1739849],[11.5522493,48.1739502],[11.5523391,48.1739245],[11.5523737,48.173921],[11.5523754,48.1739164],[11.5522712,48.17387],[11.5521558,48.1737957],[11.5520804,48.1737145],[11.5520281,48.1736186],[11.5520145,48.1735225],[11.5520398,48.1734239],[11.5520797,48.1733479],[11.5521205,48.1732879],[11.5522064,48.1732369],[11.5522059,48.1732341],[11.5521949,48.1732329],[11.5521492,48.1732257],[11.5520679,48.1732066],[11.5520105,48.1731731],[11.5519582,48.173129],[11.551934,48.1730886],[11.5519172,48.1730375],[11.5519292,48.1729594],[11.5518813,48.1729482],[11.5518413,48.1729663],[11.5517667,48.1729742],[11.5516699,48.1729475],[11.5516159,48.1729131],[11.5515243,48.1728573],[11.5515158,48.1728573],[11.5515285,48.1728755],[11.5515154,48.1729147],[11.5514604,48.1729642],[11.5513911,48.1730056],[11.5513026,48.17302],[11.5512237,48.1730184],[11.5512271,48.1730432],[11.551238,48.1730981],[11.5512069,48.1731492],[11.5511248,48.1731828],[11.5510252,48.1732146],[11.5509207,48.1732172],[11.5509143,48.1732203],[11.5509821,48.173264],[11.5509989,48.173315],[11.5509664,48.1733738],[11.550896,48.173449],[11.5508683,48.1734663],[11.5508243,48.1734793],[11.5507851,48.1734783],[11.5507419,48.1734683],[11.5507267,48.173488],[11.5507908,48.1735256],[11.5508322,48.1735546],[11.5508608,48.1736025],[11.5508738,48.1736505],[11.5508647,48.1737011],[11.5508223,48.1737908]]]]}},{type:"Feature",properties:{fid:35240,osm_id:"101698597",id:79,"Current Name (DE)":"Paulaner Headquarter","Current Name (Eng)":null,"Previous Name":null,Address:"Hochstraße 77, 81541 München","Starting year":null,"Completion year/Opening year":"2017","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"office",Description:null,Website:"https://www.archdaily.com/878781/paulaner-headquarter-hierl-architekten","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hierl Architekten",Status:null,AddressM:"Hochstraße 77, 81541 München, Munich",Latitude:48.1214474,Longitude:11.5822161,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5822045,48.1212716],[11.5821579,48.1212781],[11.5821463,48.1212911],[11.5821754,48.1214153],[11.5822126,48.1215381],[11.5822448,48.1216113],[11.5822698,48.1216231],[11.5823363,48.1216015],[11.5822854,48.1214726],[11.5822559,48.1213777],[11.5822367,48.1213108],[11.582231,48.1212835],[11.5822045,48.1212716]]]]}},{type:"Feature",properties:{fid:171487,osm_id:"1118418495",id:80,"Current Name (DE)":"Geschäftshaus","Current Name (Eng)":"Business Premise","Previous Name":null,Address:"Tegernseer Landstraße 64","Starting year":null,"Completion year/Opening year":"2013","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"office and commercial",Description:"https://www.ksg-architekten.info/de/projekte/gewerbe-kultur-de/tegernseer-landstrasse-muenchen/",Website:null,"Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":"Projektentwicklung Tegernseer Landstraße in München GmbH","Architect/Artist/Author":"KSG Architekten",Status:null,AddressM:"Tegernseer Landstraße 64, Munich",Latitude:48.1160867,Longitude:11.5801723,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5800263,48.1160912],[11.5801799,48.1162245],[11.5803266,48.1161514],[11.5802317,48.1160669],[11.5800886,48.115931],[11.5798704,48.1159558],[11.5800263,48.1160912]]]]}},{type:"Feature",properties:{fid:162448,osm_id:"857309526",id:83,"Current Name (DE)":"Gasteig HP8","Current Name (Eng)":null,"Previous Name":null,Address:"Hans-Preißinger-Straße 8, 81379 München","Starting year":null,"Completion year/Opening year":"2021","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"cultural center",Description:"Philarmonic and other concert halls",Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Gasteig_HP8","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gerkan, Marg und Partner",Status:null,AddressM:"Hans-Preißinger-Straße 8, 81379 München, Munich",Latitude:48.1117337,Longitude:11.5533153,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5534825,48.111725],[11.5532208,48.1113899],[11.5535968,48.1112589],[11.5538914,48.1111563],[11.5541532,48.1114915],[11.5534825,48.111725]]]]}},{type:"Feature",properties:{fid:162425,osm_id:"857065201",id:84,"Current Name (DE)":"Münchner Volkstheater","Current Name (Eng)":"Munich People’s Theater","Previous Name":null,Address:"Tumblingerstraße 29, 80337 München","Starting year":null,"Completion year/Opening year":"1903","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:"1955, 1983, 2021",Moved:null,Type:"building",Function:"theater",Description:null,Website:"https://www.archlro.de/en/projects/muenchner-volkstheater#1","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Münchner_Volkstheater","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"LRO Lederer Ragnarsdóttir Oei",Status:null,AddressM:"Tumblingerstraße 29, 80337 München, Munich",Latitude:48.1236407,Longitude:11.5554181,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5559973,48.1239436],[11.5560399,48.1239791],[11.5560825,48.1240145],[11.5561048,48.1240014],[11.5561205,48.1239812],[11.5561192,48.123948],[11.55611,48.1239226],[11.5561126,48.1239095],[11.556131,48.1238946],[11.5561595,48.1238908],[11.5561827,48.1238785],[11.5561974,48.1238566],[11.5561966,48.1238356],[11.5561803,48.1238207],[11.5562569,48.1237792],[11.5564195,48.1239089],[11.5564534,48.123936],[11.5566629,48.1238257],[11.5566522,48.1238161],[11.5566616,48.1238106],[11.5566381,48.1237905],[11.556693,48.1237612],[11.5565162,48.1236143],[11.5565165,48.123601],[11.5565165,48.1235882],[11.5565155,48.123577],[11.5565108,48.1235656],[11.5564987,48.1235567],[11.556468,48.1235736],[11.5564583,48.1235655],[11.5563346,48.1234624],[11.5561066,48.1232722],[11.5558592,48.1230725],[11.5558159,48.1230376],[11.5557455,48.1229824],[11.5549513,48.1234115],[11.5550455,48.1234914],[11.5550697,48.123512],[11.5550532,48.123521],[11.5556653,48.1240381],[11.5556919,48.1240241],[11.5557128,48.1240416],[11.5556861,48.1240557],[11.5557115,48.1240661],[11.5557308,48.1240696],[11.555752,48.1240701],[11.5557766,48.1240626],[11.5558269,48.1240372],[11.5559973,48.1239436]]]]}},{type:"Feature",properties:{fid:64732,osm_id:"127613427",id:85,"Current Name (DE)":"Wohnhochhaus Park Plaza","Current Name (Eng)":"Theresienhöhe Park Plaza","Previous Name":null,Address:"Theresienhöhe, 80339 München","Starting year":1995,"Completion year/Opening year":"1997","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"apartment building",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Theresienh%C3%B6he","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Otto Steidle",Status:null,AddressM:"Theresienhöhe, 80339 München, Munich",Latitude:48.1337784,Longitude:11.543876,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5404556,48.1336954],[11.5404275,48.1334384],[11.5406303,48.1334285],[11.540637,48.1334893],[11.5409482,48.1334741],[11.5409415,48.1334133],[11.5411354,48.1334038],[11.5411633,48.1336589],[11.5410104,48.1336663],[11.5409682,48.1336684],[11.5409609,48.1336017],[11.5406595,48.1336164],[11.540667,48.1336851],[11.5406295,48.1336869],[11.5404556,48.1336954]]]]}},{type:"Feature",properties:{fid:86563,osm_id:"160174573",id:87,"Current Name (DE)":"Fraunhofer-Gesellschaft","Current Name (Eng)":"Fraunhofer Society","Previous Name":null,Address:"Hansastraße 27c","Starting year":null,"Completion year/Opening year":"2003","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"headquarters",Description:"https://www.henn.com/de/projekt/fraunhofer-haus-muenchen",Website:"https://www.fraunhofer.de/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Fraunhofer-Gesellschaft","Owner/Initiator/Commissioned by":"Fraunhofer-Gesellschaft","Architect/Artist/Author":"HENN Architekten",Status:null,AddressM:"Hansastraße 27c, Munich",Latitude:48.1327046,Longitude:11.5302068,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5303265,48.1327296],[11.5299624,48.1325032],[11.5297823,48.1326347],[11.5300584,48.1328074],[11.5303303,48.1329759],[11.5305126,48.1328449],[11.5303265,48.1327296]]]]}},{type:"Feature",properties:{fid:119514,osm_id:"243890881",id:88,"Current Name (DE)":"ADAC-Zentrale","Current Name (Eng)":"ADAC Headquarters","Previous Name":null,Address:"Hansastraße 23-25 80686 Munich","Starting year":2010,"Completion year/Opening year":"2011","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"association",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/ADAC-Zentrale","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Sauerbruch Hutton",Status:null,AddressM:"Hansastraße 23-25 80686 Munich, Munich",Latitude:48.1328836,Longitude:11.5289386,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5286464,48.1328707],[11.52869,48.1328988],[11.5286762,48.1329084],[11.5287414,48.1329503],[11.5287544,48.1329413],[11.5288133,48.1329793],[11.5290068,48.1328454],[11.5289449,48.1328055],[11.5289575,48.1327968],[11.5289316,48.1327801],[11.5289009,48.1327603],[11.5288886,48.1327688],[11.5288394,48.1327372],[11.5286464,48.1328707]]]]}},{type:"Feature",properties:{fid:71571,osm_id:"141529506",id:89,"Current Name (DE)":"Neuapostolische Kirche","Current Name (Eng)":"New Apostolic Church","Previous Name":null,Address:"Helmpertstraße 7, 80687 München","Starting year":null,"Completion year/Opening year":"2013","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:null,Website:"https://www.muenchenarchitektur.com/architektur-highlights/21-kultur-und-bildungsbauten/21475-neuapostolische-kirche-muenchen-laim","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Haack + Höpfner",Status:null,AddressM:"Helmpertstraße 7, 80687 München, Munich",Latitude:48.1404509,Longitude:11.5020368,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5021288,48.1406095],[11.5021793,48.1403332],[11.5019387,48.1403136],[11.501846,48.140306],[11.5017845,48.1406423],[11.5018772,48.1406499],[11.5018845,48.1406101],[11.5018882,48.1405899],[11.5021288,48.1406095]]]]}},{type:"Feature",properties:{fid:156612,osm_id:"609571554",id:90,"Current Name (DE)":"Kap West","Current Name (Eng)":null,"Previous Name":null,Address:"Birketweg 36, 80639 München","Starting year":null,"Completion year/Opening year":"2019","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"office",Description:null,Website:"https://www.wielaretsarchitects.com/en/projects/am_hirschgarten/","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Wiel Arets Architects, HPP Architects",Status:null,AddressM:"Birketweg 36, 80639 München, Munich",Latitude:48.1450166,Longitude:11.5210631,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5203523,48.1449612],[11.5206124,48.1449479],[11.5206175,48.1449928],[11.5206328,48.1451262],[11.5207487,48.1451203],[11.5209374,48.1451107],[11.5209222,48.1449781],[11.5209169,48.1449323],[11.5211727,48.1449193],[11.5212105,48.1452489],[11.5204673,48.1452869],[11.5203901,48.1452908],[11.5203795,48.1451986],[11.5203523,48.1449612]]]]}},{type:"Feature",properties:{fid:156331,osm_id:"588791919",id:92,"Current Name (DE)":"Paketposthalle","Current Name (Eng)":"Parcel post hall","Previous Name":null,Address:"Georg-Lindau-Straße 12, 80634 München","Starting year":1965,"Completion year/Opening year":"1969","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"post",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Paketposthalle","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Rudolf Rosenfeld, Herbert Zettel, Ulrich Finsterwalder",Status:null,AddressM:"Georg-Lindau-Straße 12, 80634 München, Munich",Latitude:48.1479859,Longitude:11.5249804,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5250337,48.147833],[11.5252644,48.1478115],[11.5253963,48.147974],[11.5257016,48.1483502],[11.5250176,48.1486114],[11.524403,48.1478699],[11.524905,48.1478401],[11.5250257,48.1479869],[11.5247709,48.1480066],[11.5251115,48.1484307],[11.5254334,48.1483108],[11.5251695,48.1479953],[11.5250337,48.147833]]]]}},{type:"Feature",properties:{fid:340,osm_id:"2144986",id:93,"Current Name (DE)":"Schloss Nymphenburg","Current Name (Eng)":"Nymphenburg Palace","Previous Name":null,Address:"Schloß Nymphenburg 1, 80638 München","Starting year":null,"Completion year/Opening year":"1664","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"palace",Description:null,Website:"www.schloss-nymphenburg.de","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Schloss_Nymphenburg","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Agostino Barelli, Henrico Zuccalli and Joseph Effner",Status:null,AddressM:"Schloß Nymphenburg 1, 80638 München, Munich",Latitude:48.158259,Longitude:11.5032643,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5030873,48.1583972],[11.5032863,48.1584048],[11.5032797,48.1584925],[11.5032697,48.1585972],[11.5032208,48.1585953],[11.5032012,48.1588218],[11.5034604,48.1588317],[11.5034583,48.1588655],[11.5034946,48.1588803],[11.5035095,48.1588991],[11.5035149,48.1589215],[11.5035585,48.1589231],[11.5035506,48.1590212],[11.5035963,48.1590229],[11.5037622,48.1590288],[11.5037974,48.1590632],[11.503758,48.15952],[11.5038745,48.1595245],[11.503867,48.1596111],[11.5038459,48.159856],[11.5037453,48.1598522],[11.5037297,48.1600324],[11.5037176,48.1601724],[11.5034679,48.1601628],[11.503451,48.1603584],[11.5036965,48.1603678],[11.5036834,48.1605197],[11.5036313,48.1611238],[11.5039063,48.161134],[11.5049506,48.1611744],[11.5051991,48.161184],[11.5052175,48.1609702],[11.5053085,48.1599166],[11.5039517,48.1598645],[11.5039271,48.1598636],[11.5039276,48.1598578],[11.5039068,48.159857],[11.503928,48.1596122],[11.5039353,48.1595272],[11.5039786,48.1590258],[11.5038255,48.1590199],[11.5038285,48.1589816],[11.5038396,48.1588442],[11.5038413,48.1588235],[11.5037141,48.1588189],[11.5035673,48.1588137],[11.5035202,48.1588121],[11.5035379,48.1586074],[11.5034181,48.1586028],[11.5034273,48.158496],[11.5034347,48.1584095],[11.5034827,48.1584114],[11.5034964,48.1582531],[11.5035101,48.1580944],[11.5034631,48.1580926],[11.5034721,48.1579886],[11.5034801,48.1578955],[11.503602,48.1579002],[11.5036199,48.1576934],[11.5039473,48.157706],[11.5039645,48.1575063],[11.5041219,48.1575123],[11.5041646,48.1570179],[11.5041888,48.1567374],[11.504193,48.1566891],[11.5048274,48.1567135],[11.5056179,48.1567439],[11.5057269,48.1554813],[11.5041745,48.1554217],[11.5041376,48.1558496],[11.50412,48.1558489],[11.5040923,48.1561703],[11.5040793,48.1561698],[11.5040632,48.1563556],[11.5040785,48.1563562],[11.5040502,48.1566832],[11.5041429,48.1566867],[11.5041386,48.1567354],[11.5041145,48.1570157],[11.5039963,48.1570111],[11.5039772,48.1572322],[11.5039481,48.157231],[11.5039433,48.1572865],[11.5039746,48.1572877],[11.5039566,48.157497],[11.5038157,48.1574916],[11.503678,48.1574863],[11.5036719,48.1575559],[11.5036689,48.1575916],[11.5036119,48.1575894],[11.5035863,48.1575763],[11.503559,48.1575793],[11.5035442,48.1575941],[11.5035479,48.1576153],[11.503574,48.1576261],[11.5035699,48.1576734],[11.5033148,48.1576636],[11.5032952,48.1578905],[11.5033278,48.1578918],[11.5033198,48.1579843],[11.5033108,48.1580877],[11.5031147,48.1580802],[11.5030873,48.1583972]],[[11.5038529,48.1606998],[11.5038307,48.1609913],[11.5041231,48.1610011],[11.504124,48.1609889],[11.5047132,48.1610089],[11.5047114,48.1610326],[11.5049641,48.1610412],[11.5050453,48.1610439],[11.5050683,48.1607409],[11.5044618,48.1607204],[11.5038529,48.1606998]],[[11.5038674,48.1605723],[11.5038869,48.1603432],[11.5038925,48.1602769],[11.503915,48.159981],[11.5039404,48.159982],[11.5044112,48.1599965],[11.504409,48.1600401],[11.5046195,48.1600404],[11.5046199,48.1600044],[11.5051197,48.1600189],[11.5050792,48.1606199],[11.5043856,48.1605919],[11.5038674,48.1605723]],[[11.5042411,48.1565612],[11.5048408,48.1565841],[11.5053615,48.1566039],[11.5053654,48.1565576],[11.505444,48.1565606],[11.5054839,48.1560946],[11.5053943,48.1560912],[11.5054003,48.1560214],[11.504291,48.1559792],[11.5042411,48.1565612]],[[11.5043349,48.1555639],[11.5043095,48.1558229],[11.5055241,48.1558759],[11.5055495,48.1556169],[11.5043349,48.1555639]]]]}},{type:"Feature",properties:{fid:745,osm_id:"8585003",id:94,"Current Name (DE)":"Amalienburg","Current Name (Eng)":"The Amalienburg","Previous Name":null,Address:"Schloß Nymphenburg 203","Starting year":1734,"Completion year/Opening year":"1739","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"castle",Description:null,Website:"https://www.schloss-nymphenburg.de/deutsch/p-burgen/amalien.htm","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/burgen-und-schloesser/amalienburg","Wikipedia page":null,"Owner/Initiator/Commissioned by":"Kurfürst Karl Albrecht","Architect/Artist/Author":"François Cuvilliés the Elder",Status:null,AddressM:"Schloß Nymphenburg 203, Munich",Latitude:48.1561155,Longitude:11.5003997,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5002526,48.1562593],[11.500427,48.1562686],[11.5004486,48.1562578],[11.5004565,48.1561714],[11.5004946,48.156152],[11.5005149,48.156115],[11.5004993,48.1560777],[11.5004669,48.1560574],[11.5004751,48.1559679],[11.5004653,48.1559588],[11.5002848,48.1559546],[11.5002719,48.155962],[11.5002695,48.1559843],[11.5002665,48.156018],[11.5002894,48.1560277],[11.5003073,48.1560435],[11.5003186,48.1560618],[11.500305,48.1560765],[11.500296,48.156096],[11.5002955,48.1561174],[11.500301,48.1561328],[11.5003104,48.1561461],[11.5002939,48.1561616],[11.5002752,48.1561728],[11.5002472,48.1561866],[11.500244,48.1562152],[11.5002403,48.1562482],[11.5002526,48.1562593]]]]}},{type:"Feature",properties:{fid:39046,osm_id:"106765963",id:95,"Current Name (DE)":"Pagodenburg","Current Name (Eng)":"Pagoda Castle","Previous Name":null,Address:"Schlosspark Nymphenburg München, 80638 München","Starting year":1716,"Completion year/Opening year":"1719","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"castle",Description:null,Website:"https://www.schloss-nymphenburg.de/englisch/p-palaces/pagoden.htm","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Joseph Effner",Status:null,AddressM:"Schlosspark Nymphenburg München, 80638 München, Munich",Latitude:48.159074,Longitude:11.5116678,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.4927891,48.1600164],[11.4928161,48.1600175],[11.4928394,48.1600185],[11.4928377,48.1600403],[11.4928595,48.1600599],[11.4928939,48.1600621],[11.4928915,48.1600905],[11.4928578,48.1600896],[11.4928344,48.1601061],[11.4928327,48.1601203],[11.4927821,48.1601185],[11.4927818,48.1601039],[11.4927642,48.1600865],[11.4927325,48.1600855],[11.4927346,48.1600548],[11.492767,48.1600556],[11.4927873,48.1600391],[11.4927891,48.1600164]]]]}},{type:"Feature",properties:{fid:82571,osm_id:"152093774",id:97,"Current Name (DE)":"Herz-Jesu-Kirche","Current Name (Eng)":"Church of the Sacred Heart of Jesus","Previous Name":null,Address:"Lachnerstraße 8","Starting year":null,"Completion year/Opening year":"2000","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:"https://www.atlasobscura.com/places/herz-jesu-kirche",Website:`www.herzjesu-muenchen.de
https://www.allmannwappner.com/en/projekte/15/herz-jesu-church-munich`,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Herz-Jesu-Kirche_(München)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Allmann Sattler Wappner",Status:null,AddressM:"Lachnerstraße 8, Munich",Latitude:48.1563884,Longitude:11.5287445,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5287472,48.1566127],[11.5284912,48.1565385],[11.5287499,48.1561413],[11.5288793,48.1561788],[11.5290059,48.1562155],[11.5287472,48.1566127]]]]}},{type:"Feature",properties:{fid:22245,osm_id:"81428382",id:98,"Current Name (DE)":"Haus der Architektur","Current Name (Eng)":"House of the Architecture","Previous Name":null,Address:"Waisenhausstraße 4","Starting year":null,"Completion year/Opening year":"2002","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"association",Description:"bavarian chamber of architects",Website:"https://www.byak.de/","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":"ByAK - Bayerische Architektenkammer","Architect/Artist/Author":"Drescher & Kubina",Status:null,AddressM:"Waisenhausstraße 4, Munich",Latitude:48.1578096,Longitude:11.5312017,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.531102,48.1578785],[11.5312357,48.1579182],[11.5313396,48.1577622],[11.5312018,48.1577213],[11.5312354,48.1576709],[11.5311301,48.1576397],[11.5310926,48.157696],[11.5311556,48.1577147],[11.5310582,48.157861],[11.5309983,48.1578432],[11.5309622,48.1578975],[11.5310684,48.1579289],[11.531102,48.1578785]]]]}},{type:"Feature",properties:{fid:170794,osm_id:"1088413732",id:100,"Current Name (DE)":"Theater Schwere Reiter","Current Name (Eng)":"Heavy riders - dance theater music","Previous Name":null,Address:"Dachauer Str. 114","Starting year":null,"Completion year/Opening year":"2021","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"theater",Description:null,Website:"https://www.sueddeutsche.de/muenchen/schwere-reiter-freie-szene-kreativquartier-neubau-theater-tanz-musik-eroeffnung-1.5411288","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Mahlknecht Herrle",Status:null,AddressM:"Dachauer Str. 114, Munich",Latitude:48.1591213,Longitude:11.5481714,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5480971,48.1591156],[11.5482315,48.1590048],[11.5483109,48.1590478],[11.5482335,48.1591116],[11.5485174,48.1592649],[11.5484605,48.1593118],[11.5481945,48.1591682],[11.5480971,48.1591156]]]]}},{type:"Feature",properties:{fid:624,osm_id:"4697629",id:103,"Current Name (DE)":"Hochhaus Uptown München","Current Name (Eng)":"Munich Uptown Building","Previous Name":null,Address:"o2 can do Tower, Georg-Brauchle-Ring 50","Starting year":2001,"Completion year/Opening year":"2004","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"office",Description:null,Website:"https://www.lcn.eu/en/portfolio-item/uptown-muenchen/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Hochhaus_Uptown_München","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Ingenhoven Overdiek und Partner",Status:null,AddressM:"o2 can do Tower, Georg-Brauchle-Ring 50, Munich",Latitude:48.1769028,Longitude:11.5324205,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5323429,48.1770629],[11.5325691,48.177059],[11.5327946,48.1770552],[11.5328163,48.1770399],[11.5328047,48.1767386],[11.5327787,48.1767223],[11.5323272,48.17673],[11.5323092,48.1767427],[11.532321,48.1770491],[11.5323429,48.1770629]]]]}},{type:"Feature",properties:{fid:63642,osm_id:"126248046",id:104,"Current Name (DE)":"Olympia-Einkaufszentrum","Current Name (Eng)":"Olympia shopping mall","Previous Name":null,Address:"Hanauer Straße 68, 80993 München","Starting year":null,"Completion year/Opening year":"1972","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":"1993-1994",Rebuilt:null,Moved:null,Type:"building",Function:"shopping center",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://en.wikipedia.org/wiki/Olympia-Einkaufszentrum_(Munich_U-Bahn)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hans Baumgarten and Curt O. Schalle",Status:null,AddressM:"Hanauer Straße 68, 80993 München, Munich",Latitude:48.183592,Longitude:11.531741,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5329402,48.1827478],[11.5329379,48.1827354],[11.5331678,48.1827161],[11.5331995,48.182831],[11.5332491,48.1828265],[11.5333237,48.1831899],[11.5331932,48.1832018],[11.5332023,48.1832464],[11.5332109,48.1832881],[11.5335415,48.1832611],[11.534002,48.1832235],[11.5346105,48.183174],[11.5354654,48.1831039],[11.5354787,48.1831028],[11.5355163,48.1830998],[11.5354575,48.1827851],[11.5359647,48.182743],[11.5360322,48.1831038],[11.5362647,48.1830906],[11.5365415,48.1830781],[11.5366428,48.1830722],[11.5366699,48.18328],[11.5366727,48.1833074],[11.5366753,48.1833334],[11.5367034,48.1833311],[11.5367823,48.1837523],[11.5368359,48.1840494],[11.5365517,48.1840718],[11.5361149,48.1841074],[11.5360155,48.1835651],[11.5359558,48.1835702],[11.5347404,48.1836741],[11.5346929,48.1836781],[11.5346508,48.1836814],[11.5336262,48.1837645],[11.5334906,48.1837755],[11.5334931,48.1837892],[11.5333996,48.1837968],[11.5333971,48.1837831],[11.5332454,48.1837961],[11.533214,48.1837988],[11.5331623,48.1838027],[11.5327225,48.1838381],[11.5322894,48.1838729],[11.5323297,48.1840742],[11.5323467,48.1841592],[11.5321002,48.1841721],[11.5321036,48.1841923],[11.5319142,48.1842065],[11.5318802,48.1840045],[11.5318627,48.1840039],[11.5318457,48.1840071],[11.5318395,48.1839703],[11.5317755,48.1839749],[11.5317214,48.1836973],[11.5316499,48.1836986],[11.5315895,48.1836978],[11.5315474,48.1836868],[11.5314985,48.1836742],[11.5315195,48.1836527],[11.5314812,48.1836315],[11.531443,48.1836042],[11.5314181,48.1835619],[11.5314114,48.1835219],[11.531417,48.1834889],[11.5314285,48.1834602],[11.5314539,48.1834351],[11.531478,48.1834115],[11.5314489,48.1832535],[11.5313978,48.1829759],[11.531798,48.1829431],[11.5323406,48.1828987],[11.5323666,48.1830397],[11.5323905,48.1830377],[11.5324428,48.1830332],[11.5324007,48.182784],[11.5323901,48.1827299],[11.5323015,48.1827376],[11.532298,48.1827379],[11.5322577,48.1827414],[11.5322173,48.1827449],[11.5321768,48.1827484],[11.5321365,48.182752],[11.5320652,48.1827582],[11.5320542,48.182702],[11.5319294,48.1827128],[11.5318841,48.182482],[11.5318743,48.1824317],[11.5319384,48.1824258],[11.532257,48.182398],[11.5325738,48.1823704],[11.5326397,48.1823643],[11.5326518,48.1824168],[11.5326831,48.1825764],[11.5326669,48.1825779],[11.5326983,48.1827385],[11.5327041,48.1827675],[11.5329402,48.1827478]]]]}},{type:"Feature",properties:{fid:114164,osm_id:"239775397",id:107,"Current Name (DE)":"Studentenviertel Oberwiesenfeld","Current Name (Eng)":"OlyDorf Bungalows","Previous Name":null,Address:"Connollystraße 3, 80809 München","Starting year":null,"Completion year/Opening year":"1972","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"housing",Description:null,Website:"https://www.studentenwerk-muenchen.de/en/accommodation/halls-of-residence/munich/central-munich/student-quarters-olympic-village/","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Günther Eckert and Werner Wirsing",Status:null,AddressM:"Connollystraße 3, 80809 München, Munich",Latitude:48.1791389,Longitude:11.5537344,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5537442,48.1791363],[11.5536814,48.1791364],[11.5536815,48.1791646],[11.5537443,48.1791645],[11.5537442,48.1791363]]]]}},{type:"Feature",properties:{fid:70833,osm_id:"140008096",id:108,"Current Name (DE)":"Olympiahalle","Current Name (Eng)":null,"Previous Name":null,Address:"Olympiapark, Spiridon-Louis-Ring 21, 80809 München","Starting year":null,"Completion year/Opening year":"1972","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"multi-purpose arena",Description:null,Website:"https://www.archdaily.com/109136/ad-classics-munich-olympic-stadium-frei-otto-gunther-behnisch","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Olympiahalle_München","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Frei Otto and Günter Behnisch",Status:null,AddressM:"Olympiapark, Spiridon-Louis-Ring 21, 80809 München, Munich",Latitude:48.1754646,Longitude:11.551797,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5527694,48.1751578],[11.5525417,48.1750568],[11.5524076,48.1750043],[11.5522519,48.1749379],[11.5521139,48.1748776],[11.5519853,48.1748214],[11.5518706,48.174754],[11.5518125,48.1747134],[11.5517826,48.1746876],[11.5517237,48.1746322],[11.5516707,48.174568],[11.5516078,48.1744817],[11.5515925,48.1744329],[11.5515984,48.1743866],[11.5516189,48.1743383],[11.5516525,48.174306],[11.5517105,48.1742689],[11.551778,48.1742424],[11.5518763,48.1742277],[11.5520947,48.1742112],[11.5522965,48.1741958],[11.5523889,48.1741907],[11.5525912,48.1741562],[11.5528753,48.174068],[11.5529978,48.1752123],[11.5529325,48.1752281],[11.5527694,48.1751578]]]]}},{type:"Feature",properties:{fid:1262,osm_id:"25001469",id:109,"Current Name (DE)":"Olympiastadion","Current Name (Eng)":"Olympic Stadium","Previous Name":null,Address:"Olympiapark München, Spiridon-Louis-Ring 25, 80809 München","Starting year":null,"Completion year/Opening year":"1972","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"stadium",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://en.wikiarquitectura.com/building/munich-olympic-stadium/","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Günther Behnisch and Frei Otto",Status:null,AddressM:"Olympiapark München, Spiridon-Louis-Ring 25, 80809 München, Munich",Latitude:48.1719887,Longitude:11.5477061,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.54504,48.1741189],[11.545026,48.1740697],[11.5449642,48.1740014],[11.544872,48.1739561],[11.5447992,48.1738694],[11.5448059,48.1737943],[11.5447761,48.1737452],[11.544739,48.173702],[11.5447133,48.1736402],[11.5446986,48.1735994],[11.5446776,48.1735733],[11.5446864,48.1735163],[11.5446731,48.1734602],[11.5446408,48.1734096],[11.5446068,48.1733694],[11.5445928,48.1732705],[11.5446352,48.1731894],[11.5446306,48.1731116],[11.5446296,48.1730748],[11.5446598,48.1729677],[11.5446846,48.1729064],[11.5446999,48.1728203],[11.5446731,48.1727638],[11.5447132,48.1726836],[11.5447844,48.1726393],[11.5448293,48.1725904],[11.5448505,48.1725376],[11.5448505,48.1724803],[11.544884,48.1724759],[11.5449468,48.1723862],[11.5449498,48.1723598],[11.5450134,48.1723129],[11.545048,48.1722705],[11.5450648,48.1722303],[11.5450692,48.1722028],[11.5451574,48.1721425],[11.5452592,48.1721133],[11.5453292,48.172077],[11.5453827,48.1720242],[11.5454307,48.1720183],[11.5455318,48.1719479],[11.5455512,48.171926],[11.5456159,48.1719134],[11.5456773,48.1718918],[11.5457152,48.1718531],[11.5457336,48.1718264],[11.5458602,48.1717772],[11.5459327,48.1717742],[11.5460198,48.1717601],[11.5461008,48.1717198],[11.5462793,48.1716792],[11.5463438,48.1717067],[11.5464416,48.1717188],[11.5465631,48.171708],[11.5466077,48.1716894],[11.5466256,48.1717234],[11.5466703,48.1717511],[11.5467173,48.1717682],[11.5467677,48.1717686],[11.5468286,48.1717631],[11.5468226,48.1717852],[11.5468208,48.1718179],[11.5468377,48.1718528],[11.5468631,48.1718766],[11.5469279,48.17191],[11.5470016,48.171929],[11.546961,48.1719742],[11.54693,48.1720373],[11.546929,48.1720897],[11.5469447,48.1721314],[11.5469748,48.1721534],[11.5469774,48.1721634],[11.546803,48.1721887],[11.5466377,48.1722169],[11.5464291,48.1723097],[11.5462927,48.1723755],[11.5461835,48.1724365],[11.5461167,48.1724902],[11.5460343,48.1725637],[11.5458702,48.1727145],[11.5457489,48.1728832],[11.54567,48.1731033],[11.545666,48.1732681],[11.5456912,48.1734164],[11.545726,48.1735281],[11.5457892,48.173647],[11.5459047,48.1737833],[11.546017,48.1739022],[11.5461654,48.1739864],[11.5463643,48.1740777],[11.5465321,48.1741344],[11.546673,48.1741791],[11.5468058,48.1742024],[11.547042,48.1742315],[11.5471893,48.1742444],[11.5471856,48.1742533],[11.5471727,48.1742791],[11.5471708,48.1743143],[11.5472029,48.1743582],[11.5472587,48.1743882],[11.5472047,48.1744397],[11.5471913,48.1744821],[11.5471984,48.1745204],[11.5472212,48.1745541],[11.5471783,48.1745715],[11.5471419,48.1746066],[11.5471207,48.1746515],[11.5471216,48.1746883],[11.5470733,48.1746876],[11.5469769,48.1746841],[11.546899,48.1746989],[11.5468362,48.1747303],[11.5467078,48.1746988],[11.5465849,48.1747116],[11.5464405,48.1746916],[11.5463177,48.1746626],[11.5461818,48.1746553],[11.5460708,48.1746342],[11.5459857,48.1745917],[11.5458631,48.1745754],[11.5457453,48.1745059],[11.5456997,48.1745045],[11.5455416,48.1744192],[11.5454082,48.1743956],[11.5453547,48.1743544],[11.545351,48.1742975],[11.5452638,48.174243],[11.5451663,48.1742037],[11.5451168,48.1741576],[11.54504,48.1741189]]]]}},{type:"Feature",properties:{fid:106661,osm_id:"227012665",id:110,"Current Name (DE)":"Olympia-Schwimmhalle (Hallenbad)","Current Name (Eng)":null,"Previous Name":null,Address:"Coubertinpl. 1, 80809 München","Starting year":null,"Completion year/Opening year":"1972","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"swimmimg pool",Description:null,Website:"https://www.swm.de/baeder/schwimmen-sauna/olympia-schwimmhalle","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Olympia-Schwimmhalle","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Günter Behnisch",Status:null,AddressM:"Coubertinpl. 1, 80809 München, Munich",Latitude:48.1729824,Longitude:11.5525499,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5509267,48.1736654],[11.5509376,48.17354],[11.5510846,48.1732639],[11.5513516,48.1731085],[11.5516628,48.1730187],[11.5518584,48.1730287],[11.5519394,48.1732135],[11.5520326,48.1733035],[11.5518979,48.1734809],[11.5519035,48.1736037],[11.5519669,48.1736723],[11.5520214,48.1740068],[11.5519303,48.1739989],[11.551801,48.1740249],[11.5516786,48.174082],[11.5515569,48.174095],[11.5514754,48.1741259],[11.5514129,48.1740764],[11.551262,48.1740251],[11.5512969,48.1739506],[11.5512893,48.1738586],[11.5512426,48.1737634],[11.5511364,48.1736926],[11.5510302,48.1736726],[11.5509267,48.1736654]]]]}},{type:"Feature",properties:{fid:811,osm_id:"15804929",id:113,"Current Name (DE)":"BMW Welt","Current Name (Eng)":"BMW World","Previous Name":null,Address:"Am Olympiapark 1","Starting year":null,"Completion year/Opening year":"2007","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"bmw museum",Description:null,Website:"https://www.bmw-welt.com/de/index.html","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/BMW_Welt","Owner/Initiator/Commissioned by":"BMW AG","Architect/Artist/Author":"COOP Himmelb(l)au",Status:null,AddressM:"Am Olympiapark 1, Munich",Latitude:48.1771981,Longitude:11.5562963,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5556952,48.1779142],[11.5557917,48.1779445],[11.555727,48.1780311],[11.5557303,48.1780322],[11.5558362,48.1780672],[11.5557812,48.1781416],[11.5557685,48.1781613],[11.5559887,48.1782276],[11.5561363,48.1782721],[11.5561487,48.178254],[11.5562254,48.1781602],[11.5562401,48.178143],[11.5562791,48.1780973],[11.5563885,48.1781339],[11.5569097,48.1774258],[11.5571999,48.177012],[11.5572625,48.1769243],[11.5572691,48.1769133],[11.5573276,48.1768154],[11.5573917,48.1767241],[11.557409,48.1766671],[11.5574068,48.176629],[11.5573884,48.1765822],[11.5573511,48.1765373],[11.5572993,48.1765008],[11.5572194,48.1764694],[11.5571248,48.1764556],[11.5570521,48.1764589],[11.5569693,48.1764698],[11.5569409,48.1764722],[11.5568221,48.1764796],[11.5561748,48.1765592],[11.5556972,48.1766251],[11.5556963,48.177838],[11.5556952,48.1779142]]]]}},{type:"Feature",properties:{fid:146999,osm_id:"310296322",id:114,"Current Name (DE)":"BMW-Vierzylinder","Current Name (Eng)":"BMW Headquarters","Previous Name":null,Address:"Petuelring 130","Starting year":null,"Completion year/Opening year":"1973","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"headquarters",Description:null,Website:"https://www.bmwgroup.com/en/general/approach-headquarters.html","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/BMW-Vierzylinder","Owner/Initiator/Commissioned by":"BMW AG","Architect/Artist/Author":"Karl Schwanzer",Status:null,AddressM:"Petuelring 130, Munich",Latitude:48.1770631,Longitude:11.5601401,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5602023,48.1767127],[11.5600038,48.1767137],[11.5599534,48.1767096],[11.5599229,48.176714],[11.559824,48.1767145],[11.5598234,48.1767781],[11.5598216,48.1767813],[11.5598165,48.1768013],[11.5598205,48.1768312],[11.5598266,48.1768418],[11.5598335,48.1769819],[11.5598246,48.1769927],[11.559817,48.177029],[11.5598254,48.1770571],[11.5598378,48.1770706],[11.5598379,48.1770724],[11.5598394,48.1770724],[11.5598573,48.1770918],[11.5598949,48.1771109],[11.5599221,48.1771183],[11.5599522,48.1771221],[11.5599971,48.1771199],[11.5600303,48.1771119],[11.5600599,48.1770988],[11.5600855,48.1770798],[11.5600935,48.1770706],[11.5601766,48.17707],[11.5601834,48.177078],[11.5602166,48.1770988],[11.5602603,48.1771129],[11.5603148,48.177116],[11.5603565,48.177109],[11.5604069,48.1770859],[11.5604249,48.1770683],[11.5604366,48.1770682],[11.560436,48.1770548],[11.5604431,48.1770413],[11.5604471,48.177021],[11.5604413,48.1769912],[11.5604328,48.1769778],[11.5604264,48.1768268],[11.5604368,48.1768068],[11.5604355,48.1767704],[11.560423,48.1767481],[11.5604215,48.1767117],[11.5603782,48.1767119],[11.5603395,48.176698],[11.5603108,48.1766934],[11.5602801,48.1766928],[11.560236,48.1766997],[11.5602048,48.1767112],[11.5602023,48.1767127]]]]}},{type:"Feature",properties:{fid:3289,osm_id:"30343038",id:118,"Current Name (DE)":"Mira Einkaufszentrum","Current Name (Eng)":"Mira Shopping Center","Previous Name":null,Address:"Schleißheimer Str. 506, 80933 München","Starting year":null,"Completion year/Opening year":"2008","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"shopping center",Description:null,Website:`www.mira-einkaufszentrum.de
https://www.instagram.com/p/COP8jDfBaOE/`,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Mira_(Einkaufszentrum)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Chapman Taylor",Status:null,AddressM:"Schleißheimer Str. 506, 80933 München, Munich",Latitude:48.2129897,Longitude:11.5636486,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5629621,48.2134296],[11.5629792,48.2133295],[11.562987,48.2132869],[11.5631267,48.2125487],[11.5637187,48.2125855],[11.5638409,48.212593],[11.5638731,48.2123628],[11.5643292,48.2123911],[11.5641657,48.2135127],[11.5629621,48.2134296]]]]}},{type:"Feature",properties:{fid:311,osm_id:"1959597",id:119,"Current Name (DE)":"Kinderhaus Dominikuszentrum","Current Name (Eng)":"Dominikuszentrum children's home","Previous Name":null,Address:"Hildegard-von-Bingen-Anger 3, 80937 München","Starting year":2005,"Completion year/Opening year":"2008","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"clinic",Description:null,Website:"https://miesarch.com/work/2035","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Meck architects",Status:null,AddressM:"Hildegard-von-Bingen-Anger 3, 80937 München, Munich",Latitude:48.2103241,Longitude:11.5695801,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5693226,48.209753],[11.569966,48.2098701],[11.5697615,48.2103688],[11.5691182,48.2102516],[11.5693226,48.209753]],[[11.5697707,48.2099678],[11.5694734,48.2099126],[11.5693544,48.2101973],[11.5696517,48.2102525],[11.5697707,48.2099678]]]]}},{type:"Feature",properties:{fid:96365,osm_id:"183148901",id:120,"Current Name (DE)":"Highlight Towers","Current Name (Eng)":null,"Previous Name":null,Address:"Mies-van-der-Rohe-Straße 6, 80807 München","Starting year":null,"Completion year/Opening year":"2004","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"office",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Highlight_Towers","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Helmut Jahn",Status:null,AddressM:"Mies-van-der-Rohe-Straße 6, 80807 München, Munich",Latitude:48.1763842,Longitude:11.5924578,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5925413,48.1766076],[11.5926027,48.1765783],[11.5927721,48.1767551],[11.592887,48.1766415],[11.5923713,48.1760938],[11.5922533,48.1762186],[11.5925313,48.1765018],[11.5924645,48.1765327],[11.5924824,48.1765501],[11.5924008,48.1765876],[11.5923273,48.1766213],[11.5923095,48.1766039],[11.5922737,48.1766202],[11.592083,48.1764197],[11.5919721,48.1765382],[11.5924946,48.1770842],[11.5926051,48.1769613],[11.592346,48.176698],[11.5923863,48.1766787],[11.5923663,48.1766593],[11.5924377,48.1766265],[11.5925214,48.1765881],[11.5925413,48.1766076]]]]}},{type:"Feature",properties:{fid:162487,osm_id:"859418727",id:121,"Current Name (DE)":"Showpalast München","Current Name (Eng)":"Apassionata Showpalast","Previous Name":null,Address:"Hans-Jensen-Weg 3","Starting year":2016,"Completion year/Opening year":"2017","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"event palace",Description:"https://graftlab.com/projects/showpalast-muenchen",Website:"https://www.showpalast-muenchen.com/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Showpalast_M%C3%BCnchen","Owner/Initiator/Commissioned by":"APASSIONATA Park München GmbH & Co.KG","Architect/Artist/Author":"GRAFT Architekten",Status:null,AddressM:"Hans-Jensen-Weg 3, Munich",Latitude:48.2088879,Longitude:11.6190408,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.618935,48.2089877],[11.6192007,48.2088992],[11.6190619,48.2087122],[11.6187982,48.2087948],[11.618935,48.2089877]]]]}},{type:"Feature",properties:{fid:69,osm_id:"142277",id:122,"Current Name (DE)":"Allianz Arena","Current Name (Eng)":"Allianz Arena","Previous Name":null,Address:"Werner-Heisenberg-Allee 25","Starting year":null,"Completion year/Opening year":"2005","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"stadium",Description:null,Website:"https://allianz-arena.com/de","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Allianz_Arena","Owner/Initiator/Commissioned by":"Allianz Arena München Stadion GmbH","Architect/Artist/Author":"Herzog&de Meuron",Status:null,AddressM:"Werner-Heisenberg-Allee 25, Munich",Latitude:48.2181243,Longitude:11.6256249,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.6239978,48.2198978],[11.6242165,48.2199438],[11.6244211,48.2199741],[11.6246329,48.2200009],[11.6248459,48.2200159],[11.6250827,48.2200183],[11.6252893,48.2199802],[11.6255188,48.2198883],[11.6256847,48.2197816],[11.6258075,48.2196459],[11.6259064,48.2195067],[11.6259886,48.2193658],[11.6260631,48.2192198],[11.6261265,48.2190732],[11.6261864,48.2189227],[11.62623,48.2187704],[11.6262547,48.2186158],[11.6262833,48.2184664],[11.6262789,48.2183083],[11.6262184,48.2181571],[11.6261042,48.2180235],[11.6259411,48.2179088],[11.6257382,48.217827],[11.6255337,48.2177693],[11.6253312,48.2177205],[11.6251234,48.2176782],[11.6249142,48.217647],[11.6247035,48.2176197],[11.6244754,48.2176003],[11.624244,48.2176036],[11.6240195,48.2176448],[11.6238145,48.2177225],[11.6236527,48.2178326],[11.6235273,48.2179644],[11.6234265,48.21811],[11.6233403,48.2182537],[11.6232677,48.2184017],[11.6232081,48.2185488],[11.623152,48.2186961],[11.6230947,48.2188465],[11.6230662,48.2190009],[11.6230444,48.2191585],[11.6230469,48.2193085],[11.6231021,48.2194632],[11.6232229,48.2195978],[11.6233786,48.2197097],[11.623579,48.2197919],[11.6237741,48.2198469],[11.6239978,48.2198978]],[[11.6243371,48.2193206],[11.6245235,48.2193527],[11.6246825,48.2193679],[11.624807,48.2193642],[11.624834,48.2193634],[11.6249614,48.2193156],[11.6250332,48.2192517],[11.6251052,48.2191226],[11.6251743,48.2189943],[11.6252357,48.2188517],[11.6252899,48.2187018],[11.6253215,48.2185637],[11.6253215,48.2184837],[11.6252766,48.2184122],[11.6252273,48.2183747],[11.6252196,48.2183689],[11.6250969,48.2183229],[11.6249575,48.2182832],[11.6247864,48.2182532],[11.6246261,48.2182344],[11.6244894,48.2182371],[11.6244737,48.2182411],[11.6243774,48.2182657],[11.6243009,48.2183126],[11.6242446,48.2183814],[11.6241729,48.2185253],[11.6241191,48.2186559],[11.6240571,48.2188049],[11.6240107,48.2189406],[11.6239712,48.2190744],[11.6240005,48.2191642],[11.624077,48.2192303],[11.6241856,48.2192812],[11.6243371,48.2193206]]]]}},{type:"Feature",properties:{fid:154306,osm_id:"491865053",id:123,"Current Name (DE)":"Pharao-Haus","Current Name (Eng)":"Pharaoh House","Previous Name":null,Address:"Fritz-Meyer-Weg 55, 81925 München","Starting year":null,"Completion year/Opening year":"1974","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"housing",Description:null,Website:"https://www.pixelrakete.de/pharao-haus-in-oberfoehring-muenchen/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Pharao-Haus","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Karl Helmut Bayer",Status:null,AddressM:"Fritz-Meyer-Weg 55, 81925 München, Munich",Latitude:48.172703,Longitude:11.6357484,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.6347103,48.1729],[11.6349248,48.1728044],[11.6354975,48.1733758],[11.635463,48.1733912],[11.6355489,48.1734769],[11.6355821,48.17351],[11.6355933,48.173505],[11.6356012,48.1735015],[11.63578,48.1734218],[11.6358088,48.1734506],[11.6358288,48.1734417],[11.6358934,48.1735061],[11.6362773,48.1738891],[11.6362095,48.1739193],[11.6362268,48.1739366],[11.6361199,48.1739843],[11.6361026,48.173967],[11.6360529,48.1739892],[11.6356368,48.173574],[11.6355986,48.1735911],[11.6355372,48.1736184],[11.635551,48.1736322],[11.6351122,48.1738278],[11.634961,48.173677],[11.6353585,48.1734998],[11.6354045,48.1734793],[11.6353616,48.1734364],[11.6352982,48.1734647],[11.6352758,48.1734423],[11.6352607,48.1734491],[11.6347103,48.1729]]]]}},{type:"Feature",properties:{fid:3455,osm_id:"30405043",id:124,"Current Name (DE)":"Sammlung Goetz","Current Name (Eng)":"Goetz Collection","Previous Name":null,Address:"Oberföhringer Str. 103, 81925 München","Starting year":null,"Completion year/Opening year":"1992","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:"https://www.archdaily.com/211932/sammlung-goetz-munich-herzog-de-meuron",Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Sammlung_Goetz","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Herzog & de Meuron",Status:null,AddressM:"Oberföhringer Str. 103, 81925 München, Munich",Latitude:48.1660893,Longitude:11.6230201,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.6230471,48.1662168],[11.6231434,48.1661762],[11.6229665,48.1659894],[11.6228701,48.16603],[11.6230471,48.1662168]]]]}},{type:"Feature",properties:{fid:3635,osm_id:"30424527",id:125,"Current Name (DE)":"Hügelhaus","Current Name (Eng)":"Hill House","Previous Name":null,Address:"Titurelstraße 3, 81925 München","Starting year":1968,"Completion year/Opening year":"1970","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"apartments",Description:null,Website:"https://www.sosbrutalism.org/cms/15890425","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Walter Ebert",Status:null,AddressM:"Titurelstraße 3, 81925 München, Munich",Latitude:48.1604045,Longitude:11.618445,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.618669,48.1609757],[11.6187982,48.1609674],[11.6187838,48.1608688],[11.6187276,48.1608724],[11.6187179,48.1608055],[11.6186585,48.1608093],[11.6186494,48.160747],[11.6185849,48.1607512],[11.6185523,48.1605266],[11.618568,48.1605255],[11.618561,48.160477],[11.6186763,48.1604695],[11.6186624,48.1603734],[11.6184589,48.1603866],[11.6184608,48.1603998],[11.6183437,48.1604074],[11.6183513,48.1604594],[11.6182853,48.1604637],[11.6183353,48.1608081],[11.6184552,48.1608003],[11.6184532,48.1607863],[11.6185217,48.1607818],[11.6185322,48.1608539],[11.6185886,48.1608502],[11.618598,48.1609147],[11.6186595,48.1609107],[11.618669,48.1609757]]]]}},{type:"Feature",properties:{fid:101804,osm_id:"211447642",id:126,"Current Name (DE)":"HVB-Tower","Current Name (Eng)":null,"Previous Name":"Hypo Haus",Address:"Arabellastraße 12, 81925 München","Starting year":1975,"Completion year/Opening year":"1981","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"office",Description:null,Website:"https://www.architonic.com/en/project/rosskopf-partner-hvb-tower-munchen/20004458","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/HVB_Tower","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Walter & Bea Betz architects",Status:null,AddressM:"Arabellastraße 12, 81925 München, Munich",Latitude:48.149986,Longitude:11.6175364,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.6173189,48.1495199],[11.6173568,48.1495442],[11.617561,48.1496845],[11.6176977,48.1497771],[11.6176988,48.1497845],[11.6176401,48.1497833],[11.6176404,48.1497867],[11.6176543,48.1497884],[11.61767,48.1497939],[11.6176819,48.1498027],[11.6176876,48.1498112],[11.6176896,48.1498228],[11.6176866,48.1498324],[11.6176753,48.1498445],[11.6176631,48.1498508],[11.6176402,48.1498549],[11.6176924,48.1498556],[11.6176918,48.1498609],[11.617566,48.149942],[11.617419,48.1500368],[11.6174095,48.1500372],[11.6174101,48.1500029],[11.6173976,48.1500176],[11.6173831,48.150031],[11.6173587,48.1500421],[11.6173276,48.150048],[11.6173009,48.150048],[11.6172665,48.1500413],[11.6172454,48.1500295],[11.6172265,48.1500091],[11.6172191,48.1499864],[11.6171775,48.1499865],[11.6170745,48.1499229],[11.6168574,48.1497889],[11.6168195,48.1497655],[11.6168185,48.14976],[11.6170268,48.1497625],[11.6169838,48.1497481],[11.6169721,48.1497382],[11.6169651,48.1497262],[11.6169651,48.1497121],[11.6169713,48.1496991],[11.616983,48.1496902],[11.6170019,48.1496835],[11.6170229,48.1496809],[11.6170385,48.1496824],[11.617058,48.149689],[11.6171762,48.1497635],[11.6171763,48.1497775],[11.6173086,48.1497764],[11.6173086,48.1497433],[11.6173087,48.1496642],[11.6172071,48.1496059],[11.6171936,48.1495949],[11.617187,48.1495838],[11.6171871,48.1495696],[11.6171942,48.1495574],[11.6172054,48.1495481],[11.617224,48.1495409],[11.6172458,48.1495394],[11.6172609,48.1495409],[11.6172793,48.1495465],[11.6173088,48.1495627],[11.6173089,48.1495207],[11.6173189,48.1495199]]]]}},{type:"Feature",properties:{fid:44953,osm_id:"113495915",id:128,"Current Name (DE)":"Aussegnungshalle München-Riem","Current Name (Eng)":"Funeral hall in Munich-Riem","Previous Name":null,Address:"Am Mitterfeld 68, 81829 München","Starting year":null,"Completion year/Opening year":"2000","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"funeral hall",Description:"https://www.meck-architekten.de/projekte/id/2000-aussegnungshalle-muenchen-riem/",Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-riem/10321180/","Wikipedia page":"https://de.wikipedia.org/wiki/Friedhof_Riem","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Meck Architekten",Status:null,AddressM:"Am Mitterfeld 68, 81829 München, Munich",Latitude:48.1320801,Longitude:11.6799884,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.6800022,48.1321572],[11.6800898,48.1321215],[11.6800628,48.132092],[11.6800934,48.1320795],[11.6800536,48.132036],[11.6799905,48.1320617],[11.6799642,48.132033],[11.679909,48.1320555],[11.6800022,48.1321572]]]]}},{type:"Feature",properties:{fid:142076,osm_id:"290301820",id:129,"Current Name (DE)":"Pfarrkirche St. Florian","Current Name (Eng)":"Parish church of St. Florian","Previous Name":null,Address:"Platz der Menschenrechte 2, 81829 München","Starting year":null,"Completion year/Opening year":"2005","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:null,Website:"www.sankt-florian.org","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/St._Florian_(Riem)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Florian Nagler Architekten",Status:null,AddressM:"Platz der Menschenrechte 2, 81829 München, Munich",Latitude:48.1307984,Longitude:11.6921291,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.6916791,48.131008],[11.6916813,48.1306397],[11.6919366,48.1306433],[11.6919261,48.1310099],[11.6916791,48.131008]]]]}},{type:"Feature",properties:{fid:11091,osm_id:"43175751",id:133,"Current Name (DE)":"Kulturzentrum Sugar Mountain","Current Name (Eng)":"Sugar Mountain","Previous Name":"Katzenberg concrete plant",Address:"Helfenrieder Straße 12, 81379 München","Starting year":null,"Completion year/Opening year":"?","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:"2019",Moved:null,Type:"building",Function:"cultural center",Description:"The former Katzenberg concrete plant",Website:"https://thisisreallyhappening.cargo.site/Sugar-Mountain","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Helfenrieder Straße 12, 81379 München, Munich",Latitude:48.0974647,Longitude:11.5171654,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5174862,48.0970789],[11.5174244,48.0972484],[11.5174079,48.0972938],[11.5173578,48.0974314],[11.5173357,48.097497],[11.5171996,48.0975825],[11.5168528,48.0973541],[11.5168498,48.0972918],[11.517093,48.0970127],[11.5174862,48.0970789]]]]}},{type:"Feature",properties:{fid:93497,osm_id:"174137961",id:135,"Current Name (DE)":"Schloss Blutenburg","Current Name (Eng)":"Blutenburg Castle","Previous Name":null,Address:"Seldweg 15","Starting year":null,"Completion year/Opening year":"1439","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":"1488",Rebuilt:"1681",Moved:null,Type:"building",Function:"castle",Description:null,Website:"https://www.schloesser.bayern.de/deutsch/schloss/objekte/mu_blut.htm","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Schloss_Blutenburg","Owner/Initiator/Commissioned by":"Duke Albert III","Architect/Artist/Author":null,Status:null,AddressM:"Seldweg 15, Munich",Latitude:48.1630669,Longitude:11.4572191,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.4572156,48.1631474],[11.4571234,48.163151],[11.4570731,48.1631573],[11.4570786,48.1634673],[11.4572117,48.1634722],[11.4572056,48.1631752],[11.4572246,48.163175],[11.4572381,48.1631608],[11.4572427,48.1631468],[11.4572156,48.1631474]]]]}},{type:"Feature",properties:{fid:473,osm_id:"6035286",id:141,"Current Name (DE)":"Kloster Schäftlarn","Current Name (Eng)":"Schäftlarn Abbey","Previous Name":null,Address:"Haus 2, 82067 Schäftlarn","Starting year":null,"Completion year/Opening year":"782","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":"1700",Rebuilt:null,Moved:null,Type:"building",Function:"monastery",Description:null,Website:"https://www.abtei-schaeftlarn.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/kirchen-und-kloester/benediktinerabtei-schaeftlarn","Wikipedia page":"https://de.wikipedia.org/wiki/Kloster_Sch%C3%A4ftlarn","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Francois Cuvilliés, Johann B .Gunetzrhainer, Johann Fischer, Johann B. Zimmermann, Johann Baptist Straub",Status:null,AddressM:"Haus 2, 82067 Schäftlarn, Munich",Latitude:48.1351253,Longitude:11.5819806,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5819596,48.1351308],[11.5819448,48.1351322],[11.5818246,48.1350762],[11.5817092,48.1350223],[11.5817069,48.135014],[11.5817329,48.1350105],[11.5817679,48.1349731],[11.5817546,48.134931],[11.5817256,48.1349186],[11.5816973,48.1349065],[11.5816353,48.134915],[11.5816031,48.1349506],[11.5816169,48.1349942],[11.5816456,48.1350069],[11.5816725,48.1350188],[11.5816787,48.1350218],[11.581608,48.1350888],[11.5815374,48.1351556],[11.5815982,48.1351866],[11.5815498,48.1352303],[11.5815404,48.1352305],[11.5815345,48.1352359],[11.5815425,48.1352397],[11.5815528,48.1352391],[11.5816137,48.1352693],[11.5816798,48.135302],[11.5816813,48.1353099],[11.5816899,48.1353132],[11.5816959,48.1353087],[11.5816948,48.1353003],[11.5817423,48.1352575],[11.5818106,48.1352903],[11.5818872,48.1352193],[11.5819583,48.1351532],[11.5819654,48.1351565],[11.5819989,48.1351716],[11.5820228,48.1351824],[11.5820891,48.135173],[11.5821248,48.1351376],[11.5821106,48.1350952],[11.5820839,48.1350836],[11.5820537,48.1350704],[11.5819919,48.1350795],[11.5819561,48.1351148],[11.5819596,48.1351308]],[[11.581602,48.1351766],[11.5815572,48.1351544],[11.5816206,48.1350947],[11.5816914,48.135028],[11.5818151,48.1350859],[11.5819469,48.1351477],[11.5818765,48.1352142],[11.5818073,48.1352763],[11.5817577,48.1352527],[11.5817622,48.1352478],[11.5817553,48.1352442],[11.5817449,48.1352453],[11.5817239,48.1352349],[11.5817325,48.1352272],[11.5817199,48.135221],[11.5816836,48.135203],[11.5816561,48.1351894],[11.5816435,48.1351832],[11.581635,48.1351909],[11.5816149,48.135181],[11.581614,48.1351747],[11.5816064,48.1351713],[11.581602,48.1351766]]]]}},{type:"Feature",properties:{fid:62404,osm_id:"125213620",id:143,"Current Name (DE)":"Deutsches Jagd- und Fischereimuseum","Current Name (Eng)":"German Hunting and Fishing Museum","Previous Name":"Augustinerkirche (Augustinian Church)",Address:"Neuhauser Straße 2","Starting year":null,"Completion year/Opening year":"1200","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":"1621, 1911",Rebuilt:"1962-64",Moved:null,Type:"building",Function:"museum",Description:"https://www.atlasobscura.com/places/deutsches-jagd-und-fischereimuseum",Website:"https://www.jagd-fischerei-museum.de/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Deutsches_Jagd-_und_Fischereimuseum","Owner/Initiator/Commissioned by":"Augustinian monastery","Architect/Artist/Author":"Hans Krumpper (1621), Theodor Fischer (1911), Erwin Schleich (1962-64)",Status:null,AddressM:"Neuhauser Straße 2, Munich",Latitude:48.1383281,Longitude:11.571411,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5706719,48.138489],[11.5708057,48.1386993],[11.5710306,48.1386384],[11.5712063,48.1385908],[11.5715433,48.1384995],[11.571527,48.1384735],[11.5716454,48.1384265],[11.5716793,48.1383697],[11.5716457,48.1383252],[11.5716077,48.1383171],[11.5715697,48.1383089],[11.5715298,48.1383196],[11.5714459,48.1383425],[11.5714113,48.1382904],[11.5714091,48.138287],[11.5706719,48.138489]]]]}},{type:"Feature",properties:{fid:72,osm_id:"147094",id:144,"Current Name (DE)":"Heilig Geist-Spital (München)","Current Name (Eng)":null,"Previous Name":null,Address:"Burgstraße 4","Starting year":null,"Completion year/Opening year":"1208","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"hospital",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Burgstraße 4, Munich",Latitude:48.137189,Longitude:11.5775695,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5779857,48.1372414],[11.5778776,48.137165],[11.5777446,48.137071],[11.5776512,48.1370132],[11.5774197,48.1368661],[11.577361,48.1368292],[11.577208,48.1369238],[11.5770547,48.1370186],[11.5773057,48.1371979],[11.5774351,48.1372928],[11.5775069,48.1373646],[11.5775959,48.1374534],[11.5777048,48.1374051],[11.5775978,48.1372911],[11.5777189,48.1372277],[11.577842,48.1373194],[11.5779857,48.1372414]],[[11.5774759,48.1371919],[11.5773196,48.1370728],[11.5774267,48.1370015],[11.5776042,48.1371228],[11.5774759,48.1371919]]]]}},{type:"Feature",properties:{fid:71501,osm_id:"141518581",id:148,"Current Name (DE)":"Augustiner Brauerei","Current Name (Eng)":"Augustiner-Bräu Brewery","Previous Name":null,Address:"Landsberger Straße 31-35 ","Starting year":null,"Completion year/Opening year":"1328","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:"1883",Moved:null,Type:"building",Function:"brewery",Description:"Brick building",Website:"https://www.augustiner-braeu.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/bauwerke-und-denkmaeler/augustiner-braeu-wagner-kg","Wikipedia page":null,"Owner/Initiator/Commissioned by":"Brauerfamilie Wagner","Architect/Artist/Author":null,Status:null,AddressM:"Landsberger Straße 31-35 , Munich",Latitude:48.1386428,Longitude:11.5447102,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.544238,48.1384549],[11.5448569,48.1384957],[11.544856,48.1385934],[11.5448565,48.1387817],[11.5448664,48.1388498],[11.5446251,48.1388615],[11.5445936,48.1386023],[11.5443865,48.1385837],[11.5442534,48.1385762],[11.544238,48.1384549]]]]}},{type:"Feature",properties:{fid:609,osm_id:"4054817",id:149,"Current Name (DE)":"Münchens Altes Rathaus","Current Name (Eng)":"Munich's Old Town Hall","Previous Name":null,Address:"Marienplatz 15","Starting year":null,"Completion year/Opening year":"1462","Zerstört/Destroyed":1944,"Renoviert/New use/Expansion":"1864, 1877, 1935",Rebuilt:"1974",Moved:"1874",Type:"building",Function:"town hall",Description:"in 1874 the municipality moved to the New Town Hall",Website:"https://www.marienplatz-muenchen.de/altes-rathaus/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/bauwerke-und-denkmaeler/altes-rathaus","Wikipedia page":"https://de.wikipedia.org/wiki/Altes_Rathaus_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Jörg von Halsbach",Status:null,AddressM:"Marienplatz 15, Munich",Latitude:48.1367765,Longitude:11.5769875,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.577361,48.1368292],[11.5773148,48.1367959],[11.5772507,48.1367497],[11.5771973,48.136711],[11.5771542,48.1366803],[11.5771137,48.136651],[11.5770642,48.1366154],[11.5769454,48.1366886],[11.5769374,48.1366824],[11.576869,48.1367245],[11.5768776,48.1367306],[11.5767578,48.1368048],[11.5768013,48.1368361],[11.5768463,48.1368686],[11.5768822,48.1368953],[11.5769366,48.1369336],[11.5770547,48.1370186],[11.577208,48.1369238],[11.577361,48.1368292]]]]}},{type:"Feature",properties:{fid:359,osm_id:"2360164",id:150,"Current Name (DE)":"Münchner Stadtmuseum","Current Name (Eng)":"Munich City Museum","Previous Name":"Former armory and stables of the city of Munich",Address:"Sankt-Jakobs-Platz 1","Starting year":null,"Completion year/Opening year":"1500","Zerstört/Destroyed":1944,"Renoviert/New use/Expansion":"1888, 1928, 1931, 1964, 1978",Rebuilt:"1950",Moved:null,Type:"building",Function:"museum",Description:"late gothic building, this museum is dedicated to providing all insights into the city's history",Website:"https://www.muenchner-stadtmuseum.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/museen/muenchner-stadtmuseum","Wikipedia page":"https://de.wikipedia.org/wiki/M%C3%BCnchner_Stadtmuseum","Owner/Initiator/Commissioned by":"Ernst von Destouches (1888)","Architect/Artist/Author":"Lukas Rottaler (1500), Hans Grässel (1928), Hermann Leitentorfer (1931), Gustav Gsaenger (1964), Martin Hofmann (1978)",Status:null,AddressM:"Sankt-Jakobs-Platz 1, Munich",Latitude:48.1354635,Longitude:11.5736663,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5724208,48.1349757],[11.5722842,48.1351068],[11.5727245,48.1353056],[11.5727138,48.1353156],[11.5728652,48.1353844],[11.572951,48.1354234],[11.5733404,48.1356005],[11.5734055,48.1356301],[11.5734281,48.1356404],[11.5734563,48.1356532],[11.573743,48.135465],[11.5740176,48.1353525],[11.57399,48.1353163],[11.5739469,48.1352596],[11.5739322,48.1352402],[11.5738554,48.1352641],[11.5735692,48.1349252],[11.5736212,48.1349067],[11.573537,48.1347982],[11.573292,48.1348874],[11.5732392,48.134906],[11.5731797,48.1348486],[11.5731805,48.1348326],[11.5732108,48.1348187],[11.5732156,48.1348006],[11.5732052,48.1347851],[11.5731763,48.1347779],[11.5731329,48.1347957],[11.5730288,48.1346813],[11.5727429,48.1347808],[11.5726399,48.1348167],[11.5725019,48.1349135],[11.5726559,48.1350329],[11.5726902,48.1350183],[11.5727055,48.1350306],[11.5728179,48.1349591],[11.5728954,48.1349313],[11.5730235,48.1348853],[11.5731549,48.1349811],[11.5731183,48.1350066],[11.5730327,48.135075],[11.5730146,48.1350653],[11.572982,48.1350906],[11.5729471,48.1351176],[11.5729676,48.1351281],[11.5728808,48.1351925],[11.5724208,48.1349757]],[[11.5730429,48.1352902],[11.5732626,48.1351062],[11.5733779,48.1350378],[11.5734049,48.1350218],[11.5736773,48.1353331],[11.5735993,48.1353667],[11.5734336,48.1354789],[11.5730831,48.1353096],[11.5730429,48.1352902]]]]}},{type:"Feature",properties:{fid:1050,osm_id:"23632546",id:152,"Current Name (DE)":"Hofbräuhaus at Platzl","Current Name (Eng)":"Hofbräuhaus am Platzl","Previous Name":null,Address:"Platzl 9","Starting year":null,"Completion year/Opening year":"1589","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":"1897",Rebuilt:"1958",Moved:null,Type:"building",Function:"beer hall",Description:null,Website:"https://www.hofbraeuhaus.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/bauwerke-und-denkmaeler/hofbraeuhaus","Wikipedia page":null,"Owner/Initiator/Commissioned by":"Maximilian I","Architect/Artist/Author":"Max Littmann (1897)",Status:null,AddressM:"Platzl 9, Munich",Latitude:48.1376141,Longitude:11.5799587,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5801323,48.1378388],[11.5801683,48.13787],[11.5801962,48.137893],[11.5804147,48.1378043],[11.5803707,48.1377613],[11.5803591,48.1377523],[11.5801709,48.1375931],[11.5804379,48.1374569],[11.5805337,48.1375488],[11.5805981,48.1375189],[11.5806172,48.1375434],[11.5806516,48.1375375],[11.580627,48.1374724],[11.5805886,48.1374783],[11.5804975,48.137402],[11.5805379,48.1373803],[11.5805187,48.1373626],[11.580418,48.1372699],[11.5803761,48.1372314],[11.5796654,48.1376159],[11.5797867,48.1377241],[11.5798748,48.1377873],[11.5799045,48.1377694],[11.5800518,48.1378909],[11.5801323,48.1378388]]]]}},{type:"Feature",properties:{fid:610,osm_id:"4239284",id:164,"Current Name (DE)":"St. Matthäus","Current Name (Eng)":"Saint Matthew Church","Previous Name":null,Address:"Nußbaumstraße 1","Starting year":null,"Completion year/Opening year":"1827","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:"1955",Moved:null,Type:"building",Function:"church",Description:"First protestant church",Website:"https://www.stmatthaeus.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/kirchen-und-kloester/st-matthaeus","Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gustav Gsaenger",Status:null,AddressM:"Nußbaumstraße 1, Munich",Latitude:48.1331866,Longitude:11.5647497,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5649023,48.1329977],[11.5648358,48.132981],[11.5647647,48.1329719],[11.5647298,48.1329663],[11.5647002,48.1329676],[11.5646746,48.13297],[11.5646473,48.1329759],[11.5646251,48.1329855],[11.5646075,48.1329981],[11.5645938,48.1330166],[11.5645888,48.1330298],[11.5645914,48.1330531],[11.5645873,48.1330767],[11.5645754,48.1331034],[11.564561,48.133127],[11.564533,48.1331531],[11.5644988,48.1331743],[11.5644593,48.1332015],[11.5644456,48.1332311],[11.5644542,48.1332604],[11.5644767,48.1332865],[11.5645162,48.1333167],[11.564564,48.1333442],[11.564606,48.1333598],[11.5646666,48.1333791],[11.564703,48.1333879],[11.5647483,48.133398],[11.564754,48.133345],[11.564819,48.1333459],[11.564898,48.1333509],[11.5649865,48.1333611],[11.5650415,48.1333704],[11.5650833,48.133365],[11.5651323,48.1333459],[11.5651557,48.1333262],[11.5651729,48.133304],[11.5651797,48.133277],[11.5651767,48.1332486],[11.5651755,48.1332372],[11.5651709,48.1332178],[11.5651565,48.1331788],[11.5652379,48.1331395],[11.5651725,48.133079],[11.5651175,48.1331055],[11.5650525,48.1330574],[11.5649784,48.1330202],[11.5649023,48.1329977]]]]}},{type:"Feature",properties:{fid:362,osm_id:"2405754",id:173,"Current Name (DE)":"Abteikirche St. Bonifaz","Current Name (Eng)":"St. Boniface's Abbey","Previous Name":null,Address:"Karlstraße 34","Starting year":null,"Completion year/Opening year":"1850","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:"Brick building",Website:"https://www.sankt-bonifaz.de/","Muenchen.de":null,"Wikipedia page":"https://en.wikipedia.org/wiki/St._Boniface%27s_Abbey","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Georg Friedrich Ziebland",Status:null,AddressM:"Karlstraße 34, Munich",Latitude:48.144874,Longitude:11.5647613,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5644227,48.1451619],[11.5652549,48.1449268],[11.5652138,48.1448606],[11.5650523,48.1446018],[11.564711,48.1446966],[11.5645402,48.1447441],[11.5642185,48.1448334],[11.5642473,48.1448795],[11.5642569,48.144895],[11.5644227,48.1451619]],[[11.5645361,48.1450929],[11.5647208,48.1450407],[11.5645952,48.1448428],[11.5644105,48.144895],[11.5645361,48.1450929]],[[11.5648949,48.1449939],[11.5650677,48.1449451],[11.5649462,48.1447538],[11.5647734,48.1448027],[11.5648949,48.1449939]]]]}},{type:"Feature",properties:{fid:4038,osm_id:"30572680",id:177,"Current Name (DE)":"Glaspalast","Current Name (Eng)":"Glass Palace","Previous Name":null,Address:"Sophienstraße 7","Starting year":null,"Completion year/Opening year":"1854","Zerstört/Destroyed":1931,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"exhibition",Description:"https://sammlungonline.muenchner-stadtmuseum.de/liste/alben/der-muenchner-glaspalast-68, First International Electric Exhibition (1882)",Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Glaspalast_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":"King Max II of Bavaria","Architect/Artist/Author":"August Voit",Status:null,AddressM:"Sophienstraße 7, Munich",Latitude:48.1423551,Longitude:11.5646639,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5645766,48.1424822],[11.5646677,48.1424543],[11.5647298,48.1424352],[11.5647587,48.1424263],[11.5647291,48.1423834],[11.5647933,48.1423636],[11.5647843,48.1423506],[11.5647089,48.1422413],[11.5646494,48.1422595],[11.564595,48.1421807],[11.5645908,48.1421746],[11.5644993,48.1422031],[11.5644009,48.1422329],[11.5644058,48.1422401],[11.5644595,48.1423179],[11.5643976,48.142337],[11.5644825,48.1424601],[11.5645476,48.1424401],[11.5645766,48.1424822]]]]}},{type:"Feature",properties:{fid:41104,osm_id:"109300618",id:179,"Current Name (DE)":"Kapuzinerkloster St. Anton","Current Name (Eng)":"Capuchin monastery of St. Anton","Previous Name":null,Address:"Kapuzinerstraße 34","Starting year":1846,"Completion year/Opening year":"1856","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":"2006-2009",Rebuilt:"2006-2009",Moved:null,Type:"building",Function:"monastery",Description:"Brick building, https://www.erzbistum-muenchen.de/pfarrei/pv-isarvorstadt/cont/76640, https://www.baunetz-architekten.de/hirner-und-riehl-architekten/2448171/projekt/2448695",Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/kloster-kapuzinerkloster-sankt-anton/1069026/","Wikipedia page":"https://de.wikipedia.org/wiki/Kapuzinerkloster_St._Anton","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hirner & Riehl Architekten (2006-2009)",Status:null,AddressM:"Kapuzinerstraße 34, Munich",Latitude:48.1246359,Longitude:11.562753,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5626025,48.1241401],[11.5625445,48.1241316],[11.5624867,48.1241481],[11.5624565,48.1241916],[11.5624533,48.1242319],[11.562472,48.1242597],[11.5624872,48.1242814],[11.5624341,48.1243002],[11.5627315,48.1247031],[11.5628984,48.1246479],[11.5630044,48.1246129],[11.5630342,48.124603],[11.5628282,48.1243231],[11.5627932,48.1242763],[11.5628251,48.1241962],[11.5627465,48.1240902],[11.5626025,48.1241401]]]]}},{type:"Feature",properties:{fid:20540,osm_id:"79518360",id:181,"Current Name (DE)":"Kunstkammer Georg Laue","Current Name (Eng)":"Georg Laue Art Chamber","Previous Name":null,Address:"Schellingstraße 56","Starting year":null,"Completion year/Opening year":"1873","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":"1997",Rebuilt:null,Moved:null,Type:"building",Function:"museum, shop",Description:"https://www.atlasobscura.com/places/kunstkammer-georg-laue",Website:"https://www.kunstkammer.com/index.php","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":"Georg Laue (1997)","Architect/Artist/Author":"Blersch (1873)",Status:null,AddressM:"Schellingstraße 56, Munich",Latitude:48.1513359,Longitude:11.5728172,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5726692,48.1512876],[11.5727487,48.1514137],[11.5729983,48.1513437],[11.5729187,48.1512176],[11.5726951,48.1512803],[11.5726692,48.1512876]]]]}},{type:"Feature",properties:{fid:21410,osm_id:"80175376",id:184,"Current Name (DE)":"Fremdspracheninstitut der Landeshauptstadt München","Current Name (Eng)":"Foreign Language Institute of the State Capital Munich","Previous Name":null,Address:"Amalienstraße 36","Starting year":1886,"Completion year/Opening year":"1887","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":"1978-1980",Rebuilt:null,Moved:null,Type:"building",Function:"institute",Description:"Brick building",Website:"https://fim.musin.de/","Muenchen.de":"https://stadt.muenchen.de/service/info/fremdspracheninstitut-der-landeshauptstadt-muenchen/1059808/","Wikipedia page":"https://de.wikipedia.org/wiki/Amalienstra%C3%9Fe_36","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich Löwel",Status:null,AddressM:"Amalienstraße 36, Munich",Latitude:48.1482929,Longitude:11.5774088,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5771642,48.1481702],[11.5771797,48.1481941],[11.5772774,48.1483442],[11.5773883,48.1485146],[11.5775784,48.1484595],[11.5776642,48.148435],[11.5774388,48.1480902],[11.577304,48.1481295],[11.5771642,48.1481702]]]]}},{type:"Feature",properties:{fid:7420,osm_id:"37389806",id:187,"Current Name (DE)":"Katholische Pfarrkirche St. Benno","Current Name (Eng)":"Catholic parish church of St. Benno","Previous Name":null,Address:"Ferdinand-Miller-Platz 1","Starting year":1888,"Completion year/Opening year":"1895","Zerstört/Destroyed":1944,"Renoviert/New use/Expansion":null,Rebuilt:"1947-1953",Moved:null,Type:"building",Function:"church",Description:"Brick building",Website:"http://cms.st-benno-muenchen.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/kirchen-und-kloester/st-benno","Wikipedia page":"https://de.wikipedia.org/wiki/St._Benno_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Leonhard Romeis",Status:null,AddressM:"Ferdinand-Miller-Platz 1, Munich",Latitude:48.1520197,Longitude:11.5527421,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5526356,48.1517158],[11.5526661,48.1517187],[11.552686,48.1517358],[11.5526808,48.1517588],[11.5526682,48.1517671],[11.5526965,48.1517903],[11.5529465,48.1519956],[11.5529932,48.1519847],[11.5530443,48.1519975],[11.5530776,48.1520271],[11.5530742,48.1520586],[11.5530581,48.1520873],[11.5531354,48.1521555],[11.5531101,48.1521725],[11.5531216,48.1522018],[11.5531193,48.1522317],[11.5531103,48.1522596],[11.5530728,48.1522903],[11.5530152,48.152307],[11.5529519,48.1523016],[11.5529074,48.152283],[11.5528797,48.152295],[11.552801,48.152238],[11.5527356,48.1522552],[11.5526742,48.1522435],[11.552645,48.1522148],[11.5526354,48.1521851],[11.5526709,48.1521534],[11.5523813,48.1519274],[11.5523589,48.1519323],[11.5523338,48.1519279],[11.5523183,48.1519187],[11.5523126,48.1519038],[11.5523178,48.1518932],[11.5523266,48.1518845],[11.5523108,48.1518713],[11.5525983,48.1517088],[11.5526165,48.1517238],[11.5526356,48.1517158]]]]}},{type:"Feature",properties:{fid:50351,osm_id:"117383016",id:189,"Current Name (DE)":"ehem.Bekleidungsamt des I. Armeekorps","Current Name (Eng)":"Former clothing office of the 1st Army Corps","Previous Name":null,Address:"Infanteriestraße 11a","Starting year":1896,"Completion year/Opening year":"1898","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"army corps",Description:"Brick building, https://stadtgeschichte-muenchen.de/bauwerke/d_bauwerke.php?id=2346",Website:null,"Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Infanteriestraße 11a, Munich",Latitude:48.1593325,Longitude:11.5552016,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5541377,48.1587407],[11.5544796,48.1589263],[11.5545286,48.1589529],[11.5545634,48.1589717],[11.5545458,48.1589861],[11.5548373,48.1591443],[11.5549122,48.1591849],[11.5550597,48.1590639],[11.5546852,48.1588607],[11.5546635,48.1588786],[11.5542459,48.158652],[11.5541377,48.1587407]]]]}},{type:"Feature",properties:{fid:7490,osm_id:"37681986",id:190,"Current Name (DE)":"Münchner Marionettentheater","Current Name (Eng)":"Munich Marionette Theater","Previous Name":null,Address:"Blumenstraße 32","Starting year":null,"Completion year/Opening year":"1900","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"theatre",Description:"Brick building",Website:"https://www.muema-theater.de/","Muenchen.de":"https://www.muenchen.de/veranstaltungen/muenchner-marionettentheater","Wikipedia page":null,"Owner/Initiator/Commissioned by":"Josef Schmid","Architect/Artist/Author":"Theodor Fischer",Status:null,AddressM:"Blumenstraße 32, Munich",Latitude:48.1320311,Longitude:11.5701702,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5701088,48.1321174],[11.5700737,48.1319597],[11.5702565,48.1319415],[11.570268,48.1319929],[11.5702983,48.1319899],[11.5703042,48.1320165],[11.5703102,48.1320432],[11.57028,48.1320462],[11.5702918,48.1320992],[11.5701088,48.1321174]]]]}},{type:"Feature",properties:{fid:423,osm_id:"3606147",id:191,"Current Name (DE)":"Stachus-Rondell","Current Name (Eng)":"Stachus roundel","Previous Name":null,Address:"Karlsplatz 7-11","Starting year":1899,"Completion year/Opening year":"1901","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":"1993",Rebuilt:null,Moved:null,Type:"building",Function:"office, commercial",Description:"Brick building",Website:"https://realestate.hausbau.de/unternehmen/portfolio/stachus-rondell","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Stachus","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gabriel von Seidl und Oscar Strelin ",Status:null,AddressM:"Karlsplatz 7-11, Munich",Latitude:48.1398393,Longitude:11.5662176,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5667891,48.1392014],[11.5667157,48.1391353],[11.5665158,48.1391863],[11.5665105,48.1391779],[11.5664262,48.1392019],[11.5664622,48.1392584],[11.5664673,48.1392569],[11.5664765,48.1392858],[11.5664805,48.1393166],[11.5664791,48.1393476],[11.5664724,48.1393782],[11.566461,48.1394072],[11.5664432,48.1394373],[11.5664335,48.1394499],[11.5664238,48.1394623],[11.5663998,48.1394867],[11.5663708,48.1395094],[11.566337,48.1395302],[11.5663345,48.1395282],[11.5661804,48.1396157],[11.5663072,48.1397143],[11.5663102,48.1397126],[11.5664296,48.1398058],[11.5665479,48.1398983],[11.5666661,48.1399918],[11.5667865,48.1400874],[11.5668229,48.140067],[11.5669044,48.1401139],[11.5668927,48.1401221],[11.5670932,48.1402545],[11.5674594,48.1400415],[11.567429,48.140021],[11.5675544,48.1399503],[11.5672764,48.1397295],[11.5672382,48.1397489],[11.5670595,48.1396054],[11.5671055,48.1395838],[11.5667862,48.1393024],[11.5667126,48.1392382],[11.5667891,48.1392014]],[[11.5665237,48.1396756],[11.5667225,48.1395614],[11.5667449,48.1395487],[11.5668576,48.1396366],[11.5666354,48.1397643],[11.5665798,48.1397194],[11.5665237,48.1396756]],[[11.5667654,48.1398551],[11.5669798,48.1397339],[11.5670918,48.1398259],[11.5670383,48.139856],[11.5670261,48.1398518],[11.5670126,48.1398529],[11.5670023,48.1398587],[11.5669982,48.1398674],[11.5670023,48.1398762],[11.5668794,48.1399449],[11.5667654,48.1398551]]]]}},{type:"Feature",properties:{fid:5062,osm_id:"31095497",id:192,"Current Name (DE)":"Josephskirche","Current Name (Eng)":"Catholic parish of St. Joseph","Previous Name":null,Address:"Josephspl. 1, 80798 München","Starting year":1898,"Completion year/Opening year":"1902","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/St._Joseph_(München)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hans Schurr",Status:null,AddressM:"Josephspl. 1, 80798 München, Munich",Latitude:48.1555481,Longitude:11.5670713,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5672011,48.1556438],[11.5671917,48.1556125],[11.5671487,48.1554703],[11.5671058,48.1553282],[11.5673656,48.1552921],[11.5677732,48.1552351],[11.5679876,48.1552058],[11.5680094,48.1552681],[11.5681223,48.1552517],[11.5682012,48.1552913],[11.5682181,48.1553584],[11.56817,48.1554134],[11.5681411,48.1554183],[11.5680672,48.155431],[11.5680864,48.1554918],[11.5679726,48.1555077],[11.5678545,48.1555243],[11.5678616,48.155548],[11.5678817,48.1556145],[11.5674331,48.1556747],[11.5674144,48.1556129],[11.5673427,48.1556231],[11.5672011,48.1556438]]]]}},{type:"Feature",properties:{fid:39,osm_id:"61204",id:194,"Current Name (DE)":"Neues Justizgebäude","Current Name (Eng)":"New justice building","Previous Name":null,Address:"Prielmayerstraße 5","Starting year":null,"Completion year/Opening year":"1905","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"court",Description:"Brick building, Oberlandesgericht München (Munich Higher Regional Court)",Website:"https://www.justiz.bayern.de/gerichte-und-behoerden/oberlandesgerichte/muenchen/","Muenchen.de":"https://stadt.muenchen.de/service/info/oberlandesgericht-muenchen/1069718/","Wikipedia page":"https://de.wikipedia.org/wiki/Neues_Justizgeb%C3%A4ude_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich von Thiersch",Status:null,AddressM:"Prielmayerstraße 5, Munich",Latitude:48.1411726,Longitude:11.5631474,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5631519,48.1413773],[11.5633896,48.1413031],[11.5635039,48.1412696],[11.5637371,48.1411963],[11.5632721,48.140513],[11.5632592,48.1404941],[11.5630345,48.1405634],[11.5629593,48.1405858],[11.5629021,48.1406028],[11.5626729,48.1406734],[11.5631519,48.1413773]],[[11.5630094,48.1409088],[11.5629201,48.140778],[11.563206,48.140691],[11.5632954,48.1408218],[11.5630094,48.1409088]],[[11.5631942,48.1411844],[11.563107,48.1410563],[11.5633935,48.1409695],[11.5634807,48.1410976],[11.5631942,48.1411844]]]]}},{type:"Feature",properties:{fid:434,osm_id:"3866522",id:195,"Current Name (DE)":"Deutsches Museum","Current Name (Eng)":"German Museum","Previous Name":"German Museum for Masterpieces of Natural Science and Technology",Address:"Museumsinsel 1","Starting year":null,"Completion year/Opening year":"1906","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:"1925, 1946-1965",Moved:null,Type:"building",Function:"museum",Description:null,Website:"https://www.deutsches-museum.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/museen/deutsches-museum-muenchen","Wikipedia page":null,"Owner/Initiator/Commissioned by":"Prince Luitpold Karl Joseph Wilhelm Ludwig, Oskar von Miller","Architect/Artist/Author":null,Status:null,AddressM:"Museumsinsel 1, Munich",Latitude:48.1304056,Longitude:11.5841175,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5825846,48.1290826],[11.5821638,48.1288832],[11.5816968,48.129286],[11.5811341,48.1289803],[11.580867,48.1292131],[11.5811632,48.129372],[11.5815097,48.129564],[11.5815363,48.1295436],[11.5819064,48.1297386],[11.5819128,48.129742],[11.5818979,48.1297553],[11.5820275,48.129822],[11.5820474,48.1298055],[11.5820534,48.1298086],[11.582806,48.1301999],[11.582802,48.130216],[11.5828036,48.1302268],[11.5828085,48.1302372],[11.5828163,48.1302464],[11.5828267,48.1302544],[11.5828396,48.1302609],[11.5828543,48.1302655],[11.5828699,48.1302679],[11.5828859,48.1302682],[11.5829043,48.1302657],[11.5829212,48.1302604],[11.58294,48.1302493],[11.58302,48.1302917],[11.5830401,48.1302747],[11.5831181,48.1303141],[11.5836214,48.1305691],[11.583693,48.1306066],[11.5844075,48.1309856],[11.5846616,48.1311114],[11.5847622,48.1311651],[11.5848498,48.1310914],[11.5851494,48.1308386],[11.5852537,48.1307415],[11.5853273,48.1306773],[11.5851528,48.1305866],[11.5844281,48.1302101],[11.5845944,48.1300661],[11.584438,48.1299271],[11.5843852,48.1298766],[11.5843439,48.129835],[11.5843319,48.1298228],[11.5842493,48.1297395],[11.5841313,48.1296491],[11.5840012,48.1295637],[11.5838641,48.1294879],[11.583862,48.1294808],[11.5838582,48.1294741],[11.5838467,48.1294633],[11.5838377,48.1294583],[11.5838274,48.1294545],[11.5838171,48.1294522],[11.5838063,48.1294512],[11.5837944,48.1294515],[11.5837827,48.1294534],[11.5836375,48.1293765],[11.5835927,48.1293528],[11.5834261,48.1292659],[11.5830933,48.1290925],[11.583021,48.1290548],[11.5830158,48.1290521],[11.5828569,48.1289699],[11.5828122,48.1290077],[11.5827246,48.1289622],[11.5825846,48.1290826]],[[11.5850229,48.1306942],[11.5847052,48.1305324],[11.5844037,48.1307961],[11.5847214,48.1309579],[11.5850229,48.1306942]],[[11.583974,48.1305894],[11.5842892,48.130751],[11.5845907,48.1304889],[11.5842756,48.1303274],[11.583974,48.1305894]],[[11.5835219,48.1299777],[11.5834967,48.129991],[11.5834694,48.1300014],[11.5834369,48.1300079],[11.5834098,48.1300081],[11.5833836,48.1300061],[11.5833653,48.130001],[11.583163,48.1301709],[11.5832341,48.1302099],[11.5837538,48.13046],[11.5838211,48.1304912],[11.5839747,48.1303629],[11.5843186,48.1300754],[11.5842551,48.1300157],[11.584187,48.1299517],[11.5841474,48.1299118],[11.5840905,48.1298517],[11.5839887,48.1297702],[11.5838842,48.1297013],[11.5837758,48.1296432],[11.5835312,48.1298607],[11.5835518,48.1298807],[11.5835547,48.1299035],[11.5835559,48.1299227],[11.583551,48.1299392],[11.5835395,48.129961],[11.5835219,48.1299777]]]]}},{type:"Feature",properties:{fid:151528,osm_id:"400412297",id:196,"Current Name (DE)":"Altkatolische Kirche","Current Name (Eng)":"Old Catholic Church","Previous Name":null,Address:"Blumenstraße 36","Starting year":1912,"Completion year/Opening year":"1913","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"building",Description:"Brick building",Website:null,"Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Heinrich Berthold",Status:null,AddressM:"Blumenstraße 36, Munich",Latitude:48.132413,Longitude:11.5690971,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5689525,48.1323661],[11.5689852,48.1323539],[11.5690056,48.1323782],[11.5691488,48.1323249],[11.5691188,48.1322889],[11.5691796,48.1322663],[11.5692123,48.1323054],[11.5691586,48.1323254],[11.569176,48.1323462],[11.5692612,48.1323154],[11.5693039,48.1323667],[11.5692193,48.1323979],[11.5692329,48.1324142],[11.5690532,48.1324812],[11.5690179,48.1324943],[11.56898,48.1324489],[11.568941,48.1324023],[11.5689728,48.1323904],[11.5689525,48.1323661]]]]}},{type:"Feature",properties:{fid:23338,osm_id:"85513530",id:197,"Current Name (DE)":"Filmtheater Sendlinger Tor","Current Name (Eng)":"Sendlinger Tor Film Theatre","Previous Name":null,Address:"Sendlinger-Tor-Platz 11","Starting year":null,"Completion year/Opening year":"1913","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"film theatre",Description:null,Website:"https://www.filmtheatersendlingertor.de/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Filmtheater_Sendlinger_Tor","Owner/Initiator/Commissioned by":"Carl Gabriel","Architect/Artist/Author":null,Status:null,AddressM:"Sendlinger-Tor-Platz 11, Munich",Latitude:48.1341489,Longitude:11.5670761,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5669361,48.1342807],[11.5671198,48.1343294],[11.5671295,48.1343016],[11.5672142,48.134055],[11.5669252,48.1339787],[11.5668532,48.1341078],[11.5669476,48.1341356],[11.566918,48.1342177],[11.5668993,48.1342693],[11.5669361,48.1342807]]]]}},{type:"Feature",properties:{fid:13037,osm_id:"48441761",id:198,"Current Name (DE)":"Evangelisch-Lutherische Pfarrkirche St. Johannes","Current Name (Eng)":"Evangelical Lutheran Parish Church of St. Johannes","Previous Name":null,Address:"Preysingplatz 1","Starting year":null,"Completion year/Opening year":"1916","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:"Brick building",Website:"https://www.stjohannes.de/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/St._Johannes_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Büro von Albert Schmidt ",Status:null,AddressM:"Preysingplatz 1, Munich",Latitude:48.1325106,Longitude:11.5941821,Period:5},geometry:{type:"MultiPolygon",coordinates:[[[[11.5942276,48.1326463],[11.5942452,48.1326465],[11.5942444,48.1326794],[11.5943378,48.1326804],[11.5943386,48.1326444],[11.5944421,48.1326455],[11.5944437,48.132573],[11.5944109,48.1325726],[11.5944119,48.1325248],[11.5943774,48.1325245],[11.5943794,48.1324334],[11.594307,48.1324327],[11.5943079,48.132395],[11.5943028,48.1323778],[11.5942934,48.1323682],[11.5942809,48.132363],[11.5942635,48.1323621],[11.5942502,48.1323666],[11.5942378,48.1323752],[11.5942354,48.132386],[11.5941617,48.1323852],[11.5941024,48.1323845],[11.5941008,48.132377],[11.5940949,48.1323687],[11.5940824,48.1323622],[11.5940662,48.1323605],[11.5940491,48.1323642],[11.5940379,48.1323718],[11.5940333,48.1323791],[11.5940326,48.1323835],[11.594027,48.1323834],[11.5940259,48.1324298],[11.5939541,48.1324291],[11.5939519,48.132521],[11.5939196,48.1325207],[11.5939185,48.1325689],[11.5939498,48.1325693],[11.5939487,48.132618],[11.5940879,48.1326195],[11.5940874,48.1326374],[11.5940957,48.1326471],[11.594114,48.1326584],[11.5941354,48.1326671],[11.5941582,48.1326713],[11.5941821,48.13267],[11.5942026,48.132664],[11.59422,48.1326555],[11.5942276,48.1326463]]]]}},{type:"Feature",properties:{fid:59473,osm_id:"121859528",id:199,"Current Name (DE)":"St. Gabriel","Current Name (Eng)":"Saint Gabriel","Previous Name":null,Address:"Versailler Str. 20","Starting year":1925,"Completion year/Opening year":"1926","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:"Brick building",Website:"https://www.sanktgabriel.de/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/St._Gabriel_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Otho Orlando Kurz und Eduard Herbert",Status:null,AddressM:"Versailler Str. 20, Munich",Latitude:48.1380782,Longitude:11.6103154,Period:5},geometry:{type:"MultiPolygon",coordinates:[[[[11.610344,48.1383554],[11.6103337,48.1383723],[11.6103416,48.1383955],[11.6103749,48.138411],[11.610416,48.1384056],[11.6104357,48.1383886],[11.6109898,48.1383175],[11.6109964,48.1383421],[11.6111848,48.1383206],[11.6111786,48.1382911],[11.6116182,48.138238],[11.6115911,48.1381494],[11.6114293,48.1381716],[11.6114411,48.138151],[11.6114416,48.1381304],[11.6114333,48.1381128],[11.6114167,48.138097],[11.6113842,48.1380826],[11.6113564,48.1380785],[11.6113498,48.1380523],[11.6112777,48.1380604],[11.6112693,48.1380205],[11.6111064,48.138038],[11.611101,48.1380165],[11.6109071,48.1380388],[11.6109151,48.1380709],[11.6108207,48.1380816],[11.6104902,48.138119],[11.6104694,48.1380472],[11.6103878,48.1380567],[11.6103518,48.1379115],[11.6101498,48.1379137],[11.6102219,48.1382079],[11.6102977,48.1381978],[11.6103218,48.1382799],[11.610344,48.1383554]]]]}},{type:"Feature",properties:{fid:1874,osm_id:"27390774",id:200,"Current Name (DE)":"Katholische Pfarrei St. Sebastian","Current Name (Eng)":"Catholic parish of St. Sebastian","Previous Name":null,Address:"Hiltenspergerstraße 115","Starting year":1928,"Completion year/Opening year":"1929","Zerstört/Destroyed":1944,"Renoviert/New use/Expansion":null,Rebuilt:"1949",Moved:null,Type:"building",Function:"church",Description:"Brick building, https://www.pfarrverband-am-luitpoldpark.de/st-sebastian",Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/St._Sebastian_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Eduard Herbert, Otho Orlando Kurz",Status:null,AddressM:"Hiltenspergerstraße 115, Munich",Latitude:48.1676107,Longitude:11.5661151,Period:5},geometry:{type:"MultiPolygon",coordinates:[[[[11.5655938,48.1677379],[11.5656786,48.1677324],[11.5660599,48.167708],[11.566223,48.1676976],[11.5662599,48.1676698],[11.5662405,48.1675356],[11.5662002,48.1675383],[11.5661927,48.1674922],[11.566031,48.1675025],[11.5660331,48.167517],[11.5655664,48.1675469],[11.5655877,48.1676955],[11.5655938,48.1677379]]]]}},{type:"Feature",properties:{fid:277,osm_id:"1653156",id:201,"Current Name (DE)":"Städtisches Hochhaus","Current Name (Eng)":"Old Technical Town Hall","Previous Name":null,Address:"Blumenstraße 28a/b","Starting year":null,"Completion year/Opening year":"1929","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"public administration",Description:"Brick building",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/bauwerke-und-denkmaeler/staedtisches-hochhaus","Wikipedia page":"https://de.wikipedia.org/wiki/St%C3%A4dtisches_Hochhaus_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hermann Leitenstorfer",Status:null,AddressM:"Blumenstraße 28a/b, Munich",Latitude:48.1324191,Longitude:11.5713843,Period:5},geometry:{type:"MultiPolygon",coordinates:[[[[11.5721473,48.1334069],[11.5720906,48.1333067],[11.5720788,48.1332871],[11.571216,48.1333728],[11.5707799,48.1324139],[11.5707649,48.1323473],[11.5708699,48.1323032],[11.5709457,48.132387],[11.5710302,48.1323504],[11.5709555,48.1322673],[11.5710806,48.1322148],[11.5712043,48.1323072],[11.5732702,48.1335162],[11.5729112,48.1337831],[11.572667,48.133981],[11.5723528,48.134081],[11.5722744,48.1338182],[11.5722402,48.1337106],[11.5724473,48.1336766],[11.5725494,48.133668],[11.5725527,48.133634],[11.5725895,48.1336222],[11.5727347,48.1336525],[11.5729105,48.1335326],[11.5724063,48.1332332],[11.5722012,48.1333977],[11.5721473,48.1334069]],[[11.5711804,48.1327377],[11.5713635,48.1327041],[11.5714661,48.1326236],[11.5711241,48.1324267],[11.5710007,48.1324737],[11.5710356,48.132569],[11.571096,48.1325605],[11.5711804,48.1327377]],[[11.5713052,48.1329756],[11.5712737,48.1329832],[11.5712924,48.1330235],[11.571742,48.132938],[11.5718436,48.1328648],[11.5717927,48.1328364],[11.5718131,48.1328169],[11.5716327,48.132714],[11.5715429,48.1327805],[11.5712153,48.13284],[11.5712284,48.1328771],[11.5712639,48.1328715],[11.5713052,48.1329756]],[[11.5720101,48.1330545],[11.5718749,48.1329783],[11.5719923,48.1328856],[11.5721275,48.1329619],[11.5720101,48.1330545]],[[11.5721997,48.1332414],[11.5721259,48.1332045],[11.5721075,48.1331295],[11.5722007,48.1330557],[11.5723345,48.1331394],[11.5721997,48.1332414]],[[11.5713295,48.1331134],[11.5713579,48.1331862],[11.5714538,48.1331658],[11.571495,48.1332708],[11.5719756,48.133207],[11.5719422,48.1331447],[11.5717399,48.1330336],[11.5713295,48.1331134]],[[11.5722903,48.1337343],[11.5723575,48.1339439],[11.5723885,48.133956],[11.5726613,48.1338749],[11.5727078,48.1338292],[11.572501,48.1337006],[11.5722903,48.1337343]]]]}},{type:"Feature",properties:{fid:27759,osm_id:"93979556",id:202,"Current Name (DE)":"Synagoge an der Reichenbachstraße München","Current Name (Eng)":"Synagogue on Reichenbachstrasse Munich","Previous Name":null,Address:"Reichenbachstraße 27","Starting year":1930,"Completion year/Opening year":"1931","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":"1947",Rebuilt:null,Moved:null,Type:"building",Function:"synagogue",Description:"https://www.juedisches-museum-muenchen.de/kalender/details/synagoge-reichenbachstrasse",Website:"https://synagoge-reichenbach.de/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Synagoge_an_der_Reichenbachstra%C3%9Fe_M%C3%BCnchen","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gustav Meyerstein",Status:null,AddressM:"Reichenbachstraße 27, Munich",Latitude:48.1314531,Longitude:11.5760211,Period:5},geometry:{type:"MultiPolygon",coordinates:[[[[11.5706906,48.1331845],[11.5705953,48.1332179],[11.5706215,48.1332587],[11.5707323,48.1332174],[11.5707492,48.1332441],[11.5706831,48.1332711],[11.5707123,48.1333068],[11.5709056,48.1332293],[11.570834,48.1331343],[11.5706906,48.1331845]]]]}},{type:"Feature",properties:{fid:105364,osm_id:"223195343",id:204,"Current Name (DE)":"Flughafen München-Riem","Current Name (Eng)":"Munich-Riem Airport","Previous Name":null,Address:"De-Gasperi-Bogen 20","Starting year":1936,"Completion year/Opening year":"1939","Zerstört/Destroyed":1945,"Renoviert/New use/Expansion":"1958, 1962",Rebuilt:"1948-1949",Moved:"1992",Type:"building",Function:"airport",Description:"during the night from 16 to 17 May 1992, operations moved to the new airport, https://www.munich-airport.de/fliegender-wechsel-ein-umzug-wird-vorbild-1896501, https://konbriefing.com/mad/anflugkarten/de-deutschland/muenchen-riem-flughafen.html",Website:"https://flughafen-muenchen-riem.de/","Muenchen.de":"https://www.muenchen.de/stadtteile/riem-wissenswertes-tipps-und-infos","Wikipedia page":"https://de.wikipedia.org/wiki/Flughafen_M%C3%BCnchen-Riem","Owner/Initiator/Commissioned by":"Flughafen München-Riem GmbH (1949)","Architect/Artist/Author":null,Status:null,AddressM:"De-Gasperi-Bogen 20, Munich",Latitude:48.1348015,Longitude:11.7152533,Period:5},geometry:{type:"MultiPolygon",coordinates:[[[[11.7150296,48.1347047],[11.7152774,48.1349094],[11.7154362,48.1348238],[11.7151884,48.1346191],[11.7150296,48.1347047]]]]}},{type:"Feature",properties:{fid:152159,osm_id:"423368360",id:206,"Current Name (DE)":"Volkssternwarte München","Current Name (Eng)":"Munich Public Observatory","Previous Name":null,Address:"145H Rosenheimer Str","Starting year":null,"Completion year/Opening year":"1947","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"planetarium ",Description:"https://www.atlasobscura.com/places/volkssternwarte-munchen",Website:"https://sternwarte-muenchen.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/top-sehenswuerdigkeiten/bayerische-volkssternwarte","Wikipedia page":"https://de.wikipedia.org/wiki/Bayerische_Volkssternwarte_M%C3%BCnchen","Owner/Initiator/Commissioned by":"Peter Westphal","Architect/Artist/Author":null,Status:null,AddressM:"145H Rosenheimer Str, Munich",Latitude:48.1219484,Longitude:11.606653,Period:5},geometry:{type:"MultiPolygon",coordinates:[[[[11.606822,48.1218835],[11.6068503,48.1218853],[11.6071665,48.1219052],[11.6076452,48.1219354],[11.6077343,48.121941],[11.607739,48.121908],[11.6078261,48.1219135],[11.6078222,48.1219408],[11.6079001,48.1219457],[11.6079036,48.1219213],[11.6081405,48.1219363],[11.6081361,48.1219673],[11.6084716,48.1219885],[11.6084534,48.1221168],[11.6076304,48.1220649],[11.6070586,48.122029],[11.6069938,48.122025],[11.6069456,48.1220224],[11.6068037,48.1220127],[11.606822,48.1218835]]]]}},{type:"Feature",properties:{fid:62181,osm_id:"124911353",id:216,"Current Name (DE)":"Bayerische Staatskanzlei","Current Name (Eng)":"Bavarian State Chancellery","Previous Name":null,Address:"Franz-Josef-Strauß-Ring 1","Starting year":null,"Completion year/Opening year":"1993","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"chancellery",Description:null,Website:"https://www.bayern.de/staatskanzlei/aufgaben-und-organisation/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/bayerische-staatskanzlei","Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Ludwig Mellinger (1905) and Diethard J. Siegert & Reto Gansser (1993)",Status:null,AddressM:"Franz-Josef-Strauß-Ring 1, Munich",Latitude:48.1418663,Longitude:11.5831797,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5825685,48.1425082],[11.5826374,48.1424931],[11.5829378,48.1431057],[11.5829193,48.1431097],[11.5829364,48.1431422],[11.5829479,48.1431657],[11.5829533,48.143179],[11.5829628,48.1431984],[11.5833398,48.1431206],[11.5833259,48.1430884],[11.5832991,48.1430268],[11.5832828,48.1430304],[11.5831079,48.1426737],[11.5829824,48.1424178],[11.5829987,48.1424142],[11.5828701,48.1421519],[11.5828537,48.1421555],[11.5828355,48.1421185],[11.5825782,48.1415937],[11.5825946,48.1415901],[11.5825483,48.1414957],[11.5821684,48.1415786],[11.5822148,48.1416731],[11.5822333,48.141669],[11.5825088,48.1422308],[11.5824399,48.1422459],[11.5825685,48.1425082]]]]}},{type:"Feature",properties:{fid:24184,osm_id:"87406488",id:222,"Current Name (DE)":"Bier-und Oktoberfestmuseum","Current Name (Eng)":"Beer and Oktoberfest Museum","Previous Name":null,Address:"Sterneckerstraße 2","Starting year":null,"Completion year/Opening year":"2005","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"brewery museum",Description:"https://www.atlasobscura.com/places/bier-und-oktoberfestmuseum-beer-and-oktoberfest-museum",Website:"https://www.bier-und-oktoberfestmuseum.de/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Bier-_und_Oktoberfestmuseum","Owner/Initiator/Commissioned by":"Edith-Haberland-Wagner Foundation","Architect/Artist/Author":null,Status:null,AddressM:"Sterneckerstraße 2, Munich",Latitude:48.1352887,Longitude:11.58021,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5803045,48.1353214],[11.5802652,48.135216],[11.5801255,48.1352348],[11.5800674,48.135243],[11.5801003,48.1353491],[11.5801571,48.1353414],[11.5803045,48.1353214]]]]}},{type:"Feature",properties:{fid:1102,osm_id:"24164375",id:223,"Current Name (DE)":"Ohel Jakob: Jüdische Hauptsynagoge","Current Name (Eng)":"Ohel Jakob: Jewish Main Synagogue","Previous Name":null,Address:"Sankt-Jakobs-Platz 18","Starting year":null,"Completion year/Opening year":"2006","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"synagogue",Description:"part of the new Jewish Center, https://wlgw.de/juedisches-zentrum-am-jakobsplatz/",Website:"https://www.ikg-m.de/juedisches-zentrum/synagogenfuhrungen/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/bauwerke-und-denkmaeler/synagoge-ohel-jakob","Wikipedia page":null,"Owner/Initiator/Commissioned by":"Jewish Community of Munich and Upper Bavaria","Architect/Artist/Author":"architects Rena Wandel-Hoefer and Wolfgang Lorch",Status:null,AddressM:"Sankt-Jakobs-Platz 18, Munich",Latitude:48.1345449,Longitude:11.5726806,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5724432,48.1346066],[11.5724403,48.1344071],[11.572878,48.1344042],[11.5728809,48.1346037],[11.5724432,48.1346066]]]]}},{type:"Feature",properties:{fid:32222,osm_id:"97455685",id:227,"Current Name (DE)":"Lehrgangsgebäude der Obersten Baubehörde","Current Name (Eng)":null,"Previous Name":null,Address:"Heßstraße 136","Starting year":null,"Completion year/Opening year":"Ende 19Jh","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"building",Description:"Brick building",Website:null,"Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Heßstraße 136, Munich",Latitude:48.1584402,Longitude:11.5526441,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.552576,48.1586258],[11.5527513,48.1584797],[11.5529147,48.1583436],[11.5527444,48.1582527],[11.5524058,48.1585349],[11.552576,48.1586258]]]]}}],iA={type:eA,name:tA,crs:nA,features:rA},oA="FeatureCollection",aA="parks",sA={type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},lA=[{type:"Feature",properties:{fid:3,id:null,id_2:null,id_3:18,"Current Name (DE)":"Marienplatz","Current Name (Eng)":"Mary's Square","Previous Name":"Schrannenplatz",Address:"Marienplatz, 80331 München","Starting year":null,"Completion year/Opening year":"1158","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:"1972",Moved:null,Type_2:"square",Function:"public space",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Marienplatz_(München)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Marienplatz, 80331 München, Munich",Latitude:48.1370339,Longitude:11.5758134,Period:1,year:1158},geometry:{type:"MultiPolygon",coordinates:[[[[11.5751334,48.1375602],[11.575137,48.137557],[11.5751316,48.1375401],[11.5754083,48.1374818],[11.5754032,48.1374714],[11.5753954,48.137471],[11.5753906,48.137466899999986],[11.5753915,48.1374618],[11.5753975,48.1374587],[11.5754051,48.1374593],[11.5754099,48.1374635],[11.5755475,48.13743489999999],[11.5755483,48.1374305],[11.5755544,48.1374274],[11.575562,48.13742809999999],[11.5755666,48.137432],[11.5755656,48.1374371],[11.5755606,48.1374397],[11.5755644,48.1374478],[11.5756278,48.1374342],[11.5758903,48.1373777],[11.5763704,48.137267399999985],[11.576479349701211,48.137240013929826],[11.5763918,48.13711709999998],[11.5767594,48.1369865],[11.5768822,48.1368953],[11.5767578,48.1368048],[11.5768776,48.1367306],[11.576872198640821,48.13672690667282],[11.5768701,48.13672769999999],[11.5768666,48.1367272],[11.5768645,48.1367252],[11.5768652,48.1367229],[11.5767953,48.13667319999998],[11.5767918,48.1366727],[11.5767897,48.1366707],[11.5767904,48.1366683],[11.5767934,48.136667],[11.5767969,48.136667399999986],[11.5768621,48.1366279],[11.576782,48.1365875],[11.5765869,48.1367224],[11.576336,48.136818],[11.5761703,48.1368488],[11.57618,48.1368736],[11.5760375,48.136916699999986],[11.5758328,48.1369512],[11.5758036,48.1369401],[11.5756248,48.1369071],[11.5753195,48.1370081],[11.5751703,48.1370426],[11.5750083,48.1370722],[11.5747947,48.1371222],[11.574735621342969,48.137160987835436],[11.5747931,48.1373294],[11.5749313,48.137590199999984],[11.5751075,48.1375572],[11.5751214,48.1375551],[11.5751334,48.1375602]]]]}},{type:"Feature",properties:{fid:7,id:null,id_2:null,id_3:155,"Current Name (DE)":"Hofgarten","Current Name (Eng)":"Court Garden","Previous Name":null,Address:"Hofgartenstraße 1","Starting year":1613,"Completion year/Opening year":"1617","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"garden",Description:"UNESCO-Welterbestätten in Bayern, style of Italian Renaissance gardens",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/top-sehenswuerdigkeiten/hofgarten","Wikipedia page":"https://de.wikipedia.org/wiki/Hofgarten_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":"Duke Maximilian I","Architect/Artist/Author":null,Status:null,AddressM:"Hofgartenstraße 1, Munich",Latitude:48.1427778,Longitude:11.58,Period:1,year:1617},geometry:{type:"MultiPolygon",coordinates:[[[[11.5779712,48.142164],[11.5782806,48.1428182],[11.5782723,48.1428199],[11.5785035,48.1433088],[11.578829,48.1439989],[11.578937,48.1439761],[11.5789332,48.1439681],[11.5817613,48.1433708],[11.5820182,48.1433315],[11.5829364,48.1431422],[11.5829193,48.14310969999998],[11.5829378,48.143105699999985],[11.5826374,48.1424931],[11.5825685,48.14250819999999],[11.5824399,48.1422459],[11.5825088,48.142230799999986],[11.5822333,48.141669],[11.5822148,48.14167309999998],[11.5821684,48.14157859999999],[11.58206163126343,48.14137044846133],[11.581332577699042,48.14153912140772],[11.581226828321743,48.14150342636863],[11.5811294,48.141562],[11.5808844,48.1416098],[11.5808742,48.1415866],[11.5800178,48.141751099999986],[11.5800259,48.1417745],[11.5798064,48.1418187],[11.5798347,48.1418836],[11.5792307,48.141997899999986],[11.5792066,48.1419398],[11.5789883,48.1419797],[11.5789729,48.1419497],[11.5781073,48.1421236],[11.5781121,48.1421345],[11.5779712,48.142164]]]]}},{type:"Feature",properties:{fid:42,id:null,id_2:null,id_3:158,"Current Name (DE)":"Englischer Garten","Current Name (Eng)":"English Garden","Previous Name":null,Address:"Englischer Garten","Starting year":1789,"Completion year/Opening year":"1792","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public park",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/top-sehenswuerdigkeiten/englischer-garten","Wikipedia page":null,"Owner/Initiator/Commissioned by":"Kurfürst Karl Theodor","Architect/Artist/Author":"Benjamin Thompson, Friedrich Ludwig von Sckell",Status:null,AddressM:"Englischer Garten, Munich",Latitude:48.1537024,Longitude:11.5930924,Period:2,year:1792},geometry:{type:"MultiPolygon",coordinates:[[[[11.583970042157192,48.144993892967754],[11.58437810179463,48.14569979406361],[11.584485180323256,48.146086095785805],[11.58472514151237,48.146608756476645],[11.584850669641495,48.147034980592586],[11.58491180677282,48.14748832323159],[11.584946594773086,48.14818061925149],[11.584909907341522,48.148977202047895],[11.5846142981105,48.14974660738838],[11.5845281197801,48.149955621664574],[11.584531095431922,48.15005975653769],[11.585107995764504,48.149998448963835],[11.585173579433107,48.150135908715555],[11.585868586621178,48.15004475602612],[11.586040056397641,48.150043916059246],[11.586122572215833,48.150069241372904],[11.586310534292535,48.150306636797886],[11.586763540498568,48.15105756241509],[11.58687815977932,48.1512724458203],[11.587047121441536,48.15167034610904],[11.58773860497583,48.152316225202185],[11.588049984699055,48.15258406107412],[11.588216181279225,48.152837045485434],[11.58799539637022,48.15311385093837],[11.587931106597317,48.15318174693883],[11.587996398530638,48.15331317095565],[11.588568284354931,48.153375793175734],[11.589138140537099,48.153577394057244],[11.589551709589802,48.15408152948539],[11.58989097073731,48.154454443804156],[11.589980480267055,48.15488735488686],[11.59004679017731,48.15521809736449],[11.590005751173964,48.155478772127815],[11.589924132104457,48.15574036183765],[11.589760793678845,48.156082322809226],[11.589559103049105,48.15637984301611],[11.589428897108212,48.15657305980124],[11.58932918950057,48.156744446554626],[11.589332531454222,48.1568108187275],[11.58948410362534,48.15722118864044],[11.589592264907374,48.1573969504117],[11.589877949982561,48.15760193341156],[11.590142512237703,48.15765637495071],[11.590546297392635,48.157786205024046],[11.590758576762198,48.157878068334774],[11.591281428151289,48.158310264778436],[11.59146508831788,48.158550769113],[11.592008536046452,48.15948085384485],[11.592318568960314,48.1598997255839],[11.592758766691007,48.16030357718443],[11.59329117618472,48.1605664096931],[11.593611558435398,48.16092161715104],[11.593983278803549,48.16139949836947],[11.594401449631436,48.16163470204226],[11.59444134831693,48.161660690094294],[11.594523338651468,48.16168240117083],[11.594601608591919,48.16167400620577],[11.594658199805624,48.16166131464383],[11.595143021261825,48.16205387788421],[11.596052429160517,48.16271370877682],[11.596285259391653,48.16279091687801],[11.596564531469342,48.16282878494952],[11.596948601362485,48.162849556308885],[11.597239729160004,48.162860646398826],[11.597606816572153,48.16280669265482],[11.597716797716771,48.16276149770897],[11.597862299250831,48.162678682242735],[11.598079224501461,48.16244109203448],[11.598541895993158,48.16210074530711],[11.598856451341035,48.161878617192734],[11.599185365977148,48.161853502987256],[11.599780719771504,48.161960790284844],[11.600076735561434,48.16224273645747],[11.600185002161671,48.16255544023202],[11.600170520187103,48.16279139753041],[11.599935532359765,48.16336811789694],[11.599808200009885,48.16363608296697],[11.599851711930773,48.163800038781325],[11.600058216228433,48.16413997284455],[11.600229491979402,48.16421856623585],[11.600475066193944,48.16446041800596],[11.600695149734026,48.16472051857801],[11.601067044212195,48.16528349955294],[11.601612177383384,48.165789539293364],[11.60235395181875,48.166352974522134],[11.602781864270188,48.166717341246716],[11.603077996083458,48.167087638083316],[11.603304212993072,48.16746835474304],[11.603524098358065,48.16781092467879],[11.604444896954584,48.168517557174106],[11.604967883845909,48.168759000104615],[11.605631161859938,48.16881464576254],[11.605850243118994,48.168880364972956],[11.606242194497492,48.16914244677265],[11.606425728985032,48.16946227297847],[11.606431475207685,48.169662427578146],[11.60637676447816,48.16979915583576],[11.606262640701615,48.169893051553004],[11.605924810242378,48.17000380370722],[11.605279931693497,48.17022460687549],[11.605177209980832,48.170282898497454],[11.605015374877388,48.170478017445085],[11.60493844614941,48.170871495709],[11.60484832131906,48.171091496517256],[11.604878065493724,48.17124398108577],[11.60528345186841,48.17177084443834],[11.60579567173829,48.172233430305376],[11.606505001847285,48.172588453786865],[11.607184738648685,48.172793930889476],[11.606987226054612,48.17284995739129],[11.607109413592658,48.17291492777968],[11.607068230365702,48.17301453220847],[11.607305780834189,48.17305332123372],[11.607301650402858,48.17318890182442],[11.607663177104971,48.17324107566267],[11.607719126983646,48.17325895045457],[11.607765200547169,48.17329913966935],[11.607789178346325,48.173467953897685],[11.607979847691222,48.173624147751326],[11.60830269453002,48.17378175822643],[11.608358943841285,48.17380551664204],[11.608392943015968,48.17386807001524],[11.60842969820384,48.17389816177082],[11.608489979379138,48.17400135345612],[11.608847875518514,48.17424210945819],[11.609059497795359,48.174377208113654],[11.609373290251511,48.17448642270093],[11.60992805054665,48.17513505466352],[11.610189904028614,48.17573879585475],[11.61017651279384,48.17599534694992],[11.609869394327282,48.176364604809265],[11.60945975780571,48.176709682322226],[11.608959520583518,48.1769183838618],[11.608833616535525,48.17712741876816],[11.60910860762048,48.177512906900155],[11.609504843103108,48.178031127042274],[11.609556766549838,48.17835982838504],[11.609508330832705,48.17862012072959],[11.609236698531282,48.179168237782754],[11.609557301738285,48.179237534815705],[11.610428278401232,48.17921774623871],[11.610991123926258,48.17989417016063],[11.61119194554539,48.180726089016865],[11.611338143571652,48.1811763518501],[11.61225458423144,48.18083741675282],[11.612583933973989,48.18142489058628],[11.61279425120452,48.181317019534426],[11.613567654197928,48.18249524433257],[11.614469200889298,48.182209647056396],[11.614732205692766,48.18270437301873],[11.615274555094873,48.18332233526005],[11.616501773686837,48.18450198954545],[11.617329319607036,48.18518413479073],[11.61768176350021,48.18535871693997],[11.617963116785939,48.18569396775573],[11.618417645374022,48.18666146940214],[11.619147058494587,48.186627169572276],[11.62059567580263,48.18635850411178],[11.621975778219687,48.18595589730115],[11.623915838097346,48.18513402484161],[11.62654256843364,48.183960649575994],[11.628665134608681,48.18309328781716],[11.62939383305396,48.18278796508123],[11.62964029072377,48.18269838071243],[11.627907271125451,48.180718988326326],[11.624597960206948,48.17671678199542],[11.624141116512215,48.1757905914277],[11.622872391088567,48.17474597960719],[11.622420664507473,48.17456631651391],[11.621889594172057,48.1738671322318],[11.62121886634059,48.173149042062],[11.620176825720758,48.172143408336225],[11.619892760687629,48.17162413881468],[11.618896431537454,48.17073673844167],[11.618319720191261,48.170047414306964],[11.617795126350249,48.16934364542213],[11.617522273191977,48.16878435199961],[11.61739558330344,48.168760730423415],[11.616943989929885,48.168841708190975],[11.616782375576008,48.16865099545482],[11.616978362527457,48.168089855640716],[11.61559289200942,48.166950626121384],[11.614225294925676,48.16538242172648],[11.61291270380224,48.163985254090484],[11.61126685558019,48.162136169813074],[11.60997287375982,48.16071203726112],[11.60915367524568,48.15979401949642],[11.608024046335142,48.15861354298116],[11.607604348869694,48.15788967361695],[11.607403785362434,48.15758054428852],[11.607024698171923,48.157266630420025],[11.606455350633018,48.156846581222915],[11.606137646255291,48.156571034105504],[11.60599813430805,48.15642398532598],[11.60462935625365,48.15697194375084],[11.60414201234319,48.15719285110466],[11.603151993027327,48.157723368114894],[11.603010358321177,48.15766472499761],[11.602558654909318,48.15695923494747],[11.601132199623544,48.157477531774674],[11.600873605529683,48.15712994275906],[11.59872725471483,48.15464034797166],[11.598286806450323,48.15480936188118],[11.597882659150136,48.15438995151898],[11.59746154995195,48.154549688763446],[11.596255837433109,48.15342383438296],[11.596145955479846,48.15281662605459],[11.595571005371156,48.15202111494175],[11.595469323716534,48.151837854147715],[11.595385663146173,48.150964969027136],[11.595319407456934,48.15082950626374],[11.594356543920396,48.151505130310724],[11.594108364011863,48.15116612699457],[11.593935518191985,48.15035710779168],[11.593812037272945,48.14974136810355],[11.593846850202727,48.149515260986306],[11.593860180410363,48.149386836265755],[11.59378324960499,48.14903954685974],[11.59444328636636,48.148905352807596],[11.594350352821815,48.14863353220784],[11.592946971100638,48.14816598029237],[11.59166401138982,48.14720528972608],[11.592589046986303,48.14656588597833],[11.592905712792533,48.14643061426858],[11.592762629733045,48.1460803993266],[11.592264792669276,48.14537149199067],[11.59171036711396,48.144849417892786],[11.590936575162603,48.14429694510262],[11.59040098945703,48.14401743307317],[11.58966714933742,48.143733552451934],[11.58896895118427,48.14350188052394],[11.588666011191549,48.143385002682436],[11.588513175996033,48.143233814962834],[11.587812686191617,48.143390719364334],[11.587813062733542,48.14339369731802],[11.587667900455514,48.14342314962335],[11.587537277971316,48.14345240729443],[11.587490219033013,48.14363239882315],[11.58752323878539,48.14396080042315],[11.58747327984191,48.14428002612842],[11.587359526249813,48.14426602085654],[11.587330091465383,48.144304237399304],[11.587256107946505,48.144375488328535],[11.587150897916683,48.144416516144865],[11.586946722677514,48.14445866830738],[11.586967463492337,48.14451011336947],[11.585014916877357,48.14490089032518],[11.584667084491262,48.14415322994993],[11.584666086813632,48.14413337113762],[11.58457943760695,48.14414967960603],[11.584548046715218,48.14411614599549],[11.584501612021048,48.144111668255775],[11.58437323881933,48.14421727655322],[11.584177360338952,48.14439177884688],[11.584085058599019,48.14442699085592],[11.583731568426545,48.144500533871785],[11.583970042157192,48.144993892967754]]]]}},{type:"Feature",properties:{fid:12,id:null,id_2:null,id_3:159,"Current Name (DE)":"Karlsplatz (Stachus)","Current Name (Eng)":"Karlsplatz square","Previous Name":"Stachus (unofficial)",Address:"Karlsplatz 1","Starting year":1791,"Completion year/Opening year":"1797","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public square, transport hub",Description:"Created after demolition of medieval wall",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/sehenswerte-plaetze/karlsplatz-stachus","Wikipedia page":"https://de.wikipedia.org/wiki/Stachus","Owner/Initiator/Commissioned by":"Elector Karl Theodor","Architect/Artist/Author":null,Status:null,AddressM:"Karlsplatz 1, Munich",Latitude:48.1401299,Longitude:11.5669279,Period:2,year:1797},geometry:{type:"MultiPolygon",coordinates:[[[[11.565642348010622,48.138864962674496],[11.565665047355775,48.13902519291832],[11.565682634626349,48.139082891947396],[11.565720387314197,48.13917131978488],[11.565832090155746,48.13935622829927],[11.565878771758566,48.139407369718334],[11.566042655437583,48.139576671429175],[11.566129780191908,48.13964233474971],[11.5661804,48.1396157],[11.5663345,48.1395282],[11.566337,48.1395302],[11.5663708,48.1395094],[11.5663998,48.1394867],[11.5664238,48.139462299999984],[11.5664335,48.1394499],[11.5664432,48.13943729999998],[11.566461,48.1394072],[11.5664724,48.1393782],[11.5664791,48.1393476],[11.5664805,48.1393166],[11.5664765,48.1392858],[11.5664673,48.139256899999985],[11.5664622,48.1392584],[11.5664262,48.1392019],[11.5663132,48.139025],[11.5662777,48.1389694],[11.5662811,48.1389684],[11.5662535,48.1389414],[11.5662239,48.1389186],[11.5661894,48.13889779999999],[11.5661511,48.1388798],[11.5661101,48.138865],[11.5660663,48.1388537],[11.5660231,48.1388455],[11.5659785,48.1388408],[11.5659333,48.1388397],[11.5658916,48.1388418],[11.565892,48.1388451],[11.56569,48.1388597],[11.565642348010622,48.138864962674496]]]]}},{type:"Feature",properties:{fid:14,id:null,id_2:null,id_3:40,"Current Name (DE)":"Königsplatz","Current Name (Eng)":"King's Square","Previous Name":"Königlicher Platz",Address:"Königsplatz 1, 80333 München","Starting year":null,"Completion year/Opening year":"1806","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":"1935, 1987",Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:"New Munich', part of 1933-1937 'Nationalsozialistische Stadtentwicklung' (National Socialist urban development) according to Munich City Museum",Website:null,"Muenchen.de":null,"Wikipedia page":"https://en.wikipedia.org/wiki/K%C3%B6nigsplatz,_Munich","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Leo von Klenze",Status:null,AddressM:"Königsplatz 1, 80333 München, Munich",Latitude:48.1452,Longitude:11.56451,Period:3,year:1806},geometry:{type:"MultiPolygon",coordinates:[[[[11.563701139813192,48.14549947509658],[11.563853651694085,48.14576342810133],[11.563754486683305,48.14579761776101],[11.563660627181482,48.14593827645915],[11.563534420918774,48.146175585774714],[11.563639779378425,48.146372197735474],[11.564155859312992,48.14650101851369],[11.564224977944829,48.14655632221871],[11.56430788714601,48.146675270533464],[11.564293658492728,48.14670934090103],[11.564348372011306,48.1467951659191],[11.564469281600555,48.14677114904232],[11.565275515459867,48.14654352402038],[11.56516626308195,48.14637542384257],[11.565421687740153,48.146280896415206],[11.565493629420434,48.14623310167994],[11.565592440062858,48.146191812596165],[11.565660671390718,48.146176076894214],[11.565804206978946,48.14617997655954],[11.566082080657191,48.14610981661728],[11.566190981330779,48.14627081796035],[11.566971746823373,48.14606506743782],[11.566145400447603,48.14479826316823],[11.565380382190197,48.145000103554935],[11.56549635089399,48.14519647689249],[11.565328957937785,48.14524640346118],[11.565342218297726,48.14529940108942],[11.564803270170136,48.14545710624121],[11.564768090818333,48.14539038630643],[11.564574712481845,48.145451550741726],[11.564465641736785,48.14528699875451],[11.563701139813192,48.14549947509658]]]]}},{type:"Feature",properties:{fid:22,id:null,id_2:null,id_3:96,"Current Name (DE)":"Botanischer Garten München-Nymphenburg","Current Name (Eng)":"Botanical Garden Munich-Nymphenburg","Previous Name":"Botanical Garden",Address:"Menzinger Str. 65","Starting year":null,"Completion year/Opening year":"1809","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:"1914",Moved:null,Type_2:"garden",Function:"botanical garden",Description:null,Website:"https://botmuc.snsb.de/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Botanischer_Garten_M%C3%BCnchen-Nymphenburg","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich Ludwig von Sckell (1809), Peter Holfelder, Walter Kupper, Leonhard Dillis (1914)",Status:null,AddressM:"Menzinger Str. 65, Munich",Latitude:48.1644161,Longitude:11.5017198,Period:3,year:1809},geometry:{type:"MultiPolygon",coordinates:[[[[11.495859706864334,48.16508902856347],[11.496549110315422,48.165037642672516],[11.499876931253638,48.16464802421413],[11.503647347593418,48.1642486637892],[11.503602469788595,48.16364634912726],[11.503638990048351,48.16248057397379],[11.503596338567233,48.16128531930918],[11.503329282061602,48.16122872965398],[11.500884396744464,48.161146761325334],[11.500312793877908,48.16122161359938],[11.499189153814132,48.161454096708276],[11.49870075300561,48.161641548352165],[11.49670567576421,48.162818700730924],[11.495419865333792,48.163715172275424],[11.495859706864334,48.16508902856347]]]]}},{type:"Feature",properties:{fid:6,id:null,id_2:null,id_3:9,"Current Name (DE)":"Marstallplatz","Current Name (Eng)":null,"Previous Name":null,Address:"Marstallpl., 80539 München","Starting year":null,"Completion year/Opening year":"1820","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:null,Website:"https://www.muenchenarchitektur.com/architektur-highlights/21-kultur-und-bildungsbauten/23196-marstallplatz-sued","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Marstallplatz_(München)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gewers Kühn & Kühn",Status:null,AddressM:"Marstallpl., 80539 München, Munich",Latitude:48.1403074,Longitude:11.5814734,Period:3,year:1820},geometry:{type:"MultiPolygon",coordinates:[[[[11.580813628578897,48.140438995024844],[11.58101179311024,48.14040106555987],[11.5815409,48.1411085],[11.5820532,48.1409163],[11.5818363,48.140662],[11.5817967,48.1406059],[11.5812146,48.1399053],[11.5810177,48.1396997],[11.5805913,48.1398173],[11.580572433912868,48.13984626408442],[11.580813628578897,48.140438995024844]]]]}},{type:"Feature",properties:{fid:5,id:null,id_2:null,id_3:162,"Current Name (DE)":"Max-Joseph-Platz","Current Name (Eng)":"Max Joseph Square","Previous Name":null,Address:"Max-Joseph-Platz 2","Starting year":null,"Completion year/Opening year":"1825","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":"1964",Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:"New Munich'",Website:"In 1964, the underground car park with 500 parking spaces was opened under Max-Joseph-Platz.","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/sehenswerte-plaetze/max-joseph-platz","Wikipedia page":"https://de.wikipedia.org/wiki/Max-Joseph-Platz","Owner/Initiator/Commissioned by":"Ludwig I","Architect/Artist/Author":"Leo von Klenze",Status:null,AddressM:"Max-Joseph-Platz 2, Munich",Latitude:48.1394402,Longitude:11.5797847,Period:3,year:1825},geometry:{type:"MultiPolygon",coordinates:[[[[11.578850729675988,48.14015982333973],[11.578549394558927,48.13947465446824],[11.577583236318198,48.13965732370245],[11.577570753976287,48.13993674048016],[11.577567479980438,48.14004758246509],[11.577506679948236,48.14041965213049],[11.577996120936703,48.14032300691266],[11.578104849522637,48.14029102822641],[11.57817119537831,48.14029396978175],[11.578850729675988,48.14015982333973]]]]}},{type:"Feature",properties:{fid:10,id:null,id_2:null,id_3:163,"Current Name (DE)":"Odeonsplatz","Current Name (Eng)":"Odeonsplatz square","Previous Name":null,Address:"Odeonsplatz 1","Starting year":null,"Completion year/Opening year":"1825","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:"New Munich'",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/sehenswerte-plaetze/odeonsplatz","Wikipedia page":"https://de.wikipedia.org/wiki/Odeonsplatz","Owner/Initiator/Commissioned by":"Ludwig I","Architect/Artist/Author":null,Status:null,AddressM:"Odeonsplatz 1, Munich",Latitude:48.1427484,Longitude:11.5775471,Period:3,year:1825},geometry:{type:"MultiPolygon",coordinates:[[[[11.5770987,48.143236],[11.5771804,48.1434152],[11.5772971,48.14364110000001],[11.5773451,48.1437937],[11.5775328,48.1442015],[11.5779898,48.144107],[11.57810924257469,48.14407861693628],[11.578103834864859,48.144068564025524],[11.57765867724244,48.14312643835435],[11.5775537,48.143143399999985],[11.5770987,48.143236]]]]}},{type:"Feature",properties:{fid:20,id:null,id_2:null,id_3:211,"Current Name (DE)":"Olympiapark","Current Name (Eng)":"Olympic Park","Previous Name":null,Address:"Spiridon-Louis-Ring 21","Starting year":1967,"Completion year/Opening year":"1972","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"park",Description:"UNESCO-Welterbetitel (UNESCO World Heritage title)",Website:"https://www.olympiapark.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/olympiapark","Wikipedia page":"https://de.wikipedia.org/wiki/Olympiapark_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"architects Behnisch & Partner, landscapearchitects Günther Grzimek, Wolfgang Miller & Hans Lutz",Status:null,AddressM:"Spiridon-Louis-Ring 21, Munich",Latitude:48.1750353,Longitude:11.5561896,Period:6,year:1972},geometry:{type:"MultiPolygon",coordinates:[[[[11.545847464443707,48.17613551163972],[11.54496382227989,48.176364487141754],[11.543305733598068,48.1765988346274],[11.541753954556421,48.17689668169652],[11.541129802880961,48.17717399240293],[11.54066393353358,48.17761719388488],[11.540461974429922,48.178085926977076],[11.540138199558681,48.17931649200531],[11.539974719994037,48.1803741173274],[11.540337413384984,48.182587048499734],[11.54102380644406,48.18470498456533],[11.541231552997475,48.18549089691996],[11.541357582523391,48.18595237537159],[11.54190541624578,48.18621630559995],[11.543981918803896,48.18608878206384],[11.54691589640847,48.18603632233527],[11.551572388416517,48.18590789994485],[11.55204169081636,48.18534537472321],[11.55286469498095,48.184160148373785],[11.5540069791007,48.18241571678266],[11.555878948373755,48.179688863443374],[11.55705195272816,48.17800018103375],[11.557816949504957,48.176784838642945],[11.558024994838595,48.17625319981527],[11.558177342580183,48.17591408358829],[11.558214627099908,48.17591325330748],[11.55955631893317,48.174749589549094],[11.560981315697417,48.17338642145949],[11.560357387993397,48.17303627192053],[11.560608016842778,48.171512046653945],[11.558426148602663,48.1713370249968],[11.558631239907427,48.17030269508336],[11.557208197865366,48.17014195149386],[11.557014569391011,48.170000638714484],[11.55687687044174,48.169733261106714],[11.556736316309989,48.16956476243395],[11.556615946545616,48.169489429114265],[11.556393840895268,48.16940075725292],[11.556204350975563,48.169342564115254],[11.555865753332837,48.16925648335807],[11.555737361041855,48.169176126797154],[11.555662299393802,48.16907378036834],[11.555991129218135,48.16849437422938],[11.555345011321776,48.16832151919332],[11.554445500107471,48.16789945534122],[11.553927310113286,48.16748450991184],[11.553201589160887,48.16664770776173],[11.552888533678194,48.16566650961709],[11.552793958101182,48.16470125881447],[11.552793982431366,48.16157036361315],[11.551471855417239,48.161558131001044],[11.550782857584249,48.161459014484784],[11.55073068780976,48.16213107893272],[11.550653002415048,48.16228882854794],[11.549874903196983,48.16297960929983],[11.54939746351009,48.163541493154526],[11.547264454560374,48.165835565000066],[11.545652294373264,48.167504358541436],[11.545120346805644,48.16743813314043],[11.544563816745471,48.16734644572643],[11.54494111350166,48.16774375128175],[11.544889736478321,48.16811934813238],[11.544507242001416,48.16855948866134],[11.543836821958696,48.16915162688601],[11.543299351231866,48.169288347009385],[11.542541137253403,48.1692063155582],[11.539853809644207,48.16847523909891],[11.538609442066157,48.16783704086965],[11.53829630280336,48.167635927959154],[11.538407324403108,48.16972680129841],[11.538993781170852,48.17247027012725],[11.540714568638055,48.17456455646141],[11.54257565112723,48.17571956661559],[11.543872627835883,48.17615892651212],[11.545847464443707,48.17613551163972]]]]}},{type:"Feature",properties:{fid:21,id:null,id_2:null,id_3:null,"Current Name (DE)":"Westfriedhof","Current Name (Eng)":"West Cemetery","Previous Name":null,Address:"2 Emmy-Noether-Strasse","Starting year":null,"Completion year/Opening year":"1898","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:"https://www.atlasobscura.com/places/westfriedhof-station",Website:null,"Muenchen.de":"https://www.muenchen.de/leben/westfriedhof","Wikipedia page":"https://de.wikipedia.org/wiki/Westfriedhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hans Grässel, Ingo Maurer",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1898},geometry:{type:"MultiPolygon",coordinates:[[[[11.515099530588635,48.173248123907456],[11.520582847541386,48.17470898758511],[11.521606624128589,48.17528981300082],[11.522294229228166,48.175357930855554],[11.522782158380112,48.17515998811006],[11.528276866613629,48.17241798701462],[11.52852331275195,48.16920886680349],[11.527244517234623,48.169132990785585],[11.52704586516036,48.16888772219095],[11.522904983118105,48.168791509142125],[11.517613185880657,48.16805467290516],[11.515099530588635,48.173248123907456]]]]}},{type:"Feature",properties:{fid:23,id:null,id_2:null,id_3:null,"Current Name (DE)":"Schlosspark Nymphenburg","Current Name (Eng)":"Nymphenburg palace park","Previous Name":null,Address:"Neuhausen-Nymphenburg, 80638 München","Starting year":null,"Completion year/Opening year":"1664","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:"https://www.schloss-nymphenburg.de/deutsch/park/index.htm","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/schlosspark-nymphenburg","Wikipedia page":"https://de.wikipedia.org/wiki/Schlosspark_Nymphenburg","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1,year:1664},geometry:{type:"MultiPolygon",coordinates:[[[[11.483287334292626,48.16264759438662],[11.48424123459685,48.16246384959474],[11.485403845936606,48.16232995491532],[11.486334991737767,48.16232235305389],[11.48753914972071,48.16253050854954],[11.488277348031689,48.16279893620378],[11.489313433927338,48.16366737768713],[11.490216477413794,48.16449895947963],[11.490783487064716,48.16484636821534],[11.492022642800615,48.16532349410973],[11.492121846577223,48.165241873141234],[11.492702480676009,48.16522509293714],[11.493008072392277,48.165080436584034],[11.495376094848291,48.16363204214053],[11.498909345597514,48.16146394839062],[11.500955176849788,48.16110991571173],[11.50525505834802,48.16121280305586],[11.505305773359497,48.16071396986603],[11.505547020423053,48.16053303981007],[11.506107637809247,48.16049153261646],[11.506887163631786,48.16032395079011],[11.507529429614204,48.16003388243338],[11.508210714615622,48.159646759077525],[11.508566039218838,48.159241654783834],[11.508745895173973,48.15882783383041],[11.509076177614096,48.158678412384425],[11.50910493336314,48.15824279556365],[11.508950781499426,48.15815832824747],[11.508719304682373,48.157770220816964],[11.508208851322394,48.15704523270382],[11.507126371834842,48.1563829194217],[11.506050976586158,48.156121969536144],[11.5057652306586,48.155902343465755],[11.505898134905497,48.155037831852994],[11.504406866935799,48.154451331311144],[11.501959434269967,48.154253708641505],[11.501000972795786,48.154082181558245],[11.498518347227924,48.15341680253118],[11.499284104574404,48.15116664436718],[11.50009415926261,48.148028807596575],[11.499190653385448,48.14692753533359],[11.494928329280796,48.147187494940546],[11.491134732349765,48.147060699235915],[11.49011891087412,48.14725002798017],[11.488070033622316,48.14830661009388],[11.486358666697786,48.14962353541849],[11.484595672073036,48.15116741059812],[11.483673696723924,48.152525773957485],[11.482502756815437,48.154684199724294],[11.481595204064766,48.15686201832236],[11.48130235661602,48.15804783037016],[11.481256853151068,48.158659469087844],[11.481382183766673,48.15944308581669],[11.481791587541425,48.16067228342644],[11.48244194420665,48.161712239576346],[11.483287334292626,48.16264759438662]]]]}},{type:"Feature",properties:{fid:24,id:null,id_2:null,id_3:null,"Current Name (DE)":"Hirschgarten","Current Name (Eng)":"Deer´s garden","Previous Name":null,Address:"Hirschgarten 1, 80639 München","Starting year":null,"Completion year/Opening year":"1720","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/koeniglicher-hirschgarten","Wikipedia page":"https://de.wikipedia.org/wiki/Hirschgarten_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:2,year:1720},geometry:{type:"MultiPolygon",coordinates:[[[[11.511661457344635,48.14982175141451],[11.513865819496692,48.1500370340692],[11.517599993928547,48.150093277721524],[11.5193087916346,48.15014364738415],[11.520124348628569,48.14995008872268],[11.519532344285427,48.14934823416019],[11.519072991239208,48.14915754427885],[11.518969518491414,48.14895904893932],[11.519052735652464,48.14874391177209],[11.516867858681465,48.14701002067884],[11.514343636088052,48.14715313578638],[11.513928872790446,48.146723041610095],[11.511964708505298,48.146816202583054],[11.511669317257894,48.14691049634931],[11.511182107032422,48.14653216752296],[11.511154811860441,48.14635709538051],[11.507815051179987,48.14669356159007],[11.50784905658004,48.14700651345043],[11.507664813399249,48.14707327463798],[11.508091139117354,48.147741546392886],[11.50847695948852,48.14834796225836],[11.509109509512893,48.148246312610674],[11.50971261528967,48.14946281859152],[11.510566506824011,48.14967001901265],[11.511661457344635,48.14982175141451]]]]}},{type:"Feature",properties:{fid:25,id:null,id_2:null,id_3:null,"Current Name (DE)":"Westpark","Current Name (Eng)":"West park","Previous Name":null,Address:"Westpark , 81373 München","Starting year":null,"Completion year/Opening year":"1983","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/parks-und-gaerten/westpark","Wikipedia page":"https://de.wikipedia.org/wiki/Westpark_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Peter Kluska",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:6,year:1983},geometry:{type:"MultiPolygon",coordinates:[[[[11.50708603650101,48.1197658971541],[11.507485951622925,48.12233382128369],[11.508317987017083,48.12462575691193],[11.508562073369914,48.12467437088528],[11.508688884363993,48.12503969448696],[11.51492025968042,48.12414184870705],[11.518453894716403,48.12351862746663],[11.519202090525631,48.12331182608882],[11.519453140493628,48.1229699579119],[11.519467815846886,48.122785589130046],[11.520027165520423,48.12269081418582],[11.520434077786662,48.122967475503536],[11.520963001174675,48.123219244893946],[11.521997496743278,48.12334250247727],[11.522370583138537,48.12350883692597],[11.522805840199933,48.12368649750384],[11.52533429446227,48.12344371230995],[11.52553313733762,48.12343934019332],[11.525845016722652,48.12380692229563],[11.52606456306277,48.12441769923379],[11.526088806785152,48.12471862220338],[11.526098829160267,48.12482629135028],[11.52601269328632,48.12500271299144],[11.525816954666826,48.12507048209787],[11.526008236868256,48.125491487266785],[11.526179339704514,48.12588755015552],[11.526314920859708,48.12652555896905],[11.527455853867183,48.12620852177042],[11.529103308016449,48.12597551758],[11.530151890182017,48.12590165188744],[11.530600990048276,48.125974261723954],[11.530986263692881,48.12590548124035],[11.531666715855737,48.12624905905719],[11.53178829613522,48.12640821353512],[11.53184526726573,48.12641013093346],[11.532155100601328,48.12634935592245],[11.532252443072553,48.12640115465766],[11.532682754342705,48.12676610717972],[11.532754004282072,48.12744360586926],[11.532927037279105,48.1278776949533],[11.533263460137723,48.127971818558805],[11.533721956954102,48.127657075743834],[11.533684500158232,48.127473855059115],[11.53371834864173,48.12734300621041],[11.5340271495143,48.127020457979725],[11.534172236462815,48.12679037140973],[11.534597937680612,48.12667626168489],[11.534781339188852,48.12664682854861],[11.534976863113414,48.126671072380944],[11.535327953695456,48.126774385875926],[11.535668483497858,48.12685571887851],[11.535549262094918,48.12712966150939],[11.53722794911277,48.12753049608633],[11.537528970973554,48.1270986339363],[11.537589006161028,48.12697037857614],[11.53749669060156,48.12663605627287],[11.536354138235183,48.12653436364196],[11.536200338567623,48.12639496474515],[11.535583226858428,48.126183290831015],[11.535727707348206,48.12603730607098],[11.535541705766086,48.12591765657134],[11.535196811829591,48.125747569245874],[11.534385908919013,48.125546512709434],[11.533659453156899,48.125327721523284],[11.532853409300353,48.12493615354465],[11.532454580667206,48.12472916870047],[11.532242243680694,48.12407381959422],[11.532067394465368,48.123024163719236],[11.532085200012691,48.122807991871426],[11.531444455721717,48.12288558032699],[11.530754496814994,48.12292617091376],[11.529985238104539,48.12308908668477],[11.528986673958448,48.12302222793592],[11.528610548714788,48.122890887282374],[11.528556742158917,48.1221812695846],[11.52608405467823,48.12201355379278],[11.52588041390061,48.122113229120686],[11.522457785041029,48.121902857764944],[11.522382802630975,48.12133967077805],[11.521702944414445,48.121392678065156],[11.521821535855862,48.121878750620596],[11.520792420783723,48.122155199513145],[11.51986031257021,48.12228354267523],[11.51915389412378,48.12237519615961],[11.518280519047122,48.121378917662526],[11.517681248983827,48.120947804362],[11.514938890322986,48.12069056309024],[11.513924545787505,48.12068738347081],[11.511878037748115,48.12051003310313],[11.50708603650101,48.1197658971541]]]]}},{type:"Feature",properties:{fid:26,id:null,id_2:null,id_3:null,"Current Name (DE)":"Luitpoldpark","Current Name (Eng)":"Luitpold park","Previous Name":null,Address:"Brunnerstraße 2","Starting year":null,"Completion year/Opening year":"1911","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/parks-und-gaerten/luitpoldpark","Wikipedia page":"https://de.wikipedia.org/wiki/Luitpoldpark_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1911},geometry:{type:"MultiPolygon",coordinates:[[[[11.567242209771562,48.171905274714184],[11.567516783316307,48.17203951616483],[11.567587397038213,48.17209981555046],[11.567623148725636,48.17214085086898],[11.567691028381553,48.17221876203166],[11.567714702735614,48.17315245992315],[11.567678253264507,48.17346742265508],[11.567780211580926,48.173985346727434],[11.567989836361972,48.17426764367642],[11.568041088817006,48.174367644083816],[11.568050503778409,48.17440809550389],[11.568061477702551,48.174455244924964],[11.568055217094486,48.174519840746726],[11.568044824631471,48.174562989494746],[11.568042202117727,48.17457387796974],[11.568031651623505,48.17460009449464],[11.568026846229566,48.17460502423707],[11.56800260005252,48.17462989781177],[11.567956725483185,48.17466372665509],[11.567892213470692,48.1747112990246],[11.567749113911185,48.17483825295367],[11.567662168298858,48.17494967214235],[11.567652933924363,48.175002236533885],[11.567693153761667,48.175142545474785],[11.56774829128699,48.17520160406646],[11.567657787872351,48.175289303682035],[11.567515782965302,48.17534324897213],[11.567241714042847,48.17536524016045],[11.567161763822416,48.1754053093309],[11.567459911791508,48.17574432230234],[11.56767568919188,48.17569507461496],[11.567944849744377,48.17557482256663],[11.56842001641783,48.17558958549921],[11.568488499206873,48.175061301212715],[11.568547530111989,48.17472362089449],[11.568719342968429,48.17436437943192],[11.568820056799495,48.17391153122016],[11.568994111979029,48.17378705686908],[11.569963367970988,48.17381614861407],[11.570395251997203,48.17391437512568],[11.57087361032967,48.17418291345082],[11.57118422836311,48.17451232213053],[11.571484141848474,48.17500697664792],[11.571696539132624,48.17545916461311],[11.572260384954957,48.17648735435679],[11.571970530797456,48.177331572148645],[11.570100703831775,48.17694186320956],[11.570015749732352,48.17714050291067],[11.571928573159152,48.17763079341202],[11.572663800289813,48.177722219748176],[11.57260434868824,48.177482387041444],[11.572538106659307,48.17653825328408],[11.572682561751177,48.17544343320394],[11.572116977640352,48.17513877685563],[11.572264018053962,48.17428506342715],[11.572368549073264,48.17409867640153],[11.572447819440866,48.17397631920856],[11.572371005101415,48.1737686072192],[11.57269607966376,48.172301649161874],[11.57253238480552,48.17206415079771],[11.572559422931876,48.17146698100479],[11.572709345549475,48.17086071269996],[11.572767350890066,48.1703136206469],[11.572267291229572,48.170369244049255],[11.571305076512235,48.17047963586771],[11.571027615557592,48.16910549765455],[11.570875828612921,48.16910572151889],[11.570546542265257,48.16750109706416],[11.569110551057253,48.167622071547676],[11.56899519344896,48.16721213343564],[11.56934455432342,48.16717893418091],[11.56924089015333,48.166813159760416],[11.570119973170753,48.16674906991375],[11.570054241093036,48.16657284046273],[11.570347372905465,48.16655358899176],[11.57012326933463,48.16567644911366],[11.569915080081898,48.165497060332136],[11.569701792426583,48.16502584931009],[11.568482550360162,48.165116581654146],[11.568343452115558,48.16423119115213],[11.567607181196266,48.16430476843082],[11.567880104360567,48.16573296142364],[11.567380399516688,48.165794902237955],[11.567543866244863,48.167168424127],[11.568130138790458,48.16712993310365],[11.568209825079691,48.16777548746912],[11.566752017584088,48.167839802252736],[11.56680452417181,48.168511350472656],[11.567093594618914,48.16879048025996],[11.56719414602662,48.16966404025893],[11.567300368010715,48.17036611982083],[11.567412304195017,48.171277503589224],[11.567305860493587,48.171425850308346],[11.567242209771562,48.171905274714184]]]]}},{type:"Feature",properties:{fid:27,id:null,id_2:null,id_3:null,"Current Name (DE)":"Südpark","Current Name (Eng)":"Southpark","Previous Name":null,Address:"200, Südparkallee, 81379 München","Starting year":1969,"Completion year/Opening year":"1970","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/parks-und-gaerten/suedpark","Wikipedia page":"https://de.wikipedia.org/wiki/S%C3%BCdpark_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:6,year:1970},geometry:{type:"MultiPolygon",coordinates:[[[[11.512152232486164,48.101736884232764],[11.512096970872301,48.10169855690645],[11.511235518077692,48.10171422333946],[11.510131167111526,48.10170346011415],[11.510169834143966,48.101232977099045],[11.510002193857936,48.101195389050964],[11.509683426910597,48.101167449796506],[11.508880980770934,48.10103266737841],[11.508832677357319,48.10062437604341],[11.508649092599383,48.09986998454382],[11.508549355364371,48.09947550943718],[11.508653258171476,48.09937169653213],[11.50858592708602,48.09905901753356],[11.508443498879986,48.099052608817],[11.508058237336588,48.099118141094806],[11.50704765994028,48.09908626114293],[11.506377231232467,48.09913262666209],[11.505111454835534,48.1001851964618],[11.504796219012256,48.10052208787042],[11.504339446963677,48.10116352141192],[11.504241694043754,48.101394125334316],[11.504164453714242,48.10175438422314],[11.504122804548635,48.10216463865246],[11.504218441147893,48.102670269691195],[11.504383219470512,48.103136314216336],[11.504601556341969,48.103534552741856],[11.504887495852554,48.10386150544273],[11.50532853783246,48.10416286151825],[11.505711050642661,48.10433221736767],[11.507442777612646,48.105259083293895],[11.510977199903971,48.10700964233098],[11.513025661847799,48.10801517629798],[11.513396882992534,48.1068837306099],[11.51373319588539,48.10610527582369],[11.514499973122215,48.106186860658546],[11.514884413726445,48.10620065568314],[11.51610687086156,48.10620243969793],[11.51633784930914,48.106178339825505],[11.517163679536928,48.10620784135435],[11.517186140726,48.10579482932159],[11.517370065181145,48.10529260106342],[11.51739445190948,48.10501599558287],[11.517302690060667,48.104786361160464],[11.517434542819801,48.10458195251372],[11.517499655084496,48.10459958311536],[11.517683884098986,48.1045400131037],[11.517876768611572,48.104415201826505],[11.518039707259359,48.10425931448734],[11.51815331961752,48.10386968943041],[11.518759734945997,48.10348195038647],[11.518979148450578,48.103318476624054],[11.519362111280294,48.10301179268072],[11.519165372134047,48.10286379323123],[11.519195028997773,48.102501394393016],[11.51931096470664,48.10196574844349],[11.517375185859951,48.10190665248681],[11.516263910072718,48.10204524188917],[11.515757760838119,48.10215787371328],[11.515689584356265,48.10202291822034],[11.515691115443492,48.10156911274975],[11.514572198755346,48.101453994746954],[11.514408513751968,48.10140046037049],[11.513901036341807,48.10158292416],[11.513143604937124,48.101691524837506],[11.51241453515895,48.101750315002704],[11.512152232486164,48.101736884232764]]]]}},{type:"Feature",properties:{fid:28,id:null,id_2:null,id_3:null,"Current Name (DE)":"Bavariapark","Current Name (Eng)":"Bavarian park","Previous Name":null,Address:null,"Starting year":null,"Completion year/Opening year":"1850","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/parks-und-gaerten/bavariapark","Wikipedia page":"https://de.wikipedia.org/wiki/Bavariapark","Owner/Initiator/Commissioned by":"König Ludwig I","Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:3,year:1850},geometry:{type:"MultiPolygon",coordinates:[[[[11.540974246639317,48.13039497213256],[11.541060442634453,48.131026127599036],[11.541204216620601,48.13221538157377],[11.543563565499557,48.13206602129065],[11.543593006506194,48.131750512874625],[11.543705190381896,48.13159060023894],[11.544546730677917,48.131508318880655],[11.544565493474698,48.131685428674295],[11.54527244983616,48.131512336429594],[11.545071271643279,48.13128902583923],[11.544873084251012,48.13062016015125],[11.544873887521574,48.13023159598766],[11.544901594933975,48.130083602418054],[11.545037327459685,48.12961584652951],[11.540974246639317,48.13039497213256]]]]}},{type:"Feature",properties:{fid:29,id:null,id_2:null,id_3:null,"Current Name (DE)":"Alter Südfriedhof","Current Name (Eng)":"Old South Cemetery","Previous Name":null,Address:null,"Starting year":null,"Completion year/Opening year":"1563","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/alter-suedlicher-friedhof/10321277/","Wikipedia page":"https://de.wikipedia.org/wiki/Alter_S%C3%BCdfriedhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":"Duke Albrecht V","Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1,year:1563},geometry:{type:"MultiPolygon",coordinates:[[[[11.562171654717785,48.12514539360417],[11.563246644867396,48.126635963572184],[11.56417172490613,48.126334935490235],[11.564311087123876,48.1265164847179],[11.564248191062259,48.126549230426455],[11.564134742523313,48.126633928710504],[11.564066159619559,48.126704919289544],[11.564029593493478,48.12675825374919],[11.563969857573316,48.12685445877626],[11.5639477830927,48.12689391663226],[11.563919179429051,48.126980108916044],[11.563918213276951,48.12716394400444],[11.563951633241306,48.12726971662925],[11.563939031653387,48.12727391562153],[11.563944766646113,48.12729062305277],[11.563847134318024,48.127308684981514],[11.564157039658678,48.12773885325803],[11.56449374522332,48.128198916710005],[11.564860707607727,48.12870743338148],[11.56523147016897,48.12924127600329],[11.565610791487869,48.12974358477104],[11.566038071026735,48.13034477471705],[11.566243519354853,48.13063326964541],[11.566361544015411,48.130868658296244],[11.566428742768815,48.13085868612402],[11.566642093106092,48.1308234243096],[11.566900882455254,48.13079858200499],[11.566842658190511,48.13053178661384],[11.566809067475793,48.13036566515554],[11.566737337396674,48.13004368865208],[11.566650339156112,48.12946623910733],[11.56653715491262,48.128820338653185],[11.566222076976358,48.1268909837097],[11.566120022285554,48.12689961688483],[11.566073792166515,48.12680980181191],[11.566002632738853,48.12671482597015],[11.565892894357061,48.12660737064692],[11.565787644724473,48.12653285056108],[11.565584226023201,48.126430664163884],[11.565247032726024,48.12634798310203],[11.565052939890009,48.12633770602394],[11.564864408503352,48.12634382223145],[11.56479638312242,48.12634978840877],[11.564752525203893,48.126250390331194],[11.564613315431826,48.12627509905781],[11.56462709196565,48.126304015252686],[11.564423364484222,48.126367011776885],[11.564354262497087,48.12627516548679],[11.565248471159338,48.12597693557633],[11.56414607757869,48.12449589003136],[11.562171654717785,48.12514539360417]]]]}},{type:"Feature",properties:{fid:30,id:null,id_2:null,id_3:null,"Current Name (DE)":"Nußbaumpark","Current Name (Eng)":"Nußbaum park","Previous Name":null,Address:null,"Starting year":null,"Completion year/Opening year":"1900","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Nu%C3%9Fbaumpark","Owner/Initiator/Commissioned by":"Friedrich Ludwig Sckell","Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1900},geometry:{type:"MultiPolygon",coordinates:[[[[11.562437526257025,48.13310167621966],[11.562616507551551,48.13318916622696],[11.563824654447394,48.1333226179309],[11.563900969564338,48.13337809139474],[11.564458206493049,48.13343807540035],[11.564686359946956,48.1334647461431],[11.564985518902189,48.133487924880356],[11.565240406651437,48.133517809295284],[11.565249059048517,48.13338674431618],[11.565310028527405,48.132991496779695],[11.564954287162351,48.13282314589641],[11.563876569198696,48.13226908518358],[11.563446405100873,48.132073484766806],[11.563007838873151,48.131880611435705],[11.562879957019016,48.13201878383626],[11.562772203232093,48.13216095407952],[11.562767147180917,48.13221189086647],[11.562602954880592,48.13255480429996],[11.562486476846823,48.13280771103383],[11.562437526257025,48.13310167621966]]]]}},{type:"Feature",properties:{fid:31,id:null,id_2:null,id_3:null,"Current Name (DE)":"Waldfriedhof","Current Name (Eng)":"Forest cemetery","Previous Name":null,Address:null,"Starting year":1899,"Completion year/Opening year":"1907","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/waldfriedhof/10320886/","Wikipedia page":"https://de.wikipedia.org/wiki/Waldfriedhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hans Grässel",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1907},geometry:{type:"MultiPolygon",coordinates:[[[[11.488884470410532,48.103832032108706],[11.48886835113419,48.10385736541391],[11.489582588978577,48.1053556421001],[11.49034029600792,48.10652706371601],[11.491174908767297,48.107765424372836],[11.49144157491023,48.10821526777265],[11.491646069094617,48.10857104553041],[11.492356019862669,48.10946475275138],[11.494829379486749,48.11205162899555],[11.495039267913318,48.112036904847265],[11.495745248134154,48.112040625037764],[11.49738543369219,48.112020219301534],[11.499680053147552,48.11199698407334],[11.501618043119088,48.11197511831923],[11.501991479869998,48.11196825442221],[11.502128292309692,48.11196273276848],[11.502175165569907,48.11191215833198],[11.502186123863858,48.111835048503444],[11.502153937186185,48.11056705896362],[11.502100288076779,48.10860324958266],[11.50209299070442,48.10847253705643],[11.50205288982548,48.108330468492106],[11.5020300931569,48.10827124705461],[11.502023288326308,48.10807254683868],[11.502030687109972,48.10800027926406],[11.502078245137257,48.107836924401035],[11.502085701975165,48.107795149889526],[11.502037103769789,48.10689217861588],[11.501998130246964,48.10605062152231],[11.501949919014997,48.105800093471686],[11.50185265176458,48.10547693936519],[11.501610976159249,48.1047973515602],[11.501420025294863,48.10430280101159],[11.501287206293101,48.10395056164907],[11.500969810219098,48.103117608548324],[11.500765955115789,48.10257187863036],[11.500742492453865,48.10251838909875],[11.500643789047725,48.10232168965819],[11.499948508428012,48.10194929382944],[11.49913562249682,48.101557217542975],[11.496276750406953,48.10010420412689],[11.495344497362858,48.09962903545815],[11.495108173874296,48.099880358498055],[11.494854371326527,48.10007769354421],[11.494722491954702,48.10020558472652],[11.49456754134311,48.100332264187045],[11.494388704326651,48.1004937160367],[11.49423235722776,48.10064440302874],[11.494154483623078,48.1009372516058],[11.494063271198616,48.101271494349724],[11.493942693148426,48.10147449753918],[11.493708662671741,48.10171079247185],[11.493496115963007,48.10186269866264],[11.49318792461767,48.102098889911],[11.492863151365356,48.10225665650152],[11.49259967938518,48.10241309173404],[11.492404416144673,48.10249953854175],[11.491560067147757,48.102805591039925],[11.491156844502227,48.10298046882263],[11.490974348324988,48.103066636242666],[11.490667607900916,48.10322743080315],[11.490115665164458,48.10349972790408],[11.489930867771237,48.103644174966426],[11.489698097921684,48.103695463780475],[11.489334889118314,48.10374615405118],[11.488884470410532,48.103832032108706]]]]}},{type:"Feature",properties:{fid:32,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Sendling","Current Name (Eng)":"Cemetery Friedhof","Previous Name":null,Address:null,"Starting year":null,"Completion year/Opening year":"1872","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-sendling/10321620/","Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1872},geometry:{type:"MultiPolygon",coordinates:[[[[11.536316605392749,48.11674663029025],[11.537354593368555,48.11675747358916],[11.537390568325534,48.114416889534056],[11.536532299830561,48.114397253427335],[11.536336496791524,48.1145173610318],[11.53630376043618,48.11473035351676],[11.536316605392749,48.11674663029025]]]]}},{type:"Feature",properties:{fid:33,id:null,id_2:null,id_3:null,"Current Name (DE)":"Alter Nordfriedhof","Current Name (Eng)":"Old North Cemetery","Previous Name":null,Address:"Arcisstraße 45, 80799 München","Starting year":null,"Completion year/Opening year":"1868","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/alter-nordfriedhof","Wikipedia page":"https://de.wikipedia.org/wiki/Alter_Nordfriedhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1868},geometry:{type:"MultiPolygon",coordinates:[[[[11.568367147848313,48.15458928244673],[11.56847142001107,48.1546090079148],[11.56847921425426,48.154646482321205],[11.568684146313316,48.154970595934124],[11.569227100019218,48.15479834681555],[11.571926121582928,48.154028775066486],[11.571882897409283,48.15395737842689],[11.571988098490452,48.153934519663686],[11.571140700869952,48.152613542346046],[11.571064338308776,48.15263635789408],[11.571023398721051,48.152574558384295],[11.568205758203947,48.153322640006955],[11.568116940722168,48.153348747231966],[11.568053774098543,48.154105161538055],[11.568151736875995,48.15426217308637],[11.568367147848313,48.15458928244673]]]]}},{type:"Feature",properties:{fid:34,id:null,id_2:null,id_3:null,"Current Name (DE)":"Alter Botanischer Garten","Current Name (Eng)":"Old Botanical Garden","Previous Name":null,Address:"Sophienstraße 7","Starting year":null,"Completion year/Opening year":"1812","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/top-sehenswuerdigkeiten/alter-botanischer-garten","Wikipedia page":"https://de.wikipedia.org/wiki/Alter_Botanischer_Garten_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich Ludwig von Sckell",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:3,year:1812},geometry:{type:"MultiPolygon",coordinates:[[[[11.561696418086054,48.142159841878545],[11.561848335459779,48.14255084016714],[11.562325257428755,48.1424117551276],[11.562667625088753,48.142556082610604],[11.563014044486478,48.14267318198135],[11.563389895225091,48.1427299227834],[11.563752695292882,48.14274172583749],[11.564283074427296,48.14259058478669],[11.565081606109052,48.14234209305888],[11.565308091828475,48.14227642972243],[11.56539948634691,48.14223911080008],[11.56561233420742,48.14214390108894],[11.565799258907266,48.14201670601952],[11.565840926514971,48.141971451967834],[11.565976927230473,48.14177167279191],[11.566020977243078,48.14169289685603],[11.566081694742499,48.141541836291786],[11.566153133881494,48.14123992747554],[11.566228976946926,48.14086374655674],[11.566214260397247,48.14083965232065],[11.566244161853854,48.14082948641914],[11.566184553169553,48.14073176922393],[11.566138587170707,48.140745007681716],[11.566122160226959,48.14071371519218],[11.563965895303049,48.141365207226954],[11.56208371885664,48.14194451243025],[11.561975177026195,48.14199035217827],[11.56202179696035,48.1420580585974],[11.561696418086054,48.142159841878545]]]]}},{type:"Feature",properties:{fid:35,id:null,id_2:null,id_3:null,"Current Name (DE)":"Maximiliansplatz","Current Name (Eng)":"Maximilian square","Previous Name":null,Address:"Maximilianspl.","Starting year":null,"Completion year/Opening year":"1808","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Maximiliansplatz","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:3,year:1808},geometry:{type:"MultiPolygon",coordinates:[[[[11.569554175734154,48.14172698027013],[11.571437084377392,48.142299941319514],[11.572739082196735,48.14271492333872],[11.572906993356884,48.14277538580219],[11.573078152783037,48.14287376664866],[11.573054710796159,48.142891478363374],[11.573300546486978,48.14307773715541],[11.573472396029718,48.14302775461105],[11.573410350355726,48.142868133574055],[11.573240167441085,48.142492032336946],[11.573165346045657,48.14234717028707],[11.573099720781709,48.14227808497209],[11.57301042806394,48.14222219359368],[11.572820059998383,48.14214504772067],[11.572667543266157,48.1420950950163],[11.571892728524292,48.141870929933425],[11.57127668764254,48.141686624197845],[11.57060898796098,48.14148266649695],[11.569919016659988,48.14126563488215],[11.569616694070595,48.141165660948076],[11.56949667680804,48.141143922805625],[11.569423732336674,48.14114465002112],[11.569339359865872,48.14116010573439],[11.569275282294525,48.141176011978665],[11.569217236271697,48.141204447070315],[11.56915428649208,48.14124294194226],[11.569098721628409,48.141321072104034],[11.569090677114596,48.14140356670926],[11.569114269015866,48.141497112944],[11.569173405190648,48.14154463629896],[11.569361926638276,48.14166615278824],[11.569554175734154,48.14172698027013]]]]}},{type:"Feature",properties:{fid:36,id:null,id_2:null,id_3:null,"Current Name (DE)":"Dichtergarten","Current Name (Eng)":"Poet´s garden","Previous Name":"Finanzgarten (Finance garden)",Address:"Galeriestr. 1","Starting year":null,"Completion year/Opening year":"1984","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"garden",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/parks-und-gaerten/dichtergarten","Wikipedia page":"https://de.wikipedia.org/wiki/Finanzgarten","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:6,year:1984},geometry:{type:"MultiPolygon",coordinates:[[[[11.580047609340735,48.144967063190585],[11.582669625306098,48.14442691284276],[11.582930448214386,48.14439933858012],[11.583954336863782,48.14417187958549],[11.584027761475351,48.14412680902252],[11.584099347831481,48.14399132399864],[11.584023109626047,48.143765090595615],[11.583737470850991,48.143190790130575],[11.583599201402864,48.14312877216961],[11.583409494052678,48.14317283966941],[11.583358033596248,48.14322465231366],[11.582887178214008,48.14332207891197],[11.581953199359148,48.143509516019556],[11.579584850430455,48.14404033541602],[11.580047609340735,48.144967063190585]]]]}},{type:"Feature",properties:{fid:37,id:null,id_2:null,id_3:null,"Current Name (DE)":"Ostpark","Current Name (Eng)":"East park","Previous Name":null,Address:"Feichtstr. 19, 81735 München","Starting year":null,"Completion year/Opening year":"1973","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/parks-und-gaerten/ostpark","Wikipedia page":"https://de.wikipedia.org/wiki/Ostpark_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:6,year:1973},geometry:{type:"MultiPolygon",coordinates:[[[[11.630050120534587,48.112248451500406],[11.630053917709104,48.11230345918452],[11.630139817343558,48.112477882196046],[11.630176835361972,48.112620860289425],[11.630115836035653,48.112748896409926],[11.630090468829577,48.1128869712637],[11.630132571948238,48.11299726856242],[11.630221630178482,48.11302191362828],[11.630265658715098,48.11309055678293],[11.630362945225954,48.11313084318031],[11.630373498076894,48.11320522810956],[11.630287496915086,48.11326689911844],[11.630227696863678,48.113418426511615],[11.630249771362394,48.11358617006593],[11.630383909160313,48.11367355440485],[11.630403052922075,48.11373100810796],[11.630490997732085,48.11391895247211],[11.630514989776533,48.114177108555296],[11.630523464433088,48.11460748740447],[11.630536831309024,48.11513363805769],[11.630669831616046,48.11562177037936],[11.63076908903853,48.11603107376588],[11.630739273023748,48.11624071123084],[11.630749061275369,48.1165380888376],[11.630920007657755,48.116975600517684],[11.631005599283299,48.117249531992215],[11.63153773393124,48.117591025009595],[11.631647668878276,48.11773323632865],[11.631601658933183,48.11783741098334],[11.63141887063324,48.11790853702336],[11.631297739226484,48.118075943129696],[11.631424060598382,48.11843306560021],[11.631427383859394,48.118441922032126],[11.631673560226035,48.11839184454809],[11.631912884307807,48.118343167340996],[11.632401861274554,48.11824308712409],[11.632836918901203,48.11815192970965],[11.633067537039999,48.11811136460451],[11.6337133693148,48.11800112439628],[11.635096889254399,48.11779390310216],[11.635972149897311,48.11768607460513],[11.636044288227232,48.11761748104412],[11.636398515130857,48.11741215484005],[11.636678405016372,48.11746995352686],[11.637069999524913,48.117229393850444],[11.637465940207804,48.117073762136584],[11.637811061496922,48.11695457432799],[11.638144144170262,48.116785006353524],[11.638322475027001,48.11662713365022],[11.638466517613761,48.11645919361752],[11.638526332520598,48.1163479147205],[11.638684491593391,48.11609959603786],[11.638782216993935,48.116016392061],[11.638942103602533,48.115920452599056],[11.639052431247519,48.115859120665405],[11.639133792831663,48.115812475027745],[11.640084149847128,48.11549710052828],[11.640631996113523,48.115446061225406],[11.640720070506386,48.11554353833404],[11.640863518221972,48.11549591613724],[11.641443558742198,48.11521663435167],[11.642025870274221,48.11519238492247],[11.643094567519116,48.11453821656803],[11.643626747054478,48.11490588524755],[11.644476460370202,48.11435443762658],[11.645088498381643,48.11390976936876],[11.645876204044319,48.11341401328169],[11.646601734557079,48.11297034026091],[11.647343117304287,48.112519965182074],[11.647554251443612,48.11234413489882],[11.64801119311588,48.11204956592558],[11.648110083249076,48.11195004479616],[11.648142491733772,48.11187105248031],[11.648129798018966,48.11178179307226],[11.64809458618285,48.11171431021269],[11.647958565384181,48.11160392341324],[11.646989760593444,48.111045525342746],[11.64668962867059,48.110829919190635],[11.646475476345024,48.11055262954504],[11.646358269816192,48.11032195219696],[11.646276709651548,48.10999637839755],[11.64519283326299,48.11001049381177],[11.64518798488293,48.11008704137445],[11.645032769572172,48.110089259509984],[11.645024756996538,48.110169950490935],[11.64447365327591,48.11016952579156],[11.641980391264932,48.11017173214632],[11.641978519501544,48.11034590424962],[11.641355189924479,48.11034622153284],[11.641351738175194,48.11027891072491],[11.640182395914454,48.1102858987501],[11.640170769479083,48.11026988384109],[11.640065261557467,48.110266881952136],[11.64006182239903,48.110252487952],[11.639785864473147,48.11024435838803],[11.639787709060583,48.11070202651537],[11.639752026213145,48.11090185128164],[11.63975737255236,48.11111158774862],[11.639701147141503,48.11122685544975],[11.639475697281785,48.11125555594836],[11.639373163406283,48.111257912458036],[11.638819265794467,48.11130863273401],[11.638680900112357,48.11134980371729],[11.638141417600737,48.111418280826406],[11.637944799614752,48.11148249863127],[11.637754595650032,48.11156646922947],[11.637595582203883,48.11157373962832],[11.637392841025765,48.11157115923092],[11.637007079300593,48.111581826731424],[11.636794023022388,48.1115360629641],[11.636765945692574,48.11146253320677],[11.63682516927572,48.11130016071263],[11.636743866808452,48.111242326043715],[11.636644709912856,48.11115233685669],[11.636656752559686,48.11101818461621],[11.6365876627649,48.1108822767784],[11.63654606569224,48.11059738891138],[11.636486273896725,48.11048478626323],[11.63647560529332,48.11038191065952],[11.63649890360776,48.11025654568454],[11.63352214035384,48.1102597168187],[11.632805360200546,48.110331629643525],[11.632630338725344,48.11041483079987],[11.632442530773162,48.11054577507103],[11.632337443965202,48.110656731693744],[11.632157945324,48.11095030683923],[11.631940812537609,48.11135329203374],[11.631691666153353,48.111764246908],[11.63145171024907,48.11198503188293],[11.631182943976327,48.112117829005555],[11.630879304147102,48.11220257785511],[11.630454075680078,48.11223402782963],[11.630050120534587,48.112248451500406]]]]}},{type:"Feature",properties:{fid:38,id:null,id_2:null,id_3:null,"Current Name (DE)":"Taxispark","Current Name (Eng)":"Taxis park","Previous Name":null,Address:"Paschstraße 28, 80637 München","Starting year":null,"Completion year/Opening year":"2018","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/parks-und-gaerten/taxispark","Wikipedia page":null,"Owner/Initiator/Commissioned by":"neighbors","Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:7,year:2018},geometry:{type:"MultiPolygon",coordinates:[[[[11.532794077274728,48.16360086166818],[11.533954895995002,48.16389004539434],[11.534020674914036,48.163798139257096],[11.53409328120059,48.16373502811256],[11.53414878919248,48.163654203087944],[11.534992351306807,48.16387077415075],[11.535415737114429,48.163134170889414],[11.533619703082342,48.1626853399652],[11.533417795828413,48.16308779560914],[11.5331280849267,48.16302543860711],[11.532794077274728,48.16360086166818]]]]}},{type:"Feature",properties:{fid:39,id:null,id_2:null,id_3:null,"Current Name (DE)":"Petuelpark","Current Name (Eng)":"Petuel park","Previous Name":null,Address:"Klopstockstraße 10, 80804 München","Starting year":null,"Completion year/Opening year":"2004","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/parks-und-gaerten/petuelpark","Wikipedia page":"https://de.wikipedia.org/wiki/Petuelpark","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:7,year:2004},geometry:{type:"MultiPolygon",coordinates:[[[[11.584283254010915,48.176391436312656],[11.583992705477117,48.17637623548763],[11.583938261993621,48.17653281116059],[11.583704541060436,48.176503966583496],[11.583579352840678,48.17720291921187],[11.582942796161976,48.177187727398426],[11.58215285990341,48.17718558572863],[11.581151725926922,48.177179138634436],[11.58038540040079,48.17721625463322],[11.579734708793755,48.177239914207135],[11.579136874420968,48.177238865011674],[11.578502229791733,48.177312812288974],[11.57782660203941,48.17737863017622],[11.577014264732373,48.17746922018971],[11.576770334750963,48.17748645111967],[11.575601527210054,48.17758864459037],[11.574974148451671,48.17759185429207],[11.574144838940425,48.17755978521682],[11.573523846270211,48.17752847089273],[11.572856831839465,48.17749637483849],[11.572900448675279,48.17761118069951],[11.573004696098304,48.17780242009391],[11.573184623127577,48.178100510556206],[11.573214550706934,48.17821200471148],[11.573276741576448,48.17821830034766],[11.573416741723769,48.178198430033],[11.574176008356202,48.178209007852786],[11.57484730924037,48.17822535068873],[11.574912073801071,48.17822457838701],[11.574965510919489,48.178598496189615],[11.575022675255928,48.17903014058756],[11.575122195443939,48.179055041743275],[11.575632909878838,48.17904449696431],[11.575682850705844,48.17904247270291],[11.575685272134171,48.17884793959748],[11.575674260060161,48.17876315854979],[11.575842904673454,48.17875485450234],[11.575866453739382,48.178900864004824],[11.576176233991108,48.17890205850044],[11.57612083138465,48.17855233446074],[11.576117863043473,48.17852684741101],[11.576149144362564,48.17851009011977],[11.577022882012843,48.17842988815357],[11.577149087523189,48.179085571371765],[11.57727924292689,48.17911883353944],[11.577388572738382,48.179087435003325],[11.577344122532992,48.1787944526241],[11.577499701742344,48.178768348212394],[11.577480671557117,48.17868555632989],[11.577525182001308,48.17860224335125],[11.577497286261972,48.17839663120115],[11.577449450274187,48.17835971325855],[11.577418063232852,48.17821930722218],[11.57735735240762,48.178195341842],[11.577347252705902,48.178155768108844],[11.577508270443658,48.178103309624866],[11.5781242758236,48.17814285532795],[11.578223919724795,48.17810715058908],[11.578386577597398,48.17811435455232],[11.578433707407621,48.178325866673454],[11.579325687641436,48.17827939755798],[11.57933250070443,48.17828218435935],[11.579367096366468,48.17832948112657],[11.579434120856062,48.17829920001736],[11.579468766714008,48.178485627820955],[11.57967754272811,48.17847699833275],[11.579770600642295,48.1784745873729],[11.579780381758878,48.17787948720705],[11.580231806054572,48.177829563790944],[11.580226685153747,48.177807807286406],[11.580227110759765,48.17780776959542],[11.580220081305384,48.177735110954266],[11.580826964189805,48.1777142419731],[11.580843639628007,48.17775004947078],[11.581300549732761,48.1777994841177],[11.5814164448073,48.177871957813075],[11.581596101373483,48.177934857546326],[11.58186955332369,48.177926450669005],[11.581913319341611,48.17774772230665],[11.582063358144852,48.17775950130095],[11.582069491616243,48.177726799522766],[11.582318531763123,48.177737257468934],[11.582330996800078,48.17771617254216],[11.582383955664652,48.17772040938766],[11.582845214480018,48.177721798805784],[11.583541263512348,48.17773272791501],[11.58363908565573,48.17773735350864],[11.584064221093454,48.177756209127466],[11.584698728551396,48.1777561436342],[11.58490858269609,48.17776089442574],[11.585137732596424,48.177783208600815],[11.58505852410987,48.177616378319634],[11.585020940327274,48.177516814230415],[11.584992709680723,48.177349784024656],[11.584973007013621,48.17726781553871],[11.585070655656885,48.17673136211862],[11.58521842926685,48.17609337070542],[11.585247846112685,48.17597430085839],[11.585279262021706,48.17589497104695],[11.585292657544683,48.175851569127865],[11.585397297339883,48.17555272092115],[11.585142693528509,48.17553098011148],[11.584968730276751,48.175620148442995],[11.584890997811685,48.175646530531836],[11.5846000706054,48.176069157453206],[11.584589730885078,48.17614517109614],[11.58450787016525,48.176150801887545],[11.584320145373177,48.176395866701135],[11.584283254010915,48.176391436312656]]]]}},{type:"Feature",properties:{fid:40,id:null,id_2:null,id_3:null,"Current Name (DE)":"Riemerpark","Current Name (Eng)":"Riemer park","Previous Name":null,Address:"De-Gasperi-Bogen , 81829 München","Starting year":1997,"Completion year/Opening year":"2005","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/riemer-park","Wikipedia page":"https://de.wikipedia.org/wiki/Riemer_Park","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gilles Vexlard",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:7,year:2005},geometry:{type:"MultiPolygon",coordinates:[[[[11.679728109259145,48.12762274175566],[11.682237009278861,48.12998771075466],[11.682313840702204,48.13014141073886],[11.68208339809066,48.130259093973265],[11.682079726859225,48.13080772920226],[11.682075805697323,48.13112456849367],[11.682074800399775,48.13117750323588],[11.682552747535487,48.131640742513405],[11.682583918228238,48.13172298075878],[11.682601295717955,48.131886167855576],[11.682635957803901,48.132241699386014],[11.682837494432624,48.132807137606896],[11.682952001602562,48.13302330657763],[11.683119462064223,48.13310002120423],[11.683481677554365,48.133776885381636],[11.683920639725416,48.13444043686244],[11.684329033673185,48.13501255634511],[11.684603166014593,48.13507237800692],[11.684677421116138,48.13534131753674],[11.685216996681765,48.1353475160035],[11.68521596096711,48.13432815281741],[11.684562041161117,48.134271446542236],[11.684515270858945,48.133700384760516],[11.684322654517088,48.13369730857757],[11.68444481275355,48.128442750556374],[11.687718166804379,48.12847986657056],[11.687748612046503,48.12797899156081],[11.689109268556306,48.128022922797896],[11.689145397300802,48.127847777769354],[11.692134680715439,48.127864894918005],[11.695371996219725,48.12786285146102],[11.695366114581129,48.12850713863583],[11.695544380794194,48.12850674388422],[11.696144782960195,48.12851538523075],[11.696142418070572,48.12803801253632],[11.6971209638489,48.1280264035659],[11.697112230218904,48.1285078260361],[11.698796956159025,48.128525085916756],[11.698797492318647,48.12804953954976],[11.700756863900306,48.128069789154004],[11.700784213380677,48.12853710162235],[11.700923008072044,48.128539521283294],[11.70093163971246,48.12859615500298],[11.702736597568846,48.128547666499884],[11.703773967866322,48.12854894467457],[11.70397420654244,48.128549190315354],[11.704459152257634,48.12855197106552],[11.70488006506318,48.12855438298048],[11.705936024017646,48.12856171572704],[11.705926931604871,48.1285105105513],[11.705941817576617,48.12851042615824],[11.705920928221897,48.128113061144745],[11.7069010618235,48.12813164425796],[11.708287814130937,48.13060734570885],[11.708298701325974,48.131459639959864],[11.70871743766732,48.13145734300521],[11.70868986535664,48.13329950315921],[11.710285921250362,48.13329595156101],[11.711372500749365,48.133399134543055],[11.712114225334922,48.13351045136535],[11.713498183452673,48.13399308121507],[11.713904304095333,48.134180519277805],[11.714701126891805,48.134692163734684],[11.715119237417127,48.135106661066004],[11.71548109371986,48.13574225565839],[11.715547891133395,48.136149900768494],[11.715477278275358,48.136742672300365],[11.715214034470401,48.1373324196985],[11.714868036283608,48.13785591855243],[11.713965688283917,48.13877905390689],[11.714196239827663,48.138856966190986],[11.715094215310605,48.13849472127687],[11.717390305480894,48.139699146029145],[11.718234873978345,48.13900774566432],[11.71850212264296,48.13881575363603],[11.71861951182432,48.138680355974806],[11.71870443158304,48.13846615537493],[11.718713795058951,48.138321947346206],[11.718479496345307,48.1380660443902],[11.717862992612787,48.13775477124269],[11.717493266283,48.13739976489165],[11.717652088050867,48.13719139464862],[11.717733469260336,48.13680297914004],[11.717875498274122,48.136276720184824],[11.719099787299191,48.13652055779824],[11.720688225573733,48.137013416567065],[11.72128822550422,48.137226548610045],[11.722025523291663,48.13746673650491],[11.722471739539559,48.13753943804733],[11.723003370995173,48.137117692654556],[11.720802611542865,48.135964910538895],[11.722037438637377,48.13480620831553],[11.720705142906512,48.13438905205585],[11.719383935277737,48.134238465399804],[11.718339923230005,48.13376301714389],[11.713344411584817,48.13241854735922],[11.714400372815703,48.131390302633974],[11.711719334691827,48.13009820386426],[11.713412591240102,48.12914882283494],[11.714535606049397,48.12962244830607],[11.715396434211206,48.12898826126259],[11.71515833993717,48.12876654328432],[11.716135797180911,48.12819779731203],[11.715696972545993,48.127389724875634],[11.715356988877677,48.12673845688032],[11.71394820068279,48.124278515728435],[11.71371173107471,48.1240870693095],[11.71193439519157,48.12300747315873],[11.710743101378275,48.124028347632496],[11.708864516409344,48.12263659704238],[11.708625695454455,48.12293778126736],[11.70732001945835,48.122430513393006],[11.707062802605952,48.12248962435101],[11.706723668183109,48.122497617767266],[11.706139978173253,48.1223749647315],[11.705291684580903,48.121955412545965],[11.704369217843318,48.121416348978514],[11.699342644769384,48.12441433386898],[11.696734068817598,48.12442256863278],[11.696422586628621,48.12441851486639],[11.695962950282835,48.124395203515185],[11.695592971565633,48.124138649978796],[11.694214836231557,48.123110036333834],[11.693654298277494,48.122672280214694],[11.693574175774204,48.1226552138529],[11.693415856459263,48.1227119745542],[11.693301072631867,48.12273550659591],[11.691384056526495,48.12379214085105],[11.690976117993667,48.12394568634376],[11.690713023053757,48.1240011091214],[11.690348099836186,48.12394903245104],[11.689653077498804,48.123753121365716],[11.689126447433779,48.12353052862557],[11.688884814465663,48.123346730570965],[11.687692524258514,48.122514510802766],[11.68725310112899,48.12266120166919],[11.687024834391545,48.12262486236385],[11.686976652899382,48.1225691529561],[11.686940020267375,48.12230098301869],[11.685896103449167,48.12116593333017],[11.68278976265476,48.12193573603132],[11.681433072145872,48.12239937883175],[11.677722308459513,48.12308463713699],[11.678458766472849,48.1239692718069],[11.679449159348911,48.12364304086569],[11.68030264746196,48.12460071555276],[11.681566967550117,48.12605653278848],[11.678311764979627,48.1261476483221],[11.67974644539456,48.127614668673814],[11.679728109259145,48.12762274175566]]]]}},{type:"Feature",properties:{fid:41,id:null,id_2:null,id_3:null,"Current Name (DE)":"Grünwaldpark","Current Name (Eng)":"Grünwald park","Previous Name":null,Address:null,"Starting year":null,"Completion year/Opening year":"1800","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Gr%C3%BCnwaldpark","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:3,year:1800},geometry:{type:"MultiPolygon",coordinates:[[[[11.526160961962102,48.15881607315116],[11.527933624583385,48.158875591804374],[11.528374612813103,48.15868780139816],[11.530107300620479,48.15874058823342],[11.530192436147997,48.158284027987065],[11.53026757150456,48.15814217844412],[11.530572578997182,48.1576656183758],[11.530636143276803,48.157633905719294],[11.531082168026082,48.15703109360199],[11.531139828998336,48.15693699151772],[11.531137127788062,48.15688210990895],[11.531035809737329,48.156750778587664],[11.53100962613095,48.15670778150777],[11.530139379799827,48.15717690164283],[11.529930488844537,48.157276228529675],[11.529288551901251,48.15755180871656],[11.526160961962102,48.15881607315116]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Platzl","Current Name (Eng)":"Munich Platzl","Previous Name":"'Graggenau'",Address:"Platzl 10","Starting year":null,"Completion year/Opening year":"1300","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/sehenswerte-plaetze/platzl","Wikipedia page":"https://de.wikipedia.org/wiki/Platzl_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1,year:1300},geometry:{type:"MultiPolygon",coordinates:[[[[11.57994917678557,48.13822787149346],[11.580049947985305,48.138196800691034],[11.580067570753299,48.13819412174289],[11.580046203775227,48.13815813936789],[11.58023833605743,48.138096410342634],[11.580260681005655,48.138129886170816],[11.580311499216101,48.13811497884736],[11.580347066621371,48.13801600682759],[11.580196342994892,48.13789516565868],[11.58013242949269,48.1378369723753],[11.580052961951111,48.137892745891016],[11.579906901436605,48.137768845007386],[11.579874533304746,48.13778756818163],[11.57966687567461,48.137615628273686],[11.579575361533434,48.13764722949401],[11.579757302211998,48.137850501778765],[11.579805676790999,48.13795094575151],[11.579847635530419,48.13794342264861],[11.57990768848493,48.13806468930453],[11.579906757689942,48.138078140169235],[11.579934749178745,48.13815621098962],[11.579906666286275,48.1381643625504],[11.57994917678557,48.13822787149346]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Münchner Freiheit","Current Name (Eng)":"Munich freedom","Previous Name":'"Danzig" freedom (1933), Feilitzschplatz(ehe.)',Address:null,"Starting year":null,"Completion year/Opening year":"1900","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/sehenswerte-plaetze/muenchner-freiheit","Wikipedia page":"https://de.wikipedia.org/wiki/M%C3%BCnchner_Freiheit#Geschichte","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1900},geometry:{type:"MultiPolygon",coordinates:[[[[11.58656567192484,48.16419985326528],[11.587103465245763,48.164187742444874],[11.587580020831671,48.16417942594354],[11.587642039014636,48.16417319413667],[11.58769953631002,48.16414893374923],[11.587732934741828,48.16411252494517],[11.587753378178807,48.164034103733016],[11.58773186767339,48.16396569282824],[11.587421912925848,48.16324564621311],[11.58677421517121,48.16175541103934],[11.586433529380274,48.16180659543562],[11.58656567192484,48.16419985326528]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Wiener platz","Current Name (Eng)":"Wiener square","Previous Name":null,Address:"Innere Wiener Str. 19 , 81667 München","Starting year":null,"Completion year/Opening year":"1800","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:"One of Munich's four permanent markets has been located here since 1889.",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/top-sehenswuerdigkeiten/wiener-platz","Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:3,year:1800},geometry:{type:"MultiPolygon",coordinates:[[[[11.595757217488323,48.13411355271495],[11.59573337908549,48.1341600220023],[11.595827924057277,48.13449511214785],[11.595916933809967,48.13454144838383],[11.596067257609091,48.134478824546086],[11.596699136368272,48.13429774028778],[11.59671662425972,48.13428646663044],[11.59619622292748,48.134207578448745],[11.595757217488323,48.13411355271495]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Marienhof","Current Name (Eng)":"Marien court","Previous Name":null,Address:"Weinstraße 9","Starting year":null,"Completion year/Opening year":"1971","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:"https://stadt.muenchen.de/dam/jcr:ed47dffc-0bdb-4141-a0ef-5127d56c3a33/marienhof_historie.pdf",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/sehenswerte-plaetze/marienhof","Wikipedia page":"https://de.wikipedia.org/wiki/Marienhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:6,year:1971},geometry:{type:"MultiPolygon",coordinates:[[[[11.575316088655752,48.13836900475786],[11.575409108542742,48.13856786474181],[11.575571988107916,48.1389718451167],[11.575684341698267,48.1392322169865],[11.575723914005454,48.1392651730665],[11.575872361646995,48.13923646144919],[11.576091097457134,48.13920496453885],[11.576686800234343,48.13905622862756],[11.577041898493725,48.139007166414906],[11.577144100580941,48.138956525497356],[11.577243762753563,48.138855176255525],[11.576923654410269,48.13801627136139],[11.57654066965355,48.13808529793309],[11.575316088655752,48.13836900475786]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Gärtnerplatz","Current Name (Eng)":"Gärtner square","Previous Name":null,Address:"Gärtnerplatz 1 , 80469 München","Starting year":null,"Completion year/Opening year":"1860","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/sehenswerte-plaetze/gaertnerplatz","Wikipedia page":"https://de.wikipedia.org/wiki/G%C3%A4rtnerplatz","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:3,year:1860},geometry:{type:"MultiPolygon",coordinates:[[[[11.576030920556486,48.13194235509977],[11.576037194978207,48.13194217787198],[11.576043463859806,48.131941927771386],[11.576049725312728,48.13194160487329],[11.576055977450666,48.131941209275006],[11.576062218390122,48.131940741095704],[11.57606844625096,48.13194020047641],[11.576074659156998,48.13193958758001],[11.576080855236546,48.13193890259112],[11.576087032622995,48.13193814571613],[11.576093189455362,48.13193731718302],[11.576099323878854,48.13193641724143],[11.576105434045436,48.131935446162444],[11.576111518114375,48.13193440423862],[11.576117574252805,48.131933291783845],[11.576123600636265,48.13193210913324],[11.576129595449277,48.13193085664311],[11.576135556885854,48.13192953469077],[11.576141483150076,48.13192814367446],[11.576147372456616,48.13192668401325],[11.576153223031282,48.131925156146856],[11.576159033111548,48.13192356053556],[11.576164800947094,48.13192189766006],[11.576170524800322,48.13192016802132],[11.576176202946883,48.131918372140376],[11.576181833676204,48.13191651055827],[11.576187415291992,48.13191458383582],[11.576192946112757,48.13191259255348],[11.5761984244723,48.131910537311086],[11.576203848720237,48.131908418727825],[11.576209217222486,48.13190623744196],[11.576214528361753,48.13190399411057],[11.576219780538034,48.131901689409524],[11.576224972169078,48.131899324033085],[11.576230101690886,48.13189689869385],[11.576235167558162,48.131894414122485],[11.576240168244787,48.131891871067474],[11.57624510224429,48.13188927029493],[11.576249968070274,48.13188661258833],[11.576254764256891,48.131883898748384],[11.576259489359273,48.13188112959259],[11.57626414195396,48.13187830595522],[11.576268720639348,48.13187542868688],[11.576273224036086,48.13187249865439],[11.576277650787514,48.13186951674042],[11.57628199956006,48.131866483843304],[11.57628626904364,48.13186340087671],[11.576290457952068,48.1318602687694],[11.576294565023423,48.13185708846498],[11.576298589020439,48.13185386092147],[11.57630252873088,48.13185058711124],[11.576306382967902,48.131847268020515],[11.576310150570412,48.1318439046492],[11.576313830403416,48.13184049801052],[11.576317421358361,48.131837049130766],[11.576320922353469,48.13183355904893],[11.576324332334067,48.131830028816374],[11.576327650272898,48.13182645949665],[11.576330875170434,48.13182285216502],[11.576334006055179,48.131819207908215],[11.576337041983955,48.13181552782408],[11.576339982042196,48.13181181302124],[11.576342825344215,48.131808064618845],[11.576345571033476,48.1318042837461],[11.576348218282847,48.13180047154198],[11.57635076629485,48.13179662915497],[11.576353214301912,48.13179275774259],[11.57635556156658,48.13178885847112],[11.576357807381752,48.13178493251525],[11.576359951070891,48.131780981057695],[11.576361991988223,48.1317770052888],[11.576363929518939,48.131773006406355],[11.576365763079371,48.13176898561498],[11.576367492117177,48.13176494412599],[11.5763691161115,48.1317608831569],[11.576370634573133,48.13175680393108],[11.576372047044657,48.13175270767742],[11.576373353100584,48.13174859562994],[11.576374552347485,48.13174446902741],[11.57637564442411,48.13174032911296],[11.57637662900149,48.131736177133774],[11.576377505783046,48.13173201434066],[11.576378274504673,48.13172784198767],[11.57637893493481,48.13172366133173],[11.576379486874531,48.13171947363228],[11.57637993015759,48.1317152801509],[11.576380264650469,48.13171108215086],[11.576380490252431,48.13170688089683],[11.576380606895539,48.131702677654474],[11.576380614544679,48.13169847369],[11.576380513197574,48.131694270269904],[11.576380302884782,48.13169006866042],[11.57637998366969,48.131685870127356],[11.576379555648485,48.13168167593549],[11.576379018950137,48.13167748734836],[11.576378373736354,48.131673305627785],[11.576377620201535,48.1316691320335],[11.576376758572712,48.13166496782284],[11.576375789109477,48.13166081425025],[11.576374712103913,48.13165667256705],[11.57637352788049,48.13165254402091],[11.576372236795988,48.13164842985553],[11.576370839239372,48.131644331310355],[11.57636933563169,48.13164024962007],[11.576367726425923,48.13163618601428],[11.576366012106881,48.13163214171719],[11.576364193191024,48.1316281179471],[11.576362270226332,48.13162411591621],[11.576360243792122,48.13162013683014],[11.576358114498886,48.13161618188759],[11.576355882988103,48.131612252279986],[11.57635354993204,48.13160834919115],[11.576351116033557,48.131604473796855],[11.576348582025894,48.13160062726463],[11.57634594867244,48.131596810753194],[11.576343216766526,48.131593025412286],[11.57634038713116,48.13158927238227],[11.57633746061879,48.13158555279374],[11.576334438111058,48.131581867767196],[11.576331320518515,48.13157821841279],[11.576328108780357,48.1315746058299],[11.576324803864148,48.131571031106795],[11.576321406765512,48.13156749532037],[11.576317918507847,48.131563999535814],[11.57631434014201,48.13156054480618],[11.576310672746006,48.13155713217225],[11.576306917424656,48.131553762662065],[11.576303075309273,48.131550437290706],[11.57629914755731,48.13154715705992],[11.576295135352018,48.1315439229579],[11.576291039902094,48.13154073595891],[11.576286862441306,48.13153759702303],[11.576282604228135,48.131534507095886],[11.576278266545375,48.131531467108296],[11.576273850699776,48.13152847797609],[11.57626935802162,48.13152554059971],[11.576264789864341,48.131522655864046],[11.576260147604108,48.13151982463813],[11.576255432639414,48.1315170477749],[11.576250646390653,48.131514326110846],[11.57624579029969,48.13151166046587],[11.57624086582944,48.131509051643015],[11.5762358744634,48.13150650042818],[11.576230817705234,48.13150400758994],[11.576225697078295,48.131501573879234],[11.576220514125177,48.131499200029225],[11.576215270407255,48.13149688675502],[11.5762099675042,48.131494634753544],[11.57620460701352,48.13149244470314],[11.576199190550065,48.13149031726362],[11.576193719745554,48.13148825307585],[11.576188196248063,48.13148625276166],[11.57618262172155,48.13148431692366],[11.576176997845348,48.13148244614499],[11.576171326313643,48.13148064098926],[11.57616560883499,48.131478902000275],[11.576159847131779,48.13147722970186],[11.576154042939722,48.13147562459782],[11.576148198007331,48.131474087171696],[11.576142314095392,48.13147261788663],[11.576136392976432,48.13147121718525],[11.576130436434184,48.13146988548951],[11.576124446263051,48.131468623200576],[11.576118424267577,48.13146743069873],[11.576112372261878,48.13146630834319],[11.57610629206912,48.1314652564721],[11.576100185520957,48.13146427540231],[11.57609405445698,48.131463365429354],[11.576087900724167,48.13146252682739],[11.57608172617633,48.13146175984902],[11.57607553267354,48.131461064725336],[11.576069322081587,48.13146044166568],[11.576063096271405,48.13145989085782],[11.576056857118516,48.13145941246765],[11.576050606502456,48.13145900663927],[11.576044346306217,48.13145867349498],[11.576038078415678,48.13145841313508],[11.576031804719033,48.13145822563808],[11.57602552710623,48.13145811106039],[11.57601924746839,48.13145806943656],[11.576012967697249,48.131458100779135],[11.57600668968458,48.131458205078665],[11.576000415321628,48.13145838230374],[11.575994146498537,48.13145863240096],[11.57598788510379,48.131458955294974],[11.575981633023623,48.131459350888555],[11.575975392141466,48.131459819062464],[11.57596916433738,48.131460359675714],[11.575962951487487,48.13146097256543],[11.575956755463404,48.131461657547],[11.575950578131675,48.13146241441405],[11.575944421353219,48.13146324293858],[11.575938286982757,48.13146414287102],[11.575932176868266,48.13146511394021],[11.575926092850418,48.131466155853694],[11.575920036762012,48.13146726829753],[11.57591401042745,48.13146845093663],[11.575908015662154,48.13146970341472],[11.575902054272051,48.13147102535448],[11.575896128053008,48.13147241635771],[11.575890238790295,48.13147387600534],[11.57588438825805,48.13147540385765],[11.575878578218747,48.13147699945441],[11.575872810422663,48.131478662314905],[11.575867086607344,48.131480391938226],[11.57586140849709,48.131482187803314],[11.575855777802438,48.1314840493692],[11.575850196219633,48.13148597607504],[11.575844665430132,48.13148796734043],[11.575839187100089,48.131490022565515],[11.575833762879855,48.131492141131154],[11.575828394403478,48.13149432239914],[11.575823083288224,48.13149656571235],[11.575817831134065,48.13149887039497],[11.575812639523226,48.13150123575276],[11.575807510019681,48.13150366107313],[11.575802444168707,48.13150614562547],[11.5757974434964,48.13150868866129],[11.575792509509215,48.131511289414505],[11.575787643693534,48.131513947101645],[11.575782847515194,48.13151666092208],[11.57577812241905,48.13151943005827],[11.575773469828556,48.131522253676],[11.575768891145312,48.1315251309247],[11.575764387748668,48.13152806093754],[11.57575996099528,48.13153104283188],[11.575755612218721,48.131534075709446],[11.575751342729083,48.13153715865654],[11.575747153812562,48.13154029074445],[11.575743046731084,48.13154347102961],[11.57573902272193,48.131546698554],[11.57573508299735,48.131549972345276],[11.5757312287442,48.13155329141725],[11.5757274611236,48.13155665477003],[11.575723781270565,48.131560061390395],[11.57572019029367,48.13156351025212],[11.575716689274715,48.13156700031619],[11.57571327926841,48.13157053053127],[11.575709961302037,48.13157409983385],[11.57570673637516,48.1315777071487],[11.57570360545931,48.131581351389066],[11.5757005694977,48.13158503145717],[11.57569762940494,48.13158874624435],[11.575694786066757,48.13159249463153],[11.575692040339728,48.13159627548952],[11.575689393051036,48.13160008767931],[11.575686844998197,48.131603930052485],[11.57568439694884,48.13160780145151],[11.57568204964047,48.131611700710145],[11.57567980378024,48.13161562665369],[11.57567766004474,48.13161957809948],[11.5756756190798,48.13162355385714],[11.575673681500287,48.131627552728936],[11.575671847889929,48.13163157351022],[11.575670118801128,48.131635614989726],[11.5756684947548,48.13163967594994],[11.575666976240216,48.13164375516749],[11.575665563714859,48.1316478514135],[11.575664257604283,48.13165196345398],[11.57566305830198,48.13165609005014],[11.575661966169271,48.131660229958875],[11.575660981535185,48.131664381932985],[11.575660104696377,48.1316685447217],[11.57565933591702,48.131672717070934],[11.575658675428743,48.13167689772383],[11.57565812343054,48.13168108542089],[11.57565768008873,48.13168527890056],[11.5756573455369,48.131689476899574],[11.575657119875862,48.131693678153255],[11.575657003173617,48.13169788139596],[11.575656995465357,48.13170208536145],[11.575657096753428,48.13170628878325],[11.575657307007342,48.1317104903951],[11.575657626163787,48.13171468893122],[11.575658054126642,48.131718883126794],[11.57565859076701,48.13172307171832],[11.575659235923249,48.131727253443955],[11.575659989401032,48.13173142704395],[11.575660850973398,48.13173559126097],[11.57566182038082,48.131739744840544],[11.575662897331284,48.1317438865314],[11.575664081500385,48.131748015085805],[11.575665372531407,48.13175212926005],[11.575666770035452,48.131756227814705],[11.575668273591539,48.13176030951507],[11.57566988274674,48.13176437313149],[11.575671597016314,48.131768417439815],[11.575673415883855,48.13177244122167],[11.575675338801446,48.13177644326486],[11.575677365189824,48.131780422363775],[11.575679494438546,48.13178437731965],[11.575681725906202,48.1317883069411],[11.575684058920563,48.131792210044246],[11.575686492778829,48.131796085453296],[11.575689026747805,48.13179993200075],[11.575691660064141,48.13180374852783],[11.575694391934562,48.13180753388475],[11.575697221536098,48.1318112869312],[11.575700148016338,48.13181500653652],[11.575703170493686,48.13181869158019],[11.575706288057622,48.131822340952056],[11.575709499768985,48.1318259535527],[11.57571280466025,48.131829528293856],[11.575716201735816,48.13183306409858],[11.575719689972315,48.131836559901686],[11.575723268318914,48.13184001465007],[11.575726935697633,48.13184342730295],[11.57573069100367,48.13184679683224],[11.575734533105734,48.131850122222886],[11.575738460846384,48.13185340247304],[11.575742473042386,48.131856636594556],[11.575746568485052,48.13185982361311],[11.57575074594062,48.1318629625686],[11.575755004150624,48.13186605251539],[11.575759341832265,48.13186909252265],[11.5757637576788,48.13187208167449],[11.575768250359943,48.13187501907046],[11.575772818522255,48.13187790382565],[11.575777460789565,48.13188073507101],[11.57578217576337,48.13188351195359],[11.575786962023262,48.13188623363685],[11.575791818127366,48.13188889930084],[11.57579674261275,48.131891508142544],[11.5758017339959,48.13189405937604],[11.57580679077313,48.1318965522327],[11.575811911421066,48.1318989859616],[11.575817094397086,48.13190135982951],[11.575822338139789,48.13190367312132],[11.575827641069472,48.13190592514012],[11.575833001588597,48.13190811520747],[11.575838418082277,48.13191024266361],[11.575843888918765,48.13191230686762],[11.575849412449935,48.13191430719766],[11.575854987011796,48.13191624305108],[11.575860610924972,48.13191811384475],[11.575866282495229,48.13191991901503],[11.575872000013964,48.1319216580181],[11.575877761758745,48.13192333033011],[11.575883565993806,48.13192493544725],[11.575889410970584,48.13192647288596],[11.575895294928241,48.13192794218307],[11.575901216094193,48.13192934289595],[11.57590717268465,48.131930674602636],[11.57591316290515,48.13193193690194],[11.575919184951093,48.13193312941357],[11.5759252370083,48.131934251778276],[11.575931317253545,48.13193530365795],[11.575937423855109,48.13193628473571],[11.575943554973335,48.13193719471599],[11.575949708761181,48.131938033324644],[11.575955883364772,48.13193880030905],[11.575962076923965,48.13193949543815],[11.575968287572904,48.13194011850252],[11.575974513440585,48.13194066931445],[11.57598075265142,48.13194114770803],[11.5759870033258,48.13194155353913],[11.575993263580663,48.131941886685475],[11.575999531530062,48.13194214704673],[11.576005805285728,48.13194233454443],[11.576012082957648,48.13194244912213],[11.576018362654626,48.131942490745274],[11.576024642484853,48.13194245940134],[11.576030920556486,48.13194235509977]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Wittelsbacherplatz","Current Name (Eng)":"Wittelsbacher square","Previous Name":null,Address:"Wittelsbacherplatz , 80333 München","Starting year":null,"Completion year/Opening year":"1820","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/wittelsbacherplatz","Wikipedia page":"https://de.wikipedia.org/wiki/Wittelsbacherplatz_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:3,year:1820},geometry:{type:"MultiPolygon",coordinates:[[[[11.575534167306348,48.143086789623815],[11.57576044777007,48.143566402196264],[11.575852933712806,48.1435739977415],[11.575906820436625,48.14360421535402],[11.575928900692594,48.14364844188838],[11.575932858586338,48.14366436833433],[11.575961485084513,48.14367702198852],[11.575965868516127,48.143710464965146],[11.576215316074453,48.14366075308286],[11.576461936255711,48.14360868668654],[11.576513767646553,48.143597854491595],[11.576543684278025,48.143600205154925],[11.57656656642918,48.143606339691466],[11.57659326814705,48.143616618975095],[11.57661101049471,48.14362830792606],[11.576631342865351,48.143655651807904],[11.576707255752615,48.14363884019122],[11.576354742011937,48.142910652373224],[11.575534167306348,48.143086789623815]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Sankt-Jakobs-Platz","Current Name (Eng)":"Saint Jacob's square","Previous Name":null,Address:"Sankt-Jakobs-Platz , 80331 München","Starting year":null,"Completion year/Opening year":"1221","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:null,Website:"http://jakobs-platz.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/sehenswerte-plaetze/st-jakobs-platz","Wikipedia page":"https://de.wikipedia.org/wiki/St.-Jakobs-Platz","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1,year:1221},geometry:{type:"MultiPolygon",coordinates:[[[[11.57269901276692,48.13405247682035],[11.571774923068261,48.13427744134097],[11.57173687172517,48.134310928128315],[11.572208337409926,48.13458562305827],[11.571868392290067,48.134847061635554],[11.57193044745916,48.134896437331605],[11.572082095973206,48.13500424151892],[11.572180164696022,48.135051601910924],[11.572472795163046,48.13480089169493],[11.573005625220581,48.13462336536276],[11.573005234390434,48.1344710784122],[11.572852772765057,48.134202537067196],[11.57269901276692,48.13405247682035]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Bogenhausen","Current Name (Eng)":"Bogenhausen cemetery","Previous Name":null,Address:"Bogenhauser Kirchpl. 1, 81675 München","Starting year":null,"Completion year/Opening year":"800","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/leben/friedhof-bogenhausen","Wikipedia page":"https://de.wikipedia.org/wiki/Friedhof_Bogenhausen#Geschichte","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1,year:800},geometry:{type:"MultiPolygon",coordinates:[[[[11.601115430180608,48.14776755455294],[11.601473607425289,48.14824292162071],[11.601950970022916,48.14807497848663],[11.601968400223827,48.148062496676104],[11.601971397713184,48.148050341806226],[11.601968738664315,48.14803348028587],[11.601630125646203,48.1475878890306],[11.601604380162332,48.14757880258665],[11.601579062096775,48.147578167334125],[11.601539433571165,48.14758027359044],[11.601242976486667,48.14768247475758],[11.601147448881047,48.14772210768997],[11.601128641847703,48.147743081432615],[11.601115430180608,48.14776755455294]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Neuer Israelitischer Friedhof","Current Name (Eng)":"New israelite cemetery","Previous Name":null,Address:"Garchinger Str. 37, 80805 München","Starting year":1904,"Completion year/Opening year":"1908","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Neuer_Israelitischer_Friedhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hans Grässel",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1908},geometry:{type:"MultiPolygon",coordinates:[[[[11.600698111384563,48.18183799735219],[11.600760710725943,48.18278902862144],[11.60085727589994,48.182840024821715],[11.60173543343678,48.18319241675668],[11.60168035319725,48.18324684657986],[11.602783852535442,48.18362313554395],[11.604595182404342,48.18355790857875],[11.604542298617803,48.181944296051824],[11.603718359424542,48.18194846933232],[11.603718613914957,48.18109754483293],[11.600698111384563,48.18183799735219]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Alter Israelitischer Friedhof","Current Name (Eng)":"Old israelite cemetery","Previous Name":null,Address:"Thalkirchner Str. 240, 81371 München","Starting year":null,"Completion year/Opening year":"1816","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Alter_Israelitischer_Friedhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":"King Max I Joseph","Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:3,year:1816},geometry:{type:"MultiPolygon",coordinates:[[[[11.544523793803581,48.11004024805291],[11.54622946204263,48.11051735073696],[11.547102494630506,48.11021515686835],[11.546035474808004,48.10878354425507],[11.545957847996561,48.10874658678694],[11.545018977566379,48.1090308918969],[11.544847644399658,48.10921599310267],[11.544688412116788,48.109499939114855],[11.54454863783027,48.10981246252129],[11.544424889894662,48.1100110131349],[11.544523793803581,48.11004024805291]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Nymphenburg","Current Name (Eng)":"Nymphenburg cemetery","Previous Name":null,Address:"Maria-Ward-Straße 10, 80638 München","Starting year":null,"Completion year/Opening year":"1875","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-nymphenburg/10321446/","Wikipedia page":"https://de.wikipedia.org/wiki/Nymphenburger_Friedhof","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1875},geometry:{type:"MultiPolygon",coordinates:[[[[11.505800217595024,48.16211717974216],[11.506092610905313,48.16250060206394],[11.506381445638084,48.16242177946581],[11.507417129633387,48.16248710969748],[11.507467416157935,48.162462442714464],[11.507501671881228,48.162109061232805],[11.507470701759306,48.16208526138335],[11.50624007276214,48.16202327845995],[11.505950563380525,48.16206041581605],[11.505800217595024,48.16211717974216]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Neuhausen (Winthirfriedhof)","Current Name (Eng)":"Neuhausen cemetery (Winthir cemetery)","Previous Name":null,Address:"Winthirstr. 15 , 80639 München","Starting year":null,"Completion year/Opening year":"1315","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/leben/friedhof-neuhausen","Wikipedia page":"https://de.wikipedia.org/wiki/Friedhof_Neuhausen#Geschichte","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1,year:1315},geometry:{type:"MultiPolygon",coordinates:[[[[11.529162215849347,48.154944121369226],[11.530576511691386,48.155162265262156],[11.530629051250937,48.154963487282366],[11.529864258023396,48.15481172138424],[11.529649638536299,48.15471763763578],[11.529538913357898,48.154614920079155],[11.52930724904659,48.15472517716603],[11.52923331622864,48.15479207421748],[11.529162215849347,48.154944121369226]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Nordfriedhof","Current Name (Eng)":"North cemetery","Previous Name":null,Address:"Ungererstr. 130 , 80805 München","Starting year":null,"Completion year/Opening year":"1884","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/leben/staedtische-friedhoefe/nordfriedhof","Wikipedia page":"https://de.wikipedia.org/wiki/Nordfriedhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1884},geometry:{type:"MultiPolygon",coordinates:[[[[11.597681237644476,48.17342828192217],[11.60096586547081,48.176523149906195],[11.604022798420273,48.17928948697997],[11.606254144246217,48.178172818812214],[11.606415504404781,48.17814740138138],[11.608581396605317,48.177024920225136],[11.608647382597589,48.176936395932124],[11.60709545644386,48.176268168223615],[11.60666507370674,48.17601323127322],[11.60628609151329,48.1757027353872],[11.605971268922032,48.17537446544548],[11.605825789960303,48.17517833129665],[11.60545158247063,48.174320186554084],[11.605002862623573,48.17327517419691],[11.604837064328185,48.17294533464649],[11.604726747600226,48.172800979900806],[11.604374967231802,48.17249167396661],[11.604095739090553,48.17227681337211],[11.603934305775377,48.17219344693115],[11.603587624620477,48.17203813136266],[11.603246129483878,48.17193164929242],[11.602935561500429,48.17190061308595],[11.602093521369042,48.17186529871579],[11.601486291250072,48.17181015647225],[11.601123734720657,48.1717694144819],[11.600565730462211,48.17188357839433],[11.600300213944307,48.17199293219556],[11.599989581675654,48.17217492154307],[11.599929535338783,48.172193504450455],[11.599659852669495,48.172408107290536],[11.599439573708596,48.17255450912482],[11.597681237644476,48.17342828192217]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Daglfing","Current Name (Eng)":"Daglfing cemetery","Previous Name":null,Address:"Kohlbrennerstraße 19, 81929 München","Starting year":null,"Completion year/Opening year":"1300","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-daglfing/10321888/","Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1,year:1300},geometry:{type:"MultiPolygon",coordinates:[[[[11.656445299352104,48.151899693663836],[11.656614564622313,48.15255391705602],[11.656973747363041,48.1525311045802],[11.657089835346833,48.15252298001528],[11.657274745448063,48.152509637073464],[11.657496373233526,48.15247278115619],[11.657810250656459,48.15246461215489],[11.657969205357212,48.15236846823889],[11.657966066295876,48.152281514331904],[11.657930834602713,48.15225513381568],[11.657416182640148,48.15225797663387],[11.657411417928238,48.15221819970371],[11.657302888008509,48.15221527142506],[11.657296957401037,48.15217914756919],[11.656799289203436,48.151802666637074],[11.656445299352104,48.151899693663836]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Haidhausen","Current Name (Eng)":"Haidhausen cemetery","Previous Name":null,Address:"Einsteinstraße 74, 81675 München","Starting year":null,"Completion year/Opening year":"1300","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-haidhausen/10321889/","Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1,year:1300},geometry:{type:"MultiPolygon",coordinates:[[[[11.603850125841355,48.13553107165271],[11.60516369969057,48.135475902224684],[11.605269901319769,48.13543360625116],[11.605267701037189,48.13539014298544],[11.604983451482447,48.13319917461242],[11.604891286432625,48.13319763882328],[11.60420632770959,48.13325668459721],[11.60407757047192,48.133281360518026],[11.603638290239209,48.13337834564787],[11.603307955640501,48.13348736418742],[11.603366643184154,48.13357668642513],[11.60349576796892,48.13355925517311],[11.603536757902207,48.1336199696976],[11.603656893573055,48.13363900301034],[11.603992235206109,48.13437837692619],[11.603638785850466,48.134458911644295],[11.603850125841355,48.13553107165271]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Pasing","Current Name (Eng)":"Pasing cemetery","Previous Name":null,Address:"Lampertstraße 1, 81241 München","Starting year":null,"Completion year/Opening year":"1903","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-pasing/10321179/","Wikipedia page":"https://de.wikipedia.org/wiki/Friedhof_Pasing","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1903},geometry:{type:"MultiPolygon",coordinates:[[[[11.456492047499324,48.135501129653164],[11.456819032638348,48.13599525875521],[11.456944496918176,48.136280521921435],[11.457305808429087,48.13709056172099],[11.457399547557719,48.13734194944648],[11.458085947963768,48.13721208417016],[11.458759277784317,48.1371688785754],[11.460016374357158,48.13709877100724],[11.460865483790151,48.13704314993904],[11.460827558327512,48.13651989925601],[11.460952320861413,48.13652010580741],[11.46097194892855,48.1363008456974],[11.46132516064688,48.13631055448482],[11.46134554705593,48.1362870818993],[11.461634710581052,48.136306800547445],[11.461960317523742,48.13636892939521],[11.462276460352493,48.136143313337655],[11.462754278520372,48.135790412968895],[11.462841163537213,48.135268805931354],[11.461444587947954,48.13516484631259],[11.460660416363726,48.1351384556018],[11.459493887130407,48.135212390196855],[11.4583292776526,48.13532658438458],[11.457040314480015,48.13544918572782],[11.456936087364921,48.13545037716353],[11.456492047499324,48.135501129653164]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Riem","Current Name (Eng)":"Riem cemetery","Previous Name":null,Address:"Am Mitterfeld 68, 81829 München","Starting year":null,"Completion year/Opening year":"1913","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":"1999-2000",Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:"New part built in 1999-2000",Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-riem/10321180/","Wikipedia page":"https://de.wikipedia.org/wiki/Friedhof_Riem","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1913},geometry:{type:"MultiPolygon",coordinates:[[[[11.682079081734727,48.13085985662505],[11.681721471348599,48.130495027938686],[11.68041317362924,48.13097765431008],[11.680807915963367,48.131371574398315],[11.679381582869523,48.13198364293416],[11.67977107374247,48.13252454474943],[11.680011620639432,48.13280796496996],[11.682587069395234,48.13175257257034],[11.682583918228238,48.13172298075878],[11.682552747535487,48.131640742513405],[11.682074800399775,48.13117750323588],[11.682075805697323,48.13112456849367],[11.682079081734727,48.13085985662505]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Waldfriedhof Neuer Teil","Current Name (Eng)":"Forest cemetery new part","Previous Name":null,Address:"Lorettoplatz 3 , 81377 München","Starting year":null,"Completion year/Opening year":"1966","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/leben/waldfriedhof-neuer-teil","Wikipedia page":"https://de.wikipedia.org/wiki/Waldfriedhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:6,year:1966},geometry:{type:"MultiPolygon",coordinates:[[[[11.483074225163069,48.10287633367091],[11.48316988681679,48.102792056359576],[11.487813918993824,48.10274978462613],[11.488078082090277,48.10271323372338],[11.488863995549245,48.10273217154751],[11.489123725986383,48.10281560253661],[11.489180102383163,48.10292399278393],[11.48915969931447,48.103136808441214],[11.489115917263153,48.10350084741571],[11.488884470410532,48.103832032108706],[11.489334889118314,48.10374615405118],[11.489698097921684,48.103695463780475],[11.489930867771237,48.103644174966426],[11.490115665164458,48.10349972790408],[11.490667607900916,48.10322743080315],[11.490974348324988,48.103066636242666],[11.491156844502227,48.10298046882263],[11.491560067147757,48.102805591039925],[11.492404416144673,48.10249953854175],[11.49259967938518,48.10241309173404],[11.492863151365356,48.10225665650152],[11.49318792461767,48.102098889911],[11.493496115963007,48.10186269866264],[11.493708662671741,48.10171079247185],[11.493942693148426,48.10147449753918],[11.494063271198616,48.101271494349724],[11.494154483623078,48.1009372516058],[11.49423235722776,48.10064440302874],[11.494388704326651,48.1004937160367],[11.49456754134311,48.100332264187045],[11.494722491954702,48.10020558472652],[11.494854371326527,48.10007769354421],[11.495108173874296,48.099880358498055],[11.495344497362858,48.09962903545815],[11.492917997502909,48.09836937166624],[11.48966593507398,48.09667927047401],[11.48761138497368,48.09564137068985],[11.48690399964978,48.09549912324414],[11.486047332645915,48.09533612535367],[11.485741343713503,48.0952468379642],[11.485341512103544,48.09506709533161],[11.485081084555784,48.094968256747464],[11.484836892127074,48.094940999309514],[11.484368447372834,48.0949288687913],[11.483082904948185,48.09499092453185],[11.481937085263061,48.09508762557007],[11.481631598451202,48.09511477932279],[11.48149368444142,48.095117759333675],[11.481377355326275,48.095144250474334],[11.481309798057188,48.09522791922319],[11.481129863025346,48.095526389333706],[11.480739501310754,48.096233599418824],[11.48057603435741,48.09666187727296],[11.480014768585034,48.09774956755429],[11.477919833136959,48.101185909613065],[11.478435624659301,48.1012775412907],[11.478734554098676,48.10132589603382],[11.479127413642047,48.10141332697979],[11.479407227399008,48.10148949561497],[11.479532796822522,48.101548441475025],[11.479538395231144,48.101664783401674],[11.479464232026842,48.10182395183261],[11.479392044202783,48.1020241820777],[11.479357102642728,48.10214824993515],[11.479381488818127,48.10222993250861],[11.47952848260526,48.102308968116446],[11.48047637991009,48.1024529177167],[11.483074225163069,48.10287633367091]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof am Perlacher Forst","Current Name (Eng)":"Cemetery at Perlacher Forest","Previous Name":null,Address:"Stadelheimer Straße 24, 81549 München","Starting year":null,"Completion year/Opening year":"1931","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-am-perlacher-forst/10320919/","Wikipedia page":"https://de.wikipedia.org/wiki/Friedhof_am_Perlacher_Forst","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hermann Leitenstorfer",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:5,year:1931},geometry:{type:"MultiPolygon",coordinates:[[[[11.60026069879355,48.098983775030206],[11.599723432986893,48.098858025695804],[11.600085537960751,48.09821949429633],[11.600483919200059,48.09752264293068],[11.600554925038445,48.09739843694909],[11.600504654958476,48.09738690935584],[11.600350020673954,48.09735144950022],[11.600391847751112,48.09725685280676],[11.60058211474835,48.096879862122684],[11.600590506766432,48.09682492794126],[11.59321594861233,48.09559415134546],[11.592667886943975,48.09656343211451],[11.591814497630612,48.097983836189464],[11.593035452705827,48.098311662126086],[11.592956517109503,48.09845271804875],[11.595592802831096,48.09912314990576],[11.594037705177971,48.10184290586264],[11.595793574849058,48.1022546696916],[11.596503654249679,48.102401903785406],[11.596630679043667,48.1024326495412],[11.596738711361535,48.102442213183075],[11.596921580578064,48.102442880660355],[11.596990585415842,48.102460530390765],[11.59721890068872,48.10222484532218],[11.597689626508819,48.10196206537216],[11.597822556222958,48.101896625468214],[11.598266080401514,48.101663273668905],[11.598612070684494,48.10141531825568],[11.598891473518728,48.101197683920184],[11.599042182894612,48.101129438951894],[11.599127880893924,48.101122696903815],[11.599231989961774,48.10098346824728],[11.59943645980295,48.10098604406971],[11.600046777038587,48.10118113842578],[11.600100025959613,48.10102865282887],[11.600193097317282,48.100812832542125],[11.600320644370862,48.10056981757857],[11.600468151964899,48.100367172071024],[11.600457516890653,48.10034868144137],[11.600640698283007,48.10012794029266],[11.601226231996922,48.09922861014816],[11.600822600699836,48.09911528717011],[11.60026069879355,48.098983775030206]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Neuer Südfriedhof","Current Name (Eng)":"New south cemetery","Previous Name":null,Address:"Hochäckerstraße 90, 81737 München","Starting year":null,"Completion year/Opening year":"1977","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/neuer-suedfriedhof/10321028/","Wikipedia page":"https://de.wikipedia.org/wiki/Neuer_S%C3%BCdfriedhof","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gottfried Hansjakob",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:6,year:1977},geometry:{type:"MultiPolygon",coordinates:[[[[11.623822840845463,48.10007373773893],[11.625094954614113,48.10002569356264],[11.625136961122273,48.09937712943868],[11.62574422956723,48.099330388542164],[11.625572746567222,48.09765341596406],[11.625536490072998,48.09722275537806],[11.625513739749788,48.097137289939184],[11.625501224589831,48.097003667501276],[11.62545625968134,48.0965235770777],[11.624085579376041,48.096479265525204],[11.623253761882715,48.09651884879304],[11.622891009066182,48.096518862148315],[11.618635723485932,48.096582355590826],[11.616963476384537,48.09668771097945],[11.61490327260838,48.09649451332191],[11.614011094990081,48.101166092066],[11.617726486868627,48.10105264666232],[11.618608088189255,48.10104695529579],[11.620127353198578,48.10096187597519],[11.622322031209654,48.10083494172856],[11.623845839673681,48.10076891955207],[11.623822840845463,48.10007373773893]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Solln","Current Name (Eng)":"Solln cemetery","Previous Name":null,Address:"Friedhofweg 1, 81479 München","Starting year":null,"Completion year/Opening year":"1883","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-solln/10322068/","Wikipedia page":"https://de.wikipedia.org/wiki/Friedhof_Solln","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1883},geometry:{type:"MultiPolygon",coordinates:[[[[11.517390810938318,48.079044650915755],[11.518064958960085,48.079091102763506],[11.518131660485064,48.07836565992814],[11.51743243229154,48.078355777232204],[11.517390810938318,48.079044650915755]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Waldfriedhof Solln","Current Name (Eng)":"Solln forest cemetery","Previous Name":null,Address:"Warnbergstraße 2, 81479 München","Starting year":null,"Completion year/Opening year":"1937","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/waldfriedhof-solln/10321648/","Wikipedia page":"https://de.wikipedia.org/wiki/Waldfriedhof_Solln","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Bruno Biehler",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:5,year:1937},geometry:{type:"MultiPolygon",coordinates:[[[[11.51397631989385,48.06993641635464],[11.514075119249181,48.069899141908714],[11.514366481036497,48.06978488627763],[11.514552120513345,48.06977896144615],[11.514764339097805,48.06980593312769],[11.515264656241483,48.0699363306664],[11.515722648794839,48.07004970515251],[11.515770904344835,48.07000335821457],[11.516829146137571,48.06905578006823],[11.516818745113516,48.06901322945562],[11.51611927865305,48.06872538787583],[11.51552054662215,48.068470854700536],[11.514444737372672,48.068063989850955],[11.51422553924757,48.06797694101606],[11.513818544395356,48.06789580397752],[11.513437756469253,48.0679113430733],[11.51318606686374,48.06792945840461],[11.512881747077026,48.067970336280695],[11.512464870556357,48.06801727797959],[11.51166256701904,48.06815008979473],[11.51172184402006,48.06830273440516],[11.511762947796694,48.06844877039793],[11.511767713308721,48.0685751419072],[11.511721105691604,48.0687007771689],[11.511600434600997,48.068787113716866],[11.510838546851273,48.06892653094979],[11.510615050485757,48.068952806804816],[11.51040899995659,48.06899544026726],[11.510352323810515,48.06902829820745],[11.510285644295989,48.06908369404201],[11.510299083271947,48.06913175862408],[11.51052151484287,48.069368687764374],[11.510707852113885,48.06966220375592],[11.510905099113465,48.06995176101925],[11.510967170735471,48.06997272300605],[11.511084865469481,48.06999618852125],[11.511264270323968,48.07003318390027],[11.511403418567898,48.07004130042848],[11.511763973805161,48.07003713437713],[11.512222400024855,48.07010522357696],[11.512554691445644,48.070090513748006],[11.513301825436287,48.06993280872985],[11.51397631989385,48.06993641635464]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Ostfriedhof","Current Name (Eng)":"East cemetery","Previous Name":null,Address:"Sankt-Martins-Platz 1, 81541 München","Starting year":1899,"Completion year/Opening year":"1907","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/ostfriedhof/10309496/","Wikipedia page":"https://de.wikipedia.org/wiki/Ostfriedhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hans Grässel",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1907},geometry:{type:"MultiPolygon",coordinates:[[[[11.595441595087665,48.118573231033054],[11.595408806138797,48.11851200952824],[11.595273866622449,48.118507619103205],[11.595120454170234,48.11846737715273],[11.593264372776018,48.118014558480475],[11.59087185162512,48.1174436170131],[11.590113114847727,48.11726915722619],[11.589884083919628,48.11718876506183],[11.589803063510413,48.117179432442434],[11.589463204172787,48.11721499466394],[11.588388506892834,48.11733035726737],[11.587948263497761,48.11738584671926],[11.586554184359422,48.11816587584101],[11.585872771417046,48.118424871615396],[11.58555115775954,48.118547428372025],[11.585203732012904,48.11865382581165],[11.58443841545331,48.118901682021345],[11.58431507516834,48.118879348304304],[11.583835247247347,48.119038939006124],[11.583806425457174,48.11905176434161],[11.583800732699643,48.119054297545794],[11.583889859964472,48.11912396485773],[11.584493735188008,48.11986551117758],[11.584743684004906,48.12019653459726],[11.585351659452742,48.12030002632619],[11.588580089924307,48.12086526541612],[11.58975130408581,48.12106577413866],[11.591909505818403,48.12144859426925],[11.59431397260802,48.121866730035016],[11.5954278032642,48.12208521659314],[11.595647135421324,48.12213791791461],[11.595673477830918,48.12210942352376],[11.596272832436767,48.12226141072739],[11.596751658451241,48.122391940810175],[11.596763207311477,48.12237639204841],[11.596798123658486,48.122390657746045],[11.596976375933483,48.12220714342076],[11.596985967681663,48.122094400363316],[11.596938620375305,48.12203688295096],[11.596811811312094,48.12189095526237],[11.596564822208165,48.12162033886904],[11.596397335867167,48.12135629439591],[11.59629275649726,48.1211828945077],[11.59620439779435,48.12091799094728],[11.596161002916695,48.12074599774642],[11.596030322674311,48.120247698632966],[11.595879485330595,48.119680107301576],[11.59571671042997,48.11909604610643],[11.595553651824494,48.118644046617696],[11.595441595087665,48.118573231033054]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Perlach","Current Name (Eng)":"Perlach cemetery","Previous Name":null,Address:"Putzbrunner Straße 51, 81739 München","Starting year":null,"Completion year/Opening year":"1902","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-perlach/10322998/","Wikipedia page":"https://de.wikipedia.org/wiki/Friedhof_Perlach","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1902},geometry:{type:"MultiPolygon",coordinates:[[[[11.640516095788495,48.098050593261476],[11.641161364945452,48.09915544431036],[11.64278760593551,48.09870512198155],[11.642227031610883,48.09762809042487],[11.640516095788495,48.098050593261476]]]]}}],uA={type:oA,name:aA,crs:sA,features:lA},cA="FeatureCollection",dA="spots",hA={type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},pA=[{type:"Feature",properties:{id:null,"Current Name (DE)":"Neuhauser Straße/Kaufingerstraße","Current Name (Eng)":"Neuhauser Street and Kaufingerstraße Street","Previous Name":"Chufringerstraße",Address:"Kaufingerstraße 1","Starting year":null,"Completion year/Opening year":"1316","Zerstört/Destroyed":1944,"Renoviert/New use/Expansion":"1972",Rebuilt:"1950",Moved:null,Type:"spot",Function:"street",Description:"in 1972 were opened as pedestrian zones",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/fussgaengerzone-neuhauser-strassekaufingerstrasse","Wikipedia page":"https://de.wikipedia.org/wiki/Neuhauser_Stra%C3%9Fe, https://de.wikipedia.org/wiki/Kaufingerstra%C3%9Fe","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Kaufingerstraße 1, Munich",Latitude:48.1372092,Longitude:11.5745225,Period:1},geometry:{type:"Point",coordinates:[11.571507118587244,48.13816152814123]}},{type:"Feature",properties:{id:null,"Current Name (DE)":"Isartor","Current Name (Eng)":"Isar´s gate","Previous Name":null,Address:"Tal 50, 80331 München","Starting year":null,"Completion year/Opening year":"1337","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/top-sehenswuerdigkeiten/isartor","Wikipedia page":"https://de.wikipedia.org/wiki/Isartor","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1},geometry:{type:"Point",coordinates:[11.581681342036326,48.134973625879915]}},{type:"Feature",properties:{id:null,"Current Name (DE)":"Sendlinger Tor","Current Name (Eng)":"Sendling Gate","Previous Name":null,Address:"Sendlinger-Tor-Platz 1","Starting year":null,"Completion year/Opening year":"1300","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/bauwerke-und-denkmaeler/sendlinger-tor","Wikipedia page":"https://de.wikipedia.org/wiki/Sendlinger_Tor","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1},geometry:{type:"Point",coordinates:[11.56766638923752,48.13391043189747]}},{type:"Feature",properties:{id:null,"Current Name (DE)":"Siegestor","Current Name (Eng)":"Victory gate","Previous Name":null,Address:"Leopoldstr. 1 , 80539 München","Starting year":1843,"Completion year/Opening year":"1850","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/siegestor","Wikipedia page":"https://de.wikipedia.org/wiki/Siegestor","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich von Gärtner",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:3},geometry:{type:"Point",coordinates:[11.58213458543154,48.15235435671356]}},{type:"Feature",properties:{id:null,"Current Name (DE)":"Kurt-Eisner-Denkmal (Bodenplatte)","Current Name (Eng)":"Kurt Eisner monument (floor plate)","Previous Name":null,Address:"Kardinal-Faulhaber-Straße 14","Starting year":null,"Completion year/Opening year":"1989","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:"part of 1919 'Nationalsozialistische Stadtentwicklung' (National Socialist urban development) by Munich City Museum",Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Kurt-Eisner-Denkmal","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Erika Maria Lankes",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:6},geometry:{type:"Point",coordinates:[11.573992891415438,48.140312356525705]}},{type:"Feature",properties:{id:null,"Current Name (DE)":"Kurt-Eisner-Denkmal (Glasskulptur)","Current Name (Eng)":"Kurt Eisner monument (glass sculpture)","Previous Name":null,Address:"Schmidstraße 2","Starting year":null,"Completion year/Opening year":"2011","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:"part of 1919 'Nationalsozialistische Stadtentwicklung' (National Socialist urban development) by Munich City Museum",Website:null,"Muenchen.de":"https://stadt.muenchen.de/infos/denkmaeler-muenchen.html","Wikipedia page":"https://de.wikipedia.org/wiki/Kurt-Eisner-Denkmal_am_Oberanger","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Rotraut Fischer",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:7},geometry:{type:"Point",coordinates:[11.57002197420665,48.13424606098213]}},{type:"Feature",properties:{id:86,"Current Name (DE)":"Umschreibung","Current Name (Eng)":"Endless Staircase by Olafur Eliasson","Previous Name":null,Address:"Ganghoferstraße 29A","Starting year":null,"Completion year/Opening year":"2004","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"spot",Description:"https://www.atlasobscura.com/places/umschreibung",Website:"https://olafureliasson.net/artwork/umschreibung-2004/","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Olafur Eliasson",Status:null,AddressM:"Ganghoferstraße 29A, Munich",Latitude:48.1325307,Longitude:11.5400899,Period:7},geometry:{type:"Point",coordinates:[11.540267755188971,48.132789724918176]}},{type:"Feature",properties:{id:111,"Current Name (DE)":"Olympiaturm","Current Name (Eng)":"Olympic Tower","Previous Name":null,Address:"Spiridon-Louis-Ring 7","Starting year":1965,"Completion year/Opening year":"1968","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"tv tower",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/aussichtspunkte/olympiaturm","Wikipedia page":"https://de.wikipedia.org/wiki/Olympiaturm","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Sebastian Rosenthal",Status:null,AddressM:"Spiridon-Louis-Ring 7, Munich",Latitude:48.17411,Longitude:11.54718,Period:6},geometry:{type:"Point",coordinates:[11.55375478339862,48.174418433331006]}},{type:"Feature",properties:{id:145,"Current Name (DE)":"Karlstor","Current Name (Eng)":"Karlstor gate","Previous Name":"Neuhauser Tor",Address:"Karlsplatz","Starting year":null,"Completion year/Opening year":"1300","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":"1861, 1902",Rebuilt:"1791, 1950",Moved:null,Type:"spot",Function:"memorial",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/top-sehenswuerdigkeiten/karlstor","Wikipedia page":"https://de.wikipedia.org/wiki/Karlstor_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Karl Theodor (1791), Gabriel von Seidl (1902",Status:null,AddressM:"Karlsplatz, Munich",Latitude:48.1398393,Longitude:11.5662176,Period:1},geometry:{type:"Point",coordinates:[11.566762715800527,48.139011007250645]}},{type:"Feature",properties:{id:161,"Current Name (DE)":"Theresienwiese (Oktoberfest)","Current Name (Eng)":"Theresienwiese (Octoberfest)","Previous Name":null,Address:"Theresienwiese","Starting year":null,"Completion year/Opening year":"1810","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"beer festival",Description:"https://www.muenchen.de/en/events/oktoberfest/history-oktoberfest-munich",Website:"https://www.oktoberfest.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/aussichtspunkte/theresienwiese","Wikipedia page":null,"Owner/Initiator/Commissioned by":"The Bavarian Agricultural Association","Architect/Artist/Author":null,Status:null,AddressM:"Theresienwiese, Munich",Latitude:48.1308951,Longitude:11.5509415,Period:3},geometry:{type:"Point",coordinates:[11.549674819302695,48.1314254022483]}},{type:"Feature",properties:{id:168,"Current Name (DE)":"Monopteros","Current Name (Eng)":"Monopteros in Munich","Previous Name":null,Address:"12 Gyßlingstraße","Starting year":1833,"Completion year/Opening year":"1837","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"lookout point, round temple",Description:"https://www.atlasobscura.com/places/monopteros",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/parks-und-gaerten/monopteros","Wikipedia page":"https://de.wikipedia.org/wiki/Englischer_Garten_(M%C3%BCnchen)#/media/Datei:Monopteros_Englischer_Garten_Muenchen-10.jpg","Owner/Initiator/Commissioned by":"Ludwig I","Architect/Artist/Author":"Leo von Klenze",Status:null,AddressM:"12 Gyßlingstraße, Munich",Latitude:48.1603007,Longitude:11.604356,Period:3},geometry:{type:"Point",coordinates:[11.590932209178568,48.149885352731275]}},{type:"Feature",properties:{id:169,"Current Name (DE)":"Steinerne Bank von Klenze","Current Name (Eng)":"Klenze's Stone Bench","Previous Name":null,Address:"1A Englischer Garten","Starting year":null,"Completion year/Opening year":"1838","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"monument",Description:"https://www.atlasobscura.com/places/klenzes-stone-bench, https://stadtgeschichte-muenchen.de/sehenswert/d_sehenswert.php?id=2520",Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/denkmal-steinerne-bank/1070966/","Wikipedia page":"https://de.wikipedia.org/wiki/Datei:Steinerne_Bank_Englischer_Garten_Muenchen-1.jpg, https://en.m.wikipedia.org/wiki/File:Steinerne_Bank2.JPG","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Leo von Klenze",Status:null,AddressM:"1A Englischer Garten, Munich",Latitude:48.1511102,Longitude:11.593948,Period:3},geometry:{type:"Point",coordinates:[11.592636152160916,48.15041979968284]}},{type:"Feature",properties:{id:170,"Current Name (DE)":"Feldfernhalle","Current Name (Eng)":`"Field Marshals' Hall"`,"Previous Name":null,Address:"Residenzstraße 1","Starting year":1841,"Completion year/Opening year":"1844","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"monumental loggia",Description:"New Munich'",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/sehenswerte-plaetze/odeonsplatz","Wikipedia page":"https://de.wikipedia.org/wiki/Feldherrnhalle","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich von Gärtner",Status:null,AddressM:"Residenzstraße 1, Munich",Latitude:48.1414477,Longitude:11.5778316,Period:3},geometry:{type:"Point",coordinates:[11.577313048115466,48.141681896453264]}},{type:"Feature",properties:{id:174,"Current Name (DE)":"Bavaria-Statue","Current Name (Eng)":"Bavaria statue","Previous Name":null,Address:"Theresienhöhe 16","Starting year":1843,"Completion year/Opening year":"1850","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"statue",Description:"https://www.atlasobscura.com/places/lady-bavaria",Website:"https://www.schloesser.bayern.de/deutsch/schloss/objekte/mu_ruhm.htm","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/aussichtspunkte/ruhmeshalle-mit-bavaria","Wikipedia page":"https://de.wikipedia.org/wiki/Bavaria","Owner/Initiator/Commissioned by":"Ludwig I","Architect/Artist/Author":"Ludwig Schwanthaler",Status:null,AddressM:"Theresienhöhe 16, Munich",Latitude:48.1298886,Longitude:11.5445024,Period:3},geometry:{type:"Point",coordinates:[11.54594426035305,48.13069032171715]}},{type:"Feature",properties:{id:175,"Current Name (DE)":"Glaspalast-Brunnen","Current Name (Eng)":"Glass Palace Fountain","Previous Name":null,Address:"Weißenburger Pl.","Starting year":null,"Completion year/Opening year":"1853","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:"1901, 1974",Type:"spot",Function:"water feature",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Glaspalast-Brunnen","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Weißenburger Pl., Munich",Latitude:48.1288085,Longitude:11.5959166,Period:3},geometry:{type:"Point",coordinates:[11.596108994609743,48.12854864534666]}},{type:"Feature",properties:{id:193,"Current Name (DE)":"Wolfsbrunnen","Current Name (Eng)":"Wolf Fountain","Previous Name":null,Address:"Am Kosttor Munich","Starting year":null,"Completion year/Opening year":"1904","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"monument",Description:"https://www.atlasobscura.com/places/wolfsbrunnen",Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Wolfsbrunnen_(München)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Heinrich Düll und Georg Pezold",Status:null,AddressM:"Am Kosttor Munich, Munich",Latitude:48.1385666,Longitude:11.5809556,Period:4},geometry:{type:"Point",coordinates:[11.58094786904807,48.13842091406362]}},{type:"Feature",properties:{id:207,"Current Name (DE)":"Wunden der Erinnerung","Current Name (Eng)":"Wounds of Memory","Previous Name":null,Address:"2 Schellingstraße Munich","Starting year":null,"Completion year/Opening year":"1950","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:"https://www.atlasobscura.com/places/wunden-der-erinnerung-wounds-of-memory-lmu-library",Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Wunden_der_Erinnerung","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Beate Passow and Andreas von Weizsäcker",Status:null,AddressM:"2 Schellingstraße Munich, Munich",Latitude:48.1493548,Longitude:11.5797493,Period:6},geometry:{type:"Point",coordinates:[11.580191161644004,48.149178351913115]}},{type:"Feature",properties:{id:209,"Current Name (DE)":"Valentin-Karlstadt-Musäum","Current Name (Eng)":"Valentin Karlstadt Museum","Previous Name":null,Address:"Tal 50","Starting year":null,"Completion year/Opening year":"1959","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"museum",Description:"https://www.atlasobscura.com/places/valentin-karlstadt-musaum",Website:"https://www.valentin-karlstadt-musaeum.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/museen/valentin-karlstadt-musaeum","Wikipedia page":"https://de.wikipedia.org/wiki/Valentin-Karlstadt-Mus%C3%A4um","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Tal 50, Munich",Latitude:48.1351053,Longitude:11.5818379,Period:6},geometry:{type:"Point",coordinates:[11.5818379,48.1351053]}},{type:"Feature",properties:{id:210,"Current Name (DE)":"Futuro Kunststoffhaus","Current Name (Eng)":"Futuro plastic house","Previous Name":null,Address:"Barer Str. 40","Starting year":null,"Completion year/Opening year":"1968","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"exhibition",Description:"located in front of the Pinakothek of the Modern, https://www.atlasobscura.com/places/futuro-house-pinakothek, https://www.pin-freunde.de/foerderungen/erwerbungen/kunstwerk/futuro/",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/pinakothek-der-moderne","Wikipedia page":"https://de.wikipedia.org/wiki/Futuro_(Haus)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Matti Suuronen",Status:null,AddressM:"Barer Str. 40, Munich",Latitude:48.147128,Longitude:11.5722422,Period:6},geometry:{type:"Point",coordinates:[11.572405453817138,48.14760508892907]}},{type:"Feature",properties:{id:214,"Current Name (DE)":"Georg-Elser-Bodenplatte","Current Name (Eng)":"Georg-Elser-Floor-Plaque","Previous Name":null,Address:"Rosenheimer Str. 11","Starting year":null,"Completion year/Opening year":"1989","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:`https://www.atlasobscura.com/places/georg-elser-plaque, https://stadtgeschichte-muenchen.de/sehenswert/d_sehenswert.php?id=1847, "AN DIESER STELLE, IM EHEMALIGEN
BüRGERBRäUKELLER, VERSUCHTE DER
SCHREINER JOHANN GEORG ELSER
AM 8. NOVEMBER 1939 EIN ATTEN`,Website:"https://www.georg-elser-arbeitskreis.de/texts/muenchen-gasteig.htm","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Datei:Georg-Elser-Bodenplatte_im_Gasteig.jpg, https://de.wikipedia.org/wiki/Datei:Georg_Elser_Bodenplatte.JPG","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Rosenheimer Str. 11, Munich",Latitude:48.1306267,Longitude:11.5926704,Period:6},geometry:{type:"Point",coordinates:[11.592410007053337,48.13066648598079]}},{type:"Feature",properties:{id:217,"Current Name (DE)":'"Argumente" (Drückebergergasse)',"Current Name (Eng)":`"Arguments" (Shirker's Alley)`,"Previous Name":null,Address:"Viscardigasse 0","Starting year":null,"Completion year/Opening year":"1995","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:"https://www.atlasobscura.com/places/viscardigasse",Website:"https://stadtgeschichte-muenchen.de/sehenswert/d_sehenswert.php?id=2250","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Dr%C3%BCckebergergasse","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Bruno Wank",Status:null,AddressM:"Viscardigasse 0, Munich",Latitude:48.1413599,Longitude:11.5771172,Period:7},geometry:{type:"Point",coordinates:[11.577173643773781,48.14133647288559]}},{type:"Feature",properties:{id:219,"Current Name (DE)":"DenkStätte Weiße Rose","Current Name (Eng)":"Weiße Rose Pavement Memorial","Previous Name":null,Address:"Geschwister-Scholl-Platz 1","Starting year":null,"Completion year/Opening year":"1997","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:"https://www.atlasobscura.com/places/weisse-rose-pavement-memorial",Website:"https://www.weisse-rose-stiftung.de/denkstaette-weisse-rose-am-lichthof-der-lmu-muenchen/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/denkstaette-weisse-rose","Wikipedia page":"https://de.wikipedia.org/wiki/DenkSt%C3%A4tte_Wei%C3%9Fe_Rose","Owner/Initiator/Commissioned by":"Weiße Rose Stiftung, LMU","Architect/Artist/Author":null,Status:null,AddressM:"Geschwister-Scholl-Platz 1, Munich",Latitude:48.1509185,Longitude:11.5798609,Period:7},geometry:{type:"Point",coordinates:[11.580283946013282,48.150432669386554]}},{type:"Feature",properties:{id:220,"Current Name (DE)":"Messe München","Current Name (Eng)":"New Munich Trade Fair","Previous Name":"Neue Messe München",Address:"Am Messesee 2","Starting year":1994,"Completion year/Opening year":"1998","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"fair",Description:null,Website:"https://messe-muenchen.de/en/","Muenchen.de":"https://www.muenchen.de/veranstaltungen/messe-muenchen","Wikipedia page":"https://de.wikipedia.org/wiki/Messe_M%C3%BCnchen_(Gel%C3%A4nde)","Owner/Initiator/Commissioned by":"Messe München GmbH","Architect/Artist/Author":"Bystrup Architecture Design Engineering, Bregenhøj + Partners, Kaup, Scholz, Jesse + Partner",Status:null,AddressM:"Am Messesee 2, Munich",Latitude:48.13535,Longitude:11.69263,Period:7},geometry:{type:"Point",coordinates:[11.692148157044146,48.13550136696218]}},{type:"Feature",properties:{id:226,"Current Name (DE)":"Eisbachwelle","Current Name (Eng)":"Eisbach wave","Previous Name":null,Address:"22 Prinzregentenstraße","Starting year":null,"Completion year/Opening year":"current","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"sport",Description:"https://www.atlasobscura.com/places/eisbachwelle",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/top-sehenswuerdigkeiten/eisbach-surferwelle","Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"22 Prinzregentenstraße, Munich",Latitude:48.1426923,Longitude:11.5868423,Period:7},geometry:{type:"Point",coordinates:[11.587696174192736,48.1432341983916]}},{type:"Feature",properties:{id:229,"Current Name (DE)":"Viktualienmarkt","Current Name (Eng)":"Viktualienmarkt market","Previous Name":null,Address:"Viktualienmarkt 3","Starting year":null,"Completion year/Opening year":"1807","Zerstört/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"market",Description:null,Website:"https://www.viktualienmarkt-muenchen.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/top-sehenswuerdigkeiten/viktualienmarkt","Wikipedia page":"https://de.wikipedia.org/wiki/Viktualienmarkt","Owner/Initiator/Commissioned by":"King Maximilian I","Architect/Artist/Author":null,Status:null,AddressM:"Viktualienmarkt 3, Munich",Latitude:48.1358245,Longitude:11.5768783,Period:3},geometry:{type:"Point",coordinates:[11.576670701087401,48.135766191900885]}},{type:"Feature",properties:{id:231,"Current Name (DE)":"Ehrentempel","Current Name (Eng)":"Temple of honor","Previous Name":null,Address:"Max-Mannheimer-Platz 1","Starting year":null,"Completion year/Opening year":"1935","Zerstört/Destroyed":1947,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:"part of 1933-1937 'Nationalsozialistische Stadtentwicklung' (National Socialist urban development) according to Munich City Museum, https://www.denkmaeler-muenchen.de/ns/ehrentempel.php",Website:null,"Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Paul Ludwig Troost",Status:null,AddressM:"Max-Mannheimer-Platz 1, Munich",Latitude:48.14546,Longitude:11.5672973,Period:5},geometry:{type:"Point",coordinates:[11.56699180672384,48.145536122434955]}}],fA={type:cA,name:dA,crs:hA,features:pA},mA={id:"buildings",type:"fill",paint:{"fill-color":{property:"Period",stops:[[1,"#d99e32ff"],[2,"#f27649ff"],[3,"#668c54ff"],[4,"#bfba73ff"],[5,"#312640ff"],[6,"#8c7d4fff"],[7,"#568fa6ff"]]}}},gA={id:"parks",type:"fill",paint:{"fill-color":{property:"Period",stops:[[1,"#d99e32ff"],[2,"#f27649ff"],[3,"#668c54ff"],[4,"#bfba73ff"],[5,"#312640ff"],[6,"#8c7d4fff"],[7,"#568fa6ff"]]}}},yA={id:"spots",type:"circle",source:"spots",filter:["!",["has","point_count"]],paint:{"circle-color":{property:"Period",stops:[[1,"#d99e32ff"],[2,"#f27649ff"],[3,"#668c54ff"],[4,"#bfba73ff"],[5,"#312640ff"],[6,"#8c7d4fff"],[7,"#568fa6ff"]]},"circle-radius":7,"circle-stroke-width":1,"circle-stroke-color":"white"}},vA={id:"cluster-count",type:"symbol",source:"spots",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}},_A={id:"clusters",type:"circle",source:"spots",filter:["has","point_count"],paint:{"circle-color":"#F08332","circle-radius":["step",["get","point_count"],20,100,30,750,40]}},xA={buildings:{data:iA,style:mA},spots:{data:fA,style:yA},parks:{data:uA,style:gA}},bA="_card_9ypmq_1",wA="_button_9ypmq_11",SA="_featuresList_9ypmq_23",CA="_title_9ypmq_39",MA="_subtitle_9ypmq_46",EA="_fieldName_9ypmq_53",kA="_list_9ypmq_57",AA="_listElement_9ypmq_61",I1={card:bA,button:wA,featuresList:SA,title:CA,subtitle:MA,fieldName:EA,list:kA,listElement:AA},PA={"Completion year/Opening year":"Year","Architect/Artist/Author":"Architect(s)"};var __={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function i(){for(var p="",y=0;y<arguments.length;y++){var u=arguments[y];u&&(p=l(p,a(u)))}return p}function a(p){if(typeof p=="string"||typeof p=="number")return p;if(typeof p!="object")return"";if(Array.isArray(p))return i.apply(null,p);if(p.toString!==Object.prototype.toString&&!p.toString.toString().includes("[native code]"))return p.toString();var y="";for(var u in p)t.call(p,u)&&p[u]&&(y=l(y,u));return y}function l(p,y){return y?p?p+" "+y:p+y:p}e.exports?(i.default=i,e.exports=i):window.classNames=i})()})(__);var TA=__.exports;const wn=F4(TA);function zr(){return zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},zr.apply(this,arguments)}var x_={exports:{}},yn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M2=Symbol.for("react.element"),E2=Symbol.for("react.portal"),i0=Symbol.for("react.fragment"),o0=Symbol.for("react.strict_mode"),a0=Symbol.for("react.profiler"),s0=Symbol.for("react.provider"),l0=Symbol.for("react.context"),IA=Symbol.for("react.server_context"),u0=Symbol.for("react.forward_ref"),c0=Symbol.for("react.suspense"),d0=Symbol.for("react.suspense_list"),h0=Symbol.for("react.memo"),p0=Symbol.for("react.lazy"),LA=Symbol.for("react.offscreen"),b_;b_=Symbol.for("react.module.reference");function ko(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case M2:switch(e=e.type,e){case i0:case a0:case o0:case c0:case d0:return e;default:switch(e=e&&e.$$typeof,e){case IA:case l0:case u0:case p0:case h0:case s0:return e;default:return t}}case E2:return t}}}yn.ContextConsumer=l0;yn.ContextProvider=s0;yn.Element=M2;yn.ForwardRef=u0;yn.Fragment=i0;yn.Lazy=p0;yn.Memo=h0;yn.Portal=E2;yn.Profiler=a0;yn.StrictMode=o0;yn.Suspense=c0;yn.SuspenseList=d0;yn.isAsyncMode=function(){return!1};yn.isConcurrentMode=function(){return!1};yn.isContextConsumer=function(e){return ko(e)===l0};yn.isContextProvider=function(e){return ko(e)===s0};yn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===M2};yn.isForwardRef=function(e){return ko(e)===u0};yn.isFragment=function(e){return ko(e)===i0};yn.isLazy=function(e){return ko(e)===p0};yn.isMemo=function(e){return ko(e)===h0};yn.isPortal=function(e){return ko(e)===E2};yn.isProfiler=function(e){return ko(e)===a0};yn.isStrictMode=function(e){return ko(e)===o0};yn.isSuspense=function(e){return ko(e)===c0};yn.isSuspenseList=function(e){return ko(e)===d0};yn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===i0||e===a0||e===o0||e===c0||e===d0||e===LA||typeof e=="object"&&e!==null&&(e.$$typeof===p0||e.$$typeof===h0||e.$$typeof===s0||e.$$typeof===l0||e.$$typeof===u0||e.$$typeof===b_||e.getModuleId!==void 0)};yn.typeOf=ko;x_.exports=yn;var w_=x_.exports;function z5(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=[];return Ct.Children.forEach(e,function(a){a==null&&!t.keepEmpty||(Array.isArray(a)?i=i.concat(z5(a)):w_.isFragment(a)&&a.props?i=i.concat(z5(a.props.children,t)):i.push(a))}),i}var F5={},DA=function(t){};function RA(e,t){}function zA(e,t){}function FA(){F5={}}function S_(e,t,i){!t&&!F5[i]&&(e(!1,i),F5[i]=!0)}function ro(e,t){S_(RA,e,t)}function NA(e,t){S_(zA,e,t)}ro.preMessage=DA;ro.resetWarned=FA;ro.noteOnce=NA;function Sn(e){"@babel/helpers - typeof";return Sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sn(e)}function OA(e,t){if(Sn(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(Sn(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C_(e){var t=OA(e,"string");return Sn(t)=="symbol"?t:String(t)}function Fe(e,t,i){return t=C_(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p7(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function Xe(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?p7(Object(i),!0).forEach(function(a){Fe(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p7(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function BA(e){return e instanceof HTMLElement||e instanceof SVGElement}function $A(e){return BA(e)?e:e instanceof Ct.Component?Xv.findDOMNode(e):null}function k2(e,t,i){var a=H.useRef({});return(!("value"in a.current)||i(a.current.condition,t))&&(a.current.value=e(),a.current.condition=t),a.current.value}function M_(e,t){typeof e=="function"?e(t):Sn(e)==="object"&&e&&"current"in e&&(e.current=t)}function f0(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=t.filter(function(l){return l});return a.length<=1?a[0]:function(l){t.forEach(function(p){M_(p,l)})}}function E_(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return k2(function(){return f0.apply(void 0,t)},t,function(a,l){return a.length!==l.length||a.every(function(p,y){return p!==l[y]})})}function A2(e){var t,i,a=w_.isMemo(e)?e.type.type:e.type;return!(typeof a=="function"&&!((t=a.prototype)!==null&&t!==void 0&&t.render)||typeof e=="function"&&!((i=e.prototype)!==null&&i!==void 0&&i.render))}function Ao(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f7(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,C_(a.key),a)}}function Po(e,t,i){return t&&f7(e.prototype,t),i&&f7(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function N5(e,t){return N5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,l){return a.__proto__=l,a},N5(e,t)}function Vd(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N5(e,t)}function Vs(e){return Vs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Vs(e)}function m0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m0=function(){return!!e})()}function on(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P2(e,t){if(t&&(Sn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return on(e)}function T2(e){var t=m0();return function(){var a=Vs(e),l;if(t){var p=Vs(this).constructor;l=Reflect.construct(a,arguments,p)}else l=a.apply(this,arguments);return P2(this,l)}}function jA(e,t){var i=Xe({},e);return Array.isArray(t)&&t.forEach(function(a){delete i[a]}),i}function O5(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function VA(e){if(Array.isArray(e))return O5(e)}function k_(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I2(e,t){if(e){if(typeof e=="string")return O5(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return O5(e,t)}}function WA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vt(e){return VA(e)||k_(e)||I2(e)||WA()}var A_=function(t){return+setTimeout(t,16)},P_=function(t){return clearTimeout(t)};typeof window<"u"&&"requestAnimationFrame"in window&&(A_=function(t){return window.requestAnimationFrame(t)},P_=function(t){return window.cancelAnimationFrame(t)});var m7=0,L2=new Map;function T_(e){L2.delete(e)}var Bl=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;m7+=1;var a=m7;function l(p){if(p===0)T_(a),t();else{var y=A_(function(){l(p-1)});L2.set(a,y)}}return l(i),a};Bl.cancel=function(e){var t=L2.get(e);return T_(e),P_(t)};function I_(e){if(Array.isArray(e))return e}function UA(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var a,l,p,y,u=[],M=!0,S=!1;try{if(p=(i=i.call(e)).next,t===0){if(Object(i)!==i)return;M=!1}else for(;!(M=(a=p.call(i)).done)&&(u.push(a.value),u.length!==t);M=!0);}catch(P){S=!0,l=P}finally{try{if(!M&&i.return!=null&&(y=i.return(),Object(y)!==y))return}finally{if(S)throw l}}return u}}function L_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tt(e,t){return I_(e)||UA(e,t)||I2(e,t)||L_()}function k4(e){for(var t=0,i,a=0,l=e.length;l>=4;++a,l-=4)i=e.charCodeAt(a)&255|(e.charCodeAt(++a)&255)<<8|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,t=(i&65535)*1540483477+((i>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(l){case 3:t^=(e.charCodeAt(a+2)&255)<<16;case 2:t^=(e.charCodeAt(a+1)&255)<<8;case 1:t^=e.charCodeAt(a)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}function xi(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function B5(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var i=t;i;){if(i===e)return!0;i=i.parentNode}return!1}var g7="data-rc-order",y7="data-rc-priority",HA="rc-util-key",$5=new Map;function D_(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):HA}function g0(e){if(e.attachTo)return e.attachTo;var t=document.querySelector("head");return t||document.body}function ZA(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function R_(e){return Array.from(($5.get(e)||e).children).filter(function(t){return t.tagName==="STYLE"})}function z_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!xi())return null;var i=t.csp,a=t.prepend,l=t.priority,p=l===void 0?0:l,y=ZA(a),u=y==="prependQueue",M=document.createElement("style");M.setAttribute(g7,y),u&&p&&M.setAttribute(y7,"".concat(p)),i!=null&&i.nonce&&(M.nonce=i==null?void 0:i.nonce),M.innerHTML=e;var S=g0(t),P=S.firstChild;if(a){if(u){var F=R_(S).filter(function(R){if(!["prepend","prependQueue"].includes(R.getAttribute(g7)))return!1;var J=Number(R.getAttribute(y7)||0);return p>=J});if(F.length)return S.insertBefore(M,F[F.length-1].nextSibling),M}S.insertBefore(M,P)}else S.appendChild(M);return M}function F_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=g0(t);return R_(i).find(function(a){return a.getAttribute(D_(t))===e})}function Ad(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=F_(e,t);if(i){var a=g0(t);a.removeChild(i)}}function GA(e,t){var i=$5.get(e);if(!i||!B5(document,i)){var a=z_("",t),l=a.parentNode;$5.set(e,l),e.removeChild(a)}}function Ws(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=g0(i);GA(a,i);var l=F_(t,i);if(l){var p,y;if((p=i.csp)!==null&&p!==void 0&&p.nonce&&l.nonce!==((y=i.csp)===null||y===void 0?void 0:y.nonce)){var u;l.nonce=(u=i.csp)===null||u===void 0?void 0:u.nonce}return l.innerHTML!==e&&(l.innerHTML=e),l}var M=z_(e,i);return M.setAttribute(D_(i),t),M}function qA(e,t){if(e==null)return{};var i={},a=Object.keys(e),l,p;for(p=0;p<a.length;p++)l=a[p],!(t.indexOf(l)>=0)&&(i[l]=e[l]);return i}function qa(e,t){if(e==null)return{};var i=qA(e,t),a,l;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(l=0;l<p.length;l++)a=p[l],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function N_(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=new Set;function l(p,y){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=a.has(p);if(ro(!M,"Warning: There may be circular references"),M)return!1;if(p===y)return!0;if(i&&u>1)return!1;a.add(p);var S=u+1;if(Array.isArray(p)){if(!Array.isArray(y)||p.length!==y.length)return!1;for(var P=0;P<p.length;P++)if(!l(p[P],y[P],S))return!1;return!0}if(p&&y&&Sn(p)==="object"&&Sn(y)==="object"){var F=Object.keys(p);return F.length!==Object.keys(y).length?!1:F.every(function(R){return l(p[R],y[R],S)})}return!1}return l(e,t)}var v7="%",KA=function(){function e(t){Ao(this,e),Fe(this,"instanceId",void 0),Fe(this,"cache",new Map),this.instanceId=t}return Po(e,[{key:"get",value:function(i){return this.cache.get(i.join(v7))||null}},{key:"update",value:function(i,a){var l=i.join(v7),p=this.cache.get(l),y=a(p);y===null?this.cache.delete(l):this.cache.set(l,y)}}]),e}(),fu="data-token-hash",Qo="data-css-hash",Es="__cssinjs_instance__";function XA(){var e=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(Qo,"]"))||[],i=document.head.firstChild;Array.from(t).forEach(function(l){l[Es]=l[Es]||e,l[Es]===e&&document.head.insertBefore(l,i)});var a={};Array.from(document.querySelectorAll("style[".concat(Qo,"]"))).forEach(function(l){var p=l.getAttribute(Qo);if(a[p]){if(l[Es]===e){var y;(y=l.parentNode)===null||y===void 0||y.removeChild(l)}}else a[p]=!0})}return new KA(e)}var y0=H.createContext({hashPriority:"low",cache:XA(),defaultCache:!0});function JA(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}var D2=function(){function e(){Ao(this,e),Fe(this,"cache",void 0),Fe(this,"keys",void 0),Fe(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Po(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(i){var a,l,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y={map:this.cache};return i.forEach(function(u){if(!y)y=void 0;else{var M;y=(M=y)===null||M===void 0||(M=M.map)===null||M===void 0?void 0:M.get(u)}}),(a=y)!==null&&a!==void 0&&a.value&&p&&(y.value[1]=this.cacheCallTimes++),(l=y)===null||l===void 0?void 0:l.value}},{key:"get",value:function(i){var a;return(a=this.internalGet(i,!0))===null||a===void 0?void 0:a[0]}},{key:"has",value:function(i){return!!this.internalGet(i)}},{key:"set",value:function(i,a){var l=this;if(!this.has(i)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var p=this.keys.reduce(function(S,P){var F=Tt(S,2),R=F[1];return l.internalGet(P)[1]<R?[P,l.internalGet(P)[1]]:S},[this.keys[0],this.cacheCallTimes]),y=Tt(p,1),u=y[0];this.delete(u)}this.keys.push(i)}var M=this.cache;i.forEach(function(S,P){if(P===i.length-1)M.set(S,{value:[a,l.cacheCallTimes++]});else{var F=M.get(S);F?F.map||(F.map=new Map):M.set(S,{map:new Map}),M=M.get(S).map}})}},{key:"deleteByPath",value:function(i,a){var l=i.get(a[0]);if(a.length===1){var p;return l.map?i.set(a[0],{map:l.map}):i.delete(a[0]),(p=l.value)===null||p===void 0?void 0:p[0]}var y=this.deleteByPath(l.map,a.slice(1));return(!l.map||l.map.size===0)&&!l.value&&i.delete(a[0]),y}},{key:"delete",value:function(i){if(this.has(i))return this.keys=this.keys.filter(function(a){return!JA(a,i)}),this.deleteByPath(this.cache,i)}}]),e}();Fe(D2,"MAX_CACHE_SIZE",20);Fe(D2,"MAX_CACHE_OFFSET",5);var _7=0,O_=function(){function e(t){Ao(this,e),Fe(this,"derivatives",void 0),Fe(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=_7,t.length===0&&(t.length>0,void 0),_7+=1}return Po(e,[{key:"getDerivativeToken",value:function(i){return this.derivatives.reduce(function(a,l){return l(i,a)},void 0)}}]),e}(),h8=new D2;function j5(e){var t=Array.isArray(e)?e:[e];return h8.has(t)||h8.set(t,new O_(t)),h8.get(t)}var YA=new WeakMap,p8={};function QA(e,t){for(var i=YA,a=0;a<t.length;a+=1){var l=t[a];i.has(l)||i.set(l,new WeakMap),i=i.get(l)}return i.has(p8)||i.set(p8,e()),i.get(p8)}var x7=new WeakMap;function id(e){var t=x7.get(e)||"";return t||(Object.keys(e).forEach(function(i){var a=e[i];t+=i,a instanceof O_?t+=a.id:a&&Sn(a)==="object"?t+=id(a):t+=a}),x7.set(e,t)),t}function b7(e,t){return k4("".concat(t,"_").concat(id(e)))}var od="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),B_="_bAmBoO_";function eP(e,t,i){if(xi()){var a,l;Ws(e,od);var p=document.createElement("div");p.style.position="fixed",p.style.left="0",p.style.top="0",t==null||t(p),document.body.appendChild(p);var y=i?i(p):(a=getComputedStyle(p).content)===null||a===void 0?void 0:a.includes(B_);return(l=p.parentNode)===null||l===void 0||l.removeChild(p),Ad(od),y}return!1}var f8=void 0;function tP(){return f8===void 0&&(f8=eP("@layer ".concat(od," { .").concat(od,' { content: "').concat(B_,'"!important; } }'),function(e){e.className=od})),f8}var V5=xi();function an(e){return typeof e=="number"?"".concat(e,"px"):e}function A4(e,t,i){var a,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(p)return e;var y=Xe(Xe({},l),{},(a={},Fe(a,fu,t),Fe(a,Qo,i),a)),u=Object.keys(y).map(function(M){var S=y[M];return S?"".concat(M,'="').concat(S,'"'):null}).filter(function(M){return M}).join(" ");return"<style ".concat(u,">").concat(e,"</style>")}var $_=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(i?"".concat(i,"-"):"").concat(t).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},nP=function(t,i,a){return Object.keys(t).length?".".concat(i).concat(a!=null&&a.scope?".".concat(a.scope):"","{").concat(Object.entries(t).map(function(l){var p=Tt(l,2),y=p[0],u=p[1];return"".concat(y,":").concat(u,";")}).join(""),"}"):""},j_=function(t,i,a){var l={},p={};return Object.entries(t).forEach(function(y){var u,M,S=Tt(y,2),P=S[0],F=S[1];if(a!=null&&(u=a.preserve)!==null&&u!==void 0&&u[P])p[P]=F;else if((typeof F=="string"||typeof F=="number")&&!(a!=null&&(M=a.ignore)!==null&&M!==void 0&&M[P])){var R,J=$_(P,a==null?void 0:a.prefix);l[J]=typeof F=="number"&&!(a!=null&&(R=a.unitless)!==null&&R!==void 0&&R[P])?"".concat(F,"px"):String(F),p[P]="var(".concat(J,")")}}),[p,nP(l,i,{scope:a==null?void 0:a.scope})]},w7=xi()?H.useLayoutEffect:H.useEffect,Pd=function(t,i){var a=H.useRef(!0);w7(function(){return t(a.current)},i),w7(function(){return a.current=!1,function(){a.current=!0}},[])},S7=function(t,i){Pd(function(a){if(!a)return t()},i)},rP=Xe({},Fs),C7=rP.useInsertionEffect,iP=function(t,i,a){H.useMemo(t,a),Pd(function(){return i(!0)},a)},oP=C7?function(e,t,i){return C7(function(){return e(),t()},i)}:iP,aP=Xe({},Fs),sP=aP.useInsertionEffect,lP=function(t){var i=[],a=!1;function l(p){a||i.push(p)}return H.useEffect(function(){return a=!1,function(){a=!0,i.length&&i.forEach(function(p){return p()})}},t),l},uP=function(){return function(t){t()}},cP=typeof sP<"u"?lP:uP;function R2(e,t,i,a,l){var p=H.useContext(y0),y=p.cache,u=[e].concat(Vt(t)),M=u.join("_"),S=cP([M]),P=function(X){y.update(u,function(G){var K=G||[void 0,void 0],O=Tt(K,2),B=O[0],V=B===void 0?0:B,ne=O[1],he=ne,pe=he||i(),de=[V,pe];return X?X(de):de})};H.useMemo(function(){P()},[M]);var F=y.get(u),R=F[1];return oP(function(){l==null||l(R)},function(J){return P(function(X){var G=Tt(X,2),K=G[0],O=G[1];return J&&K===0&&(l==null||l(R)),[K+1,O]}),function(){y.update(u,function(X){var G=X||[],K=Tt(G,2),O=K[0],B=O===void 0?0:O,V=K[1],ne=B-1;return ne===0?(S(function(){(J||!y.get(u))&&(a==null||a(V,!1))}),null):[B-1,V]})}},[M]),R}var dP={},hP="css",bl=new Map;function pP(e){bl.set(e,(bl.get(e)||0)+1)}function fP(e,t){if(typeof document<"u"){var i=document.querySelectorAll("style[".concat(fu,'="').concat(e,'"]'));i.forEach(function(a){if(a[Es]===t){var l;(l=a.parentNode)===null||l===void 0||l.removeChild(a)}})}}var mP=0;function gP(e,t){bl.set(e,(bl.get(e)||0)-1);var i=Array.from(bl.keys()),a=i.filter(function(l){var p=bl.get(l)||0;return p<=0});i.length-a.length>mP&&a.forEach(function(l){fP(l,t),bl.delete(l)})}var yP=function(t,i,a,l){var p=a.getDerivativeToken(t),y=Xe(Xe({},p),i);return l&&(y=l(y)),y},V_="token";function vP(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=H.useContext(y0),l=a.cache.instanceId,p=a.container,y=i.salt,u=y===void 0?"":y,M=i.override,S=M===void 0?dP:M,P=i.formatToken,F=i.getComputedToken,R=i.cssVar,J=QA(function(){return Object.assign.apply(Object,[{}].concat(Vt(t)))},t),X=id(J),G=id(S),K=R?id(R):"",O=R2(V_,[u,e.id,X,G,K],function(){var B,V=F?F(J,S,e):yP(J,S,e,P),ne=Xe({},V),he="";if(R){var pe=j_(V,R.key,{prefix:R.prefix,ignore:R.ignore,unitless:R.unitless,preserve:R.preserve}),de=Tt(pe,2);V=de[0],he=de[1]}var Se=b7(V,u);V._tokenKey=Se,ne._tokenKey=b7(ne,u);var Te=(B=R==null?void 0:R.key)!==null&&B!==void 0?B:Se;V._themeKey=Te,pP(Te);var Me="".concat(hP,"-").concat(k4(Se));return V._hashId=Me,[V,Me,ne,he,(R==null?void 0:R.key)||""]},function(B){gP(B[0]._themeKey,l)},function(B){var V=Tt(B,4),ne=V[0],he=V[3];if(R&&he){var pe=Ws(he,k4("css-variables-".concat(ne._themeKey)),{mark:Qo,prepend:"queue",attachTo:p,priority:-999});pe[Es]=l,pe.setAttribute(fu,ne._themeKey)}});return O}var _P=function(t,i,a){var l=Tt(t,5),p=l[2],y=l[3],u=l[4],M=a||{},S=M.plain;if(!y)return null;var P=p._tokenKey,F=-999,R={"data-rc-order":"prependQueue","data-rc-priority":"".concat(F)},J=A4(y,u,P,R,S);return[F,P,J]},xP={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},W_="comm",U_="rule",H_="decl",bP="@import",wP="@keyframes",SP="@layer",Z_=Math.abs,z2=String.fromCharCode;function G_(e){return e.trim()}function Up(e,t,i){return e.replace(t,i)}function CP(e,t,i){return e.indexOf(t,i)}function Td(e,t){return e.charCodeAt(t)|0}function Id(e,t,i){return e.slice(t,i)}function Ba(e){return e.length}function MP(e){return e.length}function _p(e,t){return t.push(e),e}var v0=1,mu=1,q_=0,Eo=0,fr=0,Su="";function F2(e,t,i,a,l,p,y,u){return{value:e,root:t,parent:i,type:a,props:l,children:p,line:v0,column:mu,length:y,return:"",siblings:u}}function EP(){return fr}function kP(){return fr=Eo>0?Td(Su,--Eo):0,mu--,fr===10&&(mu=1,v0--),fr}function ea(){return fr=Eo<q_?Td(Su,Eo++):0,mu++,fr===10&&(mu=1,v0++),fr}function Il(){return Td(Su,Eo)}function Hp(){return Eo}function _0(e,t){return Id(Su,e,t)}function W5(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AP(e){return v0=mu=1,q_=Ba(Su=e),Eo=0,[]}function PP(e){return Su="",e}function m8(e){return G_(_0(Eo-1,U5(e===91?e+2:e===40?e+1:e)))}function TP(e){for(;(fr=Il())&&fr<33;)ea();return W5(e)>2||W5(fr)>3?"":" "}function IP(e,t){for(;--t&&ea()&&!(fr<48||fr>102||fr>57&&fr<65||fr>70&&fr<97););return _0(e,Hp()+(t<6&&Il()==32&&ea()==32))}function U5(e){for(;ea();)switch(fr){case e:return Eo;case 34:case 39:e!==34&&e!==39&&U5(fr);break;case 40:e===41&&U5(e);break;case 92:ea();break}return Eo}function LP(e,t){for(;ea()&&e+fr!==47+10;)if(e+fr===42+42&&Il()===47)break;return"/*"+_0(t,Eo-1)+"*"+z2(e===47?e:ea())}function DP(e){for(;!W5(Il());)ea();return _0(e,Eo)}function RP(e){return PP(Zp("",null,null,null,[""],e=AP(e),0,[0],e))}function Zp(e,t,i,a,l,p,y,u,M){for(var S=0,P=0,F=y,R=0,J=0,X=0,G=1,K=1,O=1,B=0,V="",ne=l,he=p,pe=a,de=V;K;)switch(X=B,B=ea()){case 40:if(X!=108&&Td(de,F-1)==58){CP(de+=Up(m8(B),"&","&\f"),"&\f",Z_(S?u[S-1]:0))!=-1&&(O=-1);break}case 34:case 39:case 91:de+=m8(B);break;case 9:case 10:case 13:case 32:de+=TP(X);break;case 92:de+=IP(Hp()-1,7);continue;case 47:switch(Il()){case 42:case 47:_p(zP(LP(ea(),Hp()),t,i,M),M);break;default:de+="/"}break;case 123*G:u[S++]=Ba(de)*O;case 125*G:case 59:case 0:switch(B){case 0:case 125:K=0;case 59+P:O==-1&&(de=Up(de,/\f/g,"")),J>0&&Ba(de)-F&&_p(J>32?E7(de+";",a,i,F-1,M):E7(Up(de," ","")+";",a,i,F-2,M),M);break;case 59:de+=";";default:if(_p(pe=M7(de,t,i,S,P,l,u,V,ne=[],he=[],F,p),p),B===123)if(P===0)Zp(de,t,pe,pe,ne,p,F,u,he);else switch(R===99&&Td(de,3)===110?100:R){case 100:case 108:case 109:case 115:Zp(e,pe,pe,a&&_p(M7(e,pe,pe,0,0,l,u,V,l,ne=[],F,he),he),l,he,F,u,a?ne:he);break;default:Zp(de,pe,pe,pe,[""],he,0,u,he)}}S=P=J=0,G=O=1,V=de="",F=y;break;case 58:F=1+Ba(de),J=X;default:if(G<1){if(B==123)--G;else if(B==125&&G++==0&&kP()==125)continue}switch(de+=z2(B),B*G){case 38:O=P>0?1:(de+="\f",-1);break;case 44:u[S++]=(Ba(de)-1)*O,O=1;break;case 64:Il()===45&&(de+=m8(ea())),R=Il(),P=F=Ba(V=de+=DP(Hp())),B++;break;case 45:X===45&&Ba(de)==2&&(G=0)}}return p}function M7(e,t,i,a,l,p,y,u,M,S,P,F){for(var R=l-1,J=l===0?p:[""],X=MP(J),G=0,K=0,O=0;G<a;++G)for(var B=0,V=Id(e,R+1,R=Z_(K=y[G])),ne=e;B<X;++B)(ne=G_(K>0?J[B]+" "+V:Up(V,/&\f/g,J[B])))&&(M[O++]=ne);return F2(e,t,i,l===0?U_:u,M,S,P,F)}function zP(e,t,i,a){return F2(e,t,i,W_,z2(EP()),Id(e,2,-2),0,a)}function E7(e,t,i,a,l){return F2(e,t,i,H_,Id(e,0,a),Id(e,a+1,-1),a,l)}function H5(e,t){for(var i="",a=0;a<e.length;a++)i+=t(e[a],a,e,t)||"";return i}function FP(e,t,i,a){switch(e.type){case SP:if(e.children.length)break;case bP:case H_:return e.return=e.return||e.value;case W_:return"";case wP:return e.return=e.value+"{"+H5(e.children,a)+"}";case U_:if(!Ba(e.value=e.props.join(",")))return""}return Ba(i=H5(e.children,a))?e.return=e.value+"{"+i+"}":""}var k7="data-ant-cssinjs-cache-path",K_="_FILE_STYLE__",Ll,X_=!0;function NP(){if(!Ll&&(Ll={},xi())){var e=document.createElement("div");e.className=k7,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";t=t.replace(/^"/,"").replace(/"$/,""),t.split(";").forEach(function(l){var p=l.split(":"),y=Tt(p,2),u=y[0],M=y[1];Ll[u]=M});var i=document.querySelector("style[".concat(k7,"]"));if(i){var a;X_=!1,(a=i.parentNode)===null||a===void 0||a.removeChild(i)}document.body.removeChild(e)}}function OP(e){return NP(),!!Ll[e]}function BP(e){var t=Ll[e],i=null;if(t&&xi())if(X_)i=K_;else{var a=document.querySelector("style[".concat(Qo,'="').concat(Ll[e],'"]'));a?i=a.innerHTML:delete Ll[e]}return[i,t]}var $P="_skip_check_",J_="_multi_value_";function Z5(e){var t=H5(RP(e),FP);return t.replace(/\{%%%\:[^;];}/g,";")}function jP(e){return Sn(e)==="object"&&e&&($P in e||J_ in e)}function VP(e,t,i){if(!t)return e;var a=".".concat(t),l=i==="low"?":where(".concat(a,")"):a,p=e.split(",").map(function(y){var u,M=y.trim().split(/\s+/),S=M[0]||"",P=((u=S.match(/^\w+/))===null||u===void 0?void 0:u[0])||"";return S="".concat(P).concat(l).concat(S.slice(P.length)),[S].concat(Vt(M.slice(1))).join(" ")});return p.join(",")}var WP=function e(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},l=a.root,p=a.injectHash,y=a.parentSelectors,u=i.hashId,M=i.layer;i.path;var S=i.hashPriority,P=i.transformers,F=P===void 0?[]:P;i.linters;var R="",J={};function X(V){var ne=V.getName(u);if(!J[ne]){var he=e(V.style,i,{root:!1,parentSelectors:y}),pe=Tt(he,1),de=pe[0];J[ne]="@keyframes ".concat(V.getName(u)).concat(de)}}function G(V){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return V.forEach(function(he){Array.isArray(he)?G(he,ne):he&&ne.push(he)}),ne}var K=G(Array.isArray(t)?t:[t]);if(K.forEach(function(V){var ne=typeof V=="string"&&!l?{}:V;if(typeof ne=="string")R+="".concat(ne,`
`);else if(ne._keyframe)X(ne);else{var he=F.reduce(function(pe,de){var Se;return(de==null||(Se=de.visit)===null||Se===void 0?void 0:Se.call(de,pe))||pe},ne);Object.keys(he).forEach(function(pe){var de=he[pe];if(Sn(de)==="object"&&de&&(pe!=="animationName"||!de._keyframe)&&!jP(de)){var Se=!1,Te=pe.trim(),Me=!1;(l||p)&&u?Te.startsWith("@")?Se=!0:Te=VP(pe,u,S):l&&!u&&(Te==="&"||Te==="")&&(Te="",Me=!0);var Be=e(de,i,{root:Me,injectHash:Se,parentSelectors:[].concat(Vt(y),[Te])}),He=Tt(Be,2),We=He[0],qe=He[1];J=Xe(Xe({},J),qe),R+="".concat(Te).concat(We)}else{let Ie=function(we,Re){var Ve=we.replace(/[A-Z]/g,function(at){return"-".concat(at.toLowerCase())}),Ze=Re;!xP[we]&&typeof Ze=="number"&&Ze!==0&&(Ze="".concat(Ze,"px")),we==="animationName"&&Re!==null&&Re!==void 0&&Re._keyframe&&(X(Re),Ze=Re.getName(u)),R+="".concat(Ve,":").concat(Ze,";")};var Je,Le=(Je=de==null?void 0:de.value)!==null&&Je!==void 0?Je:de;Sn(de)==="object"&&de!==null&&de!==void 0&&de[J_]&&Array.isArray(Le)?Le.forEach(function(we){Ie(pe,we)}):Ie(pe,Le)}})}}),!l)R="{".concat(R,"}");else if(M&&tP()){var O=M.split(","),B=O[O.length-1].trim();R="@layer ".concat(B," {").concat(R,"}"),O.length>1&&(R="@layer ".concat(M,"{%%%:%}").concat(R))}return[R,J]};function Y_(e,t){return k4("".concat(e.join("%")).concat(t))}function UP(){return null}var Q_="style";function G5(e,t){var i=e.token,a=e.path,l=e.hashId,p=e.layer,y=e.nonce,u=e.clientOnly,M=e.order,S=M===void 0?0:M,P=H.useContext(y0),F=P.autoClear;P.mock;var R=P.defaultCache,J=P.hashPriority,X=P.container,G=P.ssrInline,K=P.transformers,O=P.linters,B=P.cache,V=i._tokenKey,ne=[V].concat(Vt(a)),he=V5,pe=R2(Q_,ne,function(){var Be=ne.join("|");if(OP(Be)){var He=BP(Be),We=Tt(He,2),qe=We[0],Je=We[1];if(qe)return[qe,V,Je,{},u,S]}var Le=t(),Ie=WP(Le,{hashId:l,hashPriority:J,layer:p,path:a.join("-"),transformers:K,linters:O}),we=Tt(Ie,2),Re=we[0],Ve=we[1],Ze=Z5(Re),at=Y_(ne,Ze);return[Ze,V,at,Ve,u,S]},function(Be,He){var We=Tt(Be,3),qe=We[2];(He||F)&&V5&&Ad(qe,{mark:Qo})},function(Be){var He=Tt(Be,4),We=He[0];He[1];var qe=He[2],Je=He[3];if(he&&We!==K_){var Le={mark:Qo,prepend:"queue",attachTo:X,priority:S},Ie=typeof y=="function"?y():y;Ie&&(Le.csp={nonce:Ie});var we=Ws(We,qe,Le);we[Es]=B.instanceId,we.setAttribute(fu,V),Object.keys(Je).forEach(function(Re){Ws(Z5(Je[Re]),"_effect-".concat(Re),Le)})}}),de=Tt(pe,3),Se=de[0],Te=de[1],Me=de[2];return function(Be){var He;if(!G||he||!R)He=H.createElement(UP,null);else{var We;He=H.createElement("style",zr({},(We={},Fe(We,fu,Te),Fe(We,Qo,Me),We),{dangerouslySetInnerHTML:{__html:Se}}))}return H.createElement(H.Fragment,null,He,Be)}}var HP=function(t,i,a){var l=Tt(t,6),p=l[0],y=l[1],u=l[2],M=l[3],S=l[4],P=l[5],F=a||{},R=F.plain;if(S)return null;var J=p,X={"data-rc-order":"prependQueue","data-rc-priority":"".concat(P)};return J=A4(p,y,u,X,R),M&&Object.keys(M).forEach(function(G){if(!i[G]){i[G]=!0;var K=Z5(M[G]);J+=A4(K,y,"_effect-".concat(G),X,R)}}),[P,u,J]},ex="cssVar",ZP=function(t,i){var a=t.key,l=t.prefix,p=t.unitless,y=t.ignore,u=t.token,M=t.scope,S=M===void 0?"":M,P=H.useContext(y0),F=P.cache.instanceId,R=P.container,J=u._tokenKey,X=[].concat(Vt(t.path),[a,S,J]),G=R2(ex,X,function(){var K=i(),O=j_(K,a,{prefix:l,unitless:p,ignore:y,scope:S}),B=Tt(O,2),V=B[0],ne=B[1],he=Y_(X,ne);return[V,ne,he,a]},function(K){var O=Tt(K,3),B=O[2];V5&&Ad(B,{mark:Qo})},function(K){var O=Tt(K,3),B=O[1],V=O[2];if(B){var ne=Ws(B,V,{mark:Qo,prepend:"queue",attachTo:R,priority:-999});ne[Es]=F,ne.setAttribute(fu,a)}});return G},GP=function(t,i,a){var l=Tt(t,4),p=l[1],y=l[2],u=l[3],M=a||{},S=M.plain;if(!p)return null;var P=-999,F={"data-rc-order":"prependQueue","data-rc-priority":"".concat(P)},R=A4(p,u,y,F,S);return[P,y,R]},$c;$c={},Fe($c,Q_,HP),Fe($c,V_,_P),Fe($c,ex,GP);var ji=function(){function e(t,i){Ao(this,e),Fe(this,"name",void 0),Fe(this,"style",void 0),Fe(this,"_keyframe",!0),this.name=t,this.style=i}return Po(e,[{key:"getName",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return i?"".concat(i,"-").concat(this.name):this.name}}]),e}();function L1(e){return e.notSplit=!0,e}L1(["borderTop","borderBottom"]),L1(["borderTop"]),L1(["borderBottom"]),L1(["borderLeft","borderRight"]),L1(["borderLeft"]),L1(["borderRight"]);var qP=H.createContext({});const N2=qP;function KP(e){return I_(e)||k_(e)||I2(e)||L_()}function ga(e,t){for(var i=e,a=0;a<t.length;a+=1){if(i==null)return;i=i[t[a]]}return i}function tx(e,t,i,a){if(!t.length)return i;var l=KP(t),p=l[0],y=l.slice(1),u;return!e&&typeof p=="number"?u=[]:Array.isArray(e)?u=Vt(e):u=Xe({},e),a&&i===void 0&&y.length===1?delete u[p][y[0]]:u[p]=tx(u[p],y,i,a),u}function Zo(e,t,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return t.length&&a&&i===void 0&&!ga(e,t.slice(0,-1))?e:tx(e,t,i,a)}function XP(e){return Sn(e)==="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}function A7(e){return Array.isArray(e)?[]:{}}var JP=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function q1(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=A7(t[0]);return t.forEach(function(l){function p(y,u){var M=new Set(u),S=ga(l,y),P=Array.isArray(S);if(P||XP(S)){if(!M.has(S)){M.add(S);var F=ga(a,y);P?a=Zo(a,y,[]):(!F||Sn(F)!=="object")&&(a=Zo(a,y,A7(S))),JP(S).forEach(function(R){p([].concat(Vt(y),[R]),M)})}}else a=Zo(a,y,S)}p([])}),a}const YP=H.createContext({}),QP=H.createContext(void 0);var eT={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},tT={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};const nT={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},nx=nT,rT={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},tT),timePickerLocale:Object.assign({},nx)},P7=rT,Gi="${label} is not a valid ${type}",iT={locale:"en",Pagination:eT,DatePicker:P7,TimePicker:nx,Calendar:P7,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Gi,method:Gi,array:Gi,object:Gi,number:Gi,date:Gi,boolean:Gi,integer:Gi,float:Gi,regexp:Gi,email:Gi,url:Gi,hex:Gi},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty"}},gu=iT;let Gp=Object.assign({},gu.Modal),qp=[];const T7=()=>qp.reduce((e,t)=>Object.assign(Object.assign({},e),t),gu.Modal);function oT(e){if(e){const t=Object.assign({},e);return qp.push(t),Gp=T7(),()=>{qp=qp.filter(i=>i!==t),Gp=T7()}}Gp=Object.assign({},gu.Modal)}function aT(){return Gp}const sT=H.createContext(void 0),O2=sT,lT=(e,t)=>{const i=H.useContext(O2),a=H.useMemo(()=>{var p;const y=t||gu[e],u=(p=i==null?void 0:i[e])!==null&&p!==void 0?p:{};return Object.assign(Object.assign({},typeof y=="function"?y():y),u||{})},[e,t,i]),l=H.useMemo(()=>{const p=i==null?void 0:i.locale;return i!=null&&i.exist&&!p?gu.locale:p},[i]);return[a,l]},uT=lT,cT="internalMark",dT=e=>{const{locale:t={},children:i,_ANT_MARK__:a}=e;H.useEffect(()=>oT(t&&t.Modal),[t]);const l=H.useMemo(()=>Object.assign(Object.assign({},t),{exist:!0}),[t]);return H.createElement(O2.Provider,{value:l},i)},hT=dT;function Zr(e,t){pT(e)&&(e="100%");var i=fT(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function xp(e){return Math.min(1,Math.max(0,e))}function pT(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function fT(e){return typeof e=="string"&&e.indexOf("%")!==-1}function rx(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function bp(e){return e<=1?"".concat(Number(e)*100,"%"):e}function Ml(e){return e.length===1?"0"+e:String(e)}function mT(e,t,i){return{r:Zr(e,255)*255,g:Zr(t,255)*255,b:Zr(i,255)*255}}function I7(e,t,i){e=Zr(e,255),t=Zr(t,255),i=Zr(i,255);var a=Math.max(e,t,i),l=Math.min(e,t,i),p=0,y=0,u=(a+l)/2;if(a===l)y=0,p=0;else{var M=a-l;switch(y=u>.5?M/(2-a-l):M/(a+l),a){case e:p=(t-i)/M+(t<i?6:0);break;case t:p=(i-e)/M+2;break;case i:p=(e-t)/M+4;break}p/=6}return{h:p,s:y,l:u}}function g8(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*(6*i):i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function gT(e,t,i){var a,l,p;if(e=Zr(e,360),t=Zr(t,100),i=Zr(i,100),t===0)l=i,p=i,a=i;else{var y=i<.5?i*(1+t):i+t-i*t,u=2*i-y;a=g8(u,y,e+1/3),l=g8(u,y,e),p=g8(u,y,e-1/3)}return{r:a*255,g:l*255,b:p*255}}function q5(e,t,i){e=Zr(e,255),t=Zr(t,255),i=Zr(i,255);var a=Math.max(e,t,i),l=Math.min(e,t,i),p=0,y=a,u=a-l,M=a===0?0:u/a;if(a===l)p=0;else{switch(a){case e:p=(t-i)/u+(t<i?6:0);break;case t:p=(i-e)/u+2;break;case i:p=(e-t)/u+4;break}p/=6}return{h:p,s:M,v:y}}function yT(e,t,i){e=Zr(e,360)*6,t=Zr(t,100),i=Zr(i,100);var a=Math.floor(e),l=e-a,p=i*(1-t),y=i*(1-l*t),u=i*(1-(1-l)*t),M=a%6,S=[i,y,p,p,u,i][M],P=[u,i,i,y,p,p][M],F=[p,p,u,i,i,y][M];return{r:S*255,g:P*255,b:F*255}}function K5(e,t,i,a){var l=[Ml(Math.round(e).toString(16)),Ml(Math.round(t).toString(16)),Ml(Math.round(i).toString(16))];return a&&l[0].startsWith(l[0].charAt(1))&&l[1].startsWith(l[1].charAt(1))&&l[2].startsWith(l[2].charAt(1))?l[0].charAt(0)+l[1].charAt(0)+l[2].charAt(0):l.join("")}function vT(e,t,i,a,l){var p=[Ml(Math.round(e).toString(16)),Ml(Math.round(t).toString(16)),Ml(Math.round(i).toString(16)),Ml(_T(a))];return l&&p[0].startsWith(p[0].charAt(1))&&p[1].startsWith(p[1].charAt(1))&&p[2].startsWith(p[2].charAt(1))&&p[3].startsWith(p[3].charAt(1))?p[0].charAt(0)+p[1].charAt(0)+p[2].charAt(0)+p[3].charAt(0):p.join("")}function _T(e){return Math.round(parseFloat(e)*255).toString(16)}function L7(e){return Ki(e)/255}function Ki(e){return parseInt(e,16)}function xT(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var X5={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function z1(e){var t={r:0,g:0,b:0},i=1,a=null,l=null,p=null,y=!1,u=!1;return typeof e=="string"&&(e=ST(e)),typeof e=="object"&&(za(e.r)&&za(e.g)&&za(e.b)?(t=mT(e.r,e.g,e.b),y=!0,u=String(e.r).substr(-1)==="%"?"prgb":"rgb"):za(e.h)&&za(e.s)&&za(e.v)?(a=bp(e.s),l=bp(e.v),t=yT(e.h,a,l),y=!0,u="hsv"):za(e.h)&&za(e.s)&&za(e.l)&&(a=bp(e.s),p=bp(e.l),t=gT(e.h,a,p),y=!0,u="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(i=e.a)),i=rx(i),{ok:y,format:e.format||u,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:i}}var bT="[-\\+]?\\d+%?",wT="[-\\+]?\\d*\\.\\d+%?",ks="(?:".concat(wT,")|(?:").concat(bT,")"),y8="[\\s|\\(]+(".concat(ks,")[,|\\s]+(").concat(ks,")[,|\\s]+(").concat(ks,")\\s*\\)?"),v8="[\\s|\\(]+(".concat(ks,")[,|\\s]+(").concat(ks,")[,|\\s]+(").concat(ks,")[,|\\s]+(").concat(ks,")\\s*\\)?"),Wo={CSS_UNIT:new RegExp(ks),rgb:new RegExp("rgb"+y8),rgba:new RegExp("rgba"+v8),hsl:new RegExp("hsl"+y8),hsla:new RegExp("hsla"+v8),hsv:new RegExp("hsv"+y8),hsva:new RegExp("hsva"+v8),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ST(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(X5[e])e=X5[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i=Wo.rgb.exec(e);return i?{r:i[1],g:i[2],b:i[3]}:(i=Wo.rgba.exec(e),i?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=Wo.hsl.exec(e),i?{h:i[1],s:i[2],l:i[3]}:(i=Wo.hsla.exec(e),i?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=Wo.hsv.exec(e),i?{h:i[1],s:i[2],v:i[3]}:(i=Wo.hsva.exec(e),i?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=Wo.hex8.exec(e),i?{r:Ki(i[1]),g:Ki(i[2]),b:Ki(i[3]),a:L7(i[4]),format:t?"name":"hex8"}:(i=Wo.hex6.exec(e),i?{r:Ki(i[1]),g:Ki(i[2]),b:Ki(i[3]),format:t?"name":"hex"}:(i=Wo.hex4.exec(e),i?{r:Ki(i[1]+i[1]),g:Ki(i[2]+i[2]),b:Ki(i[3]+i[3]),a:L7(i[4]+i[4]),format:t?"name":"hex8"}:(i=Wo.hex3.exec(e),i?{r:Ki(i[1]+i[1]),g:Ki(i[2]+i[2]),b:Ki(i[3]+i[3]),format:t?"name":"hex"}:!1)))))))))}function za(e){return!!Wo.CSS_UNIT.exec(String(e))}var eo=function(){function e(t,i){t===void 0&&(t=""),i===void 0&&(i={});var a;if(t instanceof e)return t;typeof t=="number"&&(t=xT(t)),this.originalInput=t;var l=z1(t);this.originalInput=t,this.r=l.r,this.g=l.g,this.b=l.b,this.a=l.a,this.roundA=Math.round(100*this.a)/100,this.format=(a=i.format)!==null&&a!==void 0?a:l.format,this.gradientType=i.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=l.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),i,a,l,p=t.r/255,y=t.g/255,u=t.b/255;return p<=.03928?i=p/12.92:i=Math.pow((p+.055)/1.055,2.4),y<=.03928?a=y/12.92:a=Math.pow((y+.055)/1.055,2.4),u<=.03928?l=u/12.92:l=Math.pow((u+.055)/1.055,2.4),.2126*i+.7152*a+.0722*l},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=rx(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=q5(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=q5(this.r,this.g,this.b),i=Math.round(t.h*360),a=Math.round(t.s*100),l=Math.round(t.v*100);return this.a===1?"hsv(".concat(i,", ").concat(a,"%, ").concat(l,"%)"):"hsva(".concat(i,", ").concat(a,"%, ").concat(l,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=I7(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=I7(this.r,this.g,this.b),i=Math.round(t.h*360),a=Math.round(t.s*100),l=Math.round(t.l*100);return this.a===1?"hsl(".concat(i,", ").concat(a,"%, ").concat(l,"%)"):"hsla(".concat(i,", ").concat(a,"%, ").concat(l,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),K5(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),vT(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),i=Math.round(this.g),a=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(i,", ").concat(a,")"):"rgba(".concat(t,", ").concat(i,", ").concat(a,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(i){return"".concat(Math.round(Zr(i,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(i){return Math.round(Zr(i,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+K5(this.r,this.g,this.b,!1),i=0,a=Object.entries(X5);i<a.length;i++){var l=a[i],p=l[0],y=l[1];if(t===y)return p}return!1},e.prototype.toString=function(t){var i=!!t;t=t??this.format;var a=!1,l=this.a<1&&this.a>=0,p=!i&&l&&(t.startsWith("hex")||t==="name");return p?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(a=this.toRgbString()),t==="prgb"&&(a=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(a=this.toHexString()),t==="hex3"&&(a=this.toHexString(!0)),t==="hex4"&&(a=this.toHex8String(!0)),t==="hex8"&&(a=this.toHex8String()),t==="name"&&(a=this.toName()),t==="hsl"&&(a=this.toHslString()),t==="hsv"&&(a=this.toHsvString()),a||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var i=this.toHsl();return i.l+=t/100,i.l=xp(i.l),new e(i)},e.prototype.brighten=function(t){t===void 0&&(t=10);var i=this.toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(t/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(t/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(t/100)))),new e(i)},e.prototype.darken=function(t){t===void 0&&(t=10);var i=this.toHsl();return i.l-=t/100,i.l=xp(i.l),new e(i)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var i=this.toHsl();return i.s-=t/100,i.s=xp(i.s),new e(i)},e.prototype.saturate=function(t){t===void 0&&(t=10);var i=this.toHsl();return i.s+=t/100,i.s=xp(i.s),new e(i)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var i=this.toHsl(),a=(i.h+t)%360;return i.h=a<0?360+a:a,new e(i)},e.prototype.mix=function(t,i){i===void 0&&(i=50);var a=this.toRgb(),l=new e(t).toRgb(),p=i/100,y={r:(l.r-a.r)*p+a.r,g:(l.g-a.g)*p+a.g,b:(l.b-a.b)*p+a.b,a:(l.a-a.a)*p+a.a};return new e(y)},e.prototype.analogous=function(t,i){t===void 0&&(t=6),i===void 0&&(i=30);var a=this.toHsl(),l=360/i,p=[this];for(a.h=(a.h-(l*t>>1)+720)%360;--t;)a.h=(a.h+l)%360,p.push(new e(a));return p},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var i=this.toHsv(),a=i.h,l=i.s,p=i.v,y=[],u=1/t;t--;)y.push(new e({h:a,s:l,v:p})),p=(p+u)%1;return y},e.prototype.splitcomplement=function(){var t=this.toHsl(),i=t.h;return[this,new e({h:(i+72)%360,s:t.s,l:t.l}),new e({h:(i+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var i=this.toRgb(),a=new e(t).toRgb(),l=i.a+a.a*(1-i.a);return new e({r:(i.r*i.a+a.r*a.a*(1-i.a))/l,g:(i.g*i.a+a.g*a.a*(1-i.a))/l,b:(i.b*i.a+a.b*a.a*(1-i.a))/l,a:l})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var i=this.toHsl(),a=i.h,l=[this],p=360/t,y=1;y<t;y++)l.push(new e({h:(a+y*p)%360,s:i.s,l:i.l}));return l},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}(),wp=2,D7=.16,CT=.05,MT=.05,ET=.15,ix=5,ox=4,kT=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function R7(e){var t=e.r,i=e.g,a=e.b,l=q5(t,i,a);return{h:l.h*360,s:l.s,v:l.v}}function Sp(e){var t=e.r,i=e.g,a=e.b;return"#".concat(K5(t,i,a,!1))}function AT(e,t,i){var a=i/100,l={r:(t.r-e.r)*a+e.r,g:(t.g-e.g)*a+e.g,b:(t.b-e.b)*a+e.b};return l}function z7(e,t,i){var a;return Math.round(e.h)>=60&&Math.round(e.h)<=240?a=i?Math.round(e.h)-wp*t:Math.round(e.h)+wp*t:a=i?Math.round(e.h)+wp*t:Math.round(e.h)-wp*t,a<0?a+=360:a>=360&&(a-=360),a}function F7(e,t,i){if(e.h===0&&e.s===0)return e.s;var a;return i?a=e.s-D7*t:t===ox?a=e.s+D7:a=e.s+CT*t,a>1&&(a=1),i&&t===ix&&a>.1&&(a=.1),a<.06&&(a=.06),Number(a.toFixed(2))}function N7(e,t,i){var a;return i?a=e.v+MT*t:a=e.v-ET*t,a>1&&(a=1),Number(a.toFixed(2))}function $l(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=[],a=z1(e),l=ix;l>0;l-=1){var p=R7(a),y=Sp(z1({h:z7(p,l,!0),s:F7(p,l,!0),v:N7(p,l,!0)}));i.push(y)}i.push(Sp(a));for(var u=1;u<=ox;u+=1){var M=R7(a),S=Sp(z1({h:z7(M,u),s:F7(M,u),v:N7(M,u)}));i.push(S)}return t.theme==="dark"?kT.map(function(P){var F=P.index,R=P.opacity,J=Sp(AT(z1(t.backgroundColor||"#141414"),z1(i[F]),R*100));return J}):i}var _8={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Kp={},x8={};Object.keys(_8).forEach(function(e){Kp[e]=$l(_8[e]),Kp[e].primary=Kp[e][5],x8[e]=$l(_8[e],{theme:"dark",backgroundColor:"#141414"}),x8[e].primary=x8[e][5]});var PT=Kp.blue;const TT=e=>{const{controlHeight:t}=e;return{controlHeightSM:t*.75,controlHeightXS:t*.5,controlHeightLG:t*1.25}},IT=TT;function LT(e){const{sizeUnit:t,sizeStep:i}=e;return{sizeXXL:t*(i+8),sizeXL:t*(i+4),sizeLG:t*(i+2),sizeMD:t*(i+1),sizeMS:t*i,size:t*i,sizeSM:t*(i-1),sizeXS:t*(i-2),sizeXXS:t*(i-3)}}const ax={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},DT=Object.assign(Object.assign({},ax),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),Ld=DT;function RT(e,t){let{generateColorPalettes:i,generateNeutralColorPalettes:a}=t;const{colorSuccess:l,colorWarning:p,colorError:y,colorInfo:u,colorPrimary:M,colorBgBase:S,colorTextBase:P}=e,F=i(M),R=i(l),J=i(p),X=i(y),G=i(u),K=a(S,P),O=e.colorLink||e.colorInfo,B=i(O);return Object.assign(Object.assign({},K),{colorPrimaryBg:F[1],colorPrimaryBgHover:F[2],colorPrimaryBorder:F[3],colorPrimaryBorderHover:F[4],colorPrimaryHover:F[5],colorPrimary:F[6],colorPrimaryActive:F[7],colorPrimaryTextHover:F[8],colorPrimaryText:F[9],colorPrimaryTextActive:F[10],colorSuccessBg:R[1],colorSuccessBgHover:R[2],colorSuccessBorder:R[3],colorSuccessBorderHover:R[4],colorSuccessHover:R[4],colorSuccess:R[6],colorSuccessActive:R[7],colorSuccessTextHover:R[8],colorSuccessText:R[9],colorSuccessTextActive:R[10],colorErrorBg:X[1],colorErrorBgHover:X[2],colorErrorBorder:X[3],colorErrorBorderHover:X[4],colorErrorHover:X[5],colorError:X[6],colorErrorActive:X[7],colorErrorTextHover:X[8],colorErrorText:X[9],colorErrorTextActive:X[10],colorWarningBg:J[1],colorWarningBgHover:J[2],colorWarningBorder:J[3],colorWarningBorderHover:J[4],colorWarningHover:J[4],colorWarning:J[6],colorWarningActive:J[7],colorWarningTextHover:J[8],colorWarningText:J[9],colorWarningTextActive:J[10],colorInfoBg:G[1],colorInfoBgHover:G[2],colorInfoBorder:G[3],colorInfoBorderHover:G[4],colorInfoHover:G[4],colorInfo:G[6],colorInfoActive:G[7],colorInfoTextHover:G[8],colorInfoText:G[9],colorInfoTextActive:G[10],colorLinkHover:B[4],colorLink:B[6],colorLinkActive:B[7],colorBgMask:new eo("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const zT=e=>{let t=e,i=e,a=e,l=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?i=4:e<8&&e>=7?i=5:e<14&&e>=8?i=6:e<16&&e>=14?i=7:e>=16&&(i=8),e<6&&e>=2?a=1:e>=6&&(a=2),e>4&&e<8?l=4:e>=8&&(l=6),{borderRadius:e,borderRadiusXS:a,borderRadiusSM:i,borderRadiusLG:t,borderRadiusOuter:l}},FT=zT;function NT(e){const{motionUnit:t,motionBase:i,borderRadius:a,lineWidth:l}=e;return Object.assign({motionDurationFast:`${(i+t).toFixed(1)}s`,motionDurationMid:`${(i+t*2).toFixed(1)}s`,motionDurationSlow:`${(i+t*3).toFixed(1)}s`,lineWidthBold:l+1},FT(a))}const Fa=(e,t)=>new eo(e).setAlpha(t).toRgbString(),jc=(e,t)=>new eo(e).darken(t).toHexString(),OT=e=>{const t=$l(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},BT=(e,t)=>{const i=e||"#fff",a=t||"#000";return{colorBgBase:i,colorTextBase:a,colorText:Fa(a,.88),colorTextSecondary:Fa(a,.65),colorTextTertiary:Fa(a,.45),colorTextQuaternary:Fa(a,.25),colorFill:Fa(a,.15),colorFillSecondary:Fa(a,.06),colorFillTertiary:Fa(a,.04),colorFillQuaternary:Fa(a,.02),colorBgLayout:jc(i,4),colorBgContainer:jc(i,0),colorBgElevated:jc(i,0),colorBgSpotlight:Fa(a,.85),colorBgBlur:"transparent",colorBorder:jc(i,15),colorBorderSecondary:jc(i,6)}};function Xp(e){return(e+8)/e}function $T(e){const t=new Array(10).fill(null).map((i,a)=>{const l=a-1,p=e*Math.pow(2.71828,l/5),y=a>1?Math.floor(p):Math.ceil(p);return Math.floor(y/2)*2});return t[1]=e,t.map(i=>({size:i,lineHeight:Xp(i)}))}const jT=e=>{const t=$T(e),i=t.map(P=>P.size),a=t.map(P=>P.lineHeight),l=i[1],p=i[0],y=i[2],u=a[1],M=a[0],S=a[2];return{fontSizeSM:p,fontSize:l,fontSizeLG:y,fontSizeXL:i[3],fontSizeHeading1:i[6],fontSizeHeading2:i[5],fontSizeHeading3:i[4],fontSizeHeading4:i[3],fontSizeHeading5:i[2],lineHeight:u,lineHeightLG:S,lineHeightSM:M,fontHeight:Math.round(u*l),fontHeightLG:Math.round(S*y),fontHeightSM:Math.round(M*p),lineHeightHeading1:a[6],lineHeightHeading2:a[5],lineHeightHeading3:a[4],lineHeightHeading4:a[3],lineHeightHeading5:a[2]}},VT=jT;function WT(e){const t=Object.keys(ax).map(i=>{const a=$l(e[i]);return new Array(10).fill(1).reduce((l,p,y)=>(l[`${i}-${y+1}`]=a[y],l[`${i}${y+1}`]=a[y],l),{})}).reduce((i,a)=>(i=Object.assign(Object.assign({},i),a),i),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),RT(e,{generateColorPalettes:OT,generateNeutralColorPalettes:BT})),VT(e.fontSize)),LT(e)),IT(e)),NT(e))}const sx=j5(WT),lx={token:Ld,override:{override:Ld},hashed:!0},ux=Ct.createContext(lx),cx="anticon",UT=(e,t)=>t||(e?`ant-${e}`:"ant"),To=H.createContext({getPrefixCls:UT,iconPrefixCls:cx}),HT=`-ant-${Date.now()}-${Math.random()}`;function ZT(e,t){const i={},a=(y,u)=>{let M=y.clone();return M=(u==null?void 0:u(M))||M,M.toRgbString()},l=(y,u)=>{const M=new eo(y),S=$l(M.toRgbString());i[`${u}-color`]=a(M),i[`${u}-color-disabled`]=S[1],i[`${u}-color-hover`]=S[4],i[`${u}-color-active`]=S[6],i[`${u}-color-outline`]=M.clone().setAlpha(.2).toRgbString(),i[`${u}-color-deprecated-bg`]=S[0],i[`${u}-color-deprecated-border`]=S[2]};if(t.primaryColor){l(t.primaryColor,"primary");const y=new eo(t.primaryColor),u=$l(y.toRgbString());u.forEach((S,P)=>{i[`primary-${P+1}`]=S}),i["primary-color-deprecated-l-35"]=a(y,S=>S.lighten(35)),i["primary-color-deprecated-l-20"]=a(y,S=>S.lighten(20)),i["primary-color-deprecated-t-20"]=a(y,S=>S.tint(20)),i["primary-color-deprecated-t-50"]=a(y,S=>S.tint(50)),i["primary-color-deprecated-f-12"]=a(y,S=>S.setAlpha(S.getAlpha()*.12));const M=new eo(u[0]);i["primary-color-active-deprecated-f-30"]=a(M,S=>S.setAlpha(S.getAlpha()*.3)),i["primary-color-active-deprecated-d-02"]=a(M,S=>S.darken(2))}return t.successColor&&l(t.successColor,"success"),t.warningColor&&l(t.warningColor,"warning"),t.errorColor&&l(t.errorColor,"error"),t.infoColor&&l(t.infoColor,"info"),`
  :root {
    ${Object.keys(i).map(y=>`--${e}-${y}: ${i[y]};`).join(`
`)}
  }
  `.trim()}function GT(e,t){const i=ZT(e,t);xi()&&Ws(i,`${HT}-dynamic-theme`)}const J5=H.createContext(!1),dx=e=>{let{children:t,disabled:i}=e;const a=H.useContext(J5);return H.createElement(J5.Provider,{value:i??a},t)},B2=J5,Y5=H.createContext(void 0),qT=e=>{let{children:t,size:i}=e;const a=H.useContext(Y5);return H.createElement(Y5.Provider,{value:i||a},t)},x0=Y5;function KT(){const e=H.useContext(B2),t=H.useContext(x0);return{componentDisabled:e,componentSize:t}}const XT="5.13.0";function b8(e){return e>=0&&e<=255}function Cp(e,t){const{r:i,g:a,b:l,a:p}=new eo(e).toRgb();if(p<1)return e;const{r:y,g:u,b:M}=new eo(t).toRgb();for(let S=.01;S<=1;S+=.01){const P=Math.round((i-y*(1-S))/S),F=Math.round((a-u*(1-S))/S),R=Math.round((l-M*(1-S))/S);if(b8(P)&&b8(F)&&b8(R))return new eo({r:P,g:F,b:R,a:Math.round(S*100)/100}).toRgbString()}return new eo({r:i,g:a,b:l,a:1}).toRgbString()}var JT=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(i[a[l]]=e[a[l]]);return i};function hx(e){const{override:t}=e,i=JT(e,["override"]),a=Object.assign({},t);Object.keys(Ld).forEach(R=>{delete a[R]});const l=Object.assign(Object.assign({},i),a),p=480,y=576,u=768,M=992,S=1200,P=1600;if(l.motion===!1){const R="0s";l.motionDurationFast=R,l.motionDurationMid=R,l.motionDurationSlow=R}return Object.assign(Object.assign(Object.assign({},l),{colorFillContent:l.colorFillSecondary,colorFillContentHover:l.colorFill,colorFillAlter:l.colorFillQuaternary,colorBgContainerDisabled:l.colorFillTertiary,colorBorderBg:l.colorBgContainer,colorSplit:Cp(l.colorBorderSecondary,l.colorBgContainer),colorTextPlaceholder:l.colorTextQuaternary,colorTextDisabled:l.colorTextQuaternary,colorTextHeading:l.colorText,colorTextLabel:l.colorTextSecondary,colorTextDescription:l.colorTextTertiary,colorTextLightSolid:l.colorWhite,colorHighlight:l.colorError,colorBgTextHover:l.colorFillSecondary,colorBgTextActive:l.colorFill,colorIcon:l.colorTextTertiary,colorIconHover:l.colorText,colorErrorOutline:Cp(l.colorErrorBg,l.colorBgContainer),colorWarningOutline:Cp(l.colorWarningBg,l.colorBgContainer),fontSizeIcon:l.fontSizeSM,lineWidthFocus:l.lineWidth*4,lineWidth:l.lineWidth,controlOutlineWidth:l.lineWidth*2,controlInteractiveSize:l.controlHeight/2,controlItemBgHover:l.colorFillTertiary,controlItemBgActive:l.colorPrimaryBg,controlItemBgActiveHover:l.colorPrimaryBgHover,controlItemBgActiveDisabled:l.colorFill,controlTmpOutline:l.colorFillQuaternary,controlOutline:Cp(l.colorPrimaryBg,l.colorBgContainer),lineType:l.lineType,borderRadius:l.borderRadius,borderRadiusXS:l.borderRadiusXS,borderRadiusSM:l.borderRadiusSM,borderRadiusLG:l.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:l.sizeXXS,paddingXS:l.sizeXS,paddingSM:l.sizeSM,padding:l.size,paddingMD:l.sizeMD,paddingLG:l.sizeLG,paddingXL:l.sizeXL,paddingContentHorizontalLG:l.sizeLG,paddingContentVerticalLG:l.sizeMS,paddingContentHorizontal:l.sizeMS,paddingContentVertical:l.sizeSM,paddingContentHorizontalSM:l.size,paddingContentVerticalSM:l.sizeXS,marginXXS:l.sizeXXS,marginXS:l.sizeXS,marginSM:l.sizeSM,margin:l.size,marginMD:l.sizeMD,marginLG:l.sizeLG,marginXL:l.sizeXL,marginXXL:l.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:p,screenXSMin:p,screenXSMax:y-1,screenSM:y,screenSMMin:y,screenSMMax:u-1,screenMD:u,screenMDMin:u,screenMDMax:M-1,screenLG:M,screenLGMin:M,screenLGMax:S-1,screenXL:S,screenXLMin:S,screenXLMax:P-1,screenXXL:P,screenXXLMin:P,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new eo("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new eo("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new eo("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),a)}var O7=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(i[a[l]]=e[a[l]]);return i};const px={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0},fx={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},YT={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},mx=(e,t,i)=>{const a=i.getDerivativeToken(e),{override:l}=t,p=O7(t,["override"]);let y=Object.assign(Object.assign({},a),{override:l});return y=hx(y),p&&Object.entries(p).forEach(u=>{let[M,S]=u;const{theme:P}=S,F=O7(S,["theme"]);let R=F;P&&(R=mx(Object.assign(Object.assign({},y),F),{override:F},P)),y[M]=R}),y};function Ka(){const{token:e,hashed:t,theme:i,override:a,cssVar:l}=Ct.useContext(ux),p=`${XT}-${t||""}`,y=i||sx,[u,M,S]=vP(y,[Ld,e],{salt:p,override:a,getComputedToken:mx,formatToken:hx,cssVar:l&&{prefix:l.prefix,key:l.key,unitless:px,ignore:fx,preserve:YT}});return[y,S,t?M:"",u,l]}function P4(e){var t=H.useRef();t.current=e;var i=H.useCallback(function(){for(var a,l=arguments.length,p=new Array(l),y=0;y<l;y++)p[y]=arguments[y];return(a=t.current)===null||a===void 0?void 0:a.call.apply(a,[t].concat(p))},[]);return i}function ru(e){var t=H.useRef(!1),i=H.useState(e),a=Tt(i,2),l=a[0],p=a[1];H.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function y(u,M){M&&t.current||p(u)}return[l,y]}function w8(e){return e!==void 0}function gx(e,t){var i=t||{},a=i.defaultValue,l=i.value,p=i.onChange,y=i.postState,u=ru(function(){return w8(l)?l:w8(a)?typeof a=="function"?a():a:typeof e=="function"?e():e}),M=Tt(u,2),S=M[0],P=M[1],F=l!==void 0?l:S,R=y?y(F):F,J=P4(p),X=ru([F]),G=Tt(X,2),K=G[0],O=G[1];S7(function(){var V=K[0];S!==V&&J(S,V)},[K]),S7(function(){w8(l)||P(l)},[l]);var B=P4(function(V,ne){P(V,ne),O([F],ne)});return[R,B]}const T4=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},QT=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),eI=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active,\n  &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),tI=(e,t)=>{const{fontFamily:i,fontSize:a}=e,l=`[class^="${t}"], [class*=" ${t}"]`;return{[l]:{fontFamily:i,fontSize:a,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[l]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},$2=e=>({outline:`${an(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),yx=e=>({"&:focus-visible":Object.assign({},$2(e))});let nI=Po(function e(){Ao(this,e)});const vx=nI;function rI(e,t,i){return t=Vs(t),P2(e,m0()?Reflect.construct(t,i||[],Vs(e).constructor):t.apply(e,i))}let iI=function(e){Vd(t,e);function t(i){var a;return Ao(this,t),a=rI(this,t),a.result=0,i instanceof t?a.result=i.result:typeof i=="number"&&(a.result=i),a}return Po(t,[{key:"add",value:function(a){return a instanceof t?this.result+=a.result:typeof a=="number"&&(this.result+=a),this}},{key:"sub",value:function(a){return a instanceof t?this.result-=a.result:typeof a=="number"&&(this.result-=a),this}},{key:"mul",value:function(a){return a instanceof t?this.result*=a.result:typeof a=="number"&&(this.result*=a),this}},{key:"div",value:function(a){return a instanceof t?this.result/=a.result:typeof a=="number"&&(this.result/=a),this}},{key:"equal",value:function(){return this.result}}]),t}(vx);function oI(e,t,i){return t=Vs(t),P2(e,m0()?Reflect.construct(t,i||[],Vs(e).constructor):t.apply(e,i))}const _x="CALC_UNIT";function S8(e){return typeof e=="number"?`${e}${_x}`:e}let aI=function(e){Vd(t,e);function t(i){var a;return Ao(this,t),a=oI(this,t),a.result="",i instanceof t?a.result=`(${i.result})`:typeof i=="number"?a.result=S8(i):typeof i=="string"&&(a.result=i),a}return Po(t,[{key:"add",value:function(a){return a instanceof t?this.result=`${this.result} + ${a.getResult()}`:(typeof a=="number"||typeof a=="string")&&(this.result=`${this.result} + ${S8(a)}`),this.lowPriority=!0,this}},{key:"sub",value:function(a){return a instanceof t?this.result=`${this.result} - ${a.getResult()}`:(typeof a=="number"||typeof a=="string")&&(this.result=`${this.result} - ${S8(a)}`),this.lowPriority=!0,this}},{key:"mul",value:function(a){return this.lowPriority&&(this.result=`(${this.result})`),a instanceof t?this.result=`${this.result} * ${a.getResult(!0)}`:(typeof a=="number"||typeof a=="string")&&(this.result=`${this.result} * ${a}`),this.lowPriority=!1,this}},{key:"div",value:function(a){return this.lowPriority&&(this.result=`(${this.result})`),a instanceof t?this.result=`${this.result} / ${a.getResult(!0)}`:(typeof a=="number"||typeof a=="string")&&(this.result=`${this.result} / ${a}`),this.lowPriority=!1,this}},{key:"getResult",value:function(a){return this.lowPriority||a?`(${this.result})`:this.result}},{key:"equal",value:function(a){const{unit:l=!0}=a||{},p=new RegExp(`${_x}`,"g");return this.result=this.result.replace(p,l?"px":""),typeof this.lowPriority<"u"?`calc(${this.result})`:this.result}}]),t}(vx);const sI=e=>{const t=e==="css"?aI:iI;return i=>new t(i)},lI=sI;function uI(e){return e==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return`max(${i.map(l=>an(l)).join(",")})`},min:function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return`min(${i.map(l=>an(l)).join(",")})`}}}const xx=typeof CSSINJS_STATISTIC<"u";let Q5=!0;function Gs(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!xx)return Object.assign.apply(Object,[{}].concat(t));Q5=!1;const a={};return t.forEach(l=>{Object.keys(l).forEach(y=>{Object.defineProperty(a,y,{configurable:!0,enumerable:!0,get:()=>l[y]})})}),Q5=!0,a}const B7={};function cI(){}const dI=e=>{let t,i=e,a=cI;return xx&&typeof Proxy<"u"&&(t=new Set,i=new Proxy(e,{get(l,p){return Q5&&t.add(p),l[p]}}),a=(l,p)=>{var y;B7[l]={global:Array.from(t),component:Object.assign(Object.assign({},(y=B7[l])===null||y===void 0?void 0:y.component),p)}}),{token:i,keys:t,flush:a}},hI=(e,t)=>{const[i,a]=Ka();return G5({theme:i,token:a,hashId:"",path:["ant-design-icons",e],nonce:()=>t==null?void 0:t.nonce},()=>[{[`.${e}`]:Object.assign(Object.assign({},QT()),{[`.${e} .${e}-icon`]:{display:"block"}})}])},bx=hI,wx=(e,t,i)=>{var a;return typeof i=="function"?i(Gs(t,(a=t[e])!==null&&a!==void 0?a:{})):i??{}},Sx=(e,t,i,a)=>{const l=Object.assign({},t[e]);if(a!=null&&a.deprecatedTokens){const{deprecatedTokens:y}=a;y.forEach(u=>{let[M,S]=u;var P;(l!=null&&l[M]||l!=null&&l[S])&&((P=l[S])!==null&&P!==void 0||(l[S]=l==null?void 0:l[M]))})}const p=Object.assign(Object.assign({},i),l);return Object.keys(p).forEach(y=>{p[y]===t[y]&&delete p[y]}),p},pI=(e,t)=>`${[t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-")}`;function j2(e,t,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=Array.isArray(e)?e:[e,e],[p]=l,y=l.join("-");return u=>{const[M,S,P,F,R]=Ka(),{getPrefixCls:J,iconPrefixCls:X,csp:G}=H.useContext(To),K=J(),O=R?"css":"js",B=lI(O),{max:V,min:ne}=uI(O),he={theme:M,token:F,hashId:P,nonce:()=>G==null?void 0:G.nonce,clientOnly:a.clientOnly,order:a.order||-999};return G5(Object.assign(Object.assign({},he),{clientOnly:!1,path:["Shared",K]}),()=>[{"&":eI(F)}]),bx(X,G),[G5(Object.assign(Object.assign({},he),{path:[y,u,X]}),()=>{if(a.injectStyle===!1)return[];const{token:de,flush:Se}=dI(F),Te=wx(p,S,i),Me=`.${u}`,Be=Sx(p,S,Te,{deprecatedTokens:a.deprecatedTokens});R&&Object.keys(Te).forEach(qe=>{Te[qe]=`var(${$_(qe,pI(p,R.prefix))})`});const He=Gs(de,{componentCls:Me,prefixCls:u,iconCls:`.${X}`,antCls:`.${K}`,calc:B,max:V,min:ne},R?Te:Be),We=t(He,{hashId:P,prefixCls:u,rootPrefixCls:K,iconPrefixCls:X});return Se(p,Be),[a.resetStyle===!1?null:tI(He,u),We]}),P]}}const fI=(e,t,i,a)=>{const l=j2(e,t,i,Object.assign({resetStyle:!1,order:-998},a));return y=>{let{prefixCls:u}=y;return l(u),null}},mI=(e,t,i)=>{function a(S){return`${e}${S.slice(0,1).toUpperCase()}${S.slice(1)}`}const{unitless:l={},injectStyle:p=!0}=i??{},y={[a("zIndexPopup")]:!0};Object.keys(l).forEach(S=>{y[a(S)]=l[S]});const u=S=>{let{rootCls:P,cssVar:F}=S;const[,R]=Ka();return ZP({path:[e],prefix:F.prefix,key:F==null?void 0:F.key,unitless:Object.assign(Object.assign({},px),y),ignore:fx,token:R,scope:P},()=>{const J=wx(e,R,t),X=Sx(e,R,J,{deprecatedTokens:i==null?void 0:i.deprecatedTokens});return Object.keys(J).forEach(G=>{X[a(G)]=X[G],delete X[G]}),X}),null};return S=>{const[,,,,P]=Ka();return[F=>p&&P?Ct.createElement(Ct.Fragment,null,Ct.createElement(u,{rootCls:S,cssVar:P,component:e}),F):F,P==null?void 0:P.key]}},V2=(e,t,i,a)=>{const l=j2(e,t,i,a),p=mI(Array.isArray(e)?e[0]:e,i,a);return function(y){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y;const[,M]=l(y),[S,P]=p(u);return[S,M,P]}},gI=Object.assign({},Fs),{useId:$7}=gI,yI=()=>"",vI=typeof $7>"u"?yI:$7,_I=vI;function xI(e,t){const i=e||{},a=i.inherit===!1||!t?lx:t,l=_I();return k2(()=>{var p,y;if(!e)return t;const u=Object.assign({},a.components);Object.keys(e.components||{}).forEach(P=>{u[P]=Object.assign(Object.assign({},u[P]),e.components[P])});const M=`css-var-${l.replace(/:/g,"")}`,S=((p=i.cssVar)!==null&&p!==void 0?p:a.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:"ant"},typeof a.cssVar=="object"?a.cssVar:{}),typeof i.cssVar=="object"?i.cssVar:{}),{key:typeof i.cssVar=="object"&&((y=i.cssVar)===null||y===void 0?void 0:y.key)||M});return Object.assign(Object.assign(Object.assign({},a),i),{token:Object.assign(Object.assign({},a.token),i.token),components:u,cssVar:S})},[i,a],(p,y)=>p.some((u,M)=>{const S=y[M];return!N_(u,S,!0)}))}var bI=["children"],Cx=H.createContext({});function wI(e){var t=e.children,i=qa(e,bI);return H.createElement(Cx.Provider,{value:i},t)}var SI=function(e){Vd(i,e);var t=T2(i);function i(){return Ao(this,i),t.apply(this,arguments)}return Po(i,[{key:"render",value:function(){return this.props.children}}]),i}(H.Component),_l="none",Mp="appear",Ep="enter",kp="leave",j7="none",Go="prepare",K1="start",X1="active",W2="end",Mx="prepared";function V7(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit".concat(e)]="webkit".concat(t),i["Moz".concat(e)]="moz".concat(t),i["ms".concat(e)]="MS".concat(t),i["O".concat(e)]="o".concat(t.toLowerCase()),i}function CI(e,t){var i={animationend:V7("Animation","AnimationEnd"),transitionend:V7("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete i.animationend.animation,"TransitionEvent"in t||delete i.transitionend.transition),i}var MI=CI(xi(),typeof window<"u"?window:{}),Ex={};if(xi()){var EI=document.createElement("div");Ex=EI.style}var Ap={};function kx(e){if(Ap[e])return Ap[e];var t=MI[e];if(t)for(var i=Object.keys(t),a=i.length,l=0;l<a;l+=1){var p=i[l];if(Object.prototype.hasOwnProperty.call(t,p)&&p in Ex)return Ap[e]=t[p],Ap[e]}return""}var Ax=kx("animationend"),Px=kx("transitionend"),Tx=!!(Ax&&Px),W7=Ax||"animationend",U7=Px||"transitionend";function H7(e,t){if(!e)return null;if(Sn(e)==="object"){var i=t.replace(/-\w/g,function(a){return a[1].toUpperCase()});return e[i]}return"".concat(e,"-").concat(t)}const kI=function(e){var t=H.useRef(),i=H.useRef(e);i.current=e;var a=H.useCallback(function(y){i.current(y)},[]);function l(y){y&&(y.removeEventListener(U7,a),y.removeEventListener(W7,a))}function p(y){t.current&&t.current!==y&&l(t.current),y&&y!==t.current&&(y.addEventListener(U7,a),y.addEventListener(W7,a),t.current=y)}return H.useEffect(function(){return function(){l(t.current)}},[]),[p,l]};var Ix=xi()?H.useLayoutEffect:H.useEffect;const AI=function(){var e=H.useRef(null);function t(){Bl.cancel(e.current)}function i(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var p=Bl(function(){l<=1?a({isCanceled:function(){return p!==e.current}}):i(a,l-1)});e.current=p}return H.useEffect(function(){return function(){t()}},[]),[i,t]};var PI=[Go,K1,X1,W2],TI=[Go,Mx],Lx=!1,II=!0;function Dx(e){return e===X1||e===W2}const LI=function(e,t,i){var a=ru(j7),l=Tt(a,2),p=l[0],y=l[1],u=AI(),M=Tt(u,2),S=M[0],P=M[1];function F(){y(Go,!0)}var R=t?TI:PI;return Ix(function(){if(p!==j7&&p!==W2){var J=R.indexOf(p),X=R[J+1],G=i(p);G===Lx?y(X,!0):X&&S(function(K){function O(){K.isCanceled()||y(X,!0)}G===!0?O():Promise.resolve(G).then(O)})}},[e,p]),H.useEffect(function(){return function(){P()}},[]),[F,p]};function DI(e,t,i,a){var l=a.motionEnter,p=l===void 0?!0:l,y=a.motionAppear,u=y===void 0?!0:y,M=a.motionLeave,S=M===void 0?!0:M,P=a.motionDeadline,F=a.motionLeaveImmediately,R=a.onAppearPrepare,J=a.onEnterPrepare,X=a.onLeavePrepare,G=a.onAppearStart,K=a.onEnterStart,O=a.onLeaveStart,B=a.onAppearActive,V=a.onEnterActive,ne=a.onLeaveActive,he=a.onAppearEnd,pe=a.onEnterEnd,de=a.onLeaveEnd,Se=a.onVisibleChanged,Te=ru(),Me=Tt(Te,2),Be=Me[0],He=Me[1],We=ru(_l),qe=Tt(We,2),Je=qe[0],Le=qe[1],Ie=ru(null),we=Tt(Ie,2),Re=we[0],Ve=we[1],Ze=H.useRef(!1),at=H.useRef(null);function ut(){return i()}var Pt=H.useRef(!1);function Xt(){Le(_l,!0),Ve(null,!0)}function qt(pn){var ke=ut();if(!(pn&&!pn.deadline&&pn.target!==ke)){var Rt=Pt.current,Kt;Je===Mp&&Rt?Kt=he==null?void 0:he(ke,pn):Je===Ep&&Rt?Kt=pe==null?void 0:pe(ke,pn):Je===kp&&Rt&&(Kt=de==null?void 0:de(ke,pn)),Je!==_l&&Rt&&Kt!==!1&&Xt()}}var ln=kI(qt),er=Tt(ln,1),tr=er[0],Nn=function(ke){var Rt,Kt,Ot;switch(ke){case Mp:return Rt={},Fe(Rt,Go,R),Fe(Rt,K1,G),Fe(Rt,X1,B),Rt;case Ep:return Kt={},Fe(Kt,Go,J),Fe(Kt,K1,K),Fe(Kt,X1,V),Kt;case kp:return Ot={},Fe(Ot,Go,X),Fe(Ot,K1,O),Fe(Ot,X1,ne),Ot;default:return{}}},nr=H.useMemo(function(){return Nn(Je)},[Je]),Mr=LI(Je,!e,function(pn){if(pn===Go){var ke=nr[Go];return ke?ke(ut()):Lx}if(rr in nr){var Rt;Ve(((Rt=nr[rr])===null||Rt===void 0?void 0:Rt.call(nr,ut(),null))||null)}return rr===X1&&(tr(ut()),P>0&&(clearTimeout(at.current),at.current=setTimeout(function(){qt({deadline:!0})},P))),rr===Mx&&Xt(),II}),nn=Tt(Mr,2),Kn=nn[0],rr=nn[1],ai=Dx(rr);Pt.current=ai,Ix(function(){He(t);var pn=Ze.current;Ze.current=!0;var ke;!pn&&t&&u&&(ke=Mp),pn&&t&&p&&(ke=Ep),(pn&&!t&&S||!pn&&F&&!t&&S)&&(ke=kp);var Rt=Nn(ke);ke&&(e||Rt[Go])?(Le(ke),Kn()):Le(_l)},[t]),H.useEffect(function(){(Je===Mp&&!u||Je===Ep&&!p||Je===kp&&!S)&&Le(_l)},[u,p,S]),H.useEffect(function(){return function(){Ze.current=!1,clearTimeout(at.current)}},[]);var Er=H.useRef(!1);H.useEffect(function(){Be&&(Er.current=!0),Be!==void 0&&Je===_l&&((Er.current||Be)&&(Se==null||Se(Be)),Er.current=!0)},[Be,Je]);var gr=Re;return nr[Go]&&rr===K1&&(gr=Xe({transition:"none"},gr)),[Je,rr,gr,Be??t]}function RI(e){var t=e;Sn(e)==="object"&&(t=e.transitionSupport);function i(l,p){return!!(l.motionName&&t&&p!==!1)}var a=H.forwardRef(function(l,p){var y=l.visible,u=y===void 0?!0:y,M=l.removeOnLeave,S=M===void 0?!0:M,P=l.forceRender,F=l.children,R=l.motionName,J=l.leavedClassName,X=l.eventProps,G=H.useContext(Cx),K=G.motion,O=i(l,K),B=H.useRef(),V=H.useRef();function ne(){try{return B.current instanceof HTMLElement?B.current:$A(V.current)}catch{return null}}var he=DI(O,u,ne,l),pe=Tt(he,4),de=pe[0],Se=pe[1],Te=pe[2],Me=pe[3],Be=H.useRef(Me);Me&&(Be.current=!0);var He=H.useCallback(function(Ve){B.current=Ve,M_(p,Ve)},[p]),We,qe=Xe(Xe({},X),{},{visible:u});if(!F)We=null;else if(de===_l)Me?We=F(Xe({},qe),He):!S&&Be.current&&J?We=F(Xe(Xe({},qe),{},{className:J}),He):P||!S&&!J?We=F(Xe(Xe({},qe),{},{style:{display:"none"}}),He):We=null;else{var Je,Le;Se===Go?Le="prepare":Dx(Se)?Le="active":Se===K1&&(Le="start");var Ie=H7(R,"".concat(de,"-").concat(Le));We=F(Xe(Xe({},qe),{},{className:wn(H7(R,de),(Je={},Fe(Je,Ie,Ie&&Le),Fe(Je,R,typeof R=="string"),Je)),style:Te}),He)}if(H.isValidElement(We)&&A2(We)){var we=We,Re=we.ref;Re||(We=H.cloneElement(We,{ref:He}))}return H.createElement(SI,{ref:V},We)});return a.displayName="CSSMotion",a}const Wd=RI(Tx);var em="add",tm="keep",nm="remove",C8="removed";function zI(e){var t;return e&&Sn(e)==="object"&&"key"in e?t=e:t={key:e},Xe(Xe({},t),{},{key:String(t.key)})}function rm(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(zI)}function FI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=[],a=0,l=t.length,p=rm(e),y=rm(t);p.forEach(function(S){for(var P=!1,F=a;F<l;F+=1){var R=y[F];if(R.key===S.key){a<F&&(i=i.concat(y.slice(a,F).map(function(J){return Xe(Xe({},J),{},{status:em})})),a=F),i.push(Xe(Xe({},R),{},{status:tm})),a+=1,P=!0;break}}P||i.push(Xe(Xe({},S),{},{status:nm}))}),a<l&&(i=i.concat(y.slice(a).map(function(S){return Xe(Xe({},S),{},{status:em})})));var u={};i.forEach(function(S){var P=S.key;u[P]=(u[P]||0)+1});var M=Object.keys(u).filter(function(S){return u[S]>1});return M.forEach(function(S){i=i.filter(function(P){var F=P.key,R=P.status;return F!==S||R!==nm}),i.forEach(function(P){P.key===S&&(P.status=tm)})}),i}var NI=["component","children","onVisibleChanged","onAllRemoved"],OI=["status"],BI=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function $I(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wd,i=function(a){Vd(p,a);var l=T2(p);function p(){var y;Ao(this,p);for(var u=arguments.length,M=new Array(u),S=0;S<u;S++)M[S]=arguments[S];return y=l.call.apply(l,[this].concat(M)),Fe(on(y),"state",{keyEntities:[]}),Fe(on(y),"removeKey",function(P){var F=y.state.keyEntities,R=F.map(function(J){return J.key!==P?J:Xe(Xe({},J),{},{status:C8})});return y.setState({keyEntities:R}),R.filter(function(J){var X=J.status;return X!==C8}).length}),y}return Po(p,[{key:"render",value:function(){var u=this,M=this.state.keyEntities,S=this.props,P=S.component,F=S.children,R=S.onVisibleChanged,J=S.onAllRemoved,X=qa(S,NI),G=P||H.Fragment,K={};return BI.forEach(function(O){K[O]=X[O],delete X[O]}),delete X.keys,H.createElement(G,X,M.map(function(O,B){var V=O.status,ne=qa(O,OI),he=V===em||V===tm;return H.createElement(t,zr({},K,{key:ne.key,visible:he,eventProps:ne,onVisibleChanged:function(de){if(R==null||R(de,{key:ne.key}),!de){var Se=u.removeKey(ne.key);Se===0&&J&&J()}}}),function(pe,de){return F(Xe(Xe({},pe),{},{index:B}),de)})}))}}],[{key:"getDerivedStateFromProps",value:function(u,M){var S=u.keys,P=M.keyEntities,F=rm(S),R=FI(P,F);return{keyEntities:R.filter(function(J){var X=P.find(function(G){var K=G.key;return J.key===K});return!(X&&X.status===C8&&J.status===nm)})}}}]),p}(H.Component);return Fe(i,"defaultProps",{component:"div"}),i}$I(Tx);function jI(e){const{children:t}=e,[,i]=Ka(),{motion:a}=i,l=H.useRef(!1);return l.current=l.current||a===!1,l.current?H.createElement(wI,{motion:a},t):t}const VI=()=>null;var WI=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(i[a[l]]=e[a[l]]);return i};const UI=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form","select","button"],HI="ant";let Rx;function ZI(){return Rx||HI}function GI(e){return Object.keys(e).some(t=>t.endsWith("Color"))}const qI=e=>{const{prefixCls:t,iconPrefixCls:i,theme:a,holderRender:l}=e;t!==void 0&&(Rx=t),a&&GI(a)&&GT(ZI(),a)},KI=e=>{const{children:t,csp:i,autoInsertSpaceInButton:a,alert:l,anchor:p,form:y,locale:u,componentSize:M,direction:S,space:P,virtual:F,dropdownMatchSelectWidth:R,popupMatchSelectWidth:J,popupOverflow:X,legacyLocale:G,parentContext:K,iconPrefixCls:O,theme:B,componentDisabled:V,segmented:ne,statistic:he,spin:pe,calendar:de,carousel:Se,cascader:Te,collapse:Me,typography:Be,checkbox:He,descriptions:We,divider:qe,drawer:Je,skeleton:Le,steps:Ie,image:we,layout:Re,list:Ve,mentions:Ze,modal:at,progress:ut,result:Pt,slider:Xt,breadcrumb:qt,menu:ln,pagination:er,input:tr,empty:Nn,badge:nr,radio:Mr,rate:nn,switch:Kn,transfer:rr,avatar:ai,message:Er,tag:gr,table:pn,card:ke,tabs:Rt,timeline:Kt,timePicker:Ot,upload:Zt,notification:Ci,tree:na,colorPicker:Vi,datePicker:Ya,rangePicker:ra,flex:uo,wave:Io,dropdown:Ye,warning:Mi}=e,Cn=H.useCallback((N,j)=>{const{prefixCls:q}=e;if(j)return j;const re=q||K.getPrefixCls("");return N?`${re}-${N}`:re},[K.getPrefixCls,e.prefixCls]),si=O||K.iconPrefixCls||cx,Fr=i||K.csp;bx(si,Fr);const Qe=xI(B,K.theme),Lt={csp:Fr,autoInsertSpaceInButton:a,alert:l,anchor:p,locale:u||G,direction:S,space:P,virtual:F,popupMatchSelectWidth:J??R,popupOverflow:X,getPrefixCls:Cn,iconPrefixCls:si,theme:Qe,segmented:ne,statistic:he,spin:pe,calendar:de,carousel:Se,cascader:Te,collapse:Me,typography:Be,checkbox:He,descriptions:We,divider:qe,drawer:Je,skeleton:Le,steps:Ie,image:we,input:tr,layout:Re,list:Ve,mentions:Ze,modal:at,progress:ut,result:Pt,slider:Xt,breadcrumb:qt,menu:ln,pagination:er,empty:Nn,badge:nr,radio:Mr,rate:nn,switch:Kn,transfer:rr,avatar:ai,message:Er,tag:gr,table:pn,card:ke,tabs:Rt,timeline:Kt,timePicker:Ot,upload:Zt,notification:Ci,tree:na,colorPicker:Vi,datePicker:Ya,rangePicker:ra,flex:uo,wave:Io,dropdown:Ye,warning:Mi},kt=Object.assign({},K);Object.keys(Lt).forEach(N=>{Lt[N]!==void 0&&(kt[N]=Lt[N])}),UI.forEach(N=>{const j=e[N];j&&(kt[N]=j)});const On=k2(()=>kt,kt,(N,j)=>{const q=Object.keys(N),re=Object.keys(j);return q.length!==re.length||q.some(ae=>N[ae]!==j[ae])}),Ei=H.useMemo(()=>({prefixCls:si,csp:Fr}),[si,Fr]);let xt=H.createElement(H.Fragment,null,H.createElement(VI,{dropdownMatchSelectWidth:R}),t);const ki=H.useMemo(()=>{var N,j,q,re;return q1(((N=gu.Form)===null||N===void 0?void 0:N.defaultValidateMessages)||{},((q=(j=On.locale)===null||j===void 0?void 0:j.Form)===null||q===void 0?void 0:q.defaultValidateMessages)||{},((re=On.form)===null||re===void 0?void 0:re.validateMessages)||{},(y==null?void 0:y.validateMessages)||{})},[On,y==null?void 0:y.validateMessages]);Object.keys(ki).length>0&&(xt=H.createElement(QP.Provider,{value:ki},xt)),u&&(xt=H.createElement(hT,{locale:u,_ANT_MARK__:cT},xt)),(si||Fr)&&(xt=H.createElement(N2.Provider,{value:Ei},xt)),M&&(xt=H.createElement(qT,{size:M},xt)),xt=H.createElement(jI,null,xt);const ie=H.useMemo(()=>{const N=Qe||{},{algorithm:j,token:q,components:re,cssVar:ae}=N,xe=WI(N,["algorithm","token","components","cssVar"]),me=j&&(!Array.isArray(j)||j.length>0)?j5(j):sx,ue={};Object.entries(re||{}).forEach(De=>{let[ze,$e]=De;const pt=Object.assign({},$e);"algorithm"in pt&&(pt.algorithm===!0?pt.theme=me:(Array.isArray(pt.algorithm)||typeof pt.algorithm=="function")&&(pt.theme=j5(pt.algorithm)),delete pt.algorithm),ue[ze]=pt});const ye=Object.assign(Object.assign({},Ld),q);return Object.assign(Object.assign({},xe),{theme:me,token:ye,components:ue,override:Object.assign({override:ye},ue),cssVar:ae})},[Qe]);return B&&(xt=H.createElement(ux.Provider,{value:ie},xt)),On.warning&&(xt=H.createElement(YP.Provider,{value:On.warning},xt)),V!==void 0&&(xt=H.createElement(dx,{disabled:V},xt)),H.createElement(To.Provider,{value:On},xt)},Cu=e=>{const t=H.useContext(To),i=H.useContext(O2);return H.createElement(KI,Object.assign({parentContext:t,legacyLocale:i},e))};Cu.ConfigContext=To;Cu.SizeContext=x0;Cu.config=qI;Cu.useConfig=KT;Object.defineProperty(Cu,"SizeContext",{get:()=>x0});const XI=Cu;function zx(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}function JI(e){return zx(e)instanceof ShadowRoot}function YI(e){return JI(e)?zx(e):null}function QI(e){return e.replace(/-(.)/g,function(t,i){return i.toUpperCase()})}function eL(e,t){ro(e,"[@ant-design/icons] ".concat(t))}function Z7(e){return Sn(e)==="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(Sn(e.icon)==="object"||typeof e.icon=="function")}function G7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(t,i){var a=e[i];switch(i){case"class":t.className=a,delete t.class;break;default:delete t[i],t[QI(i)]=a}return t},{})}function im(e,t,i){return i?Ct.createElement(e.tag,Xe(Xe({key:t},G7(e.attrs)),i),(e.children||[]).map(function(a,l){return im(a,"".concat(t,"-").concat(e.tag,"-").concat(l))})):Ct.createElement(e.tag,Xe({key:t},G7(e.attrs)),(e.children||[]).map(function(a,l){return im(a,"".concat(t,"-").concat(e.tag,"-").concat(l))}))}function Fx(e){return $l(e)[0]}function Nx(e){return e?Array.isArray(e)?e:[e]:[]}var tL=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,nL=function(t){var i=H.useContext(N2),a=i.csp,l=i.prefixCls,p=tL;l&&(p=p.replace(/anticon/g,l)),H.useEffect(function(){var y=t.current,u=YI(y);Ws(p,"@ant-design-icons",{prepend:!0,csp:a,attachTo:u})},[])},rL=["icon","className","onClick","style","primaryColor","secondaryColor"],ad={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function iL(e){var t=e.primaryColor,i=e.secondaryColor;ad.primaryColor=t,ad.secondaryColor=i||Fx(t),ad.calculated=!!i}function oL(){return Xe({},ad)}var b0=function(t){var i=t.icon,a=t.className,l=t.onClick,p=t.style,y=t.primaryColor,u=t.secondaryColor,M=qa(t,rL),S=H.useRef(),P=ad;if(y&&(P={primaryColor:y,secondaryColor:u||Fx(y)}),nL(S),eL(Z7(i),"icon should be icon definiton, but got ".concat(i)),!Z7(i))return null;var F=i;return F&&typeof F.icon=="function"&&(F=Xe(Xe({},F),{},{icon:F.icon(P.primaryColor,P.secondaryColor)})),im(F.icon,"svg-".concat(F.name),Xe(Xe({className:a,onClick:l,style:p,"data-icon":F.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},M),{},{ref:S}))};b0.displayName="IconReact";b0.getTwoToneColors=oL;b0.setTwoToneColors=iL;const U2=b0;function Ox(e){var t=Nx(e),i=Tt(t,2),a=i[0],l=i[1];return U2.setTwoToneColors({primaryColor:a,secondaryColor:l})}function aL(){var e=U2.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var sL=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Ox(PT.primary);var w0=H.forwardRef(function(e,t){var i,a=e.className,l=e.icon,p=e.spin,y=e.rotate,u=e.tabIndex,M=e.onClick,S=e.twoToneColor,P=qa(e,sL),F=H.useContext(N2),R=F.prefixCls,J=R===void 0?"anticon":R,X=F.rootClassName,G=wn(X,J,(i={},Fe(i,"".concat(J,"-").concat(l.name),!!l.name),Fe(i,"".concat(J,"-spin"),!!p||l.name==="loading"),i),a),K=u;K===void 0&&M&&(K=-1);var O=y?{msTransform:"rotate(".concat(y,"deg)"),transform:"rotate(".concat(y,"deg)")}:void 0,B=Nx(S),V=Tt(B,2),ne=V[0],he=V[1];return H.createElement("span",zr({role:"img","aria-label":l.name},P,{ref:t,tabIndex:K,onClick:M,className:G}),H.createElement(U2,{icon:l,primaryColor:ne,secondaryColor:he,style:O}))});w0.displayName="AntdIcon";w0.getTwoToneColor=aL;w0.setTwoToneColor=Ox;const H2=w0;var lL={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};const uL=lL;var cL=function(t,i){return H.createElement(H2,zr({},t,{ref:i,icon:uL}))};const Z2=H.forwardRef(cL);var dL=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,hL=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,pL="".concat(dL," ").concat(hL).split(/[\s\n]+/),fL="aria-",mL="data-";function q7(e,t){return e.indexOf(t)===0}function Bx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i;t===!1?i={aria:!0,data:!0,attr:!0}:t===!0?i={aria:!0}:i=Xe({},t);var a={};return Object.keys(e).forEach(function(l){(i.aria&&(l==="role"||q7(l,fL))||i.data&&q7(l,mL)||i.attr&&pL.includes(l))&&(a[l]=e[l])}),a}const{isValidElement:$x}=Fs;function gL(e){return e&&$x(e)&&e.type===H.Fragment}function yL(e,t,i){return $x(e)?H.cloneElement(e,typeof i=="function"?i(e.props||{}):i):t}function jx(e,t){return yL(e,e,t)}const vL=e=>{const[,,,,t]=Ka();return t?`${e}-css-var`:""},G2=vL;var Dt={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var i=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||i>=Dt.F1&&i<=Dt.F12)return!1;switch(i){case Dt.ALT:case Dt.CAPS_LOCK:case Dt.CONTEXT_MENU:case Dt.CTRL:case Dt.DOWN:case Dt.END:case Dt.ESC:case Dt.HOME:case Dt.INSERT:case Dt.LEFT:case Dt.MAC_FF_META:case Dt.META:case Dt.NUMLOCK:case Dt.NUM_CENTER:case Dt.PAGE_DOWN:case Dt.PAGE_UP:case Dt.PAUSE:case Dt.PRINT_SCREEN:case Dt.RIGHT:case Dt.SHIFT:case Dt.UP:case Dt.WIN_KEY:case Dt.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=Dt.ZERO&&t<=Dt.NINE||t>=Dt.NUM_ZERO&&t<=Dt.NUM_MULTIPLY||t>=Dt.A&&t<=Dt.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case Dt.SPACE:case Dt.QUESTION_MARK:case Dt.NUM_PLUS:case Dt.NUM_MINUS:case Dt.NUM_PERIOD:case Dt.NUM_DIVISION:case Dt.SEMICOLON:case Dt.DASH:case Dt.EQUALS:case Dt.COMMA:case Dt.PERIOD:case Dt.SLASH:case Dt.APOSTROPHE:case Dt.SINGLE_QUOTE:case Dt.OPEN_SQUARE_BRACKET:case Dt.BACKSLASH:case Dt.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},_L={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const xL=_L;var bL=function(t,i){return H.createElement(H2,zr({},t,{ref:i,icon:xL}))};const wL=H.forwardRef(bL),SL=Ct.createContext(void 0),Vx=SL,xl=100,CL=10,ML=xl*CL,Wx={Modal:xl,Drawer:xl,Popover:xl,Popconfirm:xl,Tooltip:xl,Tour:xl},EL={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function kL(e){return e in Wx}function AL(e,t){const[,i]=Ka(),a=Ct.useContext(Vx),l=kL(e);if(t!==void 0)return[t,t];let p=a??0;return l?(p+=(a?0:i.zIndexPopupBase)+Wx[e],p=Math.min(p,i.zIndexPopupBase+ML)):p+=EL[e],[a===void 0?t:p,p]}function bi(){bi=function(){return t};var e,t={},i=Object.prototype,a=i.hasOwnProperty,l=Object.defineProperty||function(Le,Ie,we){Le[Ie]=we.value},p=typeof Symbol=="function"?Symbol:{},y=p.iterator||"@@iterator",u=p.asyncIterator||"@@asyncIterator",M=p.toStringTag||"@@toStringTag";function S(Le,Ie,we){return Object.defineProperty(Le,Ie,{value:we,enumerable:!0,configurable:!0,writable:!0}),Le[Ie]}try{S({},"")}catch{S=function(we,Re,Ve){return we[Re]=Ve}}function P(Le,Ie,we,Re){var Ve=Ie&&Ie.prototype instanceof O?Ie:O,Ze=Object.create(Ve.prototype),at=new qe(Re||[]);return l(Ze,"_invoke",{value:Me(Le,we,at)}),Ze}function F(Le,Ie,we){try{return{type:"normal",arg:Le.call(Ie,we)}}catch(Re){return{type:"throw",arg:Re}}}t.wrap=P;var R="suspendedStart",J="suspendedYield",X="executing",G="completed",K={};function O(){}function B(){}function V(){}var ne={};S(ne,y,function(){return this});var he=Object.getPrototypeOf,pe=he&&he(he(Je([])));pe&&pe!==i&&a.call(pe,y)&&(ne=pe);var de=V.prototype=O.prototype=Object.create(ne);function Se(Le){["next","throw","return"].forEach(function(Ie){S(Le,Ie,function(we){return this._invoke(Ie,we)})})}function Te(Le,Ie){function we(Ve,Ze,at,ut){var Pt=F(Le[Ve],Le,Ze);if(Pt.type!=="throw"){var Xt=Pt.arg,qt=Xt.value;return qt&&Sn(qt)=="object"&&a.call(qt,"__await")?Ie.resolve(qt.__await).then(function(ln){we("next",ln,at,ut)},function(ln){we("throw",ln,at,ut)}):Ie.resolve(qt).then(function(ln){Xt.value=ln,at(Xt)},function(ln){return we("throw",ln,at,ut)})}ut(Pt.arg)}var Re;l(this,"_invoke",{value:function(Ze,at){function ut(){return new Ie(function(Pt,Xt){we(Ze,at,Pt,Xt)})}return Re=Re?Re.then(ut,ut):ut()}})}function Me(Le,Ie,we){var Re=R;return function(Ve,Ze){if(Re===X)throw new Error("Generator is already running");if(Re===G){if(Ve==="throw")throw Ze;return{value:e,done:!0}}for(we.method=Ve,we.arg=Ze;;){var at=we.delegate;if(at){var ut=Be(at,we);if(ut){if(ut===K)continue;return ut}}if(we.method==="next")we.sent=we._sent=we.arg;else if(we.method==="throw"){if(Re===R)throw Re=G,we.arg;we.dispatchException(we.arg)}else we.method==="return"&&we.abrupt("return",we.arg);Re=X;var Pt=F(Le,Ie,we);if(Pt.type==="normal"){if(Re=we.done?G:J,Pt.arg===K)continue;return{value:Pt.arg,done:we.done}}Pt.type==="throw"&&(Re=G,we.method="throw",we.arg=Pt.arg)}}}function Be(Le,Ie){var we=Ie.method,Re=Le.iterator[we];if(Re===e)return Ie.delegate=null,we==="throw"&&Le.iterator.return&&(Ie.method="return",Ie.arg=e,Be(Le,Ie),Ie.method==="throw")||we!=="return"&&(Ie.method="throw",Ie.arg=new TypeError("The iterator does not provide a '"+we+"' method")),K;var Ve=F(Re,Le.iterator,Ie.arg);if(Ve.type==="throw")return Ie.method="throw",Ie.arg=Ve.arg,Ie.delegate=null,K;var Ze=Ve.arg;return Ze?Ze.done?(Ie[Le.resultName]=Ze.value,Ie.next=Le.nextLoc,Ie.method!=="return"&&(Ie.method="next",Ie.arg=e),Ie.delegate=null,K):Ze:(Ie.method="throw",Ie.arg=new TypeError("iterator result is not an object"),Ie.delegate=null,K)}function He(Le){var Ie={tryLoc:Le[0]};1 in Le&&(Ie.catchLoc=Le[1]),2 in Le&&(Ie.finallyLoc=Le[2],Ie.afterLoc=Le[3]),this.tryEntries.push(Ie)}function We(Le){var Ie=Le.completion||{};Ie.type="normal",delete Ie.arg,Le.completion=Ie}function qe(Le){this.tryEntries=[{tryLoc:"root"}],Le.forEach(He,this),this.reset(!0)}function Je(Le){if(Le||Le===""){var Ie=Le[y];if(Ie)return Ie.call(Le);if(typeof Le.next=="function")return Le;if(!isNaN(Le.length)){var we=-1,Re=function Ve(){for(;++we<Le.length;)if(a.call(Le,we))return Ve.value=Le[we],Ve.done=!1,Ve;return Ve.value=e,Ve.done=!0,Ve};return Re.next=Re}}throw new TypeError(Sn(Le)+" is not iterable")}return B.prototype=V,l(de,"constructor",{value:V,configurable:!0}),l(V,"constructor",{value:B,configurable:!0}),B.displayName=S(V,M,"GeneratorFunction"),t.isGeneratorFunction=function(Le){var Ie=typeof Le=="function"&&Le.constructor;return!!Ie&&(Ie===B||(Ie.displayName||Ie.name)==="GeneratorFunction")},t.mark=function(Le){return Object.setPrototypeOf?Object.setPrototypeOf(Le,V):(Le.__proto__=V,S(Le,M,"GeneratorFunction")),Le.prototype=Object.create(de),Le},t.awrap=function(Le){return{__await:Le}},Se(Te.prototype),S(Te.prototype,u,function(){return this}),t.AsyncIterator=Te,t.async=function(Le,Ie,we,Re,Ve){Ve===void 0&&(Ve=Promise);var Ze=new Te(P(Le,Ie,we,Re),Ve);return t.isGeneratorFunction(Ie)?Ze:Ze.next().then(function(at){return at.done?at.value:Ze.next()})},Se(de),S(de,M,"Generator"),S(de,y,function(){return this}),S(de,"toString",function(){return"[object Generator]"}),t.keys=function(Le){var Ie=Object(Le),we=[];for(var Re in Ie)we.push(Re);return we.reverse(),function Ve(){for(;we.length;){var Ze=we.pop();if(Ze in Ie)return Ve.value=Ze,Ve.done=!1,Ve}return Ve.done=!0,Ve}},t.values=Je,qe.prototype={constructor:qe,reset:function(Ie){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(We),!Ie)for(var we in this)we.charAt(0)==="t"&&a.call(this,we)&&!isNaN(+we.slice(1))&&(this[we]=e)},stop:function(){this.done=!0;var Ie=this.tryEntries[0].completion;if(Ie.type==="throw")throw Ie.arg;return this.rval},dispatchException:function(Ie){if(this.done)throw Ie;var we=this;function Re(Xt,qt){return at.type="throw",at.arg=Ie,we.next=Xt,qt&&(we.method="next",we.arg=e),!!qt}for(var Ve=this.tryEntries.length-1;Ve>=0;--Ve){var Ze=this.tryEntries[Ve],at=Ze.completion;if(Ze.tryLoc==="root")return Re("end");if(Ze.tryLoc<=this.prev){var ut=a.call(Ze,"catchLoc"),Pt=a.call(Ze,"finallyLoc");if(ut&&Pt){if(this.prev<Ze.catchLoc)return Re(Ze.catchLoc,!0);if(this.prev<Ze.finallyLoc)return Re(Ze.finallyLoc)}else if(ut){if(this.prev<Ze.catchLoc)return Re(Ze.catchLoc,!0)}else{if(!Pt)throw new Error("try statement without catch or finally");if(this.prev<Ze.finallyLoc)return Re(Ze.finallyLoc)}}}},abrupt:function(Ie,we){for(var Re=this.tryEntries.length-1;Re>=0;--Re){var Ve=this.tryEntries[Re];if(Ve.tryLoc<=this.prev&&a.call(Ve,"finallyLoc")&&this.prev<Ve.finallyLoc){var Ze=Ve;break}}Ze&&(Ie==="break"||Ie==="continue")&&Ze.tryLoc<=we&&we<=Ze.finallyLoc&&(Ze=null);var at=Ze?Ze.completion:{};return at.type=Ie,at.arg=we,Ze?(this.method="next",this.next=Ze.finallyLoc,K):this.complete(at)},complete:function(Ie,we){if(Ie.type==="throw")throw Ie.arg;return Ie.type==="break"||Ie.type==="continue"?this.next=Ie.arg:Ie.type==="return"?(this.rval=this.arg=Ie.arg,this.method="return",this.next="end"):Ie.type==="normal"&&we&&(this.next=we),K},finish:function(Ie){for(var we=this.tryEntries.length-1;we>=0;--we){var Re=this.tryEntries[we];if(Re.finallyLoc===Ie)return this.complete(Re.completion,Re.afterLoc),We(Re),K}},catch:function(Ie){for(var we=this.tryEntries.length-1;we>=0;--we){var Re=this.tryEntries[we];if(Re.tryLoc===Ie){var Ve=Re.completion;if(Ve.type==="throw"){var Ze=Ve.arg;We(Re)}return Ze}}throw new Error("illegal catch attempt")},delegateYield:function(Ie,we,Re){return this.delegate={iterator:Je(Ie),resultName:we,nextLoc:Re},this.method==="next"&&(this.arg=e),K}},t}function K7(e,t,i,a,l,p,y){try{var u=e[p](y),M=u.value}catch(S){i(S);return}u.done?t(M):Promise.resolve(M).then(a,l)}function Ul(e){return function(){var t=this,i=arguments;return new Promise(function(a,l){var p=e.apply(t,i);function y(M){K7(p,a,l,y,u,"next",M)}function u(M){K7(p,a,l,y,u,"throw",M)}y(void 0)})}}var Ud=Xe({},OM),PL=Ud.version,TL=Ud.render,IL=Ud.unmountComponentAtNode,S0;try{var LL=Number((PL||"").split(".")[0]);LL>=18&&(S0=Ud.createRoot)}catch{}function X7(e){var t=Ud.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&Sn(t)==="object"&&(t.usingClientEntryPoint=e)}var I4="__rc_react_root__";function DL(e,t){X7(!0);var i=t[I4]||S0(t);X7(!1),i.render(e),t[I4]=i}function RL(e,t){TL(e,t)}function zL(e,t){if(S0){DL(e,t);return}RL(e,t)}function FL(e){return om.apply(this,arguments)}function om(){return om=Ul(bi().mark(function e(t){return bi().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Promise.resolve().then(function(){var l;(l=t[I4])===null||l===void 0||l.unmount(),delete t[I4]}));case 1:case"end":return a.stop()}},e)})),om.apply(this,arguments)}function NL(e){IL(e)}function OL(e){return am.apply(this,arguments)}function am(){return am=Ul(bi().mark(function e(t){return bi().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(S0===void 0){a.next=2;break}return a.abrupt("return",FL(t));case 2:NL(t);case 3:case"end":return a.stop()}},e)})),am.apply(this,arguments)}const J7=(e,t,i)=>i!==void 0?i:`${e}-${t}`,BL=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),i=t.width,a=t.height;if(i||a)return!0}if(e.getBoundingClientRect){var l=e.getBoundingClientRect(),p=l.width,y=l.height;if(p||y)return!0}}return!1},$L=e=>{const{componentCls:t,colorPrimary:i}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${i})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow 0.3s ${e.motionEaseInOut}`,`opacity 0.35s ${e.motionEaseInOut}`].join(",")}}}}},jL=j2("Wave",e=>[$L(e)]);function VL(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return t&&t[1]&&t[2]&&t[3]?!(t[1]===t[2]&&t[2]===t[3]):!0}function M8(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&VL(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function WL(e){const{borderTopColor:t,borderColor:i,backgroundColor:a}=getComputedStyle(e);return M8(t)?t:M8(i)?i:M8(a)?a:null}const q2="ant-wave-target";function E8(e){return Number.isNaN(e)?0:e}const UL=e=>{const{className:t,target:i,component:a}=e,l=H.useRef(null),[p,y]=H.useState(null),[u,M]=H.useState([]),[S,P]=H.useState(0),[F,R]=H.useState(0),[J,X]=H.useState(0),[G,K]=H.useState(0),[O,B]=H.useState(!1),V={left:S,top:F,width:J,height:G,borderRadius:u.map(pe=>`${pe}px`).join(" ")};p&&(V["--wave-color"]=p);function ne(){const pe=getComputedStyle(i);y(WL(i));const de=pe.position==="static",{borderLeftWidth:Se,borderTopWidth:Te}=pe;P(de?i.offsetLeft:E8(-parseFloat(Se))),R(de?i.offsetTop:E8(-parseFloat(Te))),X(i.offsetWidth),K(i.offsetHeight);const{borderTopLeftRadius:Me,borderTopRightRadius:Be,borderBottomLeftRadius:He,borderBottomRightRadius:We}=pe;M([Me,Be,We,He].map(qe=>E8(parseFloat(qe))))}if(H.useEffect(()=>{if(i){const pe=Bl(()=>{ne(),B(!0)});let de;return typeof ResizeObserver<"u"&&(de=new ResizeObserver(ne),de.observe(i)),()=>{Bl.cancel(pe),de==null||de.disconnect()}}},[]),!O)return null;const he=(a==="Checkbox"||a==="Radio")&&(i==null?void 0:i.classList.contains(q2));return H.createElement(Wd,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(pe,de)=>{var Se;if(de.deadline||de.propertyName==="opacity"){const Te=(Se=l.current)===null||Se===void 0?void 0:Se.parentElement;OL(Te).then(()=>{Te==null||Te.remove()})}return!1}},pe=>{let{className:de}=pe;return H.createElement("div",{ref:l,className:wn(t,{"wave-quick":he},de),style:V})})},HL=(e,t)=>{var i;const{component:a}=t;if(a==="Checkbox"&&!(!((i=e.querySelector("input"))===null||i===void 0)&&i.checked))return;const l=document.createElement("div");l.style.position="absolute",l.style.left="0px",l.style.top="0px",e==null||e.insertBefore(l,e==null?void 0:e.firstChild),zL(H.createElement(UL,Object.assign({},t,{target:e})),l)},ZL=HL;function GL(e,t,i){const{wave:a}=H.useContext(To),[,l,p]=Ka(),y=P4(S=>{const P=e.current;if(a!=null&&a.disabled||!P)return;const F=P.querySelector(`.${q2}`)||P,{showEffect:R}=a||{};(R||ZL)(F,{className:t,token:l,component:i,event:S,hashId:p})}),u=H.useRef();return S=>{Bl.cancel(u.current),u.current=Bl(()=>{y(S)})}}const qL=e=>{const{children:t,disabled:i,component:a}=e,{getPrefixCls:l}=H.useContext(To),p=H.useRef(null),y=l("wave"),[,u]=jL(y),M=GL(p,wn(y,u),a);if(Ct.useEffect(()=>{const P=p.current;if(!P||P.nodeType!==1||i)return;const F=R=>{!BL(R.target)||!P.getAttribute||P.getAttribute("disabled")||P.disabled||P.className.includes("disabled")||P.className.includes("-leave")||M(R)};return P.addEventListener("click",F,!0),()=>{P.removeEventListener("click",F,!0)}},[i]),!Ct.isValidElement(t))return t??null;const S=A2(t)?f0(t.ref,p):p;return jx(t,{ref:S})},Ux=qL,KL=e=>{const t=Ct.useContext(x0);return Ct.useMemo(()=>e?typeof e=="string"?e??t:e instanceof Function?e(t):t:t,[e,t])},Hx=KL,Zx=H.createContext(null),XL=(e,t)=>{const i=H.useContext(Zx),a=H.useMemo(()=>{if(!i)return"";const{compactDirection:l,isFirstItem:p,isLastItem:y}=i,u=l==="vertical"?"-vertical-":"-";return wn(`${e}-compact${u}item`,{[`${e}-compact${u}first-item`]:p,[`${e}-compact${u}last-item`]:y,[`${e}-compact${u}item-rtl`]:t==="rtl"})},[e,t,i]);return{compactSize:i==null?void 0:i.compactSize,compactDirection:i==null?void 0:i.compactDirection,compactItemClassnames:a}},JL=e=>{let{children:t}=e;return H.createElement(Zx.Provider,{value:null},t)};var YL=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(i[a[l]]=e[a[l]]);return i};const Gx=H.createContext(void 0),QL=e=>{const{getPrefixCls:t,direction:i}=H.useContext(To),{prefixCls:a,size:l,className:p}=e,y=YL(e,["prefixCls","size","className"]),u=t("btn-group",a),[,,M]=Ka();let S="";switch(l){case"large":S="lg";break;case"small":S="sm";break}const P=wn(u,{[`${u}-${S}`]:S,[`${u}-rtl`]:i==="rtl"},p,M);return H.createElement(Gx.Provider,{value:l},H.createElement("div",Object.assign({},y,{className:P})))},eD=QL,Y7=/^[\u4e00-\u9fa5]{2}$/,sm=Y7.test.bind(Y7);function tD(e){return e==="danger"?{danger:!0}:{type:e}}function Q7(e){return typeof e=="string"}function k8(e){return e==="text"||e==="link"}function nD(e,t){if(e==null)return;const i=t?" ":"";return typeof e!="string"&&typeof e!="number"&&Q7(e.type)&&sm(e.props.children)?jx(e,{children:e.props.children.split("").join(i)}):Q7(e)?sm(e)?Ct.createElement("span",null,e.split("").join(i)):Ct.createElement("span",null,e):gL(e)?Ct.createElement("span",null,e):e}function rD(e,t){let i=!1;const a=[];return Ct.Children.forEach(e,l=>{const p=typeof l,y=p==="string"||p==="number";if(i&&y){const u=a.length-1,M=a[u];a[u]=`${M}${l}`}else a.push(l);i=y}),Ct.Children.map(a,l=>nD(l,t))}const iD=H.forwardRef((e,t)=>{const{className:i,style:a,children:l,prefixCls:p}=e,y=wn(`${p}-icon`,i);return Ct.createElement("span",{ref:t,className:y,style:a},l)}),qx=iD,ey=H.forwardRef((e,t)=>{let{prefixCls:i,className:a,style:l,iconClassName:p}=e;const y=wn(`${i}-loading-icon`,a);return Ct.createElement(qx,{prefixCls:i,className:y,style:l,ref:t},Ct.createElement(wL,{className:p}))}),A8=()=>({width:0,opacity:0,transform:"scale(0)"}),P8=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),oD=e=>{const{prefixCls:t,loading:i,existIcon:a,className:l,style:p}=e,y=!!i;return a?Ct.createElement(ey,{prefixCls:t,className:l,style:p}):Ct.createElement(Wd,{visible:y,motionName:`${t}-loading-icon-motion`,motionLeave:y,removeOnLeave:!0,onAppearStart:A8,onAppearActive:P8,onEnterStart:A8,onEnterActive:P8,onLeaveStart:P8,onLeaveActive:A8},(u,M)=>{let{className:S,style:P}=u;return Ct.createElement(ey,{prefixCls:t,className:l,style:Object.assign(Object.assign({},p),P),ref:M,iconClassName:S})})},aD=oD,ty=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),sD=e=>{const{componentCls:t,fontSize:i,lineWidth:a,groupBorderColor:l,colorErrorHover:p}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(a).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:i}},ty(`${t}-primary`,l),ty(`${t}-danger`,p)]}},lD=sD,Kx=e=>{const{paddingInline:t,onlyIconSize:i,paddingBlock:a}=e;return Gs(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:a,buttonIconOnlyFontSize:i})},Xx=e=>{var t,i,a,l,p,y;const u=(t=e.contentFontSize)!==null&&t!==void 0?t:e.fontSize,M=(i=e.contentFontSizeSM)!==null&&i!==void 0?i:e.fontSize,S=(a=e.contentFontSizeLG)!==null&&a!==void 0?a:e.fontSizeLG,P=(l=e.contentLineHeight)!==null&&l!==void 0?l:Xp(u),F=(p=e.contentLineHeightSM)!==null&&p!==void 0?p:Xp(M),R=(y=e.contentLineHeightLG)!==null&&y!==void 0?y:Xp(S);return{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:e.fontSizeLG,onlyIconSizeSM:e.fontSizeLG-2,onlyIconSizeLG:e.fontSizeLG+2,groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:e.colorBgTextHover,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,contentFontSize:u,contentFontSizeSM:M,contentFontSizeLG:S,contentLineHeight:P,contentLineHeightSM:F,contentLineHeightLG:R,paddingBlock:Math.max((e.controlHeight-u*P)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-M*F)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-S*R)/2-e.lineWidth,0)}},uD=e=>{const{componentCls:t,iconCls:i,fontWeight:a}=e;return{[t]:{outline:"none",position:"relative",display:"inline-block",fontWeight:a,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${an(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${t}-icon`]:{lineHeight:0},[`> ${i} + span, > span + ${i}`]:{marginInlineStart:e.marginXS},[`&:not(${t}-icon-only) > ${t}-icon`]:{[`&${t}-loading-icon, &:not(:last-child)`]:{marginInlineEnd:e.marginXS}},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},yx(e)),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${i})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&-icon-only${t}-compact-item`]:{flex:"none"}}}},Xa=(e,t,i)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":i}}),cD=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),dD=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),hD=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),Dd=(e,t,i,a,l,p,y,u)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:i||void 0,background:t,borderColor:a||void 0,boxShadow:"none"},Xa(e,Object.assign({background:t},y),Object.assign({background:t},u))),{"&:disabled":{cursor:"not-allowed",color:l||void 0,borderColor:p||void 0}})}),K2=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},hD(e))}),Jx=e=>Object.assign({},K2(e)),L4=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),Yx=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Jx(e)),{background:e.defaultBg,borderColor:e.defaultBorderColor,color:e.defaultColor,boxShadow:e.defaultShadow}),Xa(e.componentCls,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),Dd(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:e.colorError,borderColor:e.colorError},Xa(e.componentCls,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Dd(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),K2(e))}),pD=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Jx(e)),{color:e.primaryColor,background:e.colorPrimary,boxShadow:e.primaryShadow}),Xa(e.componentCls,{color:e.colorTextLightSolid,background:e.colorPrimaryHover},{color:e.colorTextLightSolid,background:e.colorPrimaryActive})),Dd(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({background:e.colorError,boxShadow:e.dangerShadow,color:e.dangerColor},Xa(e.componentCls,{background:e.colorErrorHover},{background:e.colorErrorActive})),Dd(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),K2(e))}),fD=e=>Object.assign(Object.assign({},Yx(e)),{borderStyle:"dashed"}),mD=e=>Object.assign(Object.assign(Object.assign({color:e.colorLink},Xa(e.componentCls,{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),L4(e)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign({color:e.colorError},Xa(e.componentCls,{color:e.colorErrorHover},{color:e.colorErrorActive})),L4(e))}),gD=e=>Object.assign(Object.assign(Object.assign({},Xa(e.componentCls,{color:e.colorText,background:e.textHoverBg},{color:e.colorText,background:e.colorBgTextActive})),L4(e)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign({color:e.colorError},L4(e)),Xa(e.componentCls,{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBg}))}),yD=e=>{const{componentCls:t}=e;return{[`${t}-default`]:Yx(e),[`${t}-primary`]:pD(e),[`${t}-dashed`]:fD(e),[`${t}-link`]:mD(e),[`${t}-text`]:gD(e),[`${t}-ghost`]:Dd(e.componentCls,e.ghostBg,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)}},X2=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:i,controlHeight:a,fontSize:l,lineHeight:p,borderRadius:y,buttonPaddingHorizontal:u,iconCls:M,buttonPaddingVertical:S}=e,P=`${i}-icon-only`;return[{[`${i}${t}`]:{fontSize:l,lineHeight:p,height:a,padding:`${an(S)} ${an(u)}`,borderRadius:y,[`&${P}`]:{width:a,paddingInlineStart:0,paddingInlineEnd:0,[`&${i}-round`]:{width:"auto"},[M]:{fontSize:e.buttonIconOnlyFontSize}},[`&${i}-loading`]:{opacity:e.opacityLoading,cursor:"default"},[`${i}-loading-icon`]:{transition:`width ${e.motionDurationSlow} ${e.motionEaseInOut}, opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`}}},{[`${i}${i}-circle${t}`]:cD(e)},{[`${i}${i}-round${t}`]:dD(e)}]},vD=e=>X2(Gs(e,{fontSize:e.contentFontSize,lineHeight:e.contentLineHeight})),_D=e=>{const t=Gs(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,lineHeight:e.contentLineHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:e.paddingBlockSM,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return X2(t,`${e.componentCls}-sm`)},xD=e=>{const t=Gs(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,lineHeight:e.contentLineHeightLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:e.paddingBlockLG,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return X2(t,`${e.componentCls}-lg`)},bD=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},wD=V2("Button",e=>{const t=Kx(e);return[uD(t),_D(t),vD(t),xD(t),bD(t),yD(t),lD(t)]},Xx,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function SD(e,t,i){const{focusElCls:a,focus:l,borderElCls:p}=i,y=p?"> *":"",u=["hover",l?"focus":null,"active"].filter(Boolean).map(M=>`&:${M} ${y}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[u]:{zIndex:2}},a?{[`&${a}`]:{zIndex:2}}:{}),{[`&[disabled] ${y}`]:{zIndex:0}})}}function CD(e,t,i){const{borderElCls:a}=i,l=a?`> ${a}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${l}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${l}, &${e}-sm ${l}, &${e}-lg ${l}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${l}, &${e}-sm ${l}, &${e}-lg ${l}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function MD(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:i}=e,a=`${i}-compact`;return{[a]:Object.assign(Object.assign({},SD(e,a,t)),CD(i,a,t))}}function ED(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function kD(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function AD(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},ED(e,t)),kD(e.componentCls,t))}}const PD=e=>{const{componentCls:t,calc:i}=e;return{[t]:{[`&-compact-item${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:i(e.lineWidth).mul(-1).equal(),insetInlineStart:i(e.lineWidth).mul(-1).equal(),display:"inline-block",width:e.lineWidth,height:`calc(100% + ${an(e.lineWidth)} * 2)`,backgroundColor:e.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-vertical-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:i(e.lineWidth).mul(-1).equal(),insetInlineStart:i(e.lineWidth).mul(-1).equal(),display:"inline-block",width:`calc(100% + ${an(e.lineWidth)} * 2)`,height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}}}}}},TD=fI(["Button","compact"],e=>{const t=Kx(e);return[MD(t),AD(t),PD(t)]},Xx);var ID=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(i[a[l]]=e[a[l]]);return i};function LD(e){if(typeof e=="object"&&e){let t=e==null?void 0:e.delay;return t=!Number.isNaN(t)&&typeof t=="number"?t:0,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}const DD=(e,t)=>{var i,a;const{loading:l=!1,prefixCls:p,type:y="default",danger:u,shape:M="default",size:S,styles:P,disabled:F,className:R,rootClassName:J,children:X,icon:G,ghost:K=!1,block:O=!1,htmlType:B="button",classNames:V,style:ne={}}=e,he=ID(e,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),{getPrefixCls:pe,autoInsertSpaceInButton:de,direction:Se,button:Te}=H.useContext(To),Me=pe("btn",p),[Be,He,We]=wD(Me),qe=H.useContext(B2),Je=F??qe,Le=H.useContext(Gx),Ie=H.useMemo(()=>LD(l),[l]),[we,Re]=H.useState(Ie.loading),[Ve,Ze]=H.useState(!1),ut=f0(t,H.createRef()),Pt=H.Children.count(X)===1&&!G&&!k8(y);H.useEffect(()=>{let Rt=null;Ie.delay>0?Rt=setTimeout(()=>{Rt=null,Re(!0)},Ie.delay):Re(Ie.loading);function Kt(){Rt&&(clearTimeout(Rt),Rt=null)}return Kt},[Ie]),H.useEffect(()=>{if(!ut||!ut.current||de===!1)return;const Rt=ut.current.textContent;Pt&&sm(Rt)?Ve||Ze(!0):Ve&&Ze(!1)},[ut]);const Xt=Rt=>{const{onClick:Kt}=e;if(we||Je){Rt.preventDefault();return}Kt==null||Kt(Rt)},qt=de!==!1,{compactSize:ln,compactItemClassnames:er}=XL(Me,Se),tr={large:"lg",small:"sm",middle:void 0},Nn=Hx(Rt=>{var Kt,Ot;return(Ot=(Kt=S??ln)!==null&&Kt!==void 0?Kt:Le)!==null&&Ot!==void 0?Ot:Rt}),nr=Nn&&tr[Nn]||"",Mr=we?"loading":G,nn=jA(he,["navigate"]),Kn=wn(Me,He,We,{[`${Me}-${M}`]:M!=="default"&&M,[`${Me}-${y}`]:y,[`${Me}-${nr}`]:nr,[`${Me}-icon-only`]:!X&&X!==0&&!!Mr,[`${Me}-background-ghost`]:K&&!k8(y),[`${Me}-loading`]:we,[`${Me}-two-chinese-chars`]:Ve&&qt&&!we,[`${Me}-block`]:O,[`${Me}-dangerous`]:!!u,[`${Me}-rtl`]:Se==="rtl"},er,R,J,Te==null?void 0:Te.className),rr=Object.assign(Object.assign({},Te==null?void 0:Te.style),ne),ai=wn(V==null?void 0:V.icon,(i=Te==null?void 0:Te.classNames)===null||i===void 0?void 0:i.icon),Er=Object.assign(Object.assign({},(P==null?void 0:P.icon)||{}),((a=Te==null?void 0:Te.styles)===null||a===void 0?void 0:a.icon)||{}),gr=G&&!we?Ct.createElement(qx,{prefixCls:Me,className:ai,style:Er},G):Ct.createElement(aD,{existIcon:!!G,prefixCls:Me,loading:!!we}),pn=X||X===0?rD(X,Pt&&qt):null;if(nn.href!==void 0)return Be(Ct.createElement("a",Object.assign({},nn,{className:wn(Kn,{[`${Me}-disabled`]:Je}),href:Je?void 0:nn.href,style:rr,onClick:Xt,ref:ut,tabIndex:Je?-1:0}),gr,pn));let ke=Ct.createElement("button",Object.assign({},he,{type:B,className:Kn,style:rr,onClick:Xt,disabled:Je,ref:ut}),gr,pn,er&&Ct.createElement(TD,{key:"compact",prefixCls:Me}));return k8(y)||(ke=Ct.createElement(Ux,{component:"Button",disabled:!!we},ke)),Be(ke)},J2=H.forwardRef(DD);J2.Group=eD;J2.__ANT_BUTTON=!0;const C0=J2,Y2=Ct.createContext({}),{Provider:RD}=Y2;var Qx=H.createContext(null),ny=[];function zD(e,t){var i=H.useState(function(){if(!xi())return null;var X=document.createElement("div");return X}),a=Tt(i,1),l=a[0],p=H.useRef(!1),y=H.useContext(Qx),u=H.useState(ny),M=Tt(u,2),S=M[0],P=M[1],F=y||(p.current?void 0:function(X){P(function(G){var K=[X].concat(Vt(G));return K})});function R(){l.parentElement||document.body.appendChild(l),p.current=!0}function J(){var X;(X=l.parentElement)===null||X===void 0||X.removeChild(l),p.current=!1}return Pd(function(){return e?y?y(R):R():J(),J},[e]),Pd(function(){S.length&&(S.forEach(function(X){return X()}),P(ny))},[S]),[l,F]}var T8;function FD(e){if(typeof document>"u")return 0;if(e||T8===void 0){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var i=document.createElement("div"),a=i.style;a.position="absolute",a.top="0",a.left="0",a.pointerEvents="none",a.visibility="hidden",a.width="200px",a.height="150px",a.overflow="hidden",i.appendChild(t),document.body.appendChild(i);var l=t.offsetWidth;i.style.overflow="scroll";var p=t.offsetWidth;l===p&&(p=i.clientWidth),document.body.removeChild(i),T8=l-p}return T8}function ry(e){var t=e.match(/^(.*)px$/),i=Number(t==null?void 0:t[1]);return Number.isNaN(i)?FD():i}function ND(e){if(typeof document>"u"||!e||!(e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),i=t.width,a=t.height;return{width:ry(i),height:ry(a)}}function OD(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var BD="rc-util-locker-".concat(Date.now()),iy=0;function $D(e){var t=!!e,i=H.useState(function(){return iy+=1,"".concat(BD,"_").concat(iy)}),a=Tt(i,1),l=a[0];Pd(function(){if(t){var p=ND(document.body).width,y=OD();Ws(`
html body {
  overflow-y: hidden;
  `.concat(y?"width: calc(100% - ".concat(p,"px);"):"",`
}`),l)}else Ad(l);return function(){Ad(l)}},[t,l])}var oy=!1;function jD(e){return typeof e=="boolean"&&(oy=e),oy}var ay=function(t){return t===!1?!1:!xi()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},VD=H.forwardRef(function(e,t){var i=e.open,a=e.autoLock,l=e.getContainer;e.debug;var p=e.autoDestroy,y=p===void 0?!0:p,u=e.children,M=H.useState(i),S=Tt(M,2),P=S[0],F=S[1],R=P||i;H.useEffect(function(){(y||i)&&F(i)},[i,y]);var J=H.useState(function(){return ay(l)}),X=Tt(J,2),G=X[0],K=X[1];H.useEffect(function(){var Be=ay(l);K(Be??null)});var O=zD(R&&!G),B=Tt(O,2),V=B[0],ne=B[1],he=G??V;$D(a&&i&&xi()&&(he===V||he===document.body));var pe=null;if(u&&A2(u)&&t){var de=u;pe=de.ref}var Se=E_(pe,t);if(!R||!xi()||G===void 0)return null;var Te=he===!1||jD(),Me=u;return t&&(Me=H.cloneElement(u,{ref:Se})),H.createElement(Qx.Provider,{value:ne},Te?Me:bu.createPortal(Me,he))}),eb=H.createContext({});function WD(){var e=Xe({},Fs);return e.useId}var sy=0,ly=WD();const UD=ly?function(t){var i=ly();return t||i}:function(t){var i=H.useState("ssr-id"),a=Tt(i,2),l=a[0],p=a[1];return H.useEffect(function(){var y=sy;sy+=1,p("rc_unique_".concat(y))},[]),t||l};function uy(e,t,i){var a=t;return!a&&i&&(a="".concat(e,"-").concat(i)),a}function cy(e,t){var i=e["page".concat(t?"Y":"X","Offset")],a="scroll".concat(t?"Top":"Left");if(typeof i!="number"){var l=e.document;i=l.documentElement[a],typeof i!="number"&&(i=l.body[a])}return i}function HD(e){var t=e.getBoundingClientRect(),i={left:t.left,top:t.top},a=e.ownerDocument,l=a.defaultView||a.parentWindow;return i.left+=cy(l),i.top+=cy(l,!0),i}const ZD=H.memo(function(e){var t=e.children;return t},function(e,t){var i=t.shouldUpdate;return!i});var dy={width:0,height:0,overflow:"hidden",outline:"none"},GD=Ct.forwardRef(function(e,t){var i=e.prefixCls,a=e.className,l=e.style,p=e.title,y=e.ariaId,u=e.footer,M=e.closable,S=e.closeIcon,P=e.onClose,F=e.children,R=e.bodyStyle,J=e.bodyProps,X=e.modalRender,G=e.onMouseDown,K=e.onMouseUp,O=e.holderRef,B=e.visible,V=e.forceRender,ne=e.width,he=e.height,pe=e.classNames,de=e.styles,Se=Ct.useContext(eb),Te=Se.panel,Me=E_(O,Te),Be=H.useRef(),He=H.useRef();Ct.useImperativeHandle(t,function(){return{focus:function(){var Re;(Re=Be.current)===null||Re===void 0||Re.focus()},changeActive:function(Re){var Ve=document,Ze=Ve.activeElement;Re&&Ze===He.current?Be.current.focus():!Re&&Ze===Be.current&&He.current.focus()}}});var We={};ne!==void 0&&(We.width=ne),he!==void 0&&(We.height=he);var qe;u&&(qe=Ct.createElement("div",{className:wn("".concat(i,"-footer"),pe==null?void 0:pe.footer),style:Xe({},de==null?void 0:de.footer)},u));var Je;p&&(Je=Ct.createElement("div",{className:wn("".concat(i,"-header"),pe==null?void 0:pe.header),style:Xe({},de==null?void 0:de.header)},Ct.createElement("div",{className:"".concat(i,"-title"),id:y},p)));var Le;M&&(Le=Ct.createElement("button",{type:"button",onClick:P,"aria-label":"Close",className:"".concat(i,"-close")},S||Ct.createElement("span",{className:"".concat(i,"-close-x")})));var Ie=Ct.createElement("div",{className:wn("".concat(i,"-content"),pe==null?void 0:pe.content),style:de==null?void 0:de.content},Le,Je,Ct.createElement("div",zr({className:wn("".concat(i,"-body"),pe==null?void 0:pe.body),style:Xe(Xe({},R),de==null?void 0:de.body)},J),F),qe);return Ct.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":p?y:null,"aria-modal":"true",ref:Me,style:Xe(Xe({},l),We),className:wn(i,a),onMouseDown:G,onMouseUp:K},Ct.createElement("div",{tabIndex:0,ref:Be,style:dy,"aria-hidden":"true"}),Ct.createElement(ZD,{shouldUpdate:B||V},X?X(Ie):Ie),Ct.createElement("div",{tabIndex:0,ref:He,style:dy,"aria-hidden":"true"}))}),tb=H.forwardRef(function(e,t){var i=e.prefixCls,a=e.title,l=e.style,p=e.className,y=e.visible,u=e.forceRender,M=e.destroyOnClose,S=e.motionName,P=e.ariaId,F=e.onVisibleChanged,R=e.mousePosition,J=H.useRef(),X=H.useState(),G=Tt(X,2),K=G[0],O=G[1],B={};K&&(B.transformOrigin=K);function V(){var ne=HD(J.current);O(R?"".concat(R.x-ne.left,"px ").concat(R.y-ne.top,"px"):"")}return H.createElement(Wd,{visible:y,onVisibleChanged:F,onAppearPrepare:V,onEnterPrepare:V,forceRender:u,motionName:S,removeOnLeave:M,ref:J},function(ne,he){var pe=ne.className,de=ne.style;return H.createElement(GD,zr({},e,{ref:t,title:a,ariaId:P,prefixCls:i,holderRef:he,style:Xe(Xe(Xe({},de),l),B),className:wn(p,pe)}))})});tb.displayName="Content";function qD(e){var t=e.prefixCls,i=e.style,a=e.visible,l=e.maskProps,p=e.motionName,y=e.className;return H.createElement(Wd,{key:"mask",visible:a,motionName:p,leavedClassName:"".concat(t,"-mask-hidden")},function(u,M){var S=u.className,P=u.style;return H.createElement("div",zr({ref:M,style:Xe(Xe({},P),i),className:wn("".concat(t,"-mask"),S,y)},l))})}function KD(e){var t=e.prefixCls,i=t===void 0?"rc-dialog":t,a=e.zIndex,l=e.visible,p=l===void 0?!1:l,y=e.keyboard,u=y===void 0?!0:y,M=e.focusTriggerAfterClose,S=M===void 0?!0:M,P=e.wrapStyle,F=e.wrapClassName,R=e.wrapProps,J=e.onClose,X=e.afterOpenChange,G=e.afterClose,K=e.transitionName,O=e.animation,B=e.closable,V=B===void 0?!0:B,ne=e.mask,he=ne===void 0?!0:ne,pe=e.maskTransitionName,de=e.maskAnimation,Se=e.maskClosable,Te=Se===void 0?!0:Se,Me=e.maskStyle,Be=e.maskProps,He=e.rootClassName,We=e.classNames,qe=e.styles,Je=H.useRef(),Le=H.useRef(),Ie=H.useRef(),we=H.useState(p),Re=Tt(we,2),Ve=Re[0],Ze=Re[1],at=UD();function ut(){B5(Le.current,document.activeElement)||(Je.current=document.activeElement)}function Pt(){if(!B5(Le.current,document.activeElement)){var nn;(nn=Ie.current)===null||nn===void 0||nn.focus()}}function Xt(nn){if(nn)Pt();else{if(Ze(!1),he&&Je.current&&S){try{Je.current.focus({preventScroll:!0})}catch{}Je.current=null}Ve&&(G==null||G())}X==null||X(nn)}function qt(nn){J==null||J(nn)}var ln=H.useRef(!1),er=H.useRef(),tr=function(){clearTimeout(er.current),ln.current=!0},Nn=function(){er.current=setTimeout(function(){ln.current=!1})},nr=null;Te&&(nr=function(Kn){ln.current?ln.current=!1:Le.current===Kn.target&&qt(Kn)});function Mr(nn){if(u&&nn.keyCode===Dt.ESC){nn.stopPropagation(),qt(nn);return}p&&nn.keyCode===Dt.TAB&&Ie.current.changeActive(!nn.shiftKey)}return H.useEffect(function(){p&&(Ze(!0),ut())},[p]),H.useEffect(function(){return function(){clearTimeout(er.current)}},[]),H.createElement("div",zr({className:wn("".concat(i,"-root"),He)},Bx(e,{data:!0})),H.createElement(qD,{prefixCls:i,visible:he&&p,motionName:uy(i,pe,de),style:Xe(Xe({zIndex:a},Me),qe==null?void 0:qe.mask),maskProps:Be,className:We==null?void 0:We.mask}),H.createElement("div",zr({tabIndex:-1,onKeyDown:Mr,className:wn("".concat(i,"-wrap"),F,We==null?void 0:We.wrapper),ref:Le,onClick:nr,style:Xe(Xe(Xe({zIndex:a},P),qe==null?void 0:qe.wrapper),{},{display:Ve?null:"none"})},R),H.createElement(tb,zr({},e,{onMouseDown:tr,onMouseUp:Nn,ref:Ie,closable:V,ariaId:at,prefixCls:i,visible:p&&Ve,onClose:qt,onVisibleChanged:Xt,motionName:uy(i,K,O)}))))}var nb=function(t){var i=t.visible,a=t.getContainer,l=t.forceRender,p=t.destroyOnClose,y=p===void 0?!1:p,u=t.afterClose,M=t.panelRef,S=H.useState(i),P=Tt(S,2),F=P[0],R=P[1],J=H.useMemo(function(){return{panel:M}},[M]);return H.useEffect(function(){i&&R(!0)},[i]),!l&&y&&!F?null:H.createElement(eb.Provider,{value:J},H.createElement(VD,{open:i||l||F,autoDestroy:!1,getContainer:a,autoLock:i||F},H.createElement(KD,zr({},t,{destroyOnClose:y,afterClose:function(){u==null||u(),R(!1)}}))))};nb.displayName="Dialog";function XD(e,t,i){return typeof e=="boolean"?e:t===void 0?!!i:t!==!1&&t!==null}function JD(e,t,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ct.createElement(Z2,null),l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(!XD(e,t,l))return[!1,null];const y=typeof t=="boolean"||t===void 0||t===null?a:t;return[!0,i?i(y):y]}const YD=()=>xi()&&window.document.documentElement;var El="RC_FORM_INTERNAL_HOOKS",bn=function(){ro(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},yu=H.createContext({getFieldValue:bn,getFieldsValue:bn,getFieldError:bn,getFieldWarning:bn,getFieldsError:bn,isFieldsTouched:bn,isFieldTouched:bn,isFieldValidating:bn,isFieldsValidating:bn,resetFields:bn,setFields:bn,setFieldValue:bn,setFieldsValue:bn,validateFields:bn,submit:bn,getInternalHooks:function(){return bn(),{dispatch:bn,initEntityValue:bn,registerField:bn,useSubscribe:bn,setInitialValues:bn,destroyForm:bn,setCallbacks:bn,registerWatch:bn,getFields:bn,setValidateMessages:bn,setPreserve:bn,getInitialValue:bn}}}),D4=H.createContext(null);function lm(e){return e==null?[]:Array.isArray(e)?e:[e]}function QD(e){return e&&!!e._init}function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},kl.apply(this,arguments)}function eR(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Rd(e,t)}function um(e){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},um(e)}function Rd(e,t){return Rd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,l){return a.__proto__=l,a},Rd(e,t)}function tR(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jp(e,t,i){return tR()?Jp=Reflect.construct.bind():Jp=function(l,p,y){var u=[null];u.push.apply(u,p);var M=Function.bind.apply(l,u),S=new M;return y&&Rd(S,y.prototype),S},Jp.apply(null,arguments)}function nR(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function cm(e){var t=typeof Map=="function"?new Map:void 0;return cm=function(a){if(a===null||!nR(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(a))return t.get(a);t.set(a,l)}function l(){return Jp(a,arguments,um(this).constructor)}return l.prototype=Object.create(a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),Rd(l,a)},cm(e)}var rR=/%[sdj%]/g,iR=function(){};function dm(e){if(!e||!e.length)return null;var t={};return e.forEach(function(i){var a=i.field;t[a]=t[a]||[],t[a].push(i)}),t}function to(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];var l=0,p=i.length;if(typeof e=="function")return e.apply(null,i);if(typeof e=="string"){var y=e.replace(rR,function(u){if(u==="%%")return"%";if(l>=p)return u;switch(u){case"%s":return String(i[l++]);case"%d":return Number(i[l++]);case"%j":try{return JSON.stringify(i[l++])}catch{return"[Circular]"}break;default:return u}});return y}return e}function oR(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Cr(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||oR(t)&&typeof e=="string"&&!e)}function aR(e,t,i){var a=[],l=0,p=e.length;function y(u){a.push.apply(a,u||[]),l++,l===p&&i(a)}e.forEach(function(u){t(u,y)})}function hy(e,t,i){var a=0,l=e.length;function p(y){if(y&&y.length){i(y);return}var u=a;a=a+1,u<l?t(e[u],p):i([])}p([])}function sR(e){var t=[];return Object.keys(e).forEach(function(i){t.push.apply(t,e[i]||[])}),t}var py=function(e){eR(t,e);function t(i,a){var l;return l=e.call(this,"Async Validation Error")||this,l.errors=i,l.fields=a,l}return t}(cm(Error));function lR(e,t,i,a,l){if(t.first){var p=new Promise(function(R,J){var X=function(O){return a(O),O.length?J(new py(O,dm(O))):R(l)},G=sR(e);hy(G,i,X)});return p.catch(function(R){return R}),p}var y=t.firstFields===!0?Object.keys(e):t.firstFields||[],u=Object.keys(e),M=u.length,S=0,P=[],F=new Promise(function(R,J){var X=function(K){if(P.push.apply(P,K),S++,S===M)return a(P),P.length?J(new py(P,dm(P))):R(l)};u.length||(a(P),R(l)),u.forEach(function(G){var K=e[G];y.indexOf(G)!==-1?hy(K,i,X):aR(K,i,X)})});return F.catch(function(R){return R}),F}function uR(e){return!!(e&&e.message!==void 0)}function cR(e,t){for(var i=e,a=0;a<t.length;a++){if(i==null)return i;i=i[t[a]]}return i}function fy(e,t){return function(i){var a;return e.fullFields?a=cR(t,e.fullFields):a=t[i.field||e.fullField],uR(i)?(i.field=i.field||e.fullField,i.fieldValue=a,i):{message:typeof i=="function"?i():i,fieldValue:a,field:i.field||e.fullField}}}function my(e,t){if(t){for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];typeof a=="object"&&typeof e[i]=="object"?e[i]=kl({},e[i],a):e[i]=a}}return e}var rb=function(t,i,a,l,p,y){t.required&&(!a.hasOwnProperty(t.field)||Cr(i,y||t.type))&&l.push(to(p.messages.required,t.fullField))},dR=function(t,i,a,l,p){(/^\s+$/.test(i)||i==="")&&l.push(to(p.messages.whitespace,t.fullField))},Pp,hR=function(){if(Pp)return Pp;var e="[a-fA-F\\d:]",t=function(ne){return ne&&ne.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},i="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",a="[a-fA-F\\d]{1,4}",l=(`
(?:
(?:`+a+":){7}(?:"+a+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+a+":){6}(?:"+i+"|:"+a+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+a+":){5}(?::"+i+"|(?::"+a+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+a+":){4}(?:(?::"+a+"){0,1}:"+i+"|(?::"+a+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+a+":){3}(?:(?::"+a+"){0,2}:"+i+"|(?::"+a+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+a+":){2}(?:(?::"+a+"){0,3}:"+i+"|(?::"+a+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+a+":){1}(?:(?::"+a+"){0,4}:"+i+"|(?::"+a+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+a+"){0,5}:"+i+"|(?::"+a+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),p=new RegExp("(?:^"+i+"$)|(?:^"+l+"$)"),y=new RegExp("^"+i+"$"),u=new RegExp("^"+l+"$"),M=function(ne){return ne&&ne.exact?p:new RegExp("(?:"+t(ne)+i+t(ne)+")|(?:"+t(ne)+l+t(ne)+")","g")};M.v4=function(V){return V&&V.exact?y:new RegExp(""+t(V)+i+t(V),"g")},M.v6=function(V){return V&&V.exact?u:new RegExp(""+t(V)+l+t(V),"g")};var S="(?:(?:[a-z]+:)?//)",P="(?:\\S+(?::\\S*)?@)?",F=M.v4().source,R=M.v6().source,J="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",X="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",G="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",K="(?::\\d{2,5})?",O='(?:[/?#][^\\s"]*)?',B="(?:"+S+"|www\\.)"+P+"(?:localhost|"+F+"|"+R+"|"+J+X+G+")"+K+O;return Pp=new RegExp("(?:^"+B+"$)","i"),Pp},gy={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},qc={integer:function(t){return qc.number(t)&&parseInt(t,10)===t},float:function(t){return qc.number(t)&&!qc.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!qc.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(gy.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(hR())},hex:function(t){return typeof t=="string"&&!!t.match(gy.hex)}},pR=function(t,i,a,l,p){if(t.required&&i===void 0){rb(t,i,a,l,p);return}var y=["integer","float","array","regexp","object","method","email","number","date","url","hex"],u=t.type;y.indexOf(u)>-1?qc[u](i)||l.push(to(p.messages.types[u],t.fullField,t.type)):u&&typeof i!==t.type&&l.push(to(p.messages.types[u],t.fullField,t.type))},fR=function(t,i,a,l,p){var y=typeof t.len=="number",u=typeof t.min=="number",M=typeof t.max=="number",S=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,P=i,F=null,R=typeof i=="number",J=typeof i=="string",X=Array.isArray(i);if(R?F="number":J?F="string":X&&(F="array"),!F)return!1;X&&(P=i.length),J&&(P=i.replace(S,"_").length),y?P!==t.len&&l.push(to(p.messages[F].len,t.fullField,t.len)):u&&!M&&P<t.min?l.push(to(p.messages[F].min,t.fullField,t.min)):M&&!u&&P>t.max?l.push(to(p.messages[F].max,t.fullField,t.max)):u&&M&&(P<t.min||P>t.max)&&l.push(to(p.messages[F].range,t.fullField,t.min,t.max))},D1="enum",mR=function(t,i,a,l,p){t[D1]=Array.isArray(t[D1])?t[D1]:[],t[D1].indexOf(i)===-1&&l.push(to(p.messages[D1],t.fullField,t[D1].join(", ")))},gR=function(t,i,a,l,p){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(i)||l.push(to(p.messages.pattern.mismatch,t.fullField,i,t.pattern));else if(typeof t.pattern=="string"){var y=new RegExp(t.pattern);y.test(i)||l.push(to(p.messages.pattern.mismatch,t.fullField,i,t.pattern))}}},Jt={required:rb,whitespace:dR,type:pR,range:fR,enum:mR,pattern:gR},yR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i,"string")&&!t.required)return a();Jt.required(t,i,l,y,p,"string"),Cr(i,"string")||(Jt.type(t,i,l,y,p),Jt.range(t,i,l,y,p),Jt.pattern(t,i,l,y,p),t.whitespace===!0&&Jt.whitespace(t,i,l,y,p))}a(y)},vR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i)&&!t.required)return a();Jt.required(t,i,l,y,p),i!==void 0&&Jt.type(t,i,l,y,p)}a(y)},_R=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(i===""&&(i=void 0),Cr(i)&&!t.required)return a();Jt.required(t,i,l,y,p),i!==void 0&&(Jt.type(t,i,l,y,p),Jt.range(t,i,l,y,p))}a(y)},xR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i)&&!t.required)return a();Jt.required(t,i,l,y,p),i!==void 0&&Jt.type(t,i,l,y,p)}a(y)},bR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i)&&!t.required)return a();Jt.required(t,i,l,y,p),Cr(i)||Jt.type(t,i,l,y,p)}a(y)},wR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i)&&!t.required)return a();Jt.required(t,i,l,y,p),i!==void 0&&(Jt.type(t,i,l,y,p),Jt.range(t,i,l,y,p))}a(y)},SR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i)&&!t.required)return a();Jt.required(t,i,l,y,p),i!==void 0&&(Jt.type(t,i,l,y,p),Jt.range(t,i,l,y,p))}a(y)},CR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(i==null&&!t.required)return a();Jt.required(t,i,l,y,p,"array"),i!=null&&(Jt.type(t,i,l,y,p),Jt.range(t,i,l,y,p))}a(y)},MR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i)&&!t.required)return a();Jt.required(t,i,l,y,p),i!==void 0&&Jt.type(t,i,l,y,p)}a(y)},ER="enum",kR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i)&&!t.required)return a();Jt.required(t,i,l,y,p),i!==void 0&&Jt[ER](t,i,l,y,p)}a(y)},AR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i,"string")&&!t.required)return a();Jt.required(t,i,l,y,p),Cr(i,"string")||Jt.pattern(t,i,l,y,p)}a(y)},PR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i,"date")&&!t.required)return a();if(Jt.required(t,i,l,y,p),!Cr(i,"date")){var M;i instanceof Date?M=i:M=new Date(i),Jt.type(t,M,l,y,p),M&&Jt.range(t,M.getTime(),l,y,p)}}a(y)},TR=function(t,i,a,l,p){var y=[],u=Array.isArray(i)?"array":typeof i;Jt.required(t,i,l,y,p,u),a(y)},I8=function(t,i,a,l,p){var y=t.type,u=[],M=t.required||!t.required&&l.hasOwnProperty(t.field);if(M){if(Cr(i,y)&&!t.required)return a();Jt.required(t,i,l,u,p,y),Cr(i,y)||Jt.type(t,i,l,u,p)}a(u)},IR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i)&&!t.required)return a();Jt.required(t,i,l,y,p)}a(y)},sd={string:yR,method:vR,number:_R,boolean:xR,regexp:bR,integer:wR,float:SR,array:CR,object:MR,enum:kR,pattern:AR,date:PR,url:I8,hex:I8,email:I8,required:TR,any:IR};function hm(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var pm=hm(),Hd=function(){function e(i){this.rules=null,this._messages=pm,this.define(i)}var t=e.prototype;return t.define=function(a){var l=this;if(!a)throw new Error("Cannot configure a schema with no rules");if(typeof a!="object"||Array.isArray(a))throw new Error("Rules must be an object");this.rules={},Object.keys(a).forEach(function(p){var y=a[p];l.rules[p]=Array.isArray(y)?y:[y]})},t.messages=function(a){return a&&(this._messages=my(hm(),a)),this._messages},t.validate=function(a,l,p){var y=this;l===void 0&&(l={}),p===void 0&&(p=function(){});var u=a,M=l,S=p;if(typeof M=="function"&&(S=M,M={}),!this.rules||Object.keys(this.rules).length===0)return S&&S(null,u),Promise.resolve(u);function P(G){var K=[],O={};function B(ne){if(Array.isArray(ne)){var he;K=(he=K).concat.apply(he,ne)}else K.push(ne)}for(var V=0;V<G.length;V++)B(G[V]);K.length?(O=dm(K),S(K,O)):S(null,u)}if(M.messages){var F=this.messages();F===pm&&(F=hm()),my(F,M.messages),M.messages=F}else M.messages=this.messages();var R={},J=M.keys||Object.keys(this.rules);J.forEach(function(G){var K=y.rules[G],O=u[G];K.forEach(function(B){var V=B;typeof V.transform=="function"&&(u===a&&(u=kl({},u)),O=u[G]=V.transform(O)),typeof V=="function"?V={validator:V}:V=kl({},V),V.validator=y.getValidationMethod(V),V.validator&&(V.field=G,V.fullField=V.fullField||G,V.type=y.getType(V),R[G]=R[G]||[],R[G].push({rule:V,value:O,source:u,field:G}))})});var X={};return lR(R,M,function(G,K){var O=G.rule,B=(O.type==="object"||O.type==="array")&&(typeof O.fields=="object"||typeof O.defaultField=="object");B=B&&(O.required||!O.required&&G.value),O.field=G.field;function V(pe,de){return kl({},de,{fullField:O.fullField+"."+pe,fullFields:O.fullFields?[].concat(O.fullFields,[pe]):[pe]})}function ne(pe){pe===void 0&&(pe=[]);var de=Array.isArray(pe)?pe:[pe];!M.suppressWarning&&de.length&&e.warning("async-validator:",de),de.length&&O.message!==void 0&&(de=[].concat(O.message));var Se=de.map(fy(O,u));if(M.first&&Se.length)return X[O.field]=1,K(Se);if(!B)K(Se);else{if(O.required&&!G.value)return O.message!==void 0?Se=[].concat(O.message).map(fy(O,u)):M.error&&(Se=[M.error(O,to(M.messages.required,O.field))]),K(Se);var Te={};O.defaultField&&Object.keys(G.value).map(function(He){Te[He]=O.defaultField}),Te=kl({},Te,G.rule.fields);var Me={};Object.keys(Te).forEach(function(He){var We=Te[He],qe=Array.isArray(We)?We:[We];Me[He]=qe.map(V.bind(null,He))});var Be=new e(Me);Be.messages(M.messages),G.rule.options&&(G.rule.options.messages=M.messages,G.rule.options.error=M.error),Be.validate(G.value,G.rule.options||M,function(He){var We=[];Se&&Se.length&&We.push.apply(We,Se),He&&He.length&&We.push.apply(We,He),K(We.length?We:null)})}}var he;if(O.asyncValidator)he=O.asyncValidator(O,G.value,ne,G.source,M);else if(O.validator){try{he=O.validator(O,G.value,ne,G.source,M)}catch(pe){console.error==null||console.error(pe),M.suppressValidatorError||setTimeout(function(){throw pe},0),ne(pe.message)}he===!0?ne():he===!1?ne(typeof O.message=="function"?O.message(O.fullField||O.field):O.message||(O.fullField||O.field)+" fails"):he instanceof Array?ne(he):he instanceof Error&&ne(he.message)}he&&he.then&&he.then(function(){return ne()},function(pe){return ne(pe)})},function(G){P(G)},u)},t.getType=function(a){if(a.type===void 0&&a.pattern instanceof RegExp&&(a.type="pattern"),typeof a.validator!="function"&&a.type&&!sd.hasOwnProperty(a.type))throw new Error(to("Unknown rule type %s",a.type));return a.type||"string"},t.getValidationMethod=function(a){if(typeof a.validator=="function")return a.validator;var l=Object.keys(a),p=l.indexOf("message");return p!==-1&&l.splice(p,1),l.length===1&&l[0]==="required"?sd.required:sd[this.getType(a)]||void 0},e}();Hd.register=function(t,i){if(typeof i!="function")throw new Error("Cannot register a validator by type, validator is not a function");sd[t]=i};Hd.warning=iR;Hd.messages=pm;Hd.validators=sd;var qi="'${name}' is not a valid ${type}",ib={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:qi,method:qi,array:qi,object:qi,number:qi,date:qi,boolean:qi,integer:qi,float:qi,regexp:qi,email:qi,url:qi,hex:qi},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},yy=Hd;function LR(e,t){return e.replace(/\$\{\w+\}/g,function(i){var a=i.slice(2,-1);return t[a]})}var vy="CODE_LOGIC_ERROR";function fm(e,t,i,a,l){return mm.apply(this,arguments)}function mm(){return mm=Ul(bi().mark(function e(t,i,a,l,p){var y,u,M,S,P,F,R,J,X;return bi().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return y=Xe({},a),delete y.ruleIndex,yy.warning=function(){},y.validator&&(u=y.validator,y.validator=function(){try{return u.apply(void 0,arguments)}catch(O){return console.error(O),Promise.reject(vy)}}),M=null,y&&y.type==="array"&&y.defaultField&&(M=y.defaultField,delete y.defaultField),S=new yy(Fe({},t,[y])),P=q1(ib,l.validateMessages),S.messages(P),F=[],K.prev=10,K.next=13,Promise.resolve(S.validate(Fe({},t,i),Xe({},l)));case 13:K.next=18;break;case 15:K.prev=15,K.t0=K.catch(10),K.t0.errors&&(F=K.t0.errors.map(function(O,B){var V=O.message,ne=V===vy?P.default:V;return H.isValidElement(ne)?H.cloneElement(ne,{key:"error_".concat(B)}):ne}));case 18:if(!(!F.length&&M)){K.next=23;break}return K.next=21,Promise.all(i.map(function(O,B){return fm("".concat(t,".").concat(B),O,M,l,p)}));case 21:return R=K.sent,K.abrupt("return",R.reduce(function(O,B){return[].concat(Vt(O),Vt(B))},[]));case 23:return J=Xe(Xe({},a),{},{name:t,enum:(a.enum||[]).join(", ")},p),X=F.map(function(O){return typeof O=="string"?LR(O,J):O}),K.abrupt("return",X);case 26:case"end":return K.stop()}},e,null,[[10,15]])})),mm.apply(this,arguments)}function DR(e,t,i,a,l,p){var y=e.join("."),u=i.map(function(P,F){var R=P.validator,J=Xe(Xe({},P),{},{ruleIndex:F});return R&&(J.validator=function(X,G,K){var O=!1,B=function(){for(var he=arguments.length,pe=new Array(he),de=0;de<he;de++)pe[de]=arguments[de];Promise.resolve().then(function(){ro(!O,"Your validator function has already return a promise. `callback` will be ignored."),O||K.apply(void 0,pe)})},V=R(X,G,B);O=V&&typeof V.then=="function"&&typeof V.catch=="function",ro(O,"`callback` is deprecated. Please return a promise instead."),O&&V.then(function(){K()}).catch(function(ne){K(ne||" ")})}),J}).sort(function(P,F){var R=P.warningOnly,J=P.ruleIndex,X=F.warningOnly,G=F.ruleIndex;return!!R==!!X?J-G:R?1:-1}),M;if(l===!0)M=new Promise(function(){var P=Ul(bi().mark(function F(R,J){var X,G,K;return bi().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:X=0;case 1:if(!(X<u.length)){B.next=12;break}return G=u[X],B.next=5,fm(y,t,G,a,p);case 5:if(K=B.sent,!K.length){B.next=9;break}return J([{errors:K,rule:G}]),B.abrupt("return");case 9:X+=1,B.next=1;break;case 12:R([]);case 13:case"end":return B.stop()}},F)}));return function(F,R){return P.apply(this,arguments)}}());else{var S=u.map(function(P){return fm(y,t,P,a,p).then(function(F){return{errors:F,rule:P}})});M=(l?zR(S):RR(S)).then(function(P){return Promise.reject(P)})}return M.catch(function(P){return P}),M}function RR(e){return gm.apply(this,arguments)}function gm(){return gm=Ul(bi().mark(function e(t){return bi().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Promise.all(t).then(function(l){var p,y=(p=[]).concat.apply(p,Vt(l));return y}));case 1:case"end":return a.stop()}},e)})),gm.apply(this,arguments)}function zR(e){return ym.apply(this,arguments)}function ym(){return ym=Ul(bi().mark(function e(t){var i;return bi().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=0,l.abrupt("return",new Promise(function(p){t.forEach(function(y){y.then(function(u){u.errors.length&&p([u]),i+=1,i===t.length&&p([])})})}));case 2:case"end":return l.stop()}},e)})),ym.apply(this,arguments)}function hr(e){return lm(e)}function _y(e,t){var i={};return t.forEach(function(a){var l=ga(e,a);i=Zo(i,a,l)}),i}function iu(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e&&e.some(function(a){return ob(t,a,i)})}function ob(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!e||!t||!i&&e.length!==t.length?!1:t.every(function(a,l){return e[l]===a})}function FR(e,t){if(e===t)return!0;if(!e&&t||e&&!t||!e||!t||Sn(e)!=="object"||Sn(t)!=="object")return!1;var i=Object.keys(e),a=Object.keys(t),l=new Set([].concat(i,a));return Vt(l).every(function(p){var y=e[p],u=t[p];return typeof y=="function"&&typeof u=="function"?!0:y===u})}function NR(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&Sn(t.target)==="object"&&e in t.target?t.target[e]:t}function xy(e,t,i){var a=e.length;if(t<0||t>=a||i<0||i>=a)return e;var l=e[t],p=t-i;return p>0?[].concat(Vt(e.slice(0,i)),[l],Vt(e.slice(i,t)),Vt(e.slice(t+1,a))):p<0?[].concat(Vt(e.slice(0,t)),Vt(e.slice(t+1,i+1)),[l],Vt(e.slice(i+1,a))):e}var OR=["name"],_o=[];function by(e,t,i,a,l,p){return typeof e=="function"?e(t,i,"source"in p?{source:p.source}:{}):a!==l}var Q2=function(e){Vd(i,e);var t=T2(i);function i(a){var l;if(Ao(this,i),l=t.call(this,a),Fe(on(l),"state",{resetCount:0}),Fe(on(l),"cancelRegisterFunc",null),Fe(on(l),"mounted",!1),Fe(on(l),"touched",!1),Fe(on(l),"dirty",!1),Fe(on(l),"validatePromise",void 0),Fe(on(l),"prevValidating",void 0),Fe(on(l),"errors",_o),Fe(on(l),"warnings",_o),Fe(on(l),"cancelRegister",function(){var M=l.props,S=M.preserve,P=M.isListField,F=M.name;l.cancelRegisterFunc&&l.cancelRegisterFunc(P,S,hr(F)),l.cancelRegisterFunc=null}),Fe(on(l),"getNamePath",function(){var M=l.props,S=M.name,P=M.fieldContext,F=P.prefixName,R=F===void 0?[]:F;return S!==void 0?[].concat(Vt(R),Vt(S)):[]}),Fe(on(l),"getRules",function(){var M=l.props,S=M.rules,P=S===void 0?[]:S,F=M.fieldContext;return P.map(function(R){return typeof R=="function"?R(F):R})}),Fe(on(l),"refresh",function(){l.mounted&&l.setState(function(M){var S=M.resetCount;return{resetCount:S+1}})}),Fe(on(l),"metaCache",null),Fe(on(l),"triggerMetaEvent",function(M){var S=l.props.onMetaChange;if(S){var P=Xe(Xe({},l.getMeta()),{},{destroy:M});N_(l.metaCache,P)||S(P),l.metaCache=P}else l.metaCache=null}),Fe(on(l),"onStoreChange",function(M,S,P){var F=l.props,R=F.shouldUpdate,J=F.dependencies,X=J===void 0?[]:J,G=F.onReset,K=P.store,O=l.getNamePath(),B=l.getValue(M),V=l.getValue(K),ne=S&&iu(S,O);switch(P.type==="valueUpdate"&&P.source==="external"&&B!==V&&(l.touched=!0,l.dirty=!0,l.validatePromise=null,l.errors=_o,l.warnings=_o,l.triggerMetaEvent()),P.type){case"reset":if(!S||ne){l.touched=!1,l.dirty=!1,l.validatePromise=void 0,l.errors=_o,l.warnings=_o,l.triggerMetaEvent(),G==null||G(),l.refresh();return}break;case"remove":{if(R){l.reRender();return}break}case"setField":{var he=P.data;if(ne){"touched"in he&&(l.touched=he.touched),"validating"in he&&!("originRCField"in he)&&(l.validatePromise=he.validating?Promise.resolve([]):null),"errors"in he&&(l.errors=he.errors||_o),"warnings"in he&&(l.warnings=he.warnings||_o),l.dirty=!0,l.triggerMetaEvent(),l.reRender();return}else if("value"in he&&iu(S,O,!0)){l.reRender();return}if(R&&!O.length&&by(R,M,K,B,V,P)){l.reRender();return}break}case"dependenciesUpdate":{var pe=X.map(hr);if(pe.some(function(de){return iu(P.relatedFields,de)})){l.reRender();return}break}default:if(ne||(!X.length||O.length||R)&&by(R,M,K,B,V,P)){l.reRender();return}break}R===!0&&l.reRender()}),Fe(on(l),"validateRules",function(M){var S=l.getNamePath(),P=l.getValue(),F=M||{},R=F.triggerName,J=F.validateOnly,X=J===void 0?!1:J,G=Promise.resolve().then(Ul(bi().mark(function K(){var O,B,V,ne,he,pe,de;return bi().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:if(l.mounted){Te.next=2;break}return Te.abrupt("return",[]);case 2:if(O=l.props,B=O.validateFirst,V=B===void 0?!1:B,ne=O.messageVariables,he=O.validateDebounce,pe=l.getRules(),R&&(pe=pe.filter(function(Me){return Me}).filter(function(Me){var Be=Me.validateTrigger;if(!Be)return!0;var He=lm(Be);return He.includes(R)})),!(he&&R)){Te.next=10;break}return Te.next=8,new Promise(function(Me){setTimeout(Me,he)});case 8:if(l.validatePromise===G){Te.next=10;break}return Te.abrupt("return",[]);case 10:return de=DR(S,P,pe,M,V,ne),de.catch(function(Me){return Me}).then(function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_o;if(l.validatePromise===G){var Be;l.validatePromise=null;var He=[],We=[];(Be=Me.forEach)===null||Be===void 0||Be.call(Me,function(qe){var Je=qe.rule.warningOnly,Le=qe.errors,Ie=Le===void 0?_o:Le;Je?We.push.apply(We,Vt(Ie)):He.push.apply(He,Vt(Ie))}),l.errors=He,l.warnings=We,l.triggerMetaEvent(),l.reRender()}}),Te.abrupt("return",de);case 13:case"end":return Te.stop()}},K)})));return X||(l.validatePromise=G,l.dirty=!0,l.errors=_o,l.warnings=_o,l.triggerMetaEvent(),l.reRender()),G}),Fe(on(l),"isFieldValidating",function(){return!!l.validatePromise}),Fe(on(l),"isFieldTouched",function(){return l.touched}),Fe(on(l),"isFieldDirty",function(){if(l.dirty||l.props.initialValue!==void 0)return!0;var M=l.props.fieldContext,S=M.getInternalHooks(El),P=S.getInitialValue;return P(l.getNamePath())!==void 0}),Fe(on(l),"getErrors",function(){return l.errors}),Fe(on(l),"getWarnings",function(){return l.warnings}),Fe(on(l),"isListField",function(){return l.props.isListField}),Fe(on(l),"isList",function(){return l.props.isList}),Fe(on(l),"isPreserve",function(){return l.props.preserve}),Fe(on(l),"getMeta",function(){l.prevValidating=l.isFieldValidating();var M={touched:l.isFieldTouched(),validating:l.prevValidating,errors:l.errors,warnings:l.warnings,name:l.getNamePath(),validated:l.validatePromise===null};return M}),Fe(on(l),"getOnlyChild",function(M){if(typeof M=="function"){var S=l.getMeta();return Xe(Xe({},l.getOnlyChild(M(l.getControlled(),S,l.props.fieldContext))),{},{isFunction:!0})}var P=z5(M);return P.length!==1||!H.isValidElement(P[0])?{child:P,isFunction:!1}:{child:P[0],isFunction:!1}}),Fe(on(l),"getValue",function(M){var S=l.props.fieldContext.getFieldsValue,P=l.getNamePath();return ga(M||S(!0),P)}),Fe(on(l),"getControlled",function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=l.props,P=S.trigger,F=S.validateTrigger,R=S.getValueFromEvent,J=S.normalize,X=S.valuePropName,G=S.getValueProps,K=S.fieldContext,O=F!==void 0?F:K.validateTrigger,B=l.getNamePath(),V=K.getInternalHooks,ne=K.getFieldsValue,he=V(El),pe=he.dispatch,de=l.getValue(),Se=G||function(He){return Fe({},X,He)},Te=M[P],Me=Xe(Xe({},M),Se(de));Me[P]=function(){l.touched=!0,l.dirty=!0,l.triggerMetaEvent();for(var He,We=arguments.length,qe=new Array(We),Je=0;Je<We;Je++)qe[Je]=arguments[Je];R?He=R.apply(void 0,qe):He=NR.apply(void 0,[X].concat(qe)),J&&(He=J(He,de,ne(!0))),pe({type:"updateValue",namePath:B,value:He}),Te&&Te.apply(void 0,qe)};var Be=lm(O||[]);return Be.forEach(function(He){var We=Me[He];Me[He]=function(){We&&We.apply(void 0,arguments);var qe=l.props.rules;qe&&qe.length&&pe({type:"validateField",namePath:B,triggerName:He})}}),Me}),a.fieldContext){var p=a.fieldContext.getInternalHooks,y=p(El),u=y.initEntityValue;u(on(l))}return l}return Po(i,[{key:"componentDidMount",value:function(){var l=this.props,p=l.shouldUpdate,y=l.fieldContext;if(this.mounted=!0,y){var u=y.getInternalHooks,M=u(El),S=M.registerField;this.cancelRegisterFunc=S(this)}p===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var l=this.state.resetCount,p=this.props.children,y=this.getOnlyChild(p),u=y.child,M=y.isFunction,S;return M?S=u:H.isValidElement(u)?S=H.cloneElement(u,this.getControlled(u.props)):(ro(!u,"`children` of Field is not validate ReactElement."),S=u),H.createElement(H.Fragment,{key:l},S)}}]),i}(H.Component);Fe(Q2,"contextType",yu);Fe(Q2,"defaultProps",{trigger:"onChange",valuePropName:"value"});function ab(e){var t=e.name,i=qa(e,OR),a=H.useContext(yu),l=H.useContext(D4),p=t!==void 0?hr(t):void 0,y="keep";return i.isListField||(y="_".concat((p||[]).join("_"))),H.createElement(Q2,zr({key:y,name:p,isListField:!!l},i,{fieldContext:a}))}function BR(e){var t=e.name,i=e.initialValue,a=e.children,l=e.rules,p=e.validateTrigger,y=e.isListField,u=H.useContext(yu),M=H.useContext(D4),S=H.useRef({keys:[],id:0}),P=S.current,F=H.useMemo(function(){var G=hr(u.prefixName)||[];return[].concat(Vt(G),Vt(hr(t)))},[u.prefixName,t]),R=H.useMemo(function(){return Xe(Xe({},u),{},{prefixName:F})},[u,F]),J=H.useMemo(function(){return{getKey:function(K){var O=F.length,B=K[O];return[P.keys[B],K.slice(O+1)]}}},[F]);if(typeof a!="function")return ro(!1,"Form.List only accepts function as children."),null;var X=function(K,O,B){var V=B.source;return V==="internal"?!1:K!==O};return H.createElement(D4.Provider,{value:J},H.createElement(yu.Provider,{value:R},H.createElement(ab,{name:[],shouldUpdate:X,rules:l,validateTrigger:p,initialValue:i,isList:!0,isListField:y??!!M},function(G,K){var O=G.value,B=O===void 0?[]:O,V=G.onChange,ne=u.getFieldValue,he=function(){var Te=ne(F||[]);return Te||[]},pe={add:function(Te,Me){var Be=he();Me>=0&&Me<=Be.length?(P.keys=[].concat(Vt(P.keys.slice(0,Me)),[P.id],Vt(P.keys.slice(Me))),V([].concat(Vt(Be.slice(0,Me)),[Te],Vt(Be.slice(Me))))):(P.keys=[].concat(Vt(P.keys),[P.id]),V([].concat(Vt(Be),[Te]))),P.id+=1},remove:function(Te){var Me=he(),Be=new Set(Array.isArray(Te)?Te:[Te]);Be.size<=0||(P.keys=P.keys.filter(function(He,We){return!Be.has(We)}),V(Me.filter(function(He,We){return!Be.has(We)})))},move:function(Te,Me){if(Te!==Me){var Be=he();Te<0||Te>=Be.length||Me<0||Me>=Be.length||(P.keys=xy(P.keys,Te,Me),V(xy(Be,Te,Me)))}}},de=B||[];return Array.isArray(de)||(de=[]),a(de.map(function(Se,Te){var Me=P.keys[Te];return Me===void 0&&(P.keys[Te]=P.id,Me=P.keys[Te],P.id+=1),{name:Te,key:Me,isListField:!0}}),pe,K)})))}function $R(e){var t=!1,i=e.length,a=[];return e.length?new Promise(function(l,p){e.forEach(function(y,u){y.catch(function(M){return t=!0,M}).then(function(M){i-=1,a[u]=M,!(i>0)&&(t&&p(a),l(a))})})}):Promise.resolve([])}var sb="__@field_split__";function L8(e){return e.map(function(t){return"".concat(Sn(t),":").concat(t)}).join(sb)}var R1=function(){function e(){Ao(this,e),Fe(this,"kvs",new Map)}return Po(e,[{key:"set",value:function(i,a){this.kvs.set(L8(i),a)}},{key:"get",value:function(i){return this.kvs.get(L8(i))}},{key:"update",value:function(i,a){var l=this.get(i),p=a(l);p?this.set(i,p):this.delete(i)}},{key:"delete",value:function(i){this.kvs.delete(L8(i))}},{key:"map",value:function(i){return Vt(this.kvs.entries()).map(function(a){var l=Tt(a,2),p=l[0],y=l[1],u=p.split(sb);return i({key:u.map(function(M){var S=M.match(/^([^:]*):(.*)$/),P=Tt(S,3),F=P[1],R=P[2];return F==="number"?Number(R):R}),value:y})})}},{key:"toJSON",value:function(){var i={};return this.map(function(a){var l=a.key,p=a.value;return i[l.join(".")]=p,null}),i}}]),e}(),jR=["name"],VR=Po(function e(t){var i=this;Ao(this,e),Fe(this,"formHooked",!1),Fe(this,"forceRootUpdate",void 0),Fe(this,"subscribable",!0),Fe(this,"store",{}),Fe(this,"fieldEntities",[]),Fe(this,"initialValues",{}),Fe(this,"callbacks",{}),Fe(this,"validateMessages",null),Fe(this,"preserve",null),Fe(this,"lastValidatePromise",null),Fe(this,"getForm",function(){return{getFieldValue:i.getFieldValue,getFieldsValue:i.getFieldsValue,getFieldError:i.getFieldError,getFieldWarning:i.getFieldWarning,getFieldsError:i.getFieldsError,isFieldsTouched:i.isFieldsTouched,isFieldTouched:i.isFieldTouched,isFieldValidating:i.isFieldValidating,isFieldsValidating:i.isFieldsValidating,resetFields:i.resetFields,setFields:i.setFields,setFieldValue:i.setFieldValue,setFieldsValue:i.setFieldsValue,validateFields:i.validateFields,submit:i.submit,_init:!0,getInternalHooks:i.getInternalHooks}}),Fe(this,"getInternalHooks",function(a){return a===El?(i.formHooked=!0,{dispatch:i.dispatch,initEntityValue:i.initEntityValue,registerField:i.registerField,useSubscribe:i.useSubscribe,setInitialValues:i.setInitialValues,destroyForm:i.destroyForm,setCallbacks:i.setCallbacks,setValidateMessages:i.setValidateMessages,getFields:i.getFields,setPreserve:i.setPreserve,getInitialValue:i.getInitialValue,registerWatch:i.registerWatch}):(ro(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),Fe(this,"useSubscribe",function(a){i.subscribable=a}),Fe(this,"prevWithoutPreserves",null),Fe(this,"setInitialValues",function(a,l){if(i.initialValues=a||{},l){var p,y=q1(a,i.store);(p=i.prevWithoutPreserves)===null||p===void 0||p.map(function(u){var M=u.key;y=Zo(y,M,ga(a,M))}),i.prevWithoutPreserves=null,i.updateStore(y)}}),Fe(this,"destroyForm",function(){var a=new R1;i.getFieldEntities(!0).forEach(function(l){i.isMergedPreserve(l.isPreserve())||a.set(l.getNamePath(),!0)}),i.prevWithoutPreserves=a}),Fe(this,"getInitialValue",function(a){var l=ga(i.initialValues,a);return a.length?q1(l):l}),Fe(this,"setCallbacks",function(a){i.callbacks=a}),Fe(this,"setValidateMessages",function(a){i.validateMessages=a}),Fe(this,"setPreserve",function(a){i.preserve=a}),Fe(this,"watchList",[]),Fe(this,"registerWatch",function(a){return i.watchList.push(a),function(){i.watchList=i.watchList.filter(function(l){return l!==a})}}),Fe(this,"notifyWatch",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(i.watchList.length){var l=i.getFieldsValue(),p=i.getFieldsValue(!0);i.watchList.forEach(function(y){y(l,p,a)})}}),Fe(this,"timeoutId",null),Fe(this,"warningUnhooked",function(){}),Fe(this,"updateStore",function(a){i.store=a}),Fe(this,"getFieldEntities",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return a?i.fieldEntities.filter(function(l){return l.getNamePath().length}):i.fieldEntities}),Fe(this,"getFieldsMap",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,l=new R1;return i.getFieldEntities(a).forEach(function(p){var y=p.getNamePath();l.set(y,p)}),l}),Fe(this,"getFieldEntitiesForNamePathList",function(a){if(!a)return i.getFieldEntities(!0);var l=i.getFieldsMap(!0);return a.map(function(p){var y=hr(p);return l.get(y)||{INVALIDATE_NAME_PATH:hr(p)}})}),Fe(this,"getFieldsValue",function(a,l){i.warningUnhooked();var p,y,u;if(a===!0||Array.isArray(a)?(p=a,y=l):a&&Sn(a)==="object"&&(u=a.strict,y=a.filter),p===!0&&!y)return i.store;var M=i.getFieldEntitiesForNamePathList(Array.isArray(p)?p:null),S=[];return M.forEach(function(P){var F,R,J="INVALIDATE_NAME_PATH"in P?P.INVALIDATE_NAME_PATH:P.getNamePath();if(u){var X,G;if((X=(G=P).isList)!==null&&X!==void 0&&X.call(G))return}else if(!p&&(F=(R=P).isListField)!==null&&F!==void 0&&F.call(R))return;if(!y)S.push(J);else{var K="getMeta"in P?P.getMeta():null;y(K)&&S.push(J)}}),_y(i.store,S.map(hr))}),Fe(this,"getFieldValue",function(a){i.warningUnhooked();var l=hr(a);return ga(i.store,l)}),Fe(this,"getFieldsError",function(a){i.warningUnhooked();var l=i.getFieldEntitiesForNamePathList(a);return l.map(function(p,y){return p&&!("INVALIDATE_NAME_PATH"in p)?{name:p.getNamePath(),errors:p.getErrors(),warnings:p.getWarnings()}:{name:hr(a[y]),errors:[],warnings:[]}})}),Fe(this,"getFieldError",function(a){i.warningUnhooked();var l=hr(a),p=i.getFieldsError([l])[0];return p.errors}),Fe(this,"getFieldWarning",function(a){i.warningUnhooked();var l=hr(a),p=i.getFieldsError([l])[0];return p.warnings}),Fe(this,"isFieldsTouched",function(){i.warningUnhooked();for(var a=arguments.length,l=new Array(a),p=0;p<a;p++)l[p]=arguments[p];var y=l[0],u=l[1],M,S=!1;l.length===0?M=null:l.length===1?Array.isArray(y)?(M=y.map(hr),S=!1):(M=null,S=y):(M=y.map(hr),S=u);var P=i.getFieldEntities(!0),F=function(K){return K.isFieldTouched()};if(!M)return S?P.every(F):P.some(F);var R=new R1;M.forEach(function(G){R.set(G,[])}),P.forEach(function(G){var K=G.getNamePath();M.forEach(function(O){O.every(function(B,V){return K[V]===B})&&R.update(O,function(B){return[].concat(Vt(B),[G])})})});var J=function(K){return K.some(F)},X=R.map(function(G){var K=G.value;return K});return S?X.every(J):X.some(J)}),Fe(this,"isFieldTouched",function(a){return i.warningUnhooked(),i.isFieldsTouched([a])}),Fe(this,"isFieldsValidating",function(a){i.warningUnhooked();var l=i.getFieldEntities();if(!a)return l.some(function(y){return y.isFieldValidating()});var p=a.map(hr);return l.some(function(y){var u=y.getNamePath();return iu(p,u)&&y.isFieldValidating()})}),Fe(this,"isFieldValidating",function(a){return i.warningUnhooked(),i.isFieldsValidating([a])}),Fe(this,"resetWithFieldInitialValue",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=new R1,p=i.getFieldEntities(!0);p.forEach(function(M){var S=M.props.initialValue,P=M.getNamePath();if(S!==void 0){var F=l.get(P)||new Set;F.add({entity:M,value:S}),l.set(P,F)}});var y=function(S){S.forEach(function(P){var F=P.props.initialValue;if(F!==void 0){var R=P.getNamePath(),J=i.getInitialValue(R);if(J!==void 0)ro(!1,"Form already set 'initialValues' with path '".concat(R.join("."),"'. Field can not overwrite it."));else{var X=l.get(R);if(X&&X.size>1)ro(!1,"Multiple Field with path '".concat(R.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(X){var G=i.getFieldValue(R),K=P.isListField();!K&&(!a.skipExist||G===void 0)&&i.updateStore(Zo(i.store,R,Vt(X)[0].value))}}}})},u;a.entities?u=a.entities:a.namePathList?(u=[],a.namePathList.forEach(function(M){var S=l.get(M);if(S){var P;(P=u).push.apply(P,Vt(Vt(S).map(function(F){return F.entity})))}})):u=p,y(u)}),Fe(this,"resetFields",function(a){i.warningUnhooked();var l=i.store;if(!a){i.updateStore(q1(i.initialValues)),i.resetWithFieldInitialValue(),i.notifyObservers(l,null,{type:"reset"}),i.notifyWatch();return}var p=a.map(hr);p.forEach(function(y){var u=i.getInitialValue(y);i.updateStore(Zo(i.store,y,u))}),i.resetWithFieldInitialValue({namePathList:p}),i.notifyObservers(l,p,{type:"reset"}),i.notifyWatch(p)}),Fe(this,"setFields",function(a){i.warningUnhooked();var l=i.store,p=[];a.forEach(function(y){var u=y.name,M=qa(y,jR),S=hr(u);p.push(S),"value"in M&&i.updateStore(Zo(i.store,S,M.value)),i.notifyObservers(l,[S],{type:"setField",data:y})}),i.notifyWatch(p)}),Fe(this,"getFields",function(){var a=i.getFieldEntities(!0),l=a.map(function(p){var y=p.getNamePath(),u=p.getMeta(),M=Xe(Xe({},u),{},{name:y,value:i.getFieldValue(y)});return Object.defineProperty(M,"originRCField",{value:!0}),M});return l}),Fe(this,"initEntityValue",function(a){var l=a.props.initialValue;if(l!==void 0){var p=a.getNamePath(),y=ga(i.store,p);y===void 0&&i.updateStore(Zo(i.store,p,l))}}),Fe(this,"isMergedPreserve",function(a){var l=a!==void 0?a:i.preserve;return l??!0}),Fe(this,"registerField",function(a){i.fieldEntities.push(a);var l=a.getNamePath();if(i.notifyWatch([l]),a.props.initialValue!==void 0){var p=i.store;i.resetWithFieldInitialValue({entities:[a],skipExist:!0}),i.notifyObservers(p,[a.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(y,u){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(i.fieldEntities=i.fieldEntities.filter(function(F){return F!==a}),!i.isMergedPreserve(u)&&(!y||M.length>1)){var S=y?void 0:i.getInitialValue(l);if(l.length&&i.getFieldValue(l)!==S&&i.fieldEntities.every(function(F){return!ob(F.getNamePath(),l)})){var P=i.store;i.updateStore(Zo(P,l,S,!0)),i.notifyObservers(P,[l],{type:"remove"}),i.triggerDependenciesUpdate(P,l)}}i.notifyWatch([l])}}),Fe(this,"dispatch",function(a){switch(a.type){case"updateValue":{var l=a.namePath,p=a.value;i.updateValue(l,p);break}case"validateField":{var y=a.namePath,u=a.triggerName;i.validateFields([y],{triggerName:u});break}}}),Fe(this,"notifyObservers",function(a,l,p){if(i.subscribable){var y=Xe(Xe({},p),{},{store:i.getFieldsValue(!0)});i.getFieldEntities().forEach(function(u){var M=u.onStoreChange;M(a,l,y)})}else i.forceRootUpdate()}),Fe(this,"triggerDependenciesUpdate",function(a,l){var p=i.getDependencyChildrenFields(l);return p.length&&i.validateFields(p),i.notifyObservers(a,p,{type:"dependenciesUpdate",relatedFields:[l].concat(Vt(p))}),p}),Fe(this,"updateValue",function(a,l){var p=hr(a),y=i.store;i.updateStore(Zo(i.store,p,l)),i.notifyObservers(y,[p],{type:"valueUpdate",source:"internal"}),i.notifyWatch([p]);var u=i.triggerDependenciesUpdate(y,p),M=i.callbacks.onValuesChange;if(M){var S=_y(i.store,[p]);M(S,i.getFieldsValue())}i.triggerOnFieldsChange([p].concat(Vt(u)))}),Fe(this,"setFieldsValue",function(a){i.warningUnhooked();var l=i.store;if(a){var p=q1(i.store,a);i.updateStore(p)}i.notifyObservers(l,null,{type:"valueUpdate",source:"external"}),i.notifyWatch()}),Fe(this,"setFieldValue",function(a,l){i.setFields([{name:a,value:l}])}),Fe(this,"getDependencyChildrenFields",function(a){var l=new Set,p=[],y=new R1;i.getFieldEntities().forEach(function(M){var S=M.props.dependencies;(S||[]).forEach(function(P){var F=hr(P);y.update(F,function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return R.add(M),R})})});var u=function M(S){var P=y.get(S)||new Set;P.forEach(function(F){if(!l.has(F)){l.add(F);var R=F.getNamePath();F.isFieldDirty()&&R.length&&(p.push(R),M(R))}})};return u(a),p}),Fe(this,"triggerOnFieldsChange",function(a,l){var p=i.callbacks.onFieldsChange;if(p){var y=i.getFields();if(l){var u=new R1;l.forEach(function(S){var P=S.name,F=S.errors;u.set(P,F)}),y.forEach(function(S){S.errors=u.get(S.name)||S.errors})}var M=y.filter(function(S){var P=S.name;return iu(a,P)});M.length&&p(M,y)}}),Fe(this,"validateFields",function(a,l){i.warningUnhooked();var p,y;Array.isArray(a)||typeof a=="string"||typeof l=="string"?(p=a,y=l):y=a;var u=!!p,M=u?p.map(hr):[],S=[],P=String(Date.now()),F=new Set,R=y||{},J=R.recursive,X=R.dirty;i.getFieldEntities(!0).forEach(function(B){if(u||M.push(B.getNamePath()),!(!B.props.rules||!B.props.rules.length)&&!(X&&!B.isFieldDirty())){var V=B.getNamePath();if(F.add(V.join(P)),!u||iu(M,V,J)){var ne=B.validateRules(Xe({validateMessages:Xe(Xe({},ib),i.validateMessages)},y));S.push(ne.then(function(){return{name:V,errors:[],warnings:[]}}).catch(function(he){var pe,de=[],Se=[];return(pe=he.forEach)===null||pe===void 0||pe.call(he,function(Te){var Me=Te.rule.warningOnly,Be=Te.errors;Me?Se.push.apply(Se,Vt(Be)):de.push.apply(de,Vt(Be))}),de.length?Promise.reject({name:V,errors:de,warnings:Se}):{name:V,errors:de,warnings:Se}}))}}});var G=$R(S);i.lastValidatePromise=G,G.catch(function(B){return B}).then(function(B){var V=B.map(function(ne){var he=ne.name;return he});i.notifyObservers(i.store,V,{type:"validateFinish"}),i.triggerOnFieldsChange(V,B)});var K=G.then(function(){return i.lastValidatePromise===G?Promise.resolve(i.getFieldsValue(M)):Promise.reject([])}).catch(function(B){var V=B.filter(function(ne){return ne&&ne.errors.length});return Promise.reject({values:i.getFieldsValue(M),errorFields:V,outOfDate:i.lastValidatePromise!==G})});K.catch(function(B){return B});var O=M.filter(function(B){return F.has(B.join(P))});return i.triggerOnFieldsChange(O),K}),Fe(this,"submit",function(){i.warningUnhooked(),i.validateFields().then(function(a){var l=i.callbacks.onFinish;if(l)try{l(a)}catch(p){console.error(p)}}).catch(function(a){var l=i.callbacks.onFinishFailed;l&&l(a)})}),this.forceRootUpdate=t});function lb(e){var t=H.useRef(),i=H.useState({}),a=Tt(i,2),l=a[1];if(!t.current)if(e)t.current=e;else{var p=function(){l({})},y=new VR(p);t.current=y.getForm()}return[t.current]}var vm=H.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),WR=function(t){var i=t.validateMessages,a=t.onFormChange,l=t.onFormFinish,p=t.children,y=H.useContext(vm),u=H.useRef({});return H.createElement(vm.Provider,{value:Xe(Xe({},y),{},{validateMessages:Xe(Xe({},y.validateMessages),i),triggerFormChange:function(S,P){a&&a(S,{changedFields:P,forms:u.current}),y.triggerFormChange(S,P)},triggerFormFinish:function(S,P){l&&l(S,{values:P,forms:u.current}),y.triggerFormFinish(S,P)},registerForm:function(S,P){S&&(u.current=Xe(Xe({},u.current),{},Fe({},S,P))),y.registerForm(S,P)},unregisterForm:function(S){var P=Xe({},u.current);delete P[S],u.current=P,y.unregisterForm(S)}})},p)},UR=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],HR=function(t,i){var a=t.name,l=t.initialValues,p=t.fields,y=t.form,u=t.preserve,M=t.children,S=t.component,P=S===void 0?"form":S,F=t.validateMessages,R=t.validateTrigger,J=R===void 0?"onChange":R,X=t.onValuesChange,G=t.onFieldsChange,K=t.onFinish,O=t.onFinishFailed,B=qa(t,UR),V=H.useContext(vm),ne=lb(y),he=Tt(ne,1),pe=he[0],de=pe.getInternalHooks(El),Se=de.useSubscribe,Te=de.setInitialValues,Me=de.setCallbacks,Be=de.setValidateMessages,He=de.setPreserve,We=de.destroyForm;H.useImperativeHandle(i,function(){return pe}),H.useEffect(function(){return V.registerForm(a,pe),function(){V.unregisterForm(a)}},[V,pe,a]),Be(Xe(Xe({},V.validateMessages),F)),Me({onValuesChange:X,onFieldsChange:function(at){if(V.triggerFormChange(a,at),G){for(var ut=arguments.length,Pt=new Array(ut>1?ut-1:0),Xt=1;Xt<ut;Xt++)Pt[Xt-1]=arguments[Xt];G.apply(void 0,[at].concat(Pt))}},onFinish:function(at){V.triggerFormFinish(a,at),K&&K(at)},onFinishFailed:O}),He(u);var qe=H.useRef(null);Te(l,!qe.current),qe.current||(qe.current=!0),H.useEffect(function(){return We},[]);var Je,Le=typeof M=="function";if(Le){var Ie=pe.getFieldsValue(!0);Je=M(Ie,pe)}else Je=M;Se(!Le);var we=H.useRef();H.useEffect(function(){FR(we.current||[],p||[])||pe.setFields(p||[]),we.current=p},[p,pe]);var Re=H.useMemo(function(){return Xe(Xe({},pe),{},{validateTrigger:J})},[pe,J]),Ve=H.createElement(D4.Provider,{value:null},H.createElement(yu.Provider,{value:Re},Je));return P===!1?Ve:H.createElement(P,zr({},B,{onSubmit:function(at){at.preventDefault(),at.stopPropagation(),pe.submit()},onReset:function(at){var ut;at.preventDefault(),pe.resetFields(),(ut=B.onReset)===null||ut===void 0||ut.call(B,at)}}),Ve)};function wy(e){try{return JSON.stringify(e)}catch{return Math.random()}}function ZR(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=t[0],l=t[1],p=l===void 0?{}:l,y=QD(p)?{form:p}:p,u=y.form,M=H.useState(),S=Tt(M,2),P=S[0],F=S[1],R=H.useMemo(function(){return wy(P)},[P]),J=H.useRef(R);J.current=R;var X=H.useContext(yu),G=u||X,K=G&&G._init,O=hr(a),B=H.useRef(O);return B.current=O,H.useEffect(function(){if(K){var V=G.getFieldsValue,ne=G.getInternalHooks,he=ne(El),pe=he.registerWatch,de=function(Be,He){var We=y.preserve?He:Be;return typeof a=="function"?a(We):ga(We,B.current)},Se=pe(function(Me,Be){var He=de(Me,Be),We=wy(He);J.current!==We&&(J.current=We,F(He))}),Te=de(V(),V(!0));return P!==Te&&F(Te),Se}},[K]),P}var GR=H.forwardRef(HR),Zd=GR;Zd.FormProvider=WR;Zd.Field=ab;Zd.List=BR;Zd.useForm=lb;Zd.useWatch=ZR;const _m=H.createContext({}),qR=e=>{let{children:t,status:i,override:a}=e;const l=H.useContext(_m),p=H.useMemo(()=>{const y=Object.assign({},l);return a&&delete y.isFormItemInput,i&&(delete y.status,delete y.hasFeedback,delete y.feedbackIcon),y},[i,a,l]);return H.createElement(_m.Provider,{value:p},t)};function Sy(){}const KR=H.createContext({add:Sy,remove:Sy});function XR(e){const t=H.useContext(KR),i=H.useRef();return P4(l=>{if(l){const p=e?l.querySelector(e):l;t.add(p),i.current=p}else t.remove(i.current)})}const JR=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:i}=H.useContext(Y2);return Ct.createElement(C0,Object.assign({onClick:i},e),t)},Cy=JR,YR=()=>{const{confirmLoading:e,okButtonProps:t,okType:i,okTextLocale:a,onOk:l}=H.useContext(Y2);return Ct.createElement(C0,Object.assign({},tD(i),{loading:e,onClick:l},t),a)},My=YR;function QR(e,t){return Ct.createElement("span",{className:`${e}-close-x`},t||Ct.createElement(Z2,{className:`${e}-close-icon`}))}const ez=e=>{const{okText:t,okType:i="primary",cancelText:a,confirmLoading:l,onOk:p,onCancel:y,okButtonProps:u,cancelButtonProps:M,footer:S}=e,[P]=uT("Modal",aT()),F=t||(P==null?void 0:P.okText),R=a||(P==null?void 0:P.cancelText),J={confirmLoading:l,okButtonProps:u,cancelButtonProps:M,okTextLocale:F,cancelTextLocale:R,okType:i,onOk:p,onCancel:y},X=Ct.useMemo(()=>J,Vt(Object.values(J)));let G;return typeof S=="function"||typeof S>"u"?(G=Ct.createElement(Ct.Fragment,null,Ct.createElement(Cy,null),Ct.createElement(My,null)),typeof S=="function"&&(G=S(G,{OkBtn:My,CancelBtn:Cy})),G=Ct.createElement(RD,{value:X},G)):G=S,Ct.createElement(dx,{disabled:!1},G)},tz=e=>({animationDuration:e,animationFillMode:"both"}),nz=e=>({animationDuration:e,animationFillMode:"both"}),ub=function(e,t,i,a){const p=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${p}${e}-enter,
      ${p}${e}-appear
    `]:Object.assign(Object.assign({},tz(a)),{animationPlayState:"paused"}),[`${p}${e}-leave`]:Object.assign(Object.assign({},nz(a)),{animationPlayState:"paused"}),[`
      ${p}${e}-enter${e}-enter-active,
      ${p}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${p}${e}-leave${e}-leave-active`]:{animationName:i,animationPlayState:"running",pointerEvents:"none"}}},rz=new ji("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),iz=new ji("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),oz=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:i}=e,a=`${i}-fade`,l=t?"&":"";return[ub(a,rz,iz,e.motionDurationMid,t),{[`
        ${l}${a}-enter,
        ${l}${a}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${l}${a}-leave`]:{animationTimingFunction:"linear"}}]},az=new ji("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),sz=new ji("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),Ey=new ji("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),ky=new ji("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),lz=new ji("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),uz=new ji("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),cz=new ji("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),dz=new ji("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),hz=new ji("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),pz=new ji("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),fz=new ji("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),mz=new ji("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),gz={zoom:{inKeyframes:az,outKeyframes:sz},"zoom-big":{inKeyframes:Ey,outKeyframes:ky},"zoom-big-fast":{inKeyframes:Ey,outKeyframes:ky},"zoom-left":{inKeyframes:cz,outKeyframes:dz},"zoom-right":{inKeyframes:hz,outKeyframes:pz},"zoom-up":{inKeyframes:lz,outKeyframes:uz},"zoom-down":{inKeyframes:fz,outKeyframes:mz}},yz=(e,t)=>{const{antCls:i}=e,a=`${i}-${t}`,{inKeyframes:l,outKeyframes:p}=gz[t];return[ub(a,l,p,t==="zoom-big-fast"?e.motionDurationFast:e.motionDurationMid),{[`
        ${a}-enter,
        ${a}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${a}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]};function Ay(e){return{position:e,inset:0}}const vz=e=>{const{componentCls:t,antCls:i}=e;return[{[`${t}-root`]:{[`${t}${i}-zoom-enter, ${t}${i}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${i}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},Ay("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},Ay("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch",[`&:has(${t}${i}-zoom-enter), &:has(${t}${i}-zoom-appear)`]:{pointerEvents:"none"}})}},{[`${t}-root`]:oz(e)}]},_z=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${an(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},T4(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${an(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:`${an(e.modalCloseBtnSize)}`,justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:e.modalIconHoverColor,backgroundColor:e.closeBtnHoverBg,textDecoration:"none"},"&:active":{backgroundColor:e.closeBtnActiveBg}},yx(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${an(e.borderRadiusLG)} ${an(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},xz=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},bz=e=>{const t=e.padding,i=e.fontSizeHeading5,a=e.lineHeightHeading5;return Gs(e,{modalHeaderHeight:e.calc(e.calc(a).mul(i).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalIconHoverColor:e.colorIconHover,modalCloseIconColor:e.colorIcon,modalCloseBtnSize:e.fontHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},wz=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,closeBtnHoverBg:e.wireframe?"transparent":e.colorFillContent,closeBtnActiveBg:e.wireframe?"transparent":e.colorFillContentHover,contentPadding:e.wireframe?0:`${an(e.paddingMD)} ${an(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${an(e.padding)} ${an(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${an(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${an(e.paddingXS)} ${an(e.padding)}`:0,footerBorderTop:e.wireframe?`${an(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${an(e.borderRadiusLG)} ${an(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${an(e.padding*2)} ${an(e.padding*2)} ${an(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),Sz=V2("Modal",e=>{const t=bz(e);return[_z(t),xz(t),vz(t),yz(t,"zoom")]},wz,{unitless:{titleLineHeight:!0}});var Cz=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(i[a[l]]=e[a[l]]);return i};let xm;const Mz=e=>{xm={x:e.pageX,y:e.pageY},setTimeout(()=>{xm=null},100)};YD()&&document.documentElement.addEventListener("click",Mz,!0);const Ez=e=>{var t;const{getPopupContainer:i,getPrefixCls:a,direction:l,modal:p}=H.useContext(To),y=at=>{const{onCancel:ut}=e;ut==null||ut(at)},u=at=>{const{onOk:ut}=e;ut==null||ut(at)},{prefixCls:M,className:S,rootClassName:P,open:F,wrapClassName:R,centered:J,getContainer:X,closeIcon:G,closable:K,focusTriggerAfterClose:O=!0,style:B,visible:V,width:ne=520,footer:he,classNames:pe,styles:de}=e,Se=Cz(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","closable","focusTriggerAfterClose","style","visible","width","footer","classNames","styles"]),Te=a("modal",M),Me=a(),Be=G2(Te),[He,We,qe]=Sz(Te,Be),Je=wn(R,{[`${Te}-centered`]:!!J,[`${Te}-wrap-rtl`]:l==="rtl"}),Le=he!==null&&H.createElement(ez,Object.assign({},e,{onOk:u,onCancel:y})),[Ie,we]=JD(K,G,at=>QR(Te,at),H.createElement(Z2,{className:`${Te}-close-icon`}),!0),Re=XR(`.${Te}-content`),[Ve,Ze]=AL("Modal",Se.zIndex);return He(H.createElement(JL,null,H.createElement(qR,{status:!0,override:!0},H.createElement(Vx.Provider,{value:Ze},H.createElement(nb,Object.assign({width:ne},Se,{zIndex:Ve,getContainer:X===void 0?i:X,prefixCls:Te,rootClassName:wn(We,P,qe,Be),footer:Le,visible:F??V,mousePosition:(t=Se.mousePosition)!==null&&t!==void 0?t:xm,onClose:y,closable:Ie,closeIcon:we,focusTriggerAfterClose:O,transitionName:J7(Me,"zoom",e.transitionName),maskTransitionName:J7(Me,"fade",e.maskTransitionName),className:wn(We,S,p==null?void 0:p.className),style:Object.assign(Object.assign({},p==null?void 0:p.style),B),classNames:Object.assign(Object.assign({wrapper:Je},p==null?void 0:p.classNames),pe),styles:Object.assign(Object.assign({},p==null?void 0:p.styles),de),panelRef:Re}))))))},kz=Ez,cb=H.createContext(null),Az=cb.Provider,db=H.createContext(null),Pz=db.Provider;var Tz=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],Iz=H.forwardRef(function(e,t){var i,a=e.prefixCls,l=a===void 0?"rc-checkbox":a,p=e.className,y=e.style,u=e.checked,M=e.disabled,S=e.defaultChecked,P=S===void 0?!1:S,F=e.type,R=F===void 0?"checkbox":F,J=e.title,X=e.onChange,G=qa(e,Tz),K=H.useRef(null),O=gx(P,{value:u}),B=Tt(O,2),V=B[0],ne=B[1];H.useImperativeHandle(t,function(){return{focus:function(){var Se;(Se=K.current)===null||Se===void 0||Se.focus()},blur:function(){var Se;(Se=K.current)===null||Se===void 0||Se.blur()},input:K.current}});var he=wn(l,p,(i={},Fe(i,"".concat(l,"-checked"),V),Fe(i,"".concat(l,"-disabled"),M),i)),pe=function(Se){M||("checked"in e||ne(Se.target.checked),X==null||X({target:Xe(Xe({},e),{},{type:R,checked:Se.target.checked}),stopPropagation:function(){Se.stopPropagation()},preventDefault:function(){Se.preventDefault()},nativeEvent:Se.nativeEvent}))};return H.createElement("span",{className:he,title:J,style:y},H.createElement("input",zr({},G,{className:"".concat(l,"-input"),ref:K,onChange:pe,disabled:M,checked:!!V,type:R})),H.createElement("span",{className:"".concat(l,"-inner")}))});const Lz=e=>{const{componentCls:t,antCls:i}=e,a=`${t}-group`;return{[a]:Object.assign(Object.assign({},T4(e)),{display:"inline-block",fontSize:0,[`&${a}-rtl`]:{direction:"rtl"},[`${i}-badge ${i}-badge-count`]:{zIndex:1},[`> ${i}-badge:not(:first-child) > ${i}-button-wrapper`]:{borderInlineStart:"none"}})}},Dz=e=>{const{componentCls:t,wrapperMarginInlineEnd:i,colorPrimary:a,radioSize:l,motionDurationSlow:p,motionDurationMid:y,motionEaseInOutCirc:u,colorBgContainer:M,colorBorder:S,lineWidth:P,colorBgContainerDisabled:F,colorTextDisabled:R,paddingXS:J,dotColorDisabled:X,lineType:G,radioColor:K,radioBgColor:O,calc:B}=e,V=`${t}-inner`,ne=4,he=B(l).sub(B(ne).mul(2)),pe=B(1).mul(l).equal();return{[`${t}-wrapper`]:Object.assign(Object.assign({},T4(e)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:i,cursor:"pointer",[`&${t}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:e.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},[`${t}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${an(P)} ${G} ${a}`,borderRadius:"50%",visibility:"hidden",content:'""'},[t]:Object.assign(Object.assign({},T4(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${t}-wrapper:hover &,
        &:hover ${V}`]:{borderColor:a},[`${t}-input:focus-visible + ${V}`]:Object.assign({},$2(e)),[`${t}:hover::after, ${t}-wrapper:hover &::after`]:{visibility:"visible"},[`${t}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:pe,height:pe,marginBlockStart:B(1).mul(l).div(-2).equal(),marginInlineStart:B(1).mul(l).div(-2).equal(),backgroundColor:K,borderBlockStart:0,borderInlineStart:0,borderRadius:pe,transform:"scale(0)",opacity:0,transition:`all ${p} ${u}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:pe,height:pe,backgroundColor:M,borderColor:S,borderStyle:"solid",borderWidth:P,borderRadius:"50%",transition:`all ${y}`},[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${t}-checked`]:{[V]:{borderColor:a,backgroundColor:O,"&::after":{transform:`scale(${e.calc(e.dotSize).div(l).equal()})`,opacity:1,transition:`all ${p} ${u}`}}},[`${t}-disabled`]:{cursor:"not-allowed",[V]:{backgroundColor:F,borderColor:S,cursor:"not-allowed","&::after":{backgroundColor:X}},[`${t}-input`]:{cursor:"not-allowed"},[`${t}-disabled + span`]:{color:R,cursor:"not-allowed"},[`&${t}-checked`]:{[V]:{"&::after":{transform:`scale(${B(he).div(l).equal({unit:!1})})`}}}},[`span${t} + *`]:{paddingInlineStart:J,paddingInlineEnd:J}})}},Rz=e=>{const{buttonColor:t,controlHeight:i,componentCls:a,lineWidth:l,lineType:p,colorBorder:y,motionDurationSlow:u,motionDurationMid:M,buttonPaddingInline:S,fontSize:P,buttonBg:F,fontSizeLG:R,controlHeightLG:J,controlHeightSM:X,paddingXS:G,borderRadius:K,borderRadiusSM:O,borderRadiusLG:B,buttonCheckedBg:V,buttonSolidCheckedColor:ne,colorTextDisabled:he,colorBgContainerDisabled:pe,buttonCheckedBgDisabled:de,buttonCheckedColorDisabled:Se,colorPrimary:Te,colorPrimaryHover:Me,colorPrimaryActive:Be,buttonSolidCheckedBg:He,buttonSolidCheckedHoverBg:We,buttonSolidCheckedActiveBg:qe,calc:Je}=e;return{[`${a}-button-wrapper`]:{position:"relative",display:"inline-block",height:i,margin:0,paddingInline:S,paddingBlock:0,color:t,fontSize:P,lineHeight:an(Je(i).sub(Je(l).mul(2)).equal()),background:F,border:`${an(l)} ${p} ${y}`,borderBlockStartWidth:Je(l).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:l,cursor:"pointer",transition:[`color ${M}`,`background ${M}`,`box-shadow ${M}`].join(","),a:{color:t},[`> ${a}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:Je(l).mul(-1).equal(),insetInlineStart:Je(l).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:l,paddingInline:0,backgroundColor:y,transition:`background-color ${u}`,content:'""'}},"&:first-child":{borderInlineStart:`${an(l)} ${p} ${y}`,borderStartStartRadius:K,borderEndStartRadius:K},"&:last-child":{borderStartEndRadius:K,borderEndEndRadius:K},"&:first-child:last-child":{borderRadius:K},[`${a}-group-large &`]:{height:J,fontSize:R,lineHeight:an(Je(J).sub(Je(l).mul(2)).equal()),"&:first-child":{borderStartStartRadius:B,borderEndStartRadius:B},"&:last-child":{borderStartEndRadius:B,borderEndEndRadius:B}},[`${a}-group-small &`]:{height:X,paddingInline:Je(G).sub(l).equal(),paddingBlock:0,lineHeight:an(Je(X).sub(Je(l).mul(2)).equal()),"&:first-child":{borderStartStartRadius:O,borderEndStartRadius:O},"&:last-child":{borderStartEndRadius:O,borderEndEndRadius:O}},"&:hover":{position:"relative",color:Te},"&:has(:focus-visible)":Object.assign({},$2(e)),[`${a}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${a}-button-wrapper-disabled)`]:{zIndex:1,color:Te,background:V,borderColor:Te,"&::before":{backgroundColor:Te},"&:first-child":{borderColor:Te},"&:hover":{color:Me,borderColor:Me,"&::before":{backgroundColor:Me}},"&:active":{color:Be,borderColor:Be,"&::before":{backgroundColor:Be}}},[`${a}-group-solid &-checked:not(${a}-button-wrapper-disabled)`]:{color:ne,background:He,borderColor:He,"&:hover":{color:ne,background:We,borderColor:We},"&:active":{color:ne,background:qe,borderColor:qe}},"&-disabled":{color:he,backgroundColor:pe,borderColor:y,cursor:"not-allowed","&:first-child, &:hover":{color:he,backgroundColor:pe,borderColor:y}},[`&-disabled${a}-button-wrapper-checked`]:{color:Se,backgroundColor:de,borderColor:y,boxShadow:"none"}}}},zz=e=>{const{wireframe:t,padding:i,marginXS:a,lineWidth:l,fontSizeLG:p,colorText:y,colorBgContainer:u,colorTextDisabled:M,controlItemBgActiveDisabled:S,colorTextLightSolid:P,colorPrimary:F,colorPrimaryHover:R,colorPrimaryActive:J,colorWhite:X}=e,G=4,K=p,O=t?K-G*2:K-(G+l)*2;return{radioSize:K,dotSize:O,dotColorDisabled:M,buttonSolidCheckedColor:P,buttonSolidCheckedBg:F,buttonSolidCheckedHoverBg:R,buttonSolidCheckedActiveBg:J,buttonBg:u,buttonCheckedBg:u,buttonColor:y,buttonCheckedBgDisabled:S,buttonCheckedColorDisabled:M,buttonPaddingInline:i-l,wrapperMarginInlineEnd:a,radioColor:t?F:X,radioBgColor:t?u:F}},hb=V2("Radio",e=>{const{controlOutline:t,controlOutlineWidth:i}=e,a=`0 0 0 ${an(i)} ${t}`,p=Gs(e,{radioFocusShadow:a,radioButtonFocusShadow:a});return[Lz(p),Dz(p),Rz(p)]},zz,{unitless:{radioSize:!0,dotSize:!0}});var Fz=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(i[a[l]]=e[a[l]]);return i};const Nz=(e,t)=>{var i,a;const l=H.useContext(cb),p=H.useContext(db),{getPrefixCls:y,direction:u,radio:M}=H.useContext(To),S=H.useRef(null),P=f0(t,S),{isFormItemInput:F}=H.useContext(_m),R=qe=>{var Je,Le;(Je=e.onChange)===null||Je===void 0||Je.call(e,qe),(Le=l==null?void 0:l.onChange)===null||Le===void 0||Le.call(l,qe)},{prefixCls:J,className:X,rootClassName:G,children:K,style:O,title:B}=e,V=Fz(e,["prefixCls","className","rootClassName","children","style","title"]),ne=y("radio",J),he=((l==null?void 0:l.optionType)||p)==="button",pe=he?`${ne}-button`:ne,de=G2(ne),[Se,Te,Me]=hb(ne,de),Be=Object.assign({},V),He=H.useContext(B2);l&&(Be.name=l.name,Be.onChange=R,Be.checked=e.value===l.value,Be.disabled=(i=Be.disabled)!==null&&i!==void 0?i:l.disabled),Be.disabled=(a=Be.disabled)!==null&&a!==void 0?a:He;const We=wn(`${pe}-wrapper`,{[`${pe}-wrapper-checked`]:Be.checked,[`${pe}-wrapper-disabled`]:Be.disabled,[`${pe}-wrapper-rtl`]:u==="rtl",[`${pe}-wrapper-in-form-item`]:F},M==null?void 0:M.className,X,G,Te,Me,de);return Se(H.createElement(Ux,{component:"Radio",disabled:Be.disabled},H.createElement("label",{className:We,style:Object.assign(Object.assign({},M==null?void 0:M.style),O),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,title:B},H.createElement(Iz,Object.assign({},Be,{className:wn(Be.className,!he&&q2),type:"radio",prefixCls:pe,ref:P})),K!==void 0?H.createElement("span",null,K):null)))},Oz=H.forwardRef(Nz),R4=Oz,Bz=H.forwardRef((e,t)=>{const{getPrefixCls:i,direction:a}=H.useContext(To),[l,p]=gx(e.defaultValue,{value:e.value}),y=qe=>{const Je=l,Le=qe.target.value;"value"in e||p(Le);const{onChange:Ie}=e;Ie&&Le!==Je&&Ie(qe)},{prefixCls:u,className:M,rootClassName:S,options:P,buttonStyle:F="outline",disabled:R,children:J,size:X,style:G,id:K,onMouseEnter:O,onMouseLeave:B,onFocus:V,onBlur:ne}=e,he=i("radio",u),pe=`${he}-group`,de=G2(he),[Se,Te,Me]=hb(he,de);let Be=J;P&&P.length>0&&(Be=P.map(qe=>typeof qe=="string"||typeof qe=="number"?H.createElement(R4,{key:qe.toString(),prefixCls:he,disabled:R,value:qe,checked:l===qe},qe):H.createElement(R4,{key:`radio-group-value-options-${qe.value}`,prefixCls:he,disabled:qe.disabled||R,value:qe.value,checked:l===qe.value,title:qe.title,style:qe.style,id:qe.id,required:qe.required},qe.label)));const He=Hx(X),We=wn(pe,`${pe}-${F}`,{[`${pe}-${He}`]:He,[`${pe}-rtl`]:a==="rtl"},M,S,Te,Me,de);return Se(H.createElement("div",Object.assign({},Bx(e,{aria:!0,data:!0}),{className:We,style:G,onMouseEnter:O,onMouseLeave:B,onFocus:V,onBlur:ne,id:K,ref:t}),H.createElement(Az,{value:{onChange:y,value:l,disabled:e.disabled,name:e.name,optionType:e.optionType}},Be)))}),$z=H.memo(Bz);var jz=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(i[a[l]]=e[a[l]]);return i};const Vz=(e,t)=>{const{getPrefixCls:i}=H.useContext(To),{prefixCls:a}=e,l=jz(e,["prefixCls"]),p=i("radio",a);return H.createElement(Pz,{value:"button"},H.createElement(R4,Object.assign({prefixCls:p},l,{type:"radio",ref:t})))},Wz=H.forwardRef(Vz),M0=R4;M0.Button=Wz;M0.Group=$z;M0.__ANT_RADIO=!0;const Tp=M0;var Uz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M632 888H392c-4.4 0-8 3.6-8 8v32c0 17.7 14.3 32 32 32h192c17.7 0 32-14.3 32-32v-32c0-4.4-3.6-8-8-8zM512 64c-181.1 0-328 146.9-328 328 0 121.4 66 227.4 164 284.1V792c0 17.7 14.3 32 32 32h264c17.7 0 32-14.3 32-32V676.1c98-56.7 164-162.7 164-284.1 0-181.1-146.9-328-328-328zm127.9 549.8L604 634.6V752H420V634.6l-35.9-20.8C305.4 568.3 256 484.5 256 392c0-141.4 114.6-256 256-256s256 114.6 256 256c0 92.5-49.4 176.3-128.1 221.8z"}}]},name:"bulb",theme:"outlined"};const Hz=Uz;var Zz=function(t,i){return H.createElement(H2,zr({},t,{ref:i,icon:Hz}))};const Gz=H.forwardRef(Zz),eg=()=>sE(),bm=js("appState/setSelectedFeature",e=>({payload:e})),tg=js("appState/setShowInfo",e=>({payload:e})),pb=js("appState/setSelectedLayer",e=>({payload:e})),qz=({popupInfo:e})=>{const t=eg();return dt.jsxs("div",{className:I1.card,children:[dt.jsx("span",{className:I1.title,children:e["Current Name (DE)"]}),dt.jsxs("span",{className:I1.subtitle,children:["(",e["Current Name (Eng)"],")"]}),dt.jsx("table",{children:dt.jsx("tbody",{className:I1.featuresList,children:e&&Object.entries(PA).map(([i,a])=>dt.jsx("tr",{children:e[i]&&dt.jsxs(dt.Fragment,{children:[dt.jsx("td",{className:I1.fieldName,children:a}),dt.jsx("td",{children:e[i]})]})},i))})}),dt.jsxs(C0,{type:"link",size:"small",className:I1.button,onClick:()=>t(tg(!0)),children:["Learn more",dt.jsx(Gz,{})]})]})},Kz=({popupInfo:e})=>dt.jsx(qz,{popupInfo:e}),D8={"Market Site":"#d99e32","Royal Residence":"#f27649","A New Munich":"#668c54",Metropolis:"#bfba73","World Wars":"#312640","Post War":"#8C7D4F","Our Days":"#568FA6"},Xz="_panel_npsrv_1",Jz="_legend_npsrv_10",Yz="_title_npsrv_21",Qz="_row_npsrv_26",eF="_cube_npsrv_31",Vc={panel:Xz,legend:Jz,title:Yz,row:Qz,cube:eF},tF=()=>dt.jsxs("div",{className:wn(Vc.legend,Vc.panel),children:[dt.jsx("span",{className:Vc.title,children:"Time Periods"}),Object.keys(D8).map(e=>dt.jsxs("div",{className:Vc.row,children:[dt.jsx("div",{className:Vc.cube,style:{backgroundColor:`${D8[e]}`,borderColor:D8[e]}}),dt.jsx("span",{children:e})]},e))]}),nF=()=>{const e=H.useRef(null),t=eg(),i=A5(uk),a=H.useMemo(()=>xA[i],[i]),[l,p]=H.useState(null),[y,u]=H.useState("auto"),[M,S]=H.useState(void 0),P=H.useCallback(()=>u("pointer"),[]),F=H.useCallback(()=>u("auto"),[]),R=[{lng:11.25,lat:48},{lng:12,lat:48.3}],J=H.useCallback(G=>{const K=G.features[0];K&&(t(bm(K.properties)),p(K.properties),S(G.lngLat))},[l]),X=H.useCallback(()=>{p(null),t(bm(void 0)),t(tg(!1))},[l]);return dt.jsx(dt.Fragment,{children:dt.jsxs(Kk,{mapLib:Qk,initialViewState:{latitude:48.14,longitude:11.575,zoom:14},mapStyle:"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json",interactiveLayerIds:["buildings","spots","parks"],style:{width:"100vw",height:"100vh"},ref:e,onClick:J,onMouseEnter:P,onMouseLeave:F,cursor:y,maxZoom:17,minZoom:11,maxBounds:R,children:[i==="buildings"&&dt.jsx(d8,{id:"main1",type:"geojson",data:a.data,children:dt.jsx(Bc,{...a.style})}),i==="parks"&&dt.jsx(d8,{id:"main2",type:"geojson",data:a.data,children:dt.jsx(Bc,{...a.style})}),i==="spots"&&dt.jsxs(d8,{id:"spots",type:"geojson",data:a.data,cluster:!0,clusterMaxZoom:10,clusterRadius:50,children:[dt.jsx(Bc,{..._A}),dt.jsx(Bc,{...vA}),dt.jsx(Bc,{...a.style})]}),dt.jsx(tF,{}),dt.jsx(Jk,{position:"bottom-right"}),l&&M&&dt.jsx(Xk,{longitude:M.lng,latitude:M.lat,onClose:()=>X(),maxWidth:"300px",children:dt.jsx(Kz,{popupInfo:l})})]})})},rF="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%200.25C3.71875%200.25%200.25%203.72125%200.25%208C0.25%2012.2787%203.71875%2015.75%208%2015.75C12.2812%2015.75%2015.75%2012.2812%2015.75%208C15.75%203.71875%2012.2812%200.25%208%200.25ZM8%203.6875C8.25959%203.6875%208.51335%203.76448%208.72919%203.9087C8.94503%204.05292%209.11325%204.2579%209.21259%204.49773C9.31193%204.73756%209.33792%205.00146%209.28728%205.25606C9.23664%205.51066%209.11163%205.74452%208.92808%205.92808C8.74452%206.11163%208.51066%206.23664%208.25606%206.28728C8.00146%206.33792%207.73756%206.31193%207.49773%206.21259C7.2579%206.11325%207.05292%205.94503%206.9087%205.72919C6.76448%205.51335%206.6875%205.25959%206.6875%205C6.6875%204.6519%206.82578%204.31806%207.07192%204.07192C7.31806%203.82578%207.6519%203.6875%208%203.6875ZM9.75%2011.625C9.75%2011.7245%209.71049%2011.8198%209.64017%2011.8902C9.56984%2011.9605%209.47446%2012%209.375%2012H6.625C6.52554%2012%206.43016%2011.9605%206.35984%2011.8902C6.28951%2011.8198%206.25%2011.7245%206.25%2011.625V10.875C6.25%2010.7755%206.28951%2010.6802%206.35984%2010.6098C6.43016%2010.5395%206.52554%2010.5%206.625%2010.5H7V8.5H6.625C6.52554%208.5%206.43016%208.46049%206.35984%208.39017C6.28951%208.31984%206.25%208.22446%206.25%208.125V7.375C6.25%207.27554%206.28951%207.18016%206.35984%207.10984C6.43016%207.03951%206.52554%207%206.625%207H8.625C8.72446%207%208.81984%207.03951%208.89017%207.10984C8.96049%207.18016%209%207.27554%209%207.375V10.5H9.375C9.47446%2010.5%209.56984%2010.5395%209.64017%2010.6098C9.71049%2010.6802%209.75%2010.7755%209.75%2010.875V11.625Z'%20fill='%23848C96'/%3e%3c/svg%3e",iF="_title_1f5tn_1",oF="_text_1f5tn_14",aF="_subtitle_1f5tn_20",sF="_divider_1f5tn_24",lF="_button_1f5tn_28",Ip={title:iF,text:oF,subtitle:aF,divider:sF,button:lF},uF="_modal_rruqg_1",cF="_content_rruqg_5",dF="_copyright_rruqg_11",R8={modal:uF,content:cF,copyright:dF},hF=({onClose:e})=>dt.jsx(kz,{open:!0,title:"City as a Palimpsest",footer:null,onCancel:e,width:520,children:dt.jsxs("div",{className:R8.content,children:[dt.jsx("span",{className:R8.description,children:"About our project.About our project.About our project.About our project.About our project.About our project.About our project.About our project.About our project.About our project.About our project.About our project.About our project."}),dt.jsx(C0,{children:"Help us to add more data"}),dt.jsxs("span",{className:R8.copyright,children:["Bella Mironova, Joselyn Salinas",dt.jsx("br",{}),"© TUM, Cartography M.Sc, 2024"]})]})}),pF=()=>{const[e,t]=dk(!1);return dt.jsxs(dt.Fragment,{children:[dt.jsxs("div",{className:Ip.title,children:[dt.jsxs("div",{className:Ip.text,children:[dt.jsx("span",{children:"The living past of Munich"}),dt.jsx("span",{className:Ip.subtitle,children:" City as a Palimpsest"})]}),dt.jsx("img",{src:rF,onClick:t,className:Ip.button})]}),e&&dt.jsx(hF,{onClose:t})]})},fF="_panel_19738_1",mF={panel:fF},gF=()=>{const e=eg(),t=i=>{e(pb(i.target.value))};return dt.jsx("div",{className:mF.panel,children:dt.jsxs(Tp.Group,{defaultValue:"buildings",onChange:t,children:[dt.jsx(Tp.Button,{value:"buildings",children:"Buildings"}),dt.jsx(Tp.Button,{value:"parks",children:"Parks, Cemeteries and Squares"}),dt.jsx(Tp.Button,{value:"spots",children:"Spots"})]})})};function yF(){return dt.jsx(dt.Fragment,{children:dt.jsxs("div",{className:"slide",children:[dt.jsxs("div",{className:"panel",children:[dt.jsx(pF,{}),dt.jsx(gF,{}),dt.jsx(hk,{})]}),dt.jsx(nF,{})]})})}/**
 * @remix-run/router v1.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function z4(){return z4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},z4.apply(this,arguments)}var Al;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Al||(Al={}));const Py="popstate";function vF(e){e===void 0&&(e={});function t(a,l){let{pathname:p,search:y,hash:u}=a.location;return wm("",{pathname:p,search:y,hash:u},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(a,l){return typeof l=="string"?l:mb(l)}return xF(t,i,null,e)}function fb(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _F(){return Math.random().toString(36).substr(2,8)}function Ty(e,t){return{usr:e.state,key:e.key,idx:t}}function wm(e,t,i,a){return i===void 0&&(i=null),z4({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gb(t):t,{state:i,key:t&&t.key||a||_F()})}function mb(e){let{pathname:t="/",search:i="",hash:a=""}=e;return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function gb(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substr(i),e=e.substr(0,i));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function xF(e,t,i,a){a===void 0&&(a={});let{window:l=document.defaultView,v5Compat:p=!1}=a,y=l.history,u=Al.Pop,M=null,S=P();S==null&&(S=0,y.replaceState(z4({},y.state,{idx:S}),""));function P(){return(y.state||{idx:null}).idx}function F(){u=Al.Pop;let K=P(),O=K==null?null:K-S;S=K,M&&M({action:u,location:G.location,delta:O})}function R(K,O){u=Al.Push;let B=wm(G.location,K,O);i&&i(B,K),S=P()+1;let V=Ty(B,S),ne=G.createHref(B);try{y.pushState(V,"",ne)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;l.location.assign(ne)}p&&M&&M({action:u,location:G.location,delta:1})}function J(K,O){u=Al.Replace;let B=wm(G.location,K,O);i&&i(B,K),S=P();let V=Ty(B,S),ne=G.createHref(B);y.replaceState(V,"",ne),p&&M&&M({action:u,location:G.location,delta:0})}function X(K){let O=l.location.origin!=="null"?l.location.origin:l.location.href,B=typeof K=="string"?K:mb(K);return fb(O,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,O)}let G={get action(){return u},get location(){return e(l,y)},listen(K){if(M)throw new Error("A history only accepts one active listener");return l.addEventListener(Py,F),M=K,()=>{l.removeEventListener(Py,F),M=null}},createHref(K){return t(l,K)},createURL:X,encodeLocation(K){let O=X(K);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:R,replace:J,go(K){return y.go(K)}};return G}var Iy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Iy||(Iy={}));function bF(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=e.charAt(i);return a&&a!=="/"?null:e.slice(i)||"/"}const yb=["post","put","patch","delete"];new Set(yb);const wF=["get",...yb];new Set(wF);/**
 * React Router v6.21.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},Sm.apply(this,arguments)}const SF=H.createContext(null),vb=H.createContext(null);function CF(){return H.useContext(vb)!=null}function MF(e){let{basename:t="/",children:i=null,location:a,navigationType:l=Al.Pop,navigator:p,static:y=!1,future:u}=e;CF()&&fb(!1);let M=t.replace(/^\/*/,"/"),S=H.useMemo(()=>({basename:M,navigator:p,static:y,future:Sm({v7_relativeSplatPath:!1},u)}),[M,u,p,y]);typeof a=="string"&&(a=gb(a));let{pathname:P="/",search:F="",hash:R="",state:J=null,key:X="default"}=a,G=H.useMemo(()=>{let K=bF(P,M);return K==null?null:{location:{pathname:K,search:F,hash:R,state:J,key:X},navigationType:l}},[M,P,F,R,J,X,l]);return G==null?null:H.createElement(SF.Provider,{value:S},H.createElement(vb.Provider,{children:i,value:G}))}new Promise(()=>{});/**
 * React Router DOM v6.21.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const EF="startTransition",Ly=Fs[EF];function kF(e){let{basename:t,children:i,future:a,window:l}=e,p=H.useRef();p.current==null&&(p.current=vF({window:l,v5Compat:!0}));let y=p.current,[u,M]=H.useState({action:y.action,location:y.location}),{v7_startTransition:S}=a||{},P=H.useCallback(F=>{S&&Ly?Ly(()=>M(F)):M(F)},[M,S]);return H.useLayoutEffect(()=>y.listen(P),[y,P]),H.createElement(MF,{basename:t,children:i,location:u.location,navigationType:u.action,navigator:y,future:a})}var Dy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Dy||(Dy={}));var Ry;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ry||(Ry={}));const AF={selectedLayer:"buildings"},zy=tk({name:"appState",initialState:AF,reducers:{},extraReducers:e=>{e.addCase(bm,(t,i)=>({...t,selectedFeature:i.payload})),e.addCase(tg,(t,i)=>({...t,showInfo:i.payload})),e.addCase(pb,(t,i)=>({...t,selectedLayer:i.payload}))}}),PF=r_({[zy.name]:zy.reducer}),TF=qE({reducer:PF});z8.createRoot(document.getElementById("root")).render(dt.jsx(Ct.StrictMode,{children:dt.jsx(iE,{store:TF,children:dt.jsx(XI,{theme:{token:{fontFamily:"Geometria",colorPrimary:"#392D59",colorLink:"#568fa6"}},children:dt.jsx(kF,{children:dt.jsx(yF,{})})})})}));export{pS as c,F4 as g};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}