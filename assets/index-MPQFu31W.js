function Ey(e,t){for(var i=0;i<t.length;i++){const a=t[i];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in e)){const p=Object.getOwnPropertyDescriptor(a,l);p&&Object.defineProperty(e,l,p.get?p:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const p of l)if(p.type==="childList")for(const y of p.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&a(y)}).observe(document,{childList:!0,subtree:!0});function i(l){const p={};return l.integrity&&(p.integrity=l.integrity),l.referrerPolicy&&(p.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?p.credentials="include":l.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function a(l){if(l.ep)return;l.ep=!0;const p=i(l);fetch(l.href,p)}})();var Yw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function R4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ky={exports:{}},z4={},Ay={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd=Symbol.for("react.element"),Qw=Symbol.for("react.portal"),eS=Symbol.for("react.fragment"),tS=Symbol.for("react.strict_mode"),nS=Symbol.for("react.profiler"),rS=Symbol.for("react.provider"),iS=Symbol.for("react.context"),oS=Symbol.for("react.forward_ref"),aS=Symbol.for("react.suspense"),sS=Symbol.for("react.memo"),lS=Symbol.for("react.lazy"),I3=Symbol.iterator;function uS(e){return e===null||typeof e!="object"?null:(e=I3&&e[I3]||e["@@iterator"],typeof e=="function"?e:null)}var Py={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ty=Object.assign,Iy={};function yu(e,t,i){this.props=e,this.context=t,this.refs=Iy,this.updater=i||Py}yu.prototype.isReactComponent={};yu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ly(){}Ly.prototype=yu.prototype;function xm(e,t,i){this.props=e,this.context=t,this.refs=Iy,this.updater=i||Py}var bm=xm.prototype=new Ly;bm.constructor=xm;Ty(bm,yu.prototype);bm.isPureReactComponent=!0;var L3=Array.isArray,Dy=Object.prototype.hasOwnProperty,wm={current:null},Ry={key:!0,ref:!0,__self:!0,__source:!0};function zy(e,t,i){var a,l={},p=null,y=null;if(t!=null)for(a in t.ref!==void 0&&(y=t.ref),t.key!==void 0&&(p=""+t.key),t)Dy.call(t,a)&&!Ry.hasOwnProperty(a)&&(l[a]=t[a]);var u=arguments.length-2;if(u===1)l.children=i;else if(1<u){for(var E=Array(u),C=0;C<u;C++)E[C]=arguments[C+2];l.children=E}if(e&&e.defaultProps)for(a in u=e.defaultProps,u)l[a]===void 0&&(l[a]=u[a]);return{$$typeof:Rd,type:e,key:p,ref:y,props:l,_owner:wm.current}}function cS(e,t){return{$$typeof:Rd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rd}function dS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var D3=/\/+/g;function Lf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dS(""+e.key):t.toString(36)}function Ip(e,t,i,a,l){var p=typeof e;(p==="undefined"||p==="boolean")&&(e=null);var y=!1;if(e===null)y=!0;else switch(p){case"string":case"number":y=!0;break;case"object":switch(e.$$typeof){case Rd:case Qw:y=!0}}if(y)return y=e,l=l(y),e=a===""?"."+Lf(y,0):a,L3(l)?(i="",e!=null&&(i=e.replace(D3,"$&/")+"/"),Ip(l,t,i,"",function(C){return C})):l!=null&&(Sm(l)&&(l=cS(l,i+(!l.key||y&&y.key===l.key?"":(""+l.key).replace(D3,"$&/")+"/")+e)),t.push(l)),1;if(y=0,a=a===""?".":a+":",L3(e))for(var u=0;u<e.length;u++){p=e[u];var E=a+Lf(p,u);y+=Ip(p,t,i,E,l)}else if(E=uS(e),typeof E=="function")for(e=E.call(e),u=0;!(p=e.next()).done;)p=p.value,E=a+Lf(p,u++),y+=Ip(p,t,i,E,l);else if(p==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return y}function Qh(e,t,i){if(e==null)return e;var a=[],l=0;return Ip(e,a,"","",function(p){return t.call(i,p,l++)}),a}function hS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wi={current:null},Lp={transition:null},pS={ReactCurrentDispatcher:wi,ReactCurrentBatchConfig:Lp,ReactCurrentOwner:wm};Yt.Children={map:Qh,forEach:function(e,t,i){Qh(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return Qh(e,function(){t++}),t},toArray:function(e){return Qh(e,function(t){return t})||[]},only:function(e){if(!Sm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Yt.Component=yu;Yt.Fragment=eS;Yt.Profiler=nS;Yt.PureComponent=xm;Yt.StrictMode=tS;Yt.Suspense=aS;Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pS;Yt.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Ty({},e.props),l=e.key,p=e.ref,y=e._owner;if(t!=null){if(t.ref!==void 0&&(p=t.ref,y=wm.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(E in t)Dy.call(t,E)&&!Ry.hasOwnProperty(E)&&(a[E]=t[E]===void 0&&u!==void 0?u[E]:t[E])}var E=arguments.length-2;if(E===1)a.children=i;else if(1<E){u=Array(E);for(var C=0;C<E;C++)u[C]=arguments[C+2];a.children=u}return{$$typeof:Rd,type:e.type,key:l,ref:p,props:a,_owner:y}};Yt.createContext=function(e){return e={$$typeof:iS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rS,_context:e},e.Consumer=e};Yt.createElement=zy;Yt.createFactory=function(e){var t=zy.bind(null,e);return t.type=e,t};Yt.createRef=function(){return{current:null}};Yt.forwardRef=function(e){return{$$typeof:oS,render:e}};Yt.isValidElement=Sm;Yt.lazy=function(e){return{$$typeof:lS,_payload:{_status:-1,_result:e},_init:hS}};Yt.memo=function(e,t){return{$$typeof:sS,type:e,compare:t===void 0?null:t}};Yt.startTransition=function(e){var t=Lp.transition;Lp.transition={};try{e()}finally{Lp.transition=t}};Yt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Yt.useCallback=function(e,t){return wi.current.useCallback(e,t)};Yt.useContext=function(e){return wi.current.useContext(e)};Yt.useDebugValue=function(){};Yt.useDeferredValue=function(e){return wi.current.useDeferredValue(e)};Yt.useEffect=function(e,t){return wi.current.useEffect(e,t)};Yt.useId=function(){return wi.current.useId()};Yt.useImperativeHandle=function(e,t,i){return wi.current.useImperativeHandle(e,t,i)};Yt.useInsertionEffect=function(e,t){return wi.current.useInsertionEffect(e,t)};Yt.useLayoutEffect=function(e,t){return wi.current.useLayoutEffect(e,t)};Yt.useMemo=function(e,t){return wi.current.useMemo(e,t)};Yt.useReducer=function(e,t,i){return wi.current.useReducer(e,t,i)};Yt.useRef=function(e){return wi.current.useRef(e)};Yt.useState=function(e){return wi.current.useState(e)};Yt.useSyncExternalStore=function(e,t,i){return wi.current.useSyncExternalStore(e,t,i)};Yt.useTransition=function(){return wi.current.useTransition()};Yt.version="18.2.0";Ay.exports=Yt;var Z=Ay.exports;const Ct=R4(Z),Il=Ey({__proto__:null,default:Ct},[Z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS=Z,mS=Symbol.for("react.element"),gS=Symbol.for("react.fragment"),yS=Object.prototype.hasOwnProperty,vS=fS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_S={key:!0,ref:!0,__self:!0,__source:!0};function Fy(e,t,i){var a,l={},p=null,y=null;i!==void 0&&(p=""+i),t.key!==void 0&&(p=""+t.key),t.ref!==void 0&&(y=t.ref);for(a in t)yS.call(t,a)&&!_S.hasOwnProperty(a)&&(l[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)l[a]===void 0&&(l[a]=t[a]);return{$$typeof:mS,type:e,key:p,ref:y,props:l,_owner:vS.current}}z4.Fragment=gS;z4.jsx=Fy;z4.jsxs=Fy;ky.exports=z4;var ht=ky.exports,D8={},Ny={exports:{}},so={},Oy={exports:{}},By={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(we,Re){var Ve=we.length;we.push(Re);e:for(;0<Ve;){var Ze=Ve-1>>>1,at=we[Ze];if(0<l(at,Re))we[Ze]=Re,we[Ve]=at,Ve=Ze;else break e}}function i(we){return we.length===0?null:we[0]}function a(we){if(we.length===0)return null;var Re=we[0],Ve=we.pop();if(Ve!==Re){we[0]=Ve;e:for(var Ze=0,at=we.length,ut=at>>>1;Ze<ut;){var Pt=2*(Ze+1)-1,Xt=we[Pt],qt=Pt+1,ln=we[qt];if(0>l(Xt,Ve))qt<at&&0>l(ln,Xt)?(we[Ze]=ln,we[qt]=Ve,Ze=qt):(we[Ze]=Xt,we[Pt]=Ve,Ze=Pt);else if(qt<at&&0>l(ln,Ve))we[Ze]=ln,we[qt]=Ve,Ze=qt;else break e}}return Re}function l(we,Re){var Ve=we.sortIndex-Re.sortIndex;return Ve!==0?Ve:we.id-Re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;e.unstable_now=function(){return p.now()}}else{var y=Date,u=y.now();e.unstable_now=function(){return y.now()-u}}var E=[],C=[],P=1,F=null,z=3,X=!1,K=!1,G=!1,ee=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(we){for(var Re=i(C);Re!==null;){if(Re.callback===null)a(C);else if(Re.startTime<=we)a(C),Re.sortIndex=Re.expirationTime,t(E,Re);else break;Re=i(C)}}function ne(we){if(G=!1,W(we),!K)if(i(E)!==null)K=!0,Le(pe);else{var Re=i(C);Re!==null&&Ie(ne,Re.startTime-we)}}function pe(we,Re){K=!1,G&&(G=!1,O(Se),Se=-1),X=!0;var Ve=z;try{for(W(Re),F=i(E);F!==null&&(!(F.expirationTime>Re)||we&&!Be());){var Ze=F.callback;if(typeof Ze=="function"){F.callback=null,z=F.priorityLevel;var at=Ze(F.expirationTime<=Re);Re=e.unstable_now(),typeof at=="function"?F.callback=at:F===i(E)&&a(E),W(Re)}else a(E);F=i(E)}if(F!==null)var ut=!0;else{var Pt=i(C);Pt!==null&&Ie(ne,Pt.startTime-Re),ut=!1}return ut}finally{F=null,z=Ve,X=!1}}var he=!1,de=null,Se=-1,Te=5,Me=-1;function Be(){return!(e.unstable_now()-Me<Te)}function He(){if(de!==null){var we=e.unstable_now();Me=we;var Re=!0;try{Re=de(!0,we)}finally{Re?We():(he=!1,de=null)}}else he=!1}var We;if(typeof B=="function")We=function(){B(He)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,Je=qe.port2;qe.port1.onmessage=He,We=function(){Je.postMessage(null)}}else We=function(){ee(He,0)};function Le(we){de=we,he||(he=!0,We())}function Ie(we,Re){Se=ee(function(){we(e.unstable_now())},Re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(we){we.callback=null},e.unstable_continueExecution=function(){K||X||(K=!0,Le(pe))},e.unstable_forceFrameRate=function(we){0>we||125<we?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Te=0<we?Math.floor(1e3/we):5},e.unstable_getCurrentPriorityLevel=function(){return z},e.unstable_getFirstCallbackNode=function(){return i(E)},e.unstable_next=function(we){switch(z){case 1:case 2:case 3:var Re=3;break;default:Re=z}var Ve=z;z=Re;try{return we()}finally{z=Ve}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(we,Re){switch(we){case 1:case 2:case 3:case 4:case 5:break;default:we=3}var Ve=z;z=we;try{return Re()}finally{z=Ve}},e.unstable_scheduleCallback=function(we,Re,Ve){var Ze=e.unstable_now();switch(typeof Ve=="object"&&Ve!==null?(Ve=Ve.delay,Ve=typeof Ve=="number"&&0<Ve?Ze+Ve:Ze):Ve=Ze,we){case 1:var at=-1;break;case 2:at=250;break;case 5:at=1073741823;break;case 4:at=1e4;break;default:at=5e3}return at=Ve+at,we={id:P++,callback:Re,priorityLevel:we,startTime:Ve,expirationTime:at,sortIndex:-1},Ve>Ze?(we.sortIndex=Ve,t(C,we),i(E)===null&&we===i(C)&&(G?(O(Se),Se=-1):G=!0,Ie(ne,Ve-Ze))):(we.sortIndex=at,t(E,we),K||X||(K=!0,Le(pe))),we},e.unstable_shouldYield=Be,e.unstable_wrapCallback=function(we){var Re=z;return function(){var Ve=z;z=Re;try{return we.apply(this,arguments)}finally{z=Ve}}}})(By);Oy.exports=By;var xS=Oy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y=Z,io=xS;function tt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jy=new Set,sd={};function $l(e,t){iu(e,t),iu(e+"Capture",t)}function iu(e,t){for(sd[e]=t,e=0;e<t.length;e++)jy.add(t[e])}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),R8=Object.prototype.hasOwnProperty,bS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R3={},z3={};function wS(e){return R8.call(z3,e)?!0:R8.call(R3,e)?!1:bS.test(e)?z3[e]=!0:(R3[e]=!0,!1)}function SS(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function CS(e,t,i,a){if(t===null||typeof t>"u"||SS(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Si(e,t,i,a,l,p,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=l,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=p,this.removeEmptyString=y}var Gr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gr[e]=new Si(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gr[t]=new Si(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gr[e]=new Si(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gr[e]=new Si(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gr[e]=new Si(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gr[e]=new Si(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gr[e]=new Si(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gr[e]=new Si(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gr[e]=new Si(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cm=/[\-:]([a-z])/g;function Mm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cm,Mm);Gr[t]=new Si(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cm,Mm);Gr[t]=new Si(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cm,Mm);Gr[t]=new Si(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gr[e]=new Si(e,1,!1,e.toLowerCase(),null,!1,!1)});Gr.xlinkHref=new Si("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gr[e]=new Si(e,1,!1,e.toLowerCase(),null,!0,!0)});function Em(e,t,i,a){var l=Gr.hasOwnProperty(t)?Gr[t]:null;(l!==null?l.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(CS(t,i,l,a)&&(i=null),a||l===null?wS(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):l.mustUseProperty?e[l.propertyName]=i===null?l.type===3?!1:"":i:(t=l.attributeName,a=l.attributeNamespace,i===null?e.removeAttribute(t):(l=l.type,i=l===3||l===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var Ja=$y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ep=Symbol.for("react.element"),z1=Symbol.for("react.portal"),F1=Symbol.for("react.fragment"),km=Symbol.for("react.strict_mode"),z8=Symbol.for("react.profiler"),Vy=Symbol.for("react.provider"),Wy=Symbol.for("react.context"),Am=Symbol.for("react.forward_ref"),F8=Symbol.for("react.suspense"),N8=Symbol.for("react.suspense_list"),Pm=Symbol.for("react.memo"),xs=Symbol.for("react.lazy"),Uy=Symbol.for("react.offscreen"),F3=Symbol.iterator;function Tc(e){return e===null||typeof e!="object"?null:(e=F3&&e[F3]||e["@@iterator"],typeof e=="function"?e:null)}var qn=Object.assign,Df;function Vc(e){if(Df===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Df=t&&t[1]||""}return`
`+Df+e}var Rf=!1;function zf(e,t){if(!e||Rf)return"";Rf=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(C){var a=C}Reflect.construct(e,[],t)}else{try{t.call()}catch(C){a=C}e.call(t.prototype)}else{try{throw Error()}catch(C){a=C}e()}}catch(C){if(C&&a&&typeof C.stack=="string"){for(var l=C.stack.split(`
`),p=a.stack.split(`
`),y=l.length-1,u=p.length-1;1<=y&&0<=u&&l[y]!==p[u];)u--;for(;1<=y&&0<=u;y--,u--)if(l[y]!==p[u]){if(y!==1||u!==1)do if(y--,u--,0>u||l[y]!==p[u]){var E=`
`+l[y].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=y&&0<=u);break}}}finally{Rf=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Vc(e):""}function MS(e){switch(e.tag){case 5:return Vc(e.type);case 16:return Vc("Lazy");case 13:return Vc("Suspense");case 19:return Vc("SuspenseList");case 0:case 2:case 15:return e=zf(e.type,!1),e;case 11:return e=zf(e.type.render,!1),e;case 1:return e=zf(e.type,!0),e;default:return""}}function O8(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F1:return"Fragment";case z1:return"Portal";case z8:return"Profiler";case km:return"StrictMode";case F8:return"Suspense";case N8:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wy:return(e.displayName||"Context")+".Consumer";case Vy:return(e._context.displayName||"Context")+".Provider";case Am:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pm:return t=e.displayName||null,t!==null?t:O8(e.type)||"Memo";case xs:t=e._payload,e=e._init;try{return O8(e(t))}catch{}}return null}function ES(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O8(t);case 8:return t===km?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kS(e){var t=Hy(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,p=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(y){a=""+y,p.call(this,y)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tp(e){e._valueTracker||(e._valueTracker=kS(e))}function Zy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=Hy(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function Jp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function B8(e,t){var i=t.checked;return qn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function N3(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=Fs(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gy(e,t){t=t.checked,t!=null&&Em(e,"checked",t,!1)}function $8(e,t){Gy(e,t);var i=Fs(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?j8(e,t.type,i):t.hasOwnProperty("defaultValue")&&j8(e,t.type,Fs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function O3(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function j8(e,t,i){(t!=="number"||Jp(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Wc=Array.isArray;function X1(e,t,i,a){if(e=e.options,t){t={};for(var l=0;l<i.length;l++)t["$"+i[l]]=!0;for(i=0;i<e.length;i++)l=t.hasOwnProperty("$"+e[i].value),e[i].selected!==l&&(e[i].selected=l),l&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Fs(i),t=null,l=0;l<e.length;l++){if(e[l].value===i){e[l].selected=!0,a&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function V8(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(tt(91));return qn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function B3(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(tt(92));if(Wc(i)){if(1<i.length)throw Error(tt(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:Fs(i)}}function qy(e,t){var i=Fs(t.value),a=Fs(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function $3(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ky(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function W8(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ky(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var np,Xy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,l){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(np=np||document.createElement("div"),np.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=np.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ld(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var qc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AS=["Webkit","ms","Moz","O"];Object.keys(qc).forEach(function(e){AS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qc[t]=qc[e]})});function Jy(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||qc.hasOwnProperty(e)&&qc[e]?(""+t).trim():t+"px"}function Yy(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,l=Jy(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,l):e[i]=l}}var PS=qn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function U8(e,t){if(t){if(PS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(tt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(tt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(tt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(tt(62))}}function H8(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z8=null;function Tm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var G8=null,J1=null,Y1=null;function j3(e){if(e=Nd(e)){if(typeof G8!="function")throw Error(tt(280));var t=e.stateNode;t&&(t=$4(t),G8(e.stateNode,e.type,t))}}function Qy(e){J1?Y1?Y1.push(e):Y1=[e]:J1=e}function e9(){if(J1){var e=J1,t=Y1;if(Y1=J1=null,j3(e),t)for(e=0;e<t.length;e++)j3(t[e])}}function t9(e,t){return e(t)}function n9(){}var Ff=!1;function r9(e,t,i){if(Ff)return e(t,i);Ff=!0;try{return t9(e,t,i)}finally{Ff=!1,(J1!==null||Y1!==null)&&(n9(),e9())}}function ud(e,t){var i=e.stateNode;if(i===null)return null;var a=$4(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(tt(231,t,typeof i));return i}var q8=!1;if(Wa)try{var Ic={};Object.defineProperty(Ic,"passive",{get:function(){q8=!0}}),window.addEventListener("test",Ic,Ic),window.removeEventListener("test",Ic,Ic)}catch{q8=!1}function TS(e,t,i,a,l,p,y,u,E){var C=Array.prototype.slice.call(arguments,3);try{t.apply(i,C)}catch(P){this.onError(P)}}var Kc=!1,Yp=null,Qp=!1,K8=null,IS={onError:function(e){Kc=!0,Yp=e}};function LS(e,t,i,a,l,p,y,u,E){Kc=!1,Yp=null,TS.apply(IS,arguments)}function DS(e,t,i,a,l,p,y,u,E){if(LS.apply(this,arguments),Kc){if(Kc){var C=Yp;Kc=!1,Yp=null}else throw Error(tt(198));Qp||(Qp=!0,K8=C)}}function jl(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function i9(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function V3(e){if(jl(e)!==e)throw Error(tt(188))}function RS(e){var t=e.alternate;if(!t){if(t=jl(e),t===null)throw Error(tt(188));return t!==e?null:e}for(var i=e,a=t;;){var l=i.return;if(l===null)break;var p=l.alternate;if(p===null){if(a=l.return,a!==null){i=a;continue}break}if(l.child===p.child){for(p=l.child;p;){if(p===i)return V3(l),e;if(p===a)return V3(l),t;p=p.sibling}throw Error(tt(188))}if(i.return!==a.return)i=l,a=p;else{for(var y=!1,u=l.child;u;){if(u===i){y=!0,i=l,a=p;break}if(u===a){y=!0,a=l,i=p;break}u=u.sibling}if(!y){for(u=p.child;u;){if(u===i){y=!0,i=p,a=l;break}if(u===a){y=!0,a=p,i=l;break}u=u.sibling}if(!y)throw Error(tt(189))}}if(i.alternate!==a)throw Error(tt(190))}if(i.tag!==3)throw Error(tt(188));return i.stateNode.current===i?e:t}function o9(e){return e=RS(e),e!==null?a9(e):null}function a9(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=a9(e);if(t!==null)return t;e=e.sibling}return null}var s9=io.unstable_scheduleCallback,W3=io.unstable_cancelCallback,zS=io.unstable_shouldYield,FS=io.unstable_requestPaint,pr=io.unstable_now,NS=io.unstable_getCurrentPriorityLevel,Im=io.unstable_ImmediatePriority,l9=io.unstable_UserBlockingPriority,e4=io.unstable_NormalPriority,OS=io.unstable_LowPriority,u9=io.unstable_IdlePriority,F4=null,ya=null;function BS(e){if(ya&&typeof ya.onCommitFiberRoot=="function")try{ya.onCommitFiberRoot(F4,e,void 0,(e.current.flags&128)===128)}catch{}}var Xo=Math.clz32?Math.clz32:VS,$S=Math.log,jS=Math.LN2;function VS(e){return e>>>=0,e===0?32:31-($S(e)/jS|0)|0}var rp=64,ip=4194304;function Uc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function t4(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,l=e.suspendedLanes,p=e.pingedLanes,y=i&268435455;if(y!==0){var u=y&~l;u!==0?a=Uc(u):(p&=y,p!==0&&(a=Uc(p)))}else y=i&~l,y!==0?a=Uc(y):p!==0&&(a=Uc(p));if(a===0)return 0;if(t!==0&&t!==a&&!(t&l)&&(l=a&-a,p=t&-t,l>=p||l===16&&(p&4194240)!==0))return t;if(a&4&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-Xo(t),l=1<<i,a|=e[i],t&=~l;return a}function WS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function US(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,p=e.pendingLanes;0<p;){var y=31-Xo(p),u=1<<y,E=l[y];E===-1?(!(u&i)||u&a)&&(l[y]=WS(u,t)):E<=t&&(e.expiredLanes|=u),p&=~u}}function X8(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function c9(){var e=rp;return rp<<=1,!(rp&4194240)&&(rp=64),e}function Nf(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function zd(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xo(t),e[t]=i}function HS(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var l=31-Xo(i),p=1<<l;t[l]=0,a[l]=-1,e[l]=-1,i&=~p}}function Lm(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-Xo(i),l=1<<a;l&t|e[a]&t&&(e[a]|=t),i&=~l}}var gn=0;function d9(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var h9,Dm,p9,f9,m9,J8=!1,op=[],As=null,Ps=null,Ts=null,cd=new Map,dd=new Map,ws=[],ZS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U3(e,t){switch(e){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":cd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dd.delete(t.pointerId)}}function Lc(e,t,i,a,l,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:p,targetContainers:[l]},t!==null&&(t=Nd(t),t!==null&&Dm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function GS(e,t,i,a,l){switch(t){case"focusin":return As=Lc(As,e,t,i,a,l),!0;case"dragenter":return Ps=Lc(Ps,e,t,i,a,l),!0;case"mouseover":return Ts=Lc(Ts,e,t,i,a,l),!0;case"pointerover":var p=l.pointerId;return cd.set(p,Lc(cd.get(p)||null,e,t,i,a,l)),!0;case"gotpointercapture":return p=l.pointerId,dd.set(p,Lc(dd.get(p)||null,e,t,i,a,l)),!0}return!1}function g9(e){var t=bl(e.target);if(t!==null){var i=jl(t);if(i!==null){if(t=i.tag,t===13){if(t=i9(i),t!==null){e.blockedOn=t,m9(e.priority,function(){p9(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Y8(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);Z8=a,i.target.dispatchEvent(a),Z8=null}else return t=Nd(i),t!==null&&Dm(t),e.blockedOn=i,!1;t.shift()}return!0}function H3(e,t,i){Dp(e)&&i.delete(t)}function qS(){J8=!1,As!==null&&Dp(As)&&(As=null),Ps!==null&&Dp(Ps)&&(Ps=null),Ts!==null&&Dp(Ts)&&(Ts=null),cd.forEach(H3),dd.forEach(H3)}function Dc(e,t){e.blockedOn===t&&(e.blockedOn=null,J8||(J8=!0,io.unstable_scheduleCallback(io.unstable_NormalPriority,qS)))}function hd(e){function t(l){return Dc(l,e)}if(0<op.length){Dc(op[0],e);for(var i=1;i<op.length;i++){var a=op[i];a.blockedOn===e&&(a.blockedOn=null)}}for(As!==null&&Dc(As,e),Ps!==null&&Dc(Ps,e),Ts!==null&&Dc(Ts,e),cd.forEach(t),dd.forEach(t),i=0;i<ws.length;i++)a=ws[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<ws.length&&(i=ws[0],i.blockedOn===null);)g9(i),i.blockedOn===null&&ws.shift()}var Q1=Ja.ReactCurrentBatchConfig,n4=!0;function KS(e,t,i,a){var l=gn,p=Q1.transition;Q1.transition=null;try{gn=1,Rm(e,t,i,a)}finally{gn=l,Q1.transition=p}}function XS(e,t,i,a){var l=gn,p=Q1.transition;Q1.transition=null;try{gn=4,Rm(e,t,i,a)}finally{gn=l,Q1.transition=p}}function Rm(e,t,i,a){if(n4){var l=Y8(e,t,i,a);if(l===null)Gf(e,t,a,r4,i),U3(e,a);else if(GS(l,e,t,i,a))a.stopPropagation();else if(U3(e,a),t&4&&-1<ZS.indexOf(e)){for(;l!==null;){var p=Nd(l);if(p!==null&&h9(p),p=Y8(e,t,i,a),p===null&&Gf(e,t,a,r4,i),p===l)break;l=p}l!==null&&a.stopPropagation()}else Gf(e,t,a,null,i)}}var r4=null;function Y8(e,t,i,a){if(r4=null,e=Tm(a),e=bl(e),e!==null)if(t=jl(e),t===null)e=null;else if(i=t.tag,i===13){if(e=i9(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return r4=e,null}function y9(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NS()){case Im:return 1;case l9:return 4;case e4:case OS:return 16;case u9:return 536870912;default:return 16}default:return 16}}var Cs=null,zm=null,Rp=null;function v9(){if(Rp)return Rp;var e,t=zm,i=t.length,a,l="value"in Cs?Cs.value:Cs.textContent,p=l.length;for(e=0;e<i&&t[e]===l[e];e++);var y=i-e;for(a=1;a<=y&&t[i-a]===l[p-a];a++);return Rp=l.slice(e,1<a?1-a:void 0)}function zp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ap(){return!0}function Z3(){return!1}function lo(e){function t(i,a,l,p,y){this._reactName=i,this._targetInst=l,this.type=a,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(i=e[u],this[u]=i?i(p):p[u]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ap:Z3,this.isPropagationStopped=Z3,this}return qn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ap)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ap)},persist:function(){},isPersistent:ap}),t}var vu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fm=lo(vu),Fd=qn({},vu,{view:0,detail:0}),JS=lo(Fd),Of,Bf,Rc,N4=qn({},Fd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rc&&(Rc&&e.type==="mousemove"?(Of=e.screenX-Rc.screenX,Bf=e.screenY-Rc.screenY):Bf=Of=0,Rc=e),Of)},movementY:function(e){return"movementY"in e?e.movementY:Bf}}),G3=lo(N4),YS=qn({},N4,{dataTransfer:0}),QS=lo(YS),eC=qn({},Fd,{relatedTarget:0}),$f=lo(eC),tC=qn({},vu,{animationName:0,elapsedTime:0,pseudoElement:0}),nC=lo(tC),rC=qn({},vu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iC=lo(rC),oC=qn({},vu,{data:0}),q3=lo(oC),aC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lC[e])?!!t[e]:!1}function Nm(){return uC}var cC=qn({},Fd,{key:function(e){if(e.key){var t=aC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nm,charCode:function(e){return e.type==="keypress"?zp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dC=lo(cC),hC=qn({},N4,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K3=lo(hC),pC=qn({},Fd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nm}),fC=lo(pC),mC=qn({},vu,{propertyName:0,elapsedTime:0,pseudoElement:0}),gC=lo(mC),yC=qn({},N4,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vC=lo(yC),_C=[9,13,27,32],Om=Wa&&"CompositionEvent"in window,Xc=null;Wa&&"documentMode"in document&&(Xc=document.documentMode);var xC=Wa&&"TextEvent"in window&&!Xc,_9=Wa&&(!Om||Xc&&8<Xc&&11>=Xc),X3=String.fromCharCode(32),J3=!1;function x9(e,t){switch(e){case"keyup":return _C.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b9(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var N1=!1;function bC(e,t){switch(e){case"compositionend":return b9(t);case"keypress":return t.which!==32?null:(J3=!0,X3);case"textInput":return e=t.data,e===X3&&J3?null:e;default:return null}}function wC(e,t){if(N1)return e==="compositionend"||!Om&&x9(e,t)?(e=v9(),Rp=zm=Cs=null,N1=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _9&&t.locale!=="ko"?null:t.data;default:return null}}var SC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!SC[e.type]:t==="textarea"}function w9(e,t,i,a){Qy(a),t=i4(t,"onChange"),0<t.length&&(i=new Fm("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var Jc=null,pd=null;function CC(e){D9(e,0)}function O4(e){var t=$1(e);if(Zy(t))return e}function MC(e,t){if(e==="change")return t}var S9=!1;if(Wa){var jf;if(Wa){var Vf="oninput"in document;if(!Vf){var Q3=document.createElement("div");Q3.setAttribute("oninput","return;"),Vf=typeof Q3.oninput=="function"}jf=Vf}else jf=!1;S9=jf&&(!document.documentMode||9<document.documentMode)}function e6(){Jc&&(Jc.detachEvent("onpropertychange",C9),pd=Jc=null)}function C9(e){if(e.propertyName==="value"&&O4(pd)){var t=[];w9(t,pd,e,Tm(e)),r9(CC,t)}}function EC(e,t,i){e==="focusin"?(e6(),Jc=t,pd=i,Jc.attachEvent("onpropertychange",C9)):e==="focusout"&&e6()}function kC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return O4(pd)}function AC(e,t){if(e==="click")return O4(t)}function PC(e,t){if(e==="input"||e==="change")return O4(t)}function TC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ta=typeof Object.is=="function"?Object.is:TC;function fd(e,t){if(ta(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var l=i[a];if(!R8.call(t,l)||!ta(e[l],t[l]))return!1}return!0}function t6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function n6(e,t){var i=t6(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=t6(i)}}function M9(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?M9(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function E9(){for(var e=window,t=Jp();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Jp(e.document)}return t}function Bm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function IC(e){var t=E9(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&M9(i.ownerDocument.documentElement,i)){if(a!==null&&Bm(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=i.textContent.length,p=Math.min(a.start,l);a=a.end===void 0?p:Math.min(a.end,l),!e.extend&&p>a&&(l=a,a=p,p=l),l=n6(i,p);var y=n6(i,a);l&&y&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),p>a?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var LC=Wa&&"documentMode"in document&&11>=document.documentMode,O1=null,Q8=null,Yc=null,e5=!1;function r6(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;e5||O1==null||O1!==Jp(a)||(a=O1,"selectionStart"in a&&Bm(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Yc&&fd(Yc,a)||(Yc=a,a=i4(Q8,"onSelect"),0<a.length&&(t=new Fm("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=O1)))}function sp(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var B1={animationend:sp("Animation","AnimationEnd"),animationiteration:sp("Animation","AnimationIteration"),animationstart:sp("Animation","AnimationStart"),transitionend:sp("Transition","TransitionEnd")},Wf={},k9={};Wa&&(k9=document.createElement("div").style,"AnimationEvent"in window||(delete B1.animationend.animation,delete B1.animationiteration.animation,delete B1.animationstart.animation),"TransitionEvent"in window||delete B1.transitionend.transition);function B4(e){if(Wf[e])return Wf[e];if(!B1[e])return e;var t=B1[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in k9)return Wf[e]=t[i];return e}var A9=B4("animationend"),P9=B4("animationiteration"),T9=B4("animationstart"),I9=B4("transitionend"),L9=new Map,i6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(e,t){L9.set(e,t),$l(t,[e])}for(var Uf=0;Uf<i6.length;Uf++){var Hf=i6[Uf],DC=Hf.toLowerCase(),RC=Hf[0].toUpperCase()+Hf.slice(1);Ws(DC,"on"+RC)}Ws(A9,"onAnimationEnd");Ws(P9,"onAnimationIteration");Ws(T9,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(I9,"onTransitionEnd");iu("onMouseEnter",["mouseout","mouseover"]);iu("onMouseLeave",["mouseout","mouseover"]);iu("onPointerEnter",["pointerout","pointerover"]);iu("onPointerLeave",["pointerout","pointerover"]);$l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$l("onBeforeInput",["compositionend","keypress","textInput","paste"]);$l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hc));function o6(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,DS(a,t,void 0,e),e.currentTarget=null}function D9(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],l=a.event;a=a.listeners;e:{var p=void 0;if(t)for(var y=a.length-1;0<=y;y--){var u=a[y],E=u.instance,C=u.currentTarget;if(u=u.listener,E!==p&&l.isPropagationStopped())break e;o6(l,u,C),p=E}else for(y=0;y<a.length;y++){if(u=a[y],E=u.instance,C=u.currentTarget,u=u.listener,E!==p&&l.isPropagationStopped())break e;o6(l,u,C),p=E}}}if(Qp)throw e=K8,Qp=!1,K8=null,e}function zn(e,t){var i=t[o5];i===void 0&&(i=t[o5]=new Set);var a=e+"__bubble";i.has(a)||(R9(t,e,2,!1),i.add(a))}function Zf(e,t,i){var a=0;t&&(a|=4),R9(i,e,a,t)}var lp="_reactListening"+Math.random().toString(36).slice(2);function md(e){if(!e[lp]){e[lp]=!0,jy.forEach(function(i){i!=="selectionchange"&&(zC.has(i)||Zf(i,!1,e),Zf(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lp]||(t[lp]=!0,Zf("selectionchange",!1,t))}}function R9(e,t,i,a){switch(y9(t)){case 1:var l=KS;break;case 4:l=XS;break;default:l=Rm}i=l.bind(null,t,i,e),l=void 0,!q8||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),a?l!==void 0?e.addEventListener(t,i,{capture:!0,passive:l}):e.addEventListener(t,i,!0):l!==void 0?e.addEventListener(t,i,{passive:l}):e.addEventListener(t,i,!1)}function Gf(e,t,i,a,l){var p=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var y=a.tag;if(y===3||y===4){var u=a.stateNode.containerInfo;if(u===l||u.nodeType===8&&u.parentNode===l)break;if(y===4)for(y=a.return;y!==null;){var E=y.tag;if((E===3||E===4)&&(E=y.stateNode.containerInfo,E===l||E.nodeType===8&&E.parentNode===l))return;y=y.return}for(;u!==null;){if(y=bl(u),y===null)return;if(E=y.tag,E===5||E===6){a=p=y;continue e}u=u.parentNode}}a=a.return}r9(function(){var C=p,P=Tm(i),F=[];e:{var z=L9.get(e);if(z!==void 0){var X=Fm,K=e;switch(e){case"keypress":if(zp(i)===0)break e;case"keydown":case"keyup":X=dC;break;case"focusin":K="focus",X=$f;break;case"focusout":K="blur",X=$f;break;case"beforeblur":case"afterblur":X=$f;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=G3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=QS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=fC;break;case A9:case P9:case T9:X=nC;break;case I9:X=gC;break;case"scroll":X=JS;break;case"wheel":X=vC;break;case"copy":case"cut":case"paste":X=iC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=K3}var G=(t&4)!==0,ee=!G&&e==="scroll",O=G?z!==null?z+"Capture":null:z;G=[];for(var B=C,W;B!==null;){W=B;var ne=W.stateNode;if(W.tag===5&&ne!==null&&(W=ne,O!==null&&(ne=ud(B,O),ne!=null&&G.push(gd(B,ne,W)))),ee)break;B=B.return}0<G.length&&(z=new X(z,K,null,i,P),F.push({event:z,listeners:G}))}}if(!(t&7)){e:{if(z=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",z&&i!==Z8&&(K=i.relatedTarget||i.fromElement)&&(bl(K)||K[Ua]))break e;if((X||z)&&(z=P.window===P?P:(z=P.ownerDocument)?z.defaultView||z.parentWindow:window,X?(K=i.relatedTarget||i.toElement,X=C,K=K?bl(K):null,K!==null&&(ee=jl(K),K!==ee||K.tag!==5&&K.tag!==6)&&(K=null)):(X=null,K=C),X!==K)){if(G=G3,ne="onMouseLeave",O="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(G=K3,ne="onPointerLeave",O="onPointerEnter",B="pointer"),ee=X==null?z:$1(X),W=K==null?z:$1(K),z=new G(ne,B+"leave",X,i,P),z.target=ee,z.relatedTarget=W,ne=null,bl(P)===C&&(G=new G(O,B+"enter",K,i,P),G.target=W,G.relatedTarget=ee,ne=G),ee=ne,X&&K)t:{for(G=X,O=K,B=0,W=G;W;W=P1(W))B++;for(W=0,ne=O;ne;ne=P1(ne))W++;for(;0<B-W;)G=P1(G),B--;for(;0<W-B;)O=P1(O),W--;for(;B--;){if(G===O||O!==null&&G===O.alternate)break t;G=P1(G),O=P1(O)}G=null}else G=null;X!==null&&a6(F,z,X,G,!1),K!==null&&ee!==null&&a6(F,ee,K,G,!0)}}e:{if(z=C?$1(C):window,X=z.nodeName&&z.nodeName.toLowerCase(),X==="select"||X==="input"&&z.type==="file")var pe=MC;else if(Y3(z))if(S9)pe=PC;else{pe=kC;var he=EC}else(X=z.nodeName)&&X.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(pe=AC);if(pe&&(pe=pe(e,C))){w9(F,pe,i,P);break e}he&&he(e,z,C),e==="focusout"&&(he=z._wrapperState)&&he.controlled&&z.type==="number"&&j8(z,"number",z.value)}switch(he=C?$1(C):window,e){case"focusin":(Y3(he)||he.contentEditable==="true")&&(O1=he,Q8=C,Yc=null);break;case"focusout":Yc=Q8=O1=null;break;case"mousedown":e5=!0;break;case"contextmenu":case"mouseup":case"dragend":e5=!1,r6(F,i,P);break;case"selectionchange":if(LC)break;case"keydown":case"keyup":r6(F,i,P)}var de;if(Om)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else N1?x9(e,i)&&(Se="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Se="onCompositionStart");Se&&(_9&&i.locale!=="ko"&&(N1||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&N1&&(de=v9()):(Cs=P,zm="value"in Cs?Cs.value:Cs.textContent,N1=!0)),he=i4(C,Se),0<he.length&&(Se=new q3(Se,e,null,i,P),F.push({event:Se,listeners:he}),de?Se.data=de:(de=b9(i),de!==null&&(Se.data=de)))),(de=xC?bC(e,i):wC(e,i))&&(C=i4(C,"onBeforeInput"),0<C.length&&(P=new q3("onBeforeInput","beforeinput",null,i,P),F.push({event:P,listeners:C}),P.data=de))}D9(F,t)})}function gd(e,t,i){return{instance:e,listener:t,currentTarget:i}}function i4(e,t){for(var i=t+"Capture",a=[];e!==null;){var l=e,p=l.stateNode;l.tag===5&&p!==null&&(l=p,p=ud(e,i),p!=null&&a.unshift(gd(e,p,l)),p=ud(e,t),p!=null&&a.push(gd(e,p,l))),e=e.return}return a}function P1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function a6(e,t,i,a,l){for(var p=t._reactName,y=[];i!==null&&i!==a;){var u=i,E=u.alternate,C=u.stateNode;if(E!==null&&E===a)break;u.tag===5&&C!==null&&(u=C,l?(E=ud(i,p),E!=null&&y.unshift(gd(i,E,u))):l||(E=ud(i,p),E!=null&&y.push(gd(i,E,u)))),i=i.return}y.length!==0&&e.push({event:t,listeners:y})}var FC=/\r\n?/g,NC=/\u0000|\uFFFD/g;function s6(e){return(typeof e=="string"?e:""+e).replace(FC,`
`).replace(NC,"")}function up(e,t,i){if(t=s6(t),s6(e)!==t&&i)throw Error(tt(425))}function o4(){}var t5=null,n5=null;function r5(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var i5=typeof setTimeout=="function"?setTimeout:void 0,OC=typeof clearTimeout=="function"?clearTimeout:void 0,l6=typeof Promise=="function"?Promise:void 0,BC=typeof queueMicrotask=="function"?queueMicrotask:typeof l6<"u"?function(e){return l6.resolve(null).then(e).catch($C)}:i5;function $C(e){setTimeout(function(){throw e})}function qf(e,t){var i=t,a=0;do{var l=i.nextSibling;if(e.removeChild(i),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(a===0){e.removeChild(l),hd(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=l}while(i);hd(t)}function Is(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function u6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var _u=Math.random().toString(36).slice(2),ma="__reactFiber$"+_u,yd="__reactProps$"+_u,Ua="__reactContainer$"+_u,o5="__reactEvents$"+_u,jC="__reactListeners$"+_u,VC="__reactHandles$"+_u;function bl(e){var t=e[ma];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Ua]||i[ma]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=u6(e);e!==null;){if(i=e[ma])return i;e=u6(e)}return t}e=i,i=e.parentNode}return null}function Nd(e){return e=e[ma]||e[Ua],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $1(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(tt(33))}function $4(e){return e[yd]||null}var a5=[],j1=-1;function Us(e){return{current:e}}function Fn(e){0>j1||(e.current=a5[j1],a5[j1]=null,j1--)}function In(e,t){j1++,a5[j1]=e.current,e.current=t}var Ns={},oi=Us(Ns),Oi=Us(!1),Ll=Ns;function ou(e,t){var i=e.type.contextTypes;if(!i)return Ns;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var l={},p;for(p in i)l[p]=t[p];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Bi(e){return e=e.childContextTypes,e!=null}function a4(){Fn(Oi),Fn(oi)}function c6(e,t,i){if(oi.current!==Ns)throw Error(tt(168));In(oi,t),In(Oi,i)}function z9(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var l in a)if(!(l in t))throw Error(tt(108,ES(e)||"Unknown",l));return qn({},i,a)}function s4(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ns,Ll=oi.current,In(oi,e),In(Oi,Oi.current),!0}function d6(e,t,i){var a=e.stateNode;if(!a)throw Error(tt(169));i?(e=z9(e,t,Ll),a.__reactInternalMemoizedMergedChildContext=e,Fn(Oi),Fn(oi),In(oi,e)):Fn(Oi),In(Oi,i)}var Oa=null,j4=!1,Kf=!1;function F9(e){Oa===null?Oa=[e]:Oa.push(e)}function WC(e){j4=!0,F9(e)}function Hs(){if(!Kf&&Oa!==null){Kf=!0;var e=0,t=gn;try{var i=Oa;for(gn=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}Oa=null,j4=!1}catch(l){throw Oa!==null&&(Oa=Oa.slice(e+1)),s9(Im,Hs),l}finally{gn=t,Kf=!1}}return null}var V1=[],W1=0,l4=null,u4=0,xo=[],bo=0,Dl=null,$a=1,ja="";function ml(e,t){V1[W1++]=u4,V1[W1++]=l4,l4=e,u4=t}function N9(e,t,i){xo[bo++]=$a,xo[bo++]=ja,xo[bo++]=Dl,Dl=e;var a=$a;e=ja;var l=32-Xo(a)-1;a&=~(1<<l),i+=1;var p=32-Xo(t)+l;if(30<p){var y=l-l%5;p=(a&(1<<y)-1).toString(32),a>>=y,l-=y,$a=1<<32-Xo(t)+l|i<<l|a,ja=p+e}else $a=1<<p|i<<l|a,ja=e}function $m(e){e.return!==null&&(ml(e,1),N9(e,1,0))}function jm(e){for(;e===l4;)l4=V1[--W1],V1[W1]=null,u4=V1[--W1],V1[W1]=null;for(;e===Dl;)Dl=xo[--bo],xo[bo]=null,ja=xo[--bo],xo[bo]=null,$a=xo[--bo],xo[bo]=null}var no=null,Yi=null,Vn=!1,qo=null;function O9(e,t){var i=wo(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function h6(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,no=e,Yi=Is(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,no=e,Yi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Dl!==null?{id:$a,overflow:ja}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=wo(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,no=e,Yi=null,!0):!1;default:return!1}}function s5(e){return(e.mode&1)!==0&&(e.flags&128)===0}function l5(e){if(Vn){var t=Yi;if(t){var i=t;if(!h6(e,t)){if(s5(e))throw Error(tt(418));t=Is(i.nextSibling);var a=no;t&&h6(e,t)?O9(a,i):(e.flags=e.flags&-4097|2,Vn=!1,no=e)}}else{if(s5(e))throw Error(tt(418));e.flags=e.flags&-4097|2,Vn=!1,no=e}}}function p6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;no=e}function cp(e){if(e!==no)return!1;if(!Vn)return p6(e),Vn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!r5(e.type,e.memoizedProps)),t&&(t=Yi)){if(s5(e))throw B9(),Error(tt(418));for(;t;)O9(e,t),t=Is(t.nextSibling)}if(p6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(tt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Yi=Is(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Yi=null}}else Yi=no?Is(e.stateNode.nextSibling):null;return!0}function B9(){for(var e=Yi;e;)e=Is(e.nextSibling)}function au(){Yi=no=null,Vn=!1}function Vm(e){qo===null?qo=[e]:qo.push(e)}var UC=Ja.ReactCurrentBatchConfig;function Uo(e,t){if(e&&e.defaultProps){t=qn({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}var c4=Us(null),d4=null,U1=null,Wm=null;function Um(){Wm=U1=d4=null}function Hm(e){var t=c4.current;Fn(c4),e._currentValue=t}function u5(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function eu(e,t){d4=e,Wm=U1=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ni=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(Wm!==e)if(e={context:e,memoizedValue:t,next:null},U1===null){if(d4===null)throw Error(tt(308));U1=e,d4.dependencies={lanes:0,firstContext:e}}else U1=U1.next=e;return t}var wl=null;function Zm(e){wl===null?wl=[e]:wl.push(e)}function $9(e,t,i,a){var l=t.interleaved;return l===null?(i.next=i,Zm(t)):(i.next=l.next,l.next=i),t.interleaved=i,Ha(e,a)}function Ha(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var bs=!1;function Gm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j9(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Va(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,sn&2){var l=a.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),a.pending=t,Ha(e,i)}return l=a.interleaved,l===null?(t.next=t,Zm(a)):(t.next=l.next,l.next=t),a.interleaved=t,Ha(e,i)}function Fp(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Lm(e,i)}}function f6(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var l=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};p===null?l=p=y:p=p.next=y,i=i.next}while(i!==null);p===null?l=p=t:p=p.next=t}else l=p=t;i={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:p,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function h4(e,t,i,a){var l=e.updateQueue;bs=!1;var p=l.firstBaseUpdate,y=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var E=u,C=E.next;E.next=null,y===null?p=C:y.next=C,y=E;var P=e.alternate;P!==null&&(P=P.updateQueue,u=P.lastBaseUpdate,u!==y&&(u===null?P.firstBaseUpdate=C:u.next=C,P.lastBaseUpdate=E))}if(p!==null){var F=l.baseState;y=0,P=C=E=null,u=p;do{var z=u.lane,X=u.eventTime;if((a&z)===z){P!==null&&(P=P.next={eventTime:X,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var K=e,G=u;switch(z=t,X=i,G.tag){case 1:if(K=G.payload,typeof K=="function"){F=K.call(X,F,z);break e}F=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=G.payload,z=typeof K=="function"?K.call(X,F,z):K,z==null)break e;F=qn({},F,z);break e;case 2:bs=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,z=l.effects,z===null?l.effects=[u]:z.push(u))}else X={eventTime:X,lane:z,tag:u.tag,payload:u.payload,callback:u.callback,next:null},P===null?(C=P=X,E=F):P=P.next=X,y|=z;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;z=u,u=z.next,z.next=null,l.lastBaseUpdate=z,l.shared.pending=null}}while(1);if(P===null&&(E=F),l.baseState=E,l.firstBaseUpdate=C,l.lastBaseUpdate=P,t=l.shared.interleaved,t!==null){l=t;do y|=l.lane,l=l.next;while(l!==t)}else p===null&&(l.shared.lanes=0);zl|=y,e.lanes=y,e.memoizedState=F}}function m6(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],l=a.callback;if(l!==null){if(a.callback=null,a=i,typeof l!="function")throw Error(tt(191,l));l.call(a)}}}var V9=new $y.Component().refs;function c5(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:qn({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var V4={isMounted:function(e){return(e=e._reactInternals)?jl(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=_i(),l=Rs(e),p=Va(a,l);p.payload=t,i!=null&&(p.callback=i),t=Ls(e,p,l),t!==null&&(Jo(t,e,l,a),Fp(t,e,l))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=_i(),l=Rs(e),p=Va(a,l);p.tag=1,p.payload=t,i!=null&&(p.callback=i),t=Ls(e,p,l),t!==null&&(Jo(t,e,l,a),Fp(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=_i(),a=Rs(e),l=Va(i,a);l.tag=2,t!=null&&(l.callback=t),t=Ls(e,l,a),t!==null&&(Jo(t,e,a,i),Fp(t,e,a))}};function g6(e,t,i,a,l,p,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,p,y):t.prototype&&t.prototype.isPureReactComponent?!fd(i,a)||!fd(l,p):!0}function W9(e,t,i){var a=!1,l=Ns,p=t.contextType;return typeof p=="object"&&p!==null?p=Co(p):(l=Bi(t)?Ll:oi.current,a=t.contextTypes,p=(a=a!=null)?ou(e,l):Ns),t=new t(i,p),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=V4,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=p),t}function y6(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&V4.enqueueReplaceState(t,t.state,null)}function d5(e,t,i,a){var l=e.stateNode;l.props=i,l.state=e.memoizedState,l.refs=V9,Gm(e);var p=t.contextType;typeof p=="object"&&p!==null?l.context=Co(p):(p=Bi(t)?Ll:oi.current,l.context=ou(e,p)),l.state=e.memoizedState,p=t.getDerivedStateFromProps,typeof p=="function"&&(c5(e,t,p,i),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&V4.enqueueReplaceState(l,l.state,null),h4(e,i,l,a),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function zc(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(tt(309));var a=i.stateNode}if(!a)throw Error(tt(147,e));var l=a,p=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===p?t.ref:(t=function(y){var u=l.refs;u===V9&&(u=l.refs={}),y===null?delete u[p]:u[p]=y},t._stringRef=p,t)}if(typeof e!="string")throw Error(tt(284));if(!i._owner)throw Error(tt(290,e))}return e}function dp(e,t){throw e=Object.prototype.toString.call(t),Error(tt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function v6(e){var t=e._init;return t(e._payload)}function U9(e){function t(O,B){if(e){var W=O.deletions;W===null?(O.deletions=[B],O.flags|=16):W.push(B)}}function i(O,B){if(!e)return null;for(;B!==null;)t(O,B),B=B.sibling;return null}function a(O,B){for(O=new Map;B!==null;)B.key!==null?O.set(B.key,B):O.set(B.index,B),B=B.sibling;return O}function l(O,B){return O=zs(O,B),O.index=0,O.sibling=null,O}function p(O,B,W){return O.index=W,e?(W=O.alternate,W!==null?(W=W.index,W<B?(O.flags|=2,B):W):(O.flags|=2,B)):(O.flags|=1048576,B)}function y(O){return e&&O.alternate===null&&(O.flags|=2),O}function u(O,B,W,ne){return B===null||B.tag!==6?(B=n8(W,O.mode,ne),B.return=O,B):(B=l(B,W),B.return=O,B)}function E(O,B,W,ne){var pe=W.type;return pe===F1?P(O,B,W.props.children,ne,W.key):B!==null&&(B.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===xs&&v6(pe)===B.type)?(ne=l(B,W.props),ne.ref=zc(O,B,W),ne.return=O,ne):(ne=Vp(W.type,W.key,W.props,null,O.mode,ne),ne.ref=zc(O,B,W),ne.return=O,ne)}function C(O,B,W,ne){return B===null||B.tag!==4||B.stateNode.containerInfo!==W.containerInfo||B.stateNode.implementation!==W.implementation?(B=r8(W,O.mode,ne),B.return=O,B):(B=l(B,W.children||[]),B.return=O,B)}function P(O,B,W,ne,pe){return B===null||B.tag!==7?(B=Al(W,O.mode,ne,pe),B.return=O,B):(B=l(B,W),B.return=O,B)}function F(O,B,W){if(typeof B=="string"&&B!==""||typeof B=="number")return B=n8(""+B,O.mode,W),B.return=O,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ep:return W=Vp(B.type,B.key,B.props,null,O.mode,W),W.ref=zc(O,null,B),W.return=O,W;case z1:return B=r8(B,O.mode,W),B.return=O,B;case xs:var ne=B._init;return F(O,ne(B._payload),W)}if(Wc(B)||Tc(B))return B=Al(B,O.mode,W,null),B.return=O,B;dp(O,B)}return null}function z(O,B,W,ne){var pe=B!==null?B.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return pe!==null?null:u(O,B,""+W,ne);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case ep:return W.key===pe?E(O,B,W,ne):null;case z1:return W.key===pe?C(O,B,W,ne):null;case xs:return pe=W._init,z(O,B,pe(W._payload),ne)}if(Wc(W)||Tc(W))return pe!==null?null:P(O,B,W,ne,null);dp(O,W)}return null}function X(O,B,W,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return O=O.get(W)||null,u(B,O,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case ep:return O=O.get(ne.key===null?W:ne.key)||null,E(B,O,ne,pe);case z1:return O=O.get(ne.key===null?W:ne.key)||null,C(B,O,ne,pe);case xs:var he=ne._init;return X(O,B,W,he(ne._payload),pe)}if(Wc(ne)||Tc(ne))return O=O.get(W)||null,P(B,O,ne,pe,null);dp(B,ne)}return null}function K(O,B,W,ne){for(var pe=null,he=null,de=B,Se=B=0,Te=null;de!==null&&Se<W.length;Se++){de.index>Se?(Te=de,de=null):Te=de.sibling;var Me=z(O,de,W[Se],ne);if(Me===null){de===null&&(de=Te);break}e&&de&&Me.alternate===null&&t(O,de),B=p(Me,B,Se),he===null?pe=Me:he.sibling=Me,he=Me,de=Te}if(Se===W.length)return i(O,de),Vn&&ml(O,Se),pe;if(de===null){for(;Se<W.length;Se++)de=F(O,W[Se],ne),de!==null&&(B=p(de,B,Se),he===null?pe=de:he.sibling=de,he=de);return Vn&&ml(O,Se),pe}for(de=a(O,de);Se<W.length;Se++)Te=X(de,O,Se,W[Se],ne),Te!==null&&(e&&Te.alternate!==null&&de.delete(Te.key===null?Se:Te.key),B=p(Te,B,Se),he===null?pe=Te:he.sibling=Te,he=Te);return e&&de.forEach(function(Be){return t(O,Be)}),Vn&&ml(O,Se),pe}function G(O,B,W,ne){var pe=Tc(W);if(typeof pe!="function")throw Error(tt(150));if(W=pe.call(W),W==null)throw Error(tt(151));for(var he=pe=null,de=B,Se=B=0,Te=null,Me=W.next();de!==null&&!Me.done;Se++,Me=W.next()){de.index>Se?(Te=de,de=null):Te=de.sibling;var Be=z(O,de,Me.value,ne);if(Be===null){de===null&&(de=Te);break}e&&de&&Be.alternate===null&&t(O,de),B=p(Be,B,Se),he===null?pe=Be:he.sibling=Be,he=Be,de=Te}if(Me.done)return i(O,de),Vn&&ml(O,Se),pe;if(de===null){for(;!Me.done;Se++,Me=W.next())Me=F(O,Me.value,ne),Me!==null&&(B=p(Me,B,Se),he===null?pe=Me:he.sibling=Me,he=Me);return Vn&&ml(O,Se),pe}for(de=a(O,de);!Me.done;Se++,Me=W.next())Me=X(de,O,Se,Me.value,ne),Me!==null&&(e&&Me.alternate!==null&&de.delete(Me.key===null?Se:Me.key),B=p(Me,B,Se),he===null?pe=Me:he.sibling=Me,he=Me);return e&&de.forEach(function(He){return t(O,He)}),Vn&&ml(O,Se),pe}function ee(O,B,W,ne){if(typeof W=="object"&&W!==null&&W.type===F1&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case ep:e:{for(var pe=W.key,he=B;he!==null;){if(he.key===pe){if(pe=W.type,pe===F1){if(he.tag===7){i(O,he.sibling),B=l(he,W.props.children),B.return=O,O=B;break e}}else if(he.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===xs&&v6(pe)===he.type){i(O,he.sibling),B=l(he,W.props),B.ref=zc(O,he,W),B.return=O,O=B;break e}i(O,he);break}else t(O,he);he=he.sibling}W.type===F1?(B=Al(W.props.children,O.mode,ne,W.key),B.return=O,O=B):(ne=Vp(W.type,W.key,W.props,null,O.mode,ne),ne.ref=zc(O,B,W),ne.return=O,O=ne)}return y(O);case z1:e:{for(he=W.key;B!==null;){if(B.key===he)if(B.tag===4&&B.stateNode.containerInfo===W.containerInfo&&B.stateNode.implementation===W.implementation){i(O,B.sibling),B=l(B,W.children||[]),B.return=O,O=B;break e}else{i(O,B);break}else t(O,B);B=B.sibling}B=r8(W,O.mode,ne),B.return=O,O=B}return y(O);case xs:return he=W._init,ee(O,B,he(W._payload),ne)}if(Wc(W))return K(O,B,W,ne);if(Tc(W))return G(O,B,W,ne);dp(O,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,B!==null&&B.tag===6?(i(O,B.sibling),B=l(B,W),B.return=O,O=B):(i(O,B),B=n8(W,O.mode,ne),B.return=O,O=B),y(O)):i(O,B)}return ee}var su=U9(!0),H9=U9(!1),Od={},va=Us(Od),vd=Us(Od),_d=Us(Od);function Sl(e){if(e===Od)throw Error(tt(174));return e}function qm(e,t){switch(In(_d,t),In(vd,e),In(va,Od),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:W8(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=W8(t,e)}Fn(va),In(va,t)}function lu(){Fn(va),Fn(vd),Fn(_d)}function Z9(e){Sl(_d.current);var t=Sl(va.current),i=W8(t,e.type);t!==i&&(In(vd,e),In(va,i))}function Km(e){vd.current===e&&(Fn(va),Fn(vd))}var Zn=Us(0);function p4(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xf=[];function Xm(){for(var e=0;e<Xf.length;e++)Xf[e]._workInProgressVersionPrimary=null;Xf.length=0}var Np=Ja.ReactCurrentDispatcher,Jf=Ja.ReactCurrentBatchConfig,Rl=0,Gn=null,wr=null,Dr=null,f4=!1,Qc=!1,xd=0,HC=0;function ni(){throw Error(tt(321))}function Jm(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!ta(e[i],t[i]))return!1;return!0}function Ym(e,t,i,a,l,p){if(Rl=p,Gn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Np.current=e===null||e.memoizedState===null?KC:XC,e=i(a,l),Qc){p=0;do{if(Qc=!1,xd=0,25<=p)throw Error(tt(301));p+=1,Dr=wr=null,t.updateQueue=null,Np.current=JC,e=i(a,l)}while(Qc)}if(Np.current=m4,t=wr!==null&&wr.next!==null,Rl=0,Dr=wr=Gn=null,f4=!1,t)throw Error(tt(300));return e}function Qm(){var e=xd!==0;return xd=0,e}function fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?Gn.memoizedState=Dr=e:Dr=Dr.next=e,Dr}function Mo(){if(wr===null){var e=Gn.alternate;e=e!==null?e.memoizedState:null}else e=wr.next;var t=Dr===null?Gn.memoizedState:Dr.next;if(t!==null)Dr=t,wr=e;else{if(e===null)throw Error(tt(310));wr=e,e={memoizedState:wr.memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},Dr===null?Gn.memoizedState=Dr=e:Dr=Dr.next=e}return Dr}function bd(e,t){return typeof t=="function"?t(e):t}function Yf(e){var t=Mo(),i=t.queue;if(i===null)throw Error(tt(311));i.lastRenderedReducer=e;var a=wr,l=a.baseQueue,p=i.pending;if(p!==null){if(l!==null){var y=l.next;l.next=p.next,p.next=y}a.baseQueue=l=p,i.pending=null}if(l!==null){p=l.next,a=a.baseState;var u=y=null,E=null,C=p;do{var P=C.lane;if((Rl&P)===P)E!==null&&(E=E.next={lane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),a=C.hasEagerState?C.eagerState:e(a,C.action);else{var F={lane:P,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null};E===null?(u=E=F,y=a):E=E.next=F,Gn.lanes|=P,zl|=P}C=C.next}while(C!==null&&C!==p);E===null?y=a:E.next=u,ta(a,t.memoizedState)||(Ni=!0),t.memoizedState=a,t.baseState=y,t.baseQueue=E,i.lastRenderedState=a}if(e=i.interleaved,e!==null){l=e;do p=l.lane,Gn.lanes|=p,zl|=p,l=l.next;while(l!==e)}else l===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Qf(e){var t=Mo(),i=t.queue;if(i===null)throw Error(tt(311));i.lastRenderedReducer=e;var a=i.dispatch,l=i.pending,p=t.memoizedState;if(l!==null){i.pending=null;var y=l=l.next;do p=e(p,y.action),y=y.next;while(y!==l);ta(p,t.memoizedState)||(Ni=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),i.lastRenderedState=p}return[p,a]}function G9(){}function q9(e,t){var i=Gn,a=Mo(),l=t(),p=!ta(a.memoizedState,l);if(p&&(a.memoizedState=l,Ni=!0),a=a.queue,e2(J9.bind(null,i,a,e),[e]),a.getSnapshot!==t||p||Dr!==null&&Dr.memoizedState.tag&1){if(i.flags|=2048,wd(9,X9.bind(null,i,a,l,t),void 0,null),Rr===null)throw Error(tt(349));Rl&30||K9(i,t,l)}return l}function K9(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Gn.updateQueue,t===null?(t={lastEffect:null,stores:null},Gn.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function X9(e,t,i,a){t.value=i,t.getSnapshot=a,Y9(t)&&Q9(e)}function J9(e,t,i){return i(function(){Y9(t)&&Q9(e)})}function Y9(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!ta(e,i)}catch{return!0}}function Q9(e){var t=Ha(e,1);t!==null&&Jo(t,e,1,-1)}function _6(e){var t=fa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:e},t.queue=e,e=e.dispatch=qC.bind(null,Gn,e),[t.memoizedState,e]}function wd(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=Gn.updateQueue,t===null?(t={lastEffect:null,stores:null},Gn.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function ev(){return Mo().memoizedState}function Op(e,t,i,a){var l=fa();Gn.flags|=e,l.memoizedState=wd(1|t,i,void 0,a===void 0?null:a)}function W4(e,t,i,a){var l=Mo();a=a===void 0?null:a;var p=void 0;if(wr!==null){var y=wr.memoizedState;if(p=y.destroy,a!==null&&Jm(a,y.deps)){l.memoizedState=wd(t,i,p,a);return}}Gn.flags|=e,l.memoizedState=wd(1|t,i,p,a)}function x6(e,t){return Op(8390656,8,e,t)}function e2(e,t){return W4(2048,8,e,t)}function tv(e,t){return W4(4,2,e,t)}function nv(e,t){return W4(4,4,e,t)}function rv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iv(e,t,i){return i=i!=null?i.concat([e]):null,W4(4,4,rv.bind(null,t,e),i)}function t2(){}function ov(e,t){var i=Mo();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&Jm(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function av(e,t){var i=Mo();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&Jm(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function sv(e,t,i){return Rl&21?(ta(i,t)||(i=c9(),Gn.lanes|=i,zl|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ni=!0),e.memoizedState=i)}function ZC(e,t){var i=gn;gn=i!==0&&4>i?i:4,e(!0);var a=Jf.transition;Jf.transition={};try{e(!1),t()}finally{gn=i,Jf.transition=a}}function lv(){return Mo().memoizedState}function GC(e,t,i){var a=Rs(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},uv(e))cv(t,i);else if(i=$9(e,t,i,a),i!==null){var l=_i();Jo(i,e,a,l),dv(i,t,a)}}function qC(e,t,i){var a=Rs(e),l={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(uv(e))cv(t,l);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var y=t.lastRenderedState,u=p(y,i);if(l.hasEagerState=!0,l.eagerState=u,ta(u,y)){var E=t.interleaved;E===null?(l.next=l,Zm(t)):(l.next=E.next,E.next=l),t.interleaved=l;return}}catch{}finally{}i=$9(e,t,l,a),i!==null&&(l=_i(),Jo(i,e,a,l),dv(i,t,a))}}function uv(e){var t=e.alternate;return e===Gn||t!==null&&t===Gn}function cv(e,t){Qc=f4=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function dv(e,t,i){if(i&4194240){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Lm(e,i)}}var m4={readContext:Co,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useInsertionEffect:ni,useLayoutEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useMutableSource:ni,useSyncExternalStore:ni,useId:ni,unstable_isNewReconciler:!1},KC={readContext:Co,useCallback:function(e,t){return fa().memoizedState=[e,t===void 0?null:t],e},useContext:Co,useEffect:x6,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Op(4194308,4,rv.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Op(4194308,4,e,t)},useInsertionEffect:function(e,t){return Op(4,2,e,t)},useMemo:function(e,t){var i=fa();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=fa();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=GC.bind(null,Gn,e),[a.memoizedState,e]},useRef:function(e){var t=fa();return e={current:e},t.memoizedState=e},useState:_6,useDebugValue:t2,useDeferredValue:function(e){return fa().memoizedState=e},useTransition:function(){var e=_6(!1),t=e[0];return e=ZC.bind(null,e[1]),fa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=Gn,l=fa();if(Vn){if(i===void 0)throw Error(tt(407));i=i()}else{if(i=t(),Rr===null)throw Error(tt(349));Rl&30||K9(a,t,i)}l.memoizedState=i;var p={value:i,getSnapshot:t};return l.queue=p,x6(J9.bind(null,a,p,e),[e]),a.flags|=2048,wd(9,X9.bind(null,a,p,i,t),void 0,null),i},useId:function(){var e=fa(),t=Rr.identifierPrefix;if(Vn){var i=ja,a=$a;i=(a&~(1<<32-Xo(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=xd++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=HC++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},XC={readContext:Co,useCallback:ov,useContext:Co,useEffect:e2,useImperativeHandle:iv,useInsertionEffect:tv,useLayoutEffect:nv,useMemo:av,useReducer:Yf,useRef:ev,useState:function(){return Yf(bd)},useDebugValue:t2,useDeferredValue:function(e){var t=Mo();return sv(t,wr.memoizedState,e)},useTransition:function(){var e=Yf(bd)[0],t=Mo().memoizedState;return[e,t]},useMutableSource:G9,useSyncExternalStore:q9,useId:lv,unstable_isNewReconciler:!1},JC={readContext:Co,useCallback:ov,useContext:Co,useEffect:e2,useImperativeHandle:iv,useInsertionEffect:tv,useLayoutEffect:nv,useMemo:av,useReducer:Qf,useRef:ev,useState:function(){return Qf(bd)},useDebugValue:t2,useDeferredValue:function(e){var t=Mo();return wr===null?t.memoizedState=e:sv(t,wr.memoizedState,e)},useTransition:function(){var e=Qf(bd)[0],t=Mo().memoizedState;return[e,t]},useMutableSource:G9,useSyncExternalStore:q9,useId:lv,unstable_isNewReconciler:!1};function uu(e,t){try{var i="",a=t;do i+=MS(a),a=a.return;while(a);var l=i}catch(p){l=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:t,stack:l,digest:null}}function e8(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function h5(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var YC=typeof WeakMap=="function"?WeakMap:Map;function hv(e,t,i){i=Va(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){y4||(y4=!0,w5=a),h5(e,t)},i}function pv(e,t,i){i=Va(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var l=t.value;i.payload=function(){return a(l)},i.callback=function(){h5(e,t)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(i.callback=function(){h5(e,t),typeof a!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),i}function b6(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new YC;var l=new Set;a.set(t,l)}else l=a.get(t),l===void 0&&(l=new Set,a.set(t,l));l.has(i)||(l.add(i),e=hM.bind(null,e,t,i),t.then(e,e))}function w6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function S6(e,t,i,a,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Va(-1,1),t.tag=2,Ls(i,t,1))),i.lanes|=1),e)}var QC=Ja.ReactCurrentOwner,Ni=!1;function vi(e,t,i,a){t.child=e===null?H9(t,null,i,a):su(t,e.child,i,a)}function C6(e,t,i,a,l){i=i.render;var p=t.ref;return eu(t,l),a=Ym(e,t,i,a,p,l),i=Qm(),e!==null&&!Ni?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Za(e,t,l)):(Vn&&i&&$m(t),t.flags|=1,vi(e,t,a,l),t.child)}function M6(e,t,i,a,l){if(e===null){var p=i.type;return typeof p=="function"&&!u2(p)&&p.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=p,fv(e,t,p,a,l)):(e=Vp(i.type,null,a,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!(e.lanes&l)){var y=p.memoizedProps;if(i=i.compare,i=i!==null?i:fd,i(y,a)&&e.ref===t.ref)return Za(e,t,l)}return t.flags|=1,e=zs(p,a),e.ref=t.ref,e.return=t,t.child=e}function fv(e,t,i,a,l){if(e!==null){var p=e.memoizedProps;if(fd(p,a)&&e.ref===t.ref)if(Ni=!1,t.pendingProps=a=p,(e.lanes&l)!==0)e.flags&131072&&(Ni=!0);else return t.lanes=e.lanes,Za(e,t,l)}return p5(e,t,i,a,l)}function mv(e,t,i){var a=t.pendingProps,l=a.children,p=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},In(Z1,Xi),Xi|=i;else{if(!(i&1073741824))return e=p!==null?p.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,In(Z1,Xi),Xi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=p!==null?p.baseLanes:i,In(Z1,Xi),Xi|=a}else p!==null?(a=p.baseLanes|i,t.memoizedState=null):a=i,In(Z1,Xi),Xi|=a;return vi(e,t,l,i),t.child}function gv(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function p5(e,t,i,a,l){var p=Bi(i)?Ll:oi.current;return p=ou(t,p),eu(t,l),i=Ym(e,t,i,a,p,l),a=Qm(),e!==null&&!Ni?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Za(e,t,l)):(Vn&&a&&$m(t),t.flags|=1,vi(e,t,i,l),t.child)}function E6(e,t,i,a,l){if(Bi(i)){var p=!0;s4(t)}else p=!1;if(eu(t,l),t.stateNode===null)Bp(e,t),W9(t,i,a),d5(t,i,a,l),a=!0;else if(e===null){var y=t.stateNode,u=t.memoizedProps;y.props=u;var E=y.context,C=i.contextType;typeof C=="object"&&C!==null?C=Co(C):(C=Bi(i)?Ll:oi.current,C=ou(t,C));var P=i.getDerivedStateFromProps,F=typeof P=="function"||typeof y.getSnapshotBeforeUpdate=="function";F||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(u!==a||E!==C)&&y6(t,y,a,C),bs=!1;var z=t.memoizedState;y.state=z,h4(t,a,y,l),E=t.memoizedState,u!==a||z!==E||Oi.current||bs?(typeof P=="function"&&(c5(t,i,P,a),E=t.memoizedState),(u=bs||g6(t,i,u,a,z,E,C))?(F||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=E),y.props=a,y.state=E,y.context=C,a=u):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{y=t.stateNode,j9(e,t),u=t.memoizedProps,C=t.type===t.elementType?u:Uo(t.type,u),y.props=C,F=t.pendingProps,z=y.context,E=i.contextType,typeof E=="object"&&E!==null?E=Co(E):(E=Bi(i)?Ll:oi.current,E=ou(t,E));var X=i.getDerivedStateFromProps;(P=typeof X=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(u!==F||z!==E)&&y6(t,y,a,E),bs=!1,z=t.memoizedState,y.state=z,h4(t,a,y,l);var K=t.memoizedState;u!==F||z!==K||Oi.current||bs?(typeof X=="function"&&(c5(t,i,X,a),K=t.memoizedState),(C=bs||g6(t,i,C,a,z,K,E)||!1)?(P||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(a,K,E),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(a,K,E)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||u===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=K),y.props=a,y.state=K,y.context=E,a=C):(typeof y.componentDidUpdate!="function"||u===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),a=!1)}return f5(e,t,i,a,p,l)}function f5(e,t,i,a,l,p){gv(e,t);var y=(t.flags&128)!==0;if(!a&&!y)return l&&d6(t,i,!1),Za(e,t,p);a=t.stateNode,QC.current=t;var u=y&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&y?(t.child=su(t,e.child,null,p),t.child=su(t,null,u,p)):vi(e,t,u,p),t.memoizedState=a.state,l&&d6(t,i,!0),t.child}function yv(e){var t=e.stateNode;t.pendingContext?c6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&c6(e,t.context,!1),qm(e,t.containerInfo)}function k6(e,t,i,a,l){return au(),Vm(l),t.flags|=256,vi(e,t,i,a),t.child}var m5={dehydrated:null,treeContext:null,retryLane:0};function g5(e){return{baseLanes:e,cachePool:null,transitions:null}}function vv(e,t,i){var a=t.pendingProps,l=Zn.current,p=!1,y=(t.flags&128)!==0,u;if((u=y)||(u=e!==null&&e.memoizedState===null?!1:(l&2)!==0),u?(p=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),In(Zn,l&1),e===null)return l5(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(y=a.children,e=a.fallback,p?(a=t.mode,p=t.child,y={mode:"hidden",children:y},!(a&1)&&p!==null?(p.childLanes=0,p.pendingProps=y):p=Z4(y,a,0,null),e=Al(e,a,i,null),p.return=t,e.return=t,p.sibling=e,t.child=p,t.child.memoizedState=g5(i),t.memoizedState=m5,e):n2(t,y));if(l=e.memoizedState,l!==null&&(u=l.dehydrated,u!==null))return eM(e,t,y,a,u,l,i);if(p){p=a.fallback,y=t.mode,l=e.child,u=l.sibling;var E={mode:"hidden",children:a.children};return!(y&1)&&t.child!==l?(a=t.child,a.childLanes=0,a.pendingProps=E,t.deletions=null):(a=zs(l,E),a.subtreeFlags=l.subtreeFlags&14680064),u!==null?p=zs(u,p):(p=Al(p,y,i,null),p.flags|=2),p.return=t,a.return=t,a.sibling=p,t.child=a,a=p,p=t.child,y=e.child.memoizedState,y=y===null?g5(i):{baseLanes:y.baseLanes|i,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=e.childLanes&~i,t.memoizedState=m5,a}return p=e.child,e=p.sibling,a=zs(p,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function n2(e,t){return t=Z4({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hp(e,t,i,a){return a!==null&&Vm(a),su(t,e.child,null,i),e=n2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function eM(e,t,i,a,l,p,y){if(i)return t.flags&256?(t.flags&=-257,a=e8(Error(tt(422))),hp(e,t,y,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(p=a.fallback,l=t.mode,a=Z4({mode:"visible",children:a.children},l,0,null),p=Al(p,l,y,null),p.flags|=2,a.return=t,p.return=t,a.sibling=p,t.child=a,t.mode&1&&su(t,e.child,null,y),t.child.memoizedState=g5(y),t.memoizedState=m5,p);if(!(t.mode&1))return hp(e,t,y,null);if(l.data==="$!"){if(a=l.nextSibling&&l.nextSibling.dataset,a)var u=a.dgst;return a=u,p=Error(tt(419)),a=e8(p,a,void 0),hp(e,t,y,a)}if(u=(y&e.childLanes)!==0,Ni||u){if(a=Rr,a!==null){switch(y&-y){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(a.suspendedLanes|y)?0:l,l!==0&&l!==p.retryLane&&(p.retryLane=l,Ha(e,l),Jo(a,e,l,-1))}return l2(),a=e8(Error(tt(421))),hp(e,t,y,a)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=pM.bind(null,e),l._reactRetry=t,null):(e=p.treeContext,Yi=Is(l.nextSibling),no=t,Vn=!0,qo=null,e!==null&&(xo[bo++]=$a,xo[bo++]=ja,xo[bo++]=Dl,$a=e.id,ja=e.overflow,Dl=t),t=n2(t,a.children),t.flags|=4096,t)}function A6(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),u5(e.return,t,i)}function t8(e,t,i,a,l){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:l}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=i,p.tailMode=l)}function _v(e,t,i){var a=t.pendingProps,l=a.revealOrder,p=a.tail;if(vi(e,t,a.children,i),a=Zn.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&A6(e,i,t);else if(e.tag===19)A6(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(In(Zn,a),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(i=t.child,l=null;i!==null;)e=i.alternate,e!==null&&p4(e)===null&&(l=i),i=i.sibling;i=l,i===null?(l=t.child,t.child=null):(l=i.sibling,i.sibling=null),t8(t,!1,l,i,p);break;case"backwards":for(i=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&p4(e)===null){t.child=l;break}e=l.sibling,l.sibling=i,i=l,l=e}t8(t,!0,i,null,p);break;case"together":t8(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Za(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),zl|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(tt(153));if(t.child!==null){for(e=t.child,i=zs(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=zs(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function tM(e,t,i){switch(t.tag){case 3:yv(t),au();break;case 5:Z9(t);break;case 1:Bi(t.type)&&s4(t);break;case 4:qm(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,l=t.memoizedProps.value;In(c4,a._currentValue),a._currentValue=l;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(In(Zn,Zn.current&1),t.flags|=128,null):i&t.child.childLanes?vv(e,t,i):(In(Zn,Zn.current&1),e=Za(e,t,i),e!==null?e.sibling:null);In(Zn,Zn.current&1);break;case 19:if(a=(i&t.childLanes)!==0,e.flags&128){if(a)return _v(e,t,i);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),In(Zn,Zn.current),a)break;return null;case 22:case 23:return t.lanes=0,mv(e,t,i)}return Za(e,t,i)}var xv,y5,bv,wv;xv=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};y5=function(){};bv=function(e,t,i,a){var l=e.memoizedProps;if(l!==a){e=t.stateNode,Sl(va.current);var p=null;switch(i){case"input":l=B8(e,l),a=B8(e,a),p=[];break;case"select":l=qn({},l,{value:void 0}),a=qn({},a,{value:void 0}),p=[];break;case"textarea":l=V8(e,l),a=V8(e,a),p=[];break;default:typeof l.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=o4)}U8(i,a);var y;i=null;for(C in l)if(!a.hasOwnProperty(C)&&l.hasOwnProperty(C)&&l[C]!=null)if(C==="style"){var u=l[C];for(y in u)u.hasOwnProperty(y)&&(i||(i={}),i[y]="")}else C!=="dangerouslySetInnerHTML"&&C!=="children"&&C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(sd.hasOwnProperty(C)?p||(p=[]):(p=p||[]).push(C,null));for(C in a){var E=a[C];if(u=l!=null?l[C]:void 0,a.hasOwnProperty(C)&&E!==u&&(E!=null||u!=null))if(C==="style")if(u){for(y in u)!u.hasOwnProperty(y)||E&&E.hasOwnProperty(y)||(i||(i={}),i[y]="");for(y in E)E.hasOwnProperty(y)&&u[y]!==E[y]&&(i||(i={}),i[y]=E[y])}else i||(p||(p=[]),p.push(C,i)),i=E;else C==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,u=u?u.__html:void 0,E!=null&&u!==E&&(p=p||[]).push(C,E)):C==="children"?typeof E!="string"&&typeof E!="number"||(p=p||[]).push(C,""+E):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&(sd.hasOwnProperty(C)?(E!=null&&C==="onScroll"&&zn("scroll",e),p||u===E||(p=[])):(p=p||[]).push(C,E))}i&&(p=p||[]).push("style",i);var C=p;(t.updateQueue=C)&&(t.flags|=4)}};wv=function(e,t,i,a){i!==a&&(t.flags|=4)};function Fc(e,t){if(!Vn)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ri(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var l=e.child;l!==null;)i|=l.lanes|l.childLanes,a|=l.subtreeFlags&14680064,a|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)i|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function nM(e,t,i){var a=t.pendingProps;switch(jm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(t),null;case 1:return Bi(t.type)&&a4(),ri(t),null;case 3:return a=t.stateNode,lu(),Fn(Oi),Fn(oi),Xm(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(cp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qo!==null&&(M5(qo),qo=null))),y5(e,t),ri(t),null;case 5:Km(t);var l=Sl(_d.current);if(i=t.type,e!==null&&t.stateNode!=null)bv(e,t,i,a,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(tt(166));return ri(t),null}if(e=Sl(va.current),cp(t)){a=t.stateNode,i=t.type;var p=t.memoizedProps;switch(a[ma]=t,a[yd]=p,e=(t.mode&1)!==0,i){case"dialog":zn("cancel",a),zn("close",a);break;case"iframe":case"object":case"embed":zn("load",a);break;case"video":case"audio":for(l=0;l<Hc.length;l++)zn(Hc[l],a);break;case"source":zn("error",a);break;case"img":case"image":case"link":zn("error",a),zn("load",a);break;case"details":zn("toggle",a);break;case"input":N3(a,p),zn("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!p.multiple},zn("invalid",a);break;case"textarea":B3(a,p),zn("invalid",a)}U8(i,p),l=null;for(var y in p)if(p.hasOwnProperty(y)){var u=p[y];y==="children"?typeof u=="string"?a.textContent!==u&&(p.suppressHydrationWarning!==!0&&up(a.textContent,u,e),l=["children",u]):typeof u=="number"&&a.textContent!==""+u&&(p.suppressHydrationWarning!==!0&&up(a.textContent,u,e),l=["children",""+u]):sd.hasOwnProperty(y)&&u!=null&&y==="onScroll"&&zn("scroll",a)}switch(i){case"input":tp(a),O3(a,p,!0);break;case"textarea":tp(a),$3(a);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(a.onclick=o4)}a=l,t.updateQueue=a,a!==null&&(t.flags|=4)}else{y=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ky(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=y.createElement(i,{is:a.is}):(e=y.createElement(i),i==="select"&&(y=e,a.multiple?y.multiple=!0:a.size&&(y.size=a.size))):e=y.createElementNS(e,i),e[ma]=t,e[yd]=a,xv(e,t,!1,!1),t.stateNode=e;e:{switch(y=H8(i,a),i){case"dialog":zn("cancel",e),zn("close",e),l=a;break;case"iframe":case"object":case"embed":zn("load",e),l=a;break;case"video":case"audio":for(l=0;l<Hc.length;l++)zn(Hc[l],e);l=a;break;case"source":zn("error",e),l=a;break;case"img":case"image":case"link":zn("error",e),zn("load",e),l=a;break;case"details":zn("toggle",e),l=a;break;case"input":N3(e,a),l=B8(e,a),zn("invalid",e);break;case"option":l=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},l=qn({},a,{value:void 0}),zn("invalid",e);break;case"textarea":B3(e,a),l=V8(e,a),zn("invalid",e);break;default:l=a}U8(i,l),u=l;for(p in u)if(u.hasOwnProperty(p)){var E=u[p];p==="style"?Yy(e,E):p==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&Xy(e,E)):p==="children"?typeof E=="string"?(i!=="textarea"||E!=="")&&ld(e,E):typeof E=="number"&&ld(e,""+E):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(sd.hasOwnProperty(p)?E!=null&&p==="onScroll"&&zn("scroll",e):E!=null&&Em(e,p,E,y))}switch(i){case"input":tp(e),O3(e,a,!1);break;case"textarea":tp(e),$3(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Fs(a.value));break;case"select":e.multiple=!!a.multiple,p=a.value,p!=null?X1(e,!!a.multiple,p,!1):a.defaultValue!=null&&X1(e,!!a.multiple,a.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=o4)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ri(t),null;case 6:if(e&&t.stateNode!=null)wv(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(tt(166));if(i=Sl(_d.current),Sl(va.current),cp(t)){if(a=t.stateNode,i=t.memoizedProps,a[ma]=t,(p=a.nodeValue!==i)&&(e=no,e!==null))switch(e.tag){case 3:up(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&up(a.nodeValue,i,(e.mode&1)!==0)}p&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[ma]=t,t.stateNode=a}return ri(t),null;case 13:if(Fn(Zn),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Vn&&Yi!==null&&t.mode&1&&!(t.flags&128))B9(),au(),t.flags|=98560,p=!1;else if(p=cp(t),a!==null&&a.dehydrated!==null){if(e===null){if(!p)throw Error(tt(318));if(p=t.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(tt(317));p[ma]=t}else au(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ri(t),p=!1}else qo!==null&&(M5(qo),qo=null),p=!0;if(!p)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Zn.current&1?Sr===0&&(Sr=3):l2())),t.updateQueue!==null&&(t.flags|=4),ri(t),null);case 4:return lu(),y5(e,t),e===null&&md(t.stateNode.containerInfo),ri(t),null;case 10:return Hm(t.type._context),ri(t),null;case 17:return Bi(t.type)&&a4(),ri(t),null;case 19:if(Fn(Zn),p=t.memoizedState,p===null)return ri(t),null;if(a=(t.flags&128)!==0,y=p.rendering,y===null)if(a)Fc(p,!1);else{if(Sr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(y=p4(e),y!==null){for(t.flags|=128,Fc(p,!1),a=y.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)p=i,e=a,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,e=y.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return In(Zn,Zn.current&1|2),t.child}e=e.sibling}p.tail!==null&&pr()>cu&&(t.flags|=128,a=!0,Fc(p,!1),t.lanes=4194304)}else{if(!a)if(e=p4(y),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Fc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Vn)return ri(t),null}else 2*pr()-p.renderingStartTime>cu&&i!==1073741824&&(t.flags|=128,a=!0,Fc(p,!1),t.lanes=4194304);p.isBackwards?(y.sibling=t.child,t.child=y):(i=p.last,i!==null?i.sibling=y:t.child=y,p.last=y)}return p.tail!==null?(t=p.tail,p.rendering=t,p.tail=t.sibling,p.renderingStartTime=pr(),t.sibling=null,i=Zn.current,In(Zn,a?i&1|2:i&1),t):(ri(t),null);case 22:case 23:return s2(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Xi&1073741824&&(ri(t),t.subtreeFlags&6&&(t.flags|=8192)):ri(t),null;case 24:return null;case 25:return null}throw Error(tt(156,t.tag))}function rM(e,t){switch(jm(t),t.tag){case 1:return Bi(t.type)&&a4(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lu(),Fn(Oi),Fn(oi),Xm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Km(t),null;case 13:if(Fn(Zn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(tt(340));au()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fn(Zn),null;case 4:return lu(),null;case 10:return Hm(t.type._context),null;case 22:case 23:return s2(),null;case 24:return null;default:return null}}var pp=!1,ii=!1,iM=typeof WeakSet=="function"?WeakSet:Set,bt=null;function H1(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Qn(e,t,a)}else i.current=null}function v5(e,t,i){try{i()}catch(a){Qn(e,t,a)}}var P6=!1;function oM(e,t){if(t5=n4,e=E9(),Bm(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var l=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var y=0,u=-1,E=-1,C=0,P=0,F=e,z=null;t:for(;;){for(var X;F!==i||l!==0&&F.nodeType!==3||(u=y+l),F!==p||a!==0&&F.nodeType!==3||(E=y+a),F.nodeType===3&&(y+=F.nodeValue.length),(X=F.firstChild)!==null;)z=F,F=X;for(;;){if(F===e)break t;if(z===i&&++C===l&&(u=y),z===p&&++P===a&&(E=y),(X=F.nextSibling)!==null)break;F=z,z=F.parentNode}F=X}i=u===-1||E===-1?null:{start:u,end:E}}else i=null}i=i||{start:0,end:0}}else i=null;for(n5={focusedElem:e,selectionRange:i},n4=!1,bt=t;bt!==null;)if(t=bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bt=e;else for(;bt!==null;){t=bt;try{var K=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var G=K.memoizedProps,ee=K.memoizedState,O=t.stateNode,B=O.getSnapshotBeforeUpdate(t.elementType===t.type?G:Uo(t.type,G),ee);O.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var W=t.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(ne){Qn(t,t.return,ne)}if(e=t.sibling,e!==null){e.return=t.return,bt=e;break}bt=t.return}return K=P6,P6=!1,K}function ed(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&e)===e){var p=l.destroy;l.destroy=void 0,p!==void 0&&v5(t,i,p)}l=l.next}while(l!==a)}}function U4(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function _5(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Sv(e){var t=e.alternate;t!==null&&(e.alternate=null,Sv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ma],delete t[yd],delete t[o5],delete t[jC],delete t[VC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cv(e){return e.tag===5||e.tag===3||e.tag===4}function T6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function x5(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=o4));else if(a!==4&&(e=e.child,e!==null))for(x5(e,t,i),e=e.sibling;e!==null;)x5(e,t,i),e=e.sibling}function b5(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(b5(e,t,i),e=e.sibling;e!==null;)b5(e,t,i),e=e.sibling}var Ur=null,Ho=!1;function _s(e,t,i){for(i=i.child;i!==null;)Mv(e,t,i),i=i.sibling}function Mv(e,t,i){if(ya&&typeof ya.onCommitFiberUnmount=="function")try{ya.onCommitFiberUnmount(F4,i)}catch{}switch(i.tag){case 5:ii||H1(i,t);case 6:var a=Ur,l=Ho;Ur=null,_s(e,t,i),Ur=a,Ho=l,Ur!==null&&(Ho?(e=Ur,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Ur.removeChild(i.stateNode));break;case 18:Ur!==null&&(Ho?(e=Ur,i=i.stateNode,e.nodeType===8?qf(e.parentNode,i):e.nodeType===1&&qf(e,i),hd(e)):qf(Ur,i.stateNode));break;case 4:a=Ur,l=Ho,Ur=i.stateNode.containerInfo,Ho=!0,_s(e,t,i),Ur=a,Ho=l;break;case 0:case 11:case 14:case 15:if(!ii&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){l=a=a.next;do{var p=l,y=p.destroy;p=p.tag,y!==void 0&&(p&2||p&4)&&v5(i,t,y),l=l.next}while(l!==a)}_s(e,t,i);break;case 1:if(!ii&&(H1(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(u){Qn(i,t,u)}_s(e,t,i);break;case 21:_s(e,t,i);break;case 22:i.mode&1?(ii=(a=ii)||i.memoizedState!==null,_s(e,t,i),ii=a):_s(e,t,i);break;default:_s(e,t,i)}}function I6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new iM),t.forEach(function(a){var l=fM.bind(null,e,a);i.has(a)||(i.add(a),a.then(l,l))})}}function Vo(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];try{var p=e,y=t,u=y;e:for(;u!==null;){switch(u.tag){case 5:Ur=u.stateNode,Ho=!1;break e;case 3:Ur=u.stateNode.containerInfo,Ho=!0;break e;case 4:Ur=u.stateNode.containerInfo,Ho=!0;break e}u=u.return}if(Ur===null)throw Error(tt(160));Mv(p,y,l),Ur=null,Ho=!1;var E=l.alternate;E!==null&&(E.return=null),l.return=null}catch(C){Qn(l,t,C)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ev(t,e),t=t.sibling}function Ev(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vo(t,e),pa(e),a&4){try{ed(3,e,e.return),U4(3,e)}catch(G){Qn(e,e.return,G)}try{ed(5,e,e.return)}catch(G){Qn(e,e.return,G)}}break;case 1:Vo(t,e),pa(e),a&512&&i!==null&&H1(i,i.return);break;case 5:if(Vo(t,e),pa(e),a&512&&i!==null&&H1(i,i.return),e.flags&32){var l=e.stateNode;try{ld(l,"")}catch(G){Qn(e,e.return,G)}}if(a&4&&(l=e.stateNode,l!=null)){var p=e.memoizedProps,y=i!==null?i.memoizedProps:p,u=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{u==="input"&&p.type==="radio"&&p.name!=null&&Gy(l,p),H8(u,y);var C=H8(u,p);for(y=0;y<E.length;y+=2){var P=E[y],F=E[y+1];P==="style"?Yy(l,F):P==="dangerouslySetInnerHTML"?Xy(l,F):P==="children"?ld(l,F):Em(l,P,F,C)}switch(u){case"input":$8(l,p);break;case"textarea":qy(l,p);break;case"select":var z=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!p.multiple;var X=p.value;X!=null?X1(l,!!p.multiple,X,!1):z!==!!p.multiple&&(p.defaultValue!=null?X1(l,!!p.multiple,p.defaultValue,!0):X1(l,!!p.multiple,p.multiple?[]:"",!1))}l[yd]=p}catch(G){Qn(e,e.return,G)}}break;case 6:if(Vo(t,e),pa(e),a&4){if(e.stateNode===null)throw Error(tt(162));l=e.stateNode,p=e.memoizedProps;try{l.nodeValue=p}catch(G){Qn(e,e.return,G)}}break;case 3:if(Vo(t,e),pa(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{hd(t.containerInfo)}catch(G){Qn(e,e.return,G)}break;case 4:Vo(t,e),pa(e);break;case 13:Vo(t,e),pa(e),l=e.child,l.flags&8192&&(p=l.memoizedState!==null,l.stateNode.isHidden=p,!p||l.alternate!==null&&l.alternate.memoizedState!==null||(o2=pr())),a&4&&I6(e);break;case 22:if(P=i!==null&&i.memoizedState!==null,e.mode&1?(ii=(C=ii)||P,Vo(t,e),ii=C):Vo(t,e),pa(e),a&8192){if(C=e.memoizedState!==null,(e.stateNode.isHidden=C)&&!P&&e.mode&1)for(bt=e,P=e.child;P!==null;){for(F=bt=P;bt!==null;){switch(z=bt,X=z.child,z.tag){case 0:case 11:case 14:case 15:ed(4,z,z.return);break;case 1:H1(z,z.return);var K=z.stateNode;if(typeof K.componentWillUnmount=="function"){a=z,i=z.return;try{t=a,K.props=t.memoizedProps,K.state=t.memoizedState,K.componentWillUnmount()}catch(G){Qn(a,i,G)}}break;case 5:H1(z,z.return);break;case 22:if(z.memoizedState!==null){D6(F);continue}}X!==null?(X.return=z,bt=X):D6(F)}P=P.sibling}e:for(P=null,F=e;;){if(F.tag===5){if(P===null){P=F;try{l=F.stateNode,C?(p=l.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(u=F.stateNode,E=F.memoizedProps.style,y=E!=null&&E.hasOwnProperty("display")?E.display:null,u.style.display=Jy("display",y))}catch(G){Qn(e,e.return,G)}}}else if(F.tag===6){if(P===null)try{F.stateNode.nodeValue=C?"":F.memoizedProps}catch(G){Qn(e,e.return,G)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===e)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===e)break e;for(;F.sibling===null;){if(F.return===null||F.return===e)break e;P===F&&(P=null),F=F.return}P===F&&(P=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:Vo(t,e),pa(e),a&4&&I6(e);break;case 21:break;default:Vo(t,e),pa(e)}}function pa(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Cv(i)){var a=i;break e}i=i.return}throw Error(tt(160))}switch(a.tag){case 5:var l=a.stateNode;a.flags&32&&(ld(l,""),a.flags&=-33);var p=T6(e);b5(e,p,l);break;case 3:case 4:var y=a.stateNode.containerInfo,u=T6(e);x5(e,u,y);break;default:throw Error(tt(161))}}catch(E){Qn(e,e.return,E)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function aM(e,t,i){bt=e,kv(e)}function kv(e,t,i){for(var a=(e.mode&1)!==0;bt!==null;){var l=bt,p=l.child;if(l.tag===22&&a){var y=l.memoizedState!==null||pp;if(!y){var u=l.alternate,E=u!==null&&u.memoizedState!==null||ii;u=pp;var C=ii;if(pp=y,(ii=E)&&!C)for(bt=l;bt!==null;)y=bt,E=y.child,y.tag===22&&y.memoizedState!==null?R6(l):E!==null?(E.return=y,bt=E):R6(l);for(;p!==null;)bt=p,kv(p),p=p.sibling;bt=l,pp=u,ii=C}L6(e)}else l.subtreeFlags&8772&&p!==null?(p.return=l,bt=p):L6(e)}}function L6(e){for(;bt!==null;){var t=bt;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ii||U4(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!ii)if(i===null)a.componentDidMount();else{var l=t.elementType===t.type?i.memoizedProps:Uo(t.type,i.memoizedProps);a.componentDidUpdate(l,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var p=t.updateQueue;p!==null&&m6(t,p,a);break;case 3:var y=t.updateQueue;if(y!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}m6(t,y,i)}break;case 5:var u=t.stateNode;if(i===null&&t.flags&4){i=u;var E=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&i.focus();break;case"img":E.src&&(i.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var C=t.alternate;if(C!==null){var P=C.memoizedState;if(P!==null){var F=P.dehydrated;F!==null&&hd(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}ii||t.flags&512&&_5(t)}catch(z){Qn(t,t.return,z)}}if(t===e){bt=null;break}if(i=t.sibling,i!==null){i.return=t.return,bt=i;break}bt=t.return}}function D6(e){for(;bt!==null;){var t=bt;if(t===e){bt=null;break}var i=t.sibling;if(i!==null){i.return=t.return,bt=i;break}bt=t.return}}function R6(e){for(;bt!==null;){var t=bt;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{U4(4,t)}catch(E){Qn(t,i,E)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var l=t.return;try{a.componentDidMount()}catch(E){Qn(t,l,E)}}var p=t.return;try{_5(t)}catch(E){Qn(t,p,E)}break;case 5:var y=t.return;try{_5(t)}catch(E){Qn(t,y,E)}}}catch(E){Qn(t,t.return,E)}if(t===e){bt=null;break}var u=t.sibling;if(u!==null){u.return=t.return,bt=u;break}bt=t.return}}var sM=Math.ceil,g4=Ja.ReactCurrentDispatcher,r2=Ja.ReactCurrentOwner,So=Ja.ReactCurrentBatchConfig,sn=0,Rr=null,mr=null,Hr=0,Xi=0,Z1=Us(0),Sr=0,Sd=null,zl=0,H4=0,i2=0,td=null,Fi=null,o2=0,cu=1/0,Na=null,y4=!1,w5=null,Ds=null,fp=!1,Ms=null,v4=0,nd=0,S5=null,$p=-1,jp=0;function _i(){return sn&6?pr():$p!==-1?$p:$p=pr()}function Rs(e){return e.mode&1?sn&2&&Hr!==0?Hr&-Hr:UC.transition!==null?(jp===0&&(jp=c9()),jp):(e=gn,e!==0||(e=window.event,e=e===void 0?16:y9(e.type)),e):1}function Jo(e,t,i,a){if(50<nd)throw nd=0,S5=null,Error(tt(185));zd(e,i,a),(!(sn&2)||e!==Rr)&&(e===Rr&&(!(sn&2)&&(H4|=i),Sr===4&&Ss(e,Hr)),$i(e,a),i===1&&sn===0&&!(t.mode&1)&&(cu=pr()+500,j4&&Hs()))}function $i(e,t){var i=e.callbackNode;US(e,t);var a=t4(e,e===Rr?Hr:0);if(a===0)i!==null&&W3(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&W3(i),t===1)e.tag===0?WC(z6.bind(null,e)):F9(z6.bind(null,e)),BC(function(){!(sn&6)&&Hs()}),i=null;else{switch(d9(a)){case 1:i=Im;break;case 4:i=l9;break;case 16:i=e4;break;case 536870912:i=u9;break;default:i=e4}i=zv(i,Av.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Av(e,t){if($p=-1,jp=0,sn&6)throw Error(tt(327));var i=e.callbackNode;if(tu()&&e.callbackNode!==i)return null;var a=t4(e,e===Rr?Hr:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=_4(e,a);else{t=a;var l=sn;sn|=2;var p=Tv();(Rr!==e||Hr!==t)&&(Na=null,cu=pr()+500,kl(e,t));do try{cM();break}catch(u){Pv(e,u)}while(1);Um(),g4.current=p,sn=l,mr!==null?t=0:(Rr=null,Hr=0,t=Sr)}if(t!==0){if(t===2&&(l=X8(e),l!==0&&(a=l,t=C5(e,l))),t===1)throw i=Sd,kl(e,0),Ss(e,a),$i(e,pr()),i;if(t===6)Ss(e,a);else{if(l=e.current.alternate,!(a&30)&&!lM(l)&&(t=_4(e,a),t===2&&(p=X8(e),p!==0&&(a=p,t=C5(e,p))),t===1))throw i=Sd,kl(e,0),Ss(e,a),$i(e,pr()),i;switch(e.finishedWork=l,e.finishedLanes=a,t){case 0:case 1:throw Error(tt(345));case 2:gl(e,Fi,Na);break;case 3:if(Ss(e,a),(a&130023424)===a&&(t=o2+500-pr(),10<t)){if(t4(e,0)!==0)break;if(l=e.suspendedLanes,(l&a)!==a){_i(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=i5(gl.bind(null,e,Fi,Na),t);break}gl(e,Fi,Na);break;case 4:if(Ss(e,a),(a&4194240)===a)break;for(t=e.eventTimes,l=-1;0<a;){var y=31-Xo(a);p=1<<y,y=t[y],y>l&&(l=y),a&=~p}if(a=l,a=pr()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*sM(a/1960))-a,10<a){e.timeoutHandle=i5(gl.bind(null,e,Fi,Na),a);break}gl(e,Fi,Na);break;case 5:gl(e,Fi,Na);break;default:throw Error(tt(329))}}}return $i(e,pr()),e.callbackNode===i?Av.bind(null,e):null}function C5(e,t){var i=td;return e.current.memoizedState.isDehydrated&&(kl(e,t).flags|=256),e=_4(e,t),e!==2&&(t=Fi,Fi=i,t!==null&&M5(t)),e}function M5(e){Fi===null?Fi=e:Fi.push.apply(Fi,e)}function lM(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var l=i[a],p=l.getSnapshot;l=l.value;try{if(!ta(p(),l))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ss(e,t){for(t&=~i2,t&=~H4,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Xo(t),a=1<<i;e[i]=-1,t&=~a}}function z6(e){if(sn&6)throw Error(tt(327));tu();var t=t4(e,0);if(!(t&1))return $i(e,pr()),null;var i=_4(e,t);if(e.tag!==0&&i===2){var a=X8(e);a!==0&&(t=a,i=C5(e,a))}if(i===1)throw i=Sd,kl(e,0),Ss(e,t),$i(e,pr()),i;if(i===6)throw Error(tt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gl(e,Fi,Na),$i(e,pr()),null}function a2(e,t){var i=sn;sn|=1;try{return e(t)}finally{sn=i,sn===0&&(cu=pr()+500,j4&&Hs())}}function Fl(e){Ms!==null&&Ms.tag===0&&!(sn&6)&&tu();var t=sn;sn|=1;var i=So.transition,a=gn;try{if(So.transition=null,gn=1,e)return e()}finally{gn=a,So.transition=i,sn=t,!(sn&6)&&Hs()}}function s2(){Xi=Z1.current,Fn(Z1)}function kl(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,OC(i)),mr!==null)for(i=mr.return;i!==null;){var a=i;switch(jm(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&a4();break;case 3:lu(),Fn(Oi),Fn(oi),Xm();break;case 5:Km(a);break;case 4:lu();break;case 13:Fn(Zn);break;case 19:Fn(Zn);break;case 10:Hm(a.type._context);break;case 22:case 23:s2()}i=i.return}if(Rr=e,mr=e=zs(e.current,null),Hr=Xi=t,Sr=0,Sd=null,i2=H4=zl=0,Fi=td=null,wl!==null){for(t=0;t<wl.length;t++)if(i=wl[t],a=i.interleaved,a!==null){i.interleaved=null;var l=a.next,p=i.pending;if(p!==null){var y=p.next;p.next=l,a.next=y}i.pending=a}wl=null}return e}function Pv(e,t){do{var i=mr;try{if(Um(),Np.current=m4,f4){for(var a=Gn.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}f4=!1}if(Rl=0,Dr=wr=Gn=null,Qc=!1,xd=0,r2.current=null,i===null||i.return===null){Sr=1,Sd=t,mr=null;break}e:{var p=e,y=i.return,u=i,E=t;if(t=Hr,u.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var C=E,P=u,F=P.tag;if(!(P.mode&1)&&(F===0||F===11||F===15)){var z=P.alternate;z?(P.updateQueue=z.updateQueue,P.memoizedState=z.memoizedState,P.lanes=z.lanes):(P.updateQueue=null,P.memoizedState=null)}var X=w6(y);if(X!==null){X.flags&=-257,S6(X,y,u,p,t),X.mode&1&&b6(p,C,t),t=X,E=C;var K=t.updateQueue;if(K===null){var G=new Set;G.add(E),t.updateQueue=G}else K.add(E);break e}else{if(!(t&1)){b6(p,C,t),l2();break e}E=Error(tt(426))}}else if(Vn&&u.mode&1){var ee=w6(y);if(ee!==null){!(ee.flags&65536)&&(ee.flags|=256),S6(ee,y,u,p,t),Vm(uu(E,u));break e}}p=E=uu(E,u),Sr!==4&&(Sr=2),td===null?td=[p]:td.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,t&=-t,p.lanes|=t;var O=hv(p,E,t);f6(p,O);break e;case 1:u=E;var B=p.type,W=p.stateNode;if(!(p.flags&128)&&(typeof B.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Ds===null||!Ds.has(W)))){p.flags|=65536,t&=-t,p.lanes|=t;var ne=pv(p,u,t);f6(p,ne);break e}}p=p.return}while(p!==null)}Lv(i)}catch(pe){t=pe,mr===i&&i!==null&&(mr=i=i.return);continue}break}while(1)}function Tv(){var e=g4.current;return g4.current=m4,e===null?m4:e}function l2(){(Sr===0||Sr===3||Sr===2)&&(Sr=4),Rr===null||!(zl&268435455)&&!(H4&268435455)||Ss(Rr,Hr)}function _4(e,t){var i=sn;sn|=2;var a=Tv();(Rr!==e||Hr!==t)&&(Na=null,kl(e,t));do try{uM();break}catch(l){Pv(e,l)}while(1);if(Um(),sn=i,g4.current=a,mr!==null)throw Error(tt(261));return Rr=null,Hr=0,Sr}function uM(){for(;mr!==null;)Iv(mr)}function cM(){for(;mr!==null&&!zS();)Iv(mr)}function Iv(e){var t=Rv(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,t===null?Lv(e):mr=t,r2.current=null}function Lv(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=rM(i,t),i!==null){i.flags&=32767,mr=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Sr=6,mr=null;return}}else if(i=nM(i,t,Xi),i!==null){mr=i;return}if(t=t.sibling,t!==null){mr=t;return}mr=t=e}while(t!==null);Sr===0&&(Sr=5)}function gl(e,t,i){var a=gn,l=So.transition;try{So.transition=null,gn=1,dM(e,t,i,a)}finally{So.transition=l,gn=a}return null}function dM(e,t,i,a){do tu();while(Ms!==null);if(sn&6)throw Error(tt(327));i=e.finishedWork;var l=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(tt(177));e.callbackNode=null,e.callbackPriority=0;var p=i.lanes|i.childLanes;if(HS(e,p),e===Rr&&(mr=Rr=null,Hr=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||fp||(fp=!0,zv(e4,function(){return tu(),null})),p=(i.flags&15990)!==0,i.subtreeFlags&15990||p){p=So.transition,So.transition=null;var y=gn;gn=1;var u=sn;sn|=4,r2.current=null,oM(e,i),Ev(i,e),IC(n5),n4=!!t5,n5=t5=null,e.current=i,aM(i),FS(),sn=u,gn=y,So.transition=p}else e.current=i;if(fp&&(fp=!1,Ms=e,v4=l),p=e.pendingLanes,p===0&&(Ds=null),BS(i.stateNode),$i(e,pr()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)l=t[i],a(l.value,{componentStack:l.stack,digest:l.digest});if(y4)throw y4=!1,e=w5,w5=null,e;return v4&1&&e.tag!==0&&tu(),p=e.pendingLanes,p&1?e===S5?nd++:(nd=0,S5=e):nd=0,Hs(),null}function tu(){if(Ms!==null){var e=d9(v4),t=So.transition,i=gn;try{if(So.transition=null,gn=16>e?16:e,Ms===null)var a=!1;else{if(e=Ms,Ms=null,v4=0,sn&6)throw Error(tt(331));var l=sn;for(sn|=4,bt=e.current;bt!==null;){var p=bt,y=p.child;if(bt.flags&16){var u=p.deletions;if(u!==null){for(var E=0;E<u.length;E++){var C=u[E];for(bt=C;bt!==null;){var P=bt;switch(P.tag){case 0:case 11:case 15:ed(8,P,p)}var F=P.child;if(F!==null)F.return=P,bt=F;else for(;bt!==null;){P=bt;var z=P.sibling,X=P.return;if(Sv(P),P===C){bt=null;break}if(z!==null){z.return=X,bt=z;break}bt=X}}}var K=p.alternate;if(K!==null){var G=K.child;if(G!==null){K.child=null;do{var ee=G.sibling;G.sibling=null,G=ee}while(G!==null)}}bt=p}}if(p.subtreeFlags&2064&&y!==null)y.return=p,bt=y;else e:for(;bt!==null;){if(p=bt,p.flags&2048)switch(p.tag){case 0:case 11:case 15:ed(9,p,p.return)}var O=p.sibling;if(O!==null){O.return=p.return,bt=O;break e}bt=p.return}}var B=e.current;for(bt=B;bt!==null;){y=bt;var W=y.child;if(y.subtreeFlags&2064&&W!==null)W.return=y,bt=W;else e:for(y=B;bt!==null;){if(u=bt,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:U4(9,u)}}catch(pe){Qn(u,u.return,pe)}if(u===y){bt=null;break e}var ne=u.sibling;if(ne!==null){ne.return=u.return,bt=ne;break e}bt=u.return}}if(sn=l,Hs(),ya&&typeof ya.onPostCommitFiberRoot=="function")try{ya.onPostCommitFiberRoot(F4,e)}catch{}a=!0}return a}finally{gn=i,So.transition=t}}return!1}function F6(e,t,i){t=uu(i,t),t=hv(e,t,1),e=Ls(e,t,1),t=_i(),e!==null&&(zd(e,1,t),$i(e,t))}function Qn(e,t,i){if(e.tag===3)F6(e,e,i);else for(;t!==null;){if(t.tag===3){F6(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ds===null||!Ds.has(a))){e=uu(i,e),e=pv(t,e,1),t=Ls(t,e,1),e=_i(),t!==null&&(zd(t,1,e),$i(t,e));break}}t=t.return}}function hM(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=_i(),e.pingedLanes|=e.suspendedLanes&i,Rr===e&&(Hr&i)===i&&(Sr===4||Sr===3&&(Hr&130023424)===Hr&&500>pr()-o2?kl(e,0):i2|=i),$i(e,t)}function Dv(e,t){t===0&&(e.mode&1?(t=ip,ip<<=1,!(ip&130023424)&&(ip=4194304)):t=1);var i=_i();e=Ha(e,t),e!==null&&(zd(e,t,i),$i(e,i))}function pM(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Dv(e,i)}function fM(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,l=e.memoizedState;l!==null&&(i=l.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(tt(314))}a!==null&&a.delete(t),Dv(e,i)}var Rv;Rv=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oi.current)Ni=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return Ni=!1,tM(e,t,i);Ni=!!(e.flags&131072)}else Ni=!1,Vn&&t.flags&1048576&&N9(t,u4,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Bp(e,t),e=t.pendingProps;var l=ou(t,oi.current);eu(t,i),l=Ym(null,t,a,e,l,i);var p=Qm();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bi(a)?(p=!0,s4(t)):p=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Gm(t),l.updater=V4,t.stateNode=l,l._reactInternals=t,d5(t,a,e,i),t=f5(null,t,a,!0,p,i)):(t.tag=0,Vn&&p&&$m(t),vi(null,t,l,i),t=t.child),t;case 16:a=t.elementType;e:{switch(Bp(e,t),e=t.pendingProps,l=a._init,a=l(a._payload),t.type=a,l=t.tag=gM(a),e=Uo(a,e),l){case 0:t=p5(null,t,a,e,i);break e;case 1:t=E6(null,t,a,e,i);break e;case 11:t=C6(null,t,a,e,i);break e;case 14:t=M6(null,t,a,Uo(a.type,e),i);break e}throw Error(tt(306,a,""))}return t;case 0:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:Uo(a,l),p5(e,t,a,l,i);case 1:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:Uo(a,l),E6(e,t,a,l,i);case 3:e:{if(yv(t),e===null)throw Error(tt(387));a=t.pendingProps,p=t.memoizedState,l=p.element,j9(e,t),h4(t,a,null,i);var y=t.memoizedState;if(a=y.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){l=uu(Error(tt(423)),t),t=k6(e,t,a,i,l);break e}else if(a!==l){l=uu(Error(tt(424)),t),t=k6(e,t,a,i,l);break e}else for(Yi=Is(t.stateNode.containerInfo.firstChild),no=t,Vn=!0,qo=null,i=H9(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(au(),a===l){t=Za(e,t,i);break e}vi(e,t,a,i)}t=t.child}return t;case 5:return Z9(t),e===null&&l5(t),a=t.type,l=t.pendingProps,p=e!==null?e.memoizedProps:null,y=l.children,r5(a,l)?y=null:p!==null&&r5(a,p)&&(t.flags|=32),gv(e,t),vi(e,t,y,i),t.child;case 6:return e===null&&l5(t),null;case 13:return vv(e,t,i);case 4:return qm(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=su(t,null,a,i):vi(e,t,a,i),t.child;case 11:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:Uo(a,l),C6(e,t,a,l,i);case 7:return vi(e,t,t.pendingProps,i),t.child;case 8:return vi(e,t,t.pendingProps.children,i),t.child;case 12:return vi(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,l=t.pendingProps,p=t.memoizedProps,y=l.value,In(c4,a._currentValue),a._currentValue=y,p!==null)if(ta(p.value,y)){if(p.children===l.children&&!Oi.current){t=Za(e,t,i);break e}}else for(p=t.child,p!==null&&(p.return=t);p!==null;){var u=p.dependencies;if(u!==null){y=p.child;for(var E=u.firstContext;E!==null;){if(E.context===a){if(p.tag===1){E=Va(-1,i&-i),E.tag=2;var C=p.updateQueue;if(C!==null){C=C.shared;var P=C.pending;P===null?E.next=E:(E.next=P.next,P.next=E),C.pending=E}}p.lanes|=i,E=p.alternate,E!==null&&(E.lanes|=i),u5(p.return,i,t),u.lanes|=i;break}E=E.next}}else if(p.tag===10)y=p.type===t.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(tt(341));y.lanes|=i,u=y.alternate,u!==null&&(u.lanes|=i),u5(y,i,t),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===t){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}vi(e,t,l.children,i),t=t.child}return t;case 9:return l=t.type,a=t.pendingProps.children,eu(t,i),l=Co(l),a=a(l),t.flags|=1,vi(e,t,a,i),t.child;case 14:return a=t.type,l=Uo(a,t.pendingProps),l=Uo(a.type,l),M6(e,t,a,l,i);case 15:return fv(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,l=t.pendingProps,l=t.elementType===a?l:Uo(a,l),Bp(e,t),t.tag=1,Bi(a)?(e=!0,s4(t)):e=!1,eu(t,i),W9(t,a,l),d5(t,a,l,i),f5(null,t,a,!0,e,i);case 19:return _v(e,t,i);case 22:return mv(e,t,i)}throw Error(tt(156,t.tag))};function zv(e,t){return s9(e,t)}function mM(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wo(e,t,i,a){return new mM(e,t,i,a)}function u2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gM(e){if(typeof e=="function")return u2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Am)return 11;if(e===Pm)return 14}return 2}function zs(e,t){var i=e.alternate;return i===null?(i=wo(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Vp(e,t,i,a,l,p){var y=2;if(a=e,typeof e=="function")u2(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case F1:return Al(i.children,l,p,t);case km:y=8,l|=8;break;case z8:return e=wo(12,i,t,l|2),e.elementType=z8,e.lanes=p,e;case F8:return e=wo(13,i,t,l),e.elementType=F8,e.lanes=p,e;case N8:return e=wo(19,i,t,l),e.elementType=N8,e.lanes=p,e;case Uy:return Z4(i,l,p,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vy:y=10;break e;case Wy:y=9;break e;case Am:y=11;break e;case Pm:y=14;break e;case xs:y=16,a=null;break e}throw Error(tt(130,e==null?e:typeof e,""))}return t=wo(y,i,t,l),t.elementType=e,t.type=a,t.lanes=p,t}function Al(e,t,i,a){return e=wo(7,e,a,t),e.lanes=i,e}function Z4(e,t,i,a){return e=wo(22,e,a,t),e.elementType=Uy,e.lanes=i,e.stateNode={isHidden:!1},e}function n8(e,t,i){return e=wo(6,e,null,t),e.lanes=i,e}function r8(e,t,i){return t=wo(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yM(e,t,i,a,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nf(0),this.expirationTimes=Nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nf(0),this.identifierPrefix=a,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function c2(e,t,i,a,l,p,y,u,E){return e=new yM(e,t,i,u,E),t===1?(t=1,p===!0&&(t|=8)):t=0,p=wo(3,null,null,t),e.current=p,p.stateNode=e,p.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gm(p),e}function vM(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z1,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function Fv(e){if(!e)return Ns;e=e._reactInternals;e:{if(jl(e)!==e||e.tag!==1)throw Error(tt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(tt(171))}if(e.tag===1){var i=e.type;if(Bi(i))return z9(e,i,t)}return t}function Nv(e,t,i,a,l,p,y,u,E){return e=c2(i,a,!0,e,l,p,y,u,E),e.context=Fv(null),i=e.current,a=_i(),l=Rs(i),p=Va(a,l),p.callback=t??null,Ls(i,p,l),e.current.lanes=l,zd(e,l,a),$i(e,a),e}function G4(e,t,i,a){var l=t.current,p=_i(),y=Rs(l);return i=Fv(i),t.context===null?t.context=i:t.pendingContext=i,t=Va(p,y),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Ls(l,t,y),e!==null&&(Jo(e,l,y,p),Fp(e,l,y)),y}function x4(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function N6(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function d2(e,t){N6(e,t),(e=e.alternate)&&N6(e,t)}function _M(){return null}var Ov=typeof reportError=="function"?reportError:function(e){console.error(e)};function h2(e){this._internalRoot=e}q4.prototype.render=h2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(tt(409));G4(e,t,null,null)};q4.prototype.unmount=h2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fl(function(){G4(null,e,null,null)}),t[Ua]=null}};function q4(e){this._internalRoot=e}q4.prototype.unstable_scheduleHydration=function(e){if(e){var t=f9();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ws.length&&t!==0&&t<ws[i].priority;i++);ws.splice(i,0,e),i===0&&g9(e)}};function p2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function K4(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function O6(){}function xM(e,t,i,a,l){if(l){if(typeof a=="function"){var p=a;a=function(){var C=x4(y);p.call(C)}}var y=Nv(t,a,e,0,null,!1,!1,"",O6);return e._reactRootContainer=y,e[Ua]=y.current,md(e.nodeType===8?e.parentNode:e),Fl(),y}for(;l=e.lastChild;)e.removeChild(l);if(typeof a=="function"){var u=a;a=function(){var C=x4(E);u.call(C)}}var E=c2(e,0,!1,null,null,!1,!1,"",O6);return e._reactRootContainer=E,e[Ua]=E.current,md(e.nodeType===8?e.parentNode:e),Fl(function(){G4(t,E,i,a)}),E}function X4(e,t,i,a,l){var p=i._reactRootContainer;if(p){var y=p;if(typeof l=="function"){var u=l;l=function(){var E=x4(y);u.call(E)}}G4(t,y,e,l)}else y=xM(i,t,e,l,a);return x4(y)}h9=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Uc(t.pendingLanes);i!==0&&(Lm(t,i|1),$i(t,pr()),!(sn&6)&&(cu=pr()+500,Hs()))}break;case 13:Fl(function(){var a=Ha(e,1);if(a!==null){var l=_i();Jo(a,e,1,l)}}),d2(e,1)}};Dm=function(e){if(e.tag===13){var t=Ha(e,134217728);if(t!==null){var i=_i();Jo(t,e,134217728,i)}d2(e,134217728)}};p9=function(e){if(e.tag===13){var t=Rs(e),i=Ha(e,t);if(i!==null){var a=_i();Jo(i,e,t,a)}d2(e,t)}};f9=function(){return gn};m9=function(e,t){var i=gn;try{return gn=e,t()}finally{gn=i}};G8=function(e,t,i){switch(t){case"input":if($8(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var l=$4(a);if(!l)throw Error(tt(90));Zy(a),$8(a,l)}}}break;case"textarea":qy(e,i);break;case"select":t=i.value,t!=null&&X1(e,!!i.multiple,t,!1)}};t9=a2;n9=Fl;var bM={usingClientEntryPoint:!1,Events:[Nd,$1,$4,Qy,e9,a2]},Nc={findFiberByHostInstance:bl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},wM={bundleType:Nc.bundleType,version:Nc.version,rendererPackageName:Nc.rendererPackageName,rendererConfig:Nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ja.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=o9(e),e===null?null:e.stateNode},findFiberByHostInstance:Nc.findFiberByHostInstance||_M,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mp.isDisabled&&mp.supportsFiber)try{F4=mp.inject(wM),ya=mp}catch{}}so.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bM;so.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p2(t))throw Error(tt(200));return vM(e,t,null,i)};so.createRoot=function(e,t){if(!p2(e))throw Error(tt(299));var i=!1,a="",l=Ov;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=c2(e,1,!1,null,null,i,!1,a,l),e[Ua]=t.current,md(e.nodeType===8?e.parentNode:e),new h2(t)};so.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(tt(188)):(e=Object.keys(e).join(","),Error(tt(268,e)));return e=o9(t),e=e===null?null:e.stateNode,e};so.flushSync=function(e){return Fl(e)};so.hydrate=function(e,t,i){if(!K4(t))throw Error(tt(200));return X4(null,e,t,!0,i)};so.hydrateRoot=function(e,t,i){if(!p2(e))throw Error(tt(405));var a=i!=null&&i.hydratedSources||null,l=!1,p="",y=Ov;if(i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),t=Nv(t,null,e,1,i??null,l,!1,p,y),e[Ua]=t.current,md(e),a)for(e=0;e<a.length;e++)i=a[e],l=i._getVersion,l=l(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,l]:t.mutableSourceEagerHydrationData.push(i,l);return new q4(t)};so.render=function(e,t,i){if(!K4(t))throw Error(tt(200));return X4(null,e,t,!1,i)};so.unmountComponentAtNode=function(e){if(!K4(e))throw Error(tt(40));return e._reactRootContainer?(Fl(function(){X4(null,null,e,!1,function(){e._reactRootContainer=null,e[Ua]=null})}),!0):!1};so.unstable_batchedUpdates=a2;so.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!K4(i))throw Error(tt(200));if(e==null||e._reactInternals===void 0)throw Error(tt(38));return X4(e,t,i,!1,a)};so.version="18.2.0-next-9e3b772b8-20220608";function Bv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bv)}catch(e){console.error(e)}}Bv(),Ny.exports=so;var xu=Ny.exports;const $v=R4(xu),SM=Ey({__proto__:null,default:$v},[xu]);var B6=xu;D8.createRoot=B6.createRoot,D8.hydrateRoot=B6.hydrateRoot;var jv={exports:{}},Vv={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd=Z;function CM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var MM=typeof Object.is=="function"?Object.is:CM,EM=Bd.useSyncExternalStore,kM=Bd.useRef,AM=Bd.useEffect,PM=Bd.useMemo,TM=Bd.useDebugValue;Vv.useSyncExternalStoreWithSelector=function(e,t,i,a,l){var p=kM(null);if(p.current===null){var y={hasValue:!1,value:null};p.current=y}else y=p.current;p=PM(function(){function E(X){if(!C){if(C=!0,P=X,X=a(X),l!==void 0&&y.hasValue){var K=y.value;if(l(K,X))return F=K}return F=X}if(K=F,MM(P,X))return K;var G=a(X);return l!==void 0&&l(K,G)?K:(P=X,F=G)}var C=!1,P,F,z=i===void 0?null:i;return[function(){return E(t())},z===null?void 0:function(){return E(z())}]},[t,i,a,l]);var u=EM(e,p[0],p[1]);return AM(function(){y.hasValue=!0,y.value=u},[u]),TM(u),u};jv.exports=Vv;var IM=jv.exports,Qi="default"in Il?Ct:Il,$6=Symbol.for("react-redux-context"),j6=typeof globalThis<"u"?globalThis:{};function LM(){if(!Qi.createContext)return{};const e=j6[$6]??(j6[$6]=new Map);let t=e.get(Qi.createContext);return t||(t=Qi.createContext(null),e.set(Qi.createContext,t)),t}var Os=LM(),DM=()=>{throw new Error("uSES not initialized!")};function f2(e=Os){return function(){return Qi.useContext(e)}}var Wv=f2(),Uv=DM,RM=e=>{Uv=e},zM=(e,t)=>e===t;function FM(e=Os){const t=e===Os?Wv:f2(e),i=(a,l={})=>{const{equalityFn:p=zM,devModeChecks:y={}}=typeof l=="function"?{equalityFn:l}:l,{store:u,subscription:E,getServerState:C,stabilityCheck:P,identityFunctionCheck:F}=t();Qi.useRef(!0);const z=Qi.useCallback({[a.name](K){return a(K)}}[a.name],[a,P,y.stabilityCheck]),X=Uv(E.addNestedSub,u.getState,C||u.getState,z,p);return Qi.useDebugValue(X),X};return Object.assign(i,{withTypes:()=>i}),i}var E5=FM();function NM(e){e()}function OM(){let e=null,t=null;return{clear(){e=null,t=null},notify(){NM(()=>{let i=e;for(;i;)i.callback(),i=i.next})},get(){const i=[];let a=e;for(;a;)i.push(a),a=a.next;return i},subscribe(i){let a=!0;const l=t={callback:i,next:null,prev:t};return l.prev?l.prev.next=l:e=l,function(){!a||e===null||(a=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}var V6={notify(){},get:()=>[]};function BM(e,t){let i,a=V6,l=0,p=!1;function y(G){P();const ee=a.subscribe(G);let O=!1;return()=>{O||(O=!0,ee(),F())}}function u(){a.notify()}function E(){K.onStateChange&&K.onStateChange()}function C(){return p}function P(){l++,i||(i=t?t.addNestedSub(E):e.subscribe(E),a=OM())}function F(){l--,i&&l===0&&(i(),i=void 0,a.clear(),a=V6)}function z(){p||(p=!0,P())}function X(){p&&(p=!1,F())}const K={addNestedSub:y,notifyNestedSubs:u,handleChangeWrapper:E,isSubscribed:C,trySubscribe:z,tryUnsubscribe:X,getListeners:()=>a};return K}var $M=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jM=$M?Qi.useLayoutEffect:Qi.useEffect;function VM({store:e,context:t,children:i,serverState:a,stabilityCheck:l="once",identityFunctionCheck:p="once"}){const y=Qi.useMemo(()=>{const C=BM(e);return{store:e,subscription:C,getServerState:a?()=>a:void 0,stabilityCheck:l,identityFunctionCheck:p}},[e,a,l,p]),u=Qi.useMemo(()=>e.getState(),[e]);jM(()=>{const{subscription:C}=y;return C.onStateChange=C.notifyNestedSubs,C.trySubscribe(),u!==e.getState()&&C.notifyNestedSubs(),()=>{C.tryUnsubscribe(),C.onStateChange=void 0}},[y,u]);const E=t||Os;return Qi.createElement(E.Provider,{value:y},i)}var WM=VM;function Hv(e=Os){const t=e===Os?Wv:f2(e),i=()=>{const{store:a}=t();return a};return Object.assign(i,{withTypes:()=>i}),i}var UM=Hv();function HM(e=Os){const t=e===Os?UM:Hv(e),i=()=>t().dispatch;return Object.assign(i,{withTypes:()=>i}),i}var ZM=HM();RM(IM.useSyncExternalStoreWithSelector);const GM="_panel_rfanj_1",qM="_title_rfanj_14",KM="_subtitle_rfanj_19",XM="_block_rfanj_24",JM="_key_rfanj_31",YM="_value_rfanj_35",fl={panel:GM,title:qM,subtitle:KM,block:XM,key:JM,value:YM};function Wr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var QM=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),W6=QM,i8=()=>Math.random().toString(36).substring(7).split("").join("."),eE={INIT:`@@redux/INIT${i8()}`,REPLACE:`@@redux/REPLACE${i8()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${i8()}`},b4=eE;function m2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Zv(e,t,i){if(typeof e!="function")throw new Error(Wr(2));if(typeof t=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(Wr(0));if(typeof t=="function"&&typeof i>"u"&&(i=t,t=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(Wr(1));return i(Zv)(e,t)}let a=e,l=t,p=new Map,y=p,u=0,E=!1;function C(){y===p&&(y=new Map,p.forEach((ee,O)=>{y.set(O,ee)}))}function P(){if(E)throw new Error(Wr(3));return l}function F(ee){if(typeof ee!="function")throw new Error(Wr(4));if(E)throw new Error(Wr(5));let O=!0;C();const B=u++;return y.set(B,ee),function(){if(O){if(E)throw new Error(Wr(6));O=!1,C(),y.delete(B),p=null}}}function z(ee){if(!m2(ee))throw new Error(Wr(7));if(typeof ee.type>"u")throw new Error(Wr(8));if(typeof ee.type!="string")throw new Error(Wr(17));if(E)throw new Error(Wr(9));try{E=!0,l=a(l,ee)}finally{E=!1}return(p=y).forEach(B=>{B()}),ee}function X(ee){if(typeof ee!="function")throw new Error(Wr(10));a=ee,z({type:b4.REPLACE})}function K(){const ee=F;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(Wr(11));function B(){const ne=O;ne.next&&ne.next(P())}return B(),{unsubscribe:ee(B)}},[W6](){return this}}}return z({type:b4.INIT}),{dispatch:z,subscribe:F,getState:P,replaceReducer:X,[W6]:K}}function tE(e){Object.keys(e).forEach(t=>{const i=e[t];if(typeof i(void 0,{type:b4.INIT})>"u")throw new Error(Wr(12));if(typeof i(void 0,{type:b4.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wr(13))})}function Gv(e){const t=Object.keys(e),i={};for(let p=0;p<t.length;p++){const y=t[p];typeof e[y]=="function"&&(i[y]=e[y])}const a=Object.keys(i);let l;try{tE(i)}catch(p){l=p}return function(y={},u){if(l)throw l;let E=!1;const C={};for(let P=0;P<a.length;P++){const F=a[P],z=i[F],X=y[F],K=z(X,u);if(typeof K>"u")throw u&&u.type,new Error(Wr(14));C[F]=K,E=E||K!==X}return E=E||a.length!==Object.keys(y).length,E?C:y}}function w4(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,i)=>(...a)=>t(i(...a)))}function nE(...e){return t=>(i,a)=>{const l=t(i,a);let p=()=>{throw new Error(Wr(15))};const y={getState:l.getState,dispatch:(E,...C)=>p(E,...C)},u=e.map(E=>E(y));return p=w4(...u)(l.dispatch),{...l,dispatch:p}}}function rE(e){return m2(e)&&"type"in e&&typeof e.type=="string"}var qv=Symbol.for("immer-nothing"),U6=Symbol.for("immer-draftable"),oo=Symbol.for("immer-state");function Ko(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var du=Object.getPrototypeOf;function Bs(e){return!!e&&!!e[oo]}function Ga(e){var t;return e?Kv(e)||Array.isArray(e)||!!e[U6]||!!((t=e.constructor)!=null&&t[U6])||Y4(e)||Q4(e):!1}var iE=Object.prototype.constructor.toString();function Kv(e){if(!e||typeof e!="object")return!1;const t=du(e);if(t===null)return!0;const i=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===iE}function Cd(e,t){J4(e)===0?Object.entries(e).forEach(([i,a])=>{t(i,a,e)}):e.forEach((i,a)=>t(a,i,e))}function J4(e){const t=e[oo];return t?t.type_:Array.isArray(e)?1:Y4(e)?2:Q4(e)?3:0}function k5(e,t){return J4(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Xv(e,t,i){const a=J4(e);a===2?e.set(t,i):a===3?e.add(i):e[t]=i}function oE(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Y4(e){return e instanceof Map}function Q4(e){return e instanceof Set}function yl(e){return e.copy_||e.base_}function A5(e,t){if(Y4(e))return new Map(e);if(Q4(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&Kv(e))return du(e)?{...e}:Object.assign(Object.create(null),e);const i=Object.getOwnPropertyDescriptors(e);delete i[oo];let a=Reflect.ownKeys(i);for(let l=0;l<a.length;l++){const p=a[l],y=i[p];y.writable===!1&&(y.writable=!0,y.configurable=!0),(y.get||y.set)&&(i[p]={configurable:!0,writable:!0,enumerable:y.enumerable,value:e[p]})}return Object.create(du(e),i)}function g2(e,t=!1){return e0(e)||Bs(e)||!Ga(e)||(J4(e)>1&&(e.set=e.add=e.clear=e.delete=aE),Object.freeze(e),t&&Cd(e,(i,a)=>g2(a,!0))),e}function aE(){Ko(2)}function e0(e){return Object.isFrozen(e)}var sE={};function Nl(e){const t=sE[e];return t||Ko(0,e),t}var Md;function Jv(){return Md}function lE(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function H6(e,t){t&&(Nl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function P5(e){T5(e),e.drafts_.forEach(uE),e.drafts_=null}function T5(e){e===Md&&(Md=e.parent_)}function Z6(e){return Md=lE(Md,e)}function uE(e){const t=e[oo];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function G6(e,t){t.unfinalizedDrafts_=t.drafts_.length;const i=t.drafts_[0];return e!==void 0&&e!==i?(i[oo].modified_&&(P5(t),Ko(4)),Ga(e)&&(e=S4(t,e),t.parent_||C4(t,e)),t.patches_&&Nl("Patches").generateReplacementPatches_(i[oo].base_,e,t.patches_,t.inversePatches_)):e=S4(t,i,[]),P5(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==qv?e:void 0}function S4(e,t,i){if(e0(t))return t;const a=t[oo];if(!a)return Cd(t,(l,p)=>q6(e,a,t,l,p,i)),t;if(a.scope_!==e)return t;if(!a.modified_)return C4(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const l=a.copy_;let p=l,y=!1;a.type_===3&&(p=new Set(l),l.clear(),y=!0),Cd(p,(u,E)=>q6(e,a,l,u,E,i,y)),C4(e,l,!1),i&&e.patches_&&Nl("Patches").generatePatches_(a,i,e.patches_,e.inversePatches_)}return a.copy_}function q6(e,t,i,a,l,p,y){if(Bs(l)){const u=p&&t&&t.type_!==3&&!k5(t.assigned_,a)?p.concat(a):void 0,E=S4(e,l,u);if(Xv(i,a,E),Bs(E))e.canAutoFreeze_=!1;else return}else y&&i.add(l);if(Ga(l)&&!e0(l)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;S4(e,l),(!t||!t.scope_.parent_)&&C4(e,l)}}function C4(e,t,i=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&g2(t,i)}function cE(e,t){const i=Array.isArray(e),a={type_:i?1:0,scope_:t?t.scope_:Jv(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=a,p=y2;i&&(l=[a],p=Ed);const{revoke:y,proxy:u}=Proxy.revocable(l,p);return a.draft_=u,a.revoke_=y,u}var y2={get(e,t){if(t===oo)return e;const i=yl(e);if(!k5(i,t))return dE(e,i,t);const a=i[t];return e.finalized_||!Ga(a)?a:a===o8(e.base_,t)?(a8(e),e.copy_[t]=L5(a,e)):a},has(e,t){return t in yl(e)},ownKeys(e){return Reflect.ownKeys(yl(e))},set(e,t,i){const a=Yv(yl(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,i),!0;if(!e.modified_){const l=o8(yl(e),t),p=l==null?void 0:l[oo];if(p&&p.base_===i)return e.copy_[t]=i,e.assigned_[t]=!1,!0;if(oE(i,l)&&(i!==void 0||k5(e.base_,t)))return!0;a8(e),I5(e)}return e.copy_[t]===i&&(i!==void 0||t in e.copy_)||Number.isNaN(i)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=i,e.assigned_[t]=!0),!0},deleteProperty(e,t){return o8(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,a8(e),I5(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const i=yl(e),a=Reflect.getOwnPropertyDescriptor(i,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:i[t]}},defineProperty(){Ko(11)},getPrototypeOf(e){return du(e.base_)},setPrototypeOf(){Ko(12)}},Ed={};Cd(y2,(e,t)=>{Ed[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ed.deleteProperty=function(e,t){return Ed.set.call(this,e,t,void 0)};Ed.set=function(e,t,i){return y2.set.call(this,e[0],t,i,e[0])};function o8(e,t){const i=e[oo];return(i?yl(i):e)[t]}function dE(e,t,i){var l;const a=Yv(t,i);return a?"value"in a?a.value:(l=a.get)==null?void 0:l.call(e.draft_):void 0}function Yv(e,t){if(!(t in e))return;let i=du(e);for(;i;){const a=Object.getOwnPropertyDescriptor(i,t);if(a)return a;i=du(i)}}function I5(e){e.modified_||(e.modified_=!0,e.parent_&&I5(e.parent_))}function a8(e){e.copy_||(e.copy_=A5(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hE=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,i,a)=>{if(typeof t=="function"&&typeof i!="function"){const p=i;i=t;const y=this;return function(E=p,...C){return y.produce(E,P=>i.call(this,P,...C))}}typeof i!="function"&&Ko(6),a!==void 0&&typeof a!="function"&&Ko(7);let l;if(Ga(t)){const p=Z6(this),y=L5(t,void 0);let u=!0;try{l=i(y),u=!1}finally{u?P5(p):T5(p)}return H6(p,a),G6(l,p)}else if(!t||typeof t!="object"){if(l=i(t),l===void 0&&(l=t),l===qv&&(l=void 0),this.autoFreeze_&&g2(l,!0),a){const p=[],y=[];Nl("Patches").generateReplacementPatches_(t,l,p,y),a(p,y)}return l}else Ko(1,t)},this.produceWithPatches=(t,i)=>{if(typeof t=="function")return(y,...u)=>this.produceWithPatches(y,E=>t(E,...u));let a,l;return[this.produce(t,i,(y,u)=>{a=y,l=u}),a,l]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ga(e)||Ko(8),Bs(e)&&(e=Qv(e));const t=Z6(this),i=L5(e,void 0);return i[oo].isManual_=!0,T5(t),i}finishDraft(e,t){const i=e&&e[oo];(!i||!i.isManual_)&&Ko(9);const{scope_:a}=i;return H6(a,t),G6(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let i;for(i=t.length-1;i>=0;i--){const l=t[i];if(l.path.length===0&&l.op==="replace"){e=l.value;break}}i>-1&&(t=t.slice(i+1));const a=Nl("Patches").applyPatches_;return Bs(e)?a(e,t):this.produce(e,l=>a(l,t))}};function L5(e,t){const i=Y4(e)?Nl("MapSet").proxyMap_(e,t):Q4(e)?Nl("MapSet").proxySet_(e,t):cE(e,t);return(t?t.scope_:Jv()).drafts_.push(i),i}function Qv(e){return Bs(e)||Ko(10,e),e_(e)}function e_(e){if(!Ga(e)||e0(e))return e;const t=e[oo];let i;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,i=A5(e,t.scope_.immer_.useStrictShallowCopy_)}else i=A5(e,!0);return Cd(i,(a,l)=>{Xv(i,a,e_(l))}),t&&(t.finalized_=!1),i}var ao=new hE,t_=ao.produce;ao.produceWithPatches.bind(ao);ao.setAutoFreeze.bind(ao);ao.setUseStrictShallowCopy.bind(ao);ao.applyPatches.bind(ao);ao.createDraft.bind(ao);ao.finishDraft.bind(ao);function pE(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function fE(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function mE(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(i=>typeof i=="function")){const i=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${i}]`)}}var K6=e=>Array.isArray(e)?e:[e];function gE(e){const t=Array.isArray(e[0])?e[0]:e;return mE(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function yE(e,t){const i=[],{length:a}=e;for(let l=0;l<a;l++)i.push(e[l].apply(null,t));return i}var vE=class{constructor(e){this.value=e}deref(){return this.value}},_E=typeof WeakRef<"u"?WeakRef:vE,xE=0,X6=1;function gp(){return{s:xE,v:void 0,o:null,p:null}}function v2(e,t={}){let i=gp();const{resultEqualityCheck:a}=t;let l,p=0;function y(){var F;let u=i;const{length:E}=arguments;for(let z=0,X=E;z<X;z++){const K=arguments[z];if(typeof K=="function"||typeof K=="object"&&K!==null){let G=u.o;G===null&&(u.o=G=new WeakMap);const ee=G.get(K);ee===void 0?(u=gp(),G.set(K,u)):u=ee}else{let G=u.p;G===null&&(u.p=G=new Map);const ee=G.get(K);ee===void 0?(u=gp(),G.set(K,u)):u=ee}}const C=u;let P;if(u.s===X6?P=u.v:(P=e.apply(null,arguments),p++),C.s=X6,a){const z=((F=l==null?void 0:l.deref)==null?void 0:F.call(l))??l;z!=null&&a(z,P)&&(P=z,p!==0&&p--),l=typeof P=="object"&&P!==null||typeof P=="function"?new _E(P):P}return C.v=P,P}return y.clearCache=()=>{i=gp(),y.resetResultsCount()},y.resultsCount=()=>p,y.resetResultsCount=()=>{p=0},y}function n_(e,...t){const i=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...l)=>{let p=0,y=0,u,E={},C=l.pop();typeof C=="object"&&(E=C,C=l.pop()),pE(C,`createSelector expects an output function after the inputs, but received: [${typeof C}]`);const P={...i,...E},{memoize:F,memoizeOptions:z=[],argsMemoize:X=v2,argsMemoizeOptions:K=[],devModeChecks:G={}}=P,ee=K6(z),O=K6(K),B=gE(l),W=F(function(){return p++,C.apply(null,arguments)},...ee),ne=X(function(){y++;const he=yE(B,arguments);return u=W.apply(null,he),u},...O);return Object.assign(ne,{resultFunc:C,memoizedResultFunc:W,dependencies:B,dependencyRecomputations:()=>y,resetDependencyRecomputations:()=>{y=0},lastResult:()=>u,recomputations:()=>p,resetRecomputations:()=>{p=0},memoize:F,argsMemoize:X})};return Object.assign(a,{withTypes:()=>a}),a}var t0=n_(v2),bE=Object.assign((e,t=t0)=>{fE(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const i=Object.keys(e),a=i.map(p=>e[p]);return t(a,(...p)=>p.reduce((y,u,E)=>(y[i[E]]=u,y),{}))},{withTypes:()=>bE});function r_(e){return({dispatch:i,getState:a})=>l=>p=>typeof p=="function"?p(i,a,e):l(p)}var wE=r_(),SE=r_,CE=(...e)=>{const t=n_(...e);return(...i)=>{const a=t(...i),l=(p,...y)=>a(Bs(p)?Qv(p):p,...y);return Object.assign(l,a),l}};CE(v2);var ME=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?w4:w4.apply(null,arguments)};function $s(e,t){function i(...a){if(t){let l=t(...a);if(!l)throw new Error(Yo(0));return{type:e,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:e,payload:a[0]}}return i.toString=()=>`${e}`,i.type=e,i.match=a=>rE(a)&&a.type===e,i}var i_=class Zc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Zc.prototype)}static get[Symbol.species](){return Zc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Zc(...t[0].concat(this)):new Zc(...t.concat(this))}};function J6(e){return Ga(e)?t_(e,()=>{}):e}function Y6(e,t,i){if(e.has(t)){let l=e.get(t);return i.update&&(l=i.update(l,t,e),e.set(t,l)),l}if(!i.insert)throw new Error(Yo(10));const a=i.insert(t,e);return e.set(t,a),a}function EE(e){return typeof e=="boolean"}var kE=()=>function(t){const{thunk:i=!0,immutableCheck:a=!0,serializableCheck:l=!0,actionCreatorCheck:p=!0}=t??{};let y=new i_;return i&&(EE(i)?y.push(wE):y.push(SE(i.extraArgument))),y},AE="RTK_autoBatch",o_=e=>t=>{setTimeout(t,e)},PE=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:o_(10),TE=(e={type:"raf"})=>t=>(...i)=>{const a=t(...i);let l=!0,p=!1,y=!1;const u=new Set,E=e.type==="tick"?queueMicrotask:e.type==="raf"?PE:e.type==="callback"?e.queueNotification:o_(e.timeout),C=()=>{y=!1,p&&(p=!1,u.forEach(P=>P()))};return Object.assign({},a,{subscribe(P){const F=()=>l&&P(),z=a.subscribe(F);return u.add(P),()=>{z(),u.delete(P)}},dispatch(P){var F;try{return l=!((F=P==null?void 0:P.meta)!=null&&F[AE]),p=!l,p&&(y||(y=!0,E(C))),a.dispatch(P)}finally{l=!0}}})},IE=e=>function(i){const{autoBatch:a=!0}=i??{};let l=new i_(e);return a&&l.push(TE(typeof a=="object"?a:void 0)),l},LE=!0;function DE(e){const t=kE(),{reducer:i=void 0,middleware:a,devTools:l=!0,preloadedState:p=void 0,enhancers:y=void 0}=e||{};let u;if(typeof i=="function")u=i;else if(m2(i))u=Gv(i);else throw new Error(Yo(1));let E;typeof a=="function"?E=a(t):E=t();let C=w4;l&&(C=ME({trace:!LE,...typeof l=="object"&&l}));const P=nE(...E),F=IE(P);let z=typeof y=="function"?y(F):F();const X=C(...z);return Zv(u,p,X)}function a_(e){const t={},i=[];let a;const l={addCase(p,y){const u=typeof p=="string"?p:p.type;if(!u)throw new Error(Yo(28));if(u in t)throw new Error(Yo(29));return t[u]=y,l},addMatcher(p,y){return i.push({matcher:p,reducer:y}),l},addDefaultCase(p){return a=p,l}};return e(l),[t,i,a]}function RE(e){return typeof e=="function"}function zE(e,t){let[i,a,l]=a_(t),p;if(RE(e))p=()=>J6(e());else{const u=J6(e);p=()=>u}function y(u=p(),E){let C=[i[E.type],...a.filter(({matcher:P})=>P(E)).map(({reducer:P})=>P)];return C.filter(P=>!!P).length===0&&(C=[l]),C.reduce((P,F)=>{if(F)if(Bs(P)){const X=F(P,E);return X===void 0?P:X}else{if(Ga(P))return t_(P,z=>F(z,E));{const z=F(P,E);if(z===void 0){if(P===null)return P;throw new Error(Yo(9))}return z}}return P},u)}return y.getInitialState=p,y}var FE=Symbol.for("rtk-slice-createasyncthunk");function NE(e,t){return`${e}/${t}`}function OE({creators:e}={}){var i;const t=(i=e==null?void 0:e.asyncThunk)==null?void 0:i[FE];return function(l){const{name:p,reducerPath:y=p}=l;if(!p)throw new Error(Yo(11));typeof process<"u";const u=(typeof l.reducers=="function"?l.reducers(jE()):l.reducers)||{},E=Object.keys(u),C={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},P={addCase(ee,O){const B=typeof ee=="string"?ee:ee.type;if(!B)throw new Error(Yo(12));if(B in C.sliceCaseReducersByType)throw new Error(Yo(13));return C.sliceCaseReducersByType[B]=O,P},addMatcher(ee,O){return C.sliceMatchers.push({matcher:ee,reducer:O}),P},exposeAction(ee,O){return C.actionCreators[ee]=O,P},exposeCaseReducer(ee,O){return C.sliceCaseReducersByName[ee]=O,P}};E.forEach(ee=>{const O=u[ee],B={reducerName:ee,type:NE(p,ee),createNotation:typeof l.reducers=="function"};WE(O)?HE(B,O,P,t):VE(B,O,P)});function F(){const[ee={},O=[],B=void 0]=typeof l.extraReducers=="function"?a_(l.extraReducers):[l.extraReducers],W={...ee,...C.sliceCaseReducersByType};return zE(l.initialState,ne=>{for(let pe in W)ne.addCase(pe,W[pe]);for(let pe of C.sliceMatchers)ne.addMatcher(pe.matcher,pe.reducer);for(let pe of O)ne.addMatcher(pe.matcher,pe.reducer);B&&ne.addDefaultCase(B)})}const z=ee=>ee,X=new WeakMap;let K;const G={name:p,reducerPath:y,reducer(ee,O){return K||(K=F()),K(ee,O)},actions:C.actionCreators,caseReducers:C.sliceCaseReducersByName,getInitialState(){return K||(K=F()),K.getInitialState()},getSelectors(ee=z){const O=Y6(X,this,{insert:()=>new WeakMap});return Y6(O,ee,{insert:()=>{const B={};for(const[W,ne]of Object.entries(l.selectors??{}))B[W]=BE(this,ne,ee,this!==G);return B}})},selectSlice(ee){let O=ee[this.reducerPath];return typeof O>"u"&&this!==G&&(O=this.getInitialState()),O},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(ee,{reducerPath:O,...B}={}){const W=O??this.reducerPath;return ee.inject({reducerPath:W,reducer:this.reducer},B),{...this,reducerPath:W}}};return G}}function BE(e,t,i,a){function l(p,...y){let u=i.call(e,p);return typeof u>"u"&&a&&(u=e.getInitialState()),t(u,...y)}return l.unwrapped=t,l}var $E=OE();function jE(){function e(t,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...i}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...i){return t(...i)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:i}},asyncThunk:e}}function VE({type:e,reducerName:t,createNotation:i},a,l){let p,y;if("reducer"in a){if(i&&!UE(a))throw new Error(Yo(17));p=a.reducer,y=a.prepare}else p=a;l.addCase(e,p).exposeCaseReducer(t,p).exposeAction(t,y?$s(e,y):$s(e))}function WE(e){return e._reducerDefinitionType==="asyncThunk"}function UE(e){return e._reducerDefinitionType==="reducerWithPrepare"}function HE({type:e,reducerName:t},i,a,l){if(!l)throw new Error(Yo(18));const{payloadCreator:p,fulfilled:y,pending:u,rejected:E,settled:C,options:P}=i,F=l(e,p,P);a.exposeAction(t,F),y&&a.addCase(F.fulfilled,y),u&&a.addCase(F.pending,u),E&&a.addCase(F.rejected,E),C&&a.addMatcher(F.settled,C),a.exposeCaseReducer(t,{fulfilled:y||yp,pending:u||yp,rejected:E||yp,settled:C||yp})}function yp(){}var _2="listenerMiddleware";$s(`${_2}/add`);$s(`${_2}/removeAll`);$s(`${_2}/remove`);function Yo(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const x2=e=>e.appState,ZE=t0(x2,e=>e.selectedFeature),GE=t0(x2,e=>e.showInfo),qE=t0(x2,e=>e.selectedLayer),s8={"Previous Name":"Previous Name",Address:"Address","Completion year/Opening year":"Completion year/Opening year","Renoviert/New use/Expansion":"Renoviert/New use/Expansion",Description:"Description","Owner/Initiator/Commisioned by":"Owner/Initiator/Commisioned by","Architect/Artist/Author":"Architect(s)",Website:"Website","Wikipedia page":"Wikipedia","Muenchen.de":"Muenchen.de"},KE=e=>{var t=e.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g);return t!==null},XE=(e=!1)=>{const[t,i]=Z.useState(e),a=Z.useCallback(()=>i(l=>!l),[]);return[t,a]},JE=()=>{const e=E5(ZE),t=E5(GE);if(!(!e||!t))return ht.jsxs("div",{className:fl.panel,children:[ht.jsxs("div",{children:[ht.jsx("span",{className:fl.title,children:`${e["Current Name (DE)"]} `}),ht.jsxs("span",{className:fl.subtitle,children:["(",`${e["Current Name (Eng)"]} `,")"]})]}),Object.keys(s8).map(i=>ht.jsx(ht.Fragment,{children:e[i]&&ht.jsx("div",{className:fl.block,children:KE(e[i])?ht.jsx("a",{href:e[i],target:"_blank",rel:"noopener noreferrer",className:fl.key,children:s8[i]}):ht.jsxs(ht.Fragment,{children:[ht.jsx("span",{className:fl.value,children:s8[i]}),ht.jsx("span",{className:fl.key,children:e[i]})]})})}))]})},YE="modulepreload",QE=function(e){return"/heritage-maps/"+e},Q6={},ek=function(t,i,a){if(!i||i.length===0)return t();const l=document.getElementsByTagName("link");return Promise.all(i.map(p=>{if(p=QE(p),p in Q6)return;Q6[p]=!0;const y=p.endsWith(".css"),u=y?'[rel="stylesheet"]':"";if(!!a)for(let P=l.length-1;P>=0;P--){const F=l[P];if(F.href===p&&(!y||F.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${u}`))return;const C=document.createElement("link");if(C.rel=y?"stylesheet":YE,y||(C.as="script",C.crossOrigin=""),C.href=p,document.head.appendChild(C),y)return new Promise((P,F)=>{C.addEventListener("load",P),C.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${p}`)))})})).then(()=>t()).catch(p=>{const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=p,window.dispatchEvent(y),!y.defaultPrevented)throw p})},tk=Z.createContext(null);function nk(e,t){const i=Array.isArray(e)?e[0]:e?e.x:0,a=Array.isArray(e)?e[1]:e?e.y:0,l=Array.isArray(t)?t[0]:t?t.x:0,p=Array.isArray(t)?t[1]:t?t.y:0;return i===l&&a===p}function Ji(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!Ji(e[i],t[i]))return!1;return!0}else if(Array.isArray(t))return!1;if(typeof e=="object"&&typeof t=="object"){const i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(const l of i)if(!t.hasOwnProperty(l)||!Ji(e[l],t[l]))return!1;return!0}return!1}function rk(e){const t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}function e7(e,t){if(!e.getProjection)return;const i=e.getProjection(),a=t.getProjection();Ji(i,a)||t.setProjection(i)}function t7(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function n7(e,t){const i=t.viewState||t;let a=!1;if("longitude"in i&&"latitude"in i){const l=e.center;e.center=new l.constructor(i.longitude,i.latitude),a=a||l!==e.center}if("zoom"in i){const l=e.zoom;e.zoom=i.zoom,a=a||l!==e.zoom}if("bearing"in i){const l=e.bearing;e.bearing=i.bearing,a=a||l!==e.bearing}if("pitch"in i){const l=e.pitch;e.pitch=i.pitch,a=a||l!==e.pitch}return i.padding&&!e.isPaddingEqual(i.padding)&&(a=!0,e.padding=i.padding),a}const ik=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function r7(e){if(!e)return null;if(typeof e=="string"||("toJS"in e&&(e=e.toJS()),!e.layers))return e;const t={};for(const a of e.layers)t[a.id]=a;const i=e.layers.map(a=>{let l=null;"interactive"in a&&(l=Object.assign({},a),delete l.interactive);const p=t[a.ref];if(p){l=l||Object.assign({},a),delete l.ref;for(const y of ik)y in p&&(l[y]=p[y])}return l||a});return{...e,layers:i}}var i7={};const o7={version:8,sources:{},layers:[]},a7={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},l8={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},s7={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},ok=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],ak=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class hu{constructor(t,i,a){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=l=>{const p=this.props[s7[l.type]];p?p(l):l.type==="error"&&console.error(l.error)},this._onPointerEvent=l=>{(l.type==="mousemove"||l.type==="mouseout")&&this._updateHover(l);const p=this.props[a7[l.type]];p&&(this.props.interactiveLayerIds&&l.type!=="mouseover"&&l.type!=="mouseout"&&(l.features=this._hoveredFeatures||this._queryRenderedFeatures(l.point)),p(l),delete l.features)},this._onCameraEvent=l=>{if(!this._internalUpdate){const p=this.props[l8[l.type]];p&&p(l)}l.type in this._deferredEvents&&(this._deferredEvents[l.type]=!1)},this._MapClass=t,this.props=i,this._initialize(a)}get map(){return this._map}get transform(){return this._renderTransform}setProps(t){const i=this.props;this.props=t;const a=this._updateSettings(t,i);a&&this._createShadowTransform(this._map);const l=this._updateSize(t),p=this._updateViewState(t,!0);this._updateStyle(t,i),this._updateStyleComponents(t,i),this._updateHandlers(t,i),(a||l||p&&!this._map.isMoving())&&this.redraw()}static reuse(t,i){const a=hu.savedMaps.pop();if(!a)return null;const l=a.map,p=l.getContainer();for(i.className=p.className;p.childNodes.length>0;)i.appendChild(p.childNodes[0]);l._container=i;const y=l._resizeObserver;y&&(y.disconnect(),y.observe(i)),a.setProps({...t,styleDiffing:!1}),l.resize();const{initialViewState:u}=t;return u&&(u.bounds?l.fitBounds(u.bounds,{...u.fitBoundsOptions,duration:0}):a._updateViewState(u,!1)),l.isStyleLoaded()?l.fire("load"):l.once("styledata",()=>l.fire("load")),l._update(),a}_initialize(t){const{props:i}=this,{mapStyle:a=o7}=i,l={...i,...i.initialViewState,accessToken:i.mapboxAccessToken||sk()||null,container:t,style:r7(a)},p=l.initialViewState||l.viewState||l;if(Object.assign(l,{center:[p.longitude||0,p.latitude||0],zoom:p.zoom||0,pitch:p.pitch||0,bearing:p.bearing||0}),i.gl){const P=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=P,i.gl)}const y=new this._MapClass(l);p.padding&&y.setPadding(p.padding),i.cursor&&(y.getCanvas().style.cursor=i.cursor),this._createShadowTransform(y);const u=y._render;y._render=P=>{this._inRender=!0,u.call(y,P),this._inRender=!1};const E=y._renderTaskQueue.run;y._renderTaskQueue.run=P=>{E.call(y._renderTaskQueue,P),this._onBeforeRepaint()},y.on("render",()=>this._onAfterRepaint());const C=y.fire;y.fire=this._fireEvent.bind(this,C),y.on("resize",()=>{this._renderTransform.resize(y.transform.width,y.transform.height)}),y.on("styledata",()=>{this._updateStyleComponents(this.props,{}),e7(y.transform,this._renderTransform)}),y.on("sourcedata",()=>this._updateStyleComponents(this.props,{}));for(const P in a7)y.on(P,this._onPointerEvent);for(const P in l8)y.on(P,this._onCameraEvent);for(const P in s7)y.on(P,this._onEvent);this._map=y}recycle(){const i=this.map.getContainer().querySelector("[mapboxgl-children]");i==null||i.remove(),hu.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const t=this._map;!this._inRender&&t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}_createShadowTransform(t){const i=rk(t.transform);t.painter.transform=i,this._renderTransform=i}_updateSize(t){const{viewState:i}=t;if(i){const a=this._map;if(i.width!==a.transform.width||i.height!==a.transform.height)return a.resize(),!0}return!1}_updateViewState(t,i){if(this._internalUpdate)return!1;const a=this._map,l=this._renderTransform,{zoom:p,pitch:y,bearing:u}=l,E=a.isMoving();E&&(l.cameraElevationReference="sea");const C=n7(l,{...t7(a.transform),...t});if(E&&(l.cameraElevationReference="ground"),C&&i){const P=this._deferredEvents;P.move=!0,P.zoom||(P.zoom=p!==l.zoom),P.rotate||(P.rotate=u!==l.bearing),P.pitch||(P.pitch=y!==l.pitch)}return E||n7(a.transform,t),C}_updateSettings(t,i){const a=this._map;let l=!1;for(const p of ok)if(p in t&&!Ji(t[p],i[p])){l=!0;const y=a[`set${p[0].toUpperCase()}${p.slice(1)}`];y==null||y.call(a,t[p])}return l}_updateStyle(t,i){if(t.cursor!==i.cursor&&(this._map.getCanvas().style.cursor=t.cursor||""),t.mapStyle!==i.mapStyle){const{mapStyle:a=o7,styleDiffing:l=!0}=t,p={diff:l};return"localIdeographFontFamily"in t&&(p.localIdeographFontFamily=t.localIdeographFontFamily),this._map.setStyle(r7(a),p),!0}return!1}_updateStyleComponents(t,i){const a=this._map;let l=!1;return a.isStyleLoaded()&&("light"in t&&a.setLight&&!Ji(t.light,i.light)&&(l=!0,a.setLight(t.light)),"fog"in t&&a.setFog&&!Ji(t.fog,i.fog)&&(l=!0,a.setFog(t.fog)),"terrain"in t&&a.setTerrain&&!Ji(t.terrain,i.terrain)&&(!t.terrain||a.getSource(t.terrain.source))&&(l=!0,a.setTerrain(t.terrain))),l}_updateHandlers(t,i){var a,l;const p=this._map;let y=!1;for(const u of ak){const E=(a=t[u])!==null&&a!==void 0?a:!0,C=(l=i[u])!==null&&l!==void 0?l:!0;Ji(E,C)||(y=!0,E?p[u].enable(E):p[u].disable())}return y}_queryRenderedFeatures(t){const i=this._map,a=i.transform,{interactiveLayerIds:l=[]}=this.props;try{return i.transform=this._renderTransform,i.queryRenderedFeatures(t,{layers:l.filter(i.getLayer.bind(i))})}catch{return[]}finally{i.transform=a}}_updateHover(t){var i;const{props:a}=this;if(a.interactiveLayerIds&&(a.onMouseMove||a.onMouseEnter||a.onMouseLeave)){const p=t.type,y=((i=this._hoveredFeatures)===null||i===void 0?void 0:i.length)>0,u=this._queryRenderedFeatures(t.point),E=u.length>0;!E&&y&&(t.type="mouseleave",this._onPointerEvent(t)),this._hoveredFeatures=u,E&&!y&&(t.type="mouseenter",this._onPointerEvent(t)),t.type=p}else this._hoveredFeatures=null}_fireEvent(t,i,a){const l=this._map,p=l.transform,y=typeof i=="string"?i:i.type;return y==="move"&&this._updateViewState(this.props,!1),y in l8&&(typeof i=="object"&&(i.viewState=t7(p)),this._map.isMoving())?(l.transform=this._renderTransform,t.call(l,i,a),l.transform=p,l):(t.call(l,i,a),l)}_onBeforeRepaint(){const t=this._map;this._internalUpdate=!0;for(const a in this._deferredEvents)this._deferredEvents[a]&&t.fire(a);this._internalUpdate=!1;const i=this._map.transform;t.transform=this._renderTransform,this._onAfterRepaint=()=>{e7(this._renderTransform,i),t.transform=i}}}hu.savedMaps=[];function sk(){let e=null;if(typeof location<"u"){const t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||i7.MapboxAccessToken}catch{}try{e=e||i7.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return e}const lk=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function uk(e){if(!e)return null;const t=e.map,i={getMap:()=>t,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:a=>{const l=t.transform;t.transform=e.transform;const p=t.project(a);return t.transform=l,p},unproject:a=>{const l=t.transform;t.transform=e.transform;const p=t.unproject(a);return t.transform=l,p},queryTerrainElevation:(a,l)=>{const p=t.transform;t.transform=e.transform;const y=t.queryTerrainElevation(a,l);return t.transform=p,y},queryRenderedFeatures:(a,l)=>{const p=t.transform;t.transform=e.transform;const y=t.queryRenderedFeatures(a,l);return t.transform=p,y}};for(const a of ck(t))!(a in i)&&!lk.includes(a)&&(i[a]=t[a].bind(t));return i}function ck(e){const t=new Set;let i=e;for(;i;){for(const a of Object.getOwnPropertyNames(i))a[0]!=="_"&&typeof e[a]=="function"&&a!=="fire"&&a!=="setEventedParent"&&t.add(a);i=Object.getPrototypeOf(i)}return Array.from(t)}const dk=typeof document<"u"?Z.useLayoutEffect:Z.useEffect,hk=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];function pk(e,t){for(const a of hk)a in t&&(e[a]=t[a]);const{RTLTextPlugin:i="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=t;i&&e.getRTLTextPluginStatus&&e.getRTLTextPluginStatus()==="unavailable"&&e.setRTLTextPlugin(i,a=>{a&&console.error(a)},!1)}const bu=Z.createContext(null);function fk(e,t,i){const a=Z.useContext(tk),[l,p]=Z.useState(null),y=Z.useRef(),{current:u}=Z.useRef({mapLib:null,map:null});Z.useEffect(()=>{const P=e.mapLib;let F=!0,z;return Promise.resolve(P||i).then(X=>{if(!F)return;if(!X)throw new Error("Invalid mapLib");const K="Map"in X?X:X.default;if(!K.Map)throw new Error("Invalid mapLib");if(pk(K,e),!K.supported||K.supported(e))e.reuseMaps&&(z=hu.reuse(e,y.current)),z||(z=new hu(K.Map,e,y.current)),u.map=uk(z),u.mapLib=K,p(z),a==null||a.onMapMount(u.map,e.id);else throw new Error("Map is not supported by this browser")}).catch(X=>{const{onError:K}=e;K?K({type:"error",target:null,originalEvent:null,error:X}):console.error(X)}),()=>{F=!1,z&&(a==null||a.onMapUnmount(e.id),e.reuseMaps?z.recycle():z.destroy())}},[]),dk(()=>{l&&l.setProps(e)}),Z.useImperativeHandle(t,()=>u.map,[l]);const E=Z.useMemo(()=>({position:"relative",width:"100%",height:"100%",...e.style}),[e.style]),C={height:"100%"};return Z.createElement("div",{id:e.id,ref:y,style:E},l&&Z.createElement(bu.Provider,{value:u},Z.createElement("div",{"mapboxgl-children":"",style:C},e.children)))}const mk=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function Vl(e,t){if(!e||!t)return;const i=e.style;for(const a in t){const l=t[a];Number.isFinite(l)&&!mk.test(a)?i[a]=`${l}px`:i[a]=l}}function gk(e,t){const{map:i,mapLib:a}=Z.useContext(bu),l=Z.useRef({props:e});l.current.props=e;const p=Z.useMemo(()=>{let G=!1;Z.Children.forEach(e.children,B=>{B&&(G=!0)});const ee={...e,element:G?document.createElement("div"):null},O=new a.Marker(ee);return O.setLngLat([e.longitude,e.latitude]),O.getElement().addEventListener("click",B=>{var W,ne;(ne=(W=l.current.props).onClick)===null||ne===void 0||ne.call(W,{type:"click",target:O,originalEvent:B})}),O.on("dragstart",B=>{var W,ne;const pe=B;pe.lngLat=p.getLngLat(),(ne=(W=l.current.props).onDragStart)===null||ne===void 0||ne.call(W,pe)}),O.on("drag",B=>{var W,ne;const pe=B;pe.lngLat=p.getLngLat(),(ne=(W=l.current.props).onDrag)===null||ne===void 0||ne.call(W,pe)}),O.on("dragend",B=>{var W,ne;const pe=B;pe.lngLat=p.getLngLat(),(ne=(W=l.current.props).onDragEnd)===null||ne===void 0||ne.call(W,pe)}),O},[]);Z.useEffect(()=>(p.addTo(i.getMap()),()=>{p.remove()}),[]);const{longitude:y,latitude:u,offset:E,style:C,draggable:P=!1,popup:F=null,rotation:z=0,rotationAlignment:X="auto",pitchAlignment:K="auto"}=e;return Z.useEffect(()=>{Vl(p.getElement(),C)},[C]),Z.useImperativeHandle(t,()=>p,[]),(p.getLngLat().lng!==y||p.getLngLat().lat!==u)&&p.setLngLat([y,u]),E&&!nk(p.getOffset(),E)&&p.setOffset(E),p.isDraggable()!==P&&p.setDraggable(P),p.getRotation()!==z&&p.setRotation(z),p.getRotationAlignment()!==X&&p.setRotationAlignment(X),p.getPitchAlignment()!==K&&p.setPitchAlignment(K),p.getPopup()!==F&&p.setPopup(F),xu.createPortal(e.children,p.getElement())}Z.memo(Z.forwardRef(gk));function l7(e){return new Set(e?e.trim().split(/\s+/):[])}function yk(e,t){const{map:i,mapLib:a}=Z.useContext(bu),l=Z.useMemo(()=>document.createElement("div"),[]),p=Z.useRef({props:e});p.current.props=e;const y=Z.useMemo(()=>{const u={...e},E=new a.Popup(u);return E.setLngLat([e.longitude,e.latitude]),E.once("open",C=>{var P,F;(F=(P=p.current.props).onOpen)===null||F===void 0||F.call(P,C)}),E},[]);if(Z.useEffect(()=>{const u=E=>{var C,P;(P=(C=p.current.props).onClose)===null||P===void 0||P.call(C,E)};return y.on("close",u),y.setDOMContent(l).addTo(i.getMap()),()=>{y.off("close",u),y.isOpen()&&y.remove()}},[]),Z.useEffect(()=>{Vl(y.getElement(),e.style)},[e.style]),Z.useImperativeHandle(t,()=>y,[]),y.isOpen()&&((y.getLngLat().lng!==e.longitude||y.getLngLat().lat!==e.latitude)&&y.setLngLat([e.longitude,e.latitude]),e.offset&&!Ji(y.options.offset,e.offset)&&y.setOffset(e.offset),(y.options.anchor!==e.anchor||y.options.maxWidth!==e.maxWidth)&&(y.options.anchor=e.anchor,y.setMaxWidth(e.maxWidth)),y.options.className!==e.className)){const u=l7(y.options.className),E=l7(e.className);for(const C of u)E.has(C)||y.removeClassName(C);for(const C of E)u.has(C)||y.addClassName(C);y.options.className=e.className}return xu.createPortal(e.children,l)}const vk=Z.memo(Z.forwardRef(yk));function $d(e,t,i,a){const l=Z.useContext(bu),p=Z.useMemo(()=>e(l),[]);return Z.useEffect(()=>{const y=a||i||t,u=typeof t=="function"&&typeof i=="function"?t:null,E=typeof i=="function"?i:typeof t=="function"?t:null,{map:C}=l;return C.hasControl(p)||(C.addControl(p,y==null?void 0:y.position),u&&u(l)),()=>{E&&E(l),C.hasControl(p)&&C.removeControl(p)}},[]),p}function _k(e){const t=$d(({mapLib:i})=>new i.AttributionControl(e),{position:e.position});return Z.useEffect(()=>{Vl(t._container,e.style)},[e.style]),null}Z.memo(_k);function xk(e){const t=$d(({mapLib:i})=>new i.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return Z.useEffect(()=>{Vl(t._controlContainer,e.style)},[e.style]),null}Z.memo(xk);function bk(e,t){const i=Z.useRef({props:e}),a=$d(({mapLib:l})=>{const p=new l.GeolocateControl(e),y=p._setupUI;return p._setupUI=u=>{p._container.hasChildNodes()||y(u)},p.on("geolocate",u=>{var E,C;(C=(E=i.current.props).onGeolocate)===null||C===void 0||C.call(E,u)}),p.on("error",u=>{var E,C;(C=(E=i.current.props).onError)===null||C===void 0||C.call(E,u)}),p.on("outofmaxbounds",u=>{var E,C;(C=(E=i.current.props).onOutOfMaxBounds)===null||C===void 0||C.call(E,u)}),p.on("trackuserlocationstart",u=>{var E,C;(C=(E=i.current.props).onTrackUserLocationStart)===null||C===void 0||C.call(E,u)}),p.on("trackuserlocationend",u=>{var E,C;(C=(E=i.current.props).onTrackUserLocationEnd)===null||C===void 0||C.call(E,u)}),p},{position:e.position});return i.current.props=e,Z.useImperativeHandle(t,()=>a,[]),Z.useEffect(()=>{Vl(a._container,e.style)},[e.style]),null}Z.memo(Z.forwardRef(bk));function wk(e){const t=$d(({mapLib:i})=>new i.NavigationControl(e),{position:e.position});return Z.useEffect(()=>{Vl(t._container,e.style)},[e.style]),null}Z.memo(wk);function Sk(e){const t=$d(({mapLib:p})=>new p.ScaleControl(e),{position:e.position}),i=Z.useRef(e),a=i.current;i.current=e;const{style:l}=e;return e.maxWidth!==void 0&&e.maxWidth!==a.maxWidth&&(t.options.maxWidth=e.maxWidth),e.unit!==void 0&&e.unit!==a.unit&&t.setUnit(e.unit),Z.useEffect(()=>{Vl(t._container,l)},[l]),null}const Ck=Z.memo(Sk);function M4(e,t){if(!e)throw new Error(t)}function Mk(e,t,i,a){if(M4(i.id===a.id,"layer id changed"),M4(i.type===a.type,"layer type changed"),i.type==="custom"||a.type==="custom")return;const{layout:l={},paint:p={},filter:y,minzoom:u,maxzoom:E,beforeId:C}=i;if(C!==a.beforeId&&e.moveLayer(t,C),l!==a.layout){const P=a.layout||{};for(const F in l)Ji(l[F],P[F])||e.setLayoutProperty(t,F,l[F]);for(const F in P)l.hasOwnProperty(F)||e.setLayoutProperty(t,F,void 0)}if(p!==a.paint){const P=a.paint||{};for(const F in p)Ji(p[F],P[F])||e.setPaintProperty(t,F,p[F]);for(const F in P)p.hasOwnProperty(F)||e.setPaintProperty(t,F,void 0)}Ji(y,a.filter)||e.setFilter(t,y),(u!==a.minzoom||E!==a.maxzoom)&&e.setLayerZoomRange(t,u,E)}function Ek(e,t,i){if(e.style&&e.style._loaded&&(!("source"in i)||e.getSource(i.source))){const a={...i,id:t};delete a.beforeId,e.addLayer(a,i.beforeId)}}let kk=0;function Ak(e){const t=Z.useContext(bu).map.getMap(),i=Z.useRef(e),[,a]=Z.useState(0),l=Z.useMemo(()=>e.id||`jsx-layer-${kk++}`,[]);if(Z.useEffect(()=>{if(t){const y=()=>a(u=>u+1);return t.on("styledata",y),y(),()=>{t.off("styledata",y),t.style&&t.style._loaded&&t.getLayer(l)&&t.removeLayer(l)}}},[t]),t&&t.style&&t.getLayer(l))try{Mk(t,l,e,i.current)}catch(y){console.warn(y)}else Ek(t,l,e);return i.current=e,null}let Pk=0;function Tk(e,t,i){if(e.style&&e.style._loaded){const a={...i};return delete a.id,delete a.children,e.addSource(t,a),e.getSource(t)}return null}function Ik(e,t,i){M4(t.id===i.id,"source id changed"),M4(t.type===i.type,"source type changed");let a="",l=0;for(const y in t)y!=="children"&&y!=="id"&&!Ji(i[y],t[y])&&(a=y,l++);if(!l)return;const p=t.type;if(p==="geojson")e.setData(t.data);else if(p==="image")e.updateImage({url:t.url,coordinates:t.coordinates});else if("setCoordinates"in e&&l===1&&a==="coordinates")e.setCoordinates(t.coordinates);else if("setUrl"in e)switch(a){case"url":e.setUrl(t.url);break;case"tiles":e.setTiles(t.tiles);break}else console.warn(`Unable to update <Source> prop: ${a}`)}function Lk(e){const t=Z.useContext(bu).map.getMap(),i=Z.useRef(e),[,a]=Z.useState(0),l=Z.useMemo(()=>e.id||`jsx-source-${Pk++}`,[]);Z.useEffect(()=>{if(t){const y=()=>setTimeout(()=>a(u=>u+1),0);return t.on("styledata",y),y(),()=>{var u;if(t.off("styledata",y),t.style&&t.style._loaded&&t.getSource(l)){const E=(u=t.getStyle())===null||u===void 0?void 0:u.layers;if(E)for(const C of E)C.source===l&&t.removeLayer(C.id);t.removeSource(l)}}}},[t]);let p=t&&t.style&&t.getSource(l);return p?Ik(p,e,i.current):p=Tk(t,l,e),i.current=e,p&&Z.Children.map(e.children,y=>y&&Z.cloneElement(y,{source:l}))||null}const Dk=ek(()=>import("./mapbox-gl-AifNFsK4.js").then(e=>e.m),__vite__mapDeps([])),Rk=(()=>Z.forwardRef(function(t,i){return fk(t,i,Dk)}))(),zk=vk,Fk=Ck,Oc=Ak,u8=Lk;var s_={exports:{}};(function(e,t){(function(i,a){e.exports=a()})(Yw,function(){var i,a,l;function p(u,E){if(!i)i=E;else if(!a)a=E;else{var C="var sharedChunk = {}; ("+i+")(sharedChunk); ("+a+")(sharedChunk);",P={};i(P),l=E(P),typeof window<"u"&&(l.workerUrl=window.URL.createObjectURL(new Blob([C],{type:"text/javascript"})))}}p(["exports"],function(u){function E(o,n,s,d){return new(s||(s=Promise))(function(f,v){function x(A){try{M(d.next(A))}catch(I){v(I)}}function b(A){try{M(d.throw(A))}catch(I){v(I)}}function M(A){var I;A.done?f(A.value):(I=A.value,I instanceof s?I:new s(function(R){R(I)})).then(x,b)}M((d=d.apply(o,n||[])).next())})}function C(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}typeof SuppressedError=="function"&&SuppressedError;var P=F;function F(o,n){this.x=o,this.y=n}F.prototype={clone:function(){return new F(this.x,this.y)},add:function(o){return this.clone()._add(o)},sub:function(o){return this.clone()._sub(o)},multByPoint:function(o){return this.clone()._multByPoint(o)},divByPoint:function(o){return this.clone()._divByPoint(o)},mult:function(o){return this.clone()._mult(o)},div:function(o){return this.clone()._div(o)},rotate:function(o){return this.clone()._rotate(o)},rotateAround:function(o,n){return this.clone()._rotateAround(o,n)},matMult:function(o){return this.clone()._matMult(o)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(o){return this.x===o.x&&this.y===o.y},dist:function(o){return Math.sqrt(this.distSqr(o))},distSqr:function(o){var n=o.x-this.x,s=o.y-this.y;return n*n+s*s},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(o){return Math.atan2(this.y-o.y,this.x-o.x)},angleWith:function(o){return this.angleWithSep(o.x,o.y)},angleWithSep:function(o,n){return Math.atan2(this.x*n-this.y*o,this.x*o+this.y*n)},_matMult:function(o){var n=o[2]*this.x+o[3]*this.y;return this.x=o[0]*this.x+o[1]*this.y,this.y=n,this},_add:function(o){return this.x+=o.x,this.y+=o.y,this},_sub:function(o){return this.x-=o.x,this.y-=o.y,this},_mult:function(o){return this.x*=o,this.y*=o,this},_div:function(o){return this.x/=o,this.y/=o,this},_multByPoint:function(o){return this.x*=o.x,this.y*=o.y,this},_divByPoint:function(o){return this.x/=o.x,this.y/=o.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var o=this.y;return this.y=this.x,this.x=-o,this},_rotate:function(o){var n=Math.cos(o),s=Math.sin(o),d=s*this.x+n*this.y;return this.x=n*this.x-s*this.y,this.y=d,this},_rotateAround:function(o,n){var s=Math.cos(o),d=Math.sin(o),f=n.y+d*(this.x-n.x)+s*(this.y-n.y);return this.x=n.x+s*(this.x-n.x)-d*(this.y-n.y),this.y=f,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},F.convert=function(o){return o instanceof F?o:Array.isArray(o)?new F(o[0],o[1]):o};var z=C(P),X=K;function K(o,n,s,d){this.cx=3*o,this.bx=3*(s-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*n,this.by=3*(d-n)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=n,this.p2x=s,this.p2y=d}K.prototype={sampleCurveX:function(o){return((this.ax*o+this.bx)*o+this.cx)*o},sampleCurveY:function(o){return((this.ay*o+this.by)*o+this.cy)*o},sampleCurveDerivativeX:function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},solveCurveX:function(o,n){if(n===void 0&&(n=1e-6),o<0)return 0;if(o>1)return 1;for(var s=o,d=0;d<8;d++){var f=this.sampleCurveX(s)-o;if(Math.abs(f)<n)return s;var v=this.sampleCurveDerivativeX(s);if(Math.abs(v)<1e-6)break;s-=f/v}var x=0,b=1;for(s=o,d=0;d<20&&(f=this.sampleCurveX(s),!(Math.abs(f-o)<n));d++)o>f?x=s:b=s,s=.5*(b-x)+x;return s},solve:function(o,n){return this.sampleCurveY(this.solveCurveX(o,n))}};var G=C(X);let ee,O;function B(){return ee==null&&(ee=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),ee}function W(){if(O==null&&(O=!1,B())){const n=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(n){for(let d=0;d<5*5;d++){const f=4*d;n.fillStyle=`rgb(${f},${f+1},${f+2})`,n.fillRect(d%5,Math.floor(d/5),1,1)}const s=n.getImageData(0,0,5,5).data;for(let d=0;d<5*5*4;d++)if(d%4!=3&&s[d]!==d){O=!0;break}}}return O||!1}function ne(o,n,s,d){const f=new G(o,n,s,d);return function(v){return f.solve(v)}}const pe=ne(.25,.1,.25,1);function he(o,n,s){return Math.min(s,Math.max(n,o))}function de(o,n,s){const d=s-n,f=((o-n)%d+d)%d+n;return f===n?s:f}function Se(o,...n){for(const s of n)for(const d in s)o[d]=s[d];return o}let Te=1;function Me(o,n,s){const d={};for(const f in o)d[f]=n.call(s||this,o[f],f,o);return d}function Be(o,n,s){const d={};for(const f in o)n.call(s||this,o[f],f,o)&&(d[f]=o[f]);return d}function He(o){return Array.isArray(o)?o.map(He):typeof o=="object"&&o?Me(o,He):o}const We={};function qe(o){We[o]||(typeof console<"u"&&console.warn(o),We[o]=!0)}function Je(o,n,s){return(s.y-o.y)*(n.x-o.x)>(n.y-o.y)*(s.x-o.x)}function Le(o){let n=0;for(let s,d,f=0,v=o.length,x=v-1;f<v;x=f++)s=o[f],d=o[x],n+=(d.x-s.x)*(s.y+d.y);return n}function Ie(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let we=null;function Re(o){return typeof ImageBitmap<"u"&&o instanceof ImageBitmap}const Ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Ze(o,n,s,d,f){return E(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const v=new VideoFrame(o,{timestamp:0});try{const x=v==null?void 0:v.format;if(!x||!x.startsWith("BGR")&&!x.startsWith("RGB"))throw new Error(`Unrecognized format ${x}`);const b=x.startsWith("BGR"),M=new Uint8ClampedArray(d*f*4);if(yield v.copyTo(M,function(A,I,R,$,U){const H=4*Math.max(-I,0),Y=(Math.max(0,R)-R)*$*4+H,se=4*$,ce=Math.max(0,I),_e=Math.max(0,R);return{rect:{x:ce,y:_e,width:Math.min(A.width,I+$)-ce,height:Math.min(A.height,R+U)-_e},layout:[{offset:Y,stride:se}]}}(o,n,s,d,f)),b)for(let A=0;A<M.length;A+=4){const I=M[A];M[A]=M[A+2],M[A+2]=I}return M}finally{v.close()}})}let at,ut,Pt,Xt;const qt={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(o){const n=requestAnimationFrame(o);return{cancel:()=>cancelAnimationFrame(n)}},getImageData(o,n=0){return this.getImageCanvasContext(o).getImageData(-n,-n,o.width+2*n,o.height+2*n)},getImageCanvasContext(o){const n=window.document.createElement("canvas"),s=n.getContext("2d",{willReadFrequently:!0});if(!s)throw new Error("failed to create canvas 2d context");return n.width=o.width,n.height=o.height,s.drawImage(o,0,0,o.width,o.height),s},resolveURL:o=>(Pt||(Pt=document.createElement("a")),Pt.href=o,Pt.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(Xt==null&&(Xt=matchMedia("(prefers-reduced-motion: reduce)")),Xt.matches)}},ln={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class er extends Error{constructor(n,s,d,f){super(`AJAXError: ${s} (${n}): ${d}`),this.status=n,this.statusText=s,this.url=d,this.body=f}}const tr=Ie()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href,Nn=o=>ln.REGISTERED_PROTOCOLS[o.substring(0,o.indexOf("://"))];function nr(o,n){const s=new AbortController,d=new Request(o.url,{method:o.method||"GET",body:o.body,credentials:o.credentials,headers:o.headers,cache:o.cache,referrer:tr(),signal:s.signal});let f=!1,v=!1;return o.type==="json"&&d.headers.set("Accept","application/json"),v||fetch(d).then(x=>x.ok?(b=>{(o.type==="arrayBuffer"||o.type==="image"?b.arrayBuffer():o.type==="json"?b.json():b.text()).then(M=>{v||(f=!0,n(null,M,b.headers.get("Cache-Control"),b.headers.get("Expires")))}).catch(M=>{v||n(new Error(M.message))})})(x):x.blob().then(b=>n(new er(x.status,x.statusText,o.url,b)))).catch(x=>{x.code!==20&&n(new Error(x.message))}),{cancel:()=>{v=!0,f||s.abort()}}}const Mr=function(o,n){if(/:\/\//.test(o.url)&&!/^https?:|^file:/.test(o.url)){if(Ie()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",o,n);if(!Ie())return(Nn(o.url)||nr)(o,n)}if(!(/^file:/.test(s=o.url)||/^file:/.test(tr())&&!/^\w+:/.test(s))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return nr(o,n);if(Ie()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",o,n,void 0,!0)}var s;return function(d,f){const v=new XMLHttpRequest;v.open(d.method||"GET",d.url,!0),d.type!=="arrayBuffer"&&d.type!=="image"||(v.responseType="arraybuffer");for(const x in d.headers)v.setRequestHeader(x,d.headers[x]);return d.type==="json"&&(v.responseType="text",v.setRequestHeader("Accept","application/json")),v.withCredentials=d.credentials==="include",v.onerror=()=>{f(new Error(v.statusText))},v.onload=()=>{if((v.status>=200&&v.status<300||v.status===0)&&v.response!==null){let x=v.response;if(d.type==="json")try{x=JSON.parse(v.response)}catch(b){return f(b)}f(null,x,v.getResponseHeader("Cache-Control"),v.getResponseHeader("Expires"))}else{const x=new Blob([v.response],{type:v.getResponseHeader("Content-Type")});f(new er(v.status,v.statusText,d.url,x))}},v.send(d.body),{cancel:()=>v.abort()}}(o,n)},nn=function(o,n){return Mr(Se(o,{type:"arrayBuffer"}),n)};function Kn(o){if(!o||o.indexOf("://")<=0||o.indexOf("data:image/")===0||o.indexOf("blob:")===0)return!0;const n=new URL(o),s=window.location;return n.protocol===s.protocol&&n.host===s.host}function rr(o,n,s){s[o]&&s[o].indexOf(n)!==-1||(s[o]=s[o]||[],s[o].push(n))}function ai(o,n,s){if(s&&s[o]){const d=s[o].indexOf(n);d!==-1&&s[o].splice(d,1)}}class Er{constructor(n,s={}){Se(this,s),this.type=n}}class gr extends Er{constructor(n,s={}){super("error",Se({error:n},s))}}class pn{on(n,s){return this._listeners=this._listeners||{},rr(n,s,this._listeners),this}off(n,s){return ai(n,s,this._listeners),ai(n,s,this._oneTimeListeners),this}once(n,s){return s?(this._oneTimeListeners=this._oneTimeListeners||{},rr(n,s,this._oneTimeListeners),this):new Promise(d=>this.once(n,d))}fire(n,s){typeof n=="string"&&(n=new Er(n,s||{}));const d=n.type;if(this.listens(d)){n.target=this;const f=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(const b of f)b.call(this,n);const v=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(const b of v)ai(d,b,this._oneTimeListeners),b.call(this,n);const x=this._eventedParent;x&&(Se(n,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),x.fire(n))}else n instanceof gr&&console.error(n.error);return this}listens(n){return this._listeners&&this._listeners[n]&&this._listeners[n].length>0||this._oneTimeListeners&&this._oneTimeListeners[n]&&this._oneTimeListeners[n].length>0||this._eventedParent&&this._eventedParent.listens(n)}setEventedParent(n,s){return this._eventedParent=n,this._eventedParentData=s,this}}var ke={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Rt=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Kt(o,n){const s={};for(const d in o)d!=="ref"&&(s[d]=o[d]);return Rt.forEach(d=>{d in n&&(s[d]=n[d])}),s}function Ot(o,n){if(Array.isArray(o)){if(!Array.isArray(n)||o.length!==n.length)return!1;for(let s=0;s<o.length;s++)if(!Ot(o[s],n[s]))return!1;return!0}if(typeof o=="object"&&o!==null&&n!==null){if(typeof n!="object"||Object.keys(o).length!==Object.keys(n).length)return!1;for(const s in o)if(!Ot(o[s],n[s]))return!1;return!0}return o===n}const Zt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ci(o,n,s){s.push({command:Zt.addSource,args:[o,n[o]]})}function na(o,n,s){n.push({command:Zt.removeSource,args:[o]}),s[o]=!0}function Vi(o,n,s,d){na(o,s,d),Ci(o,n,s)}function Ya(o,n,s){let d;for(d in o[s])if(Object.prototype.hasOwnProperty.call(o[s],d)&&d!=="data"&&!Ot(o[s][d],n[s][d]))return!1;for(d in n[s])if(Object.prototype.hasOwnProperty.call(n[s],d)&&d!=="data"&&!Ot(o[s][d],n[s][d]))return!1;return!0}function ra(o,n,s,d,f,v){let x;for(x in n=n||{},o=o||{})Object.prototype.hasOwnProperty.call(o,x)&&(Ot(o[x],n[x])||s.push({command:v,args:[d,x,n[x],f]}));for(x in n)Object.prototype.hasOwnProperty.call(n,x)&&!Object.prototype.hasOwnProperty.call(o,x)&&(Ot(o[x],n[x])||s.push({command:v,args:[d,x,n[x],f]}))}function uo(o){return o.id}function Io(o,n){return o[n.id]=n,o}class Ye{constructor(n,s,d,f){this.message=(n?`${n}: `:"")+d,f&&(this.identifier=f),s!=null&&s.__line__&&(this.line=s.__line__)}}function Mi(o,...n){for(const s of n)for(const d in s)o[d]=s[d];return o}class Cn extends Error{constructor(n,s){super(s),this.message=s,this.key=n}}class si{constructor(n,s=[]){this.parent=n,this.bindings={};for(const[d,f]of s)this.bindings[d]=f}concat(n){return new si(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return!!this.bindings[n]||!!this.parent&&this.parent.has(n)}}const Fr={kind:"null"},Qe={kind:"number"},Lt={kind:"string"},kt={kind:"boolean"},On={kind:"color"},Ei={kind:"object"},xt={kind:"value"},ki={kind:"collator"},ie={kind:"formatted"},N={kind:"padding"},j={kind:"resolvedImage"},q={kind:"variableAnchorOffsetCollection"};function re(o,n){return{kind:"array",itemType:o,N:n}}function ae(o){if(o.kind==="array"){const n=ae(o.itemType);return typeof o.N=="number"?`array<${n}, ${o.N}>`:o.itemType.kind==="value"?"array":`array<${n}>`}return o.kind}const xe=[Fr,Qe,Lt,kt,On,ie,Ei,re(xt),N,j,q];function me(o,n){if(n.kind==="error")return null;if(o.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!me(o.itemType,n.itemType))&&(typeof o.N!="number"||o.N===n.N))return null}else{if(o.kind===n.kind)return null;if(o.kind==="value"){for(const s of xe)if(!me(s,n))return null}}return`Expected ${ae(o)} but found ${ae(n)} instead.`}function ue(o,n){return n.some(s=>s.kind===o.kind)}function ye(o,n){return n.some(s=>s==="null"?o===null:s==="array"?Array.isArray(o):s==="object"?o&&!Array.isArray(o)&&typeof o=="object":s===typeof o)}function De(o,n){return o.kind==="array"&&n.kind==="array"?o.itemType.kind===n.itemType.kind&&typeof o.N=="number":o.kind===n.kind}const ze=.96422,$e=.82521,pt=4/29,At=6/29,ft=3*At*At,St=At*At*At,It=Math.PI/180,rn=180/Math.PI;function dn(o){return(o%=360)<0&&(o+=360),o}function Gt([o,n,s,d]){let f,v;const x=kr((.2225045*(o=Ht(o))+.7168786*(n=Ht(n))+.0606169*(s=Ht(s)))/1);o===n&&n===s?f=v=x:(f=kr((.4360747*o+.3850649*n+.1430804*s)/ze),v=kr((.0139322*o+.0971045*n+.7141733*s)/$e));const b=116*x-16;return[b<0?0:b,500*(f-x),200*(x-v),d]}function Ht(o){return o<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}function kr(o){return o>St?Math.pow(o,1/3):o/ft+pt}function fn([o,n,s,d]){let f=(o+16)/116,v=isNaN(n)?f:f+n/500,x=isNaN(s)?f:f-s/200;return f=1*yr(f),v=ze*yr(v),x=$e*yr(x),[Xn(3.1338561*v-1.6168667*f-.4906146*x),Xn(-.9787684*v+1.9161415*f+.033454*x),Xn(.0719453*v-.2289914*f+1.4052427*x),d]}function Xn(o){return(o=o<=.00304?12.92*o:1.055*Math.pow(o,1/2.4)-.055)<0?0:o>1?1:o}function yr(o){return o>At?o*o*o:ft*(o-pt)}function Ai(o){return parseInt(o.padEnd(2,o),16)/255}function Zd(o,n){return Qa(n?o/100:o,0,1)}function Qa(o,n,s){return Math.min(Math.max(n,o),s)}function es(o){return!o.some(Number.isNaN)}const C0={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class un{constructor(n,s,d,f=1,v=!0){this.r=n,this.g=s,this.b=d,this.a=f,v||(this.r*=f,this.g*=f,this.b*=f,f||this.overwriteGetter("rgb",[n,s,d,f]))}static parse(n){if(n instanceof un)return n;if(typeof n!="string")return;const s=function(d){if((d=d.toLowerCase().trim())==="transparent")return[0,0,0,0];const f=C0[d];if(f){const[x,b,M]=f;return[x/255,b/255,M/255,1]}if(d.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(d)){const x=d.length<6?1:2;let b=1;return[Ai(d.slice(b,b+=x)),Ai(d.slice(b,b+=x)),Ai(d.slice(b,b+=x)),Ai(d.slice(b,b+x)||"ff")]}if(d.startsWith("rgb")){const x=d.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(x){const[b,M,A,I,R,$,U,H,Y,se,ce,_e]=x,fe=[I||" ",U||" ",se].join("");if(fe==="  "||fe==="  /"||fe===",,"||fe===",,,"){const be=[A,$,Y].join(""),Ee=be==="%%%"?100:be===""?255:0;if(Ee){const Oe=[Qa(+M/Ee,0,1),Qa(+R/Ee,0,1),Qa(+H/Ee,0,1),ce?Zd(+ce,_e):1];if(es(Oe))return Oe}}return}}const v=d.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(v){const[x,b,M,A,I,R,$,U,H]=v,Y=[M||" ",I||" ",$].join("");if(Y==="  "||Y==="  /"||Y===",,"||Y===",,,"){const se=[+b,Qa(+A,0,100),Qa(+R,0,100),U?Zd(+U,H):1];if(es(se))return function([ce,_e,fe,be]){function Ee(Oe){const lt=(Oe+ce/30)%12,gt=_e*Math.min(fe,1-fe);return fe-gt*Math.max(-1,Math.min(lt-3,9-lt,1))}return ce=dn(ce),_e/=100,fe/=100,[Ee(0),Ee(8),Ee(4),be]}(se)}}}(n);return s?new un(...s,!1):void 0}get rgb(){const{r:n,g:s,b:d,a:f}=this,v=f||1/0;return this.overwriteGetter("rgb",[n/v,s/v,d/v,f])}get hcl(){return this.overwriteGetter("hcl",function(n){const[s,d,f,v]=Gt(n),x=Math.sqrt(d*d+f*f);return[Math.round(1e4*x)?dn(Math.atan2(f,d)*rn):NaN,x,s,v]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Gt(this.rgb))}overwriteGetter(n,s){return Object.defineProperty(this,n,{value:s}),s}toString(){const[n,s,d,f]=this.rgb;return`rgba(${[n,s,d].map(v=>Math.round(255*v)).join(",")},${f})`}}un.black=new un(0,0,0,1),un.white=new un(1,1,1,1),un.transparent=new un(0,0,0,0),un.red=new un(1,0,0,1);class Cu{constructor(n,s,d){this.sensitivity=n?s?"variant":"case":s?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,s){return this.collator.compare(n,s)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Ul{constructor(n,s,d,f,v){this.text=n,this.image=s,this.scale=d,this.fontStack=f,this.textColor=v}}class Ar{constructor(n){this.sections=n}static fromString(n){return new Ar([new Ul(n,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(n=>n.text.length!==0||n.image&&n.image.name.length!==0)}static factory(n){return n instanceof Ar?n:Ar.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map(n=>n.text).join("")}}class li{constructor(n){this.values=n.slice()}static parse(n){if(n instanceof li)return n;if(typeof n=="number")return new li([n,n,n,n]);if(Array.isArray(n)&&!(n.length<1||n.length>4)){for(const s of n)if(typeof s!="number")return;switch(n.length){case 1:n=[n[0],n[0],n[0],n[0]];break;case 2:n=[n[0],n[1],n[0],n[1]];break;case 3:n=[n[0],n[1],n[2],n[1]]}return new li(n)}}toString(){return JSON.stringify(this.values)}}const M0=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Pi{constructor(n){this.values=n.slice()}static parse(n){if(n instanceof Pi)return n;if(Array.isArray(n)&&!(n.length<1)&&n.length%2==0){for(let s=0;s<n.length;s+=2){const d=n[s],f=n[s+1];if(typeof d!="string"||!M0.has(d)||!Array.isArray(f)||f.length!==2||typeof f[0]!="number"||typeof f[1]!="number")return}return new Pi(n)}}toString(){return JSON.stringify(this.values)}}class vr{constructor(n){this.name=n.name,this.available=n.available}toString(){return this.name}static fromString(n){return n?new vr({name:n,available:!1}):null}}function Hl(o,n,s,d){return typeof o=="number"&&o>=0&&o<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof s=="number"&&s>=0&&s<=255?d===void 0||typeof d=="number"&&d>=0&&d<=1?null:`Invalid rgba value [${[o,n,s,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof d=="number"?[o,n,s,d]:[o,n,s]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function ts(o){if(o===null||typeof o=="string"||typeof o=="boolean"||typeof o=="number"||o instanceof un||o instanceof Cu||o instanceof Ar||o instanceof li||o instanceof Pi||o instanceof vr)return!0;if(Array.isArray(o)){for(const n of o)if(!ts(n))return!1;return!0}if(typeof o=="object"){for(const n in o)if(!ts(o[n]))return!1;return!0}return!1}function kn(o){if(o===null)return Fr;if(typeof o=="string")return Lt;if(typeof o=="boolean")return kt;if(typeof o=="number")return Qe;if(o instanceof un)return On;if(o instanceof Cu)return ki;if(o instanceof Ar)return ie;if(o instanceof li)return N;if(o instanceof Pi)return q;if(o instanceof vr)return j;if(Array.isArray(o)){const n=o.length;let s;for(const d of o){const f=kn(d);if(s){if(s===f)continue;s=xt;break}s=f}return re(s||xt,n)}return Ei}function Qt(o){const n=typeof o;return o===null?"":n==="string"||n==="number"||n==="boolean"?String(o):o instanceof un||o instanceof Ar||o instanceof li||o instanceof Pi||o instanceof vr?o.toString():JSON.stringify(o)}class _a{constructor(n,s){this.type=n,this.value=s}static parse(n,s){if(n.length!==2)return s.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!ts(n[1]))return s.error("invalid value");const d=n[1];let f=kn(d);const v=s.expectedType;return f.kind!=="array"||f.N!==0||!v||v.kind!=="array"||typeof v.N=="number"&&v.N!==0||(f=v),new _a(f,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Ln{constructor(n){this.name="ExpressionEvaluationError",this.message=n}toJSON(){return this.message}}const Zl={string:Lt,number:Qe,boolean:kt,object:Ei};class Ti{constructor(n,s){this.type=n,this.args=s}static parse(n,s){if(n.length<2)return s.error("Expected at least one argument.");let d,f=1;const v=n[0];if(v==="array"){let b,M;if(n.length>2){const A=n[1];if(typeof A!="string"||!(A in Zl)||A==="object")return s.error('The item type argument of "array" must be one of string, number, boolean',1);b=Zl[A],f++}else b=xt;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return s.error('The length argument to "array" must be a positive integer literal',2);M=n[2],f++}d=re(b,M)}else{if(!Zl[v])throw new Error(`Types doesn't contain name = ${v}`);d=Zl[v]}const x=[];for(;f<n.length;f++){const b=s.parse(n[f],f,xt);if(!b)return null;x.push(b)}return new Ti(d,x)}evaluate(n){for(let s=0;s<this.args.length;s++){const d=this.args[s].evaluate(n);if(!me(this.type,kn(d)))return d;if(s===this.args.length-1)throw new Ln(`Expected value to be of type ${ae(this.type)}, but found ${ae(kn(d))} instead.`)}throw new Error}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}}const Mu={"to-boolean":kt,"to-color":On,"to-number":Qe,"to-string":Lt};class ia{constructor(n,s){this.type=n,this.args=s}static parse(n,s){if(n.length<2)return s.error("Expected at least one argument.");const d=n[0];if(!Mu[d])throw new Error(`Can't parse ${d} as it is not part of the known types`);if((d==="to-boolean"||d==="to-string")&&n.length!==2)return s.error("Expected one argument.");const f=Mu[d],v=[];for(let x=1;x<n.length;x++){const b=s.parse(n[x],x,xt);if(!b)return null;v.push(b)}return new ia(f,v)}evaluate(n){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(n);case"color":{let s,d;for(const f of this.args){if(s=f.evaluate(n),d=null,s instanceof un)return s;if(typeof s=="string"){const v=n.parseColor(s);if(v)return v}else if(Array.isArray(s)&&(d=s.length<3||s.length>4?`Invalid rbga value ${JSON.stringify(s)}: expected an array containing either three or four numeric values.`:Hl(s[0],s[1],s[2],s[3]),!d))return new un(s[0]/255,s[1]/255,s[2]/255,s[3])}throw new Ln(d||`Could not parse color from value '${typeof s=="string"?s:JSON.stringify(s)}'`)}case"padding":{let s;for(const d of this.args){s=d.evaluate(n);const f=li.parse(s);if(f)return f}throw new Ln(`Could not parse padding from value '${typeof s=="string"?s:JSON.stringify(s)}'`)}case"variableAnchorOffsetCollection":{let s;for(const d of this.args){s=d.evaluate(n);const f=Pi.parse(s);if(f)return f}throw new Ln(`Could not parse variableAnchorOffsetCollection from value '${typeof s=="string"?s:JSON.stringify(s)}'`)}case"number":{let s=null;for(const d of this.args){if(s=d.evaluate(n),s===null)return 0;const f=Number(s);if(!isNaN(f))return f}throw new Ln(`Could not convert ${JSON.stringify(s)} to number.`)}case"formatted":return Ar.fromString(Qt(this.args[0].evaluate(n)));case"resolvedImage":return vr.fromString(Qt(this.args[0].evaluate(n)));default:return Qt(this.args[0].evaluate(n))}}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}}const Gd=["Unknown","Point","LineString","Polygon"];class Eu{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Gd[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(n){let s=this._parseColorCache[n];return s||(s=this._parseColorCache[n]=un.parse(n)),s}}class Gl{constructor(n,s,d=[],f,v=new si,x=[]){this.registry=n,this.path=d,this.key=d.map(b=>`[${b}]`).join(""),this.scope=v,this.errors=x,this.expectedType=f,this._isConstant=s}parse(n,s,d,f,v={}){return s?this.concat(s,d,f)._parse(n,v):this._parse(n,v)}_parse(n,s){function d(f,v,x){return x==="assert"?new Ti(v,[f]):x==="coerce"?new ia(v,[f]):f}if(n!==null&&typeof n!="string"&&typeof n!="boolean"&&typeof n!="number"||(n=["literal",n]),Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const f=n[0];if(typeof f!="string")return this.error(`Expression name must be a string, but found ${typeof f} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const v=this.registry[f];if(v){let x=v.parse(n,this);if(!x)return null;if(this.expectedType){const b=this.expectedType,M=x.type;if(b.kind!=="string"&&b.kind!=="number"&&b.kind!=="boolean"&&b.kind!=="object"&&b.kind!=="array"||M.kind!=="value")if(b.kind!=="color"&&b.kind!=="formatted"&&b.kind!=="resolvedImage"||M.kind!=="value"&&M.kind!=="string")if(b.kind!=="padding"||M.kind!=="value"&&M.kind!=="number"&&M.kind!=="array")if(b.kind!=="variableAnchorOffsetCollection"||M.kind!=="value"&&M.kind!=="array"){if(this.checkSubtype(b,M))return null}else x=d(x,b,s.typeAnnotation||"coerce");else x=d(x,b,s.typeAnnotation||"coerce");else x=d(x,b,s.typeAnnotation||"coerce");else x=d(x,b,s.typeAnnotation||"assert")}if(!(x instanceof _a)&&x.type.kind!=="resolvedImage"&&this._isConstant(x)){const b=new Eu;try{x=new _a(x.type,x.evaluate(b))}catch(M){return this.error(M.message),null}}return x}return this.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(n===void 0?"'undefined' value invalid. Use null instead.":typeof n=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof n} instead.`)}concat(n,s,d){const f=typeof n=="number"?this.path.concat(n):this.path,v=d?this.scope.concat(d):this.scope;return new Gl(this.registry,this._isConstant,f,s||null,v,this.errors)}error(n,...s){const d=`${this.key}${s.map(f=>`[${f}]`).join("")}`;this.errors.push(new Cn(d,n))}checkSubtype(n,s){const d=me(n,s);return d&&this.error(d),d}}class ql{constructor(n,s,d){this.type=ki,this.locale=d,this.caseSensitive=n,this.diacriticSensitive=s}static parse(n,s){if(n.length!==2)return s.error("Expected one argument.");const d=n[1];if(typeof d!="object"||Array.isArray(d))return s.error("Collator options argument must be an object.");const f=s.parse(d["case-sensitive"]!==void 0&&d["case-sensitive"],1,kt);if(!f)return null;const v=s.parse(d["diacritic-sensitive"]!==void 0&&d["diacritic-sensitive"],1,kt);if(!v)return null;let x=null;return d.locale&&(x=s.parse(d.locale,1,Lt),!x)?null:new ql(f,v,x)}evaluate(n){return new Cu(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}}const oa=8192;function ku(o,n){o[0]=Math.min(o[0],n[0]),o[1]=Math.min(o[1],n[1]),o[2]=Math.max(o[2],n[0]),o[3]=Math.max(o[3],n[1])}function Gs(o,n){return!(o[0]<=n[0]||o[2]>=n[2]||o[1]<=n[1]||o[3]>=n[3])}function qd(o,n){const s=(180+o[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o[1]*Math.PI/360)))/360,f=Math.pow(2,n.z);return[Math.round(s*f*oa),Math.round(d*f*oa)]}function E0(o,n,s){const d=o[0]-n[0],f=o[1]-n[1],v=o[0]-s[0],x=o[1]-s[1];return d*x-v*f==0&&d*v<=0&&f*x<=0}function Au(o,n){let s=!1;for(let x=0,b=n.length;x<b;x++){const M=n[x];for(let A=0,I=M.length;A<I-1;A++){if(E0(o,M[A],M[A+1]))return!1;(f=M[A])[1]>(d=o)[1]!=(v=M[A+1])[1]>d[1]&&d[0]<(v[0]-f[0])*(d[1]-f[1])/(v[1]-f[1])+f[0]&&(s=!s)}}var d,f,v;return s}function Pu(o,n){for(let s=0;s<n.length;s++)if(Au(o,n[s]))return!0;return!1}function Kd(o,n,s,d){const f=d[0]-s[0],v=d[1]-s[1],x=(o[0]-s[0])*v-f*(o[1]-s[1]),b=(n[0]-s[0])*v-f*(n[1]-s[1]);return x>0&&b<0||x<0&&b>0}function k0(o,n,s){for(const A of s)for(let I=0;I<A.length-1;++I)if((b=[(x=A[I+1])[0]-(v=A[I])[0],x[1]-v[1]])[0]*(M=[(f=n)[0]-(d=o)[0],f[1]-d[1]])[1]-b[1]*M[0]!=0&&Kd(d,f,v,x)&&Kd(v,x,d,f))return!0;var d,f,v,x,b,M;return!1}function Xd(o,n){for(let s=0;s<o.length;++s)if(!Au(o[s],n))return!1;for(let s=0;s<o.length-1;++s)if(k0(o[s],o[s+1],n))return!1;return!0}function Jd(o,n){for(let s=0;s<n.length;s++)if(Xd(o,n[s]))return!0;return!1}function Kl(o,n,s){const d=[];for(let f=0;f<o.length;f++){const v=[];for(let x=0;x<o[f].length;x++){const b=qd(o[f][x],s);ku(n,b),v.push(b)}d.push(v)}return d}function Yd(o,n,s){const d=[];for(let f=0;f<o.length;f++){const v=Kl(o[f],n,s);d.push(v)}return d}function Qd(o,n,s,d){if(o[0]<s[0]||o[0]>s[2]){const f=.5*d;let v=o[0]-s[0]>f?-d:s[0]-o[0]>f?d:0;v===0&&(v=o[0]-s[2]>f?-d:s[2]-o[0]>f?d:0),o[0]+=v}ku(n,o)}function Tu(o,n,s,d){const f=Math.pow(2,d.z)*oa,v=[d.x*oa,d.y*oa],x=[];for(const b of o)for(const M of b){const A=[M.x+v[0],M.y+v[1]];Qd(A,n,s,f),x.push(A)}return x}function Iu(o,n,s,d){const f=Math.pow(2,d.z)*oa,v=[d.x*oa,d.y*oa],x=[];for(const M of o){const A=[];for(const I of M){const R=[I.x+v[0],I.y+v[1]];ku(n,R),A.push(R)}x.push(A)}if(n[2]-n[0]<=f/2){(b=n)[0]=b[1]=1/0,b[2]=b[3]=-1/0;for(const M of x)for(const A of M)Qd(A,n,s,f)}var b;return x}class xa{constructor(n,s){this.type=kt,this.geojson=n,this.geometries=s}static parse(n,s){if(n.length!==2)return s.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if(ts(n[1])){const d=n[1];if(d.type==="FeatureCollection")for(let f=0;f<d.features.length;++f){const v=d.features[f].geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new xa(d,d.features[f].geometry)}else if(d.type==="Feature"){const f=d.geometry.type;if(f==="Polygon"||f==="MultiPolygon")return new xa(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new xa(d,d)}return s.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return function(s,d){const f=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],x=s.canonicalID();if(d.type==="Polygon"){const b=Kl(d.coordinates,v,x),M=Tu(s.geometry(),f,v,x);if(!Gs(f,v))return!1;for(const A of M)if(!Au(A,b))return!1}if(d.type==="MultiPolygon"){const b=Yd(d.coordinates,v,x),M=Tu(s.geometry(),f,v,x);if(!Gs(f,v))return!1;for(const A of M)if(!Pu(A,b))return!1}return!0}(n,this.geometries);if(n.geometryType()==="LineString")return function(s,d){const f=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],x=s.canonicalID();if(d.type==="Polygon"){const b=Kl(d.coordinates,v,x),M=Iu(s.geometry(),f,v,x);if(!Gs(f,v))return!1;for(const A of M)if(!Xd(A,b))return!1}if(d.type==="MultiPolygon"){const b=Yd(d.coordinates,v,x),M=Iu(s.geometry(),f,v,x);if(!Gs(f,v))return!1;for(const A of M)if(!Jd(A,b))return!1}return!0}(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Xl{constructor(n,s){this.type=s.type,this.name=n,this.boundExpression=s}static parse(n,s){if(n.length!==2||typeof n[1]!="string")return s.error("'var' expression requires exactly one string literal argument.");const d=n[1];return s.scope.has(d)?new Xl(d,s.scope.get(d)):s.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}}class Ii{constructor(n,s,d,f){this.name=n,this.type=s,this._evaluate=d,this.args=f}evaluate(n){return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}static parse(n,s){const d=n[0],f=Ii.definitions[d];if(!f)return s.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const v=Array.isArray(f)?f[0]:f.type,x=Array.isArray(f)?[[f[1],f[2]]]:f.overloads,b=x.filter(([A])=>!Array.isArray(A)||A.length===n.length-1);let M=null;for(const[A,I]of b){M=new Gl(s.registry,Jl,s.path,null,s.scope);const R=[];let $=!1;for(let U=1;U<n.length;U++){const H=n[U],Y=Array.isArray(A)?A[U-1]:A.type,se=M.parse(H,1+R.length,Y);if(!se){$=!0;break}R.push(se)}if(!$)if(Array.isArray(A)&&A.length!==R.length)M.error(`Expected ${A.length} arguments, but found ${R.length} instead.`);else{for(let U=0;U<R.length;U++){const H=Array.isArray(A)?A[U]:A.type,Y=R[U];M.concat(U+1).checkSubtype(H,Y.type)}if(M.errors.length===0)return new Ii(d,v,I,R)}}if(b.length===1)s.errors.push(...M.errors);else{const A=(b.length?b:x).map(([R])=>{return $=R,Array.isArray($)?`(${$.map(ae).join(", ")})`:`(${ae($.type)}...)`;var $}).join(" | "),I=[];for(let R=1;R<n.length;R++){const $=s.parse(n[R],1+I.length);if(!$)return null;I.push(ae($.type))}s.error(`Expected arguments of type ${A}, but found (${I.join(", ")}) instead.`)}return null}static register(n,s){Ii.definitions=s;for(const d in s)n[d]=Ii}}function Jl(o){if(o instanceof Xl)return Jl(o.boundExpression);if(o instanceof Ii&&o.name==="error"||o instanceof ql||o instanceof xa)return!1;const n=o instanceof ia||o instanceof Ti;let s=!0;return o.eachChild(d=>{s=n?s&&Jl(d):s&&d instanceof _a}),!!s&&Yl(o)&&Ql(o,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Yl(o){if(o instanceof Ii&&(o.name==="get"&&o.args.length===1||o.name==="feature-state"||o.name==="has"&&o.args.length===1||o.name==="properties"||o.name==="geometry-type"||o.name==="id"||/^filter-/.test(o.name))||o instanceof xa)return!1;let n=!0;return o.eachChild(s=>{n&&!Yl(s)&&(n=!1)}),n}function qs(o){if(o instanceof Ii&&o.name==="feature-state")return!1;let n=!0;return o.eachChild(s=>{n&&!qs(s)&&(n=!1)}),n}function Ql(o,n){if(o instanceof Ii&&n.indexOf(o.name)>=0)return!1;let s=!0;return o.eachChild(d=>{s&&!Ql(d,n)&&(s=!1)}),s}function ns(o,n){const s=o.length-1;let d,f,v=0,x=s,b=0;for(;v<=x;)if(b=Math.floor((v+x)/2),d=o[b],f=o[b+1],d<=n){if(b===s||n<f)return b;v=b+1}else{if(!(d>n))throw new Ln("Input is not a number.");x=b-1}return 0}class aa{constructor(n,s,d){this.type=n,this.input=s,this.labels=[],this.outputs=[];for(const[f,v]of d)this.labels.push(f),this.outputs.push(v)}static parse(n,s){if(n.length-1<4)return s.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return s.error("Expected an even number of arguments.");const d=s.parse(n[1],1,Qe);if(!d)return null;const f=[];let v=null;s.expectedType&&s.expectedType.kind!=="value"&&(v=s.expectedType);for(let x=1;x<n.length;x+=2){const b=x===1?-1/0:n[x],M=n[x+1],A=x,I=x+1;if(typeof b!="number")return s.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',A);if(f.length&&f[f.length-1][0]>=b)return s.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',A);const R=s.parse(M,I,v);if(!R)return null;v=v||R.type,f.push([b,R])}return new aa(v,d,f)}evaluate(n){const s=this.labels,d=this.outputs;if(s.length===1)return d[0].evaluate(n);const f=this.input.evaluate(n);if(f<=s[0])return d[0].evaluate(n);const v=s.length;return f>=s[v-1]?d[v-1].evaluate(n):d[ns(s,f)].evaluate(n)}eachChild(n){n(this.input);for(const s of this.outputs)n(s)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}}function Wt(o,n,s){return o+s*(n-o)}function e1(o,n,s){return o.map((d,f)=>Wt(d,n[f],s))}const ui={number:Wt,color:function(o,n,s,d="rgb"){switch(d){case"rgb":{const[f,v,x,b]=e1(o.rgb,n.rgb,s);return new un(f,v,x,b,!1)}case"hcl":{const[f,v,x,b]=o.hcl,[M,A,I,R]=n.hcl;let $,U;if(isNaN(f)||isNaN(M))isNaN(f)?isNaN(M)?$=NaN:($=M,x!==1&&x!==0||(U=A)):($=f,I!==1&&I!==0||(U=v));else{let _e=M-f;M>f&&_e>180?_e-=360:M<f&&f-M>180&&(_e+=360),$=f+s*_e}const[H,Y,se,ce]=function([_e,fe,be,Ee]){return _e=isNaN(_e)?0:_e*It,fn([be,Math.cos(_e)*fe,Math.sin(_e)*fe,Ee])}([$,U??Wt(v,A,s),Wt(x,I,s),Wt(b,R,s)]);return new un(H,Y,se,ce,!1)}case"lab":{const[f,v,x,b]=fn(e1(o.lab,n.lab,s));return new un(f,v,x,b,!1)}}},array:e1,padding:function(o,n,s){return new li(e1(o.values,n.values,s))},variableAnchorOffsetCollection:function(o,n,s){const d=o.values,f=n.values;if(d.length!==f.length)throw new Ln(`Cannot interpolate values of different length. from: ${o.toString()}, to: ${n.toString()}`);const v=[];for(let x=0;x<d.length;x+=2){if(d[x]!==f[x])throw new Ln(`Cannot interpolate values containing mismatched anchors. from[${x}]: ${d[x]}, to[${x}]: ${f[x]}`);v.push(d[x]);const[b,M]=d[x+1],[A,I]=f[x+1];v.push([Wt(b,A,s),Wt(M,I,s)])}return new Pi(v)}};class ci{constructor(n,s,d,f,v){this.type=n,this.operator=s,this.interpolation=d,this.input=f,this.labels=[],this.outputs=[];for(const[x,b]of v)this.labels.push(x),this.outputs.push(b)}static interpolationFactor(n,s,d,f){let v=0;if(n.name==="exponential")v=Lu(s,n.base,d,f);else if(n.name==="linear")v=Lu(s,1,d,f);else if(n.name==="cubic-bezier"){const x=n.controlPoints;v=new G(x[0],x[1],x[2],x[3]).solve(Lu(s,1,d,f))}return v}static parse(n,s){let[d,f,v,...x]=n;if(!Array.isArray(f)||f.length===0)return s.error("Expected an interpolation type expression.",1);if(f[0]==="linear")f={name:"linear"};else if(f[0]==="exponential"){const A=f[1];if(typeof A!="number")return s.error("Exponential interpolation requires a numeric base.",1,1);f={name:"exponential",base:A}}else{if(f[0]!=="cubic-bezier")return s.error(`Unknown interpolation type ${String(f[0])}`,1,0);{const A=f.slice(1);if(A.length!==4||A.some(I=>typeof I!="number"||I<0||I>1))return s.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);f={name:"cubic-bezier",controlPoints:A}}}if(n.length-1<4)return s.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return s.error("Expected an even number of arguments.");if(v=s.parse(v,2,Qe),!v)return null;const b=[];let M=null;d==="interpolate-hcl"||d==="interpolate-lab"?M=On:s.expectedType&&s.expectedType.kind!=="value"&&(M=s.expectedType);for(let A=0;A<x.length;A+=2){const I=x[A],R=x[A+1],$=A+3,U=A+4;if(typeof I!="number")return s.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',$);if(b.length&&b[b.length-1][0]>=I)return s.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',$);const H=s.parse(R,U,M);if(!H)return null;M=M||H.type,b.push([I,H])}return De(M,Qe)||De(M,On)||De(M,N)||De(M,q)||De(M,re(Qe))?new ci(M,d,f,v,b):s.error(`Type ${ae(M)} is not interpolatable.`)}evaluate(n){const s=this.labels,d=this.outputs;if(s.length===1)return d[0].evaluate(n);const f=this.input.evaluate(n);if(f<=s[0])return d[0].evaluate(n);const v=s.length;if(f>=s[v-1])return d[v-1].evaluate(n);const x=ns(s,f),b=ci.interpolationFactor(this.interpolation,f,s[x],s[x+1]),M=d[x].evaluate(n),A=d[x+1].evaluate(n);switch(this.operator){case"interpolate":return ui[this.type.kind](M,A,b);case"interpolate-hcl":return ui.color(M,A,b,"hcl");case"interpolate-lab":return ui.color(M,A,b,"lab")}}eachChild(n){n(this.input);for(const s of this.outputs)n(s)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}}function Lu(o,n,s,d){const f=d-s,v=o-s;return f===0?0:n===1?v/f:(Math.pow(n,v)-1)/(Math.pow(n,f)-1)}class t1{constructor(n,s){this.type=n,this.args=s}static parse(n,s){if(n.length<2)return s.error("Expectected at least one argument.");let d=null;const f=s.expectedType;f&&f.kind!=="value"&&(d=f);const v=[];for(const b of n.slice(1)){const M=s.parse(b,1+v.length,d,void 0,{typeAnnotation:"omit"});if(!M)return null;d=d||M.type,v.push(M)}if(!d)throw new Error("No output type");const x=f&&v.some(b=>me(f,b.type));return new t1(x?xt:d,v)}evaluate(n){let s,d=null,f=0;for(const v of this.args)if(f++,d=v.evaluate(n),d&&d instanceof vr&&!d.available&&(s||(s=d.name),d=null,f===this.args.length&&(d=s)),d!==null)break;return d}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}}class n1{constructor(n,s){this.type=s.type,this.bindings=[].concat(n),this.result=s}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const s of this.bindings)n(s[1]);n(this.result)}static parse(n,s){if(n.length<4)return s.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const d=[];for(let v=1;v<n.length-1;v+=2){const x=n[v];if(typeof x!="string")return s.error(`Expected string, but found ${typeof x} instead.`,v);if(/[^a-zA-Z0-9_]/.test(x))return s.error("Variable names must contain only alphanumeric characters or '_'.",v);const b=s.parse(n[v+1],v+1);if(!b)return null;d.push([x,b])}const f=s.parse(n[n.length-1],n.length-1,s.expectedType,d);return f?new n1(d,f):null}outputDefined(){return this.result.outputDefined()}}class Du{constructor(n,s,d){this.type=n,this.index=s,this.input=d}static parse(n,s){if(n.length!==3)return s.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const d=s.parse(n[1],1,Qe),f=s.parse(n[2],2,re(s.expectedType||xt));return d&&f?new Du(f.type.itemType,d,f):null}evaluate(n){const s=this.index.evaluate(n),d=this.input.evaluate(n);if(s<0)throw new Ln(`Array index out of bounds: ${s} < 0.`);if(s>=d.length)throw new Ln(`Array index out of bounds: ${s} > ${d.length-1}.`);if(s!==Math.floor(s))throw new Ln(`Array index must be an integer, but found ${s} instead.`);return d[s]}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}}class Ru{constructor(n,s){this.type=kt,this.needle=n,this.haystack=s}static parse(n,s){if(n.length!==3)return s.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const d=s.parse(n[1],1,xt),f=s.parse(n[2],2,xt);return d&&f?ue(d.type,[kt,Lt,Qe,Fr,xt])?new Ru(d,f):s.error(`Expected first argument to be of type boolean, string, number or null, but found ${ae(d.type)} instead`):null}evaluate(n){const s=this.needle.evaluate(n),d=this.haystack.evaluate(n);if(!d)return!1;if(!ye(s,["boolean","string","number","null"]))throw new Ln(`Expected first argument to be of type boolean, string, number or null, but found ${ae(kn(s))} instead.`);if(!ye(d,["string","array"]))throw new Ln(`Expected second argument to be of type array or string, but found ${ae(kn(d))} instead.`);return d.indexOf(s)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}}class r1{constructor(n,s,d){this.type=Qe,this.needle=n,this.haystack=s,this.fromIndex=d}static parse(n,s){if(n.length<=2||n.length>=5)return s.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const d=s.parse(n[1],1,xt),f=s.parse(n[2],2,xt);if(!d||!f)return null;if(!ue(d.type,[kt,Lt,Qe,Fr,xt]))return s.error(`Expected first argument to be of type boolean, string, number or null, but found ${ae(d.type)} instead`);if(n.length===4){const v=s.parse(n[3],3,Qe);return v?new r1(d,f,v):null}return new r1(d,f)}evaluate(n){const s=this.needle.evaluate(n),d=this.haystack.evaluate(n);if(!ye(s,["boolean","string","number","null"]))throw new Ln(`Expected first argument to be of type boolean, string, number or null, but found ${ae(kn(s))} instead.`);if(!ye(d,["string","array"]))throw new Ln(`Expected second argument to be of type array or string, but found ${ae(kn(d))} instead.`);if(this.fromIndex){const f=this.fromIndex.evaluate(n);return d.indexOf(s,f)}return d.indexOf(s)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}}class zu{constructor(n,s,d,f,v,x){this.inputType=n,this.type=s,this.input=d,this.cases=f,this.outputs=v,this.otherwise=x}static parse(n,s){if(n.length<5)return s.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!=1)return s.error("Expected an even number of arguments.");let d,f;s.expectedType&&s.expectedType.kind!=="value"&&(f=s.expectedType);const v={},x=[];for(let A=2;A<n.length-1;A+=2){let I=n[A];const R=n[A+1];Array.isArray(I)||(I=[I]);const $=s.concat(A);if(I.length===0)return $.error("Expected at least one branch label.");for(const H of I){if(typeof H!="number"&&typeof H!="string")return $.error("Branch labels must be numbers or strings.");if(typeof H=="number"&&Math.abs(H)>Number.MAX_SAFE_INTEGER)return $.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof H=="number"&&Math.floor(H)!==H)return $.error("Numeric branch labels must be integer values.");if(d){if($.checkSubtype(d,kn(H)))return null}else d=kn(H);if(v[String(H)]!==void 0)return $.error("Branch labels must be unique.");v[String(H)]=x.length}const U=s.parse(R,A,f);if(!U)return null;f=f||U.type,x.push(U)}const b=s.parse(n[1],1,xt);if(!b)return null;const M=s.parse(n[n.length-1],n.length-1,f);return M?b.type.kind!=="value"&&s.concat(1).checkSubtype(d,b.type)?null:new zu(d,f,b,v,x,M):null}evaluate(n){const s=this.input.evaluate(n);return(kn(s)===this.inputType&&this.outputs[this.cases[s]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every(n=>n.outputDefined())&&this.otherwise.outputDefined()}}class Fu{constructor(n,s,d){this.type=n,this.branches=s,this.otherwise=d}static parse(n,s){if(n.length<4)return s.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!=0)return s.error("Expected an odd number of arguments.");let d;s.expectedType&&s.expectedType.kind!=="value"&&(d=s.expectedType);const f=[];for(let x=1;x<n.length-1;x+=2){const b=s.parse(n[x],x,kt);if(!b)return null;const M=s.parse(n[x+1],x+1,d);if(!M)return null;f.push([b,M]),d=d||M.type}const v=s.parse(n[n.length-1],n.length-1,d);if(!v)return null;if(!d)throw new Error("Can't infer output type");return new Fu(d,f,v)}evaluate(n){for(const[s,d]of this.branches)if(s.evaluate(n))return d.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[s,d]of this.branches)n(s),n(d);n(this.otherwise)}outputDefined(){return this.branches.every(([n,s])=>s.outputDefined())&&this.otherwise.outputDefined()}}class i1{constructor(n,s,d,f){this.type=n,this.input=s,this.beginIndex=d,this.endIndex=f}static parse(n,s){if(n.length<=2||n.length>=5)return s.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const d=s.parse(n[1],1,xt),f=s.parse(n[2],2,Qe);if(!d||!f)return null;if(!ue(d.type,[re(xt),Lt,xt]))return s.error(`Expected first argument to be of type array or string, but found ${ae(d.type)} instead`);if(n.length===4){const v=s.parse(n[3],3,Qe);return v?new i1(d.type,d,f,v):null}return new i1(d.type,d,f)}evaluate(n){const s=this.input.evaluate(n),d=this.beginIndex.evaluate(n);if(!ye(s,["string","array"]))throw new Ln(`Expected first argument to be of type array or string, but found ${ae(kn(s))} instead.`);if(this.endIndex){const f=this.endIndex.evaluate(n);return s.slice(d,f)}return s.slice(d)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}}function eh(o,n){return o==="=="||o==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function th(o,n,s,d){return d.compare(n,s)===0}function rs(o,n,s){const d=o!=="=="&&o!=="!=";return class l_{constructor(v,x,b){this.type=kt,this.lhs=v,this.rhs=x,this.collator=b,this.hasUntypedArgument=v.type.kind==="value"||x.type.kind==="value"}static parse(v,x){if(v.length!==3&&v.length!==4)return x.error("Expected two or three arguments.");const b=v[0];let M=x.parse(v[1],1,xt);if(!M)return null;if(!eh(b,M.type))return x.concat(1).error(`"${b}" comparisons are not supported for type '${ae(M.type)}'.`);let A=x.parse(v[2],2,xt);if(!A)return null;if(!eh(b,A.type))return x.concat(2).error(`"${b}" comparisons are not supported for type '${ae(A.type)}'.`);if(M.type.kind!==A.type.kind&&M.type.kind!=="value"&&A.type.kind!=="value")return x.error(`Cannot compare types '${ae(M.type)}' and '${ae(A.type)}'.`);d&&(M.type.kind==="value"&&A.type.kind!=="value"?M=new Ti(A.type,[M]):M.type.kind!=="value"&&A.type.kind==="value"&&(A=new Ti(M.type,[A])));let I=null;if(v.length===4){if(M.type.kind!=="string"&&A.type.kind!=="string"&&M.type.kind!=="value"&&A.type.kind!=="value")return x.error("Cannot use collator to compare non-string types.");if(I=x.parse(v[3],3,ki),!I)return null}return new l_(M,A,I)}evaluate(v){const x=this.lhs.evaluate(v),b=this.rhs.evaluate(v);if(d&&this.hasUntypedArgument){const M=kn(x),A=kn(b);if(M.kind!==A.kind||M.kind!=="string"&&M.kind!=="number")throw new Ln(`Expected arguments for "${o}" to be (string, string) or (number, number), but found (${M.kind}, ${A.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const M=kn(x),A=kn(b);if(M.kind!=="string"||A.kind!=="string")return n(v,x,b)}return this.collator?s(v,x,b,this.collator.evaluate(v)):n(v,x,b)}eachChild(v){v(this.lhs),v(this.rhs),this.collator&&v(this.collator)}outputDefined(){return!0}}}const A0=rs("==",function(o,n,s){return n===s},th),P0=rs("!=",function(o,n,s){return n!==s},function(o,n,s,d){return!th(0,n,s,d)}),T0=rs("<",function(o,n,s){return n<s},function(o,n,s,d){return d.compare(n,s)<0}),I0=rs(">",function(o,n,s){return n>s},function(o,n,s,d){return d.compare(n,s)>0}),L0=rs("<=",function(o,n,s){return n<=s},function(o,n,s,d){return d.compare(n,s)<=0}),D0=rs(">=",function(o,n,s){return n>=s},function(o,n,s,d){return d.compare(n,s)>=0});class Nu{constructor(n,s,d,f,v){this.type=Lt,this.number=n,this.locale=s,this.currency=d,this.minFractionDigits=f,this.maxFractionDigits=v}static parse(n,s){if(n.length!==3)return s.error("Expected two arguments.");const d=s.parse(n[1],1,Qe);if(!d)return null;const f=n[2];if(typeof f!="object"||Array.isArray(f))return s.error("NumberFormat options argument must be an object.");let v=null;if(f.locale&&(v=s.parse(f.locale,1,Lt),!v))return null;let x=null;if(f.currency&&(x=s.parse(f.currency,1,Lt),!x))return null;let b=null;if(f["min-fraction-digits"]&&(b=s.parse(f["min-fraction-digits"],1,Qe),!b))return null;let M=null;return f["max-fraction-digits"]&&(M=s.parse(f["max-fraction-digits"],1,Qe),!M)?null:new Nu(d,v,x,b,M)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}}class o1{constructor(n){this.type=ie,this.sections=n}static parse(n,s){if(n.length<2)return s.error("Expected at least one argument.");const d=n[1];if(!Array.isArray(d)&&typeof d=="object")return s.error("First argument must be an image or text section.");const f=[];let v=!1;for(let x=1;x<=n.length-1;++x){const b=n[x];if(v&&typeof b=="object"&&!Array.isArray(b)){v=!1;let M=null;if(b["font-scale"]&&(M=s.parse(b["font-scale"],1,Qe),!M))return null;let A=null;if(b["text-font"]&&(A=s.parse(b["text-font"],1,re(Lt)),!A))return null;let I=null;if(b["text-color"]&&(I=s.parse(b["text-color"],1,On),!I))return null;const R=f[f.length-1];R.scale=M,R.font=A,R.textColor=I}else{const M=s.parse(n[x],1,xt);if(!M)return null;const A=M.type.kind;if(A!=="string"&&A!=="value"&&A!=="null"&&A!=="resolvedImage")return s.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");v=!0,f.push({content:M,scale:null,font:null,textColor:null})}}return new o1(f)}evaluate(n){return new Ar(this.sections.map(s=>{const d=s.content.evaluate(n);return kn(d)===j?new Ul("",d,null,null,null):new Ul(Qt(d),null,s.scale?s.scale.evaluate(n):null,s.font?s.font.evaluate(n).join(","):null,s.textColor?s.textColor.evaluate(n):null)}))}eachChild(n){for(const s of this.sections)n(s.content),s.scale&&n(s.scale),s.font&&n(s.font),s.textColor&&n(s.textColor)}outputDefined(){return!1}}class Ou{constructor(n){this.type=j,this.input=n}static parse(n,s){if(n.length!==2)return s.error("Expected two arguments.");const d=s.parse(n[1],1,Lt);return d?new Ou(d):s.error("No image name provided.")}evaluate(n){const s=this.input.evaluate(n),d=vr.fromString(s);return d&&n.availableImages&&(d.available=n.availableImages.indexOf(s)>-1),d}eachChild(n){n(this.input)}outputDefined(){return!1}}class Bu{constructor(n){this.type=Qe,this.input=n}static parse(n,s){if(n.length!==2)return s.error(`Expected 1 argument, but found ${n.length-1} instead.`);const d=s.parse(n[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?s.error(`Expected argument of type string or array, but found ${ae(d.type)} instead.`):new Bu(d):null}evaluate(n){const s=this.input.evaluate(n);if(typeof s=="string"||Array.isArray(s))return s.length;throw new Ln(`Expected value to be of type string or array, but found ${ae(kn(s))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}}const is={"==":A0,"!=":P0,">":I0,"<":T0,">=":D0,"<=":L0,array:Ti,at:Du,boolean:Ti,case:Fu,coalesce:t1,collator:ql,format:o1,image:Ou,in:Ru,"index-of":r1,interpolate:ci,"interpolate-hcl":ci,"interpolate-lab":ci,length:Bu,let:n1,literal:_a,match:zu,number:Ti,"number-format":Nu,object:Ti,slice:i1,step:aa,string:Ti,"to-boolean":ia,"to-color":ia,"to-number":ia,"to-string":ia,var:Xl,within:xa};function nh(o,[n,s,d,f]){n=n.evaluate(o),s=s.evaluate(o),d=d.evaluate(o);const v=f?f.evaluate(o):1,x=Hl(n,s,d,v);if(x)throw new Ln(x);return new un(n/255,s/255,d/255,v,!1)}function rh(o,n){return o in n}function $u(o,n){const s=n[o];return s===void 0?null:s}function ba(o){return{type:o}}function ih(o){return{result:"success",value:o}}function sa(o){return{result:"error",value:o}}function os(o){return o["property-type"]==="data-driven"||o["property-type"]==="cross-faded-data-driven"}function oh(o){return!!o.expression&&o.expression.parameters.indexOf("zoom")>-1}function ju(o){return!!o.expression&&o.expression.interpolated}function en(o){return o instanceof Number?"number":o instanceof String?"string":o instanceof Boolean?"boolean":Array.isArray(o)?"array":o===null?"null":typeof o}function An(o){return typeof o=="object"&&o!==null&&!Array.isArray(o)}function R0(o){return o}function Ut(o,n){const s=n.type==="color",d=o.stops&&typeof o.stops[0][0]=="object",f=d||!(d||o.property!==void 0),v=o.type||(ju(n)?"exponential":"interval");if(s||n.type==="padding"){const I=s?un.parse:li.parse;(o=Mi({},o)).stops&&(o.stops=o.stops.map(R=>[R[0],I(R[1])])),o.default=I(o.default?o.default:n.default)}if(o.colorSpace&&(x=o.colorSpace)!=="rgb"&&x!=="hcl"&&x!=="lab")throw new Error(`Unknown color space: "${o.colorSpace}"`);var x;let b,M,A;if(v==="exponential")b=Ks;else if(v==="interval")b=Mn;else if(v==="categorical"){b=Pn,M=Object.create(null);for(const I of o.stops)M[I[0]]=I[1];A=typeof o.stops[0][0]}else{if(v!=="identity")throw new Error(`Unknown function type "${v}"`);b=ah}if(d){const I={},R=[];for(let H=0;H<o.stops.length;H++){const Y=o.stops[H],se=Y[0].zoom;I[se]===void 0&&(I[se]={zoom:se,type:o.type,property:o.property,default:o.default,stops:[]},R.push(se)),I[se].stops.push([Y[0].value,Y[1]])}const $=[];for(const H of R)$.push([I[H].zoom,Ut(I[H],n)]);const U={name:"linear"};return{kind:"composite",interpolationType:U,interpolationFactor:ci.interpolationFactor.bind(void 0,U),zoomStops:$.map(H=>H[0]),evaluate:({zoom:H},Y)=>Ks({stops:$,base:o.base},n,H).evaluate(H,Y)}}if(f){const I=v==="exponential"?{name:"exponential",base:o.base!==void 0?o.base:1}:null;return{kind:"camera",interpolationType:I,interpolationFactor:ci.interpolationFactor.bind(void 0,I),zoomStops:o.stops.map(R=>R[0]),evaluate:({zoom:R})=>b(o,n,R,M,A)}}return{kind:"source",evaluate(I,R){const $=R&&R.properties?R.properties[o.property]:void 0;return $===void 0?wa(o.default,n.default):b(o,n,$,M,A)}}}function wa(o,n,s){return o!==void 0?o:n!==void 0?n:s!==void 0?s:void 0}function Pn(o,n,s,d,f){return wa(typeof s===f?d[s]:void 0,o.default,n.default)}function Mn(o,n,s){if(en(s)!=="number")return wa(o.default,n.default);const d=o.stops.length;if(d===1||s<=o.stops[0][0])return o.stops[0][1];if(s>=o.stops[d-1][0])return o.stops[d-1][1];const f=ns(o.stops.map(v=>v[0]),s);return o.stops[f][1]}function Ks(o,n,s){const d=o.base!==void 0?o.base:1;if(en(s)!=="number")return wa(o.default,n.default);const f=o.stops.length;if(f===1||s<=o.stops[0][0])return o.stops[0][1];if(s>=o.stops[f-1][0])return o.stops[f-1][1];const v=ns(o.stops.map(I=>I[0]),s),x=function(I,R,$,U){const H=U-$,Y=I-$;return H===0?0:R===1?Y/H:(Math.pow(R,Y)-1)/(Math.pow(R,H)-1)}(s,d,o.stops[v][0],o.stops[v+1][0]),b=o.stops[v][1],M=o.stops[v+1][1],A=ui[n.type]||R0;return typeof b.evaluate=="function"?{evaluate(...I){const R=b.evaluate.apply(void 0,I),$=M.evaluate.apply(void 0,I);if(R!==void 0&&$!==void 0)return A(R,$,x,o.colorSpace)}}:A(b,M,x,o.colorSpace)}function ah(o,n,s){switch(n.type){case"color":s=un.parse(s);break;case"formatted":s=Ar.fromString(s.toString());break;case"resolvedImage":s=vr.fromString(s.toString());break;case"padding":s=li.parse(s);break;default:en(s)===n.type||n.type==="enum"&&n.values[s]||(s=void 0)}return wa(s,o.default,n.default)}Ii.register(is,{error:[{kind:"error"},[Lt],(o,[n])=>{throw new Ln(n.evaluate(o))}],typeof:[Lt,[xt],(o,[n])=>ae(kn(n.evaluate(o)))],"to-rgba":[re(Qe,4),[On],(o,[n])=>{const[s,d,f,v]=n.evaluate(o).rgb;return[255*s,255*d,255*f,v]}],rgb:[On,[Qe,Qe,Qe],nh],rgba:[On,[Qe,Qe,Qe,Qe],nh],has:{type:kt,overloads:[[[Lt],(o,[n])=>rh(n.evaluate(o),o.properties())],[[Lt,Ei],(o,[n,s])=>rh(n.evaluate(o),s.evaluate(o))]]},get:{type:xt,overloads:[[[Lt],(o,[n])=>$u(n.evaluate(o),o.properties())],[[Lt,Ei],(o,[n,s])=>$u(n.evaluate(o),s.evaluate(o))]]},"feature-state":[xt,[Lt],(o,[n])=>$u(n.evaluate(o),o.featureState||{})],properties:[Ei,[],o=>o.properties()],"geometry-type":[Lt,[],o=>o.geometryType()],id:[xt,[],o=>o.id()],zoom:[Qe,[],o=>o.globals.zoom],"heatmap-density":[Qe,[],o=>o.globals.heatmapDensity||0],"line-progress":[Qe,[],o=>o.globals.lineProgress||0],accumulated:[xt,[],o=>o.globals.accumulated===void 0?null:o.globals.accumulated],"+":[Qe,ba(Qe),(o,n)=>{let s=0;for(const d of n)s+=d.evaluate(o);return s}],"*":[Qe,ba(Qe),(o,n)=>{let s=1;for(const d of n)s*=d.evaluate(o);return s}],"-":{type:Qe,overloads:[[[Qe,Qe],(o,[n,s])=>n.evaluate(o)-s.evaluate(o)],[[Qe],(o,[n])=>-n.evaluate(o)]]},"/":[Qe,[Qe,Qe],(o,[n,s])=>n.evaluate(o)/s.evaluate(o)],"%":[Qe,[Qe,Qe],(o,[n,s])=>n.evaluate(o)%s.evaluate(o)],ln2:[Qe,[],()=>Math.LN2],pi:[Qe,[],()=>Math.PI],e:[Qe,[],()=>Math.E],"^":[Qe,[Qe,Qe],(o,[n,s])=>Math.pow(n.evaluate(o),s.evaluate(o))],sqrt:[Qe,[Qe],(o,[n])=>Math.sqrt(n.evaluate(o))],log10:[Qe,[Qe],(o,[n])=>Math.log(n.evaluate(o))/Math.LN10],ln:[Qe,[Qe],(o,[n])=>Math.log(n.evaluate(o))],log2:[Qe,[Qe],(o,[n])=>Math.log(n.evaluate(o))/Math.LN2],sin:[Qe,[Qe],(o,[n])=>Math.sin(n.evaluate(o))],cos:[Qe,[Qe],(o,[n])=>Math.cos(n.evaluate(o))],tan:[Qe,[Qe],(o,[n])=>Math.tan(n.evaluate(o))],asin:[Qe,[Qe],(o,[n])=>Math.asin(n.evaluate(o))],acos:[Qe,[Qe],(o,[n])=>Math.acos(n.evaluate(o))],atan:[Qe,[Qe],(o,[n])=>Math.atan(n.evaluate(o))],min:[Qe,ba(Qe),(o,n)=>Math.min(...n.map(s=>s.evaluate(o)))],max:[Qe,ba(Qe),(o,n)=>Math.max(...n.map(s=>s.evaluate(o)))],abs:[Qe,[Qe],(o,[n])=>Math.abs(n.evaluate(o))],round:[Qe,[Qe],(o,[n])=>{const s=n.evaluate(o);return s<0?-Math.round(-s):Math.round(s)}],floor:[Qe,[Qe],(o,[n])=>Math.floor(n.evaluate(o))],ceil:[Qe,[Qe],(o,[n])=>Math.ceil(n.evaluate(o))],"filter-==":[kt,[Lt,xt],(o,[n,s])=>o.properties()[n.value]===s.value],"filter-id-==":[kt,[xt],(o,[n])=>o.id()===n.value],"filter-type-==":[kt,[Lt],(o,[n])=>o.geometryType()===n.value],"filter-<":[kt,[Lt,xt],(o,[n,s])=>{const d=o.properties()[n.value],f=s.value;return typeof d==typeof f&&d<f}],"filter-id-<":[kt,[xt],(o,[n])=>{const s=o.id(),d=n.value;return typeof s==typeof d&&s<d}],"filter->":[kt,[Lt,xt],(o,[n,s])=>{const d=o.properties()[n.value],f=s.value;return typeof d==typeof f&&d>f}],"filter-id->":[kt,[xt],(o,[n])=>{const s=o.id(),d=n.value;return typeof s==typeof d&&s>d}],"filter-<=":[kt,[Lt,xt],(o,[n,s])=>{const d=o.properties()[n.value],f=s.value;return typeof d==typeof f&&d<=f}],"filter-id-<=":[kt,[xt],(o,[n])=>{const s=o.id(),d=n.value;return typeof s==typeof d&&s<=d}],"filter->=":[kt,[Lt,xt],(o,[n,s])=>{const d=o.properties()[n.value],f=s.value;return typeof d==typeof f&&d>=f}],"filter-id->=":[kt,[xt],(o,[n])=>{const s=o.id(),d=n.value;return typeof s==typeof d&&s>=d}],"filter-has":[kt,[xt],(o,[n])=>n.value in o.properties()],"filter-has-id":[kt,[],o=>o.id()!==null&&o.id()!==void 0],"filter-type-in":[kt,[re(Lt)],(o,[n])=>n.value.indexOf(o.geometryType())>=0],"filter-id-in":[kt,[re(xt)],(o,[n])=>n.value.indexOf(o.id())>=0],"filter-in-small":[kt,[Lt,re(xt)],(o,[n,s])=>s.value.indexOf(o.properties()[n.value])>=0],"filter-in-large":[kt,[Lt,re(xt)],(o,[n,s])=>function(d,f,v,x){for(;v<=x;){const b=v+x>>1;if(f[b]===d)return!0;f[b]>d?x=b-1:v=b+1}return!1}(o.properties()[n.value],s.value,0,s.value.length-1)],all:{type:kt,overloads:[[[kt,kt],(o,[n,s])=>n.evaluate(o)&&s.evaluate(o)],[ba(kt),(o,n)=>{for(const s of n)if(!s.evaluate(o))return!1;return!0}]]},any:{type:kt,overloads:[[[kt,kt],(o,[n,s])=>n.evaluate(o)||s.evaluate(o)],[ba(kt),(o,n)=>{for(const s of n)if(s.evaluate(o))return!0;return!1}]]},"!":[kt,[kt],(o,[n])=>!n.evaluate(o)],"is-supported-script":[kt,[Lt],(o,[n])=>{const s=o.globals&&o.globals.isSupportedScript;return!s||s(n.evaluate(o))}],upcase:[Lt,[Lt],(o,[n])=>n.evaluate(o).toUpperCase()],downcase:[Lt,[Lt],(o,[n])=>n.evaluate(o).toLowerCase()],concat:[Lt,ba(xt),(o,n)=>n.map(s=>Qt(s.evaluate(o))).join("")],"resolved-locale":[Lt,[ki],(o,[n])=>n.evaluate(o).resolvedLocale()]});class Vu{constructor(n,s){var d;this.expression=n,this._warningHistory={},this._evaluator=new Eu,this._defaultValue=s?(d=s).type==="color"&&An(d.default)?new un(0,0,0,0):d.type==="color"?un.parse(d.default)||null:d.type==="padding"?li.parse(d.default)||null:d.type==="variableAnchorOffsetCollection"?Pi.parse(d.default)||null:d.default===void 0?null:d.default:null,this._enumValues=s&&s.type==="enum"?s.values:null}evaluateWithoutErrorHandling(n,s,d,f,v,x){return this._evaluator.globals=n,this._evaluator.feature=s,this._evaluator.featureState=d,this._evaluator.canonical=f,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=x,this.expression.evaluate(this._evaluator)}evaluate(n,s,d,f,v,x){this._evaluator.globals=n,this._evaluator.feature=s||null,this._evaluator.featureState=d||null,this._evaluator.canonical=f,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=x||null;try{const b=this.expression.evaluate(this._evaluator);if(b==null||typeof b=="number"&&b!=b)return this._defaultValue;if(this._enumValues&&!(b in this._enumValues))throw new Ln(`Expected value to be one of ${Object.keys(this._enumValues).map(M=>JSON.stringify(M)).join(", ")}, but found ${JSON.stringify(b)} instead.`);return b}catch(b){return this._warningHistory[b.message]||(this._warningHistory[b.message]=!0,typeof console<"u"&&console.warn(b.message)),this._defaultValue}}}function a1(o){return Array.isArray(o)&&o.length>0&&typeof o[0]=="string"&&o[0]in is}function s1(o,n){const s=new Gl(is,Jl,[],n?function(f){const v={color:On,string:Lt,number:Qe,enum:Lt,boolean:kt,formatted:ie,padding:N,resolvedImage:j,variableAnchorOffsetCollection:q};return f.type==="array"?re(v[f.value]||xt,f.length):v[f.type]}(n):void 0),d=s.parse(o,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return d?ih(new Vu(d,n)):sa(s.errors)}class Wu{constructor(n,s){this.kind=n,this._styleExpression=s,this.isStateDependent=n!=="constant"&&!qs(s.expression)}evaluateWithoutErrorHandling(n,s,d,f,v,x){return this._styleExpression.evaluateWithoutErrorHandling(n,s,d,f,v,x)}evaluate(n,s,d,f,v,x){return this._styleExpression.evaluate(n,s,d,f,v,x)}}class l1{constructor(n,s,d,f){this.kind=n,this.zoomStops=d,this._styleExpression=s,this.isStateDependent=n!=="camera"&&!qs(s.expression),this.interpolationType=f}evaluateWithoutErrorHandling(n,s,d,f,v,x){return this._styleExpression.evaluateWithoutErrorHandling(n,s,d,f,v,x)}evaluate(n,s,d,f,v,x){return this._styleExpression.evaluate(n,s,d,f,v,x)}interpolationFactor(n,s,d){return this.interpolationType?ci.interpolationFactor(this.interpolationType,n,s,d):0}}function Uu(o,n){const s=s1(o,n);if(s.result==="error")return s;const d=s.value.expression,f=Yl(d);if(!f&&!os(n))return sa([new Cn("","data expressions not supported")]);const v=Ql(d,["zoom"]);if(!v&&!oh(n))return sa([new Cn("","zoom expressions not supported")]);const x=Js(d);return x||v?x instanceof Cn?sa([x]):x instanceof ci&&!ju(n)?sa([new Cn("",'"interpolate" expressions cannot be used with this property')]):ih(x?new l1(f?"camera":"composite",s.value,x.labels,x instanceof ci?x.interpolation:void 0):new Wu(f?"constant":"source",s.value)):sa([new Cn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Xs{constructor(n,s){this._parameters=n,this._specification=s,Mi(this,Ut(this._parameters,this._specification))}static deserialize(n){return new Xs(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}}function Js(o){let n=null;if(o instanceof n1)n=Js(o.result);else if(o instanceof t1){for(const s of o.args)if(n=Js(s),n)break}else(o instanceof aa||o instanceof ci)&&o.input instanceof Ii&&o.input.name==="zoom"&&(n=o);return n instanceof Cn||o.eachChild(s=>{const d=Js(s);d instanceof Cn?n=d:!n&&d?n=new Cn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&d&&n!==d&&(n=new Cn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}function Ys(o){if(o===!0||o===!1)return!0;if(!Array.isArray(o)||o.length===0)return!1;switch(o[0]){case"has":return o.length>=2&&o[1]!=="$id"&&o[1]!=="$type";case"in":return o.length>=3&&(typeof o[1]!="string"||Array.isArray(o[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return o.length!==3||Array.isArray(o[1])||Array.isArray(o[2]);case"any":case"all":for(const n of o.slice(1))if(!Ys(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}const z0={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Hu(o){if(o==null)return{filter:()=>!0,needGeometry:!1};Ys(o)||(o=u1(o));const n=s1(o,z0);if(n.result==="error")throw new Error(n.value.map(s=>`${s.key}: ${s.message}`).join(", "));return{filter:(s,d,f)=>n.value.evaluate(s,d,{},f),needGeometry:sh(o)}}function F0(o,n){return o<n?-1:o>n?1:0}function sh(o){if(!Array.isArray(o))return!1;if(o[0]==="within")return!0;for(let n=1;n<o.length;n++)if(sh(o[n]))return!0;return!1}function u1(o){if(!o)return!0;const n=o[0];return o.length<=1?n!=="any":n==="=="?Zu(o[1],o[2],"=="):n==="!="?Qs(Zu(o[1],o[2],"==")):n==="<"||n===">"||n==="<="||n===">="?Zu(o[1],o[2],n):n==="any"?(s=o.slice(1),["any"].concat(s.map(u1))):n==="all"?["all"].concat(o.slice(1).map(u1)):n==="none"?["all"].concat(o.slice(1).map(u1).map(Qs)):n==="in"?lh(o[1],o.slice(2)):n==="!in"?Qs(lh(o[1],o.slice(2))):n==="has"?uh(o[1]):n==="!has"?Qs(uh(o[1])):n!=="within"||o;var s}function Zu(o,n,s){switch(o){case"$type":return[`filter-type-${s}`,n];case"$id":return[`filter-id-${s}`,n];default:return[`filter-${s}`,o,n]}}function lh(o,n){if(n.length===0)return!1;switch(o){case"$type":return["filter-type-in",["literal",n]];case"$id":return["filter-id-in",["literal",n]];default:return n.length>200&&!n.some(s=>typeof s!=typeof n[0])?["filter-in-large",o,["literal",n.sort(F0)]]:["filter-in-small",o,["literal",n]]}}function uh(o){switch(o){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",o]}}function Qs(o){return["!",o]}function c1(o){const n=typeof o;if(n==="number"||n==="boolean"||n==="string"||o==null)return JSON.stringify(o);if(Array.isArray(o)){let f="[";for(const v of o)f+=`${c1(v)},`;return`${f}]`}const s=Object.keys(o).sort();let d="{";for(let f=0;f<s.length;f++)d+=`${JSON.stringify(s[f])}:${c1(o[s[f]])},`;return`${d}}`}function d1(o){let n="";for(const s of Rt)n+=`/${c1(o[s])}`;return n}function ch(o){const n=o.value;return n?[new Ye(o.key,n,"constants have been deprecated as of v8")]:[]}function Dn(o){return o instanceof Number||o instanceof String||o instanceof Boolean?o.valueOf():o}function Sa(o){if(Array.isArray(o))return o.map(Sa);if(o instanceof Object&&!(o instanceof Number||o instanceof String||o instanceof Boolean)){const n={};for(const s in o)n[s]=Sa(o[s]);return n}return Dn(o)}function qr(o){const n=o.key,s=o.value,d=o.valueSpec||{},f=o.objectElementValidators||{},v=o.style,x=o.styleSpec,b=o.validateSpec;let M=[];const A=en(s);if(A!=="object")return[new Ye(n,s,`object expected, ${A} found`)];for(const I in s){const R=I.split(".")[0],$=d[R]||d["*"];let U;if(f[R])U=f[R];else if(d[R])U=b;else if(f["*"])U=f["*"];else{if(!d["*"]){M.push(new Ye(n,s[I],`unknown property "${I}"`));continue}U=b}M=M.concat(U({key:(n&&`${n}.`)+I,value:s[I],valueSpec:$,style:v,styleSpec:x,object:s,objectKey:I,validateSpec:b},s))}for(const I in d)f[I]||d[I].required&&d[I].default===void 0&&s[I]===void 0&&M.push(new Ye(n,s,`missing required property "${I}"`));return M}function as(o){const n=o.value,s=o.valueSpec,d=o.style,f=o.styleSpec,v=o.key,x=o.arrayElementValidator||o.validateSpec;if(en(n)!=="array")return[new Ye(v,n,`array expected, ${en(n)} found`)];if(s.length&&n.length!==s.length)return[new Ye(v,n,`array length ${s.length} expected, length ${n.length} found`)];if(s["min-length"]&&n.length<s["min-length"])return[new Ye(v,n,`array length at least ${s["min-length"]} expected, length ${n.length} found`)];let b={type:s.value,values:s.values};f.$version<7&&(b.function=s.function),en(s.value)==="object"&&(b=s.value);let M=[];for(let A=0;A<n.length;A++)M=M.concat(x({array:n,arrayIndex:A,value:n[A],valueSpec:b,validateSpec:o.validateSpec,style:d,styleSpec:f,key:`${v}[${A}]`}));return M}function el(o){const n=o.key,s=o.value,d=o.valueSpec;let f=en(s);return f==="number"&&s!=s&&(f="NaN"),f!=="number"?[new Ye(n,s,`number expected, ${f} found`)]:"minimum"in d&&s<d.minimum?[new Ye(n,s,`${s} is less than the minimum value ${d.minimum}`)]:"maximum"in d&&s>d.maximum?[new Ye(n,s,`${s} is greater than the maximum value ${d.maximum}`)]:[]}function h1(o){const n=o.valueSpec,s=Dn(o.value.type);let d,f,v,x={};const b=s!=="categorical"&&o.value.property===void 0,M=!b,A=en(o.value.stops)==="array"&&en(o.value.stops[0])==="array"&&en(o.value.stops[0][0])==="object",I=qr({key:o.key,value:o.value,valueSpec:o.styleSpec.function,validateSpec:o.validateSpec,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{stops:function(U){if(s==="identity")return[new Ye(U.key,U.value,'identity function may not have a "stops" property')];let H=[];const Y=U.value;return H=H.concat(as({key:U.key,value:Y,valueSpec:U.valueSpec,validateSpec:U.validateSpec,style:U.style,styleSpec:U.styleSpec,arrayElementValidator:R})),en(Y)==="array"&&Y.length===0&&H.push(new Ye(U.key,Y,"array must have at least one stop")),H},default:function(U){return U.validateSpec({key:U.key,value:U.value,valueSpec:n,validateSpec:U.validateSpec,style:U.style,styleSpec:U.styleSpec})}}});return s==="identity"&&b&&I.push(new Ye(o.key,o.value,'missing required property "property"')),s==="identity"||o.value.stops||I.push(new Ye(o.key,o.value,'missing required property "stops"')),s==="exponential"&&o.valueSpec.expression&&!ju(o.valueSpec)&&I.push(new Ye(o.key,o.value,"exponential functions not supported")),o.styleSpec.$version>=8&&(M&&!os(o.valueSpec)?I.push(new Ye(o.key,o.value,"property functions not supported")):b&&!oh(o.valueSpec)&&I.push(new Ye(o.key,o.value,"zoom functions not supported"))),s!=="categorical"&&!A||o.value.property!==void 0||I.push(new Ye(o.key,o.value,'"property" property is required')),I;function R(U){let H=[];const Y=U.value,se=U.key;if(en(Y)!=="array")return[new Ye(se,Y,`array expected, ${en(Y)} found`)];if(Y.length!==2)return[new Ye(se,Y,`array length 2 expected, length ${Y.length} found`)];if(A){if(en(Y[0])!=="object")return[new Ye(se,Y,`object expected, ${en(Y[0])} found`)];if(Y[0].zoom===void 0)return[new Ye(se,Y,"object stop key must have zoom")];if(Y[0].value===void 0)return[new Ye(se,Y,"object stop key must have value")];if(v&&v>Dn(Y[0].zoom))return[new Ye(se,Y[0].zoom,"stop zoom values must appear in ascending order")];Dn(Y[0].zoom)!==v&&(v=Dn(Y[0].zoom),f=void 0,x={}),H=H.concat(qr({key:`${se}[0]`,value:Y[0],valueSpec:{zoom:{}},validateSpec:U.validateSpec,style:U.style,styleSpec:U.styleSpec,objectElementValidators:{zoom:el,value:$}}))}else H=H.concat($({key:`${se}[0]`,value:Y[0],valueSpec:{},validateSpec:U.validateSpec,style:U.style,styleSpec:U.styleSpec},Y));return a1(Sa(Y[1]))?H.concat([new Ye(`${se}[1]`,Y[1],"expressions are not allowed in function stops.")]):H.concat(U.validateSpec({key:`${se}[1]`,value:Y[1],valueSpec:n,validateSpec:U.validateSpec,style:U.style,styleSpec:U.styleSpec}))}function $(U,H){const Y=en(U.value),se=Dn(U.value),ce=U.value!==null?U.value:H;if(d){if(Y!==d)return[new Ye(U.key,ce,`${Y} stop domain type must match previous stop domain type ${d}`)]}else d=Y;if(Y!=="number"&&Y!=="string"&&Y!=="boolean")return[new Ye(U.key,ce,"stop domain value must be a number, string, or boolean")];if(Y!=="number"&&s!=="categorical"){let _e=`number expected, ${Y} found`;return os(n)&&s===void 0&&(_e+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ye(U.key,ce,_e)]}return s!=="categorical"||Y!=="number"||isFinite(se)&&Math.floor(se)===se?s!=="categorical"&&Y==="number"&&f!==void 0&&se<f?[new Ye(U.key,ce,"stop domain values must appear in ascending order")]:(f=se,s==="categorical"&&se in x?[new Ye(U.key,ce,"stop domain values must be unique")]:(x[se]=!0,[])):[new Ye(U.key,ce,`integer expected, found ${se}`)]}}function Ca(o){const n=(o.expressionContext==="property"?Uu:s1)(Sa(o.value),o.valueSpec);if(n.result==="error")return n.value.map(d=>new Ye(`${o.key}${d.key}`,o.value,d.message));const s=n.value.expression||n.value._styleExpression.expression;if(o.expressionContext==="property"&&o.propertyKey==="text-font"&&!s.outputDefined())return[new Ye(o.key,o.value,`Invalid data expression for "${o.propertyKey}". Output values must be contained as literals within the expression.`)];if(o.expressionContext==="property"&&o.propertyType==="layout"&&!qs(s))return[new Ye(o.key,o.value,'"feature-state" data expressions are not supported with layout properties.')];if(o.expressionContext==="filter"&&!qs(s))return[new Ye(o.key,o.value,'"feature-state" data expressions are not supported with filters.')];if(o.expressionContext&&o.expressionContext.indexOf("cluster")===0){if(!Ql(s,["zoom","feature-state"]))return[new Ye(o.key,o.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(o.expressionContext==="cluster-initial"&&!Yl(s))return[new Ye(o.key,o.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function tl(o){const n=o.key,s=o.value,d=o.valueSpec,f=[];return Array.isArray(d.values)?d.values.indexOf(Dn(s))===-1&&f.push(new Ye(n,s,`expected one of [${d.values.join(", ")}], ${JSON.stringify(s)} found`)):Object.keys(d.values).indexOf(Dn(s))===-1&&f.push(new Ye(n,s,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(s)} found`)),f}function ss(o){return Ys(Sa(o.value))?Ca(Mi({},o,{expressionContext:"filter",valueSpec:{value:"boolean"}})):dh(o)}function dh(o){const n=o.value,s=o.key;if(en(n)!=="array")return[new Ye(s,n,`array expected, ${en(n)} found`)];const d=o.styleSpec;let f,v=[];if(n.length<1)return[new Ye(s,n,"filter array must have at least 1 element")];switch(v=v.concat(tl({key:`${s}[0]`,value:n[0],valueSpec:d.filter_operator,style:o.style,styleSpec:o.styleSpec})),Dn(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&Dn(n[1])==="$type"&&v.push(new Ye(s,n,`"$type" cannot be use with operator "${n[0]}"`));case"==":case"!=":n.length!==3&&v.push(new Ye(s,n,`filter array for operator "${n[0]}" must have 3 elements`));case"in":case"!in":n.length>=2&&(f=en(n[1]),f!=="string"&&v.push(new Ye(`${s}[1]`,n[1],`string expected, ${f} found`)));for(let x=2;x<n.length;x++)f=en(n[x]),Dn(n[1])==="$type"?v=v.concat(tl({key:`${s}[${x}]`,value:n[x],valueSpec:d.geometry_type,style:o.style,styleSpec:o.styleSpec})):f!=="string"&&f!=="number"&&f!=="boolean"&&v.push(new Ye(`${s}[${x}]`,n[x],`string, number, or boolean expected, ${f} found`));break;case"any":case"all":case"none":for(let x=1;x<n.length;x++)v=v.concat(dh({key:`${s}[${x}]`,value:n[x],style:o.style,styleSpec:o.styleSpec}));break;case"has":case"!has":f=en(n[1]),n.length!==2?v.push(new Ye(s,n,`filter array for "${n[0]}" operator must have 2 elements`)):f!=="string"&&v.push(new Ye(`${s}[1]`,n[1],`string expected, ${f} found`));break;case"within":f=en(n[1]),n.length!==2?v.push(new Ye(s,n,`filter array for "${n[0]}" operator must have 2 elements`)):f!=="object"&&v.push(new Ye(`${s}[1]`,n[1],`object expected, ${f} found`))}return v}function hh(o,n){const s=o.key,d=o.validateSpec,f=o.style,v=o.styleSpec,x=o.value,b=o.objectKey,M=v[`${n}_${o.layerType}`];if(!M)return[];const A=b.match(/^(.*)-transition$/);if(n==="paint"&&A&&M[A[1]]&&M[A[1]].transition)return d({key:s,value:x,valueSpec:v.transition,style:f,styleSpec:v});const I=o.valueSpec||M[b];if(!I)return[new Ye(s,x,`unknown property "${b}"`)];let R;if(en(x)==="string"&&os(I)&&!I.tokens&&(R=/^{([^}]+)}$/.exec(x)))return[new Ye(s,x,`"${b}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(R[1])} }\`.`)];const $=[];return o.layerType==="symbol"&&(b==="text-field"&&f&&!f.glyphs&&$.push(new Ye(s,x,'use of "text-field" requires a style "glyphs" property')),b==="text-font"&&An(Sa(x))&&Dn(x.type)==="identity"&&$.push(new Ye(s,x,'"text-font" does not support identity functions'))),$.concat(d({key:o.key,value:x,valueSpec:I,style:f,styleSpec:v,expressionContext:"property",propertyType:n,propertyKey:b}))}function ph(o){return hh(o,"paint")}function fh(o){return hh(o,"layout")}function mh(o){let n=[];const s=o.value,d=o.key,f=o.style,v=o.styleSpec;s.type||s.ref||n.push(new Ye(d,s,'either "type" or "ref" is required'));let x=Dn(s.type);const b=Dn(s.ref);if(s.id){const M=Dn(s.id);for(let A=0;A<o.arrayIndex;A++){const I=f.layers[A];Dn(I.id)===M&&n.push(new Ye(d,s.id,`duplicate layer id "${s.id}", previously used at line ${I.id.__line__}`))}}if("ref"in s){let M;["type","source","source-layer","filter","layout"].forEach(A=>{A in s&&n.push(new Ye(d,s[A],`"${A}" is prohibited for ref layers`))}),f.layers.forEach(A=>{Dn(A.id)===b&&(M=A)}),M?M.ref?n.push(new Ye(d,s.ref,"ref cannot reference another ref layer")):x=Dn(M.type):n.push(new Ye(d,s.ref,`ref layer "${b}" not found`))}else if(x!=="background")if(s.source){const M=f.sources&&f.sources[s.source],A=M&&Dn(M.type);M?A==="vector"&&x==="raster"?n.push(new Ye(d,s.source,`layer "${s.id}" requires a raster source`)):A!=="raster-dem"&&x==="hillshade"?n.push(new Ye(d,s.source,`layer "${s.id}" requires a raster-dem source`)):A==="raster"&&x!=="raster"?n.push(new Ye(d,s.source,`layer "${s.id}" requires a vector source`)):A!=="vector"||s["source-layer"]?A==="raster-dem"&&x!=="hillshade"?n.push(new Ye(d,s.source,"raster-dem source can only be used with layer type 'hillshade'.")):x!=="line"||!s.paint||!s.paint["line-gradient"]||A==="geojson"&&M.lineMetrics||n.push(new Ye(d,s,`layer "${s.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):n.push(new Ye(d,s,`layer "${s.id}" must specify a "source-layer"`)):n.push(new Ye(d,s.source,`source "${s.source}" not found`))}else n.push(new Ye(d,s,'missing required property "source"'));return n=n.concat(qr({key:d,value:s,valueSpec:v.layer,style:o.style,styleSpec:o.styleSpec,validateSpec:o.validateSpec,objectElementValidators:{"*":()=>[],type:()=>o.validateSpec({key:`${d}.type`,value:s.type,valueSpec:v.layer.type,style:o.style,styleSpec:o.styleSpec,validateSpec:o.validateSpec,object:s,objectKey:"type"}),filter:ss,layout:M=>qr({layer:s,key:M.key,value:M.value,style:M.style,styleSpec:M.styleSpec,validateSpec:M.validateSpec,objectElementValidators:{"*":A=>fh(Mi({layerType:x},A))}}),paint:M=>qr({layer:s,key:M.key,value:M.value,style:M.style,styleSpec:M.styleSpec,validateSpec:M.validateSpec,objectElementValidators:{"*":A=>ph(Mi({layerType:x},A))}})}})),n}function co(o){const n=o.value,s=o.key,d=en(n);return d!=="string"?[new Ye(s,n,`string expected, ${d} found`)]:[]}const nl={promoteId:function({key:o,value:n}){if(en(n)==="string")return co({key:o,value:n});{const s=[];for(const d in n)s.push(...co({key:`${o}.${d}`,value:n[d]}));return s}}};function di(o){const n=o.value,s=o.key,d=o.styleSpec,f=o.style,v=o.validateSpec;if(!n.type)return[new Ye(s,n,'"type" is required')];const x=Dn(n.type);let b;switch(x){case"vector":case"raster":return b=qr({key:s,value:n,valueSpec:d[`source_${x.replace("-","_")}`],style:o.style,styleSpec:d,objectElementValidators:nl,validateSpec:v}),b;case"raster-dem":return b=function(M){var A;const I=(A=M.sourceName)!==null&&A!==void 0?A:"",R=M.value,$=M.styleSpec,U=$.source_raster_dem,H=M.style;let Y=[];const se=en(R);if(R===void 0)return Y;if(se!=="object")return Y.push(new Ye("source_raster_dem",R,`object expected, ${se} found`)),Y;const ce=Dn(R.encoding)==="custom",_e=["redFactor","greenFactor","blueFactor","baseShift"],fe=M.value.encoding?`"${M.value.encoding}"`:"Default";for(const be in R)!ce&&_e.includes(be)?Y.push(new Ye(be,R[be],`In "${I}": "${be}" is only valid when "encoding" is set to "custom". ${fe} encoding found`)):U[be]?Y=Y.concat(M.validateSpec({key:be,value:R[be],valueSpec:U[be],validateSpec:M.validateSpec,style:H,styleSpec:$})):Y.push(new Ye(be,R[be],`unknown property "${be}"`));return Y}({sourceName:s,value:n,style:o.style,styleSpec:d,validateSpec:v}),b;case"geojson":if(b=qr({key:s,value:n,valueSpec:d.source_geojson,style:f,styleSpec:d,validateSpec:v,objectElementValidators:nl}),n.cluster)for(const M in n.clusterProperties){const[A,I]=n.clusterProperties[M],R=typeof A=="string"?[A,["accumulated"],["get",M]]:A;b.push(...Ca({key:`${s}.${M}.map`,value:I,validateSpec:v,expressionContext:"cluster-map"})),b.push(...Ca({key:`${s}.${M}.reduce`,value:R,validateSpec:v,expressionContext:"cluster-reduce"}))}return b;case"video":return qr({key:s,value:n,valueSpec:d.source_video,style:f,validateSpec:v,styleSpec:d});case"image":return qr({key:s,value:n,valueSpec:d.source_image,style:f,validateSpec:v,styleSpec:d});case"canvas":return[new Ye(s,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return tl({key:`${s}.type`,value:n.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:f,validateSpec:v,styleSpec:d})}}function rl(o){const n=o.value,s=o.styleSpec,d=s.light,f=o.style;let v=[];const x=en(n);if(n===void 0)return v;if(x!=="object")return v=v.concat([new Ye("light",n,`object expected, ${x} found`)]),v;for(const b in n){const M=b.match(/^(.*)-transition$/);v=v.concat(M&&d[M[1]]&&d[M[1]].transition?o.validateSpec({key:b,value:n[b],valueSpec:s.transition,validateSpec:o.validateSpec,style:f,styleSpec:s}):d[b]?o.validateSpec({key:b,value:n[b],valueSpec:d[b],validateSpec:o.validateSpec,style:f,styleSpec:s}):[new Ye(b,n[b],`unknown property "${b}"`)])}return v}function gh(o){const n=o.value,s=o.styleSpec,d=s.terrain,f=o.style;let v=[];const x=en(n);if(n===void 0)return v;if(x!=="object")return v=v.concat([new Ye("terrain",n,`object expected, ${x} found`)]),v;for(const b in n)v=v.concat(d[b]?o.validateSpec({key:b,value:n[b],valueSpec:d[b],validateSpec:o.validateSpec,style:f,styleSpec:s}):[new Ye(b,n[b],`unknown property "${b}"`)]);return v}function yh(o){let n=[];const s=o.value,d=o.key;if(Array.isArray(s)){const f=[],v=[];for(const x in s)s[x].id&&f.includes(s[x].id)&&n.push(new Ye(d,s,`all the sprites' ids must be unique, but ${s[x].id} is duplicated`)),f.push(s[x].id),s[x].url&&v.includes(s[x].url)&&n.push(new Ye(d,s,`all the sprites' URLs must be unique, but ${s[x].url} is duplicated`)),v.push(s[x].url),n=n.concat(qr({key:`${d}[${x}]`,value:s[x],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:o.validateSpec}));return n}return co({key:d,value:s})}const vh={"*":()=>[],array:as,boolean:function(o){const n=o.value,s=o.key,d=en(n);return d!=="boolean"?[new Ye(s,n,`boolean expected, ${d} found`)]:[]},number:el,color:function(o){const n=o.key,s=o.value,d=en(s);return d!=="string"?[new Ye(n,s,`color expected, ${d} found`)]:un.parse(String(s))?[]:[new Ye(n,s,`color expected, "${s}" found`)]},constants:ch,enum:tl,filter:ss,function:h1,layer:mh,object:qr,source:di,light:rl,terrain:gh,string:co,formatted:function(o){return co(o).length===0?[]:Ca(o)},resolvedImage:function(o){return co(o).length===0?[]:Ca(o)},padding:function(o){const n=o.key,s=o.value;if(en(s)==="array"){if(s.length<1||s.length>4)return[new Ye(n,s,`padding requires 1 to 4 values; ${s.length} values found`)];const d={type:"number"};let f=[];for(let v=0;v<s.length;v++)f=f.concat(o.validateSpec({key:`${n}[${v}]`,value:s[v],validateSpec:o.validateSpec,valueSpec:d}));return f}return el({key:n,value:s,valueSpec:{}})},variableAnchorOffsetCollection:function(o){const n=o.key,s=o.value,d=en(s),f=o.styleSpec;if(d!=="array"||s.length<1||s.length%2!=0)return[new Ye(n,s,"variableAnchorOffsetCollection requires a non-empty array of even length")];let v=[];for(let x=0;x<s.length;x+=2)v=v.concat(tl({key:`${n}[${x}]`,value:s[x],valueSpec:f.layout_symbol["text-anchor"]})),v=v.concat(as({key:`${n}[${x+1}]`,value:s[x+1],valueSpec:{length:2,value:"number"},validateSpec:o.validateSpec,style:o.style,styleSpec:f}));return v},sprite:yh};function Lo(o){const n=o.value,s=o.valueSpec,d=o.styleSpec;return o.validateSpec=Lo,s.expression&&An(Dn(n))?h1(o):s.expression&&a1(Sa(n))?Ca(o):s.type&&vh[s.type]?vh[s.type](o):qr(Mi({},o,{valueSpec:s.type?d[s.type]:s}))}function _h(o){const n=o.value,s=o.key,d=co(o);return d.length||(n.indexOf("{fontstack}")===-1&&d.push(new Ye(s,n,'"glyphs" url must include a "{fontstack}" token')),n.indexOf("{range}")===-1&&d.push(new Ye(s,n,'"glyphs" url must include a "{range}" token'))),d}function Li(o,n=ke){let s=[];return s=s.concat(Lo({key:"",value:o,valueSpec:n.$root,styleSpec:n,style:o,validateSpec:Lo,objectElementValidators:{glyphs:_h,"*":()=>[]}})),o.constants&&(s=s.concat(ch({key:"constants",value:o.constants,style:o,styleSpec:n,validateSpec:Lo}))),p1(s)}function Do(o){return function(n){return o({...n,validateSpec:Lo})}}function p1(o){return[].concat(o).sort((n,s)=>n.line-s.line)}function Ro(o){return function(...n){return p1(o.apply(this,n))}}Li.source=Ro(Do(di)),Li.sprite=Ro(Do(yh)),Li.glyphs=Ro(Do(_h)),Li.light=Ro(Do(rl)),Li.terrain=Ro(Do(gh)),Li.layer=Ro(Do(mh)),Li.filter=Ro(Do(ss)),Li.paintProperty=Ro(Do(ph)),Li.layoutProperty=Ro(Do(fh));const zo=Li,N0=zo.light,Gu=zo.paintProperty,xh=zo.layoutProperty;function f1(o,n){let s=!1;if(n&&n.length)for(const d of n)o.fire(new gr(new Error(d.message))),s=!0;return s}class ls{constructor(n,s,d){const f=this.cells=[];if(n instanceof ArrayBuffer){this.arrayBuffer=n;const x=new Int32Array(this.arrayBuffer);n=x[0],this.d=(s=x[1])+2*(d=x[2]);for(let M=0;M<this.d*this.d;M++){const A=x[3+M],I=x[3+M+1];f.push(A===I?null:x.subarray(A,I))}const b=x[3+f.length+1];this.keys=x.subarray(x[3+f.length],b),this.bboxes=x.subarray(b),this.insert=this._insertReadonly}else{this.d=s+2*d;for(let x=0;x<this.d*this.d;x++)f.push([]);this.keys=[],this.bboxes=[]}this.n=s,this.extent=n,this.padding=d,this.scale=s/n,this.uid=0;const v=d/s*n;this.min=-v,this.max=n+v}insert(n,s,d,f,v){this._forEachCell(s,d,f,v,this._insertCell,this.uid++,void 0,void 0),this.keys.push(n),this.bboxes.push(s),this.bboxes.push(d),this.bboxes.push(f),this.bboxes.push(v)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(n,s,d,f,v,x){this.cells[v].push(x)}query(n,s,d,f,v){const x=this.min,b=this.max;if(n<=x&&s<=x&&b<=d&&b<=f&&!v)return Array.prototype.slice.call(this.keys);{const M=[];return this._forEachCell(n,s,d,f,this._queryCell,M,{},v),M}}_queryCell(n,s,d,f,v,x,b,M){const A=this.cells[v];if(A!==null){const I=this.keys,R=this.bboxes;for(let $=0;$<A.length;$++){const U=A[$];if(b[U]===void 0){const H=4*U;(M?M(R[H+0],R[H+1],R[H+2],R[H+3]):n<=R[H+2]&&s<=R[H+3]&&d>=R[H+0]&&f>=R[H+1])?(b[U]=!0,x.push(I[U])):b[U]=!1}}}}_forEachCell(n,s,d,f,v,x,b,M){const A=this._convertToCellCoord(n),I=this._convertToCellCoord(s),R=this._convertToCellCoord(d),$=this._convertToCellCoord(f);for(let U=A;U<=R;U++)for(let H=I;H<=$;H++){const Y=this.d*H+U;if((!M||M(this._convertFromCellCoord(U),this._convertFromCellCoord(H),this._convertFromCellCoord(U+1),this._convertFromCellCoord(H+1)))&&v.call(this,n,s,d,f,Y,x,b,M))return}}_convertFromCellCoord(n){return(n-this.padding)/this.scale}_convertToCellCoord(n){return Math.max(0,Math.min(this.d-1,Math.floor(n*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const n=this.cells,s=3+this.cells.length+1+1;let d=0;for(let x=0;x<this.cells.length;x++)d+=this.cells[x].length;const f=new Int32Array(s+d+this.keys.length+this.bboxes.length);f[0]=this.extent,f[1]=this.n,f[2]=this.padding;let v=s;for(let x=0;x<n.length;x++){const b=n[x];f[3+x]=v,f.set(b,v),v+=b.length}return f[3+n.length]=v,f.set(this.keys,v),v+=this.keys.length,f[3+n.length+1]=v,f.set(this.bboxes,v),v+=this.bboxes.length,f.buffer}static serialize(n,s){const d=n.toArrayBuffer();return s&&s.push(d),{buffer:d}}static deserialize(n){return new ls(n.buffer)}}const Fo={};function ct(o,n,s={}){if(Fo[o])throw new Error(`${o} is already registered.`);Object.defineProperty(n,"_classRegistryKey",{value:o,writeable:!1}),Fo[o]={klass:n,omit:s.omit||[],shallow:s.shallow||[]}}ct("Object",Object),ct("TransferableGridIndex",ls),ct("Color",un),ct("Error",Error),ct("AJAXError",er),ct("ResolvedImage",vr),ct("StylePropertyFunction",Xs),ct("StyleExpression",Vu,{omit:["_evaluator"]}),ct("ZoomDependentExpression",l1),ct("ZoomConstantExpression",Wu),ct("CompoundExpression",Ii,{omit:["_evaluate"]});for(const o in is)is[o]._classRegistryKey||ct(`Expression_${o}`,is[o]);function m1(o){return o&&typeof ArrayBuffer<"u"&&(o instanceof ArrayBuffer||o.constructor&&o.constructor.name==="ArrayBuffer")}function la(o,n){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||o instanceof Blob)return o;if(m1(o)||Re(o))return n&&n.push(o),o;if(ArrayBuffer.isView(o)){const s=o;return n&&n.push(s.buffer),s}if(o instanceof ImageData)return n&&n.push(o.data.buffer),o;if(Array.isArray(o)){const s=[];for(const d of o)s.push(la(d,n));return s}if(typeof o=="object"){const s=o.constructor,d=s._classRegistryKey;if(!d)throw new Error("can't serialize object of unregistered class");if(!Fo[d])throw new Error(`${d} is not registered.`);const f=s.serialize?s.serialize(o,n):{};if(s.serialize){if(n&&f===n[n.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const v in o){if(!o.hasOwnProperty(v)||Fo[d].omit.indexOf(v)>=0)continue;const x=o[v];f[v]=Fo[d].shallow.indexOf(v)>=0?x:la(x,n)}o instanceof Error&&(f.message=o.message)}if(f.$name)throw new Error("$name property is reserved for worker serialization logic.");return d!=="Object"&&(f.$name=d),f}throw new Error("can't serialize object of type "+typeof o)}function us(o){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||o instanceof Blob||m1(o)||Re(o)||ArrayBuffer.isView(o)||o instanceof ImageData)return o;if(Array.isArray(o))return o.map(us);if(typeof o=="object"){const n=o.$name||"Object";if(!Fo[n])throw new Error(`can't deserialize unregistered class ${n}`);const{klass:s}=Fo[n];if(!s)throw new Error(`can't deserialize unregistered class ${n}`);if(s.deserialize)return s.deserialize(o);const d=Object.create(s.prototype);for(const f of Object.keys(o)){if(f==="$name")continue;const v=o[f];d[f]=Fo[n].shallow.indexOf(f)>=0?v:us(v)}return d}throw new Error("can't deserialize object of type "+typeof o)}class bh{constructor(){this.first=!0}update(n,s){const d=Math.floor(n);return this.first?(this.first=!1,this.lastIntegerZoom=d,this.lastIntegerZoomTime=0,this.lastZoom=n,this.lastFloorZoom=d,!0):(this.lastFloorZoom>d?(this.lastIntegerZoom=d+1,this.lastIntegerZoomTime=s):this.lastFloorZoom<d&&(this.lastIntegerZoom=d,this.lastIntegerZoomTime=s),n!==this.lastZoom&&(this.lastZoom=n,this.lastFloorZoom=d,!0))}}const st={"Latin-1 Supplement":o=>o>=128&&o<=255,Arabic:o=>o>=1536&&o<=1791,"Arabic Supplement":o=>o>=1872&&o<=1919,"Arabic Extended-A":o=>o>=2208&&o<=2303,"Hangul Jamo":o=>o>=4352&&o<=4607,"Unified Canadian Aboriginal Syllabics":o=>o>=5120&&o<=5759,Khmer:o=>o>=6016&&o<=6143,"Unified Canadian Aboriginal Syllabics Extended":o=>o>=6320&&o<=6399,"General Punctuation":o=>o>=8192&&o<=8303,"Letterlike Symbols":o=>o>=8448&&o<=8527,"Number Forms":o=>o>=8528&&o<=8591,"Miscellaneous Technical":o=>o>=8960&&o<=9215,"Control Pictures":o=>o>=9216&&o<=9279,"Optical Character Recognition":o=>o>=9280&&o<=9311,"Enclosed Alphanumerics":o=>o>=9312&&o<=9471,"Geometric Shapes":o=>o>=9632&&o<=9727,"Miscellaneous Symbols":o=>o>=9728&&o<=9983,"Miscellaneous Symbols and Arrows":o=>o>=11008&&o<=11263,"CJK Radicals Supplement":o=>o>=11904&&o<=12031,"Kangxi Radicals":o=>o>=12032&&o<=12255,"Ideographic Description Characters":o=>o>=12272&&o<=12287,"CJK Symbols and Punctuation":o=>o>=12288&&o<=12351,Hiragana:o=>o>=12352&&o<=12447,Katakana:o=>o>=12448&&o<=12543,Bopomofo:o=>o>=12544&&o<=12591,"Hangul Compatibility Jamo":o=>o>=12592&&o<=12687,Kanbun:o=>o>=12688&&o<=12703,"Bopomofo Extended":o=>o>=12704&&o<=12735,"CJK Strokes":o=>o>=12736&&o<=12783,"Katakana Phonetic Extensions":o=>o>=12784&&o<=12799,"Enclosed CJK Letters and Months":o=>o>=12800&&o<=13055,"CJK Compatibility":o=>o>=13056&&o<=13311,"CJK Unified Ideographs Extension A":o=>o>=13312&&o<=19903,"Yijing Hexagram Symbols":o=>o>=19904&&o<=19967,"CJK Unified Ideographs":o=>o>=19968&&o<=40959,"Yi Syllables":o=>o>=40960&&o<=42127,"Yi Radicals":o=>o>=42128&&o<=42191,"Hangul Jamo Extended-A":o=>o>=43360&&o<=43391,"Hangul Syllables":o=>o>=44032&&o<=55215,"Hangul Jamo Extended-B":o=>o>=55216&&o<=55295,"Private Use Area":o=>o>=57344&&o<=63743,"CJK Compatibility Ideographs":o=>o>=63744&&o<=64255,"Arabic Presentation Forms-A":o=>o>=64336&&o<=65023,"Vertical Forms":o=>o>=65040&&o<=65055,"CJK Compatibility Forms":o=>o>=65072&&o<=65103,"Small Form Variants":o=>o>=65104&&o<=65135,"Arabic Presentation Forms-B":o=>o>=65136&&o<=65279,"Halfwidth and Fullwidth Forms":o=>o>=65280&&o<=65519};function qu(o){for(const n of o)if(Xu(n.charCodeAt(0)))return!0;return!1}function Ku(o){for(const n of o)if(!O0(n.charCodeAt(0)))return!1;return!0}function O0(o){return!(st.Arabic(o)||st["Arabic Supplement"](o)||st["Arabic Extended-A"](o)||st["Arabic Presentation Forms-A"](o)||st["Arabic Presentation Forms-B"](o))}function Xu(o){return!(o!==746&&o!==747&&(o<4352||!(st["Bopomofo Extended"](o)||st.Bopomofo(o)||st["CJK Compatibility Forms"](o)&&!(o>=65097&&o<=65103)||st["CJK Compatibility Ideographs"](o)||st["CJK Compatibility"](o)||st["CJK Radicals Supplement"](o)||st["CJK Strokes"](o)||!(!st["CJK Symbols and Punctuation"](o)||o>=12296&&o<=12305||o>=12308&&o<=12319||o===12336)||st["CJK Unified Ideographs Extension A"](o)||st["CJK Unified Ideographs"](o)||st["Enclosed CJK Letters and Months"](o)||st["Hangul Compatibility Jamo"](o)||st["Hangul Jamo Extended-A"](o)||st["Hangul Jamo Extended-B"](o)||st["Hangul Jamo"](o)||st["Hangul Syllables"](o)||st.Hiragana(o)||st["Ideographic Description Characters"](o)||st.Kanbun(o)||st["Kangxi Radicals"](o)||st["Katakana Phonetic Extensions"](o)||st.Katakana(o)&&o!==12540||!(!st["Halfwidth and Fullwidth Forms"](o)||o===65288||o===65289||o===65293||o>=65306&&o<=65310||o===65339||o===65341||o===65343||o>=65371&&o<=65503||o===65507||o>=65512&&o<=65519)||!(!st["Small Form Variants"](o)||o>=65112&&o<=65118||o>=65123&&o<=65126)||st["Unified Canadian Aboriginal Syllabics"](o)||st["Unified Canadian Aboriginal Syllabics Extended"](o)||st["Vertical Forms"](o)||st["Yijing Hexagram Symbols"](o)||st["Yi Syllables"](o)||st["Yi Radicals"](o))))}function wh(o){return!(Xu(o)||function(n){return!!(st["Latin-1 Supplement"](n)&&(n===167||n===169||n===174||n===177||n===188||n===189||n===190||n===215||n===247)||st["General Punctuation"](n)&&(n===8214||n===8224||n===8225||n===8240||n===8241||n===8251||n===8252||n===8258||n===8263||n===8264||n===8265||n===8273)||st["Letterlike Symbols"](n)||st["Number Forms"](n)||st["Miscellaneous Technical"](n)&&(n>=8960&&n<=8967||n>=8972&&n<=8991||n>=8996&&n<=9e3||n===9003||n>=9085&&n<=9114||n>=9150&&n<=9165||n===9167||n>=9169&&n<=9179||n>=9186&&n<=9215)||st["Control Pictures"](n)&&n!==9251||st["Optical Character Recognition"](n)||st["Enclosed Alphanumerics"](n)||st["Geometric Shapes"](n)||st["Miscellaneous Symbols"](n)&&!(n>=9754&&n<=9759)||st["Miscellaneous Symbols and Arrows"](n)&&(n>=11026&&n<=11055||n>=11088&&n<=11097||n>=11192&&n<=11243)||st["CJK Symbols and Punctuation"](n)||st.Katakana(n)||st["Private Use Area"](n)||st["CJK Compatibility Forms"](n)||st["Small Form Variants"](n)||st["Halfwidth and Fullwidth Forms"](n)||n===8734||n===8756||n===8757||n>=9984&&n<=10087||n>=10102&&n<=10131||n===65532||n===65533)}(o))}function Sh(o){return o>=1424&&o<=2303||st["Arabic Presentation Forms-A"](o)||st["Arabic Presentation Forms-B"](o)}function Ch(o,n){return!(!n&&Sh(o)||o>=2304&&o<=3583||o>=3840&&o<=4255||st.Khmer(o))}function B0(o){for(const n of o)if(Sh(n.charCodeAt(0)))return!0;return!1}const Ju="deferred",Yu="loading",Qu="loaded";let ec=null,Kr="unavailable",ua=null;const il=function(o){o&&typeof o=="string"&&o.indexOf("NetworkError")>-1&&(Kr="error"),ec&&ec(o)};function tc(){ol.fire(new Er("pluginStateChange",{pluginStatus:Kr,pluginURL:ua}))}const ol=new pn,nc=function(){return Kr},Mh=function(){if(Kr!==Ju||!ua)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Kr=Yu,tc(),ua&&nn({url:ua},o=>{o?il(o):(Kr=Qu,tc())})},hi={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Kr===Qu||hi.applyArabicShaping!=null,isLoading:()=>Kr===Yu,setState(o){if(!Ie())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Kr=o.pluginStatus,ua=o.pluginURL},isParsed(){if(!Ie())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return hi.applyArabicShaping!=null&&hi.processBidirectionalText!=null&&hi.processStyledBidirectionalText!=null},getPluginURL(){if(!Ie())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return ua}};class vn{constructor(n,s){this.zoom=n,s?(this.now=s.now,this.fadeDuration=s.fadeDuration,this.zoomHistory=s.zoomHistory,this.transition=s.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new bh,this.transition={})}isSupportedScript(n){return function(s,d){for(const f of s)if(!Ch(f.charCodeAt(0),d))return!1;return!0}(n,hi.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const n=this.zoom,s=n-Math.floor(n),d=this.crossFadingFactor();return n>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:s+(1-s)*d}:{fromScale:.5,toScale:1,t:1-(1-d)*s}}}class g1{constructor(n,s){this.property=n,this.value=s,this.expression=function(d,f){if(An(d))return new Xs(d,f);if(a1(d)){const v=Uu(d,f);if(v.result==="error")throw new Error(v.value.map(x=>`${x.key}: ${x.message}`).join(", "));return v.value}{let v=d;return f.type==="color"&&typeof d=="string"?v=un.parse(d):f.type!=="padding"||typeof d!="number"&&!Array.isArray(d)?f.type==="variableAnchorOffsetCollection"&&Array.isArray(d)&&(v=Pi.parse(d)):v=li.parse(d),{kind:"constant",evaluate:()=>v}}}(s===void 0?n.specification.default:s,n.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(n,s,d){return this.property.possiblyEvaluate(this,n,s,d)}}class rc{constructor(n){this.property=n,this.value=new g1(n,void 0)}transitioned(n,s){return new kh(this.property,this.value,s,Se({},n.transition,this.transition),n.now)}untransitioned(){return new kh(this.property,this.value,null,{},0)}}class Eh{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitionablePropertyValues)}getValue(n){return He(this._values[n].value.value)}setValue(n,s){Object.prototype.hasOwnProperty.call(this._values,n)||(this._values[n]=new rc(this._values[n].property)),this._values[n].value=new g1(this._values[n].property,s===null?void 0:He(s))}getTransition(n){return He(this._values[n].transition)}setTransition(n,s){Object.prototype.hasOwnProperty.call(this._values,n)||(this._values[n]=new rc(this._values[n].property)),this._values[n].transition=He(s)||void 0}serialize(){const n={};for(const s of Object.keys(this._values)){const d=this.getValue(s);d!==void 0&&(n[s]=d);const f=this.getTransition(s);f!==void 0&&(n[`${s}-transition`]=f)}return n}transitioned(n,s){const d=new Ah(this._properties);for(const f of Object.keys(this._values))d._values[f]=this._values[f].transitioned(n,s._values[f]);return d}untransitioned(){const n=new Ah(this._properties);for(const s of Object.keys(this._values))n._values[s]=this._values[s].untransitioned();return n}}class kh{constructor(n,s,d,f,v){this.property=n,this.value=s,this.begin=v+f.delay||0,this.end=this.begin+f.duration||0,n.specification.transition&&(f.delay||f.duration)&&(this.prior=d)}possiblyEvaluate(n,s,d){const f=n.now||0,v=this.value.possiblyEvaluate(n,s,d),x=this.prior;if(x){if(f>this.end)return this.prior=null,v;if(this.value.isDataDriven())return this.prior=null,v;if(f<this.begin)return x.possiblyEvaluate(n,s,d);{const b=(f-this.begin)/(this.end-this.begin);return this.property.interpolate(x.possiblyEvaluate(n,s,d),v,function(M){if(M<=0)return 0;if(M>=1)return 1;const A=M*M,I=A*M;return 4*(M<.5?I:3*(M-A)+I-.75)}(b))}}return v}}class Ah{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitioningPropertyValues)}possiblyEvaluate(n,s,d){const f=new y1(this._properties);for(const v of Object.keys(this._values))f._values[v]=this._values[v].possiblyEvaluate(n,s,d);return f}hasTransition(){for(const n of Object.keys(this._values))if(this._values[n].prior)return!0;return!1}}class $0{constructor(n){this._properties=n,this._values=Object.create(n.defaultPropertyValues)}hasValue(n){return this._values[n].value!==void 0}getValue(n){return He(this._values[n].value)}setValue(n,s){this._values[n]=new g1(this._values[n].property,s===null?void 0:He(s))}serialize(){const n={};for(const s of Object.keys(this._values)){const d=this.getValue(s);d!==void 0&&(n[s]=d)}return n}possiblyEvaluate(n,s,d){const f=new y1(this._properties);for(const v of Object.keys(this._values))f._values[v]=this._values[v].possiblyEvaluate(n,s,d);return f}}class Nr{constructor(n,s,d){this.property=n,this.value=s,this.parameters=d}isConstant(){return this.value.kind==="constant"}constantOr(n){return this.value.kind==="constant"?this.value.value:n}evaluate(n,s,d,f){return this.property.evaluate(this.value,this.parameters,n,s,d,f)}}class y1{constructor(n){this._properties=n,this._values=Object.create(n.defaultPossiblyEvaluatedValues)}get(n){return this._values[n]}}class _t{constructor(n){this.specification=n}possiblyEvaluate(n,s){if(n.isDataDriven())throw new Error("Value should not be data driven");return n.expression.evaluate(s)}interpolate(n,s,d){const f=ui[this.specification.type];return f?f(n,s,d):n}}class Mt{constructor(n,s){this.specification=n,this.overrides=s}possiblyEvaluate(n,s,d,f){return new Nr(this,n.expression.kind==="constant"||n.expression.kind==="camera"?{kind:"constant",value:n.expression.evaluate(s,null,{},d,f)}:n.expression,s)}interpolate(n,s,d){if(n.value.kind!=="constant"||s.value.kind!=="constant")return n;if(n.value.value===void 0||s.value.value===void 0)return new Nr(this,{kind:"constant",value:void 0},n.parameters);const f=ui[this.specification.type];if(f){const v=f(n.value.value,s.value.value,d);return new Nr(this,{kind:"constant",value:v},n.parameters)}return n}evaluate(n,s,d,f,v,x){return n.kind==="constant"?n.value:n.evaluate(s,d,f,v,x)}}class al extends Mt{possiblyEvaluate(n,s,d,f){if(n.value===void 0)return new Nr(this,{kind:"constant",value:void 0},s);if(n.expression.kind==="constant"){const v=n.expression.evaluate(s,null,{},d,f),x=n.property.specification.type==="resolvedImage"&&typeof v!="string"?v.name:v,b=this._calculate(x,x,x,s);return new Nr(this,{kind:"constant",value:b},s)}if(n.expression.kind==="camera"){const v=this._calculate(n.expression.evaluate({zoom:s.zoom-1}),n.expression.evaluate({zoom:s.zoom}),n.expression.evaluate({zoom:s.zoom+1}),s);return new Nr(this,{kind:"constant",value:v},s)}return new Nr(this,n.expression,s)}evaluate(n,s,d,f,v,x){if(n.kind==="source"){const b=n.evaluate(s,d,f,v,x);return this._calculate(b,b,b,s)}return n.kind==="composite"?this._calculate(n.evaluate({zoom:Math.floor(s.zoom)-1},d,f),n.evaluate({zoom:Math.floor(s.zoom)},d,f),n.evaluate({zoom:Math.floor(s.zoom)+1},d,f),s):n.value}_calculate(n,s,d,f){return f.zoom>f.zoomHistory.lastIntegerZoom?{from:n,to:s}:{from:d,to:s}}interpolate(n){return n}}class ic{constructor(n){this.specification=n}possiblyEvaluate(n,s,d,f){if(n.value!==void 0){if(n.expression.kind==="constant"){const v=n.expression.evaluate(s,null,{},d,f);return this._calculate(v,v,v,s)}return this._calculate(n.expression.evaluate(new vn(Math.floor(s.zoom-1),s)),n.expression.evaluate(new vn(Math.floor(s.zoom),s)),n.expression.evaluate(new vn(Math.floor(s.zoom+1),s)),s)}}_calculate(n,s,d,f){return f.zoom>f.zoomHistory.lastIntegerZoom?{from:n,to:s}:{from:d,to:s}}interpolate(n){return n}}class oc{constructor(n){this.specification=n}possiblyEvaluate(n,s,d,f){return!!n.expression.evaluate(s,null,{},d,f)}interpolate(){return!1}}class Wn{constructor(n){this.properties=n,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const s in n){const d=n[s];d.specification.overridable&&this.overridableProperties.push(s);const f=this.defaultPropertyValues[s]=new g1(d,void 0),v=this.defaultTransitionablePropertyValues[s]=new rc(d);this.defaultTransitioningPropertyValues[s]=v.untransitioned(),this.defaultPossiblyEvaluatedValues[s]=f.possiblyEvaluate({})}}}ct("DataDrivenProperty",Mt),ct("DataConstantProperty",_t),ct("CrossFadedDataDrivenProperty",al),ct("CrossFadedProperty",ic),ct("ColorRampProperty",oc);const ac="-transition";class Di extends pn{constructor(n,s){if(super(),this.id=n.id,this.type=n.type,this._featureFilter={filter:()=>!0,needGeometry:!1},n.type!=="custom"&&(this.metadata=n.metadata,this.minzoom=n.minzoom,this.maxzoom=n.maxzoom,n.type!=="background"&&(this.source=n.source,this.sourceLayer=n["source-layer"],this.filter=n.filter),s.layout&&(this._unevaluatedLayout=new $0(s.layout)),s.paint)){this._transitionablePaint=new Eh(s.paint);for(const d in n.paint)this.setPaintProperty(d,n.paint[d],{validate:!1});for(const d in n.layout)this.setLayoutProperty(d,n.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new y1(s.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(n){return n==="visibility"?this.visibility:this._unevaluatedLayout.getValue(n)}setLayoutProperty(n,s,d={}){s!=null&&this._validate(xh,`layers.${this.id}.layout.${n}`,n,s,d)||(n!=="visibility"?this._unevaluatedLayout.setValue(n,s):this.visibility=s)}getPaintProperty(n){return n.endsWith(ac)?this._transitionablePaint.getTransition(n.slice(0,-11)):this._transitionablePaint.getValue(n)}setPaintProperty(n,s,d={}){if(s!=null&&this._validate(Gu,`layers.${this.id}.paint.${n}`,n,s,d))return!1;if(n.endsWith(ac))return this._transitionablePaint.setTransition(n.slice(0,-11),s||void 0),!1;{const f=this._transitionablePaint._values[n],v=f.property.specification["property-type"]==="cross-faded-data-driven",x=f.value.isDataDriven(),b=f.value;this._transitionablePaint.setValue(n,s),this._handleSpecialPaintPropertyUpdate(n);const M=this._transitionablePaint._values[n].value;return M.isDataDriven()||x||v||this._handleOverridablePaintPropertyUpdate(n,b,M)}}_handleSpecialPaintPropertyUpdate(n){}_handleOverridablePaintPropertyUpdate(n,s,d){return!1}isHidden(n){return!!(this.minzoom&&n<this.minzoom)||!!(this.maxzoom&&n>=this.maxzoom)||this.visibility==="none"}updateTransitions(n){this._transitioningPaint=this._transitionablePaint.transitioned(n,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(n,s){n.getCrossfadeParameters&&(this._crossfadeParameters=n.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(n,void 0,s)),this.paint=this._transitioningPaint.possiblyEvaluate(n,void 0,s)}serialize(){const n={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(n.layout=n.layout||{},n.layout.visibility=this.visibility),Be(n,(s,d)=>!(s===void 0||d==="layout"&&!Object.keys(s).length||d==="paint"&&!Object.keys(s).length))}_validate(n,s,d,f,v={}){return(!v||v.validate!==!1)&&f1(this,n.call(zo,{key:s,layerType:this.type,objectKey:d,value:f,styleSpec:ke,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const n in this.paint._values){const s=this.paint.get(n);if(s instanceof Nr&&os(s.property.specification)&&(s.value.kind==="source"||s.value.kind==="composite")&&s.value.isStateDependent)return!0}return!1}}const Ph={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Ma{constructor(n,s){this._structArray=n,this._pos1=s*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Rn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(n,s){return n._trim(),s&&(n.isTransferred=!0,s.push(n.arrayBuffer)),{length:n.length,arrayBuffer:n.arrayBuffer}}static deserialize(n){const s=Object.create(this.prototype);return s.arrayBuffer=n.arrayBuffer,s.length=n.length,s.capacity=n.arrayBuffer.byteLength/s.bytesPerElement,s._refreshViews(),s}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(n){this.reserve(n),this.length=n}reserve(n){if(n>this.capacity){this.capacity=Math.max(n,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const s=this.uint8;this._refreshViews(),s&&this.uint8.set(s)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Tn(o,n=1){let s=0,d=0;return{members:o.map(f=>{const v=Ph[f.type].BYTES_PER_ELEMENT,x=s=cs(s,Math.max(n,v)),b=f.components||1;return d=Math.max(d,v),s+=v*b,{name:f.name,type:f.type,components:b,offset:x}}),size:cs(s,Math.max(d,n)),alignment:n}}function cs(o,n){return Math.ceil(o/n)*n}class sl extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s){const d=this.length;return this.resize(d+1),this.emplace(d,n,s)}emplace(n,s,d){const f=2*n;return this.int16[f+0]=s,this.int16[f+1]=d,n}}sl.prototype.bytesPerElement=4,ct("StructArrayLayout2i4",sl);class ll extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s,d){const f=this.length;return this.resize(f+1),this.emplace(f,n,s,d)}emplace(n,s,d,f){const v=3*n;return this.int16[v+0]=s,this.int16[v+1]=d,this.int16[v+2]=f,n}}ll.prototype.bytesPerElement=6,ct("StructArrayLayout3i6",ll);class Ea extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s,d,f){const v=this.length;return this.resize(v+1),this.emplace(v,n,s,d,f)}emplace(n,s,d,f,v){const x=4*n;return this.int16[x+0]=s,this.int16[x+1]=d,this.int16[x+2]=f,this.int16[x+3]=v,n}}Ea.prototype.bytesPerElement=8,ct("StructArrayLayout4i8",Ea);class sc extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s,d,f,v,x){const b=this.length;return this.resize(b+1),this.emplace(b,n,s,d,f,v,x)}emplace(n,s,d,f,v,x,b){const M=6*n;return this.int16[M+0]=s,this.int16[M+1]=d,this.int16[M+2]=f,this.int16[M+3]=v,this.int16[M+4]=x,this.int16[M+5]=b,n}}sc.prototype.bytesPerElement=12,ct("StructArrayLayout2i4i12",sc);class lc extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s,d,f,v,x){const b=this.length;return this.resize(b+1),this.emplace(b,n,s,d,f,v,x)}emplace(n,s,d,f,v,x,b){const M=4*n,A=8*n;return this.int16[M+0]=s,this.int16[M+1]=d,this.uint8[A+4]=f,this.uint8[A+5]=v,this.uint8[A+6]=x,this.uint8[A+7]=b,n}}lc.prototype.bytesPerElement=8,ct("StructArrayLayout2i4ub8",lc);class ds extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s){const d=this.length;return this.resize(d+1),this.emplace(d,n,s)}emplace(n,s,d){const f=2*n;return this.float32[f+0]=s,this.float32[f+1]=d,n}}ds.prototype.bytesPerElement=8,ct("StructArrayLayout2f8",ds);class uc extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,s,d,f,v,x,b,M,A,I){const R=this.length;return this.resize(R+1),this.emplace(R,n,s,d,f,v,x,b,M,A,I)}emplace(n,s,d,f,v,x,b,M,A,I,R){const $=10*n;return this.uint16[$+0]=s,this.uint16[$+1]=d,this.uint16[$+2]=f,this.uint16[$+3]=v,this.uint16[$+4]=x,this.uint16[$+5]=b,this.uint16[$+6]=M,this.uint16[$+7]=A,this.uint16[$+8]=I,this.uint16[$+9]=R,n}}uc.prototype.bytesPerElement=20,ct("StructArrayLayout10ui20",uc);class cc extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,s,d,f,v,x,b,M,A,I,R,$){const U=this.length;return this.resize(U+1),this.emplace(U,n,s,d,f,v,x,b,M,A,I,R,$)}emplace(n,s,d,f,v,x,b,M,A,I,R,$,U){const H=12*n;return this.int16[H+0]=s,this.int16[H+1]=d,this.int16[H+2]=f,this.int16[H+3]=v,this.uint16[H+4]=x,this.uint16[H+5]=b,this.uint16[H+6]=M,this.uint16[H+7]=A,this.int16[H+8]=I,this.int16[H+9]=R,this.int16[H+10]=$,this.int16[H+11]=U,n}}cc.prototype.bytesPerElement=24,ct("StructArrayLayout4i4ui4i24",cc);class tn extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s,d){const f=this.length;return this.resize(f+1),this.emplace(f,n,s,d)}emplace(n,s,d,f){const v=3*n;return this.float32[v+0]=s,this.float32[v+1]=d,this.float32[v+2]=f,n}}tn.prototype.bytesPerElement=12,ct("StructArrayLayout3f12",tn);class g extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n){const s=this.length;return this.resize(s+1),this.emplace(s,n)}emplace(n,s){return this.uint32[1*n+0]=s,n}}g.prototype.bytesPerElement=4,ct("StructArrayLayout1ul4",g);class r extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,s,d,f,v,x,b,M,A){const I=this.length;return this.resize(I+1),this.emplace(I,n,s,d,f,v,x,b,M,A)}emplace(n,s,d,f,v,x,b,M,A,I){const R=10*n,$=5*n;return this.int16[R+0]=s,this.int16[R+1]=d,this.int16[R+2]=f,this.int16[R+3]=v,this.int16[R+4]=x,this.int16[R+5]=b,this.uint32[$+3]=M,this.uint16[R+8]=A,this.uint16[R+9]=I,n}}r.prototype.bytesPerElement=20,ct("StructArrayLayout6i1ul2ui20",r);class c extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s,d,f,v,x){const b=this.length;return this.resize(b+1),this.emplace(b,n,s,d,f,v,x)}emplace(n,s,d,f,v,x,b){const M=6*n;return this.int16[M+0]=s,this.int16[M+1]=d,this.int16[M+2]=f,this.int16[M+3]=v,this.int16[M+4]=x,this.int16[M+5]=b,n}}c.prototype.bytesPerElement=12,ct("StructArrayLayout2i2i2i12",c);class h extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,s,d,f,v){const x=this.length;return this.resize(x+1),this.emplace(x,n,s,d,f,v)}emplace(n,s,d,f,v,x){const b=4*n,M=8*n;return this.float32[b+0]=s,this.float32[b+1]=d,this.float32[b+2]=f,this.int16[M+6]=v,this.int16[M+7]=x,n}}h.prototype.bytesPerElement=16,ct("StructArrayLayout2f1f2i16",h);class m extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s,d,f){const v=this.length;return this.resize(v+1),this.emplace(v,n,s,d,f)}emplace(n,s,d,f,v){const x=12*n,b=3*n;return this.uint8[x+0]=s,this.uint8[x+1]=d,this.float32[b+1]=f,this.float32[b+2]=v,n}}m.prototype.bytesPerElement=12,ct("StructArrayLayout2ub2f12",m);class _ extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,s,d){const f=this.length;return this.resize(f+1),this.emplace(f,n,s,d)}emplace(n,s,d,f){const v=3*n;return this.uint16[v+0]=s,this.uint16[v+1]=d,this.uint16[v+2]=f,n}}_.prototype.bytesPerElement=6,ct("StructArrayLayout3ui6",_);class w extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s,d,f,v,x,b,M,A,I,R,$,U,H,Y,se,ce){const _e=this.length;return this.resize(_e+1),this.emplace(_e,n,s,d,f,v,x,b,M,A,I,R,$,U,H,Y,se,ce)}emplace(n,s,d,f,v,x,b,M,A,I,R,$,U,H,Y,se,ce,_e){const fe=24*n,be=12*n,Ee=48*n;return this.int16[fe+0]=s,this.int16[fe+1]=d,this.uint16[fe+2]=f,this.uint16[fe+3]=v,this.uint32[be+2]=x,this.uint32[be+3]=b,this.uint32[be+4]=M,this.uint16[fe+10]=A,this.uint16[fe+11]=I,this.uint16[fe+12]=R,this.float32[be+7]=$,this.float32[be+8]=U,this.uint8[Ee+36]=H,this.uint8[Ee+37]=Y,this.uint8[Ee+38]=se,this.uint32[be+10]=ce,this.int16[fe+22]=_e,n}}w.prototype.bytesPerElement=48,ct("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",w);class S extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s,d,f,v,x,b,M,A,I,R,$,U,H,Y,se,ce,_e,fe,be,Ee,Oe,lt,gt,ot,it,et,dt){const nt=this.length;return this.resize(nt+1),this.emplace(nt,n,s,d,f,v,x,b,M,A,I,R,$,U,H,Y,se,ce,_e,fe,be,Ee,Oe,lt,gt,ot,it,et,dt)}emplace(n,s,d,f,v,x,b,M,A,I,R,$,U,H,Y,se,ce,_e,fe,be,Ee,Oe,lt,gt,ot,it,et,dt,nt){const Ge=32*n,wt=16*n;return this.int16[Ge+0]=s,this.int16[Ge+1]=d,this.int16[Ge+2]=f,this.int16[Ge+3]=v,this.int16[Ge+4]=x,this.int16[Ge+5]=b,this.int16[Ge+6]=M,this.int16[Ge+7]=A,this.uint16[Ge+8]=I,this.uint16[Ge+9]=R,this.uint16[Ge+10]=$,this.uint16[Ge+11]=U,this.uint16[Ge+12]=H,this.uint16[Ge+13]=Y,this.uint16[Ge+14]=se,this.uint16[Ge+15]=ce,this.uint16[Ge+16]=_e,this.uint16[Ge+17]=fe,this.uint16[Ge+18]=be,this.uint16[Ge+19]=Ee,this.uint16[Ge+20]=Oe,this.uint16[Ge+21]=lt,this.uint16[Ge+22]=gt,this.uint32[wt+12]=ot,this.float32[wt+13]=it,this.float32[wt+14]=et,this.uint16[Ge+30]=dt,this.uint16[Ge+31]=nt,n}}S.prototype.bytesPerElement=64,ct("StructArrayLayout8i15ui1ul2f2ui64",S);class k extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n){const s=this.length;return this.resize(s+1),this.emplace(s,n)}emplace(n,s){return this.float32[1*n+0]=s,n}}k.prototype.bytesPerElement=4,ct("StructArrayLayout1f4",k);class T extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s,d){const f=this.length;return this.resize(f+1),this.emplace(f,n,s,d)}emplace(n,s,d,f){const v=3*n;return this.uint16[6*n+0]=s,this.float32[v+1]=d,this.float32[v+2]=f,n}}T.prototype.bytesPerElement=12,ct("StructArrayLayout1ui2f12",T);class L extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,s,d){const f=this.length;return this.resize(f+1),this.emplace(f,n,s,d)}emplace(n,s,d,f){const v=4*n;return this.uint32[2*n+0]=s,this.uint16[v+2]=d,this.uint16[v+3]=f,n}}L.prototype.bytesPerElement=8,ct("StructArrayLayout1ul2ui8",L);class D extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,s){const d=this.length;return this.resize(d+1),this.emplace(d,n,s)}emplace(n,s,d){const f=2*n;return this.uint16[f+0]=s,this.uint16[f+1]=d,n}}D.prototype.bytesPerElement=4,ct("StructArrayLayout2ui4",D);class V extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n){const s=this.length;return this.resize(s+1),this.emplace(s,n)}emplace(n,s){return this.uint16[1*n+0]=s,n}}V.prototype.bytesPerElement=2,ct("StructArrayLayout1ui2",V);class te extends Rn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,s,d,f){const v=this.length;return this.resize(v+1),this.emplace(v,n,s,d,f)}emplace(n,s,d,f,v){const x=4*n;return this.float32[x+0]=s,this.float32[x+1]=d,this.float32[x+2]=f,this.float32[x+3]=v,n}}te.prototype.bytesPerElement=16,ct("StructArrayLayout4f16",te);class Q extends Ma{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new z(this.anchorPointX,this.anchorPointY)}}Q.prototype.size=20;class oe extends r{get(n){return new Q(this,n)}}ct("CollisionBoxArray",oe);class J extends Ma{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(n){this._structArray.uint8[this._pos1+37]=n}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(n){this._structArray.uint8[this._pos1+38]=n}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(n){this._structArray.uint32[this._pos4+10]=n}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}J.prototype.size=48;class ge extends w{get(n){return new J(this,n)}}ct("PlacedSymbolArray",ge);class Ce extends Ma{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(n){this._structArray.uint32[this._pos4+12]=n}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Ce.prototype.size=64;class le extends S{get(n){return new Ce(this,n)}}ct("SymbolInstanceArray",le);class ve extends k{getoffsetX(n){return this.float32[1*n+0]}}ct("GlyphOffsetArray",ve);class Ae extends ll{getx(n){return this.int16[3*n+0]}gety(n){return this.int16[3*n+1]}gettileUnitDistanceFromAnchor(n){return this.int16[3*n+2]}}ct("SymbolLineVertexArray",Ae);class Pe extends Ma{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Pe.prototype.size=12;class Ne extends T{get(n){return new Pe(this,n)}}ct("TextAnchorOffsetArray",Ne);class Ue extends Ma{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Ue.prototype.size=8;class je extends L{get(n){return new Ue(this,n)}}ct("FeatureIndexArray",je);class Ke extends sl{}class mt extends sl{}class Bt extends sl{}class rt extends sc{}class Et extends lc{}class yt extends ds{}class cn extends uc{}class Nt extends cc{}class zt extends tn{}class $t extends g{}class Bn extends c{}class mn extends m{}class _r extends _{}class ir extends D{}const Un=Tn([{name:"a_pos",components:2,type:"Int16"}],4),{members:pi}=Un;class _n{constructor(n=[]){this.segments=n}prepareSegment(n,s,d,f){let v=this.segments[this.segments.length-1];return n>_n.MAX_VERTEX_ARRAY_LENGTH&&qe(`Max vertices per segment is ${_n.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${n}`),(!v||v.vertexLength+n>_n.MAX_VERTEX_ARRAY_LENGTH||v.sortKey!==f)&&(v={vertexOffset:s.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},f!==void 0&&(v.sortKey=f),this.segments.push(v)),v}get(){return this.segments}destroy(){for(const n of this.segments)for(const s in n.vaos)n.vaos[s].destroy()}static simpleSegment(n,s,d,f){return new _n([{vertexOffset:n,primitiveOffset:s,vertexLength:d,primitiveLength:f,vaos:{},sortKey:0}])}}function ho(o,n){return 256*(o=he(Math.floor(o),0,255))+he(Math.floor(n),0,255)}_n.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ct("SegmentVector",_n);const po=Tn([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var ca={exports:{}},ka={exports:{}};ka.exports=function(o,n){var s,d,f,v,x,b,M,A;for(d=o.length-(s=3&o.length),f=n,x=3432918353,b=461845907,A=0;A<d;)M=255&o.charCodeAt(A)|(255&o.charCodeAt(++A))<<8|(255&o.charCodeAt(++A))<<16|(255&o.charCodeAt(++A))<<24,++A,f=27492+(65535&(v=5*(65535&(f=(f^=M=(65535&(M=(M=(65535&M)*x+(((M>>>16)*x&65535)<<16)&4294967295)<<15|M>>>17))*b+(((M>>>16)*b&65535)<<16)&4294967295)<<13|f>>>19))+((5*(f>>>16)&65535)<<16)&4294967295))+((58964+(v>>>16)&65535)<<16);switch(M=0,s){case 3:M^=(255&o.charCodeAt(A+2))<<16;case 2:M^=(255&o.charCodeAt(A+1))<<8;case 1:f^=M=(65535&(M=(M=(65535&(M^=255&o.charCodeAt(A)))*x+(((M>>>16)*x&65535)<<16)&4294967295)<<15|M>>>17))*b+(((M>>>16)*b&65535)<<16)&4294967295}return f^=o.length,f=2246822507*(65535&(f^=f>>>16))+((2246822507*(f>>>16)&65535)<<16)&4294967295,f=3266489909*(65535&(f^=f>>>13))+((3266489909*(f>>>16)&65535)<<16)&4294967295,(f^=f>>>16)>>>0};var hs=ka.exports,Pr={exports:{}};Pr.exports=function(o,n){for(var s,d=o.length,f=n^d,v=0;d>=4;)s=1540483477*(65535&(s=255&o.charCodeAt(v)|(255&o.charCodeAt(++v))<<8|(255&o.charCodeAt(++v))<<16|(255&o.charCodeAt(++v))<<24))+((1540483477*(s>>>16)&65535)<<16),f=1540483477*(65535&f)+((1540483477*(f>>>16)&65535)<<16)^(s=1540483477*(65535&(s^=s>>>24))+((1540483477*(s>>>16)&65535)<<16)),d-=4,++v;switch(d){case 3:f^=(255&o.charCodeAt(v+2))<<16;case 2:f^=(255&o.charCodeAt(v+1))<<8;case 1:f=1540483477*(65535&(f^=255&o.charCodeAt(v)))+((1540483477*(f>>>16)&65535)<<16)}return f=1540483477*(65535&(f^=f>>>13))+((1540483477*(f>>>16)&65535)<<16),(f^=f>>>15)>>>0};var xr=hs,Or=Pr.exports;ca.exports=xr,ca.exports.murmur3=xr,ca.exports.murmur2=Or;var Aa=C(ca.exports);class $n{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(n,s,d,f){this.ids.push(or(n)),this.positions.push(s,d,f)}getPositions(n){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const s=or(n);let d=0,f=this.ids.length-1;for(;d<f;){const x=d+f>>1;this.ids[x]>=s?f=x:d=x+1}const v=[];for(;this.ids[d]===s;)v.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return v}static serialize(n,s){const d=new Float64Array(n.ids),f=new Uint32Array(n.positions);return Xr(d,f,0,d.length-1),s&&s.push(d.buffer,f.buffer),{ids:d,positions:f}}static deserialize(n){const s=new $n;return s.ids=n.ids,s.positions=n.positions,s.indexed=!0,s}}function or(o){const n=+o;return!isNaN(n)&&n<=Number.MAX_SAFE_INTEGER?n:Aa(String(o))}function Xr(o,n,s,d){for(;s<d;){const f=o[s+d>>1];let v=s-1,x=d+1;for(;;){do v++;while(o[v]<f);do x--;while(o[x]>f);if(v>=x)break;jn(o,v,x),jn(n,3*v,3*x),jn(n,3*v+1,3*x+1),jn(n,3*v+2,3*x+2)}x-s<d-x?(Xr(o,n,s,x),s=x+1):(Xr(o,n,x+1,d),d=x)}}function jn(o,n,s){const d=o[n];o[n]=o[s],o[s]=d}ct("FeaturePositionMap",$n);class Pa{constructor(n,s){this.gl=n.gl,this.location=s}}class v1 extends Pa{constructor(n,s){super(n,s),this.current=0}set(n){this.current!==n&&(this.current=n,this.gl.uniform1f(this.location,n))}}class Th extends Pa{constructor(n,s){super(n,s),this.current=[0,0,0,0]}set(n){n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]&&n[3]===this.current[3]||(this.current=n,this.gl.uniform4f(this.location,n[0],n[1],n[2],n[3]))}}class Ih extends Pa{constructor(n,s){super(n,s),this.current=un.transparent}set(n){n.r===this.current.r&&n.g===this.current.g&&n.b===this.current.b&&n.a===this.current.a||(this.current=n,this.gl.uniform4f(this.location,n.r,n.g,n.b,n.a))}}const j0=new Float32Array(16);function dc(o){return[ho(255*o.r,255*o.g),ho(255*o.b,255*o.a)]}class fo{constructor(n,s,d){this.value=n,this.uniformNames=s.map(f=>`u_${f}`),this.type=d}setUniform(n,s,d){n.set(d.constantOr(this.value))}getBinding(n,s,d){return this.type==="color"?new Ih(n,s):new v1(n,s)}}class Ta{constructor(n,s){this.uniformNames=s.map(d=>`u_${d}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(n,s){this.pixelRatioFrom=s.pixelRatio,this.pixelRatioTo=n.pixelRatio,this.patternFrom=s.tlbr,this.patternTo=n.tlbr}setUniform(n,s,d,f){const v=f==="u_pattern_to"?this.patternTo:f==="u_pattern_from"?this.patternFrom:f==="u_pixel_ratio_to"?this.pixelRatioTo:f==="u_pixel_ratio_from"?this.pixelRatioFrom:null;v&&n.set(v)}getBinding(n,s,d){return d.substr(0,9)==="u_pattern"?new Th(n,s):new v1(n,s)}}class mo{constructor(n,s,d,f){this.expression=n,this.type=d,this.maxValue=0,this.paintVertexAttributes=s.map(v=>({name:`a_${v}`,type:"Float32",components:d==="color"?2:1,offset:0})),this.paintVertexArray=new f}populatePaintArray(n,s,d,f,v){const x=this.paintVertexArray.length,b=this.expression.evaluate(new vn(0),s,{},f,[],v);this.paintVertexArray.resize(n),this._setPaintValue(x,n,b)}updatePaintArray(n,s,d,f){const v=this.expression.evaluate({zoom:0},d,f);this._setPaintValue(n,s,v)}_setPaintValue(n,s,d){if(this.type==="color"){const f=dc(d);for(let v=n;v<s;v++)this.paintVertexArray.emplace(v,f[0],f[1])}else{for(let f=n;f<s;f++)this.paintVertexArray.emplace(f,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ri{constructor(n,s,d,f,v,x){this.expression=n,this.uniformNames=s.map(b=>`u_${b}_t`),this.type=d,this.useIntegerZoom=f,this.zoom=v,this.maxValue=0,this.paintVertexAttributes=s.map(b=>({name:`a_${b}`,type:"Float32",components:d==="color"?4:2,offset:0})),this.paintVertexArray=new x}populatePaintArray(n,s,d,f,v){const x=this.expression.evaluate(new vn(this.zoom),s,{},f,[],v),b=this.expression.evaluate(new vn(this.zoom+1),s,{},f,[],v),M=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValue(M,n,x,b)}updatePaintArray(n,s,d,f){const v=this.expression.evaluate({zoom:this.zoom},d,f),x=this.expression.evaluate({zoom:this.zoom+1},d,f);this._setPaintValue(n,s,v,x)}_setPaintValue(n,s,d,f){if(this.type==="color"){const v=dc(d),x=dc(f);for(let b=n;b<s;b++)this.paintVertexArray.emplace(b,v[0],v[1],x[0],x[1])}else{for(let v=n;v<s;v++)this.paintVertexArray.emplace(v,d,f);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(f))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(n,s){const d=this.useIntegerZoom?Math.floor(s.zoom):s.zoom,f=he(this.expression.interpolationFactor(d,this.zoom,this.zoom+1),0,1);n.set(f)}getBinding(n,s,d){return new v1(n,s)}}class go{constructor(n,s,d,f,v,x){this.expression=n,this.type=s,this.useIntegerZoom=d,this.zoom=f,this.layerId=x,this.zoomInPaintVertexArray=new v,this.zoomOutPaintVertexArray=new v}populatePaintArray(n,s,d){const f=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(n),this.zoomOutPaintVertexArray.resize(n),this._setPaintValues(f,n,s.patterns&&s.patterns[this.layerId],d)}updatePaintArray(n,s,d,f,v){this._setPaintValues(n,s,d.patterns&&d.patterns[this.layerId],v)}_setPaintValues(n,s,d,f){if(!f||!d)return;const{min:v,mid:x,max:b}=d,M=f[v],A=f[x],I=f[b];if(M&&A&&I)for(let R=n;R<s;R++)this.zoomInPaintVertexArray.emplace(R,A.tl[0],A.tl[1],A.br[0],A.br[1],M.tl[0],M.tl[1],M.br[0],M.br[1],A.pixelRatio,M.pixelRatio),this.zoomOutPaintVertexArray.emplace(R,A.tl[0],A.tl[1],A.br[0],A.br[1],I.tl[0],I.tl[1],I.br[0],I.br[1],A.pixelRatio,I.pixelRatio)}upload(n){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=n.createVertexBuffer(this.zoomInPaintVertexArray,po.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=n.createVertexBuffer(this.zoomOutPaintVertexArray,po.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class hc{constructor(n,s,d){this.binders={},this._buffers=[];const f=[];for(const v in n.paint._values){if(!d(v))continue;const x=n.paint.get(v);if(!(x instanceof Nr&&os(x.property.specification)))continue;const b=ib(v,n.type),M=x.value,A=x.property.specification.type,I=x.property.useIntegerZoom,R=x.property.specification["property-type"],$=R==="cross-faded"||R==="cross-faded-data-driven";if(M.kind==="constant")this.binders[v]=$?new Ta(M.value,b):new fo(M.value,b,A),f.push(`/u_${v}`);else if(M.kind==="source"||$){const U=Y2(v,A,"source");this.binders[v]=$?new go(M,A,I,s,U,n.id):new mo(M,b,A,U),f.push(`/a_${v}`)}else{const U=Y2(v,A,"composite");this.binders[v]=new Ri(M,b,A,I,s,U),f.push(`/z_${v}`)}}this.cacheKey=f.sort().join("")}getMaxValue(n){const s=this.binders[n];return s instanceof mo||s instanceof Ri?s.maxValue:0}populatePaintArrays(n,s,d,f,v){for(const x in this.binders){const b=this.binders[x];(b instanceof mo||b instanceof Ri||b instanceof go)&&b.populatePaintArray(n,s,d,f,v)}}setConstantPatternPositions(n,s){for(const d in this.binders){const f=this.binders[d];f instanceof Ta&&f.setConstantPatternPositions(n,s)}}updatePaintArrays(n,s,d,f,v){let x=!1;for(const b in n){const M=s.getPositions(b);for(const A of M){const I=d.feature(A.index);for(const R in this.binders){const $=this.binders[R];if(($ instanceof mo||$ instanceof Ri||$ instanceof go)&&$.expression.isStateDependent===!0){const U=f.paint.get(R);$.expression=U.value,$.updatePaintArray(A.start,A.end,I,n[b],v),x=!0}}}}return x}defines(){const n=[];for(const s in this.binders){const d=this.binders[s];(d instanceof fo||d instanceof Ta)&&n.push(...d.uniformNames.map(f=>`#define HAS_UNIFORM_${f}`))}return n}getBinderAttributes(){const n=[];for(const s in this.binders){const d=this.binders[s];if(d instanceof mo||d instanceof Ri)for(let f=0;f<d.paintVertexAttributes.length;f++)n.push(d.paintVertexAttributes[f].name);else if(d instanceof go)for(let f=0;f<po.members.length;f++)n.push(po.members[f].name)}return n}getBinderUniforms(){const n=[];for(const s in this.binders){const d=this.binders[s];if(d instanceof fo||d instanceof Ta||d instanceof Ri)for(const f of d.uniformNames)n.push(f)}return n}getPaintVertexBuffers(){return this._buffers}getUniforms(n,s){const d=[];for(const f in this.binders){const v=this.binders[f];if(v instanceof fo||v instanceof Ta||v instanceof Ri){for(const x of v.uniformNames)if(s[x]){const b=v.getBinding(n,s[x],x);d.push({name:x,property:f,binding:b})}}}return d}setUniforms(n,s,d,f){for(const{name:v,property:x,binding:b}of s)this.binders[x].setUniform(b,f,d.get(x),v)}updatePaintBuffers(n){this._buffers=[];for(const s in this.binders){const d=this.binders[s];if(n&&d instanceof go){const f=n.fromScale===2?d.zoomInPaintVertexBuffer:d.zoomOutPaintVertexBuffer;f&&this._buffers.push(f)}else(d instanceof mo||d instanceof Ri)&&d.paintVertexBuffer&&this._buffers.push(d.paintVertexBuffer)}}upload(n){for(const s in this.binders){const d=this.binders[s];(d instanceof mo||d instanceof Ri||d instanceof go)&&d.upload(n)}this.updatePaintBuffers()}destroy(){for(const n in this.binders){const s=this.binders[n];(s instanceof mo||s instanceof Ri||s instanceof go)&&s.destroy()}}}class No{constructor(n,s,d=()=>!0){this.programConfigurations={};for(const f of n)this.programConfigurations[f.id]=new hc(f,s,d);this.needsUpload=!1,this._featureMap=new $n,this._bufferOffset=0}populatePaintArrays(n,s,d,f,v,x){for(const b in this.programConfigurations)this.programConfigurations[b].populatePaintArrays(n,s,f,v,x);s.id!==void 0&&this._featureMap.add(s.id,d,this._bufferOffset,n),this._bufferOffset=n,this.needsUpload=!0}updatePaintArrays(n,s,d,f){for(const v of d)this.needsUpload=this.programConfigurations[v.id].updatePaintArrays(n,this._featureMap,s,v,f)||this.needsUpload}get(n){return this.programConfigurations[n]}upload(n){if(this.needsUpload){for(const s in this.programConfigurations)this.programConfigurations[s].upload(n);this.needsUpload=!1}}destroy(){for(const n in this.programConfigurations)this.programConfigurations[n].destroy()}}function ib(o,n){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[o]||[o.replace(`${n}-`,"").replace(/-/g,"_")]}function Y2(o,n,s){const d={color:{source:ds,composite:te},number:{source:k,composite:ds}},f=function(v){return{"line-pattern":{source:cn,composite:cn},"fill-pattern":{source:cn,composite:cn},"fill-extrusion-pattern":{source:cn,composite:cn}}[v]}(o);return f&&f[s]||d[n][s]}ct("ConstantBinder",fo),ct("CrossFadedConstantBinder",Ta),ct("SourceExpressionBinder",mo),ct("CrossFadedCompositeBinder",go),ct("CompositeExpressionBinder",Ri),ct("ProgramConfiguration",hc,{omit:["_buffers"]}),ct("ProgramConfigurationSet",No);const Jn=8192,V0=Math.pow(2,14)-1,Q2=-V0-1;function ul(o){const n=Jn/o.extent,s=o.loadGeometry();for(let d=0;d<s.length;d++){const f=s[d];for(let v=0;v<f.length;v++){const x=f[v],b=Math.round(x.x*n),M=Math.round(x.y*n);x.x=he(b,Q2,V0),x.y=he(M,Q2,V0),(b<x.x||b>x.x+1||M<x.y||M>x.y+1)&&qe("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return s}function cl(o,n){return{type:o.type,id:o.id,properties:o.properties,geometry:n?ul(o):[]}}function Lh(o,n,s,d,f){o.emplaceBack(2*n+(d+1)/2,2*s+(f+1)/2)}class W0{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(s=>s.id),this.index=n.index,this.hasPattern=!1,this.layoutVertexArray=new mt,this.indexArray=new _r,this.segments=new _n,this.programConfigurations=new No(n.layers,n.zoom),this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id)}populate(n,s,d){const f=this.layers[0],v=[];let x=null,b=!1;f.type==="circle"&&(x=f.layout.get("circle-sort-key"),b=!x.isConstant());for(const{feature:M,id:A,index:I,sourceLayerIndex:R}of n){const $=this.layers[0]._featureFilter.needGeometry,U=cl(M,$);if(!this.layers[0]._featureFilter.filter(new vn(this.zoom),U,d))continue;const H=b?x.evaluate(U,{},d):void 0,Y={id:A,properties:M.properties,type:M.type,sourceLayerIndex:R,index:I,geometry:$?U.geometry:ul(M),patterns:{},sortKey:H};v.push(Y)}b&&v.sort((M,A)=>M.sortKey-A.sortKey);for(const M of v){const{geometry:A,index:I,sourceLayerIndex:R}=M,$=n[I].feature;this.addFeature(M,A,I,d),s.featureIndex.insert($,A,I,R,this.index)}}update(n,s,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,s,this.stateDependentLayers,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,pi),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(n,s,d,f){for(const v of s)for(const x of v){const b=x.x,M=x.y;if(b<0||b>=Jn||M<0||M>=Jn)continue;const A=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,n.sortKey),I=A.vertexLength;Lh(this.layoutVertexArray,b,M,-1,-1),Lh(this.layoutVertexArray,b,M,1,-1),Lh(this.layoutVertexArray,b,M,1,1),Lh(this.layoutVertexArray,b,M,-1,1),this.indexArray.emplaceBack(I,I+1,I+2),this.indexArray.emplaceBack(I,I+3,I+2),A.vertexLength+=4,A.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,{},f)}}function eg(o,n){for(let s=0;s<o.length;s++)if(_1(n,o[s]))return!0;for(let s=0;s<n.length;s++)if(_1(o,n[s]))return!0;return!!U0(o,n)}function ob(o,n,s){return!!_1(o,n)||!!H0(n,o,s)}function tg(o,n){if(o.length===1)return rg(n,o[0]);for(let s=0;s<n.length;s++){const d=n[s];for(let f=0;f<d.length;f++)if(_1(o,d[f]))return!0}for(let s=0;s<o.length;s++)if(rg(n,o[s]))return!0;for(let s=0;s<n.length;s++)if(U0(o,n[s]))return!0;return!1}function ab(o,n,s){if(o.length>1){if(U0(o,n))return!0;for(let d=0;d<n.length;d++)if(H0(n[d],o,s))return!0}for(let d=0;d<o.length;d++)if(H0(o[d],n,s))return!0;return!1}function U0(o,n){if(o.length===0||n.length===0)return!1;for(let s=0;s<o.length-1;s++){const d=o[s],f=o[s+1];for(let v=0;v<n.length-1;v++)if(sb(d,f,n[v],n[v+1]))return!0}return!1}function sb(o,n,s,d){return Je(o,s,d)!==Je(n,s,d)&&Je(o,n,s)!==Je(o,n,d)}function H0(o,n,s){const d=s*s;if(n.length===1)return o.distSqr(n[0])<d;for(let f=1;f<n.length;f++)if(ng(o,n[f-1],n[f])<d)return!0;return!1}function ng(o,n,s){const d=n.distSqr(s);if(d===0)return o.distSqr(n);const f=((o.x-n.x)*(s.x-n.x)+(o.y-n.y)*(s.y-n.y))/d;return o.distSqr(f<0?n:f>1?s:s.sub(n)._mult(f)._add(n))}function rg(o,n){let s,d,f,v=!1;for(let x=0;x<o.length;x++){s=o[x];for(let b=0,M=s.length-1;b<s.length;M=b++)d=s[b],f=s[M],d.y>n.y!=f.y>n.y&&n.x<(f.x-d.x)*(n.y-d.y)/(f.y-d.y)+d.x&&(v=!v)}return v}function _1(o,n){let s=!1;for(let d=0,f=o.length-1;d<o.length;f=d++){const v=o[d],x=o[f];v.y>n.y!=x.y>n.y&&n.x<(x.x-v.x)*(n.y-v.y)/(x.y-v.y)+v.x&&(s=!s)}return s}function lb(o,n,s){const d=s[0],f=s[2];if(o.x<d.x&&n.x<d.x||o.x>f.x&&n.x>f.x||o.y<d.y&&n.y<d.y||o.y>f.y&&n.y>f.y)return!1;const v=Je(o,n,s[0]);return v!==Je(o,n,s[1])||v!==Je(o,n,s[2])||v!==Je(o,n,s[3])}function pc(o,n,s){const d=n.paint.get(o).value;return d.kind==="constant"?d.value:s.programConfigurations.get(n.id).getMaxValue(o)}function Dh(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function Rh(o,n,s,d,f){if(!n[0]&&!n[1])return o;const v=z.convert(n)._mult(f);s==="viewport"&&v._rotate(-d);const x=[];for(let b=0;b<o.length;b++)x.push(o[b].sub(v));return x}let ig,og;ct("CircleBucket",W0,{omit:["layers"]});var ub={get paint(){return og=og||new Wn({"circle-radius":new Mt(ke.paint_circle["circle-radius"]),"circle-color":new Mt(ke.paint_circle["circle-color"]),"circle-blur":new Mt(ke.paint_circle["circle-blur"]),"circle-opacity":new Mt(ke.paint_circle["circle-opacity"]),"circle-translate":new _t(ke.paint_circle["circle-translate"]),"circle-translate-anchor":new _t(ke.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new _t(ke.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new _t(ke.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Mt(ke.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Mt(ke.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Mt(ke.paint_circle["circle-stroke-opacity"])})},get layout(){return ig=ig||new Wn({"circle-sort-key":new Mt(ke.layout_circle["circle-sort-key"])})}},Jr=1e-6,x1=typeof Float32Array<"u"?Float32Array:Array;function Z0(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function ag(o,n,s){var d=n[0],f=n[1],v=n[2],x=n[3],b=n[4],M=n[5],A=n[6],I=n[7],R=n[8],$=n[9],U=n[10],H=n[11],Y=n[12],se=n[13],ce=n[14],_e=n[15],fe=s[0],be=s[1],Ee=s[2],Oe=s[3];return o[0]=fe*d+be*b+Ee*R+Oe*Y,o[1]=fe*f+be*M+Ee*$+Oe*se,o[2]=fe*v+be*A+Ee*U+Oe*ce,o[3]=fe*x+be*I+Ee*H+Oe*_e,o[4]=(fe=s[4])*d+(be=s[5])*b+(Ee=s[6])*R+(Oe=s[7])*Y,o[5]=fe*f+be*M+Ee*$+Oe*se,o[6]=fe*v+be*A+Ee*U+Oe*ce,o[7]=fe*x+be*I+Ee*H+Oe*_e,o[8]=(fe=s[8])*d+(be=s[9])*b+(Ee=s[10])*R+(Oe=s[11])*Y,o[9]=fe*f+be*M+Ee*$+Oe*se,o[10]=fe*v+be*A+Ee*U+Oe*ce,o[11]=fe*x+be*I+Ee*H+Oe*_e,o[12]=(fe=s[12])*d+(be=s[13])*b+(Ee=s[14])*R+(Oe=s[15])*Y,o[13]=fe*f+be*M+Ee*$+Oe*se,o[14]=fe*v+be*A+Ee*U+Oe*ce,o[15]=fe*x+be*I+Ee*H+Oe*_e,o}Math.hypot||(Math.hypot=function(){for(var o=0,n=arguments.length;n--;)o+=arguments[n]*arguments[n];return Math.sqrt(o)});var fc,cb=ag;function zh(o,n,s){var d=n[0],f=n[1],v=n[2],x=n[3];return o[0]=s[0]*d+s[4]*f+s[8]*v+s[12]*x,o[1]=s[1]*d+s[5]*f+s[9]*v+s[13]*x,o[2]=s[2]*d+s[6]*f+s[10]*v+s[14]*x,o[3]=s[3]*d+s[7]*f+s[11]*v+s[15]*x,o}fc=new x1(4),x1!=Float32Array&&(fc[0]=0,fc[1]=0,fc[2]=0,fc[3]=0);class db extends Di{constructor(n){super(n,ub)}createBucket(n){return new W0(n)}queryRadius(n){const s=n;return pc("circle-radius",this,s)+pc("circle-stroke-width",this,s)+Dh(this.paint.get("circle-translate"))}queryIntersectsFeature(n,s,d,f,v,x,b,M){const A=Rh(n,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),x.angle,b),I=this.paint.get("circle-radius").evaluate(s,d)+this.paint.get("circle-stroke-width").evaluate(s,d),R=this.paint.get("circle-pitch-alignment")==="map",$=R?A:function(H,Y){return H.map(se=>sg(se,Y))}(A,M),U=R?I*b:I;for(const H of f)for(const Y of H){const se=R?Y:sg(Y,M);let ce=U;const _e=zh([],[Y.x,Y.y,0,1],M);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ce*=_e[3]/x.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ce*=x.cameraToCenterDistance/_e[3]),ob($,se,ce))return!0}return!1}}function sg(o,n){const s=zh([],[o.x,o.y,0,1],n);return new z(s[0]/s[3],s[1]/s[3])}class lg extends W0{}let ug;ct("HeatmapBucket",lg,{omit:["layers"]});var hb={get paint(){return ug=ug||new Wn({"heatmap-radius":new Mt(ke.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Mt(ke.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new _t(ke.paint_heatmap["heatmap-intensity"]),"heatmap-color":new oc(ke.paint_heatmap["heatmap-color"]),"heatmap-opacity":new _t(ke.paint_heatmap["heatmap-opacity"])})}};function G0(o,{width:n,height:s},d,f){if(f){if(f instanceof Uint8ClampedArray)f=new Uint8Array(f.buffer);else if(f.length!==n*s*d)throw new RangeError(`mismatched image size. expected: ${f.length} but got: ${n*s*d}`)}else f=new Uint8Array(n*s*d);return o.width=n,o.height=s,o.data=f,o}function cg(o,{width:n,height:s},d){if(n===o.width&&s===o.height)return;const f=G0({},{width:n,height:s},d);q0(o,f,{x:0,y:0},{x:0,y:0},{width:Math.min(o.width,n),height:Math.min(o.height,s)},d),o.width=n,o.height=s,o.data=f.data}function q0(o,n,s,d,f,v){if(f.width===0||f.height===0)return n;if(f.width>o.width||f.height>o.height||s.x>o.width-f.width||s.y>o.height-f.height)throw new RangeError("out of range source coordinates for image copy");if(f.width>n.width||f.height>n.height||d.x>n.width-f.width||d.y>n.height-f.height)throw new RangeError("out of range destination coordinates for image copy");const x=o.data,b=n.data;if(x===b)throw new Error("srcData equals dstData, so image is already copied");for(let M=0;M<f.height;M++){const A=((s.y+M)*o.width+s.x)*v,I=((d.y+M)*n.width+d.x)*v;for(let R=0;R<f.width*v;R++)b[I+R]=x[A+R]}return n}class mc{constructor(n,s){G0(this,n,1,s)}resize(n){cg(this,n,1)}clone(){return new mc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,s,d,f,v){q0(n,s,d,f,v,1)}}class Wi{constructor(n,s){G0(this,n,4,s)}resize(n){cg(this,n,4)}replace(n,s){s?this.data.set(n):this.data=n instanceof Uint8ClampedArray?new Uint8Array(n.buffer):n}clone(){return new Wi({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,s,d,f,v){q0(n,s,d,f,v,4)}}function dg(o){const n={},s=o.resolution||256,d=o.clips?o.clips.length:1,f=o.image||new Wi({width:s,height:d});if(Math.log(s)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${s}`);const v=(x,b,M)=>{n[o.evaluationKey]=M;const A=o.expression.evaluate(n);f.data[x+b+0]=Math.floor(255*A.r/A.a),f.data[x+b+1]=Math.floor(255*A.g/A.a),f.data[x+b+2]=Math.floor(255*A.b/A.a),f.data[x+b+3]=Math.floor(255*A.a)};if(o.clips)for(let x=0,b=0;x<d;++x,b+=4*s)for(let M=0,A=0;M<s;M++,A+=4){const I=M/(s-1),{start:R,end:$}=o.clips[x];v(b,A,R*(1-I)+$*I)}else for(let x=0,b=0;x<s;x++,b+=4)v(0,b,x/(s-1));return f}ct("AlphaImage",mc),ct("RGBAImage",Wi);class pb extends Di{createBucket(n){return new lg(n)}constructor(n){super(n,hb),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(n){n==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=dg({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let hg;var fb={get paint(){return hg=hg||new Wn({"hillshade-illumination-direction":new _t(ke.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new _t(ke.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new _t(ke.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new _t(ke.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new _t(ke.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new _t(ke.paint_hillshade["hillshade-accent-color"])})}};class mb extends Di{constructor(n){super(n,fb)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const gb=Tn([{name:"a_pos",components:2,type:"Int16"}],4),{members:yb}=gb;var K0={exports:{}};function Fh(o,n,s){s=s||2;var d,f,v,x,b,M,A,I=n&&n.length,R=I?n[0]*s:o.length,$=pg(o,0,R,s,!0),U=[];if(!$||$.next===$.prev)return U;if(I&&($=function(Y,se,ce,_e){var fe,be,Ee,Oe=[];for(fe=0,be=se.length;fe<be;fe++)(Ee=pg(Y,se[fe]*_e,fe<be-1?se[fe+1]*_e:Y.length,_e,!1))===Ee.next&&(Ee.steiner=!0),Oe.push(Mb(Ee));for(Oe.sort(wb),fe=0;fe<Oe.length;fe++)ce=Sb(Oe[fe],ce);return ce}(o,n,$,s)),o.length>80*s){d=v=o[0],f=x=o[1];for(var H=s;H<R;H+=s)(b=o[H])<d&&(d=b),(M=o[H+1])<f&&(f=M),b>v&&(v=b),M>x&&(x=M);A=(A=Math.max(v-d,x-f))!==0?32767/A:0}return gc($,U,s,d,f,A,0),U}function pg(o,n,s,d,f){var v,x;if(f===Y0(o,n,s,d)>0)for(v=n;v<s;v+=d)x=gg(v,o[v],o[v+1],x);else for(v=s-d;v>=n;v-=d)x=gg(v,o[v],o[v+1],x);return x&&Nh(x,x.next)&&(vc(x),x=x.next),x}function dl(o,n){if(!o)return o;n||(n=o);var s,d=o;do if(s=!1,d.steiner||!Nh(d,d.next)&&Hn(d.prev,d,d.next)!==0)d=d.next;else{if(vc(d),(d=n=d.prev)===d.next)break;s=!0}while(s||d!==n);return n}function gc(o,n,s,d,f,v,x){if(o){!x&&v&&function(I,R,$,U){var H=I;do H.z===0&&(H.z=X0(H.x,H.y,R,$,U)),H.prevZ=H.prev,H.nextZ=H.next,H=H.next;while(H!==I);H.prevZ.nextZ=null,H.prevZ=null,function(Y){var se,ce,_e,fe,be,Ee,Oe,lt,gt=1;do{for(ce=Y,Y=null,be=null,Ee=0;ce;){for(Ee++,_e=ce,Oe=0,se=0;se<gt&&(Oe++,_e=_e.nextZ);se++);for(lt=gt;Oe>0||lt>0&&_e;)Oe!==0&&(lt===0||!_e||ce.z<=_e.z)?(fe=ce,ce=ce.nextZ,Oe--):(fe=_e,_e=_e.nextZ,lt--),be?be.nextZ=fe:Y=fe,fe.prevZ=be,be=fe;ce=_e}be.nextZ=null,gt*=2}while(Ee>1)}(H)}(o,d,f,v);for(var b,M,A=o;o.prev!==o.next;)if(b=o.prev,M=o.next,v?_b(o,d,f,v):vb(o))n.push(b.i/s|0),n.push(o.i/s|0),n.push(M.i/s|0),vc(o),o=M.next,A=M.next;else if((o=M)===A){x?x===1?gc(o=xb(dl(o),n,s),n,s,d,f,v,2):x===2&&bb(o,n,s,d,f,v):gc(dl(o),n,s,d,f,v,1);break}}}function vb(o){var n=o.prev,s=o,d=o.next;if(Hn(n,s,d)>=0)return!1;for(var f=n.x,v=s.x,x=d.x,b=n.y,M=s.y,A=d.y,I=f<v?f<x?f:x:v<x?v:x,R=b<M?b<A?b:A:M<A?M:A,$=f>v?f>x?f:x:v>x?v:x,U=b>M?b>A?b:A:M>A?M:A,H=d.next;H!==n;){if(H.x>=I&&H.x<=$&&H.y>=R&&H.y<=U&&b1(f,b,v,M,x,A,H.x,H.y)&&Hn(H.prev,H,H.next)>=0)return!1;H=H.next}return!0}function _b(o,n,s,d){var f=o.prev,v=o,x=o.next;if(Hn(f,v,x)>=0)return!1;for(var b=f.x,M=v.x,A=x.x,I=f.y,R=v.y,$=x.y,U=b<M?b<A?b:A:M<A?M:A,H=I<R?I<$?I:$:R<$?R:$,Y=b>M?b>A?b:A:M>A?M:A,se=I>R?I>$?I:$:R>$?R:$,ce=X0(U,H,n,s,d),_e=X0(Y,se,n,s,d),fe=o.prevZ,be=o.nextZ;fe&&fe.z>=ce&&be&&be.z<=_e;){if(fe.x>=U&&fe.x<=Y&&fe.y>=H&&fe.y<=se&&fe!==f&&fe!==x&&b1(b,I,M,R,A,$,fe.x,fe.y)&&Hn(fe.prev,fe,fe.next)>=0||(fe=fe.prevZ,be.x>=U&&be.x<=Y&&be.y>=H&&be.y<=se&&be!==f&&be!==x&&b1(b,I,M,R,A,$,be.x,be.y)&&Hn(be.prev,be,be.next)>=0))return!1;be=be.nextZ}for(;fe&&fe.z>=ce;){if(fe.x>=U&&fe.x<=Y&&fe.y>=H&&fe.y<=se&&fe!==f&&fe!==x&&b1(b,I,M,R,A,$,fe.x,fe.y)&&Hn(fe.prev,fe,fe.next)>=0)return!1;fe=fe.prevZ}for(;be&&be.z<=_e;){if(be.x>=U&&be.x<=Y&&be.y>=H&&be.y<=se&&be!==f&&be!==x&&b1(b,I,M,R,A,$,be.x,be.y)&&Hn(be.prev,be,be.next)>=0)return!1;be=be.nextZ}return!0}function xb(o,n,s){var d=o;do{var f=d.prev,v=d.next.next;!Nh(f,v)&&fg(f,d,d.next,v)&&yc(f,v)&&yc(v,f)&&(n.push(f.i/s|0),n.push(d.i/s|0),n.push(v.i/s|0),vc(d),vc(d.next),d=o=v),d=d.next}while(d!==o);return dl(d)}function bb(o,n,s,d,f,v){var x=o;do{for(var b=x.next.next;b!==x.prev;){if(x.i!==b.i&&Eb(x,b)){var M=mg(x,b);return x=dl(x,x.next),M=dl(M,M.next),gc(x,n,s,d,f,v,0),void gc(M,n,s,d,f,v,0)}b=b.next}x=x.next}while(x!==o)}function wb(o,n){return o.x-n.x}function Sb(o,n){var s=function(f,v){var x,b=v,M=f.x,A=f.y,I=-1/0;do{if(A<=b.y&&A>=b.next.y&&b.next.y!==b.y){var R=b.x+(A-b.y)*(b.next.x-b.x)/(b.next.y-b.y);if(R<=M&&R>I&&(I=R,x=b.x<b.next.x?b:b.next,R===M))return x}b=b.next}while(b!==v);if(!x)return null;var $,U=x,H=x.x,Y=x.y,se=1/0;b=x;do M>=b.x&&b.x>=H&&M!==b.x&&b1(A<Y?M:I,A,H,Y,A<Y?I:M,A,b.x,b.y)&&($=Math.abs(A-b.y)/(M-b.x),yc(b,f)&&($<se||$===se&&(b.x>x.x||b.x===x.x&&Cb(x,b)))&&(x=b,se=$)),b=b.next;while(b!==U);return x}(o,n);if(!s)return n;var d=mg(s,o);return dl(d,d.next),dl(s,s.next)}function Cb(o,n){return Hn(o.prev,o,n.prev)<0&&Hn(n.next,o,o.next)<0}function X0(o,n,s,d,f){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-s)*f|0)|o<<8))|o<<4))|o<<2))|o<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-d)*f|0)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function Mb(o){var n=o,s=o;do(n.x<s.x||n.x===s.x&&n.y<s.y)&&(s=n),n=n.next;while(n!==o);return s}function b1(o,n,s,d,f,v,x,b){return(f-x)*(n-b)>=(o-x)*(v-b)&&(o-x)*(d-b)>=(s-x)*(n-b)&&(s-x)*(v-b)>=(f-x)*(d-b)}function Eb(o,n){return o.next.i!==n.i&&o.prev.i!==n.i&&!function(s,d){var f=s;do{if(f.i!==s.i&&f.next.i!==s.i&&f.i!==d.i&&f.next.i!==d.i&&fg(f,f.next,s,d))return!0;f=f.next}while(f!==s);return!1}(o,n)&&(yc(o,n)&&yc(n,o)&&function(s,d){var f=s,v=!1,x=(s.x+d.x)/2,b=(s.y+d.y)/2;do f.y>b!=f.next.y>b&&f.next.y!==f.y&&x<(f.next.x-f.x)*(b-f.y)/(f.next.y-f.y)+f.x&&(v=!v),f=f.next;while(f!==s);return v}(o,n)&&(Hn(o.prev,o,n.prev)||Hn(o,n.prev,n))||Nh(o,n)&&Hn(o.prev,o,o.next)>0&&Hn(n.prev,n,n.next)>0)}function Hn(o,n,s){return(n.y-o.y)*(s.x-n.x)-(n.x-o.x)*(s.y-n.y)}function Nh(o,n){return o.x===n.x&&o.y===n.y}function fg(o,n,s,d){var f=Bh(Hn(o,n,s)),v=Bh(Hn(o,n,d)),x=Bh(Hn(s,d,o)),b=Bh(Hn(s,d,n));return f!==v&&x!==b||!(f!==0||!Oh(o,s,n))||!(v!==0||!Oh(o,d,n))||!(x!==0||!Oh(s,o,d))||!(b!==0||!Oh(s,n,d))}function Oh(o,n,s){return n.x<=Math.max(o.x,s.x)&&n.x>=Math.min(o.x,s.x)&&n.y<=Math.max(o.y,s.y)&&n.y>=Math.min(o.y,s.y)}function Bh(o){return o>0?1:o<0?-1:0}function yc(o,n){return Hn(o.prev,o,o.next)<0?Hn(o,n,o.next)>=0&&Hn(o,o.prev,n)>=0:Hn(o,n,o.prev)<0||Hn(o,o.next,n)<0}function mg(o,n){var s=new J0(o.i,o.x,o.y),d=new J0(n.i,n.x,n.y),f=o.next,v=n.prev;return o.next=n,n.prev=o,s.next=f,f.prev=s,d.next=s,s.prev=d,v.next=d,d.prev=v,d}function gg(o,n,s,d){var f=new J0(o,n,s);return d?(f.next=d.next,f.prev=d,d.next.prev=f,d.next=f):(f.prev=f,f.next=f),f}function vc(o){o.next.prev=o.prev,o.prev.next=o.next,o.prevZ&&(o.prevZ.nextZ=o.nextZ),o.nextZ&&(o.nextZ.prevZ=o.prevZ)}function J0(o,n,s){this.i=o,this.x=n,this.y=s,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Y0(o,n,s,d){for(var f=0,v=n,x=s-d;v<s;v+=d)f+=(o[x]-o[v])*(o[v+1]+o[x+1]),x=v;return f}K0.exports=Fh,K0.exports.default=Fh,Fh.deviation=function(o,n,s,d){var f=n&&n.length,v=Math.abs(Y0(o,0,f?n[0]*s:o.length,s));if(f)for(var x=0,b=n.length;x<b;x++)v-=Math.abs(Y0(o,n[x]*s,x<b-1?n[x+1]*s:o.length,s));var M=0;for(x=0;x<d.length;x+=3){var A=d[x]*s,I=d[x+1]*s,R=d[x+2]*s;M+=Math.abs((o[A]-o[R])*(o[I+1]-o[A+1])-(o[A]-o[I])*(o[R+1]-o[A+1]))}return v===0&&M===0?0:Math.abs((M-v)/v)},Fh.flatten=function(o){for(var n=o[0][0].length,s={vertices:[],holes:[],dimensions:n},d=0,f=0;f<o.length;f++){for(var v=0;v<o[f].length;v++)for(var x=0;x<n;x++)s.vertices.push(o[f][v][x]);f>0&&s.holes.push(d+=o[f-1].length)}return s};var yg=C(K0.exports);function kb(o,n,s,d,f){vg(o,n,s||0,d||o.length-1,f||Ab)}function vg(o,n,s,d,f){for(;d>s;){if(d-s>600){var v=d-s+1,x=n-s+1,b=Math.log(v),M=.5*Math.exp(2*b/3),A=.5*Math.sqrt(b*M*(v-M)/v)*(x-v/2<0?-1:1);vg(o,n,Math.max(s,Math.floor(n-x*M/v+A)),Math.min(d,Math.floor(n+(v-x)*M/v+A)),f)}var I=o[n],R=s,$=d;for(_c(o,s,n),f(o[d],I)>0&&_c(o,s,d);R<$;){for(_c(o,R,$),R++,$--;f(o[R],I)<0;)R++;for(;f(o[$],I)>0;)$--}f(o[s],I)===0?_c(o,s,$):_c(o,++$,d),$<=n&&(s=$+1),n<=$&&(d=$-1)}}function _c(o,n,s){var d=o[n];o[n]=o[s],o[s]=d}function Ab(o,n){return o<n?-1:o>n?1:0}function Q0(o,n){const s=o.length;if(s<=1)return[o];const d=[];let f,v;for(let x=0;x<s;x++){const b=Le(o[x]);b!==0&&(o[x].area=Math.abs(b),v===void 0&&(v=b<0),v===b<0?(f&&d.push(f),f=[o[x]]):f.push(o[x]))}if(f&&d.push(f),n>1)for(let x=0;x<d.length;x++)d[x].length<=n||(kb(d[x],n,1,d[x].length-1,Pb),d[x]=d[x].slice(0,n));return d}function Pb(o,n){return n.area-o.area}function ef(o,n,s){const d=s.patternDependencies;let f=!1;for(const v of n){const x=v.paint.get(`${o}-pattern`);x.isConstant()||(f=!0);const b=x.constantOr(null);b&&(f=!0,d[b.to]=!0,d[b.from]=!0)}return f}function tf(o,n,s,d,f){const v=f.patternDependencies;for(const x of n){const b=x.paint.get(`${o}-pattern`).value;if(b.kind!=="constant"){let M=b.evaluate({zoom:d-1},s,{},f.availableImages),A=b.evaluate({zoom:d},s,{},f.availableImages),I=b.evaluate({zoom:d+1},s,{},f.availableImages);M=M&&M.name?M.name:M,A=A&&A.name?A.name:A,I=I&&I.name?I.name:I,v[M]=!0,v[A]=!0,v[I]=!0,s.patterns[x.id]={min:M,mid:A,max:I}}}return s}class nf{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(s=>s.id),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Bt,this.indexArray=new _r,this.indexArray2=new ir,this.programConfigurations=new No(n.layers,n.zoom),this.segments=new _n,this.segments2=new _n,this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id)}populate(n,s,d){this.hasPattern=ef("fill",this.layers,s);const f=this.layers[0].layout.get("fill-sort-key"),v=!f.isConstant(),x=[];for(const{feature:b,id:M,index:A,sourceLayerIndex:I}of n){const R=this.layers[0]._featureFilter.needGeometry,$=cl(b,R);if(!this.layers[0]._featureFilter.filter(new vn(this.zoom),$,d))continue;const U=v?f.evaluate($,{},d,s.availableImages):void 0,H={id:M,properties:b.properties,type:b.type,sourceLayerIndex:I,index:A,geometry:R?$.geometry:ul(b),patterns:{},sortKey:U};x.push(H)}v&&x.sort((b,M)=>b.sortKey-M.sortKey);for(const b of x){const{geometry:M,index:A,sourceLayerIndex:I}=b;if(this.hasPattern){const R=tf("fill",this.layers,b,this.zoom,s);this.patternFeatures.push(R)}else this.addFeature(b,M,A,d,{});s.featureIndex.insert(n[A].feature,M,A,I,this.index)}}update(n,s,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,s,this.stateDependentLayers,d)}addFeatures(n,s,d){for(const f of this.patternFeatures)this.addFeature(f,f.geometry,f.index,s,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,yb),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.indexBuffer2=n.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(n,s,d,f,v){for(const x of Q0(s,500)){let b=0;for(const U of x)b+=U.length;const M=this.segments.prepareSegment(b,this.layoutVertexArray,this.indexArray),A=M.vertexLength,I=[],R=[];for(const U of x){if(U.length===0)continue;U!==x[0]&&R.push(I.length/2);const H=this.segments2.prepareSegment(U.length,this.layoutVertexArray,this.indexArray2),Y=H.vertexLength;this.layoutVertexArray.emplaceBack(U[0].x,U[0].y),this.indexArray2.emplaceBack(Y+U.length-1,Y),I.push(U[0].x),I.push(U[0].y);for(let se=1;se<U.length;se++)this.layoutVertexArray.emplaceBack(U[se].x,U[se].y),this.indexArray2.emplaceBack(Y+se-1,Y+se),I.push(U[se].x),I.push(U[se].y);H.vertexLength+=U.length,H.primitiveLength+=U.length}const $=yg(I,R);for(let U=0;U<$.length;U+=3)this.indexArray.emplaceBack(A+$[U],A+$[U+1],A+$[U+2]);M.vertexLength+=b,M.primitiveLength+=$.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,v,f)}}let _g,xg;ct("FillBucket",nf,{omit:["layers","patternFeatures"]});var Tb={get paint(){return xg=xg||new Wn({"fill-antialias":new _t(ke.paint_fill["fill-antialias"]),"fill-opacity":new Mt(ke.paint_fill["fill-opacity"]),"fill-color":new Mt(ke.paint_fill["fill-color"]),"fill-outline-color":new Mt(ke.paint_fill["fill-outline-color"]),"fill-translate":new _t(ke.paint_fill["fill-translate"]),"fill-translate-anchor":new _t(ke.paint_fill["fill-translate-anchor"]),"fill-pattern":new al(ke.paint_fill["fill-pattern"])})},get layout(){return _g=_g||new Wn({"fill-sort-key":new Mt(ke.layout_fill["fill-sort-key"])})}};class Ib extends Di{constructor(n){super(n,Tb)}recalculate(n,s){super.recalculate(n,s);const d=this.paint._values["fill-outline-color"];d.value.kind==="constant"&&d.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(n){return new nf(n)}queryRadius(){return Dh(this.paint.get("fill-translate"))}queryIntersectsFeature(n,s,d,f,v,x,b){return tg(Rh(n,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),x.angle,b),f)}isTileClipped(){return!0}}const Lb=Tn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Db=Tn([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Rb}=Lb;var ps={},zb=P,bg=w1;function w1(o,n,s,d,f){this.properties={},this.extent=s,this.type=0,this._pbf=o,this._geometry=-1,this._keys=d,this._values=f,o.readFields(Fb,this,n)}function Fb(o,n,s){o==1?n.id=s.readVarint():o==2?function(d,f){for(var v=d.readVarint()+d.pos;d.pos<v;){var x=f._keys[d.readVarint()],b=f._values[d.readVarint()];f.properties[x]=b}}(s,n):o==3?n.type=s.readVarint():o==4&&(n._geometry=s.pos)}function Nb(o){for(var n,s,d=0,f=0,v=o.length,x=v-1;f<v;x=f++)d+=((s=o[x]).x-(n=o[f]).x)*(n.y+s.y);return d}w1.types=["Unknown","Point","LineString","Polygon"],w1.prototype.loadGeometry=function(){var o=this._pbf;o.pos=this._geometry;for(var n,s=o.readVarint()+o.pos,d=1,f=0,v=0,x=0,b=[];o.pos<s;){if(f<=0){var M=o.readVarint();d=7&M,f=M>>3}if(f--,d===1||d===2)v+=o.readSVarint(),x+=o.readSVarint(),d===1&&(n&&b.push(n),n=[]),n.push(new zb(v,x));else{if(d!==7)throw new Error("unknown command "+d);n&&n.push(n[0].clone())}}return n&&b.push(n),b},w1.prototype.bbox=function(){var o=this._pbf;o.pos=this._geometry;for(var n=o.readVarint()+o.pos,s=1,d=0,f=0,v=0,x=1/0,b=-1/0,M=1/0,A=-1/0;o.pos<n;){if(d<=0){var I=o.readVarint();s=7&I,d=I>>3}if(d--,s===1||s===2)(f+=o.readSVarint())<x&&(x=f),f>b&&(b=f),(v+=o.readSVarint())<M&&(M=v),v>A&&(A=v);else if(s!==7)throw new Error("unknown command "+s)}return[x,M,b,A]},w1.prototype.toGeoJSON=function(o,n,s){var d,f,v=this.extent*Math.pow(2,s),x=this.extent*o,b=this.extent*n,M=this.loadGeometry(),A=w1.types[this.type];function I(U){for(var H=0;H<U.length;H++){var Y=U[H];U[H]=[360*(Y.x+x)/v-180,360/Math.PI*Math.atan(Math.exp((180-360*(Y.y+b)/v)*Math.PI/180))-90]}}switch(this.type){case 1:var R=[];for(d=0;d<M.length;d++)R[d]=M[d][0];I(M=R);break;case 2:for(d=0;d<M.length;d++)I(M[d]);break;case 3:for(M=function(U){var H=U.length;if(H<=1)return[U];for(var Y,se,ce=[],_e=0;_e<H;_e++){var fe=Nb(U[_e]);fe!==0&&(se===void 0&&(se=fe<0),se===fe<0?(Y&&ce.push(Y),Y=[U[_e]]):Y.push(U[_e]))}return Y&&ce.push(Y),ce}(M),d=0;d<M.length;d++)for(f=0;f<M[d].length;f++)I(M[d][f])}M.length===1?M=M[0]:A="Multi"+A;var $={type:"Feature",geometry:{type:A,coordinates:M},properties:this.properties};return"id"in this&&($.id=this.id),$};var Ob=bg,wg=Sg;function Sg(o,n){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=o,this._keys=[],this._values=[],this._features=[],o.readFields(Bb,this,n),this.length=this._features.length}function Bb(o,n,s){o===15?n.version=s.readVarint():o===1?n.name=s.readString():o===5?n.extent=s.readVarint():o===2?n._features.push(s.pos):o===3?n._keys.push(s.readString()):o===4&&n._values.push(function(d){for(var f=null,v=d.readVarint()+d.pos;d.pos<v;){var x=d.readVarint()>>3;f=x===1?d.readString():x===2?d.readFloat():x===3?d.readDouble():x===4?d.readVarint64():x===5?d.readVarint():x===6?d.readSVarint():x===7?d.readBoolean():null}return f}(s))}Sg.prototype.feature=function(o){if(o<0||o>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[o];var n=this._pbf.readVarint()+this._pbf.pos;return new Ob(this._pbf,n,this.extent,this._keys,this._values)};var $b=wg;function jb(o,n,s){if(o===3){var d=new $b(s,s.readVarint()+s.pos);d.length&&(n[d.name]=d)}}ps.VectorTile=function(o,n){this.layers=o.readFields(jb,{},n)},ps.VectorTileFeature=bg,ps.VectorTileLayer=wg;const Vb=ps.VectorTileFeature.types,rf=Math.pow(2,13);function xc(o,n,s,d,f,v,x,b){o.emplaceBack(n,s,2*Math.floor(d*rf)+x,f*rf*2,v*rf*2,Math.round(b))}class of{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(s=>s.id),this.index=n.index,this.hasPattern=!1,this.layoutVertexArray=new rt,this.centroidVertexArray=new Ke,this.indexArray=new _r,this.programConfigurations=new No(n.layers,n.zoom),this.segments=new _n,this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id)}populate(n,s,d){this.features=[],this.hasPattern=ef("fill-extrusion",this.layers,s);for(const{feature:f,id:v,index:x,sourceLayerIndex:b}of n){const M=this.layers[0]._featureFilter.needGeometry,A=cl(f,M);if(!this.layers[0]._featureFilter.filter(new vn(this.zoom),A,d))continue;const I={id:v,sourceLayerIndex:b,index:x,geometry:M?A.geometry:ul(f),properties:f.properties,type:f.type,patterns:{}};this.hasPattern?this.features.push(tf("fill-extrusion",this.layers,I,this.zoom,s)):this.addFeature(I,I.geometry,x,d,{}),s.featureIndex.insert(f,I.geometry,x,b,this.index,!0)}}addFeatures(n,s,d){for(const f of this.features){const{geometry:v}=f;this.addFeature(f,v,f.index,s,d)}}update(n,s,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,s,this.stateDependentLayers,d)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Rb),this.centroidVertexBuffer=n.createVertexBuffer(this.centroidVertexArray,Db.members,!0),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(n,s,d,f,v){const x={x:0,y:0,vertexCount:0};for(const b of Q0(s,500)){let M=0;for(const H of b)M+=H.length;let A=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const H of b){if(H.length===0||Ub(H))continue;let Y=0;for(let se=0;se<H.length;se++){const ce=H[se];if(se>=1){const _e=H[se-1];if(!Wb(ce,_e)){A.vertexLength+4>_n.MAX_VERTEX_ARRAY_LENGTH&&(A=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const fe=ce.sub(_e)._perp()._unit(),be=_e.dist(ce);Y+be>32768&&(Y=0),xc(this.layoutVertexArray,ce.x,ce.y,fe.x,fe.y,0,0,Y),xc(this.layoutVertexArray,ce.x,ce.y,fe.x,fe.y,0,1,Y),x.x+=2*ce.x,x.y+=2*ce.y,x.vertexCount+=2,Y+=be,xc(this.layoutVertexArray,_e.x,_e.y,fe.x,fe.y,0,0,Y),xc(this.layoutVertexArray,_e.x,_e.y,fe.x,fe.y,0,1,Y),x.x+=2*_e.x,x.y+=2*_e.y,x.vertexCount+=2;const Ee=A.vertexLength;this.indexArray.emplaceBack(Ee,Ee+2,Ee+1),this.indexArray.emplaceBack(Ee+1,Ee+2,Ee+3),A.vertexLength+=4,A.primitiveLength+=2}}}}if(A.vertexLength+M>_n.MAX_VERTEX_ARRAY_LENGTH&&(A=this.segments.prepareSegment(M,this.layoutVertexArray,this.indexArray)),Vb[n.type]!=="Polygon")continue;const I=[],R=[],$=A.vertexLength;for(const H of b)if(H.length!==0){H!==b[0]&&R.push(I.length/2);for(let Y=0;Y<H.length;Y++){const se=H[Y];xc(this.layoutVertexArray,se.x,se.y,0,0,1,1,0),x.x+=se.x,x.y+=se.y,x.vertexCount+=1,I.push(se.x),I.push(se.y)}}const U=yg(I,R);for(let H=0;H<U.length;H+=3)this.indexArray.emplaceBack($+U[H],$+U[H+2],$+U[H+1]);A.primitiveLength+=U.length/3,A.vertexLength+=M}for(let b=0;b<x.vertexCount;b++)this.centroidVertexArray.emplaceBack(Math.floor(x.x/x.vertexCount),Math.floor(x.y/x.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,v,f)}}function Wb(o,n){return o.x===n.x&&(o.x<0||o.x>Jn)||o.y===n.y&&(o.y<0||o.y>Jn)}function Ub(o){return o.every(n=>n.x<0)||o.every(n=>n.x>Jn)||o.every(n=>n.y<0)||o.every(n=>n.y>Jn)}let Cg;ct("FillExtrusionBucket",of,{omit:["layers","features"]});var Hb={get paint(){return Cg=Cg||new Wn({"fill-extrusion-opacity":new _t(ke["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Mt(ke["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new _t(ke["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new _t(ke["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new al(ke["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Mt(ke["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Mt(ke["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new _t(ke["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class Zb extends Di{constructor(n){super(n,Hb)}createBucket(n){return new of(n)}queryRadius(){return Dh(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(n,s,d,f,v,x,b,M){const A=Rh(n,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),x.angle,b),I=this.paint.get("fill-extrusion-height").evaluate(s,d),R=this.paint.get("fill-extrusion-base").evaluate(s,d),$=function(H,Y,se,ce){const _e=[];for(const fe of H){const be=[fe.x,fe.y,0,1];zh(be,be,Y),_e.push(new z(be[0]/be[3],be[1]/be[3]))}return _e}(A,M),U=function(H,Y,se,ce){const _e=[],fe=[],be=ce[8]*Y,Ee=ce[9]*Y,Oe=ce[10]*Y,lt=ce[11]*Y,gt=ce[8]*se,ot=ce[9]*se,it=ce[10]*se,et=ce[11]*se;for(const dt of H){const nt=[],Ge=[];for(const wt of dt){const vt=wt.x,Ft=wt.y,xn=ce[0]*vt+ce[4]*Ft+ce[12],En=ce[1]*vt+ce[5]*Ft+ce[13],sr=ce[2]*vt+ce[6]*Ft+ce[14],zi=ce[3]*vt+ce[7]*Ft+ce[15],Yr=sr+Oe,Yn=zi+lt,br=xn+gt,Ir=En+ot,Qr=sr+it,ei=zi+et,lr=new z((xn+be)/Yn,(En+Ee)/Yn);lr.z=Yr/Yn,nt.push(lr);const ur=new z(br/ei,Ir/ei);ur.z=Qr/ei,Ge.push(ur)}_e.push(nt),fe.push(Ge)}return[_e,fe]}(f,R,I,M);return function(H,Y,se){let ce=1/0;tg(se,Y)&&(ce=Mg(se,Y[0]));for(let _e=0;_e<Y.length;_e++){const fe=Y[_e],be=H[_e];for(let Ee=0;Ee<fe.length-1;Ee++){const Oe=fe[Ee],lt=[Oe,fe[Ee+1],be[Ee+1],be[Ee],Oe];eg(se,lt)&&(ce=Math.min(ce,Mg(se,lt)))}}return ce!==1/0&&ce}(U[0],U[1],$)}}function bc(o,n){return o.x*n.x+o.y*n.y}function Mg(o,n){if(o.length===1){let s=0;const d=n[s++];let f;for(;!f||d.equals(f);)if(f=n[s++],!f)return 1/0;for(;s<n.length;s++){const v=n[s],x=o[0],b=f.sub(d),M=v.sub(d),A=x.sub(d),I=bc(b,b),R=bc(b,M),$=bc(M,M),U=bc(A,b),H=bc(A,M),Y=I*$-R*R,se=($*U-R*H)/Y,ce=(I*H-R*U)/Y,_e=d.z*(1-se-ce)+f.z*se+v.z*ce;if(isFinite(_e))return _e}return 1/0}{let s=1/0;for(const d of n)s=Math.min(s,d.z);return s}}const Gb=Tn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:qb}=Gb,Kb=Tn([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Xb}=Kb,Jb=ps.VectorTileFeature.types,Yb=Math.cos(Math.PI/180*37.5),Eg=Math.pow(2,14)/.5;class af{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(s=>s.id),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(s=>{this.gradients[s.id]={}}),this.layoutVertexArray=new Et,this.layoutVertexArray2=new yt,this.indexArray=new _r,this.programConfigurations=new No(n.layers,n.zoom),this.segments=new _n,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id)}populate(n,s,d){this.hasPattern=ef("line",this.layers,s);const f=this.layers[0].layout.get("line-sort-key"),v=!f.isConstant(),x=[];for(const{feature:b,id:M,index:A,sourceLayerIndex:I}of n){const R=this.layers[0]._featureFilter.needGeometry,$=cl(b,R);if(!this.layers[0]._featureFilter.filter(new vn(this.zoom),$,d))continue;const U=v?f.evaluate($,{},d):void 0,H={id:M,properties:b.properties,type:b.type,sourceLayerIndex:I,index:A,geometry:R?$.geometry:ul(b),patterns:{},sortKey:U};x.push(H)}v&&x.sort((b,M)=>b.sortKey-M.sortKey);for(const b of x){const{geometry:M,index:A,sourceLayerIndex:I}=b;if(this.hasPattern){const R=tf("line",this.layers,b,this.zoom,s);this.patternFeatures.push(R)}else this.addFeature(b,M,A,d,{});s.featureIndex.insert(n[A].feature,M,A,I,this.index)}}update(n,s,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,s,this.stateDependentLayers,d)}addFeatures(n,s,d){for(const f of this.patternFeatures)this.addFeature(f,f.geometry,f.index,s,d)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=n.createVertexBuffer(this.layoutVertexArray2,Xb)),this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,qb),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(n){if(n.properties&&Object.prototype.hasOwnProperty.call(n.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(n.properties,"mapbox_clip_end"))return{start:+n.properties.mapbox_clip_start,end:+n.properties.mapbox_clip_end}}addFeature(n,s,d,f,v){const x=this.layers[0].layout,b=x.get("line-join").evaluate(n,{}),M=x.get("line-cap"),A=x.get("line-miter-limit"),I=x.get("line-round-limit");this.lineClips=this.lineFeatureClips(n);for(const R of s)this.addLine(R,n,b,M,A,I);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,v,f)}addLine(n,s,d,f,v,x){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ce=0;ce<n.length-1;ce++)this.totalDistance+=n[ce].dist(n[ce+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const b=Jb[s.type]==="Polygon";let M=n.length;for(;M>=2&&n[M-1].equals(n[M-2]);)M--;let A=0;for(;A<M-1&&n[A].equals(n[A+1]);)A++;if(M<(b?3:2))return;d==="bevel"&&(v=1.05);const I=this.overscaling<=16?15*Jn/(512*this.overscaling):0,R=this.segments.prepareSegment(10*M,this.layoutVertexArray,this.indexArray);let $,U,H,Y,se;this.e1=this.e2=-1,b&&($=n[M-2],se=n[A].sub($)._unit()._perp());for(let ce=A;ce<M;ce++){if(H=ce===M-1?b?n[A+1]:void 0:n[ce+1],H&&n[ce].equals(H))continue;se&&(Y=se),$&&(U=$),$=n[ce],se=H?H.sub($)._unit()._perp():Y,Y=Y||se;let _e=Y.add(se);_e.x===0&&_e.y===0||_e._unit();const fe=Y.x*se.x+Y.y*se.y,be=_e.x*se.x+_e.y*se.y,Ee=be!==0?1/be:1/0,Oe=2*Math.sqrt(2-2*be),lt=be<Yb&&U&&H,gt=Y.x*se.y-Y.y*se.x>0;if(lt&&ce>A){const et=$.dist(U);if(et>2*I){const dt=$.sub($.sub(U)._mult(I/et)._round());this.updateDistance(U,dt),this.addCurrentVertex(dt,Y,0,0,R),U=dt}}const ot=U&&H;let it=ot?d:b?"butt":f;if(ot&&it==="round"&&(Ee<x?it="miter":Ee<=2&&(it="fakeround")),it==="miter"&&Ee>v&&(it="bevel"),it==="bevel"&&(Ee>2&&(it="flipbevel"),Ee<v&&(it="miter")),U&&this.updateDistance(U,$),it==="miter")_e._mult(Ee),this.addCurrentVertex($,_e,0,0,R);else if(it==="flipbevel"){if(Ee>100)_e=se.mult(-1);else{const et=Ee*Y.add(se).mag()/Y.sub(se).mag();_e._perp()._mult(et*(gt?-1:1))}this.addCurrentVertex($,_e,0,0,R),this.addCurrentVertex($,_e.mult(-1),0,0,R)}else if(it==="bevel"||it==="fakeround"){const et=-Math.sqrt(Ee*Ee-1),dt=gt?et:0,nt=gt?0:et;if(U&&this.addCurrentVertex($,Y,dt,nt,R),it==="fakeround"){const Ge=Math.round(180*Oe/Math.PI/20);for(let wt=1;wt<Ge;wt++){let vt=wt/Ge;if(vt!==.5){const xn=vt-.5;vt+=vt*xn*(vt-1)*((1.0904+fe*(fe*(3.55645-1.43519*fe)-3.2452))*xn*xn+(.848013+fe*(.215638*fe-1.06021)))}const Ft=se.sub(Y)._mult(vt)._add(Y)._unit()._mult(gt?-1:1);this.addHalfVertex($,Ft.x,Ft.y,!1,gt,0,R)}}H&&this.addCurrentVertex($,se,-dt,-nt,R)}else if(it==="butt")this.addCurrentVertex($,_e,0,0,R);else if(it==="square"){const et=U?1:-1;this.addCurrentVertex($,_e,et,et,R)}else it==="round"&&(U&&(this.addCurrentVertex($,Y,0,0,R),this.addCurrentVertex($,Y,1,1,R,!0)),H&&(this.addCurrentVertex($,se,-1,-1,R,!0),this.addCurrentVertex($,se,0,0,R)));if(lt&&ce<M-1){const et=$.dist(H);if(et>2*I){const dt=$.add(H.sub($)._mult(I/et)._round());this.updateDistance($,dt),this.addCurrentVertex(dt,se,0,0,R),$=dt}}}}addCurrentVertex(n,s,d,f,v,x=!1){const b=s.y*f-s.x,M=-s.y-s.x*f;this.addHalfVertex(n,s.x+s.y*d,s.y-s.x*d,x,!1,d,v),this.addHalfVertex(n,b,M,x,!0,-f,v),this.distance>Eg/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(n,s,d,f,v,x))}addHalfVertex({x:n,y:s},d,f,v,x,b,M){const A=.5*(this.lineClips?this.scaledDistance*(Eg-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((n<<1)+(v?1:0),(s<<1)+(x?1:0),Math.round(63*d)+128,Math.round(63*f)+128,1+(b===0?0:b<0?-1:1)|(63&A)<<2,A>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const I=M.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,I),M.primitiveLength++),x?this.e2=I:this.e1=I}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(n,s){this.distance+=n.dist(s),this.updateScaledDistance()}}let kg,Ag;ct("LineBucket",af,{omit:["layers","patternFeatures"]});var Pg={get paint(){return Ag=Ag||new Wn({"line-opacity":new Mt(ke.paint_line["line-opacity"]),"line-color":new Mt(ke.paint_line["line-color"]),"line-translate":new _t(ke.paint_line["line-translate"]),"line-translate-anchor":new _t(ke.paint_line["line-translate-anchor"]),"line-width":new Mt(ke.paint_line["line-width"]),"line-gap-width":new Mt(ke.paint_line["line-gap-width"]),"line-offset":new Mt(ke.paint_line["line-offset"]),"line-blur":new Mt(ke.paint_line["line-blur"]),"line-dasharray":new ic(ke.paint_line["line-dasharray"]),"line-pattern":new al(ke.paint_line["line-pattern"]),"line-gradient":new oc(ke.paint_line["line-gradient"])})},get layout(){return kg=kg||new Wn({"line-cap":new _t(ke.layout_line["line-cap"]),"line-join":new Mt(ke.layout_line["line-join"]),"line-miter-limit":new _t(ke.layout_line["line-miter-limit"]),"line-round-limit":new _t(ke.layout_line["line-round-limit"]),"line-sort-key":new Mt(ke.layout_line["line-sort-key"])})}};class Qb extends Mt{possiblyEvaluate(n,s){return s=new vn(Math.floor(s.zoom),{now:s.now,fadeDuration:s.fadeDuration,zoomHistory:s.zoomHistory,transition:s.transition}),super.possiblyEvaluate(n,s)}evaluate(n,s,d,f){return s=Se({},s,{zoom:Math.floor(s.zoom)}),super.evaluate(n,s,d,f)}}let $h;class ew extends Di{constructor(n){super(n,Pg),this.gradientVersion=0,$h||($h=new Qb(Pg.paint.properties["line-width"].specification),$h.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(n){if(n==="line-gradient"){const s=this.gradientExpression();this.stepInterpolant=!!function(d){return d._styleExpression!==void 0}(s)&&s._styleExpression.expression instanceof aa,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(n,s){super.recalculate(n,s),this.paint._values["line-floorwidth"]=$h.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,n)}createBucket(n){return new af(n)}queryRadius(n){const s=n,d=Tg(pc("line-width",this,s),pc("line-gap-width",this,s)),f=pc("line-offset",this,s);return d/2+Math.abs(f)+Dh(this.paint.get("line-translate"))}queryIntersectsFeature(n,s,d,f,v,x,b){const M=Rh(n,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),x.angle,b),A=b/2*Tg(this.paint.get("line-width").evaluate(s,d),this.paint.get("line-gap-width").evaluate(s,d)),I=this.paint.get("line-offset").evaluate(s,d);return I&&(f=function(R,$){const U=[];for(let H=0;H<R.length;H++){const Y=R[H],se=[];for(let ce=0;ce<Y.length;ce++){const _e=Y[ce-1],fe=Y[ce],be=Y[ce+1],Ee=ce===0?new z(0,0):fe.sub(_e)._unit()._perp(),Oe=ce===Y.length-1?new z(0,0):be.sub(fe)._unit()._perp(),lt=Ee._add(Oe)._unit(),gt=lt.x*Oe.x+lt.y*Oe.y;gt!==0&&lt._mult(1/gt),se.push(lt._mult($)._add(fe))}U.push(se)}return U}(f,I*b)),function(R,$,U){for(let H=0;H<$.length;H++){const Y=$[H];if(R.length>=3){for(let se=0;se<Y.length;se++)if(_1(R,Y[se]))return!0}if(ab(R,Y,U))return!0}return!1}(M,f,A)}isTileClipped(){return!0}}function Tg(o,n){return n>0?n+2*o:o}const tw=Tn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),nw=Tn([{name:"a_projected_pos",components:3,type:"Float32"}],4);Tn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const rw=Tn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Tn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Ig=Tn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),iw=Tn([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function ow(o,n,s){return o.sections.forEach(d=>{d.text=function(f,v,x){const b=v.layout.get("text-transform").evaluate(x,{});return b==="uppercase"?f=f.toLocaleUpperCase():b==="lowercase"&&(f=f.toLocaleLowerCase()),hi.applyArabicShaping&&(f=hi.applyArabicShaping(f)),f}(d.text,n,s)}),o}Tn([{name:"triangle",components:3,type:"Uint16"}]),Tn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Tn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Tn([{type:"Float32",name:"offsetX"}]),Tn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Tn([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const wc={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var ar=24,Lg=hn,Dg=function(o,n,s,d,f){var v,x,b=8*f-d-1,M=(1<<b)-1,A=M>>1,I=-7,R=s?f-1:0,$=s?-1:1,U=o[n+R];for(R+=$,v=U&(1<<-I)-1,U>>=-I,I+=b;I>0;v=256*v+o[n+R],R+=$,I-=8);for(x=v&(1<<-I)-1,v>>=-I,I+=d;I>0;x=256*x+o[n+R],R+=$,I-=8);if(v===0)v=1-A;else{if(v===M)return x?NaN:1/0*(U?-1:1);x+=Math.pow(2,d),v-=A}return(U?-1:1)*x*Math.pow(2,v-d)},Rg=function(o,n,s,d,f,v){var x,b,M,A=8*v-f-1,I=(1<<A)-1,R=I>>1,$=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,U=d?0:v-1,H=d?1:-1,Y=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(b=isNaN(n)?1:0,x=I):(x=Math.floor(Math.log(n)/Math.LN2),n*(M=Math.pow(2,-x))<1&&(x--,M*=2),(n+=x+R>=1?$/M:$*Math.pow(2,1-R))*M>=2&&(x++,M/=2),x+R>=I?(b=0,x=I):x+R>=1?(b=(n*M-1)*Math.pow(2,f),x+=R):(b=n*Math.pow(2,R-1)*Math.pow(2,f),x=0));f>=8;o[s+U]=255&b,U+=H,b/=256,f-=8);for(x=x<<f|b,A+=f;A>0;o[s+U]=255&x,U+=H,x/=256,A-=8);o[s+U-H]|=128*Y};function hn(o){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(o)?o:new Uint8Array(o||0),this.pos=0,this.type=0,this.length=this.buf.length}hn.Varint=0,hn.Fixed64=1,hn.Bytes=2,hn.Fixed32=5;var sf=4294967296,zg=1/sf,Fg=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Ia(o){return o.type===hn.Bytes?o.readVarint()+o.pos:o.pos+1}function S1(o,n,s){return s?4294967296*n+(o>>>0):4294967296*(n>>>0)+(o>>>0)}function Ng(o,n,s){var d=n<=16383?1:n<=2097151?2:n<=268435455?3:Math.floor(Math.log(n)/(7*Math.LN2));s.realloc(d);for(var f=s.pos-1;f>=o;f--)s.buf[f+d]=s.buf[f]}function aw(o,n){for(var s=0;s<o.length;s++)n.writeVarint(o[s])}function sw(o,n){for(var s=0;s<o.length;s++)n.writeSVarint(o[s])}function lw(o,n){for(var s=0;s<o.length;s++)n.writeFloat(o[s])}function uw(o,n){for(var s=0;s<o.length;s++)n.writeDouble(o[s])}function cw(o,n){for(var s=0;s<o.length;s++)n.writeBoolean(o[s])}function dw(o,n){for(var s=0;s<o.length;s++)n.writeFixed32(o[s])}function hw(o,n){for(var s=0;s<o.length;s++)n.writeSFixed32(o[s])}function pw(o,n){for(var s=0;s<o.length;s++)n.writeFixed64(o[s])}function fw(o,n){for(var s=0;s<o.length;s++)n.writeSFixed64(o[s])}function jh(o,n){return(o[n]|o[n+1]<<8|o[n+2]<<16)+16777216*o[n+3]}function C1(o,n,s){o[s]=n,o[s+1]=n>>>8,o[s+2]=n>>>16,o[s+3]=n>>>24}function Og(o,n){return(o[n]|o[n+1]<<8|o[n+2]<<16)+(o[n+3]<<24)}hn.prototype={destroy:function(){this.buf=null},readFields:function(o,n,s){for(s=s||this.length;this.pos<s;){var d=this.readVarint(),f=d>>3,v=this.pos;this.type=7&d,o(f,n,this),this.pos===v&&this.skip(d)}return n},readMessage:function(o,n){return this.readFields(o,n,this.readVarint()+this.pos)},readFixed32:function(){var o=jh(this.buf,this.pos);return this.pos+=4,o},readSFixed32:function(){var o=Og(this.buf,this.pos);return this.pos+=4,o},readFixed64:function(){var o=jh(this.buf,this.pos)+jh(this.buf,this.pos+4)*sf;return this.pos+=8,o},readSFixed64:function(){var o=jh(this.buf,this.pos)+Og(this.buf,this.pos+4)*sf;return this.pos+=8,o},readFloat:function(){var o=Dg(this.buf,this.pos,!0,23,4);return this.pos+=4,o},readDouble:function(){var o=Dg(this.buf,this.pos,!0,52,8);return this.pos+=8,o},readVarint:function(o){var n,s,d=this.buf;return n=127&(s=d[this.pos++]),s<128?n:(n|=(127&(s=d[this.pos++]))<<7,s<128?n:(n|=(127&(s=d[this.pos++]))<<14,s<128?n:(n|=(127&(s=d[this.pos++]))<<21,s<128?n:function(f,v,x){var b,M,A=x.buf;if(b=(112&(M=A[x.pos++]))>>4,M<128||(b|=(127&(M=A[x.pos++]))<<3,M<128)||(b|=(127&(M=A[x.pos++]))<<10,M<128)||(b|=(127&(M=A[x.pos++]))<<17,M<128)||(b|=(127&(M=A[x.pos++]))<<24,M<128)||(b|=(1&(M=A[x.pos++]))<<31,M<128))return S1(f,b,v);throw new Error("Expected varint not more than 10 bytes")}(n|=(15&(s=d[this.pos]))<<28,o,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var o=this.readVarint();return o%2==1?(o+1)/-2:o/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var o=this.readVarint()+this.pos,n=this.pos;return this.pos=o,o-n>=12&&Fg?function(s,d,f){return Fg.decode(s.subarray(d,f))}(this.buf,n,o):function(s,d,f){for(var v="",x=d;x<f;){var b,M,A,I=s[x],R=null,$=I>239?4:I>223?3:I>191?2:1;if(x+$>f)break;$===1?I<128&&(R=I):$===2?(192&(b=s[x+1]))==128&&(R=(31&I)<<6|63&b)<=127&&(R=null):$===3?(M=s[x+2],(192&(b=s[x+1]))==128&&(192&M)==128&&((R=(15&I)<<12|(63&b)<<6|63&M)<=2047||R>=55296&&R<=57343)&&(R=null)):$===4&&(M=s[x+2],A=s[x+3],(192&(b=s[x+1]))==128&&(192&M)==128&&(192&A)==128&&((R=(15&I)<<18|(63&b)<<12|(63&M)<<6|63&A)<=65535||R>=1114112)&&(R=null)),R===null?(R=65533,$=1):R>65535&&(R-=65536,v+=String.fromCharCode(R>>>10&1023|55296),R=56320|1023&R),v+=String.fromCharCode(R),x+=$}return v}(this.buf,n,o)},readBytes:function(){var o=this.readVarint()+this.pos,n=this.buf.subarray(this.pos,o);return this.pos=o,n},readPackedVarint:function(o,n){if(this.type!==hn.Bytes)return o.push(this.readVarint(n));var s=Ia(this);for(o=o||[];this.pos<s;)o.push(this.readVarint(n));return o},readPackedSVarint:function(o){if(this.type!==hn.Bytes)return o.push(this.readSVarint());var n=Ia(this);for(o=o||[];this.pos<n;)o.push(this.readSVarint());return o},readPackedBoolean:function(o){if(this.type!==hn.Bytes)return o.push(this.readBoolean());var n=Ia(this);for(o=o||[];this.pos<n;)o.push(this.readBoolean());return o},readPackedFloat:function(o){if(this.type!==hn.Bytes)return o.push(this.readFloat());var n=Ia(this);for(o=o||[];this.pos<n;)o.push(this.readFloat());return o},readPackedDouble:function(o){if(this.type!==hn.Bytes)return o.push(this.readDouble());var n=Ia(this);for(o=o||[];this.pos<n;)o.push(this.readDouble());return o},readPackedFixed32:function(o){if(this.type!==hn.Bytes)return o.push(this.readFixed32());var n=Ia(this);for(o=o||[];this.pos<n;)o.push(this.readFixed32());return o},readPackedSFixed32:function(o){if(this.type!==hn.Bytes)return o.push(this.readSFixed32());var n=Ia(this);for(o=o||[];this.pos<n;)o.push(this.readSFixed32());return o},readPackedFixed64:function(o){if(this.type!==hn.Bytes)return o.push(this.readFixed64());var n=Ia(this);for(o=o||[];this.pos<n;)o.push(this.readFixed64());return o},readPackedSFixed64:function(o){if(this.type!==hn.Bytes)return o.push(this.readSFixed64());var n=Ia(this);for(o=o||[];this.pos<n;)o.push(this.readSFixed64());return o},skip:function(o){var n=7&o;if(n===hn.Varint)for(;this.buf[this.pos++]>127;);else if(n===hn.Bytes)this.pos=this.readVarint()+this.pos;else if(n===hn.Fixed32)this.pos+=4;else{if(n!==hn.Fixed64)throw new Error("Unimplemented type: "+n);this.pos+=8}},writeTag:function(o,n){this.writeVarint(o<<3|n)},realloc:function(o){for(var n=this.length||16;n<this.pos+o;)n*=2;if(n!==this.length){var s=new Uint8Array(n);s.set(this.buf),this.buf=s,this.length=n}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(o){this.realloc(4),C1(this.buf,o,this.pos),this.pos+=4},writeSFixed32:function(o){this.realloc(4),C1(this.buf,o,this.pos),this.pos+=4},writeFixed64:function(o){this.realloc(8),C1(this.buf,-1&o,this.pos),C1(this.buf,Math.floor(o*zg),this.pos+4),this.pos+=8},writeSFixed64:function(o){this.realloc(8),C1(this.buf,-1&o,this.pos),C1(this.buf,Math.floor(o*zg),this.pos+4),this.pos+=8},writeVarint:function(o){(o=+o||0)>268435455||o<0?function(n,s){var d,f;if(n>=0?(d=n%4294967296|0,f=n/4294967296|0):(f=~(-n/4294967296),4294967295^(d=~(-n%4294967296))?d=d+1|0:(d=0,f=f+1|0)),n>=18446744073709552e3||n<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");s.realloc(10),function(v,x,b){b.buf[b.pos++]=127&v|128,v>>>=7,b.buf[b.pos++]=127&v|128,v>>>=7,b.buf[b.pos++]=127&v|128,v>>>=7,b.buf[b.pos++]=127&v|128,b.buf[b.pos]=127&(v>>>=7)}(d,0,s),function(v,x){var b=(7&v)<<4;x.buf[x.pos++]|=b|((v>>>=3)?128:0),v&&(x.buf[x.pos++]=127&v|((v>>>=7)?128:0),v&&(x.buf[x.pos++]=127&v|((v>>>=7)?128:0),v&&(x.buf[x.pos++]=127&v|((v>>>=7)?128:0),v&&(x.buf[x.pos++]=127&v|((v>>>=7)?128:0),v&&(x.buf[x.pos++]=127&v)))))}(f,s)}(o,this):(this.realloc(4),this.buf[this.pos++]=127&o|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=o>>>7&127))))},writeSVarint:function(o){this.writeVarint(o<0?2*-o-1:2*o)},writeBoolean:function(o){this.writeVarint(!!o)},writeString:function(o){o=String(o),this.realloc(4*o.length),this.pos++;var n=this.pos;this.pos=function(d,f,v){for(var x,b,M=0;M<f.length;M++){if((x=f.charCodeAt(M))>55295&&x<57344){if(!b){x>56319||M+1===f.length?(d[v++]=239,d[v++]=191,d[v++]=189):b=x;continue}if(x<56320){d[v++]=239,d[v++]=191,d[v++]=189,b=x;continue}x=b-55296<<10|x-56320|65536,b=null}else b&&(d[v++]=239,d[v++]=191,d[v++]=189,b=null);x<128?d[v++]=x:(x<2048?d[v++]=x>>6|192:(x<65536?d[v++]=x>>12|224:(d[v++]=x>>18|240,d[v++]=x>>12&63|128),d[v++]=x>>6&63|128),d[v++]=63&x|128)}return v}(this.buf,o,this.pos);var s=this.pos-n;s>=128&&Ng(n,s,this),this.pos=n-1,this.writeVarint(s),this.pos+=s},writeFloat:function(o){this.realloc(4),Rg(this.buf,o,this.pos,!0,23,4),this.pos+=4},writeDouble:function(o){this.realloc(8),Rg(this.buf,o,this.pos,!0,52,8),this.pos+=8},writeBytes:function(o){var n=o.length;this.writeVarint(n),this.realloc(n);for(var s=0;s<n;s++)this.buf[this.pos++]=o[s]},writeRawMessage:function(o,n){this.pos++;var s=this.pos;o(n,this);var d=this.pos-s;d>=128&&Ng(s,d,this),this.pos=s-1,this.writeVarint(d),this.pos+=d},writeMessage:function(o,n,s){this.writeTag(o,hn.Bytes),this.writeRawMessage(n,s)},writePackedVarint:function(o,n){n.length&&this.writeMessage(o,aw,n)},writePackedSVarint:function(o,n){n.length&&this.writeMessage(o,sw,n)},writePackedBoolean:function(o,n){n.length&&this.writeMessage(o,cw,n)},writePackedFloat:function(o,n){n.length&&this.writeMessage(o,lw,n)},writePackedDouble:function(o,n){n.length&&this.writeMessage(o,uw,n)},writePackedFixed32:function(o,n){n.length&&this.writeMessage(o,dw,n)},writePackedSFixed32:function(o,n){n.length&&this.writeMessage(o,hw,n)},writePackedFixed64:function(o,n){n.length&&this.writeMessage(o,pw,n)},writePackedSFixed64:function(o,n){n.length&&this.writeMessage(o,fw,n)},writeBytesField:function(o,n){this.writeTag(o,hn.Bytes),this.writeBytes(n)},writeFixed32Field:function(o,n){this.writeTag(o,hn.Fixed32),this.writeFixed32(n)},writeSFixed32Field:function(o,n){this.writeTag(o,hn.Fixed32),this.writeSFixed32(n)},writeFixed64Field:function(o,n){this.writeTag(o,hn.Fixed64),this.writeFixed64(n)},writeSFixed64Field:function(o,n){this.writeTag(o,hn.Fixed64),this.writeSFixed64(n)},writeVarintField:function(o,n){this.writeTag(o,hn.Varint),this.writeVarint(n)},writeSVarintField:function(o,n){this.writeTag(o,hn.Varint),this.writeSVarint(n)},writeStringField:function(o,n){this.writeTag(o,hn.Bytes),this.writeString(n)},writeFloatField:function(o,n){this.writeTag(o,hn.Fixed32),this.writeFloat(n)},writeDoubleField:function(o,n){this.writeTag(o,hn.Fixed64),this.writeDouble(n)},writeBooleanField:function(o,n){this.writeVarintField(o,!!n)}};var lf=C(Lg);const uf=3;function mw(o,n,s){o===1&&s.readMessage(gw,n)}function gw(o,n,s){if(o===3){const{id:d,bitmap:f,width:v,height:x,left:b,top:M,advance:A}=s.readMessage(yw,{});n.push({id:d,bitmap:new mc({width:v+2*uf,height:x+2*uf},f),metrics:{width:v,height:x,left:b,top:M,advance:A}})}}function yw(o,n,s){o===1?n.id=s.readVarint():o===2?n.bitmap=s.readBytes():o===3?n.width=s.readVarint():o===4?n.height=s.readVarint():o===5?n.left=s.readSVarint():o===6?n.top=s.readSVarint():o===7&&(n.advance=s.readVarint())}const Bg=uf;function $g(o){let n=0,s=0;for(const x of o)n+=x.w*x.h,s=Math.max(s,x.w);o.sort((x,b)=>b.h-x.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),s),h:1/0}];let f=0,v=0;for(const x of o)for(let b=d.length-1;b>=0;b--){const M=d[b];if(!(x.w>M.w||x.h>M.h)){if(x.x=M.x,x.y=M.y,v=Math.max(v,x.y+x.h),f=Math.max(f,x.x+x.w),x.w===M.w&&x.h===M.h){const A=d.pop();b<d.length&&(d[b]=A)}else x.h===M.h?(M.x+=x.w,M.w-=x.w):x.w===M.w?(M.y+=x.h,M.h-=x.h):(d.push({x:M.x+x.w,y:M.y,w:M.w-x.w,h:x.h}),M.y+=x.h,M.h-=x.h);break}}return{w:f,h:v,fill:n/(f*v)||0}}const fi=1;class cf{constructor(n,{pixelRatio:s,version:d,stretchX:f,stretchY:v,content:x}){this.paddedRect=n,this.pixelRatio=s,this.stretchX=f,this.stretchY=v,this.content=x,this.version=d}get tl(){return[this.paddedRect.x+fi,this.paddedRect.y+fi]}get br(){return[this.paddedRect.x+this.paddedRect.w-fi,this.paddedRect.y+this.paddedRect.h-fi]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*fi)/this.pixelRatio,(this.paddedRect.h-2*fi)/this.pixelRatio]}}class jg{constructor(n,s){const d={},f={};this.haveRenderCallbacks=[];const v=[];this.addImages(n,d,v),this.addImages(s,f,v);const{w:x,h:b}=$g(v),M=new Wi({width:x||1,height:b||1});for(const A in n){const I=n[A],R=d[A].paddedRect;Wi.copy(I.data,M,{x:0,y:0},{x:R.x+fi,y:R.y+fi},I.data)}for(const A in s){const I=s[A],R=f[A].paddedRect,$=R.x+fi,U=R.y+fi,H=I.data.width,Y=I.data.height;Wi.copy(I.data,M,{x:0,y:0},{x:$,y:U},I.data),Wi.copy(I.data,M,{x:0,y:Y-1},{x:$,y:U-1},{width:H,height:1}),Wi.copy(I.data,M,{x:0,y:0},{x:$,y:U+Y},{width:H,height:1}),Wi.copy(I.data,M,{x:H-1,y:0},{x:$-1,y:U},{width:1,height:Y}),Wi.copy(I.data,M,{x:0,y:0},{x:$+H,y:U},{width:1,height:Y})}this.image=M,this.iconPositions=d,this.patternPositions=f}addImages(n,s,d){for(const f in n){const v=n[f],x={x:0,y:0,w:v.data.width+2*fi,h:v.data.height+2*fi};d.push(x),s[f]=new cf(x,v),v.hasRenderCallback&&this.haveRenderCallbacks.push(f)}}patchUpdatedImages(n,s){n.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const d in n.updatedImages)this.patchUpdatedImage(this.iconPositions[d],n.getImage(d),s),this.patchUpdatedImage(this.patternPositions[d],n.getImage(d),s)}patchUpdatedImage(n,s,d){if(!n||!s||n.version===s.version)return;n.version=s.version;const[f,v]=n.tl;d.update(s.data,void 0,{x:f,y:v})}}var fs;ct("ImagePosition",cf),ct("ImageAtlas",jg),u.ai=void 0,(fs=u.ai||(u.ai={}))[fs.none=0]="none",fs[fs.horizontal=1]="horizontal",fs[fs.vertical=2]="vertical",fs[fs.horizontalOnly=3]="horizontalOnly";const Sc=-17;class Cc{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(n,s){const d=new Cc;return d.scale=n||1,d.fontStack=s,d}static forImage(n){const s=new Cc;return s.imageName=n,s}}class M1{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(n,s){const d=new M1;for(let f=0;f<n.sections.length;f++){const v=n.sections[f];v.image?d.addImageSection(v):d.addTextSection(v,s)}return d}length(){return this.text.length}getSection(n){return this.sections[this.sectionIndex[n]]}getSectionIndex(n){return this.sectionIndex[n]}getCharCode(n){return this.text.charCodeAt(n)}verticalizePunctuation(){this.text=function(n){let s="";for(let d=0;d<n.length;d++){const f=n.charCodeAt(d+1)||null,v=n.charCodeAt(d-1)||null;s+=f&&wh(f)&&!wc[n[d+1]]||v&&wh(v)&&!wc[n[d-1]]||!wc[n[d]]?n[d]:wc[n[d]]}return s}(this.text)}trim(){let n=0;for(let d=0;d<this.text.length&&Wh[this.text.charCodeAt(d)];d++)n++;let s=this.text.length;for(let d=this.text.length-1;d>=0&&d>=n&&Wh[this.text.charCodeAt(d)];d--)s--;this.text=this.text.substring(n,s),this.sectionIndex=this.sectionIndex.slice(n,s)}substring(n,s){const d=new M1;return d.text=this.text.substring(n,s),d.sectionIndex=this.sectionIndex.slice(n,s),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((n,s)=>Math.max(n,this.sections[s].scale),0)}addTextSection(n,s){this.text+=n.text,this.sections.push(Cc.forText(n.scale,n.fontStack||s));const d=this.sections.length-1;for(let f=0;f<n.text.length;++f)this.sectionIndex.push(d)}addImageSection(n){const s=n.image?n.image.name:"";if(s.length===0)return void qe("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(Cc.forImage(s)),this.sectionIndex.push(this.sections.length-1)):qe("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Vh(o,n,s,d,f,v,x,b,M,A,I,R,$,U,H,Y){const se=M1.fromFeature(o,f);let ce;R===u.ai.vertical&&se.verticalizePunctuation();const{processBidirectionalText:_e,processStyledBidirectionalText:fe}=hi;if(_e&&se.sections.length===1){ce=[];const Oe=_e(se.toString(),df(se,A,v,n,d,U,H));for(const lt of Oe){const gt=new M1;gt.text=lt,gt.sections=se.sections;for(let ot=0;ot<lt.length;ot++)gt.sectionIndex.push(0);ce.push(gt)}}else if(fe){ce=[];const Oe=fe(se.text,se.sectionIndex,df(se,A,v,n,d,U,H));for(const lt of Oe){const gt=new M1;gt.text=lt[0],gt.sectionIndex=lt[1],gt.sections=se.sections,ce.push(gt)}}else ce=function(Oe,lt){const gt=[],ot=Oe.text;let it=0;for(const et of lt)gt.push(Oe.substring(it,et)),it=et;return it<ot.length&&gt.push(Oe.substring(it,ot.length)),gt}(se,df(se,A,v,n,d,U,H));const be=[],Ee={positionedLines:be,text:se.toString(),top:I[1],bottom:I[1],left:I[0],right:I[0],writingMode:R,iconsInText:!1,verticalizable:!1};return function(Oe,lt,gt,ot,it,et,dt,nt,Ge,wt,vt,Ft){let xn=0,En=Sc,sr=0,zi=0;const Yr=nt==="right"?1:nt==="left"?0:.5;let Yn=0;for(const lr of it){lr.trim();const ur=lr.getMaxScale(),Br=(ur-1)*ar,ti={positionedGlyphs:[],lineOffset:0};Oe.positionedLines[Yn]=ti;const $r=ti.positionedGlyphs;let mi=0;if(!lr.length()){En+=et,++Yn;continue}for(let cr=0;cr<lr.length();cr++){const jt=lr.getSection(cr),jr=lr.getSectionIndex(cr),Lr=lr.getCharCode(cr);let dr=0,yo=null,Oo=null,Bo=null,La=ar;const vo=!(Ge===u.ai.horizontal||!vt&&!Xu(Lr)||vt&&(Wh[Lr]||(br=Lr,st.Arabic(br)||st["Arabic Supplement"](br)||st["Arabic Extended-A"](br)||st["Arabic Presentation Forms-A"](br)||st["Arabic Presentation Forms-B"](br))));if(jt.imageName){const Hi=ot[jt.imageName];if(!Hi)continue;Bo=jt.imageName,Oe.iconsInText=Oe.iconsInText||!0,Oo=Hi.paddedRect;const yi=Hi.displaySize;jt.scale=jt.scale*ar/Ft,yo={width:yi[0],height:yi[1],left:fi,top:-Bg,advance:vo?yi[1]:yi[0]},dr=Br+(ar-yi[1]*jt.scale),La=yo.advance;const Da=vo?yi[0]*jt.scale-ar*ur:yi[1]*jt.scale-ar*ur;Da>0&&Da>mi&&(mi=Da)}else{const Hi=gt[jt.fontStack],yi=Hi&&Hi[Lr];if(yi&&yi.rect)Oo=yi.rect,yo=yi.metrics;else{const Da=lt[jt.fontStack],Pc=Da&&Da[Lr];if(!Pc)continue;yo=Pc.metrics}dr=(ur-jt.scale)*ar}vo?(Oe.verticalizable=!0,$r.push({glyph:Lr,imageName:Bo,x:xn,y:En+dr,vertical:vo,scale:jt.scale,fontStack:jt.fontStack,sectionIndex:jr,metrics:yo,rect:Oo}),xn+=La*jt.scale+wt):($r.push({glyph:Lr,imageName:Bo,x:xn,y:En+dr,vertical:vo,scale:jt.scale,fontStack:jt.fontStack,sectionIndex:jr,metrics:yo,rect:Oo}),xn+=yo.advance*jt.scale+wt)}$r.length!==0&&(sr=Math.max(xn-wt,sr),xw($r,0,$r.length-1,Yr,mi)),xn=0;const gi=et*ur+mi;ti.lineOffset=Math.max(mi,Br),En+=gi,zi=Math.max(gi,zi),++Yn}var br;const Ir=En-Sc,{horizontalAlign:Qr,verticalAlign:ei}=hf(dt);(function(lr,ur,Br,ti,$r,mi,gi,cr,jt){const jr=(ur-Br)*$r;let Lr=0;Lr=mi!==gi?-cr*ti-Sc:(-ti*jt+.5)*gi;for(const dr of lr)for(const yo of dr.positionedGlyphs)yo.x+=jr,yo.y+=Lr})(Oe.positionedLines,Yr,Qr,ei,sr,zi,et,Ir,it.length),Oe.top+=-ei*Ir,Oe.bottom=Oe.top+Ir,Oe.left+=-Qr*sr,Oe.right=Oe.left+sr}(Ee,n,s,d,ce,x,b,M,R,A,$,Y),!function(Oe){for(const lt of Oe)if(lt.positionedGlyphs.length!==0)return!1;return!0}(be)&&Ee}const Wh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},vw={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Vg(o,n,s,d,f,v){if(n.imageName){const x=d[n.imageName];return x?x.displaySize[0]*n.scale*ar/v+f:0}{const x=s[n.fontStack],b=x&&x[o];return b?b.metrics.advance*n.scale+f:0}}function Wg(o,n,s,d){const f=Math.pow(o-n,2);return d?o<n?f/2:2*f:f+Math.abs(s)*s}function _w(o,n,s){let d=0;return o===10&&(d-=1e4),s&&(d+=150),o!==40&&o!==65288||(d+=50),n!==41&&n!==65289||(d+=50),d}function Ug(o,n,s,d,f,v){let x=null,b=Wg(n,s,f,v);for(const M of d){const A=Wg(n-M.x,s,f,v)+M.badness;A<=b&&(x=M,b=A)}return{index:o,x:n,priorBreak:x,badness:b}}function Hg(o){return o?Hg(o.priorBreak).concat(o.index):[]}function df(o,n,s,d,f,v,x){if(v!=="point")return[];if(!o)return[];const b=[],M=function($,U,H,Y,se,ce){let _e=0;for(let fe=0;fe<$.length();fe++){const be=$.getSection(fe);_e+=Vg($.getCharCode(fe),be,Y,se,U,ce)}return _e/Math.max(1,Math.ceil(_e/H))}(o,n,s,d,f,x),A=o.text.indexOf("")>=0;let I=0;for(let $=0;$<o.length();$++){const U=o.getSection($),H=o.getCharCode($);if(Wh[H]||(I+=Vg(H,U,d,f,n,x)),$<o.length()-1){const Y=!((R=H)<11904||!(st["Bopomofo Extended"](R)||st.Bopomofo(R)||st["CJK Compatibility Forms"](R)||st["CJK Compatibility Ideographs"](R)||st["CJK Compatibility"](R)||st["CJK Radicals Supplement"](R)||st["CJK Strokes"](R)||st["CJK Symbols and Punctuation"](R)||st["CJK Unified Ideographs Extension A"](R)||st["CJK Unified Ideographs"](R)||st["Enclosed CJK Letters and Months"](R)||st["Halfwidth and Fullwidth Forms"](R)||st.Hiragana(R)||st["Ideographic Description Characters"](R)||st["Kangxi Radicals"](R)||st["Katakana Phonetic Extensions"](R)||st.Katakana(R)||st["Vertical Forms"](R)||st["Yi Radicals"](R)||st["Yi Syllables"](R)));(vw[H]||Y||U.imageName)&&b.push(Ug($+1,I,M,b,_w(H,o.getCharCode($+1),Y&&A),!1))}}var R;return Hg(Ug(o.length(),I,M,b,0,!0))}function hf(o){let n=.5,s=.5;switch(o){case"right":case"top-right":case"bottom-right":n=1;break;case"left":case"top-left":case"bottom-left":n=0}switch(o){case"bottom":case"bottom-right":case"bottom-left":s=1;break;case"top":case"top-right":case"top-left":s=0}return{horizontalAlign:n,verticalAlign:s}}function xw(o,n,s,d,f){if(!d&&!f)return;const v=o[s],x=(o[s].x+v.metrics.advance*v.scale)*d;for(let b=n;b<=s;b++)o[b].x-=x,o[b].y+=f}function bw(o,n,s){const{horizontalAlign:d,verticalAlign:f}=hf(s),v=n[0]-o.displaySize[0]*d,x=n[1]-o.displaySize[1]*f;return{image:o,top:x,bottom:x+o.displaySize[1],left:v,right:v+o.displaySize[0]}}function Zg(o,n,s,d,f,v){const x=o.image;let b;if(x.content){const se=x.content,ce=x.pixelRatio||1;b=[se[0]/ce,se[1]/ce,x.displaySize[0]-se[2]/ce,x.displaySize[1]-se[3]/ce]}const M=n.left*v,A=n.right*v;let I,R,$,U;s==="width"||s==="both"?(U=f[0]+M-d[3],R=f[0]+A+d[1]):(U=f[0]+(M+A-x.displaySize[0])/2,R=U+x.displaySize[0]);const H=n.top*v,Y=n.bottom*v;return s==="height"||s==="both"?(I=f[1]+H-d[0],$=f[1]+Y+d[2]):(I=f[1]+(H+Y-x.displaySize[1])/2,$=I+x.displaySize[1]),{image:x,top:I,right:R,bottom:$,left:U,collisionPadding:b}}const Mc=255,da=128,ms=Mc*da;function Gg(o,n){const{expression:s}=n;if(s.kind==="constant")return{kind:"constant",layoutSize:s.evaluate(new vn(o+1))};if(s.kind==="source")return{kind:"source"};{const{zoomStops:d,interpolationType:f}=s;let v=0;for(;v<d.length&&d[v]<=o;)v++;v=Math.max(0,v-1);let x=v;for(;x<d.length&&d[x]<o+1;)x++;x=Math.min(d.length-1,x);const b=d[v],M=d[x];return s.kind==="composite"?{kind:"composite",minZoom:b,maxZoom:M,interpolationType:f}:{kind:"camera",minZoom:b,maxZoom:M,minSize:s.evaluate(new vn(b)),maxSize:s.evaluate(new vn(M)),interpolationType:f}}}function pf(o,n,s){let d="never";const f=o.get(n);return f?d=f:o.get(s)&&(d="always"),d}const ww=ps.VectorTileFeature.types,Sw=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Uh(o,n,s,d,f,v,x,b,M,A,I,R,$){const U=b?Math.min(ms,Math.round(b[0])):0,H=b?Math.min(ms,Math.round(b[1])):0;o.emplaceBack(n,s,Math.round(32*d),Math.round(32*f),v,x,(U<<1)+(M?1:0),H,16*A,16*I,256*R,256*$)}function ff(o,n,s){o.emplaceBack(n.x,n.y,s),o.emplaceBack(n.x,n.y,s),o.emplaceBack(n.x,n.y,s),o.emplaceBack(n.x,n.y,s)}function Cw(o){for(const n of o.sections)if(B0(n.text))return!0;return!1}class mf{constructor(n){this.layoutVertexArray=new Nt,this.indexArray=new _r,this.programConfigurations=n,this.segments=new _n,this.dynamicLayoutVertexArray=new zt,this.opacityVertexArray=new $t,this.hasVisibleVertices=!1,this.placedSymbolArray=new ge}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(n,s,d,f){this.isEmpty()||(d&&(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,tw.members),this.indexBuffer=n.createIndexBuffer(this.indexArray,s),this.dynamicLayoutVertexBuffer=n.createVertexBuffer(this.dynamicLayoutVertexArray,nw.members,!0),this.opacityVertexBuffer=n.createVertexBuffer(this.opacityVertexArray,Sw,!0),this.opacityVertexBuffer.itemSize=1),(d||f)&&this.programConfigurations.upload(n))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}ct("SymbolBuffers",mf);class gf{constructor(n,s,d){this.layoutVertexArray=new n,this.layoutAttributes=s,this.indexArray=new d,this.segments=new _n,this.collisionVertexArray=new mn}upload(n){this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=n.createVertexBuffer(this.collisionVertexArray,rw.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}ct("CollisionBuffers",gf);class E1{constructor(n){this.collisionBoxArray=n.collisionBoxArray,this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(x=>x.id),this.index=n.index,this.pixelRatio=n.pixelRatio,this.sourceLayerIndex=n.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Z0([]),this.placementViewportMatrix=Z0([]);const s=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Gg(this.zoom,s["text-size"]),this.iconSizeData=Gg(this.zoom,s["icon-size"]);const d=this.layers[0].layout,f=d.get("symbol-sort-key"),v=d.get("symbol-z-order");this.canOverlap=pf(d,"text-overlap","text-allow-overlap")!=="never"||pf(d,"icon-overlap","icon-allow-overlap")!=="never"||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=v!=="viewport-y"&&!f.isConstant(),this.sortFeaturesByY=(v==="viewport-y"||v==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,d.get("symbol-placement")==="point"&&(this.writingModes=d.get("text-writing-mode").map(x=>u.ai[x])),this.stateDependentLayerIds=this.layers.filter(x=>x.isStateDependent()).map(x=>x.id),this.sourceID=n.sourceID}createArrays(){this.text=new mf(new No(this.layers,this.zoom,n=>/^text/.test(n))),this.icon=new mf(new No(this.layers,this.zoom,n=>/^icon/.test(n))),this.glyphOffsetArray=new ve,this.lineVertexArray=new Ae,this.symbolInstances=new le,this.textAnchorOffsets=new Ne}calculateGlyphDependencies(n,s,d,f,v){for(let x=0;x<n.length;x++)if(s[n.charCodeAt(x)]=!0,(d||f)&&v){const b=wc[n.charAt(x)];b&&(s[b.charCodeAt(0)]=!0)}}populate(n,s,d){const f=this.layers[0],v=f.layout,x=v.get("text-font"),b=v.get("text-field"),M=v.get("icon-image"),A=(b.value.kind!=="constant"||b.value.value instanceof Ar&&!b.value.value.isEmpty()||b.value.value.toString().length>0)&&(x.value.kind!=="constant"||x.value.value.length>0),I=M.value.kind!=="constant"||!!M.value.value||Object.keys(M.parameters).length>0,R=v.get("symbol-sort-key");if(this.features=[],!A&&!I)return;const $=s.iconDependencies,U=s.glyphDependencies,H=s.availableImages,Y=new vn(this.zoom);for(const{feature:se,id:ce,index:_e,sourceLayerIndex:fe}of n){const be=f._featureFilter.needGeometry,Ee=cl(se,be);if(!f._featureFilter.filter(Y,Ee,d))continue;let Oe,lt;if(be||(Ee.geometry=ul(se)),A){const ot=f.getValueAndResolveTokens("text-field",Ee,d,H),it=Ar.factory(ot);Cw(it)&&(this.hasRTLText=!0),(!this.hasRTLText||nc()==="unavailable"||this.hasRTLText&&hi.isParsed())&&(Oe=ow(it,f,Ee))}if(I){const ot=f.getValueAndResolveTokens("icon-image",Ee,d,H);lt=ot instanceof vr?ot:vr.fromString(ot)}if(!Oe&&!lt)continue;const gt=this.sortFeaturesByKey?R.evaluate(Ee,{},d):void 0;if(this.features.push({id:ce,text:Oe,icon:lt,index:_e,sourceLayerIndex:fe,geometry:Ee.geometry,properties:se.properties,type:ww[se.type],sortKey:gt}),lt&&($[lt.name]=!0),Oe){const ot=x.evaluate(Ee,{},d).join(","),it=v.get("text-rotation-alignment")!=="viewport"&&v.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(u.ai.vertical)>=0;for(const et of Oe.sections)if(et.image)$[et.image.name]=!0;else{const dt=qu(Oe.toString()),nt=et.fontStack||ot,Ge=U[nt]=U[nt]||{};this.calculateGlyphDependencies(et.text,Ge,it,this.allowVerticalPlacement,dt)}}}v.get("symbol-placement")==="line"&&(this.features=function(se){const ce={},_e={},fe=[];let be=0;function Ee(ot){fe.push(se[ot]),be++}function Oe(ot,it,et){const dt=_e[ot];return delete _e[ot],_e[it]=dt,fe[dt].geometry[0].pop(),fe[dt].geometry[0]=fe[dt].geometry[0].concat(et[0]),dt}function lt(ot,it,et){const dt=ce[it];return delete ce[it],ce[ot]=dt,fe[dt].geometry[0].shift(),fe[dt].geometry[0]=et[0].concat(fe[dt].geometry[0]),dt}function gt(ot,it,et){const dt=et?it[0][it[0].length-1]:it[0][0];return`${ot}:${dt.x}:${dt.y}`}for(let ot=0;ot<se.length;ot++){const it=se[ot],et=it.geometry,dt=it.text?it.text.toString():null;if(!dt){Ee(ot);continue}const nt=gt(dt,et),Ge=gt(dt,et,!0);if(nt in _e&&Ge in ce&&_e[nt]!==ce[Ge]){const wt=lt(nt,Ge,et),vt=Oe(nt,Ge,fe[wt].geometry);delete ce[nt],delete _e[Ge],_e[gt(dt,fe[vt].geometry,!0)]=vt,fe[wt].geometry=null}else nt in _e?Oe(nt,Ge,et):Ge in ce?lt(nt,Ge,et):(Ee(ot),ce[nt]=be-1,_e[Ge]=be-1)}return fe.filter(ot=>ot.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((se,ce)=>se.sortKey-ce.sortKey)}update(n,s,d){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(n,s,this.layers,d),this.icon.programConfigurations.updatePaintArrays(n,s,this.layers,d))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(n){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(n),this.iconCollisionBox.upload(n)),this.text.upload(n,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(n,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(n,s){const d=this.lineVertexArray.length;if(n.segment!==void 0){let f=n.dist(s[n.segment+1]),v=n.dist(s[n.segment]);const x={};for(let b=n.segment+1;b<s.length;b++)x[b]={x:s[b].x,y:s[b].y,tileUnitDistanceFromAnchor:f},b<s.length-1&&(f+=s[b+1].dist(s[b]));for(let b=n.segment||0;b>=0;b--)x[b]={x:s[b].x,y:s[b].y,tileUnitDistanceFromAnchor:v},b>0&&(v+=s[b-1].dist(s[b]));for(let b=0;b<s.length;b++){const M=x[b];this.lineVertexArray.emplaceBack(M.x,M.y,M.tileUnitDistanceFromAnchor)}}return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(n,s,d,f,v,x,b,M,A,I,R,$){const U=n.indexArray,H=n.layoutVertexArray,Y=n.segments.prepareSegment(4*s.length,H,U,this.canOverlap?x.sortKey:void 0),se=this.glyphOffsetArray.length,ce=Y.vertexLength,_e=this.allowVerticalPlacement&&b===u.ai.vertical?Math.PI/2:0,fe=x.text&&x.text.sections;for(let be=0;be<s.length;be++){const{tl:Ee,tr:Oe,bl:lt,br:gt,tex:ot,pixelOffsetTL:it,pixelOffsetBR:et,minFontScaleX:dt,minFontScaleY:nt,glyphOffset:Ge,isSDF:wt,sectionIndex:vt}=s[be],Ft=Y.vertexLength,xn=Ge[1];Uh(H,M.x,M.y,Ee.x,xn+Ee.y,ot.x,ot.y,d,wt,it.x,it.y,dt,nt),Uh(H,M.x,M.y,Oe.x,xn+Oe.y,ot.x+ot.w,ot.y,d,wt,et.x,it.y,dt,nt),Uh(H,M.x,M.y,lt.x,xn+lt.y,ot.x,ot.y+ot.h,d,wt,it.x,et.y,dt,nt),Uh(H,M.x,M.y,gt.x,xn+gt.y,ot.x+ot.w,ot.y+ot.h,d,wt,et.x,et.y,dt,nt),ff(n.dynamicLayoutVertexArray,M,_e),U.emplaceBack(Ft,Ft+1,Ft+2),U.emplaceBack(Ft+1,Ft+2,Ft+3),Y.vertexLength+=4,Y.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ge[0]),be!==s.length-1&&vt===s[be+1].sectionIndex||n.programConfigurations.populatePaintArrays(H.length,x,x.index,{},$,fe&&fe[vt])}n.placedSymbolArray.emplaceBack(M.x,M.y,se,this.glyphOffsetArray.length-se,ce,A,I,M.segment,d?d[0]:0,d?d[1]:0,f[0],f[1],b,0,!1,0,R)}_addCollisionDebugVertex(n,s,d,f,v,x){return s.emplaceBack(0,0),n.emplaceBack(d.x,d.y,f,v,Math.round(x.x),Math.round(x.y))}addCollisionDebugVertices(n,s,d,f,v,x,b){const M=v.segments.prepareSegment(4,v.layoutVertexArray,v.indexArray),A=M.vertexLength,I=v.layoutVertexArray,R=v.collisionVertexArray,$=b.anchorX,U=b.anchorY;this._addCollisionDebugVertex(I,R,x,$,U,new z(n,s)),this._addCollisionDebugVertex(I,R,x,$,U,new z(d,s)),this._addCollisionDebugVertex(I,R,x,$,U,new z(d,f)),this._addCollisionDebugVertex(I,R,x,$,U,new z(n,f)),M.vertexLength+=4;const H=v.indexArray;H.emplaceBack(A,A+1),H.emplaceBack(A+1,A+2),H.emplaceBack(A+2,A+3),H.emplaceBack(A+3,A),M.primitiveLength+=4}addDebugCollisionBoxes(n,s,d,f){for(let v=n;v<s;v++){const x=this.collisionBoxArray.get(v);this.addCollisionDebugVertices(x.x1,x.y1,x.x2,x.y2,f?this.textCollisionBox:this.iconCollisionBox,x.anchorPoint,d)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new gf(Bn,Ig.members,ir),this.iconCollisionBox=new gf(Bn,Ig.members,ir);for(let n=0;n<this.symbolInstances.length;n++){const s=this.symbolInstances.get(n);this.addDebugCollisionBoxes(s.textBoxStartIndex,s.textBoxEndIndex,s,!0),this.addDebugCollisionBoxes(s.verticalTextBoxStartIndex,s.verticalTextBoxEndIndex,s,!0),this.addDebugCollisionBoxes(s.iconBoxStartIndex,s.iconBoxEndIndex,s,!1),this.addDebugCollisionBoxes(s.verticalIconBoxStartIndex,s.verticalIconBoxEndIndex,s,!1)}}_deserializeCollisionBoxesForSymbol(n,s,d,f,v,x,b,M,A){const I={};for(let R=s;R<d;R++){const $=n.get(R);I.textBox={x1:$.x1,y1:$.y1,x2:$.x2,y2:$.y2,anchorPointX:$.anchorPointX,anchorPointY:$.anchorPointY},I.textFeatureIndex=$.featureIndex;break}for(let R=f;R<v;R++){const $=n.get(R);I.verticalTextBox={x1:$.x1,y1:$.y1,x2:$.x2,y2:$.y2,anchorPointX:$.anchorPointX,anchorPointY:$.anchorPointY},I.verticalTextFeatureIndex=$.featureIndex;break}for(let R=x;R<b;R++){const $=n.get(R);I.iconBox={x1:$.x1,y1:$.y1,x2:$.x2,y2:$.y2,anchorPointX:$.anchorPointX,anchorPointY:$.anchorPointY},I.iconFeatureIndex=$.featureIndex;break}for(let R=M;R<A;R++){const $=n.get(R);I.verticalIconBox={x1:$.x1,y1:$.y1,x2:$.x2,y2:$.y2,anchorPointX:$.anchorPointX,anchorPointY:$.anchorPointY},I.verticalIconFeatureIndex=$.featureIndex;break}return I}deserializeCollisionBoxes(n){this.collisionArrays=[];for(let s=0;s<this.symbolInstances.length;s++){const d=this.symbolInstances.get(s);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(n,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(n,s){const d=n.placedSymbolArray.get(s),f=d.vertexStartIndex+4*d.numGlyphs;for(let v=d.vertexStartIndex;v<f;v+=4)n.indexArray.emplaceBack(v,v+1,v+2),n.indexArray.emplaceBack(v+1,v+2,v+3)}getSortedSymbolIndexes(n){if(this.sortedAngle===n&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const s=Math.sin(n),d=Math.cos(n),f=[],v=[],x=[];for(let b=0;b<this.symbolInstances.length;++b){x.push(b);const M=this.symbolInstances.get(b);f.push(0|Math.round(s*M.anchorX+d*M.anchorY)),v.push(M.featureIndex)}return x.sort((b,M)=>f[b]-f[M]||v[M]-v[b]),x}addToSortKeyRanges(n,s){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===s?d.symbolInstanceEnd=n+1:this.sortKeyRanges.push({sortKey:s,symbolInstanceStart:n,symbolInstanceEnd:n+1})}sortFeatures(n){if(this.sortFeaturesByY&&this.sortedAngle!==n&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(n),this.sortedAngle=n,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const s of this.symbolInstanceIndexes){const d=this.symbolInstances.get(s);this.featureSortOrder.push(d.featureIndex),[d.rightJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.leftJustifiedTextSymbolIndex].forEach((f,v,x)=>{f>=0&&x.indexOf(f)===v&&this.addIndicesForPlacedSymbol(this.text,f)}),d.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,d.verticalPlacedTextSymbolIndex),d.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.placedIconSymbolIndex),d.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let qg,Kg;ct("SymbolBucket",E1,{omit:["layers","collisionBoxArray","features","compareText"]}),E1.MAX_GLYPHS=65535,E1.addDynamicAttributes=ff;var yf={get paint(){return Kg=Kg||new Wn({"icon-opacity":new Mt(ke.paint_symbol["icon-opacity"]),"icon-color":new Mt(ke.paint_symbol["icon-color"]),"icon-halo-color":new Mt(ke.paint_symbol["icon-halo-color"]),"icon-halo-width":new Mt(ke.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Mt(ke.paint_symbol["icon-halo-blur"]),"icon-translate":new _t(ke.paint_symbol["icon-translate"]),"icon-translate-anchor":new _t(ke.paint_symbol["icon-translate-anchor"]),"text-opacity":new Mt(ke.paint_symbol["text-opacity"]),"text-color":new Mt(ke.paint_symbol["text-color"],{runtimeType:On,getOverride:o=>o.textColor,hasOverride:o=>!!o.textColor}),"text-halo-color":new Mt(ke.paint_symbol["text-halo-color"]),"text-halo-width":new Mt(ke.paint_symbol["text-halo-width"]),"text-halo-blur":new Mt(ke.paint_symbol["text-halo-blur"]),"text-translate":new _t(ke.paint_symbol["text-translate"]),"text-translate-anchor":new _t(ke.paint_symbol["text-translate-anchor"])})},get layout(){return qg=qg||new Wn({"symbol-placement":new _t(ke.layout_symbol["symbol-placement"]),"symbol-spacing":new _t(ke.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new _t(ke.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Mt(ke.layout_symbol["symbol-sort-key"]),"symbol-z-order":new _t(ke.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new _t(ke.layout_symbol["icon-allow-overlap"]),"icon-overlap":new _t(ke.layout_symbol["icon-overlap"]),"icon-ignore-placement":new _t(ke.layout_symbol["icon-ignore-placement"]),"icon-optional":new _t(ke.layout_symbol["icon-optional"]),"icon-rotation-alignment":new _t(ke.layout_symbol["icon-rotation-alignment"]),"icon-size":new Mt(ke.layout_symbol["icon-size"]),"icon-text-fit":new _t(ke.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new _t(ke.layout_symbol["icon-text-fit-padding"]),"icon-image":new Mt(ke.layout_symbol["icon-image"]),"icon-rotate":new Mt(ke.layout_symbol["icon-rotate"]),"icon-padding":new Mt(ke.layout_symbol["icon-padding"]),"icon-keep-upright":new _t(ke.layout_symbol["icon-keep-upright"]),"icon-offset":new Mt(ke.layout_symbol["icon-offset"]),"icon-anchor":new Mt(ke.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new _t(ke.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new _t(ke.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new _t(ke.layout_symbol["text-rotation-alignment"]),"text-field":new Mt(ke.layout_symbol["text-field"]),"text-font":new Mt(ke.layout_symbol["text-font"]),"text-size":new Mt(ke.layout_symbol["text-size"]),"text-max-width":new Mt(ke.layout_symbol["text-max-width"]),"text-line-height":new _t(ke.layout_symbol["text-line-height"]),"text-letter-spacing":new Mt(ke.layout_symbol["text-letter-spacing"]),"text-justify":new Mt(ke.layout_symbol["text-justify"]),"text-radial-offset":new Mt(ke.layout_symbol["text-radial-offset"]),"text-variable-anchor":new _t(ke.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Mt(ke.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Mt(ke.layout_symbol["text-anchor"]),"text-max-angle":new _t(ke.layout_symbol["text-max-angle"]),"text-writing-mode":new _t(ke.layout_symbol["text-writing-mode"]),"text-rotate":new Mt(ke.layout_symbol["text-rotate"]),"text-padding":new _t(ke.layout_symbol["text-padding"]),"text-keep-upright":new _t(ke.layout_symbol["text-keep-upright"]),"text-transform":new Mt(ke.layout_symbol["text-transform"]),"text-offset":new Mt(ke.layout_symbol["text-offset"]),"text-allow-overlap":new _t(ke.layout_symbol["text-allow-overlap"]),"text-overlap":new _t(ke.layout_symbol["text-overlap"]),"text-ignore-placement":new _t(ke.layout_symbol["text-ignore-placement"]),"text-optional":new _t(ke.layout_symbol["text-optional"])})}};class Xg{constructor(n){if(n.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=n.property.overrides?n.property.overrides.runtimeType:Fr,this.defaultValue=n}evaluate(n){if(n.formattedSection){const s=this.defaultValue.property.overrides;if(s&&s.hasOverride(n.formattedSection))return s.getOverride(n.formattedSection)}return n.feature&&n.featureState?this.defaultValue.evaluate(n.feature,n.featureState):this.defaultValue.property.specification.default}eachChild(n){this.defaultValue.isConstant()||n(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}ct("FormatSectionOverride",Xg,{omit:["defaultValue"]});class Hh extends Di{constructor(n){super(n,yf)}recalculate(n,s){if(super.recalculate(n,s),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const d=this.layout.get("text-writing-mode");if(d){const f=[];for(const v of d)f.indexOf(v)<0&&f.push(v);this.layout._values["text-writing-mode"]=f}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(n,s,d,f){const v=this.layout.get(n).evaluate(s,{},d,f),x=this._unevaluatedLayout._values[n];return x.isDataDriven()||a1(x.value)||!v?v:function(b,M){return M.replace(/{([^{}]+)}/g,(A,I)=>b&&I in b?String(b[I]):"")}(s.properties,v)}createBucket(n){return new E1(n)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const n of yf.paint.overridableProperties){if(!Hh.hasPaintOverride(this.layout,n))continue;const s=this.paint.get(n),d=new Xg(s),f=new Vu(d,s.property.specification);let v=null;v=s.value.kind==="constant"||s.value.kind==="source"?new Wu("source",f):new l1("composite",f,s.value.zoomStops),this.paint._values[n]=new Nr(s.property,v,s.parameters)}}_handleOverridablePaintPropertyUpdate(n,s,d){return!(!this.layout||s.isDataDriven()||d.isDataDriven())&&Hh.hasPaintOverride(this.layout,n)}static hasPaintOverride(n,s){const d=n.get("text-field"),f=yf.paint.properties[s];let v=!1;const x=b=>{for(const M of b)if(f.overrides&&f.overrides.hasOverride(M))return void(v=!0)};if(d.value.kind==="constant"&&d.value.value instanceof Ar)x(d.value.value.sections);else if(d.value.kind==="source"){const b=A=>{v||(A instanceof _a&&kn(A.value)===ie?x(A.value.sections):A instanceof o1?x(A.sections):A.eachChild(b))},M=d.value;M._styleExpression&&b(M._styleExpression.expression)}return v}}let Jg;var Mw={get paint(){return Jg=Jg||new Wn({"background-color":new _t(ke.paint_background["background-color"]),"background-pattern":new ic(ke.paint_background["background-pattern"]),"background-opacity":new _t(ke.paint_background["background-opacity"])})}};class Ew extends Di{constructor(n){super(n,Mw)}}let Yg;var kw={get paint(){return Yg=Yg||new Wn({"raster-opacity":new _t(ke.paint_raster["raster-opacity"]),"raster-hue-rotate":new _t(ke.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new _t(ke.paint_raster["raster-brightness-min"]),"raster-brightness-max":new _t(ke.paint_raster["raster-brightness-max"]),"raster-saturation":new _t(ke.paint_raster["raster-saturation"]),"raster-contrast":new _t(ke.paint_raster["raster-contrast"]),"raster-resampling":new _t(ke.paint_raster["raster-resampling"]),"raster-fade-duration":new _t(ke.paint_raster["raster-fade-duration"])})}};class Aw extends Di{constructor(n){super(n,kw)}}class Pw extends Di{constructor(n){super(n,{}),this.onAdd=s=>{this.implementation.onAdd&&this.implementation.onAdd(s,s.painter.context.gl)},this.onRemove=s=>{this.implementation.onRemove&&this.implementation.onRemove(s,s.painter.context.gl)},this.implementation=n}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class Tw{constructor(n){this._callback=n,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const vf=63710088e-1;class gs{constructor(n,s){if(isNaN(n)||isNaN(s))throw new Error(`Invalid LngLat object: (${n}, ${s})`);if(this.lng=+n,this.lat=+s,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new gs(de(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(n){const s=Math.PI/180,d=this.lat*s,f=n.lat*s,v=Math.sin(d)*Math.sin(f)+Math.cos(d)*Math.cos(f)*Math.cos((n.lng-this.lng)*s);return vf*Math.acos(Math.min(v,1))}static convert(n){if(n instanceof gs)return n;if(Array.isArray(n)&&(n.length===2||n.length===3))return new gs(Number(n[0]),Number(n[1]));if(!Array.isArray(n)&&typeof n=="object"&&n!==null)return new gs(Number("lng"in n?n.lng:n.lon),Number(n.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Qg=2*Math.PI*vf;function e3(o){return Qg*Math.cos(o*Math.PI/180)}function t3(o){return(180+o)/360}function n3(o){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o*Math.PI/360)))/360}function r3(o,n){return o/e3(n)}function _f(o){return 360/Math.PI*Math.atan(Math.exp((180-360*o)*Math.PI/180))-90}class Zh{constructor(n,s,d=0){this.x=+n,this.y=+s,this.z=+d}static fromLngLat(n,s=0){const d=gs.convert(n);return new Zh(t3(d.lng),n3(d.lat),r3(s,d.lat))}toLngLat(){return new gs(360*this.x-180,_f(this.y))}toAltitude(){return this.z*e3(_f(this.y))}meterInMercatorCoordinateUnits(){return 1/Qg*(n=_f(this.y),1/Math.cos(n*Math.PI/180));var n}}function i3(o,n,s){var d=2*Math.PI*6378137/256/Math.pow(2,s);return[o*d-2*Math.PI*6378137/2,n*d-2*Math.PI*6378137/2]}class xf{constructor(n,s,d){if(n<0||n>25||d<0||d>=Math.pow(2,n)||s<0||s>=Math.pow(2,n))throw new Error(`x=${s}, y=${d}, z=${n} outside of bounds. 0<=x<${Math.pow(2,n)}, 0<=y<${Math.pow(2,n)} 0<=z<=25 `);this.z=n,this.x=s,this.y=d,this.key=Ec(0,n,n,s,d)}equals(n){return this.z===n.z&&this.x===n.x&&this.y===n.y}url(n,s,d){const f=(x=this.y,b=this.z,M=i3(256*(v=this.x),256*(x=Math.pow(2,b)-x-1),b),A=i3(256*(v+1),256*(x+1),b),M[0]+","+M[1]+","+A[0]+","+A[1]);var v,x,b,M,A;const I=function(R,$,U){let H,Y="";for(let se=R;se>0;se--)H=1<<se-1,Y+=($&H?1:0)+(U&H?2:0);return Y}(this.z,this.x,this.y);return n[(this.x+this.y)%n.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(d==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,s>1?"@2x":"").replace(/{quadkey}/g,I).replace(/{bbox-epsg-3857}/g,f)}isChildOf(n){const s=this.z-n.z;return s>0&&n.x===this.x>>s&&n.y===this.y>>s}getTilePoint(n){const s=Math.pow(2,this.z);return new z((n.x*s-this.x)*Jn,(n.y*s-this.y)*Jn)}toString(){return`${this.z}/${this.x}/${this.y}`}}class o3{constructor(n,s){this.wrap=n,this.canonical=s,this.key=Ec(n,s.z,s.z,s.x,s.y)}}class Ui{constructor(n,s,d,f,v){if(n<d)throw new Error(`overscaledZ should be >= z; overscaledZ = ${n}; z = ${d}`);this.overscaledZ=n,this.wrap=s,this.canonical=new xf(d,+f,+v),this.key=Ec(s,n,d,f,v)}clone(){return new Ui(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(n){return this.overscaledZ===n.overscaledZ&&this.wrap===n.wrap&&this.canonical.equals(n.canonical)}scaledTo(n){if(n>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${n}; overscaledZ = ${this.overscaledZ}`);const s=this.canonical.z-n;return n>this.canonical.z?new Ui(n,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ui(n,this.wrap,n,this.canonical.x>>s,this.canonical.y>>s)}calculateScaledKey(n,s){if(n>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${n}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-n;return n>this.canonical.z?Ec(this.wrap*+s,n,this.canonical.z,this.canonical.x,this.canonical.y):Ec(this.wrap*+s,n,n,this.canonical.x>>d,this.canonical.y>>d)}isChildOf(n){if(n.wrap!==this.wrap)return!1;const s=this.canonical.z-n.canonical.z;return n.overscaledZ===0||n.overscaledZ<this.overscaledZ&&n.canonical.x===this.canonical.x>>s&&n.canonical.y===this.canonical.y>>s}children(n){if(this.overscaledZ>=n)return[new Ui(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const s=this.canonical.z+1,d=2*this.canonical.x,f=2*this.canonical.y;return[new Ui(s,this.wrap,s,d,f),new Ui(s,this.wrap,s,d+1,f),new Ui(s,this.wrap,s,d,f+1),new Ui(s,this.wrap,s,d+1,f+1)]}isLessThan(n){return this.wrap<n.wrap||!(this.wrap>n.wrap)&&(this.overscaledZ<n.overscaledZ||!(this.overscaledZ>n.overscaledZ)&&(this.canonical.x<n.canonical.x||!(this.canonical.x>n.canonical.x)&&this.canonical.y<n.canonical.y))}wrapped(){return new Ui(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(n){return new Ui(this.overscaledZ,n,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new o3(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(n){return this.canonical.getTilePoint(new Zh(n.x-this.wrap,n.y))}}function Ec(o,n,s,d,f){(o*=2)<0&&(o=-1*o-1);const v=1<<s;return(v*v*o+v*f+d).toString(36)+s.toString(36)+n.toString(36)}ct("CanonicalTileID",xf),ct("OverscaledTileID",Ui,{omit:["posMatrix"]});class a3{constructor(n,s,d,f=1,v=1,x=1,b=0){if(this.uid=n,s.height!==s.width)throw new RangeError("DEM tiles must be square");if(d&&!["mapbox","terrarium","custom"].includes(d))return void qe(`"${d}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=s.height;const M=this.dim=s.height-2;switch(this.data=new Uint32Array(s.data.buffer),d){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=f,this.greenFactor=v,this.blueFactor=x,this.baseShift=b;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let A=0;A<M;A++)this.data[this._idx(-1,A)]=this.data[this._idx(0,A)],this.data[this._idx(M,A)]=this.data[this._idx(M-1,A)],this.data[this._idx(A,-1)]=this.data[this._idx(A,0)],this.data[this._idx(A,M)]=this.data[this._idx(A,M-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(M,-1)]=this.data[this._idx(M-1,0)],this.data[this._idx(-1,M)]=this.data[this._idx(0,M-1)],this.data[this._idx(M,M)]=this.data[this._idx(M-1,M-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let A=0;A<M;A++)for(let I=0;I<M;I++){const R=this.get(A,I);R>this.max&&(this.max=R),R<this.min&&(this.min=R)}}get(n,s){const d=new Uint8Array(this.data.buffer),f=4*this._idx(n,s);return this.unpack(d[f],d[f+1],d[f+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(n,s){if(n<-1||n>=this.dim+1||s<-1||s>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(s+1)*this.stride+(n+1)}unpack(n,s,d){return n*this.redFactor+s*this.greenFactor+d*this.blueFactor-this.baseShift}getPixels(){return new Wi({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(n,s,d){if(this.dim!==n.dim)throw new Error("dem dimension mismatch");let f=s*this.dim,v=s*this.dim+this.dim,x=d*this.dim,b=d*this.dim+this.dim;switch(s){case-1:f=v-1;break;case 1:v=f+1}switch(d){case-1:x=b-1;break;case 1:b=x+1}const M=-s*this.dim,A=-d*this.dim;for(let I=x;I<b;I++)for(let R=f;R<v;R++)this.data[this._idx(R,I)]=n.data[this._idx(R+M,I+A)]}}ct("DEMData",a3);class s3{constructor(n){this._stringToNumber={},this._numberToString=[];for(let s=0;s<n.length;s++){const d=n[s];this._stringToNumber[d]=s,this._numberToString[s]=d}}encode(n){return this._stringToNumber[n]}decode(n){if(n>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${n} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[n]}}class l3{constructor(n,s,d,f,v){this.type="Feature",this._vectorTileFeature=n,n._z=s,n._x=d,n._y=f,this.properties=n.properties,this.id=v}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(n){this._geometry=n}toJSON(){const n={geometry:this.geometry};for(const s in this)s!=="_geometry"&&s!=="_vectorTileFeature"&&(n[s]=this[s]);return n}}class u3{constructor(n,s){this.tileID=n,this.x=n.canonical.x,this.y=n.canonical.y,this.z=n.canonical.z,this.grid=new ls(Jn,16,0),this.grid3D=new ls(Jn,16,0),this.featureIndexArray=new je,this.promoteId=s}insert(n,s,d,f,v,x){const b=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,f,v);const M=x?this.grid3D:this.grid;for(let A=0;A<s.length;A++){const I=s[A],R=[1/0,1/0,-1/0,-1/0];for(let $=0;$<I.length;$++){const U=I[$];R[0]=Math.min(R[0],U.x),R[1]=Math.min(R[1],U.y),R[2]=Math.max(R[2],U.x),R[3]=Math.max(R[3],U.y)}R[0]<Jn&&R[1]<Jn&&R[2]>=0&&R[3]>=0&&M.insert(b,R[0],R[1],R[2],R[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new ps.VectorTile(new lf(this.rawTileData)).layers,this.sourceLayerCoder=new s3(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(n,s,d,f){this.loadVTLayers();const v=n.params||{},x=Jn/n.tileSize/n.scale,b=Hu(v.filter),M=n.queryGeometry,A=n.queryPadding*x,I=d3(M),R=this.grid.query(I.minX-A,I.minY-A,I.maxX+A,I.maxY+A),$=d3(n.cameraQueryGeometry),U=this.grid3D.query($.minX-A,$.minY-A,$.maxX+A,$.maxY+A,(se,ce,_e,fe)=>function(be,Ee,Oe,lt,gt){for(const it of be)if(Ee<=it.x&&Oe<=it.y&&lt>=it.x&&gt>=it.y)return!0;const ot=[new z(Ee,Oe),new z(Ee,gt),new z(lt,gt),new z(lt,Oe)];if(be.length>2){for(const it of ot)if(_1(be,it))return!0}for(let it=0;it<be.length-1;it++)if(lb(be[it],be[it+1],ot))return!0;return!1}(n.cameraQueryGeometry,se-A,ce-A,_e+A,fe+A));for(const se of U)R.push(se);R.sort(Iw);const H={};let Y;for(let se=0;se<R.length;se++){const ce=R[se];if(ce===Y)continue;Y=ce;const _e=this.featureIndexArray.get(ce);let fe=null;this.loadMatchingFeature(H,_e.bucketIndex,_e.sourceLayerIndex,_e.featureIndex,b,v.layers,v.availableImages,s,d,f,(be,Ee,Oe)=>(fe||(fe=ul(be)),Ee.queryIntersectsFeature(M,be,Oe,fe,this.z,n.transform,x,n.pixelPosMatrix)))}return H}loadMatchingFeature(n,s,d,f,v,x,b,M,A,I,R){const $=this.bucketLayerIDs[s];if(x&&!function(se,ce){for(let _e=0;_e<se.length;_e++)if(ce.indexOf(se[_e])>=0)return!0;return!1}(x,$))return;const U=this.sourceLayerCoder.decode(d),H=this.vtLayers[U].feature(f);if(v.needGeometry){const se=cl(H,!0);if(!v.filter(new vn(this.tileID.overscaledZ),se,this.tileID.canonical))return}else if(!v.filter(new vn(this.tileID.overscaledZ),H))return;const Y=this.getId(H,U);for(let se=0;se<$.length;se++){const ce=$[se];if(x&&x.indexOf(ce)<0)continue;const _e=M[ce];if(!_e)continue;let fe={};Y&&I&&(fe=I.getState(_e.sourceLayer||"_geojsonTileLayer",Y));const be=Se({},A[ce]);be.paint=c3(be.paint,_e.paint,H,fe,b),be.layout=c3(be.layout,_e.layout,H,fe,b);const Ee=!R||R(H,_e,fe);if(!Ee)continue;const Oe=new l3(H,this.z,this.x,this.y,Y);Oe.layer=be;let lt=n[ce];lt===void 0&&(lt=n[ce]=[]),lt.push({featureIndex:f,feature:Oe,intersectionZ:Ee})}}lookupSymbolFeatures(n,s,d,f,v,x,b,M){const A={};this.loadVTLayers();const I=Hu(v);for(const R of n)this.loadMatchingFeature(A,d,f,R,I,x,b,M,s);return A}hasLayer(n){for(const s of this.bucketLayerIDs)for(const d of s)if(n===d)return!0;return!1}getId(n,s){let d=n.id;return this.promoteId&&(d=n.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[s]],typeof d=="boolean"&&(d=Number(d))),d}}function c3(o,n,s,d,f){return Me(o,(v,x)=>{const b=n instanceof y1?n.get(x):null;return b&&b.evaluate?b.evaluate(s,d,f):b})}function d3(o){let n=1/0,s=1/0,d=-1/0,f=-1/0;for(const v of o)n=Math.min(n,v.x),s=Math.min(s,v.y),d=Math.max(d,v.x),f=Math.max(f,v.y);return{minX:n,minY:s,maxX:d,maxY:f}}function Iw(o,n){return n-o}function h3(o,n,s,d,f){const v=[];for(let x=0;x<o.length;x++){const b=o[x];let M;for(let A=0;A<b.length-1;A++){let I=b[A],R=b[A+1];I.x<n&&R.x<n||(I.x<n?I=new z(n,I.y+(n-I.x)/(R.x-I.x)*(R.y-I.y))._round():R.x<n&&(R=new z(n,I.y+(n-I.x)/(R.x-I.x)*(R.y-I.y))._round()),I.y<s&&R.y<s||(I.y<s?I=new z(I.x+(s-I.y)/(R.y-I.y)*(R.x-I.x),s)._round():R.y<s&&(R=new z(I.x+(s-I.y)/(R.y-I.y)*(R.x-I.x),s)._round()),I.x>=d&&R.x>=d||(I.x>=d?I=new z(d,I.y+(d-I.x)/(R.x-I.x)*(R.y-I.y))._round():R.x>=d&&(R=new z(d,I.y+(d-I.x)/(R.x-I.x)*(R.y-I.y))._round()),I.y>=f&&R.y>=f||(I.y>=f?I=new z(I.x+(f-I.y)/(R.y-I.y)*(R.x-I.x),f)._round():R.y>=f&&(R=new z(I.x+(f-I.y)/(R.y-I.y)*(R.x-I.x),f)._round()),M&&I.equals(M[M.length-1])||(M=[I],v.push(M)),M.push(R)))))}}return v}ct("FeatureIndex",u3,{omit:["rawTileData","sourceLayerCoder"]});class ys extends z{constructor(n,s,d,f){super(n,s),this.angle=d,f!==void 0&&(this.segment=f)}clone(){return new ys(this.x,this.y,this.angle,this.segment)}}function p3(o,n,s,d,f){if(n.segment===void 0||s===0)return!0;let v=n,x=n.segment+1,b=0;for(;b>-s/2;){if(x--,x<0)return!1;b-=o[x].dist(v),v=o[x]}b+=o[x].dist(o[x+1]),x++;const M=[];let A=0;for(;b<s/2;){const I=o[x],R=o[x+1];if(!R)return!1;let $=o[x-1].angleTo(I)-I.angleTo(R);for($=Math.abs(($+3*Math.PI)%(2*Math.PI)-Math.PI),M.push({distance:b,angleDelta:$}),A+=$;b-M[0].distance>d;)A-=M.shift().angleDelta;if(A>f)return!1;x++,b+=I.dist(R)}return!0}function f3(o){let n=0;for(let s=0;s<o.length-1;s++)n+=o[s].dist(o[s+1]);return n}function m3(o,n,s){return o?.6*n*s:0}function g3(o,n){return Math.max(o?o.right-o.left:0,n?n.right-n.left:0)}function Lw(o,n,s,d,f,v){const x=m3(s,f,v),b=g3(s,d)*v;let M=0;const A=f3(o)/2;for(let I=0;I<o.length-1;I++){const R=o[I],$=o[I+1],U=R.dist($);if(M+U>A){const H=(A-M)/U,Y=ui.number(R.x,$.x,H),se=ui.number(R.y,$.y,H),ce=new ys(Y,se,$.angleTo(R),I);return ce._round(),!x||p3(o,ce,b,x,n)?ce:void 0}M+=U}}function Dw(o,n,s,d,f,v,x,b,M){const A=m3(d,v,x),I=g3(d,f),R=I*x,$=o[0].x===0||o[0].x===M||o[0].y===0||o[0].y===M;return n-R<n/4&&(n=R+n/4),y3(o,$?n/2*b%n:(I/2+2*v)*x*b%n,n,A,s,R,$,!1,M)}function y3(o,n,s,d,f,v,x,b,M){const A=v/2,I=f3(o);let R=0,$=n-s,U=[];for(let H=0;H<o.length-1;H++){const Y=o[H],se=o[H+1],ce=Y.dist(se),_e=se.angleTo(Y);for(;$+s<R+ce;){$+=s;const fe=($-R)/ce,be=ui.number(Y.x,se.x,fe),Ee=ui.number(Y.y,se.y,fe);if(be>=0&&be<M&&Ee>=0&&Ee<M&&$-A>=0&&$+A<=I){const Oe=new ys(be,Ee,_e,H);Oe._round(),d&&!p3(o,Oe,v,d,f)||U.push(Oe)}}R+=ce}return b||U.length||x||(U=y3(o,R/2,s,d,f,v,x,!0,M)),U}ct("Anchor",ys);const k1=fi;function v3(o,n,s,d){const f=[],v=o.image,x=v.pixelRatio,b=v.paddedRect.w-2*k1,M=v.paddedRect.h-2*k1,A=o.right-o.left,I=o.bottom-o.top,R=v.stretchX||[[0,b]],$=v.stretchY||[[0,M]],U=(et,dt)=>et+dt[1]-dt[0],H=R.reduce(U,0),Y=$.reduce(U,0),se=b-H,ce=M-Y;let _e=0,fe=H,be=0,Ee=Y,Oe=0,lt=se,gt=0,ot=ce;if(v.content&&d){const et=v.content;_e=Gh(R,0,et[0]),be=Gh($,0,et[1]),fe=Gh(R,et[0],et[2]),Ee=Gh($,et[1],et[3]),Oe=et[0]-_e,gt=et[1]-be,lt=et[2]-et[0]-fe,ot=et[3]-et[1]-Ee}const it=(et,dt,nt,Ge)=>{const wt=qh(et.stretch-_e,fe,A,o.left),vt=Kh(et.fixed-Oe,lt,et.stretch,H),Ft=qh(dt.stretch-be,Ee,I,o.top),xn=Kh(dt.fixed-gt,ot,dt.stretch,Y),En=qh(nt.stretch-_e,fe,A,o.left),sr=Kh(nt.fixed-Oe,lt,nt.stretch,H),zi=qh(Ge.stretch-be,Ee,I,o.top),Yr=Kh(Ge.fixed-gt,ot,Ge.stretch,Y),Yn=new z(wt,Ft),br=new z(En,Ft),Ir=new z(En,zi),Qr=new z(wt,zi),ei=new z(vt/x,xn/x),lr=new z(sr/x,Yr/x),ur=n*Math.PI/180;if(ur){const $r=Math.sin(ur),mi=Math.cos(ur),gi=[mi,-$r,$r,mi];Yn._matMult(gi),br._matMult(gi),Qr._matMult(gi),Ir._matMult(gi)}const Br=et.stretch+et.fixed,ti=dt.stretch+dt.fixed;return{tl:Yn,tr:br,bl:Qr,br:Ir,tex:{x:v.paddedRect.x+k1+Br,y:v.paddedRect.y+k1+ti,w:nt.stretch+nt.fixed-Br,h:Ge.stretch+Ge.fixed-ti},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ei,pixelOffsetBR:lr,minFontScaleX:lt/x/A,minFontScaleY:ot/x/I,isSDF:s}};if(d&&(v.stretchX||v.stretchY)){const et=_3(R,se,H),dt=_3($,ce,Y);for(let nt=0;nt<et.length-1;nt++){const Ge=et[nt],wt=et[nt+1];for(let vt=0;vt<dt.length-1;vt++)f.push(it(Ge,dt[vt],wt,dt[vt+1]))}}else f.push(it({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:b+1},{fixed:0,stretch:M+1}));return f}function Gh(o,n,s){let d=0;for(const f of o)d+=Math.max(n,Math.min(s,f[1]))-Math.max(n,Math.min(s,f[0]));return d}function _3(o,n,s){const d=[{fixed:-k1,stretch:0}];for(const[f,v]of o){const x=d[d.length-1];d.push({fixed:f-x.stretch,stretch:x.stretch}),d.push({fixed:f-x.stretch,stretch:x.stretch+(v-f)})}return d.push({fixed:n+k1,stretch:s}),d}function qh(o,n,s,d){return o/n*s+d}function Kh(o,n,s,d){return o-n*s/d}class Xh{constructor(n,s,d,f,v,x,b,M,A,I){if(this.boxStartIndex=n.length,A){let R=x.top,$=x.bottom;const U=x.collisionPadding;U&&(R-=U[1],$+=U[3]);let H=$-R;H>0&&(H=Math.max(10,H),this.circleDiameter=H)}else{let R=x.top*b-M[0],$=x.bottom*b+M[2],U=x.left*b-M[3],H=x.right*b+M[1];const Y=x.collisionPadding;if(Y&&(U-=Y[0]*b,R-=Y[1]*b,H+=Y[2]*b,$+=Y[3]*b),I){const se=new z(U,R),ce=new z(H,R),_e=new z(U,$),fe=new z(H,$),be=I*Math.PI/180;se._rotate(be),ce._rotate(be),_e._rotate(be),fe._rotate(be),U=Math.min(se.x,ce.x,_e.x,fe.x),H=Math.max(se.x,ce.x,_e.x,fe.x),R=Math.min(se.y,ce.y,_e.y,fe.y),$=Math.max(se.y,ce.y,_e.y,fe.y)}n.emplaceBack(s.x,s.y,U,R,H,$,d,f,v)}this.boxEndIndex=n.length}}class Rw{constructor(n=[],s=zw){if(this.data=n,this.length=this.data.length,this.compare=s,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(n){this.data.push(n),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const n=this.data[0],s=this.data.pop();return this.length--,this.length>0&&(this.data[0]=s,this._down(0)),n}peek(){return this.data[0]}_up(n){const{data:s,compare:d}=this,f=s[n];for(;n>0;){const v=n-1>>1,x=s[v];if(d(f,x)>=0)break;s[n]=x,n=v}s[n]=f}_down(n){const{data:s,compare:d}=this,f=this.length>>1,v=s[n];for(;n<f;){let x=1+(n<<1),b=s[x];const M=x+1;if(M<this.length&&d(s[M],b)<0&&(x=M,b=s[M]),d(b,v)>=0)break;s[n]=b,n=x}s[n]=v}}function zw(o,n){return o<n?-1:o>n?1:0}function Fw(o,n=1,s=!1){let d=1/0,f=1/0,v=-1/0,x=-1/0;const b=o[0];for(let U=0;U<b.length;U++){const H=b[U];(!U||H.x<d)&&(d=H.x),(!U||H.y<f)&&(f=H.y),(!U||H.x>v)&&(v=H.x),(!U||H.y>x)&&(x=H.y)}const M=Math.min(v-d,x-f);let A=M/2;const I=new Rw([],Nw);if(M===0)return new z(d,f);for(let U=d;U<v;U+=M)for(let H=f;H<x;H+=M)I.push(new A1(U+A,H+A,A,o));let R=function(U){let H=0,Y=0,se=0;const ce=U[0];for(let _e=0,fe=ce.length,be=fe-1;_e<fe;be=_e++){const Ee=ce[_e],Oe=ce[be],lt=Ee.x*Oe.y-Oe.x*Ee.y;Y+=(Ee.x+Oe.x)*lt,se+=(Ee.y+Oe.y)*lt,H+=3*lt}return new A1(Y/H,se/H,0,U)}(o),$=I.length;for(;I.length;){const U=I.pop();(U.d>R.d||!R.d)&&(R=U,s&&console.log("found best %d after %d probes",Math.round(1e4*U.d)/1e4,$)),U.max-R.d<=n||(A=U.h/2,I.push(new A1(U.p.x-A,U.p.y-A,A,o)),I.push(new A1(U.p.x+A,U.p.y-A,A,o)),I.push(new A1(U.p.x-A,U.p.y+A,A,o)),I.push(new A1(U.p.x+A,U.p.y+A,A,o)),$+=4)}return s&&(console.log(`num probes: ${$}`),console.log(`best distance: ${R.d}`)),R.p}function Nw(o,n){return n.max-o.max}function A1(o,n,s,d){this.p=new z(o,n),this.h=s,this.d=function(f,v){let x=!1,b=1/0;for(let M=0;M<v.length;M++){const A=v[M];for(let I=0,R=A.length,$=R-1;I<R;$=I++){const U=A[I],H=A[$];U.y>f.y!=H.y>f.y&&f.x<(H.x-U.x)*(f.y-U.y)/(H.y-U.y)+U.x&&(x=!x),b=Math.min(b,ng(f,U,H))}}return(x?1:-1)*Math.sqrt(b)}(this.p,d),this.max=this.d+this.h*Math.SQRT2}var Tr;u.aq=void 0,(Tr=u.aq||(u.aq={}))[Tr.center=1]="center",Tr[Tr.left=2]="left",Tr[Tr.right=3]="right",Tr[Tr.top=4]="top",Tr[Tr.bottom=5]="bottom",Tr[Tr["top-left"]=6]="top-left",Tr[Tr["top-right"]=7]="top-right",Tr[Tr["bottom-left"]=8]="bottom-left",Tr[Tr["bottom-right"]=9]="bottom-right";const vs=7,bf=Number.POSITIVE_INFINITY;function x3(o,n){return n[1]!==bf?function(s,d,f){let v=0,x=0;switch(d=Math.abs(d),f=Math.abs(f),s){case"top-right":case"top-left":case"top":x=f-vs;break;case"bottom-right":case"bottom-left":case"bottom":x=-f+vs}switch(s){case"top-right":case"bottom-right":case"right":v=-d;break;case"top-left":case"bottom-left":case"left":v=d}return[v,x]}(o,n[0],n[1]):function(s,d){let f=0,v=0;d<0&&(d=0);const x=d/Math.SQRT2;switch(s){case"top-right":case"top-left":v=x-vs;break;case"bottom-right":case"bottom-left":v=-x+vs;break;case"bottom":v=-d+vs;break;case"top":v=d-vs}switch(s){case"top-right":case"bottom-right":f=-x;break;case"top-left":case"bottom-left":f=x;break;case"left":f=d;break;case"right":f=-d}return[f,v]}(o,n[0])}function b3(o,n,s){var d;const f=o.layout,v=(d=f.get("text-variable-anchor-offset"))===null||d===void 0?void 0:d.evaluate(n,{},s);if(v){const b=v.values,M=[];for(let A=0;A<b.length;A+=2){const I=M[A]=b[A],R=b[A+1].map($=>$*ar);I.startsWith("top")?R[1]-=vs:I.startsWith("bottom")&&(R[1]+=vs),M[A+1]=R}return new Pi(M)}const x=f.get("text-variable-anchor");if(x){let b;b=o._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[f.get("text-radial-offset").evaluate(n,{},s)*ar,bf]:f.get("text-offset").evaluate(n,{},s).map(A=>A*ar);const M=[];for(const A of x)M.push(A,x3(A,b));return new Pi(M)}return null}function wf(o){switch(o){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Ow(o,n,s,d,f,v,x,b,M,A,I){let R=v.textMaxSize.evaluate(n,{});R===void 0&&(R=x);const $=o.layers[0].layout,U=$.get("icon-offset").evaluate(n,{},I),H=S3(s.horizontal),Y=x/24,se=o.tilePixelRatio*Y,ce=o.tilePixelRatio*R/24,_e=o.tilePixelRatio*b,fe=o.tilePixelRatio*$.get("symbol-spacing"),be=$.get("text-padding")*o.tilePixelRatio,Ee=function(Ge,wt,vt,Ft=1){const xn=Ge.get("icon-padding").evaluate(wt,{},vt),En=xn&&xn.values;return[En[0]*Ft,En[1]*Ft,En[2]*Ft,En[3]*Ft]}($,n,I,o.tilePixelRatio),Oe=$.get("text-max-angle")/180*Math.PI,lt=$.get("text-rotation-alignment")!=="viewport"&&$.get("symbol-placement")!=="point",gt=$.get("icon-rotation-alignment")==="map"&&$.get("symbol-placement")!=="point",ot=$.get("symbol-placement"),it=fe/2,et=$.get("icon-text-fit");let dt;d&&et!=="none"&&(o.allowVerticalPlacement&&s.vertical&&(dt=Zg(d,s.vertical,et,$.get("icon-text-fit-padding"),U,Y)),H&&(d=Zg(d,H,et,$.get("icon-text-fit-padding"),U,Y)));const nt=(Ge,wt)=>{wt.x<0||wt.x>=Jn||wt.y<0||wt.y>=Jn||function(vt,Ft,xn,En,sr,zi,Yr,Yn,br,Ir,Qr,ei,lr,ur,Br,ti,$r,mi,gi,cr,jt,jr,Lr,dr,yo){const Oo=vt.addToLineVertexArray(Ft,xn);let Bo,La,vo,Hi,yi=0,Da=0,Pc=0,k3=0,Tf=-1,If=-1;const Ra={};let A3=Aa("");if(vt.allowVerticalPlacement&&En.vertical){const Vr=Yn.layout.get("text-rotate").evaluate(jt,{},dr)+90;vo=new Xh(br,Ft,Ir,Qr,ei,En.vertical,lr,ur,Br,Vr),Yr&&(Hi=new Xh(br,Ft,Ir,Qr,ei,Yr,$r,mi,Br,Vr))}if(sr){const Vr=Yn.layout.get("icon-rotate").evaluate(jt,{}),Zi=Yn.layout.get("icon-text-fit")!=="none",hl=v3(sr,Vr,Lr,Zi),jo=Yr?v3(Yr,Vr,Lr,Zi):void 0;La=new Xh(br,Ft,Ir,Qr,ei,sr,$r,mi,!1,Vr),yi=4*hl.length;const pl=vt.iconSizeData;let ha=null;pl.kind==="source"?(ha=[da*Yn.layout.get("icon-size").evaluate(jt,{})],ha[0]>ms&&qe(`${vt.layerIds[0]}: Value for "icon-size" is >= ${Mc}. Reduce your "icon-size".`)):pl.kind==="composite"&&(ha=[da*jr.compositeIconSizes[0].evaluate(jt,{},dr),da*jr.compositeIconSizes[1].evaluate(jt,{},dr)],(ha[0]>ms||ha[1]>ms)&&qe(`${vt.layerIds[0]}: Value for "icon-size" is >= ${Mc}. Reduce your "icon-size".`)),vt.addSymbols(vt.icon,hl,ha,cr,gi,jt,u.ai.none,Ft,Oo.lineStartIndex,Oo.lineLength,-1,dr),Tf=vt.icon.placedSymbolArray.length-1,jo&&(Da=4*jo.length,vt.addSymbols(vt.icon,jo,ha,cr,gi,jt,u.ai.vertical,Ft,Oo.lineStartIndex,Oo.lineLength,-1,dr),If=vt.icon.placedSymbolArray.length-1)}const P3=Object.keys(En.horizontal);for(const Vr of P3){const Zi=En.horizontal[Vr];if(!Bo){A3=Aa(Zi.text);const jo=Yn.layout.get("text-rotate").evaluate(jt,{},dr);Bo=new Xh(br,Ft,Ir,Qr,ei,Zi,lr,ur,Br,jo)}const hl=Zi.positionedLines.length===1;if(Pc+=w3(vt,Ft,Zi,zi,Yn,Br,jt,ti,Oo,En.vertical?u.ai.horizontal:u.ai.horizontalOnly,hl?P3:[Vr],Ra,Tf,jr,dr),hl)break}En.vertical&&(k3+=w3(vt,Ft,En.vertical,zi,Yn,Br,jt,ti,Oo,u.ai.vertical,["vertical"],Ra,If,jr,dr));const jw=Bo?Bo.boxStartIndex:vt.collisionBoxArray.length,Vw=Bo?Bo.boxEndIndex:vt.collisionBoxArray.length,Ww=vo?vo.boxStartIndex:vt.collisionBoxArray.length,Uw=vo?vo.boxEndIndex:vt.collisionBoxArray.length,Hw=La?La.boxStartIndex:vt.collisionBoxArray.length,Zw=La?La.boxEndIndex:vt.collisionBoxArray.length,Gw=Hi?Hi.boxStartIndex:vt.collisionBoxArray.length,qw=Hi?Hi.boxEndIndex:vt.collisionBoxArray.length;let $o=-1;const Yh=(Vr,Zi)=>Vr&&Vr.circleDiameter?Math.max(Vr.circleDiameter,Zi):Zi;$o=Yh(Bo,$o),$o=Yh(vo,$o),$o=Yh(La,$o),$o=Yh(Hi,$o);const T3=$o>-1?1:0;T3&&($o*=yo/ar),vt.glyphOffsetArray.length>=E1.MAX_GLYPHS&&qe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),jt.sortKey!==void 0&&vt.addToSortKeyRanges(vt.symbolInstances.length,jt.sortKey);const Kw=b3(Yn,jt,dr),[Xw,Jw]=function(Vr,Zi){const hl=Vr.length,jo=Zi==null?void 0:Zi.values;if((jo==null?void 0:jo.length)>0)for(let pl=0;pl<jo.length;pl+=2){const ha=jo[pl+1];Vr.emplaceBack(u.aq[jo[pl]],ha[0],ha[1])}return[hl,Vr.length]}(vt.textAnchorOffsets,Kw);vt.symbolInstances.emplaceBack(Ft.x,Ft.y,Ra.right>=0?Ra.right:-1,Ra.center>=0?Ra.center:-1,Ra.left>=0?Ra.left:-1,Ra.vertical||-1,Tf,If,A3,jw,Vw,Ww,Uw,Hw,Zw,Gw,qw,Ir,Pc,k3,yi,Da,T3,0,lr,$o,Xw,Jw)}(o,wt,Ge,s,d,f,dt,o.layers[0],o.collisionBoxArray,n.index,n.sourceLayerIndex,o.index,se,[be,be,be,be],lt,M,_e,Ee,gt,U,n,v,A,I,x)};if(ot==="line")for(const Ge of h3(n.geometry,0,0,Jn,Jn)){const wt=Dw(Ge,fe,Oe,s.vertical||H,d,24,ce,o.overscaling,Jn);for(const vt of wt)H&&Bw(o,H.text,it,vt)||nt(Ge,vt)}else if(ot==="line-center"){for(const Ge of n.geometry)if(Ge.length>1){const wt=Lw(Ge,Oe,s.vertical||H,d,24,ce);wt&&nt(Ge,wt)}}else if(n.type==="Polygon")for(const Ge of Q0(n.geometry,0)){const wt=Fw(Ge,16);nt(Ge[0],new ys(wt.x,wt.y,0))}else if(n.type==="LineString")for(const Ge of n.geometry)nt(Ge,new ys(Ge[0].x,Ge[0].y,0));else if(n.type==="Point")for(const Ge of n.geometry)for(const wt of Ge)nt([wt],new ys(wt.x,wt.y,0))}function w3(o,n,s,d,f,v,x,b,M,A,I,R,$,U,H){const Y=function(_e,fe,be,Ee,Oe,lt,gt,ot){const it=Ee.layout.get("text-rotate").evaluate(lt,{})*Math.PI/180,et=[];for(const dt of fe.positionedLines)for(const nt of dt.positionedGlyphs){if(!nt.rect)continue;const Ge=nt.rect||{};let wt=Bg+1,vt=!0,Ft=1,xn=0;const En=(Oe||ot)&&nt.vertical,sr=nt.metrics.advance*nt.scale/2;if(ot&&fe.verticalizable&&(xn=dt.lineOffset/2-(nt.imageName?-(ar-nt.metrics.width*nt.scale)/2:(nt.scale-1)*ar)),nt.imageName){const cr=gt[nt.imageName];vt=cr.sdf,Ft=cr.pixelRatio,wt=fi/Ft}const zi=Oe?[nt.x+sr,nt.y]:[0,0];let Yr=Oe?[0,0]:[nt.x+sr+be[0],nt.y+be[1]-xn],Yn=[0,0];En&&(Yn=Yr,Yr=[0,0]);const br=nt.metrics.isDoubleResolution?2:1,Ir=(nt.metrics.left-wt)*nt.scale-sr+Yr[0],Qr=(-nt.metrics.top-wt)*nt.scale+Yr[1],ei=Ir+Ge.w/br*nt.scale/Ft,lr=Qr+Ge.h/br*nt.scale/Ft,ur=new z(Ir,Qr),Br=new z(ei,Qr),ti=new z(Ir,lr),$r=new z(ei,lr);if(En){const cr=new z(-sr,sr-Sc),jt=-Math.PI/2,jr=ar/2-sr,Lr=new z(5-Sc-jr,-(nt.imageName?jr:0)),dr=new z(...Yn);ur._rotateAround(jt,cr)._add(Lr)._add(dr),Br._rotateAround(jt,cr)._add(Lr)._add(dr),ti._rotateAround(jt,cr)._add(Lr)._add(dr),$r._rotateAround(jt,cr)._add(Lr)._add(dr)}if(it){const cr=Math.sin(it),jt=Math.cos(it),jr=[jt,-cr,cr,jt];ur._matMult(jr),Br._matMult(jr),ti._matMult(jr),$r._matMult(jr)}const mi=new z(0,0),gi=new z(0,0);et.push({tl:ur,tr:Br,bl:ti,br:$r,tex:Ge,writingMode:fe.writingMode,glyphOffset:zi,sectionIndex:nt.sectionIndex,isSDF:vt,pixelOffsetTL:mi,pixelOffsetBR:gi,minFontScaleX:0,minFontScaleY:0})}return et}(0,s,b,f,v,x,d,o.allowVerticalPlacement),se=o.textSizeData;let ce=null;se.kind==="source"?(ce=[da*f.layout.get("text-size").evaluate(x,{})],ce[0]>ms&&qe(`${o.layerIds[0]}: Value for "text-size" is >= ${Mc}. Reduce your "text-size".`)):se.kind==="composite"&&(ce=[da*U.compositeTextSizes[0].evaluate(x,{},H),da*U.compositeTextSizes[1].evaluate(x,{},H)],(ce[0]>ms||ce[1]>ms)&&qe(`${o.layerIds[0]}: Value for "text-size" is >= ${Mc}. Reduce your "text-size".`)),o.addSymbols(o.text,Y,ce,b,v,x,A,n,M.lineStartIndex,M.lineLength,$,H);for(const _e of I)R[_e]=o.text.placedSymbolArray.length-1;return 4*Y.length}function S3(o){for(const n in o)return o[n];return null}function Bw(o,n,s,d){const f=o.compareText;if(n in f){const v=f[n];for(let x=v.length-1;x>=0;x--)if(d.dist(v[x])<s)return!0}else f[n]=[];return f[n].push(d),!1}const C3=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Sf{static from(n){if(!(n instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[s,d]=new Uint8Array(n,0,2);if(s!==219)throw new Error("Data does not appear to be in a KDBush format.");const f=d>>4;if(f!==1)throw new Error(`Got v${f} data when expected v1.`);const v=C3[15&d];if(!v)throw new Error("Unrecognized array type.");const[x]=new Uint16Array(n,2,1),[b]=new Uint32Array(n,4,1);return new Sf(b,x,v,n)}constructor(n,s=64,d=Float64Array,f){if(isNaN(n)||n<0)throw new Error(`Unpexpected numItems value: ${n}.`);this.numItems=+n,this.nodeSize=Math.min(Math.max(+s,2),65535),this.ArrayType=d,this.IndexArrayType=n<65536?Uint16Array:Uint32Array;const v=C3.indexOf(this.ArrayType),x=2*n*this.ArrayType.BYTES_PER_ELEMENT,b=n*this.IndexArrayType.BYTES_PER_ELEMENT,M=(8-b%8)%8;if(v<0)throw new Error(`Unexpected typed array class: ${d}.`);f&&f instanceof ArrayBuffer?(this.data=f,this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+b+M,2*n),this._pos=2*n,this._finished=!0):(this.data=new ArrayBuffer(8+x+b+M),this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+b+M,2*n),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+v]),new Uint16Array(this.data,2,1)[0]=s,new Uint32Array(this.data,4,1)[0]=n)}add(n,s){const d=this._pos>>1;return this.ids[d]=d,this.coords[this._pos++]=n,this.coords[this._pos++]=s,d}finish(){const n=this._pos>>1;if(n!==this.numItems)throw new Error(`Added ${n} items when expected ${this.numItems}.`);return Cf(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(n,s,d,f){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:v,coords:x,nodeSize:b}=this,M=[0,v.length-1,0],A=[];for(;M.length;){const I=M.pop()||0,R=M.pop()||0,$=M.pop()||0;if(R-$<=b){for(let se=$;se<=R;se++){const ce=x[2*se],_e=x[2*se+1];ce>=n&&ce<=d&&_e>=s&&_e<=f&&A.push(v[se])}continue}const U=$+R>>1,H=x[2*U],Y=x[2*U+1];H>=n&&H<=d&&Y>=s&&Y<=f&&A.push(v[U]),(I===0?n<=H:s<=Y)&&(M.push($),M.push(U-1),M.push(1-I)),(I===0?d>=H:f>=Y)&&(M.push(U+1),M.push(R),M.push(1-I))}return A}within(n,s,d){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:f,coords:v,nodeSize:x}=this,b=[0,f.length-1,0],M=[],A=d*d;for(;b.length;){const I=b.pop()||0,R=b.pop()||0,$=b.pop()||0;if(R-$<=x){for(let se=$;se<=R;se++)E3(v[2*se],v[2*se+1],n,s)<=A&&M.push(f[se]);continue}const U=$+R>>1,H=v[2*U],Y=v[2*U+1];E3(H,Y,n,s)<=A&&M.push(f[U]),(I===0?n-d<=H:s-d<=Y)&&(b.push($),b.push(U-1),b.push(1-I)),(I===0?n+d>=H:s+d>=Y)&&(b.push(U+1),b.push(R),b.push(1-I))}return M}}function Cf(o,n,s,d,f,v){if(f-d<=s)return;const x=d+f>>1;M3(o,n,x,d,f,v),Cf(o,n,s,d,x-1,1-v),Cf(o,n,s,x+1,f,1-v)}function M3(o,n,s,d,f,v){for(;f>d;){if(f-d>600){const A=f-d+1,I=s-d+1,R=Math.log(A),$=.5*Math.exp(2*R/3),U=.5*Math.sqrt(R*$*(A-$)/A)*(I-A/2<0?-1:1);M3(o,n,s,Math.max(d,Math.floor(s-I*$/A+U)),Math.min(f,Math.floor(s+(A-I)*$/A+U)),v)}const x=n[2*s+v];let b=d,M=f;for(kc(o,n,d,s),n[2*f+v]>x&&kc(o,n,d,f);b<M;){for(kc(o,n,b,M),b++,M--;n[2*b+v]<x;)b++;for(;n[2*M+v]>x;)M--}n[2*d+v]===x?kc(o,n,d,M):(M++,kc(o,n,M,f)),M<=s&&(d=M+1),s<=M&&(f=M-1)}}function kc(o,n,s,d){Mf(o,s,d),Mf(n,2*s,2*d),Mf(n,2*s+1,2*d+1)}function Mf(o,n,s){const d=o[n];o[n]=o[s],o[s]=d}function E3(o,n,s,d){const f=o-s,v=n-d;return f*f+v*v}var Ef;u.bg=void 0,(Ef=u.bg||(u.bg={})).create="create",Ef.load="load",Ef.fullLoad="fullLoad";let Jh=null,Ac=[];const kf=1e3/60,Af="loadTime",Pf="fullLoadTime",$w={mark(o){performance.mark(o)},frame(o){const n=o;Jh!=null&&Ac.push(n-Jh),Jh=n},clearMetrics(){Jh=null,Ac=[],performance.clearMeasures(Af),performance.clearMeasures(Pf);for(const o in u.bg)performance.clearMarks(u.bg[o])},getPerformanceMetrics(){performance.measure(Af,u.bg.create,u.bg.load),performance.measure(Pf,u.bg.create,u.bg.fullLoad);const o=performance.getEntriesByName(Af)[0].duration,n=performance.getEntriesByName(Pf)[0].duration,s=Ac.length,d=1/(Ac.reduce((v,x)=>v+x,0)/s/1e3),f=Ac.filter(v=>v>kf).reduce((v,x)=>v+(x-kf)/kf,0);return{loadTime:o,fullLoadTime:n,fps:d,percentDroppedFrames:f/(s+f)*100,totalFrames:s}}};u.$=function(o,n,s){var d,f,v,x,b,M,A,I,R,$,U,H,Y=s[0],se=s[1],ce=s[2];return n===o?(o[12]=n[0]*Y+n[4]*se+n[8]*ce+n[12],o[13]=n[1]*Y+n[5]*se+n[9]*ce+n[13],o[14]=n[2]*Y+n[6]*se+n[10]*ce+n[14],o[15]=n[3]*Y+n[7]*se+n[11]*ce+n[15]):(f=n[1],v=n[2],x=n[3],b=n[4],M=n[5],A=n[6],I=n[7],R=n[8],$=n[9],U=n[10],H=n[11],o[0]=d=n[0],o[1]=f,o[2]=v,o[3]=x,o[4]=b,o[5]=M,o[6]=A,o[7]=I,o[8]=R,o[9]=$,o[10]=U,o[11]=H,o[12]=d*Y+b*se+R*ce+n[12],o[13]=f*Y+M*se+$*ce+n[13],o[14]=v*Y+A*se+U*ce+n[14],o[15]=x*Y+I*se+H*ce+n[15]),o},u.A=x1,u.B=ui,u.C=class{constructor(o,n,s){this.receive=d=>{const f=d.data,v=f.id;if(v&&(!f.targetMapId||this.mapId===f.targetMapId))if(f.type==="<cancel>"){delete this.tasks[v];const x=this.cancelCallbacks[v];delete this.cancelCallbacks[v],x&&x()}else Ie()||f.mustQueue?(this.tasks[v]=f,this.taskQueue.push(v),this.invoker.trigger()):this.processTask(v,f)},this.process=()=>{if(!this.taskQueue.length)return;const d=this.taskQueue.shift(),f=this.tasks[d];delete this.tasks[d],this.taskQueue.length&&this.invoker.trigger(),f&&this.processTask(d,f)},this.target=o,this.parent=n,this.mapId=s,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new Tw(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Ie()?o:window}send(o,n,s,d,f=!1){const v=Math.round(1e18*Math.random()).toString(36).substring(0,10);s&&(this.callbacks[v]=s);const x=[],b={id:v,type:o,hasCallback:!!s,targetMapId:d,mustQueue:f,sourceMapId:this.mapId,data:la(n,x)};return this.target.postMessage(b,{transfer:x}),{cancel:()=>{s&&delete this.callbacks[v],this.target.postMessage({id:v,type:"<cancel>",targetMapId:d,sourceMapId:this.mapId})}}}processTask(o,n){if(n.type==="<response>"){const s=this.callbacks[o];delete this.callbacks[o],s&&(n.error?s(us(n.error)):s(null,us(n.data)))}else{let s=!1;const d=[],f=n.hasCallback?(b,M)=>{s=!0,delete this.cancelCallbacks[o];const A={id:o,type:"<response>",sourceMapId:this.mapId,error:b?la(b):null,data:la(M,d)};this.target.postMessage(A,{transfer:d})}:b=>{s=!0};let v=null;const x=us(n.data);if(this.parent[n.type])v=this.parent[n.type](n.sourceMapId,x,f);else if("getWorkerSource"in this.parent){const b=n.type.split(".");v=this.parent.getWorkerSource(n.sourceMapId,b[0],x.source)[b[1]](x,f)}else f(new Error(`Could not find function ${n.type}`));!s&&v&&v.cancel&&(this.cancelCallbacks[o]=v.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},u.D=_t,u.E=pn,u.F=function(o,n){const s={};for(let d=0;d<n.length;d++){const f=n[d];f in o&&(s[f]=o[f])}return s},u.G=t3,u.H=n3,u.I=cf,u.J=B,u.K=W,u.L=gs,u.M=Ze,u.N=Jn,u.O=Ui,u.P=z,u.Q=Tn,u.R=Wi,u.S=_n,u.T=Eh,u.U=Zh,u.V=class extends Ea{},u.W=xf,u.X=function(o,n){const s=window.document.createElement("video");s.muted=!0,s.onloadstart=function(){n(null,s)};for(let d=0;d<o.length;d++){const f=window.document.createElement("source");Kn(o[d])||(s.crossOrigin="Anonymous"),f.src=o[d],s.appendChild(f)}return{cancel:()=>{}}},u.Y=Ye,u.Z=function(){var o=new x1(16);return x1!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0),o[0]=1,o[5]=1,o[10]=1,o[15]=1,o},u._=E,u.a=Re,u.a$=class extends V{},u.a0=function(o,n,s){var d=s[0],f=s[1],v=s[2];return o[0]=n[0]*d,o[1]=n[1]*d,o[2]=n[2]*d,o[3]=n[3]*d,o[4]=n[4]*f,o[5]=n[5]*f,o[6]=n[6]*f,o[7]=n[7]*f,o[8]=n[8]*v,o[9]=n[9]*v,o[10]=n[10]*v,o[11]=n[11]*v,o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15],o},u.a1=ag,u.a2=function(){return Te++},u.a3=oe,u.a4=E1,u.a5=function(){hi.isLoading()||hi.isLoaded()||nc()!=="deferred"||Mh()},u.a6=Hu,u.a7=cl,u.a8=vn,u.a9=l3,u.aA=il,u.aB=function(o){o=o.slice();const n=Object.create(null);for(let s=0;s<o.length;s++)n[o[s].id]=o[s];for(let s=0;s<o.length;s++)"ref"in o[s]&&(o[s]=Kt(o[s],n[o[s].ref]));return o},u.aC=function(o){if(o.type==="custom")return new Pw(o);switch(o.type){case"background":return new Ew(o);case"circle":return new db(o);case"fill":return new Ib(o);case"fill-extrusion":return new Zb(o);case"heatmap":return new pb(o);case"hillshade":return new mb(o);case"line":return new ew(o);case"raster":return new Aw(o);case"symbol":return new Hh(o)}},u.aD=He,u.aE=function(o,n){if(!o)return[{command:Zt.setStyle,args:[n]}];let s=[];try{if(!Ot(o.version,n.version))return[{command:Zt.setStyle,args:[n]}];Ot(o.center,n.center)||s.push({command:Zt.setCenter,args:[n.center]}),Ot(o.zoom,n.zoom)||s.push({command:Zt.setZoom,args:[n.zoom]}),Ot(o.bearing,n.bearing)||s.push({command:Zt.setBearing,args:[n.bearing]}),Ot(o.pitch,n.pitch)||s.push({command:Zt.setPitch,args:[n.pitch]}),Ot(o.sprite,n.sprite)||s.push({command:Zt.setSprite,args:[n.sprite]}),Ot(o.glyphs,n.glyphs)||s.push({command:Zt.setGlyphs,args:[n.glyphs]}),Ot(o.transition,n.transition)||s.push({command:Zt.setTransition,args:[n.transition]}),Ot(o.light,n.light)||s.push({command:Zt.setLight,args:[n.light]});const d={},f=[];(function(x,b,M,A){let I;for(I in b=b||{},x=x||{})Object.prototype.hasOwnProperty.call(x,I)&&(Object.prototype.hasOwnProperty.call(b,I)||na(I,M,A));for(I in b)Object.prototype.hasOwnProperty.call(b,I)&&(Object.prototype.hasOwnProperty.call(x,I)?Ot(x[I],b[I])||(x[I].type==="geojson"&&b[I].type==="geojson"&&Ya(x,b,I)?M.push({command:Zt.setGeoJSONSourceData,args:[I,b[I].data]}):Vi(I,b,M,A)):Ci(I,b,M))})(o.sources,n.sources,f,d);const v=[];o.layers&&o.layers.forEach(x=>{d[x.source]?s.push({command:Zt.removeLayer,args:[x.id]}):v.push(x)}),s=s.concat(f),function(x,b,M){b=b||[];const A=(x=x||[]).map(uo),I=b.map(uo),R=x.reduce(Io,{}),$=b.reduce(Io,{}),U=A.slice(),H=Object.create(null);let Y,se,ce,_e,fe,be,Ee;for(Y=0,se=0;Y<A.length;Y++)ce=A[Y],Object.prototype.hasOwnProperty.call($,ce)?se++:(M.push({command:Zt.removeLayer,args:[ce]}),U.splice(U.indexOf(ce,se),1));for(Y=0,se=0;Y<I.length;Y++)ce=I[I.length-1-Y],U[U.length-1-Y]!==ce&&(Object.prototype.hasOwnProperty.call(R,ce)?(M.push({command:Zt.removeLayer,args:[ce]}),U.splice(U.lastIndexOf(ce,U.length-se),1)):se++,be=U[U.length-Y],M.push({command:Zt.addLayer,args:[$[ce],be]}),U.splice(U.length-Y,0,ce),H[ce]=!0);for(Y=0;Y<I.length;Y++)if(ce=I[Y],_e=R[ce],fe=$[ce],!H[ce]&&!Ot(_e,fe))if(Ot(_e.source,fe.source)&&Ot(_e["source-layer"],fe["source-layer"])&&Ot(_e.type,fe.type)){for(Ee in ra(_e.layout,fe.layout,M,ce,null,Zt.setLayoutProperty),ra(_e.paint,fe.paint,M,ce,null,Zt.setPaintProperty),Ot(_e.filter,fe.filter)||M.push({command:Zt.setFilter,args:[ce,fe.filter]}),Ot(_e.minzoom,fe.minzoom)&&Ot(_e.maxzoom,fe.maxzoom)||M.push({command:Zt.setLayerZoomRange,args:[ce,fe.minzoom,fe.maxzoom]}),_e)Object.prototype.hasOwnProperty.call(_e,Ee)&&Ee!=="layout"&&Ee!=="paint"&&Ee!=="filter"&&Ee!=="metadata"&&Ee!=="minzoom"&&Ee!=="maxzoom"&&(Ee.indexOf("paint.")===0?ra(_e[Ee],fe[Ee],M,ce,Ee.slice(6),Zt.setPaintProperty):Ot(_e[Ee],fe[Ee])||M.push({command:Zt.setLayerProperty,args:[ce,Ee,fe[Ee]]}));for(Ee in fe)Object.prototype.hasOwnProperty.call(fe,Ee)&&!Object.prototype.hasOwnProperty.call(_e,Ee)&&Ee!=="layout"&&Ee!=="paint"&&Ee!=="filter"&&Ee!=="metadata"&&Ee!=="minzoom"&&Ee!=="maxzoom"&&(Ee.indexOf("paint.")===0?ra(_e[Ee],fe[Ee],M,ce,Ee.slice(6),Zt.setPaintProperty):Ot(_e[Ee],fe[Ee])||M.push({command:Zt.setLayerProperty,args:[ce,Ee,fe[Ee]]}))}else M.push({command:Zt.removeLayer,args:[ce]}),be=U[U.lastIndexOf(ce)+1],M.push({command:Zt.addLayer,args:[fe,be]})}(v,n.layers,s)}catch(d){console.warn("Unable to compute style diff:",d),s=[{command:Zt.setStyle,args:[n]}]}return s},u.aF=function(o){const n=[],s=o.id;return s===void 0&&n.push({message:`layers.${s}: missing required property "id"`}),o.render===void 0&&n.push({message:`layers.${s}: missing required method "render"`}),o.renderingMode&&o.renderingMode!=="2d"&&o.renderingMode!=="3d"&&n.push({message:`layers.${s}: property "renderingMode" must be either "2d" or "3d"`}),n},u.aG=function o(n,s){if(Array.isArray(n)){if(!Array.isArray(s)||n.length!==s.length)return!1;for(let d=0;d<n.length;d++)if(!o(n[d],s[d]))return!1;return!0}if(typeof n=="object"&&n!==null&&s!==null){if(typeof s!="object"||Object.keys(n).length!==Object.keys(s).length)return!1;for(const d in n)if(!o(n[d],s[d]))return!1;return!0}return n===s},u.aH=Me,u.aI=Be,u.aJ=ol,u.aK=function(o){return o({pluginStatus:Kr,pluginURL:ua}),ol.on("pluginStateChange",o),o},u.aL=class extends Pa{constructor(o,n){super(o,n),this.current=0}set(o){this.current!==o&&(this.current=o,this.gl.uniform1i(this.location,o))}},u.aM=v1,u.aN=class extends Pa{constructor(o,n){super(o,n),this.current=j0}set(o){if(o[12]!==this.current[12]||o[0]!==this.current[0])return this.current=o,void this.gl.uniformMatrix4fv(this.location,!1,o);for(let n=1;n<16;n++)if(o[n]!==this.current[n]){this.current=o,this.gl.uniformMatrix4fv(this.location,!1,o);break}}},u.aO=Th,u.aP=class extends Pa{constructor(o,n){super(o,n),this.current=[0,0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]||(this.current=o,this.gl.uniform3f(this.location,o[0],o[1],o[2]))}},u.aQ=class extends Pa{constructor(o,n){super(o,n),this.current=[0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]||(this.current=o,this.gl.uniform2f(this.location,o[0],o[1]))}},u.aR=Ih,u.aS=function(o,n,s,d,f,v,x){var b=1/(n-s),M=1/(d-f),A=1/(v-x);return o[0]=-2*b,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*M,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*A,o[11]=0,o[12]=(n+s)*b,o[13]=(f+d)*M,o[14]=(x+v)*A,o[15]=1,o},u.aT=un,u.aU=cb,u.aV=class extends h{},u.aW=iw,u.aX=class extends _{},u.aY=function(o){return o<=1?1:Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))},u.aZ=dg,u.a_=Ke,u.aa=function(o){const n={};if(o.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(s,d,f,v)=>{const x=f||v;return n[d]=!x||x.toLowerCase(),""}),n["max-age"]){const s=parseInt(n["max-age"],10);isNaN(s)?delete n["max-age"]:n["max-age"]=s}return n},u.ab=function(o,n){const s=[];for(const d in o)d in n||s.push(d);return s},u.ac=function(o){if(we==null){const n=o.navigator?o.navigator.userAgent:null;we=!!o.safari||!(!n||!(/\b(iPad|iPhone|iPod)\b/.test(n)||n.match("Safari")&&!n.match("Chrome")))}return we},u.ad=he,u.ae=function(o,n,s){var d=Math.sin(s),f=Math.cos(s),v=n[0],x=n[1],b=n[2],M=n[3],A=n[4],I=n[5],R=n[6],$=n[7];return n!==o&&(o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15]),o[0]=v*f+A*d,o[1]=x*f+I*d,o[2]=b*f+R*d,o[3]=M*f+$*d,o[4]=A*f-v*d,o[5]=I*f-x*d,o[6]=R*f-b*d,o[7]=$*f-M*d,o},u.af=function(o){var n=new x1(16);return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],n[9]=o[9],n[10]=o[10],n[11]=o[11],n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15],n},u.ag=zh,u.ah=function(o,n){let s=0,d=0;if(o.kind==="constant")d=o.layoutSize;else if(o.kind!=="source"){const{interpolationType:f,minZoom:v,maxZoom:x}=o,b=f?he(ci.interpolationFactor(f,n,v,x),0,1):0;o.kind==="camera"?d=ui.number(o.minSize,o.maxSize,b):s=b}return{uSizeT:s,uSize:d}},u.aj=function(o,{uSize:n,uSizeT:s},{lowerSize:d,upperSize:f}){return o.kind==="source"?d/da:o.kind==="composite"?ui.number(d/da,f/da,s):n},u.ak=ff,u.al=function(o,n,s,d){const f=n.y-o.y,v=n.x-o.x,x=d.y-s.y,b=d.x-s.x,M=x*v-b*f;if(M===0)return null;const A=(b*(o.y-s.y)-x*(o.x-s.x))/M;return new z(o.x+A*v,o.y+A*f)},u.am=h3,u.an=eg,u.ao=Z0,u.ap=ar,u.ar=pf,u.as=function(o,n){var s=n[0],d=n[1],f=n[2],v=n[3],x=n[4],b=n[5],M=n[6],A=n[7],I=n[8],R=n[9],$=n[10],U=n[11],H=n[12],Y=n[13],se=n[14],ce=n[15],_e=s*b-d*x,fe=s*M-f*x,be=s*A-v*x,Ee=d*M-f*b,Oe=d*A-v*b,lt=f*A-v*M,gt=I*Y-R*H,ot=I*se-$*H,it=I*ce-U*H,et=R*se-$*Y,dt=R*ce-U*Y,nt=$*ce-U*se,Ge=_e*nt-fe*dt+be*et+Ee*it-Oe*ot+lt*gt;return Ge?(o[0]=(b*nt-M*dt+A*et)*(Ge=1/Ge),o[1]=(f*dt-d*nt-v*et)*Ge,o[2]=(Y*lt-se*Oe+ce*Ee)*Ge,o[3]=($*Oe-R*lt-U*Ee)*Ge,o[4]=(M*it-x*nt-A*ot)*Ge,o[5]=(s*nt-f*it+v*ot)*Ge,o[6]=(se*be-H*lt-ce*fe)*Ge,o[7]=(I*lt-$*be+U*fe)*Ge,o[8]=(x*dt-b*it+A*gt)*Ge,o[9]=(d*it-s*dt-v*gt)*Ge,o[10]=(H*Oe-Y*be+ce*_e)*Ge,o[11]=(R*be-I*Oe-U*_e)*Ge,o[12]=(b*ot-x*et-M*gt)*Ge,o[13]=(s*et-d*ot+f*gt)*Ge,o[14]=(Y*fe-H*Ee-se*_e)*Ge,o[15]=(I*Ee-R*fe+$*_e)*Ge,o):null},u.at=wf,u.au=hf,u.av=Sf,u.aw=function(){const o={},n=ke.$version;for(const s in ke.$root){const d=ke.$root[s];if(d.required){let f=null;f=s==="version"?n:d.type==="array"?[]:{},f!=null&&(o[s]=f)}}return o},u.ax=Zt,u.ay=bh,u.az=tr,u.b=function(o,n){const s=new Blob([new Uint8Array(o)],{type:"image/png"});createImageBitmap(s).then(d=>{n(null,d)}).catch(d=>{n(new Error(`Could not load image because of ${d.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},u.b0=_r,u.b1=function(o,n){var s=o[0],d=o[1],f=o[2],v=o[3],x=o[4],b=o[5],M=o[6],A=o[7],I=o[8],R=o[9],$=o[10],U=o[11],H=o[12],Y=o[13],se=o[14],ce=o[15],_e=n[0],fe=n[1],be=n[2],Ee=n[3],Oe=n[4],lt=n[5],gt=n[6],ot=n[7],it=n[8],et=n[9],dt=n[10],nt=n[11],Ge=n[12],wt=n[13],vt=n[14],Ft=n[15];return Math.abs(s-_e)<=Jr*Math.max(1,Math.abs(s),Math.abs(_e))&&Math.abs(d-fe)<=Jr*Math.max(1,Math.abs(d),Math.abs(fe))&&Math.abs(f-be)<=Jr*Math.max(1,Math.abs(f),Math.abs(be))&&Math.abs(v-Ee)<=Jr*Math.max(1,Math.abs(v),Math.abs(Ee))&&Math.abs(x-Oe)<=Jr*Math.max(1,Math.abs(x),Math.abs(Oe))&&Math.abs(b-lt)<=Jr*Math.max(1,Math.abs(b),Math.abs(lt))&&Math.abs(M-gt)<=Jr*Math.max(1,Math.abs(M),Math.abs(gt))&&Math.abs(A-ot)<=Jr*Math.max(1,Math.abs(A),Math.abs(ot))&&Math.abs(I-it)<=Jr*Math.max(1,Math.abs(I),Math.abs(it))&&Math.abs(R-et)<=Jr*Math.max(1,Math.abs(R),Math.abs(et))&&Math.abs($-dt)<=Jr*Math.max(1,Math.abs($),Math.abs(dt))&&Math.abs(U-nt)<=Jr*Math.max(1,Math.abs(U),Math.abs(nt))&&Math.abs(H-Ge)<=Jr*Math.max(1,Math.abs(H),Math.abs(Ge))&&Math.abs(Y-wt)<=Jr*Math.max(1,Math.abs(Y),Math.abs(wt))&&Math.abs(se-vt)<=Jr*Math.max(1,Math.abs(se),Math.abs(vt))&&Math.abs(ce-Ft)<=Jr*Math.max(1,Math.abs(ce),Math.abs(Ft))},u.b2=function(o,n){return o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15],o},u.b3=function(o,n,s){return o[0]=n[0]*s[0],o[1]=n[1]*s[1],o[2]=n[2]*s[2],o[3]=n[3]*s[3],o},u.b4=function(o,n){return o[0]*n[0]+o[1]*n[1]+o[2]*n[2]+o[3]*n[3]},u.b5=de,u.b6=o3,u.b7=r3,u.b8=function(o,n,s,d,f){var v,x=1/Math.tan(n/2);return o[0]=x/s,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=x,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=-1,o[12]=0,o[13]=0,o[15]=0,f!=null&&f!==1/0?(o[10]=(f+d)*(v=1/(d-f)),o[14]=2*f*d*v):(o[10]=-1,o[14]=-2*d),o},u.b9=function(o,n,s){var d=Math.sin(s),f=Math.cos(s),v=n[4],x=n[5],b=n[6],M=n[7],A=n[8],I=n[9],R=n[10],$=n[11];return n!==o&&(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15]),o[4]=v*f+A*d,o[5]=x*f+I*d,o[6]=b*f+R*d,o[7]=M*f+$*d,o[8]=A*f-v*d,o[9]=I*f-x*d,o[10]=R*f-b*d,o[11]=$*f-M*d,o},u.bA=Lg,u.bB=s1,u.bC=hi,u.ba=ne,u.bb=pe,u.bc=function(o,n){return o[0]=n[0],o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=n[1],o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=n[2],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},u.bd=class extends ll{},u.be=vf,u.bf=$w,u.bh=er,u.bi=function(o,n,s=!1){if(Kr===Ju||Kr===Yu||Kr===Qu)throw new Error("setRTLTextPlugin cannot be called multiple times.");ua=qt.resolveURL(o),Kr=Ju,ec=n,tc(),s||Mh()},u.bj=nc,u.bk=function(o,n){const s={};for(let f=0;f<o.length;f++){const v=n&&n[o[f].id]||d1(o[f]);n&&(n[o[f].id]=v);let x=s[v];x||(x=s[v]=[]),x.push(o[f])}const d=[];for(const f in s)d.push(s[f]);return d},u.bl=ct,u.bm=s3,u.bn=u3,u.bo=jg,u.bp=function(o){o.bucket.createArrays(),o.bucket.tilePixelRatio=Jn/(512*o.bucket.overscaling),o.bucket.compareText={},o.bucket.iconsNeedLinear=!1;const n=o.bucket.layers[0],s=n.layout,d=n._unevaluatedLayout._values,f={layoutIconSize:d["icon-size"].possiblyEvaluate(new vn(o.bucket.zoom+1),o.canonical),layoutTextSize:d["text-size"].possiblyEvaluate(new vn(o.bucket.zoom+1),o.canonical),textMaxSize:d["text-size"].possiblyEvaluate(new vn(18))};if(o.bucket.textSizeData.kind==="composite"){const{minZoom:A,maxZoom:I}=o.bucket.textSizeData;f.compositeTextSizes=[d["text-size"].possiblyEvaluate(new vn(A),o.canonical),d["text-size"].possiblyEvaluate(new vn(I),o.canonical)]}if(o.bucket.iconSizeData.kind==="composite"){const{minZoom:A,maxZoom:I}=o.bucket.iconSizeData;f.compositeIconSizes=[d["icon-size"].possiblyEvaluate(new vn(A),o.canonical),d["icon-size"].possiblyEvaluate(new vn(I),o.canonical)]}const v=s.get("text-line-height")*ar,x=s.get("text-rotation-alignment")!=="viewport"&&s.get("symbol-placement")!=="point",b=s.get("text-keep-upright"),M=s.get("text-size");for(const A of o.bucket.features){const I=s.get("text-font").evaluate(A,{},o.canonical).join(","),R=M.evaluate(A,{},o.canonical),$=f.layoutTextSize.evaluate(A,{},o.canonical),U=f.layoutIconSize.evaluate(A,{},o.canonical),H={horizontal:{},vertical:void 0},Y=A.text;let se,ce=[0,0];if(Y){const be=Y.toString(),Ee=s.get("text-letter-spacing").evaluate(A,{},o.canonical)*ar,Oe=Ku(be)?Ee:0,lt=s.get("text-anchor").evaluate(A,{},o.canonical),gt=b3(n,A,o.canonical);if(!gt){const nt=s.get("text-radial-offset").evaluate(A,{},o.canonical);ce=nt?x3(lt,[nt*ar,bf]):s.get("text-offset").evaluate(A,{},o.canonical).map(Ge=>Ge*ar)}let ot=x?"center":s.get("text-justify").evaluate(A,{},o.canonical);const it=s.get("symbol-placement"),et=it==="point"?s.get("text-max-width").evaluate(A,{},o.canonical)*ar:0,dt=()=>{o.bucket.allowVerticalPlacement&&qu(be)&&(H.vertical=Vh(Y,o.glyphMap,o.glyphPositions,o.imagePositions,I,et,v,lt,"left",Oe,ce,u.ai.vertical,!0,it,$,R))};if(!x&&gt){const nt=new Set;if(ot==="auto")for(let wt=0;wt<gt.values.length;wt+=2)nt.add(wf(gt.values[wt]));else nt.add(ot);let Ge=!1;for(const wt of nt)if(!H.horizontal[wt])if(Ge)H.horizontal[wt]=H.horizontal[0];else{const vt=Vh(Y,o.glyphMap,o.glyphPositions,o.imagePositions,I,et,v,"center",wt,Oe,ce,u.ai.horizontal,!1,it,$,R);vt&&(H.horizontal[wt]=vt,Ge=vt.positionedLines.length===1)}dt()}else{ot==="auto"&&(ot=wf(lt));const nt=Vh(Y,o.glyphMap,o.glyphPositions,o.imagePositions,I,et,v,lt,ot,Oe,ce,u.ai.horizontal,!1,it,$,R);nt&&(H.horizontal[ot]=nt),dt(),qu(be)&&x&&b&&(H.vertical=Vh(Y,o.glyphMap,o.glyphPositions,o.imagePositions,I,et,v,lt,ot,Oe,ce,u.ai.vertical,!1,it,$,R))}}let _e=!1;if(A.icon&&A.icon.name){const be=o.imageMap[A.icon.name];be&&(se=bw(o.imagePositions[A.icon.name],s.get("icon-offset").evaluate(A,{},o.canonical),s.get("icon-anchor").evaluate(A,{},o.canonical)),_e=!!be.sdf,o.bucket.sdfIcons===void 0?o.bucket.sdfIcons=_e:o.bucket.sdfIcons!==_e&&qe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(be.pixelRatio!==o.bucket.pixelRatio||s.get("icon-rotate").constantOr(1)!==0)&&(o.bucket.iconsNeedLinear=!0))}const fe=S3(H.horizontal)||H.vertical;o.bucket.iconsInText=!!fe&&fe.iconsInText,(fe||se)&&Ow(o.bucket,A,H,se,o.imageMap,f,$,U,ce,_e,o.canonical)}o.showCollisionBoxes&&o.bucket.generateCollisionDebugBuffers()},u.bq=af,u.br=nf,u.bs=of,u.bt=class{constructor(o){this._marks={start:[o.url,"start"].join("#"),end:[o.url,"end"].join("#"),measure:o.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let o=performance.getEntriesByName(this._marks.measure);return o.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),o=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),o}},u.bu=lf,u.bv=ps,u.bw=function(o,n,s,d,f){return E(this,void 0,void 0,function*(){if(W())try{return yield Ze(o,n,s,d,f)}catch{}return function(v,x,b,M,A){const I=v.width,R=v.height;at&&ut||(at=new OffscreenCanvas(I,R),ut=at.getContext("2d",{willReadFrequently:!0})),at.width=I,at.height=R,ut.drawImage(v,0,0,I,R);const $=ut.getImageData(x,b,M,A);return ut.clearRect(0,0,I,R),$.data}(o,n,s,d,f)})},u.bx=a3,u.by=C,u.bz=P,u.c=ln,u.d=function(o,n){const s=new Image;s.onload=()=>{n(null,s),URL.revokeObjectURL(s.src),s.onload=null,window.requestAnimationFrame(()=>{s.src=Ve})},s.onerror=()=>n(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const d=new Blob([new Uint8Array(o)],{type:"image/png"});s.src=o.byteLength?URL.createObjectURL(d):Ve},u.e=Se,u.f=function(o,n){return Mr(Se(o,{type:"json"}),n)},u.g=Nn,u.h=qt,u.i=Ie,u.j=gr,u.k=Er,u.l=nn,u.m=Mr,u.n=function(o){return new lf(o).readFields(mw,[])},u.o=function(o,n,s){if(!o.length)return s(null,[]);let d=o.length;const f=new Array(o.length);let v=null;o.forEach((x,b)=>{n(x,(M,A)=>{M&&(v=M),f[b]=A,--d==0&&s(v,f)})})},u.p=$g,u.q=mc,u.r=Wn,u.s=Kn,u.t=N0,u.u=st,u.v=ke,u.w=qe,u.x=f1,u.y=zo,u.z=function([o,n,s]){return n+=90,n*=Math.PI/180,s*=Math.PI/180,{x:o*Math.cos(n)*Math.sin(s),y:o*Math.sin(n)*Math.sin(s),z:o*Math.cos(s)}}}),p(["./shared"],function(u){class E{constructor(N){this.keyCache={},N&&this.replace(N)}replace(N){this._layerConfigs={},this._layers={},this.update(N,[])}update(N,j){for(const re of N){this._layerConfigs[re.id]=re;const ae=this._layers[re.id]=u.aC(re);ae._featureFilter=u.a6(ae.filter),this.keyCache[re.id]&&delete this.keyCache[re.id]}for(const re of j)delete this.keyCache[re],delete this._layerConfigs[re],delete this._layers[re];this.familiesBySource={};const q=u.bk(Object.values(this._layerConfigs),this.keyCache);for(const re of q){const ae=re.map(ze=>this._layers[ze.id]),xe=ae[0];if(xe.visibility==="none")continue;const me=xe.source||"";let ue=this.familiesBySource[me];ue||(ue=this.familiesBySource[me]={});const ye=xe.sourceLayer||"_geojsonTileLayer";let De=ue[ye];De||(De=ue[ye]=[]),De.push(ae)}}}class C{constructor(N){const j={},q=[];for(const me in N){const ue=N[me],ye=j[me]={};for(const De in ue){const ze=ue[+De];if(!ze||ze.bitmap.width===0||ze.bitmap.height===0)continue;const $e={x:0,y:0,w:ze.bitmap.width+2,h:ze.bitmap.height+2};q.push($e),ye[De]={rect:$e,metrics:ze.metrics}}}const{w:re,h:ae}=u.p(q),xe=new u.q({width:re||1,height:ae||1});for(const me in N){const ue=N[me];for(const ye in ue){const De=ue[+ye];if(!De||De.bitmap.width===0||De.bitmap.height===0)continue;const ze=j[me][ye].rect;u.q.copy(De.bitmap,xe,{x:0,y:0},{x:ze.x+1,y:ze.y+1},De.bitmap)}}this.image=xe,this.positions=j}}u.bl("GlyphAtlas",C);class P{constructor(N){this.tileID=new u.O(N.tileID.overscaledZ,N.tileID.wrap,N.tileID.canonical.z,N.tileID.canonical.x,N.tileID.canonical.y),this.uid=N.uid,this.zoom=N.zoom,this.pixelRatio=N.pixelRatio,this.tileSize=N.tileSize,this.source=N.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=N.showCollisionBoxes,this.collectResourceTiming=!!N.collectResourceTiming,this.returnDependencies=!!N.returnDependencies,this.promoteId=N.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(N,j,q,re,ae){this.status="parsing",this.data=N,this.collisionBoxArray=new u.a3;const xe=new u.bm(Object.keys(N.layers).sort()),me=new u.bn(this.tileID,this.promoteId);me.bucketLayerIDs=[];const ue={},ye={featureIndex:me,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:q},De=j.familiesBySource[this.source];for(const Gt in De){const Ht=N.layers[Gt];if(!Ht)continue;Ht.version===1&&u.w(`Vector tile source "${this.source}" layer "${Gt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const kr=xe.encode(Gt),fn=[];for(let Xn=0;Xn<Ht.length;Xn++){const yr=Ht.feature(Xn),Ai=me.getId(yr,Gt);fn.push({feature:yr,id:Ai,index:Xn,sourceLayerIndex:kr})}for(const Xn of De[Gt]){const yr=Xn[0];yr.source!==this.source&&u.w(`layer.source = ${yr.source} does not equal this.source = ${this.source}`),yr.minzoom&&this.zoom<Math.floor(yr.minzoom)||yr.maxzoom&&this.zoom>=yr.maxzoom||yr.visibility!=="none"&&(F(Xn,this.zoom,q),(ue[yr.id]=yr.createBucket({index:me.bucketLayerIDs.length,layers:Xn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:kr,sourceID:this.source})).populate(fn,ye,this.tileID.canonical),me.bucketLayerIDs.push(Xn.map(Ai=>Ai.id)))}}let ze,$e,pt,At;const ft=u.aH(ye.glyphDependencies,Gt=>Object.keys(Gt).map(Number));this.inFlightDependencies.forEach(Gt=>Gt==null?void 0:Gt.cancel()),this.inFlightDependencies=[];const St=++this.dependencySentinel;Object.keys(ft).length?this.inFlightDependencies.push(re.send("getGlyphs",{uid:this.uid,stacks:ft,source:this.source,tileID:this.tileID,type:"glyphs"},(Gt,Ht)=>{St===this.dependencySentinel&&(ze||(ze=Gt,$e=Ht,dn.call(this)))})):$e={};const It=Object.keys(ye.iconDependencies);It.length?this.inFlightDependencies.push(re.send("getImages",{icons:It,source:this.source,tileID:this.tileID,type:"icons"},(Gt,Ht)=>{St===this.dependencySentinel&&(ze||(ze=Gt,pt=Ht,dn.call(this)))})):pt={};const rn=Object.keys(ye.patternDependencies);function dn(){if(ze)return ae(ze);if($e&&pt&&At){const Gt=new C($e),Ht=new u.bo(pt,At);for(const kr in ue){const fn=ue[kr];fn instanceof u.a4?(F(fn.layers,this.zoom,q),u.bp({bucket:fn,glyphMap:$e,glyphPositions:Gt.positions,imageMap:pt,imagePositions:Ht.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):fn.hasPattern&&(fn instanceof u.bq||fn instanceof u.br||fn instanceof u.bs)&&(F(fn.layers,this.zoom,q),fn.addFeatures(ye,this.tileID.canonical,Ht.patternPositions))}this.status="done",ae(null,{buckets:Object.values(ue).filter(kr=>!kr.isEmpty()),featureIndex:me,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Gt.image,imageAtlas:Ht,glyphMap:this.returnDependencies?$e:null,iconMap:this.returnDependencies?pt:null,glyphPositions:this.returnDependencies?Gt.positions:null})}}rn.length?this.inFlightDependencies.push(re.send("getImages",{icons:rn,source:this.source,tileID:this.tileID,type:"patterns"},(Gt,Ht)=>{St===this.dependencySentinel&&(ze||(ze=Gt,At=Ht,dn.call(this)))})):At={},dn.call(this)}}function F(ie,N,j){const q=new u.a8(N);for(const re of ie)re.recalculate(q,j)}function z(ie,N){const j=u.l(ie.request,(q,re,ae,xe)=>{if(q)N(q);else if(re)try{const me=new u.bv.VectorTile(new u.bu(re));N(null,{vectorTile:me,rawData:re,cacheControl:ae,expires:xe})}catch(me){const ue=new Uint8Array(re);let ye=`Unable to parse the tile at ${ie.request.url}, `;ye+=ue[0]===31&&ue[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${me.messge}`,N(new Error(ye))}});return()=>{j.cancel(),N()}}class X{constructor(N,j,q,re){this.actor=N,this.layerIndex=j,this.availableImages=q,this.loadVectorData=re||z,this.fetching={},this.loading={},this.loaded={}}loadTile(N,j){const q=N.uid;this.loading||(this.loading={});const re=!!(N&&N.request&&N.request.collectResourceTiming)&&new u.bt(N.request),ae=this.loading[q]=new P(N);ae.abort=this.loadVectorData(N,(xe,me)=>{if(delete this.loading[q],xe||!me)return ae.status="done",this.loaded[q]=ae,j(xe);const ue=me.rawData,ye={};me.expires&&(ye.expires=me.expires),me.cacheControl&&(ye.cacheControl=me.cacheControl);const De={};if(re){const ze=re.finish();ze&&(De.resourceTiming=JSON.parse(JSON.stringify(ze)))}ae.vectorTile=me.vectorTile,ae.parse(me.vectorTile,this.layerIndex,this.availableImages,this.actor,(ze,$e)=>{if(delete this.fetching[q],ze||!$e)return j(ze);j(null,u.e({rawTileData:ue.slice(0)},$e,ye,De))}),this.loaded=this.loaded||{},this.loaded[q]=ae,this.fetching[q]={rawTileData:ue,cacheControl:ye,resourceTiming:De}})}reloadTile(N,j){const q=this.loaded,re=N.uid;if(q&&q[re]){const ae=q[re];ae.showCollisionBoxes=N.showCollisionBoxes,ae.status==="parsing"?ae.parse(ae.vectorTile,this.layerIndex,this.availableImages,this.actor,(xe,me)=>{if(xe||!me)return j(xe,me);let ue;if(this.fetching[re]){const{rawTileData:ye,cacheControl:De,resourceTiming:ze}=this.fetching[re];delete this.fetching[re],ue=u.e({rawTileData:ye.slice(0)},me,De,ze)}else ue=me;j(null,ue)}):ae.status==="done"&&(ae.vectorTile?ae.parse(ae.vectorTile,this.layerIndex,this.availableImages,this.actor,j):j())}}abortTile(N,j){const q=this.loading,re=N.uid;q&&q[re]&&q[re].abort&&(q[re].abort(),delete q[re]),j()}removeTile(N,j){const q=this.loaded,re=N.uid;q&&q[re]&&delete q[re],j()}}class K{constructor(){this.loaded={}}loadTile(N,j){return u._(this,void 0,void 0,function*(){const{uid:q,encoding:re,rawImageData:ae,redFactor:xe,greenFactor:me,blueFactor:ue,baseShift:ye}=N,De=ae.width+2,ze=ae.height+2,$e=u.a(ae)?new u.R({width:De,height:ze},yield u.bw(ae,-1,-1,De,ze)):ae,pt=new u.bx(q,$e,re,xe,me,ue,ye);this.loaded=this.loaded||{},this.loaded[q]=pt,j(null,pt)})}removeTile(N){const j=this.loaded,q=N.uid;j&&j[q]&&delete j[q]}}function G(ie,N){if(ie.length!==0){ee(ie[0],N);for(var j=1;j<ie.length;j++)ee(ie[j],!N)}}function ee(ie,N){for(var j=0,q=0,re=0,ae=ie.length,xe=ae-1;re<ae;xe=re++){var me=(ie[re][0]-ie[xe][0])*(ie[xe][1]+ie[re][1]),ue=j+me;q+=Math.abs(j)>=Math.abs(me)?j-ue+me:me-ue+j,j=ue}j+q>=0!=!!N&&ie.reverse()}var O=u.by(function ie(N,j){var q,re=N&&N.type;if(re==="FeatureCollection")for(q=0;q<N.features.length;q++)ie(N.features[q],j);else if(re==="GeometryCollection")for(q=0;q<N.geometries.length;q++)ie(N.geometries[q],j);else if(re==="Feature")ie(N.geometry,j);else if(re==="Polygon")G(N.coordinates,j);else if(re==="MultiPolygon")for(q=0;q<N.coordinates.length;q++)G(N.coordinates[q],j);return N});const B=u.bv.VectorTileFeature.prototype.toGeoJSON;var W={exports:{}},ne=u.bz,pe=u.bv.VectorTileFeature,he=de;function de(ie,N){this.options=N||{},this.features=ie,this.length=ie.length}function Se(ie,N){this.id=typeof ie.id=="number"?ie.id:void 0,this.type=ie.type,this.rawGeometry=ie.type===1?[ie.geometry]:ie.geometry,this.properties=ie.tags,this.extent=N||4096}de.prototype.feature=function(ie){return new Se(this.features[ie],this.options.extent)},Se.prototype.loadGeometry=function(){var ie=this.rawGeometry;this.geometry=[];for(var N=0;N<ie.length;N++){for(var j=ie[N],q=[],re=0;re<j.length;re++)q.push(new ne(j[re][0],j[re][1]));this.geometry.push(q)}return this.geometry},Se.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ie=this.geometry,N=1/0,j=-1/0,q=1/0,re=-1/0,ae=0;ae<ie.length;ae++)for(var xe=ie[ae],me=0;me<xe.length;me++){var ue=xe[me];N=Math.min(N,ue.x),j=Math.max(j,ue.x),q=Math.min(q,ue.y),re=Math.max(re,ue.y)}return[N,q,j,re]},Se.prototype.toGeoJSON=pe.prototype.toGeoJSON;var Te=u.bA,Me=he;function Be(ie){var N=new Te;return function(j,q){for(var re in j.layers)q.writeMessage(3,He,j.layers[re])}(ie,N),N.finish()}function He(ie,N){var j;N.writeVarintField(15,ie.version||1),N.writeStringField(1,ie.name||""),N.writeVarintField(5,ie.extent||4096);var q={keys:[],values:[],keycache:{},valuecache:{}};for(j=0;j<ie.length;j++)q.feature=ie.feature(j),N.writeMessage(2,We,q);var re=q.keys;for(j=0;j<re.length;j++)N.writeStringField(3,re[j]);var ae=q.values;for(j=0;j<ae.length;j++)N.writeMessage(4,we,ae[j])}function We(ie,N){var j=ie.feature;j.id!==void 0&&N.writeVarintField(1,j.id),N.writeMessage(2,qe,ie),N.writeVarintField(3,j.type),N.writeMessage(4,Ie,j)}function qe(ie,N){var j=ie.feature,q=ie.keys,re=ie.values,ae=ie.keycache,xe=ie.valuecache;for(var me in j.properties){var ue=j.properties[me],ye=ae[me];if(ue!==null){ye===void 0&&(q.push(me),ae[me]=ye=q.length-1),N.writeVarint(ye);var De=typeof ue;De!=="string"&&De!=="boolean"&&De!=="number"&&(ue=JSON.stringify(ue));var ze=De+":"+ue,$e=xe[ze];$e===void 0&&(re.push(ue),xe[ze]=$e=re.length-1),N.writeVarint($e)}}}function Je(ie,N){return(N<<3)+(7&ie)}function Le(ie){return ie<<1^ie>>31}function Ie(ie,N){for(var j=ie.loadGeometry(),q=ie.type,re=0,ae=0,xe=j.length,me=0;me<xe;me++){var ue=j[me],ye=1;q===1&&(ye=ue.length),N.writeVarint(Je(1,ye));for(var De=q===3?ue.length-1:ue.length,ze=0;ze<De;ze++){ze===1&&q!==1&&N.writeVarint(Je(2,De-1));var $e=ue[ze].x-re,pt=ue[ze].y-ae;N.writeVarint(Le($e)),N.writeVarint(Le(pt)),re+=$e,ae+=pt}q===3&&N.writeVarint(Je(7,1))}}function we(ie,N){var j=typeof ie;j==="string"?N.writeStringField(1,ie):j==="boolean"?N.writeBooleanField(7,ie):j==="number"&&(ie%1!=0?N.writeDoubleField(3,ie):ie<0?N.writeSVarintField(6,ie):N.writeVarintField(5,ie))}W.exports=Be,W.exports.fromVectorTileJs=Be,W.exports.fromGeojsonVt=function(ie,N){N=N||{};var j={};for(var q in ie)j[q]=new Me(ie[q].features,N),j[q].name=q,j[q].version=N.version,j[q].extent=N.extent;return Be({layers:j})},W.exports.GeoJSONWrapper=Me;var Re=u.by(W.exports);const Ve={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ie=>ie},Ze=Math.fround||(at=new Float32Array(1),ie=>(at[0]=+ie,at[0]));var at;const ut=3,Pt=5,Xt=6;class qt{constructor(N){this.options=Object.assign(Object.create(Ve),N),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(N){const{log:j,minZoom:q,maxZoom:re}=this.options;j&&console.time("total time");const ae=`prepare ${N.length} points`;j&&console.time(ae),this.points=N;const xe=[];for(let ue=0;ue<N.length;ue++){const ye=N[ue];if(!ye.geometry)continue;const[De,ze]=ye.geometry.coordinates,$e=Ze(tr(De)),pt=Ze(Nn(ze));xe.push($e,pt,1/0,ue,-1,1),this.options.reduce&&xe.push(0)}let me=this.trees[re+1]=this._createTree(xe);j&&console.timeEnd(ae);for(let ue=re;ue>=q;ue--){const ye=+Date.now();me=this.trees[ue]=this._createTree(this._cluster(me,ue)),j&&console.log("z%d: %d clusters in %dms",ue,me.numItems,+Date.now()-ye)}return j&&console.timeEnd("total time"),this}getClusters(N,j){let q=((N[0]+180)%360+360)%360-180;const re=Math.max(-90,Math.min(90,N[1]));let ae=N[2]===180?180:((N[2]+180)%360+360)%360-180;const xe=Math.max(-90,Math.min(90,N[3]));if(N[2]-N[0]>=360)q=-180,ae=180;else if(q>ae){const ze=this.getClusters([q,re,180,xe],j),$e=this.getClusters([-180,re,ae,xe],j);return ze.concat($e)}const me=this.trees[this._limitZoom(j)],ue=me.range(tr(q),Nn(xe),tr(ae),Nn(re)),ye=me.data,De=[];for(const ze of ue){const $e=this.stride*ze;De.push(ye[$e+Pt]>1?ln(ye,$e,this.clusterProps):this.points[ye[$e+ut]])}return De}getChildren(N){const j=this._getOriginId(N),q=this._getOriginZoom(N),re="No cluster with the specified id.",ae=this.trees[q];if(!ae)throw new Error(re);const xe=ae.data;if(j*this.stride>=xe.length)throw new Error(re);const me=this.options.radius/(this.options.extent*Math.pow(2,q-1)),ue=ae.within(xe[j*this.stride],xe[j*this.stride+1],me),ye=[];for(const De of ue){const ze=De*this.stride;xe[ze+4]===N&&ye.push(xe[ze+Pt]>1?ln(xe,ze,this.clusterProps):this.points[xe[ze+ut]])}if(ye.length===0)throw new Error(re);return ye}getLeaves(N,j,q){const re=[];return this._appendLeaves(re,N,j=j||10,q=q||0,0),re}getTile(N,j,q){const re=this.trees[this._limitZoom(N)],ae=Math.pow(2,N),{extent:xe,radius:me}=this.options,ue=me/xe,ye=(q-ue)/ae,De=(q+1+ue)/ae,ze={features:[]};return this._addTileFeatures(re.range((j-ue)/ae,ye,(j+1+ue)/ae,De),re.data,j,q,ae,ze),j===0&&this._addTileFeatures(re.range(1-ue/ae,ye,1,De),re.data,ae,q,ae,ze),j===ae-1&&this._addTileFeatures(re.range(0,ye,ue/ae,De),re.data,-1,q,ae,ze),ze.features.length?ze:null}getClusterExpansionZoom(N){let j=this._getOriginZoom(N)-1;for(;j<=this.options.maxZoom;){const q=this.getChildren(N);if(j++,q.length!==1)break;N=q[0].properties.cluster_id}return j}_appendLeaves(N,j,q,re,ae){const xe=this.getChildren(j);for(const me of xe){const ue=me.properties;if(ue&&ue.cluster?ae+ue.point_count<=re?ae+=ue.point_count:ae=this._appendLeaves(N,ue.cluster_id,q,re,ae):ae<re?ae++:N.push(me),N.length===q)break}return ae}_createTree(N){const j=new u.av(N.length/this.stride|0,this.options.nodeSize,Float32Array);for(let q=0;q<N.length;q+=this.stride)j.add(N[q],N[q+1]);return j.finish(),j.data=N,j}_addTileFeatures(N,j,q,re,ae,xe){for(const me of N){const ue=me*this.stride,ye=j[ue+Pt]>1;let De,ze,$e;if(ye)De=er(j,ue,this.clusterProps),ze=j[ue],$e=j[ue+1];else{const ft=this.points[j[ue+ut]];De=ft.properties;const[St,It]=ft.geometry.coordinates;ze=tr(St),$e=Nn(It)}const pt={type:1,geometry:[[Math.round(this.options.extent*(ze*ae-q)),Math.round(this.options.extent*($e*ae-re))]],tags:De};let At;At=ye||this.options.generateId?j[ue+ut]:this.points[j[ue+ut]].id,At!==void 0&&(pt.id=At),xe.features.push(pt)}}_limitZoom(N){return Math.max(this.options.minZoom,Math.min(Math.floor(+N),this.options.maxZoom+1))}_cluster(N,j){const{radius:q,extent:re,reduce:ae,minPoints:xe}=this.options,me=q/(re*Math.pow(2,j)),ue=N.data,ye=[],De=this.stride;for(let ze=0;ze<ue.length;ze+=De){if(ue[ze+2]<=j)continue;ue[ze+2]=j;const $e=ue[ze],pt=ue[ze+1],At=N.within(ue[ze],ue[ze+1],me),ft=ue[ze+Pt];let St=ft;for(const It of At){const rn=It*De;ue[rn+2]>j&&(St+=ue[rn+Pt])}if(St>ft&&St>=xe){let It,rn=$e*ft,dn=pt*ft,Gt=-1;const Ht=((ze/De|0)<<5)+(j+1)+this.points.length;for(const kr of At){const fn=kr*De;if(ue[fn+2]<=j)continue;ue[fn+2]=j;const Xn=ue[fn+Pt];rn+=ue[fn]*Xn,dn+=ue[fn+1]*Xn,ue[fn+4]=Ht,ae&&(It||(It=this._map(ue,ze,!0),Gt=this.clusterProps.length,this.clusterProps.push(It)),ae(It,this._map(ue,fn)))}ue[ze+4]=Ht,ye.push(rn/St,dn/St,1/0,Ht,-1,St),ae&&ye.push(Gt)}else{for(let It=0;It<De;It++)ye.push(ue[ze+It]);if(St>1)for(const It of At){const rn=It*De;if(!(ue[rn+2]<=j)){ue[rn+2]=j;for(let dn=0;dn<De;dn++)ye.push(ue[rn+dn])}}}}return ye}_getOriginId(N){return N-this.points.length>>5}_getOriginZoom(N){return(N-this.points.length)%32}_map(N,j,q){if(N[j+Pt]>1){const xe=this.clusterProps[N[j+Xt]];return q?Object.assign({},xe):xe}const re=this.points[N[j+ut]].properties,ae=this.options.map(re);return q&&ae===re?Object.assign({},ae):ae}}function ln(ie,N,j){return{type:"Feature",id:ie[N+ut],properties:er(ie,N,j),geometry:{type:"Point",coordinates:[(q=ie[N],360*(q-.5)),nr(ie[N+1])]}};var q}function er(ie,N,j){const q=ie[N+Pt],re=q>=1e4?`${Math.round(q/1e3)}k`:q>=1e3?Math.round(q/100)/10+"k":q,ae=ie[N+Xt],xe=ae===-1?{}:Object.assign({},j[ae]);return Object.assign(xe,{cluster:!0,cluster_id:ie[N+ut],point_count:q,point_count_abbreviated:re})}function tr(ie){return ie/360+.5}function Nn(ie){const N=Math.sin(ie*Math.PI/180),j=.5-.25*Math.log((1+N)/(1-N))/Math.PI;return j<0?0:j>1?1:j}function nr(ie){const N=(180-360*ie)*Math.PI/180;return 360*Math.atan(Math.exp(N))/Math.PI-90}function Mr(ie,N,j,q){for(var re,ae=q,xe=j-N>>1,me=j-N,ue=ie[N],ye=ie[N+1],De=ie[j],ze=ie[j+1],$e=N+3;$e<j;$e+=3){var pt=nn(ie[$e],ie[$e+1],ue,ye,De,ze);if(pt>ae)re=$e,ae=pt;else if(pt===ae){var At=Math.abs($e-xe);At<me&&(re=$e,me=At)}}ae>q&&(re-N>3&&Mr(ie,N,re,q),ie[re+2]=ae,j-re>3&&Mr(ie,re,j,q))}function nn(ie,N,j,q,re,ae){var xe=re-j,me=ae-q;if(xe!==0||me!==0){var ue=((ie-j)*xe+(N-q)*me)/(xe*xe+me*me);ue>1?(j=re,q=ae):ue>0&&(j+=xe*ue,q+=me*ue)}return(xe=ie-j)*xe+(me=N-q)*me}function Kn(ie,N,j,q){var re={id:ie===void 0?null:ie,type:N,geometry:j,tags:q,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ae){var xe=ae.geometry,me=ae.type;if(me==="Point"||me==="MultiPoint"||me==="LineString")rr(ae,xe);else if(me==="Polygon"||me==="MultiLineString")for(var ue=0;ue<xe.length;ue++)rr(ae,xe[ue]);else if(me==="MultiPolygon")for(ue=0;ue<xe.length;ue++)for(var ye=0;ye<xe[ue].length;ye++)rr(ae,xe[ue][ye])}(re),re}function rr(ie,N){for(var j=0;j<N.length;j+=3)ie.minX=Math.min(ie.minX,N[j]),ie.minY=Math.min(ie.minY,N[j+1]),ie.maxX=Math.max(ie.maxX,N[j]),ie.maxY=Math.max(ie.maxY,N[j+1])}function ai(ie,N,j,q){if(N.geometry){var re=N.geometry.coordinates,ae=N.geometry.type,xe=Math.pow(j.tolerance/((1<<j.maxZoom)*j.extent),2),me=[],ue=N.id;if(j.promoteId?ue=N.properties[j.promoteId]:j.generateId&&(ue=q||0),ae==="Point")Er(re,me);else if(ae==="MultiPoint")for(var ye=0;ye<re.length;ye++)Er(re[ye],me);else if(ae==="LineString")gr(re,me,xe,!1);else if(ae==="MultiLineString"){if(j.lineMetrics){for(ye=0;ye<re.length;ye++)gr(re[ye],me=[],xe,!1),ie.push(Kn(ue,"LineString",me,N.properties));return}pn(re,me,xe,!1)}else if(ae==="Polygon")pn(re,me,xe,!0);else{if(ae!=="MultiPolygon"){if(ae==="GeometryCollection"){for(ye=0;ye<N.geometry.geometries.length;ye++)ai(ie,{id:ue,geometry:N.geometry.geometries[ye],properties:N.properties},j,q);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ye=0;ye<re.length;ye++){var De=[];pn(re[ye],De,xe,!0),me.push(De)}}ie.push(Kn(ue,ae,me,N.properties))}}function Er(ie,N){N.push(ke(ie[0])),N.push(Rt(ie[1])),N.push(0)}function gr(ie,N,j,q){for(var re,ae,xe=0,me=0;me<ie.length;me++){var ue=ke(ie[me][0]),ye=Rt(ie[me][1]);N.push(ue),N.push(ye),N.push(0),me>0&&(xe+=q?(re*ye-ue*ae)/2:Math.sqrt(Math.pow(ue-re,2)+Math.pow(ye-ae,2))),re=ue,ae=ye}var De=N.length-3;N[2]=1,Mr(N,0,De,j),N[De+2]=1,N.size=Math.abs(xe),N.start=0,N.end=N.size}function pn(ie,N,j,q){for(var re=0;re<ie.length;re++){var ae=[];gr(ie[re],ae,j,q),N.push(ae)}}function ke(ie){return ie/360+.5}function Rt(ie){var N=Math.sin(ie*Math.PI/180),j=.5-.25*Math.log((1+N)/(1-N))/Math.PI;return j<0?0:j>1?1:j}function Kt(ie,N,j,q,re,ae,xe,me){if(q/=N,ae>=(j/=N)&&xe<q)return ie;if(xe<j||ae>=q)return null;for(var ue=[],ye=0;ye<ie.length;ye++){var De=ie[ye],ze=De.geometry,$e=De.type,pt=re===0?De.minX:De.minY,At=re===0?De.maxX:De.maxY;if(pt>=j&&At<q)ue.push(De);else if(!(At<j||pt>=q)){var ft=[];if($e==="Point"||$e==="MultiPoint")Ot(ze,ft,j,q,re);else if($e==="LineString")Zt(ze,ft,j,q,re,!1,me.lineMetrics);else if($e==="MultiLineString")na(ze,ft,j,q,re,!1);else if($e==="Polygon")na(ze,ft,j,q,re,!0);else if($e==="MultiPolygon")for(var St=0;St<ze.length;St++){var It=[];na(ze[St],It,j,q,re,!0),It.length&&ft.push(It)}if(ft.length){if(me.lineMetrics&&$e==="LineString"){for(St=0;St<ft.length;St++)ue.push(Kn(De.id,$e,ft[St],De.tags));continue}$e!=="LineString"&&$e!=="MultiLineString"||(ft.length===1?($e="LineString",ft=ft[0]):$e="MultiLineString"),$e!=="Point"&&$e!=="MultiPoint"||($e=ft.length===3?"Point":"MultiPoint"),ue.push(Kn(De.id,$e,ft,De.tags))}}}return ue.length?ue:null}function Ot(ie,N,j,q,re){for(var ae=0;ae<ie.length;ae+=3){var xe=ie[ae+re];xe>=j&&xe<=q&&(N.push(ie[ae]),N.push(ie[ae+1]),N.push(ie[ae+2]))}}function Zt(ie,N,j,q,re,ae,xe){for(var me,ue,ye=Ci(ie),De=re===0?Ya:ra,ze=ie.start,$e=0;$e<ie.length-3;$e+=3){var pt=ie[$e],At=ie[$e+1],ft=ie[$e+2],St=ie[$e+3],It=ie[$e+4],rn=re===0?pt:At,dn=re===0?St:It,Gt=!1;xe&&(me=Math.sqrt(Math.pow(pt-St,2)+Math.pow(At-It,2))),rn<j?dn>j&&(ue=De(ye,pt,At,St,It,j),xe&&(ye.start=ze+me*ue)):rn>q?dn<q&&(ue=De(ye,pt,At,St,It,q),xe&&(ye.start=ze+me*ue)):Vi(ye,pt,At,ft),dn<j&&rn>=j&&(ue=De(ye,pt,At,St,It,j),Gt=!0),dn>q&&rn<=q&&(ue=De(ye,pt,At,St,It,q),Gt=!0),!ae&&Gt&&(xe&&(ye.end=ze+me*ue),N.push(ye),ye=Ci(ie)),xe&&(ze+=me)}var Ht=ie.length-3;pt=ie[Ht],At=ie[Ht+1],ft=ie[Ht+2],(rn=re===0?pt:At)>=j&&rn<=q&&Vi(ye,pt,At,ft),Ht=ye.length-3,ae&&Ht>=3&&(ye[Ht]!==ye[0]||ye[Ht+1]!==ye[1])&&Vi(ye,ye[0],ye[1],ye[2]),ye.length&&N.push(ye)}function Ci(ie){var N=[];return N.size=ie.size,N.start=ie.start,N.end=ie.end,N}function na(ie,N,j,q,re,ae){for(var xe=0;xe<ie.length;xe++)Zt(ie[xe],N,j,q,re,ae,!1)}function Vi(ie,N,j,q){ie.push(N),ie.push(j),ie.push(q)}function Ya(ie,N,j,q,re,ae){var xe=(ae-N)/(q-N);return ie.push(ae),ie.push(j+(re-j)*xe),ie.push(1),xe}function ra(ie,N,j,q,re,ae){var xe=(ae-j)/(re-j);return ie.push(N+(q-N)*xe),ie.push(ae),ie.push(1),xe}function uo(ie,N){for(var j=[],q=0;q<ie.length;q++){var re,ae=ie[q],xe=ae.type;if(xe==="Point"||xe==="MultiPoint"||xe==="LineString")re=Io(ae.geometry,N);else if(xe==="MultiLineString"||xe==="Polygon"){re=[];for(var me=0;me<ae.geometry.length;me++)re.push(Io(ae.geometry[me],N))}else if(xe==="MultiPolygon")for(re=[],me=0;me<ae.geometry.length;me++){for(var ue=[],ye=0;ye<ae.geometry[me].length;ye++)ue.push(Io(ae.geometry[me][ye],N));re.push(ue)}j.push(Kn(ae.id,xe,re,ae.tags))}return j}function Io(ie,N){var j=[];j.size=ie.size,ie.start!==void 0&&(j.start=ie.start,j.end=ie.end);for(var q=0;q<ie.length;q+=3)j.push(ie[q]+N,ie[q+1],ie[q+2]);return j}function Ye(ie,N){if(ie.transformed)return ie;var j,q,re,ae=1<<ie.z,xe=ie.x,me=ie.y;for(j=0;j<ie.features.length;j++){var ue=ie.features[j],ye=ue.geometry,De=ue.type;if(ue.geometry=[],De===1)for(q=0;q<ye.length;q+=2)ue.geometry.push(Mi(ye[q],ye[q+1],N,ae,xe,me));else for(q=0;q<ye.length;q++){var ze=[];for(re=0;re<ye[q].length;re+=2)ze.push(Mi(ye[q][re],ye[q][re+1],N,ae,xe,me));ue.geometry.push(ze)}}return ie.transformed=!0,ie}function Mi(ie,N,j,q,re,ae){return[Math.round(j*(ie*q-re)),Math.round(j*(N*q-ae))]}function Cn(ie,N,j,q,re){for(var ae=N===re.maxZoom?0:re.tolerance/((1<<N)*re.extent),xe={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:j,y:q,z:N,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},me=0;me<ie.length;me++){xe.numFeatures++,si(xe,ie[me],ae,re);var ue=ie[me].minX,ye=ie[me].minY,De=ie[me].maxX,ze=ie[me].maxY;ue<xe.minX&&(xe.minX=ue),ye<xe.minY&&(xe.minY=ye),De>xe.maxX&&(xe.maxX=De),ze>xe.maxY&&(xe.maxY=ze)}return xe}function si(ie,N,j,q){var re=N.geometry,ae=N.type,xe=[];if(ae==="Point"||ae==="MultiPoint")for(var me=0;me<re.length;me+=3)xe.push(re[me]),xe.push(re[me+1]),ie.numPoints++,ie.numSimplified++;else if(ae==="LineString")Fr(xe,re,ie,j,!1,!1);else if(ae==="MultiLineString"||ae==="Polygon")for(me=0;me<re.length;me++)Fr(xe,re[me],ie,j,ae==="Polygon",me===0);else if(ae==="MultiPolygon")for(var ue=0;ue<re.length;ue++){var ye=re[ue];for(me=0;me<ye.length;me++)Fr(xe,ye[me],ie,j,!0,me===0)}if(xe.length){var De=N.tags||null;if(ae==="LineString"&&q.lineMetrics){for(var ze in De={},N.tags)De[ze]=N.tags[ze];De.mapbox_clip_start=re.start/re.size,De.mapbox_clip_end=re.end/re.size}var $e={geometry:xe,type:ae==="Polygon"||ae==="MultiPolygon"?3:ae==="LineString"||ae==="MultiLineString"?2:1,tags:De};N.id!==null&&($e.id=N.id),ie.features.push($e)}}function Fr(ie,N,j,q,re,ae){var xe=q*q;if(q>0&&N.size<(re?xe:q))j.numPoints+=N.length/3;else{for(var me=[],ue=0;ue<N.length;ue+=3)(q===0||N[ue+2]>xe)&&(j.numSimplified++,me.push(N[ue]),me.push(N[ue+1])),j.numPoints++;re&&function(ye,De){for(var ze=0,$e=0,pt=ye.length,At=pt-2;$e<pt;At=$e,$e+=2)ze+=(ye[$e]-ye[At])*(ye[$e+1]+ye[At+1]);if(ze>0===De)for($e=0,pt=ye.length;$e<pt/2;$e+=2){var ft=ye[$e],St=ye[$e+1];ye[$e]=ye[pt-2-$e],ye[$e+1]=ye[pt-1-$e],ye[pt-2-$e]=ft,ye[pt-1-$e]=St}}(me,ae),ie.push(me)}}function Qe(ie,N){var j=(N=this.options=function(re,ae){for(var xe in ae)re[xe]=ae[xe];return re}(Object.create(this.options),N)).debug;if(j&&console.time("preprocess data"),N.maxZoom<0||N.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(N.promoteId&&N.generateId)throw new Error("promoteId and generateId cannot be used together.");var q=function(re,ae){var xe=[];if(re.type==="FeatureCollection")for(var me=0;me<re.features.length;me++)ai(xe,re.features[me],ae,me);else ai(xe,re.type==="Feature"?re:{geometry:re},ae);return xe}(ie,N);this.tiles={},this.tileCoords=[],j&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",N.indexMaxZoom,N.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),q=function(re,ae){var xe=ae.buffer/ae.extent,me=re,ue=Kt(re,1,-1-xe,xe,0,-1,2,ae),ye=Kt(re,1,1-xe,2+xe,0,-1,2,ae);return(ue||ye)&&(me=Kt(re,1,-xe,1+xe,0,-1,2,ae)||[],ue&&(me=uo(ue,1).concat(me)),ye&&(me=me.concat(uo(ye,-1)))),me}(q,N),q.length&&this.splitTile(q,0,0,0),j&&(q.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Lt(ie,N,j){return 32*((1<<ie)*j+N)+ie}function kt(ie,N){return N?ie.properties[N]:ie.id}function On(ie,N){if(ie==null)return!0;if(ie.type==="Feature")return kt(ie,N)!=null;if(ie.type==="FeatureCollection"){const j=new Set;for(const q of ie.features){const re=kt(q,N);if(re==null||j.has(re))return!1;j.add(re)}return!0}return!1}function Ei(ie,N){const j=new Map;if(ie!=null)if(ie.type==="Feature")j.set(kt(ie,N),ie);else for(const q of ie.features)j.set(kt(q,N),q);return j}Qe.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Qe.prototype.splitTile=function(ie,N,j,q,re,ae,xe){for(var me=[ie,N,j,q],ue=this.options,ye=ue.debug;me.length;){q=me.pop(),j=me.pop(),N=me.pop(),ie=me.pop();var De=1<<N,ze=Lt(N,j,q),$e=this.tiles[ze];if(!$e&&(ye>1&&console.time("creation"),$e=this.tiles[ze]=Cn(ie,N,j,q,ue),this.tileCoords.push({z:N,x:j,y:q}),ye)){ye>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",N,j,q,$e.numFeatures,$e.numPoints,$e.numSimplified),console.timeEnd("creation"));var pt="z"+N;this.stats[pt]=(this.stats[pt]||0)+1,this.total++}if($e.source=ie,re){if(N===ue.maxZoom||N===re)continue;var At=1<<re-N;if(j!==Math.floor(ae/At)||q!==Math.floor(xe/At))continue}else if(N===ue.indexMaxZoom||$e.numPoints<=ue.indexMaxPoints)continue;if($e.source=null,ie.length!==0){ye>1&&console.time("clipping");var ft,St,It,rn,dn,Gt,Ht=.5*ue.buffer/ue.extent,kr=.5-Ht,fn=.5+Ht,Xn=1+Ht;ft=St=It=rn=null,dn=Kt(ie,De,j-Ht,j+fn,0,$e.minX,$e.maxX,ue),Gt=Kt(ie,De,j+kr,j+Xn,0,$e.minX,$e.maxX,ue),ie=null,dn&&(ft=Kt(dn,De,q-Ht,q+fn,1,$e.minY,$e.maxY,ue),St=Kt(dn,De,q+kr,q+Xn,1,$e.minY,$e.maxY,ue),dn=null),Gt&&(It=Kt(Gt,De,q-Ht,q+fn,1,$e.minY,$e.maxY,ue),rn=Kt(Gt,De,q+kr,q+Xn,1,$e.minY,$e.maxY,ue),Gt=null),ye>1&&console.timeEnd("clipping"),me.push(ft||[],N+1,2*j,2*q),me.push(St||[],N+1,2*j,2*q+1),me.push(It||[],N+1,2*j+1,2*q),me.push(rn||[],N+1,2*j+1,2*q+1)}}},Qe.prototype.getTile=function(ie,N,j){var q=this.options,re=q.extent,ae=q.debug;if(ie<0||ie>24)return null;var xe=1<<ie,me=Lt(ie,N=(N%xe+xe)%xe,j);if(this.tiles[me])return Ye(this.tiles[me],re);ae>1&&console.log("drilling down to z%d-%d-%d",ie,N,j);for(var ue,ye=ie,De=N,ze=j;!ue&&ye>0;)ye--,De=Math.floor(De/2),ze=Math.floor(ze/2),ue=this.tiles[Lt(ye,De,ze)];return ue&&ue.source?(ae>1&&console.log("found parent tile z%d-%d-%d",ye,De,ze),ae>1&&console.time("drilling down"),this.splitTile(ue.source,ye,De,ze,ie,N,j),ae>1&&console.timeEnd("drilling down"),this.tiles[me]?Ye(this.tiles[me],re):null):null};class xt extends X{constructor(N,j,q,re){super(N,j,q),this._dataUpdateable=new Map,this.loadGeoJSON=(ae,xe)=>{const{promoteId:me}=ae;if(ae.request)return u.f(ae.request,(ue,ye,De,ze)=>{this._dataUpdateable=On(ye,me)?Ei(ye,me):void 0,xe(ue,ye,De,ze)});if(typeof ae.data=="string")try{const ue=JSON.parse(ae.data);this._dataUpdateable=On(ue,me)?Ei(ue,me):void 0,xe(null,ue)}catch{xe(new Error(`Input data given to '${ae.source}' is not a valid GeoJSON object.`))}else ae.dataDiff?this._dataUpdateable?(function(ue,ye,De){var ze,$e,pt,At;if(ye.removeAll&&ue.clear(),ye.remove)for(const ft of ye.remove)ue.delete(ft);if(ye.add)for(const ft of ye.add){const St=kt(ft,De);St!=null&&ue.set(St,ft)}if(ye.update)for(const ft of ye.update){let St=ue.get(ft.id);if(St==null)continue;const It=!ft.removeAllProperties&&(((ze=ft.removeProperties)===null||ze===void 0?void 0:ze.length)>0||(($e=ft.addOrUpdateProperties)===null||$e===void 0?void 0:$e.length)>0);if((ft.newGeometry||ft.removeAllProperties||It)&&(St=Object.assign({},St),ue.set(ft.id,St),It&&(St.properties=Object.assign({},St.properties))),ft.newGeometry&&(St.geometry=ft.newGeometry),ft.removeAllProperties)St.properties={};else if(((pt=ft.removeProperties)===null||pt===void 0?void 0:pt.length)>0)for(const rn of ft.removeProperties)Object.prototype.hasOwnProperty.call(St.properties,rn)&&delete St.properties[rn];if(((At=ft.addOrUpdateProperties)===null||At===void 0?void 0:At.length)>0)for(const{key:rn,value:dn}of ft.addOrUpdateProperties)St.properties[rn]=dn}}(this._dataUpdateable,ae.dataDiff,me),xe(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):xe(new Error(`Cannot update existing geojson data in ${ae.source}`)):xe(new Error(`Input data given to '${ae.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},this.loadVectorData=this.loadGeoJSONTile,re&&(this.loadGeoJSON=re)}loadGeoJSONTile(N,j){const q=N.tileID.canonical;if(!this._geoJSONIndex)return j(null,null);const re=this._geoJSONIndex.getTile(q.z,q.x,q.y);if(!re)return j(null,null);const ae=new class{constructor(me){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=u.N,this.length=me.length,this._features=me}feature(me){return new class{constructor(ue){this._feature=ue,this.extent=u.N,this.type=ue.type,this.properties=ue.tags,"id"in ue&&!isNaN(ue.id)&&(this.id=parseInt(ue.id,10))}loadGeometry(){if(this._feature.type===1){const ue=[];for(const ye of this._feature.geometry)ue.push([new u.P(ye[0],ye[1])]);return ue}{const ue=[];for(const ye of this._feature.geometry){const De=[];for(const ze of ye)De.push(new u.P(ze[0],ze[1]));ue.push(De)}return ue}}toGeoJSON(ue,ye,De){return B.call(this,ue,ye,De)}}(this._features[me])}}(re.features);let xe=Re(ae);xe.byteOffset===0&&xe.byteLength===xe.buffer.byteLength||(xe=new Uint8Array(xe)),j(null,{vectorTile:ae,rawData:xe.buffer})}loadData(N,j){var q;(q=this._pendingRequest)===null||q===void 0||q.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const re=!!(N&&N.request&&N.request.collectResourceTiming)&&new u.bt(N.request);this._pendingCallback=j,this._pendingRequest=this.loadGeoJSON(N,(ae,xe)=>{if(delete this._pendingCallback,delete this._pendingRequest,ae||!xe)return j(ae);if(typeof xe!="object")return j(new Error(`Input data given to '${N.source}' is not a valid GeoJSON object.`));{O(xe,!0);try{if(N.filter){const ue=u.bB(N.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ue.result==="error")throw new Error(ue.value.map(De=>`${De.key}: ${De.message}`).join(", "));xe={type:"FeatureCollection",features:xe.features.filter(De=>ue.value.evaluate({zoom:0},De))}}this._geoJSONIndex=N.cluster?new qt(function({superclusterOptions:ue,clusterProperties:ye}){if(!ye||!ue)return ue;const De={},ze={},$e={accumulated:null,zoom:0},pt={properties:null},At=Object.keys(ye);for(const ft of At){const[St,It]=ye[ft],rn=u.bB(It),dn=u.bB(typeof St=="string"?[St,["accumulated"],["get",ft]]:St);De[ft]=rn.value,ze[ft]=dn.value}return ue.map=ft=>{pt.properties=ft;const St={};for(const It of At)St[It]=De[It].evaluate($e,pt);return St},ue.reduce=(ft,St)=>{pt.properties=St;for(const It of At)$e.accumulated=ft[It],ft[It]=ze[It].evaluate($e,pt)},ue}(N)).load(xe.features):function(ue,ye){return new Qe(ue,ye)}(xe,N.geojsonVtOptions)}catch(ue){return j(ue)}this.loaded={};const me={};if(re){const ue=re.finish();ue&&(me.resourceTiming={},me.resourceTiming[N.source]=JSON.parse(JSON.stringify(ue)))}j(null,me)}})}reloadTile(N,j){const q=this.loaded;return q&&q[N.uid]?super.reloadTile(N,j):this.loadTile(N,j)}removeSource(N,j){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),j()}getClusterExpansionZoom(N,j){try{j(null,this._geoJSONIndex.getClusterExpansionZoom(N.clusterId))}catch(q){j(q)}}getClusterChildren(N,j){try{j(null,this._geoJSONIndex.getChildren(N.clusterId))}catch(q){j(q)}}getClusterLeaves(N,j){try{j(null,this._geoJSONIndex.getLeaves(N.clusterId,N.limit,N.offset))}catch(q){j(q)}}}class ki{constructor(N){this.self=N,this.actor=new u.C(N,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:X,geojson:xt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(j,q)=>{if(this.workerSourceTypes[j])throw new Error(`Worker source with name "${j}" already registered.`);this.workerSourceTypes[j]=q},this.self.registerRTLTextPlugin=j=>{if(u.bC.isParsed())throw new Error("RTL text plugin already registered.");u.bC.applyArabicShaping=j.applyArabicShaping,u.bC.processBidirectionalText=j.processBidirectionalText,u.bC.processStyledBidirectionalText=j.processStyledBidirectionalText}}setReferrer(N,j){this.referrer=j}setImages(N,j,q){this.availableImages[N]=j;for(const re in this.workerSources[N]){const ae=this.workerSources[N][re];for(const xe in ae)ae[xe].availableImages=j}q()}setLayers(N,j,q){this.getLayerIndex(N).replace(j),q()}updateLayers(N,j,q){this.getLayerIndex(N).update(j.layers,j.removedIds),q()}loadTile(N,j,q){this.getWorkerSource(N,j.type,j.source).loadTile(j,q)}loadDEMTile(N,j,q){this.getDEMWorkerSource(N,j.source).loadTile(j,q)}reloadTile(N,j,q){this.getWorkerSource(N,j.type,j.source).reloadTile(j,q)}abortTile(N,j,q){this.getWorkerSource(N,j.type,j.source).abortTile(j,q)}removeTile(N,j,q){this.getWorkerSource(N,j.type,j.source).removeTile(j,q)}removeDEMTile(N,j){this.getDEMWorkerSource(N,j.source).removeTile(j)}removeSource(N,j,q){if(!this.workerSources[N]||!this.workerSources[N][j.type]||!this.workerSources[N][j.type][j.source])return;const re=this.workerSources[N][j.type][j.source];delete this.workerSources[N][j.type][j.source],re.removeSource!==void 0?re.removeSource(j,q):q()}loadWorkerSource(N,j,q){try{this.self.importScripts(j.url),q()}catch(re){q(re.toString())}}syncRTLPluginState(N,j,q){try{u.bC.setState(j);const re=u.bC.getPluginURL();if(u.bC.isLoaded()&&!u.bC.isParsed()&&re!=null){this.self.importScripts(re);const ae=u.bC.isParsed();q(ae?void 0:new Error(`RTL Text Plugin failed to import scripts from ${re}`),ae)}}catch(re){q(re.toString())}}getAvailableImages(N){let j=this.availableImages[N];return j||(j=[]),j}getLayerIndex(N){let j=this.layerIndexes[N];return j||(j=this.layerIndexes[N]=new E),j}getWorkerSource(N,j,q){return this.workerSources[N]||(this.workerSources[N]={}),this.workerSources[N][j]||(this.workerSources[N][j]={}),this.workerSources[N][j][q]||(this.workerSources[N][j][q]=new this.workerSourceTypes[j]({send:(re,ae,xe)=>{this.actor.send(re,ae,xe,N)}},this.getLayerIndex(N),this.getAvailableImages(N))),this.workerSources[N][j][q]}getDEMWorkerSource(N,j){return this.demWorkerSources[N]||(this.demWorkerSources[N]={}),this.demWorkerSources[N][j]||(this.demWorkerSources[N][j]=new K),this.demWorkerSources[N][j]}}return u.i()&&(self.worker=new ki(self)),ki}),p(["./shared"],function(u){var E="3.6.1";class C{static testProp(r){if(!C.docStyle)return r[0];for(let c=0;c<r.length;c++)if(r[c]in C.docStyle)return r[c];return r[0]}static create(r,c,h){const m=window.document.createElement(r);return c!==void 0&&(m.className=c),h&&h.appendChild(m),m}static createNS(r,c){return window.document.createElementNS(r,c)}static disableDrag(){C.docStyle&&C.selectProp&&(C.userSelect=C.docStyle[C.selectProp],C.docStyle[C.selectProp]="none")}static enableDrag(){C.docStyle&&C.selectProp&&(C.docStyle[C.selectProp]=C.userSelect)}static setTransform(r,c){r.style[C.transformProp]=c}static addEventListener(r,c,h,m={}){r.addEventListener(c,h,"passive"in m?m:m.capture)}static removeEventListener(r,c,h,m={}){r.removeEventListener(c,h,"passive"in m?m:m.capture)}static suppressClickInternal(r){r.preventDefault(),r.stopPropagation(),window.removeEventListener("click",C.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",C.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",C.suppressClickInternal,!0)},0)}static mousePos(r,c){const h=r.getBoundingClientRect();return new u.P(c.clientX-h.left-r.clientLeft,c.clientY-h.top-r.clientTop)}static touchPos(r,c){const h=r.getBoundingClientRect(),m=[];for(let _=0;_<c.length;_++)m.push(new u.P(c[_].clientX-h.left-r.clientLeft,c[_].clientY-h.top-r.clientTop));return m}static mouseButton(r){return r.button}static remove(r){r.parentNode&&r.parentNode.removeChild(r)}}C.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,C.selectProp=C.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),C.transformProp=C.testProp(["transform","WebkitTransform"]);const P={supported:!1,testSupport:function(g){!X&&z&&(K?G(g):F=g)}};let F,z,X=!1,K=!1;function G(g){const r=g.createTexture();g.bindTexture(g.TEXTURE_2D,r);try{if(g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,z),g.isContextLost())return;P.supported=!0}catch{}g.deleteTexture(r),X=!0}var ee,O;typeof document<"u"&&(z=document.createElement("img"),z.onload=function(){F&&G(F),F=null,K=!0},z.onerror=function(){X=!0,F=null},z.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(g){let r,c,h,m;g.resetRequestQueue=()=>{r=[],c=0,h=0,m={}},g.addThrottleControl=T=>{const L=h++;return m[L]=T,L},g.removeThrottleControl=T=>{delete m[T],S()},g.getImage=(T,L,D=!0)=>{P.supported&&(T.headers||(T.headers={}),T.headers.accept="image/webp,*/*");const V={requestParameters:T,supportImageRefresh:D,callback:L,cancelled:!1,completed:!1,cancel:()=>{V.completed||V.cancelled||(V.cancelled=!0,V.innerRequest&&(V.innerRequest.cancel(),c--),S())}};return r.push(V),S(),V};const _=T=>{const{requestParameters:L,supportImageRefresh:D,callback:V}=T;return u.e(L,{type:"image"}),(D!==!1||u.i()||u.g(L.url)||L.headers&&!Object.keys(L.headers).reduce((te,Q)=>te&&Q==="accept",!0)?u.m:k)(L,(te,Q,oe,J)=>{w(T,V,te,Q,oe,J)})},w=(T,L,D,V,te,Q)=>{D?L(D):V instanceof HTMLImageElement||u.a(V)?L(null,V):V&&((oe,J)=>{typeof createImageBitmap=="function"?u.b(oe,J):u.d(oe,J)})(V,(oe,J)=>{oe!=null?L(oe):J!=null&&L(null,J,{cacheControl:te,expires:Q})}),T.cancelled||(T.completed=!0,c--,S())},S=()=>{const T=(()=>{const L=Object.keys(m);let D=!1;if(L.length>0){for(const V of L)if(D=m[V](),D)break}return D})()?u.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:u.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let L=c;L<T&&r.length>0;L++){const D=r.shift();if(D.cancelled){L--;continue}const V=_(D);c++,D.innerRequest=V}},k=(T,L)=>{const D=new Image,V=T.url;let te=!1;const Q=T.credentials;return Q&&Q==="include"?D.crossOrigin="use-credentials":(Q&&Q==="same-origin"||!u.s(V))&&(D.crossOrigin="anonymous"),D.fetchPriority="high",D.onload=()=>{L(null,D),D.onerror=D.onload=null},D.onerror=()=>{te||L(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),D.onerror=D.onload=null},D.src=V,{cancel:()=>{te=!0,D.src=""}}}}(ee||(ee={})),ee.resetRequestQueue(),function(g){g.Glyphs="Glyphs",g.Image="Image",g.Source="Source",g.SpriteImage="SpriteImage",g.SpriteJSON="SpriteJSON",g.Style="Style",g.Tile="Tile",g.Unknown="Unknown"}(O||(O={}));class B{constructor(r){this._transformRequestFn=r}transformRequest(r,c){return this._transformRequestFn&&this._transformRequestFn(r,c)||{url:r}}normalizeSpriteURL(r,c,h){const m=function(_){const w=_.match(W);if(!w)throw new Error(`Unable to parse URL "${_}"`);return{protocol:w[1],authority:w[2],path:w[3]||"/",params:w[4]?w[4].split("&"):[]}}(r);return m.path+=`${c}${h}`,function(_){const w=_.params.length?`?${_.params.join("&")}`:"";return`${_.protocol}://${_.authority}${_.path}${w}`}(m)}setTransformRequest(r){this._transformRequestFn=r}}const W=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ne(g){var r=new u.A(3);return r[0]=g[0],r[1]=g[1],r[2]=g[2],r}var pe,he=function(g,r,c){return g[0]=r[0]-c[0],g[1]=r[1]-c[1],g[2]=r[2]-c[2],g};pe=new u.A(3),u.A!=Float32Array&&(pe[0]=0,pe[1]=0,pe[2]=0);var de=function(g){var r=g[0],c=g[1];return r*r+c*c};function Se(g){const r=[];if(typeof g=="string")r.push({id:"default",url:g});else if(g&&g.length>0){const c=[];for(const{id:h,url:m}of g){const _=`${h}${m}`;c.indexOf(_)===-1&&(c.push(_),r.push({id:h,url:m}))}}return r}function Te(g,r,c,h,m){if(h)return void g(h);if(m!==Object.values(r).length||m!==Object.values(c).length)return;const _={};for(const w in r){_[w]={};const S=u.h.getImageCanvasContext(c[w]),k=r[w];for(const T in k){const{width:L,height:D,x:V,y:te,sdf:Q,pixelRatio:oe,stretchX:J,stretchY:ge,content:Ce}=k[T];_[w][T]={data:null,pixelRatio:oe,sdf:Q,stretchX:J,stretchY:ge,content:Ce,spriteData:{width:L,height:D,x:V,y:te,context:S}}}}g(null,_)}(function(){var g=new u.A(2);u.A!=Float32Array&&(g[0]=0,g[1]=0)})();class Me{constructor(r,c,h,m){this.context=r,this.format=h,this.texture=r.gl.createTexture(),this.update(c,m)}update(r,c,h){const{width:m,height:_}=r,w=!(this.size&&this.size[0]===m&&this.size[1]===_||h),{context:S}=this,{gl:k}=S;if(this.useMipmap=!!(c&&c.useMipmap),k.bindTexture(k.TEXTURE_2D,this.texture),S.pixelStoreUnpackFlipY.set(!1),S.pixelStoreUnpack.set(1),S.pixelStoreUnpackPremultiplyAlpha.set(this.format===k.RGBA&&(!c||c.premultiply!==!1)),w)this.size=[m,_],r instanceof HTMLImageElement||r instanceof HTMLCanvasElement||r instanceof HTMLVideoElement||r instanceof ImageData||u.a(r)?k.texImage2D(k.TEXTURE_2D,0,this.format,this.format,k.UNSIGNED_BYTE,r):k.texImage2D(k.TEXTURE_2D,0,this.format,m,_,0,this.format,k.UNSIGNED_BYTE,r.data);else{const{x:T,y:L}=h||{x:0,y:0};r instanceof HTMLImageElement||r instanceof HTMLCanvasElement||r instanceof HTMLVideoElement||r instanceof ImageData||u.a(r)?k.texSubImage2D(k.TEXTURE_2D,0,T,L,k.RGBA,k.UNSIGNED_BYTE,r):k.texSubImage2D(k.TEXTURE_2D,0,T,L,m,_,k.RGBA,k.UNSIGNED_BYTE,r.data)}this.useMipmap&&this.isSizePowerOfTwo()&&k.generateMipmap(k.TEXTURE_2D)}bind(r,c,h){const{context:m}=this,{gl:_}=m;_.bindTexture(_.TEXTURE_2D,this.texture),h!==_.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(h=_.LINEAR),r!==this.filter&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,r),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,h||r),this.filter=r),c!==this.wrap&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,c),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,c),this.wrap=c)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:r}=this.context;r.deleteTexture(this.texture),this.texture=null}}function Be(g){const{userImage:r}=g;return!!(r&&r.render&&r.render())&&(g.data.replace(new Uint8Array(r.data.buffer)),!0)}class He extends u.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new u.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(r){if(this.loaded!==r&&(this.loaded=r,r)){for(const{ids:c,callback:h}of this.requestors)this._notify(c,h);this.requestors=[]}}getImage(r){const c=this.images[r];if(c&&!c.data&&c.spriteData){const h=c.spriteData;c.data=new u.R({width:h.width,height:h.height},h.context.getImageData(h.x,h.y,h.width,h.height).data),c.spriteData=null}return c}addImage(r,c){if(this.images[r])throw new Error(`Image id ${r} already exist, use updateImage instead`);this._validate(r,c)&&(this.images[r]=c)}_validate(r,c){let h=!0;const m=c.data||c.spriteData;return this._validateStretch(c.stretchX,m&&m.width)||(this.fire(new u.j(new Error(`Image "${r}" has invalid "stretchX" value`))),h=!1),this._validateStretch(c.stretchY,m&&m.height)||(this.fire(new u.j(new Error(`Image "${r}" has invalid "stretchY" value`))),h=!1),this._validateContent(c.content,c)||(this.fire(new u.j(new Error(`Image "${r}" has invalid "content" value`))),h=!1),h}_validateStretch(r,c){if(!r)return!0;let h=0;for(const m of r){if(m[0]<h||m[1]<m[0]||c<m[1])return!1;h=m[1]}return!0}_validateContent(r,c){if(!r)return!0;if(r.length!==4)return!1;const h=c.spriteData,m=h&&h.width||c.data.width,_=h&&h.height||c.data.height;return!(r[0]<0||m<r[0]||r[1]<0||_<r[1]||r[2]<0||m<r[2]||r[3]<0||_<r[3]||r[2]<r[0]||r[3]<r[1])}updateImage(r,c,h=!0){const m=this.getImage(r);if(h&&(m.data.width!==c.data.width||m.data.height!==c.data.height))throw new Error(`size mismatch between old image (${m.data.width}x${m.data.height}) and new image (${c.data.width}x${c.data.height}).`);c.version=m.version+1,this.images[r]=c,this.updatedImages[r]=!0}removeImage(r){const c=this.images[r];delete this.images[r],delete this.patterns[r],c.userImage&&c.userImage.onRemove&&c.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(r,c){let h=!0;if(!this.isLoaded())for(const m of r)this.images[m]||(h=!1);this.isLoaded()||h?this._notify(r,c):this.requestors.push({ids:r,callback:c})}_notify(r,c){const h={};for(const m of r){let _=this.getImage(m);_||(this.fire(new u.k("styleimagemissing",{id:m})),_=this.getImage(m)),_?h[m]={data:_.data.clone(),pixelRatio:_.pixelRatio,sdf:_.sdf,version:_.version,stretchX:_.stretchX,stretchY:_.stretchY,content:_.content,hasRenderCallback:!!(_.userImage&&_.userImage.render)}:u.w(`Image "${m}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}c(null,h)}getPixelSize(){const{width:r,height:c}=this.atlasImage;return{width:r,height:c}}getPattern(r){const c=this.patterns[r],h=this.getImage(r);if(!h)return null;if(c&&c.position.version===h.version)return c.position;if(c)c.position.version=h.version;else{const m={w:h.data.width+2,h:h.data.height+2,x:0,y:0},_=new u.I(m,h);this.patterns[r]={bin:m,position:_}}return this._updatePatternAtlas(),this.patterns[r].position}bind(r){const c=r.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Me(r,this.atlasImage,c.RGBA),this.atlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE)}_updatePatternAtlas(){const r=[];for(const _ in this.patterns)r.push(this.patterns[_].bin);const{w:c,h}=u.p(r),m=this.atlasImage;m.resize({width:c||1,height:h||1});for(const _ in this.patterns){const{bin:w}=this.patterns[_],S=w.x+1,k=w.y+1,T=this.getImage(_).data,L=T.width,D=T.height;u.R.copy(T,m,{x:0,y:0},{x:S,y:k},{width:L,height:D}),u.R.copy(T,m,{x:0,y:D-1},{x:S,y:k-1},{width:L,height:1}),u.R.copy(T,m,{x:0,y:0},{x:S,y:k+D},{width:L,height:1}),u.R.copy(T,m,{x:L-1,y:0},{x:S-1,y:k},{width:1,height:D}),u.R.copy(T,m,{x:0,y:0},{x:S+L,y:k},{width:1,height:D})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(r){for(const c of r){if(this.callbackDispatchedThisFrame[c])continue;this.callbackDispatchedThisFrame[c]=!0;const h=this.getImage(c);h||u.w(`Image with ID: "${c}" was not found`),Be(h)&&this.updateImage(c,h)}}}const We=1e20;function qe(g,r,c,h,m,_,w,S,k){for(let T=r;T<r+h;T++)Je(g,c*_+T,_,m,w,S,k);for(let T=c;T<c+m;T++)Je(g,T*_+r,1,h,w,S,k)}function Je(g,r,c,h,m,_,w){_[0]=0,w[0]=-We,w[1]=We,m[0]=g[r];for(let S=1,k=0,T=0;S<h;S++){m[S]=g[r+S*c];const L=S*S;do{const D=_[k];T=(m[S]-m[D]+L-D*D)/(S-D)/2}while(T<=w[k]&&--k>-1);k++,_[k]=S,w[k]=T,w[k+1]=We}for(let S=0,k=0;S<h;S++){for(;w[k+1]<S;)k++;const T=_[k],L=S-T;g[r+S*c]=m[T]+L*L}}class Le{constructor(r,c){this.requestManager=r,this.localIdeographFontFamily=c,this.entries={}}setURL(r){this.url=r}getGlyphs(r,c){const h=[];for(const m in r)for(const _ of r[m])h.push({stack:m,id:_});u.o(h,({stack:m,id:_},w)=>{let S=this.entries[m];S||(S=this.entries[m]={glyphs:{},requests:{},ranges:{}});let k=S.glyphs[_];if(k!==void 0)return void w(null,{stack:m,id:_,glyph:k});if(k=this._tinySDF(S,m,_),k)return S.glyphs[_]=k,void w(null,{stack:m,id:_,glyph:k});const T=Math.floor(_/256);if(256*T>65535)return void w(new Error("glyphs > 65535 not supported"));if(S.ranges[T])return void w(null,{stack:m,id:_,glyph:k});if(!this.url)return void w(new Error("glyphsUrl is not set"));let L=S.requests[T];L||(L=S.requests[T]=[],Le.loadGlyphRange(m,T,this.url,this.requestManager,(D,V)=>{if(V){for(const te in V)this._doesCharSupportLocalGlyph(+te)||(S.glyphs[+te]=V[+te]);S.ranges[T]=!0}for(const te of L)te(D,V);delete S.requests[T]})),L.push((D,V)=>{D?w(D):V&&w(null,{stack:m,id:_,glyph:V[_]||null})})},(m,_)=>{if(m)c(m);else if(_){const w={};for(const{stack:S,id:k,glyph:T}of _)(w[S]||(w[S]={}))[k]=T&&{id:T.id,bitmap:T.bitmap.clone(),metrics:T.metrics};c(null,w)}})}_doesCharSupportLocalGlyph(r){return!!this.localIdeographFontFamily&&(u.u["CJK Unified Ideographs"](r)||u.u["Hangul Syllables"](r)||u.u.Hiragana(r)||u.u.Katakana(r))}_tinySDF(r,c,h){const m=this.localIdeographFontFamily;if(!m||!this._doesCharSupportLocalGlyph(h))return;let _=r.tinySDF;if(!_){let S="400";/bold/i.test(c)?S="900":/medium/i.test(c)?S="500":/light/i.test(c)&&(S="200"),_=r.tinySDF=new Le.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:m,fontWeight:S})}const w=_.draw(String.fromCharCode(h));return{id:h,bitmap:new u.q({width:w.width||60,height:w.height||60},w.data),metrics:{width:w.glyphWidth/2||24,height:w.glyphHeight/2||24,left:w.glyphLeft/2+.5||0,top:w.glyphTop/2-27.5||-8,advance:w.glyphAdvance/2||24,isDoubleResolution:!0}}}}Le.loadGlyphRange=function(g,r,c,h,m){const _=256*r,w=_+255,S=h.transformRequest(c.replace("{fontstack}",g).replace("{range}",`${_}-${w}`),O.Glyphs);u.l(S,(k,T)=>{if(k)m(k);else if(T){const L={};for(const D of u.n(T))L[D.id]=D;m(null,L)}})},Le.TinySDF=class{constructor({fontSize:g=24,buffer:r=3,radius:c=8,cutoff:h=.25,fontFamily:m="sans-serif",fontWeight:_="normal",fontStyle:w="normal"}={}){this.buffer=r,this.cutoff=h,this.radius=c;const S=this.size=g+4*r,k=this._createCanvas(S),T=this.ctx=k.getContext("2d",{willReadFrequently:!0});T.font=`${w} ${_} ${g}px ${m}`,T.textBaseline="alphabetic",T.textAlign="left",T.fillStyle="black",this.gridOuter=new Float64Array(S*S),this.gridInner=new Float64Array(S*S),this.f=new Float64Array(S),this.z=new Float64Array(S+1),this.v=new Uint16Array(S)}_createCanvas(g){const r=document.createElement("canvas");return r.width=r.height=g,r}draw(g){const{width:r,actualBoundingBoxAscent:c,actualBoundingBoxDescent:h,actualBoundingBoxLeft:m,actualBoundingBoxRight:_}=this.ctx.measureText(g),w=Math.ceil(c),S=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(_-m))),k=Math.min(this.size-this.buffer,w+Math.ceil(h)),T=S+2*this.buffer,L=k+2*this.buffer,D=Math.max(T*L,0),V=new Uint8ClampedArray(D),te={data:V,width:T,height:L,glyphWidth:S,glyphHeight:k,glyphTop:w,glyphLeft:0,glyphAdvance:r};if(S===0||k===0)return te;const{ctx:Q,buffer:oe,gridInner:J,gridOuter:ge}=this;Q.clearRect(oe,oe,S,k),Q.fillText(g,oe,oe+w);const Ce=Q.getImageData(oe,oe,S,k);ge.fill(We,0,D),J.fill(0,0,D);for(let le=0;le<k;le++)for(let ve=0;ve<S;ve++){const Ae=Ce.data[4*(le*S+ve)+3]/255;if(Ae===0)continue;const Pe=(le+oe)*T+ve+oe;if(Ae===1)ge[Pe]=0,J[Pe]=We;else{const Ne=.5-Ae;ge[Pe]=Ne>0?Ne*Ne:0,J[Pe]=Ne<0?Ne*Ne:0}}qe(ge,0,0,T,L,T,this.f,this.v,this.z),qe(J,oe,oe,S,k,T,this.f,this.v,this.z);for(let le=0;le<D;le++){const ve=Math.sqrt(ge[le])-Math.sqrt(J[le]);V[le]=Math.round(255-255*(ve/this.radius+this.cutoff))}return te}};class Ie{constructor(){this.specification=u.v.light.position}possiblyEvaluate(r,c){return u.z(r.expression.evaluate(c))}interpolate(r,c,h){return{x:u.B.number(r.x,c.x,h),y:u.B.number(r.y,c.y,h),z:u.B.number(r.z,c.z,h)}}}let we;class Re extends u.E{constructor(r){super(),we=we||new u.r({anchor:new u.D(u.v.light.anchor),position:new Ie,color:new u.D(u.v.light.color),intensity:new u.D(u.v.light.intensity)}),this._transitionable=new u.T(we),this.setLight(r),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(r,c={}){if(!this._validate(u.t,r,c))for(const h in r){const m=r[h];h.endsWith("-transition")?this._transitionable.setTransition(h.slice(0,-11),m):this._transitionable.setValue(h,m)}}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,c,h){return(!h||h.validate!==!1)&&u.x(this,r.call(u.y,u.e({value:c,style:{glyphs:!0,sprite:!0},styleSpec:u.v})))}}class Ve{constructor(r,c){this.width=r,this.height=c,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(r,c){const h=r.join(",")+String(c);return this.dashEntry[h]||(this.dashEntry[h]=this.addDash(r,c)),this.dashEntry[h]}getDashRanges(r,c,h){const m=[];let _=r.length%2==1?-r[r.length-1]*h:0,w=r[0]*h,S=!0;m.push({left:_,right:w,isDash:S,zeroLength:r[0]===0});let k=r[0];for(let T=1;T<r.length;T++){S=!S;const L=r[T];_=k*h,k+=L,w=k*h,m.push({left:_,right:w,isDash:S,zeroLength:L===0})}return m}addRoundDash(r,c,h){const m=c/2;for(let _=-h;_<=h;_++){const w=this.width*(this.nextRow+h+_);let S=0,k=r[S];for(let T=0;T<this.width;T++){T/k.right>1&&(k=r[++S]);const L=Math.abs(T-k.left),D=Math.abs(T-k.right),V=Math.min(L,D);let te;const Q=_/h*(m+1);if(k.isDash){const oe=m-Math.abs(Q);te=Math.sqrt(V*V+oe*oe)}else te=m-Math.sqrt(V*V+Q*Q);this.data[w+T]=Math.max(0,Math.min(255,te+128))}}}addRegularDash(r){for(let S=r.length-1;S>=0;--S){const k=r[S],T=r[S+1];k.zeroLength?r.splice(S,1):T&&T.isDash===k.isDash&&(T.left=k.left,r.splice(S,1))}const c=r[0],h=r[r.length-1];c.isDash===h.isDash&&(c.left=h.left-this.width,h.right=c.right+this.width);const m=this.width*this.nextRow;let _=0,w=r[_];for(let S=0;S<this.width;S++){S/w.right>1&&(w=r[++_]);const k=Math.abs(S-w.left),T=Math.abs(S-w.right),L=Math.min(k,T);this.data[m+S]=Math.max(0,Math.min(255,(w.isDash?L:-L)+128))}}addDash(r,c){const h=c?7:0,m=2*h+1;if(this.nextRow+m>this.height)return u.w("LineAtlas out of space"),null;let _=0;for(let S=0;S<r.length;S++)_+=r[S];if(_!==0){const S=this.width/_,k=this.getDashRanges(r,this.width,S);c?this.addRoundDash(k,S,h):this.addRegularDash(k)}const w={y:(this.nextRow+h+.5)/this.height,height:2*h/this.height,width:_};return this.nextRow+=m,this.dirty=!0,w}bind(r){const c=r.gl;this.texture?(c.bindTexture(c.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,c.texSubImage2D(c.TEXTURE_2D,0,0,0,this.width,this.height,c.ALPHA,c.UNSIGNED_BYTE,this.data))):(this.texture=c.createTexture(),c.bindTexture(c.TEXTURE_2D,this.texture),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texImage2D(c.TEXTURE_2D,0,c.ALPHA,this.width,this.height,0,c.ALPHA,c.UNSIGNED_BYTE,this.data))}}class Ze{constructor(r,c,h){this.workerPool=r,this.actors=[],this.currentActor=0,this.id=h;const m=this.workerPool.acquire(h);for(let _=0;_<m.length;_++){const w=new u.C(m[_],c,h);w.name=`Worker ${_}`,this.actors.push(w)}if(!this.actors.length)throw new Error("No actors found")}broadcast(r,c,h){u.o(this.actors,(m,_)=>{m.send(r,c,_)},h=h||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(r=!0){this.actors.forEach(c=>{c.remove()}),this.actors=[],r&&this.workerPool.release(this.id)}}function at(g,r,c){const h=function(m,_){if(m)return c(m);if(_){const w=u.F(u.e(_,g),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);_.vector_layers&&(w.vectorLayers=_.vector_layers,w.vectorLayerIds=w.vectorLayers.map(S=>S.id)),c(null,w)}};return g.url?u.f(r.transformRequest(g.url,O.Source),h):u.h.frame(()=>h(null,g))}class ut{constructor(r,c){r&&(c?this.setSouthWest(r).setNorthEast(c):Array.isArray(r)&&(r.length===4?this.setSouthWest([r[0],r[1]]).setNorthEast([r[2],r[3]]):this.setSouthWest(r[0]).setNorthEast(r[1])))}setNorthEast(r){return this._ne=r instanceof u.L?new u.L(r.lng,r.lat):u.L.convert(r),this}setSouthWest(r){return this._sw=r instanceof u.L?new u.L(r.lng,r.lat):u.L.convert(r),this}extend(r){const c=this._sw,h=this._ne;let m,_;if(r instanceof u.L)m=r,_=r;else{if(!(r instanceof ut))return Array.isArray(r)?r.length===4||r.every(Array.isArray)?this.extend(ut.convert(r)):this.extend(u.L.convert(r)):r&&("lng"in r||"lon"in r)&&"lat"in r?this.extend(u.L.convert(r)):this;if(m=r._sw,_=r._ne,!m||!_)return this}return c||h?(c.lng=Math.min(m.lng,c.lng),c.lat=Math.min(m.lat,c.lat),h.lng=Math.max(_.lng,h.lng),h.lat=Math.max(_.lat,h.lat)):(this._sw=new u.L(m.lng,m.lat),this._ne=new u.L(_.lng,_.lat)),this}getCenter(){return new u.L((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new u.L(this.getWest(),this.getNorth())}getSouthEast(){return new u.L(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(r){const{lng:c,lat:h}=u.L.convert(r);let m=this._sw.lng<=c&&c<=this._ne.lng;return this._sw.lng>this._ne.lng&&(m=this._sw.lng>=c&&c>=this._ne.lng),this._sw.lat<=h&&h<=this._ne.lat&&m}static convert(r){return r instanceof ut?r:r&&new ut(r)}static fromLngLat(r,c=0){const h=360*c/40075017,m=h/Math.cos(Math.PI/180*r.lat);return new ut(new u.L(r.lng-m,r.lat-h),new u.L(r.lng+m,r.lat+h))}}class Pt{constructor(r,c,h){this.bounds=ut.convert(this.validateBounds(r)),this.minzoom=c||0,this.maxzoom=h||24}validateBounds(r){return Array.isArray(r)&&r.length===4?[Math.max(-180,r[0]),Math.max(-90,r[1]),Math.min(180,r[2]),Math.min(90,r[3])]:[-180,-90,180,90]}contains(r){const c=Math.pow(2,r.z),h=Math.floor(u.G(this.bounds.getWest())*c),m=Math.floor(u.H(this.bounds.getNorth())*c),_=Math.ceil(u.G(this.bounds.getEast())*c),w=Math.ceil(u.H(this.bounds.getSouth())*c);return r.x>=h&&r.x<_&&r.y>=m&&r.y<w}}class Xt extends u.E{constructor(r,c,h,m){if(super(),this.load=()=>{this._loaded=!1,this.fire(new u.k("dataloading",{dataType:"source"})),this._tileJSONRequest=at(this._options,this.map._requestManager,(_,w)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),_?this.fire(new u.j(_)):w&&(u.e(this,w),w.bounds&&(this.tileBounds=new Pt(w.bounds,this.minzoom,this.maxzoom)),this.fire(new u.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new u.k("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>u.e({},this._options),this.id=r,this.dispatcher=h,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,u.e(this,u.F(c,["url","scheme","tileSize","promoteId"])),this._options=u.e({type:"vector"},c),this._collectResourceTiming=c.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(m)}loaded(){return this._loaded}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}onAdd(r){this.map=r,this.load()}setSourceProperty(r){this._tileJSONRequest&&this._tileJSONRequest.cancel(),r(),this.load()}setTiles(r){return this.setSourceProperty(()=>{this._options.tiles=r}),this}setUrl(r){return this.setSourceProperty(()=>{this.url=r,this._options.url=r}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(r,c){const h=r.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),m={request:this.map._requestManager.transformRequest(h,O.Tile),uid:r.uid,tileID:r.tileID,zoom:r.tileID.overscaledZ,tileSize:this.tileSize*r.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function _(w,S){return delete r.request,r.aborted?c(null):w&&w.status!==404?c(w):(S&&S.resourceTiming&&(r.resourceTiming=S.resourceTiming),this.map._refreshExpiredTiles&&S&&r.setExpiryData(S),r.loadVectorData(S,this.map.painter),c(null),void(r.reloadCallback&&(this.loadTile(r,r.reloadCallback),r.reloadCallback=null)))}m.request.collectResourceTiming=this._collectResourceTiming,r.actor&&r.state!=="expired"?r.state==="loading"?r.reloadCallback=c:r.request=r.actor.send("reloadTile",m,_.bind(this)):(r.actor=this.dispatcher.getActor(),r.request=r.actor.send("loadTile",m,_.bind(this)))}abortTile(r){r.request&&(r.request.cancel(),delete r.request),r.actor&&r.actor.send("abortTile",{uid:r.uid,type:this.type,source:this.id},void 0)}unloadTile(r){r.unloadVectorData(),r.actor&&r.actor.send("removeTile",{uid:r.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class qt extends u.E{constructor(r,c,h,m){super(),this.id=r,this.dispatcher=h,this.setEventedParent(m),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=u.e({type:"raster"},c),u.e(this,u.F(c,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new u.k("dataloading",{dataType:"source"})),this._tileJSONRequest=at(this._options,this.map._requestManager,(r,c)=>{this._tileJSONRequest=null,this._loaded=!0,r?this.fire(new u.j(r)):c&&(u.e(this,c),c.bounds&&(this.tileBounds=new Pt(c.bounds,this.minzoom,this.maxzoom)),this.fire(new u.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new u.k("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(r){this.map=r,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(r){this._tileJSONRequest&&this._tileJSONRequest.cancel(),r(),this.load()}setTiles(r){return this.setSourceProperty(()=>{this._options.tiles=r}),this}serialize(){return u.e({},this._options)}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}loadTile(r,c){const h=r.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);r.request=ee.getImage(this.map._requestManager.transformRequest(h,O.Tile),(m,_,w)=>{if(delete r.request,r.aborted)r.state="unloaded",c(null);else if(m)r.state="errored",c(m);else if(_){this.map._refreshExpiredTiles&&w&&r.setExpiryData(w);const S=this.map.painter.context,k=S.gl;r.texture=this.map.painter.getTileTexture(_.width),r.texture?r.texture.update(_,{useMipmap:!0}):(r.texture=new Me(S,_,k.RGBA,{useMipmap:!0}),r.texture.bind(k.LINEAR,k.CLAMP_TO_EDGE,k.LINEAR_MIPMAP_NEAREST),S.extTextureFilterAnisotropic&&k.texParameterf(k.TEXTURE_2D,S.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,S.extTextureFilterAnisotropicMax)),r.state="loaded",c(null)}},this.map._refreshExpiredTiles)}abortTile(r,c){r.request&&(r.request.cancel(),delete r.request),c()}unloadTile(r,c){r.texture&&this.map.painter.saveTileTexture(r.texture),c()}hasTransition(){return!1}}class ln extends qt{constructor(r,c,h,m){super(r,c,h,m),this.type="raster-dem",this.maxzoom=22,this._options=u.e({type:"raster-dem"},c),this.encoding=c.encoding||"mapbox",this.redFactor=c.redFactor,this.greenFactor=c.greenFactor,this.blueFactor=c.blueFactor,this.baseShift=c.baseShift}loadTile(r,c){const h=r.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),m=this.map._requestManager.transformRequest(h,O.Tile);function _(w,S){w&&(r.state="errored",c(w)),S&&(r.dem=S,r.needsHillshadePrepare=!0,r.needsTerrainPrepare=!0,r.state="loaded",c(null))}r.neighboringTiles=this._getNeighboringTiles(r.tileID),r.request=ee.getImage(m,(w,S,k)=>u._(this,void 0,void 0,function*(){if(delete r.request,r.aborted)r.state="unloaded",c(null);else if(w)r.state="errored",c(w);else if(S){this.map._refreshExpiredTiles&&r.setExpiryData(k);const T=u.a(S)&&u.J()?S:yield function(D){return u._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&u.K()){const V=D.width+2,te=D.height+2;try{return new u.R({width:V,height:te},yield u.M(D,-1,-1,V,te))}catch{}}return u.h.getImageData(D,1)})}(S),L={uid:r.uid,coord:r.tileID,source:this.id,rawImageData:T,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};r.actor&&r.state!=="expired"||(r.actor=this.dispatcher.getActor(),r.actor.send("loadDEMTile",L,_))}}),this.map._refreshExpiredTiles)}_getNeighboringTiles(r){const c=r.canonical,h=Math.pow(2,c.z),m=(c.x-1+h)%h,_=c.x===0?r.wrap-1:r.wrap,w=(c.x+1+h)%h,S=c.x+1===h?r.wrap+1:r.wrap,k={};return k[new u.O(r.overscaledZ,_,c.z,m,c.y).key]={backfilled:!1},k[new u.O(r.overscaledZ,S,c.z,w,c.y).key]={backfilled:!1},c.y>0&&(k[new u.O(r.overscaledZ,_,c.z,m,c.y-1).key]={backfilled:!1},k[new u.O(r.overscaledZ,r.wrap,c.z,c.x,c.y-1).key]={backfilled:!1},k[new u.O(r.overscaledZ,S,c.z,w,c.y-1).key]={backfilled:!1}),c.y+1<h&&(k[new u.O(r.overscaledZ,_,c.z,m,c.y+1).key]={backfilled:!1},k[new u.O(r.overscaledZ,r.wrap,c.z,c.x,c.y+1).key]={backfilled:!1},k[new u.O(r.overscaledZ,S,c.z,w,c.y+1).key]={backfilled:!1}),k}unloadTile(r){r.demTexture&&this.map.painter.saveTileTexture(r.demTexture),r.fbo&&(r.fbo.destroy(),delete r.fbo),r.dem&&delete r.dem,delete r.neighboringTiles,r.state="unloaded",r.actor&&r.actor.send("removeDEMTile",{uid:r.uid,source:this.id})}}class er extends u.E{constructor(r,c,h,m){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>u.e({},this._options,{type:this.type,data:this._data}),this.id=r,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=h.getActor(),this.setEventedParent(m),this._data=c.data,this._options=u.e({},c),this._collectResourceTiming=c.collectResourceTiming,c.maxzoom!==void 0&&(this.maxzoom=c.maxzoom),c.type&&(this.type=c.type),c.attribution&&(this.attribution=c.attribution),this.promoteId=c.promoteId;const _=u.N/this.tileSize;this.workerOptions=u.e({source:this.id,cluster:c.cluster||!1,geojsonVtOptions:{buffer:(c.buffer!==void 0?c.buffer:128)*_,tolerance:(c.tolerance!==void 0?c.tolerance:.375)*_,extent:u.N,maxZoom:this.maxzoom,lineMetrics:c.lineMetrics||!1,generateId:c.generateId||!1},superclusterOptions:{maxZoom:c.clusterMaxZoom!==void 0?c.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,c.clusterMinPoints||2),extent:u.N,radius:(c.clusterRadius||50)*_,log:!1,generateId:c.generateId||!1},clusterProperties:c.clusterProperties,filter:c.filter},c.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}onAdd(r){this.map=r,this.load()}setData(r){return this._data=r,this._updateWorkerData(),this}updateData(r){return this._updateWorkerData(r),this}setClusterOptions(r){return this.workerOptions.cluster=r.cluster,r&&(r.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=r.clusterRadius),r.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=r.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(r,c){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:r,source:this.id},c),this}getClusterChildren(r,c){return this.actor.send("geojson.getClusterChildren",{clusterId:r,source:this.id},c),this}getClusterLeaves(r,c,h,m){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:r,limit:c,offset:h},m),this}_updateWorkerData(r){const c=u.e({},this.workerOptions);r?c.dataDiff=r:typeof this._data=="string"?(c.request=this.map._requestManager.transformRequest(u.h.resolveURL(this._data),O.Source),c.request.collectResourceTiming=this._collectResourceTiming):c.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new u.k("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,c,(h,m)=>{if(this._pendingLoads--,this._removed||m&&m.abandoned)return void this.fire(new u.k("dataabort",{dataType:"source"}));let _=null;if(m&&m.resourceTiming&&m.resourceTiming[this.id]&&(_=m.resourceTiming[this.id].slice(0)),h)return void this.fire(new u.j(h));const w={dataType:"source"};this._collectResourceTiming&&_&&_.length>0&&u.e(w,{resourceTiming:_}),this.fire(new u.k("data",Object.assign(Object.assign({},w),{sourceDataType:"metadata"}))),this.fire(new u.k("data",Object.assign(Object.assign({},w),{sourceDataType:"content"})))})}loaded(){return this._pendingLoads===0}loadTile(r,c){const h=r.actor?"reloadTile":"loadTile";r.actor=this.actor;const m={type:this.type,uid:r.uid,tileID:r.tileID,zoom:r.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};r.request=this.actor.send(h,m,(_,w)=>(delete r.request,r.unloadVectorData(),r.aborted?c(null):_?c(_):(r.loadVectorData(w,this.map.painter,h==="reloadTile"),c(null))))}abortTile(r){r.request&&(r.request.cancel(),delete r.request),r.aborted=!0}unloadTile(r){r.unloadVectorData(),this.actor.send("removeTile",{uid:r.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var tr=u.Q([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Nn extends u.E{constructor(r,c,h,m){super(),this.load=(_,w)=>{this._loaded=!1,this.fire(new u.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=ee.getImage(this.map._requestManager.transformRequest(this.url,O.Image),(S,k)=>{this._request=null,this._loaded=!0,S?this.fire(new u.j(S)):k&&(this.image=k,_&&(this.coordinates=_),w&&w(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||!this.image)return;const _=this.map.painter.context,w=_.gl;this.boundsBuffer||(this.boundsBuffer=_.createVertexBuffer(this._boundsArray,tr.members)),this.boundsSegments||(this.boundsSegments=u.S.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Me(_,this.image,w.RGBA),this.texture.bind(w.LINEAR,w.CLAMP_TO_EDGE));let S=!1;for(const k in this.tiles){const T=this.tiles[k];T.state!=="loaded"&&(T.state="loaded",T.texture=this.texture,S=!0)}S&&this.fire(new u.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=r,this.dispatcher=h,this.coordinates=c.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(m),this.options=c}loaded(){return this._loaded}updateImage(r){return r.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=r.url,this.load(r.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new u.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(r){this.map=r,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(r){this.coordinates=r;const c=r.map(u.U.fromLngLat);this.tileID=function(m){let _=1/0,w=1/0,S=-1/0,k=-1/0;for(const V of m)_=Math.min(_,V.x),w=Math.min(w,V.y),S=Math.max(S,V.x),k=Math.max(k,V.y);const T=Math.max(S-_,k-w),L=Math.max(0,Math.floor(-Math.log(T)/Math.LN2)),D=Math.pow(2,L);return new u.W(L,Math.floor((_+S)/2*D),Math.floor((w+k)/2*D))}(c),this.minzoom=this.maxzoom=this.tileID.z;const h=c.map(m=>this.tileID.getTilePoint(m)._round());return this._boundsArray=new u.V,this._boundsArray.emplaceBack(h[0].x,h[0].y,0,0),this._boundsArray.emplaceBack(h[1].x,h[1].y,u.N,0),this._boundsArray.emplaceBack(h[3].x,h[3].y,0,u.N),this._boundsArray.emplaceBack(h[2].x,h[2].y,u.N,u.N),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new u.k("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(r,c){this.tileID&&this.tileID.equals(r.tileID.canonical)?(this.tiles[String(r.tileID.wrap)]=r,r.buckets={},c(null)):(r.state="errored",c(null))}hasTransition(){return!1}}class nr extends Nn{constructor(r,c,h,m){super(r,c,h,m),this.load=()=>{this._loaded=!1;const _=this.options;this.urls=[];for(const w of _.urls)this.urls.push(this.map._requestManager.transformRequest(w,O.Source).url);u.X(this.urls,(w,S)=>{this._loaded=!0,w?this.fire(new u.j(w)):S&&(this.video=S,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const _=this.map.painter.context,w=_.gl;this.boundsBuffer||(this.boundsBuffer=_.createVertexBuffer(this._boundsArray,tr.members)),this.boundsSegments||(this.boundsSegments=u.S.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(w.LINEAR,w.CLAMP_TO_EDGE),w.texSubImage2D(w.TEXTURE_2D,0,0,0,w.RGBA,w.UNSIGNED_BYTE,this.video)):(this.texture=new Me(_,this.video,w.RGBA),this.texture.bind(w.LINEAR,w.CLAMP_TO_EDGE));let S=!1;for(const k in this.tiles){const T=this.tiles[k];T.state!=="loaded"&&(T.state="loaded",T.texture=this.texture,S=!0)}S&&this.fire(new u.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=c}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(r){if(this.video){const c=this.video.seekable;r<c.start(0)||r>c.end(0)?this.fire(new u.j(new u.Y(`sources.${this.id}`,null,`Playback for this video can be set only between the ${c.start(0)} and ${c.end(0)}-second mark.`))):this.video.currentTime=r}}getVideo(){return this.video}onAdd(r){this.map||(this.map=r,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class Mr extends Nn{constructor(r,c,h,m){super(r,c,h,m),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new u.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let _=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,_=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,_=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const w=this.map.painter.context,S=w.gl;this.boundsBuffer||(this.boundsBuffer=w.createVertexBuffer(this._boundsArray,tr.members)),this.boundsSegments||(this.boundsSegments=u.S.simpleSegment(0,0,4,2)),this.texture?(_||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Me(w,this.canvas,S.RGBA,{premultiply:!0});let k=!1;for(const T in this.tiles){const L=this.tiles[T];L.state!=="loaded"&&(L.state="loaded",L.texture=this.texture,k=!0)}k&&this.fire(new u.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),c.coordinates?Array.isArray(c.coordinates)&&c.coordinates.length===4&&!c.coordinates.some(_=>!Array.isArray(_)||_.length!==2||_.some(w=>typeof w!="number"))||this.fire(new u.j(new u.Y(`sources.${r}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new u.j(new u.Y(`sources.${r}`,null,'missing required property "coordinates"'))),c.animate&&typeof c.animate!="boolean"&&this.fire(new u.j(new u.Y(`sources.${r}`,null,'optional "animate" property must be a boolean value'))),c.canvas?typeof c.canvas=="string"||c.canvas instanceof HTMLCanvasElement||this.fire(new u.j(new u.Y(`sources.${r}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new u.j(new u.Y(`sources.${r}`,null,'missing required property "canvas"'))),this.options=c,this.animate=c.animate===void 0||c.animate}getCanvas(){return this.canvas}onAdd(r){this.map=r,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const r of[this.canvas.width,this.canvas.height])if(isNaN(r)||r<=0)return!0;return!1}}const nn={},Kn=g=>{switch(g){case"geojson":return er;case"image":return Nn;case"raster":return qt;case"raster-dem":return ln;case"vector":return Xt;case"video":return nr;case"canvas":return Mr}return nn[g]};function rr(g,r){const c=u.Z();return u.$(c,c,[1,1,0]),u.a0(c,c,[.5*g.width,.5*g.height,1]),u.a1(c,c,g.calculatePosMatrix(r.toUnwrapped()))}function ai(g,r,c,h,m,_){const w=function(D,V,te){if(D)for(const Q of D){const oe=V[Q];if(oe&&oe.source===te&&oe.type==="fill-extrusion")return!0}else for(const Q in V){const oe=V[Q];if(oe.source===te&&oe.type==="fill-extrusion")return!0}return!1}(m&&m.layers,r,g.id),S=_.maxPitchScaleFactor(),k=g.tilesIn(h,S,w);k.sort(Er);const T=[];for(const D of k)T.push({wrappedTileID:D.tileID.wrapped().key,queryResults:D.tile.queryRenderedFeatures(r,c,g._state,D.queryGeometry,D.cameraQueryGeometry,D.scale,m,_,S,rr(g.transform,D.tileID))});const L=function(D){const V={},te={};for(const Q of D){const oe=Q.queryResults,J=Q.wrappedTileID,ge=te[J]=te[J]||{};for(const Ce in oe){const le=oe[Ce],ve=ge[Ce]=ge[Ce]||{},Ae=V[Ce]=V[Ce]||[];for(const Pe of le)ve[Pe.featureIndex]||(ve[Pe.featureIndex]=!0,Ae.push(Pe))}}return V}(T);for(const D in L)L[D].forEach(V=>{const te=V.feature,Q=g.getFeatureState(te.layer["source-layer"],te.id);te.source=te.layer.source,te.layer["source-layer"]&&(te.sourceLayer=te.layer["source-layer"]),te.state=Q});return L}function Er(g,r){const c=g.tileID,h=r.tileID;return c.overscaledZ-h.overscaledZ||c.canonical.y-h.canonical.y||c.wrap-h.wrap||c.canonical.x-h.canonical.x}class gr{constructor(r,c){this.timeAdded=0,this.fadeEndTime=0,this.tileID=r,this.uid=u.a2(),this.uses=0,this.tileSize=c,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(r){const c=r+this.timeAdded;c<this.fadeEndTime||(this.fadeEndTime=c)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(r){this.demTexture&&r.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(r,c,h){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",r){r.featureIndex&&(this.latestFeatureIndex=r.featureIndex,r.rawTileData?(this.latestRawTileData=r.rawTileData,this.latestFeatureIndex.rawTileData=r.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=r.collisionBoxArray,this.buckets=function(m,_){const w={};if(!_)return w;for(const S of m){const k=S.layerIds.map(T=>_.getLayer(T)).filter(Boolean);if(k.length!==0){S.layers=k,S.stateDependentLayerIds&&(S.stateDependentLayers=S.stateDependentLayerIds.map(T=>k.filter(L=>L.id===T)[0]));for(const T of k)w[T.id]=S}}return w}(r.buckets,c.style),this.hasSymbolBuckets=!1;for(const m in this.buckets){const _=this.buckets[m];if(_ instanceof u.a4){if(this.hasSymbolBuckets=!0,!h)break;_.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const m in this.buckets){const _=this.buckets[m];if(_ instanceof u.a4&&_.hasRTLText){this.hasRTLText=!0,u.a5();break}}this.queryPadding=0;for(const m in this.buckets){const _=this.buckets[m];this.queryPadding=Math.max(this.queryPadding,c.style.getLayer(m).queryRadius(_))}r.imageAtlas&&(this.imageAtlas=r.imageAtlas),r.glyphAtlasImage&&(this.glyphAtlasImage=r.glyphAtlasImage)}else this.collisionBoxArray=new u.a3}unloadVectorData(){for(const r in this.buckets)this.buckets[r].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(r){return this.buckets[r.id]}upload(r){for(const h in this.buckets){const m=this.buckets[h];m.uploadPending()&&m.upload(r)}const c=r.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Me(r,this.imageAtlas.image,c.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Me(r,this.glyphAtlasImage,c.ALPHA),this.glyphAtlasImage=null)}prepare(r){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(r,this.imageAtlasTexture)}queryRenderedFeatures(r,c,h,m,_,w,S,k,T,L){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:m,cameraQueryGeometry:_,scale:w,tileSize:this.tileSize,pixelPosMatrix:L,transform:k,params:S,queryPadding:this.queryPadding*T},r,c,h):{}}querySourceFeatures(r,c){const h=this.latestFeatureIndex;if(!h||!h.rawTileData)return;const m=h.loadVTLayers(),_=c&&c.sourceLayer?c.sourceLayer:"",w=m._geojsonTileLayer||m[_];if(!w)return;const S=u.a6(c&&c.filter),{z:k,x:T,y:L}=this.tileID.canonical,D={z:k,x:T,y:L};for(let V=0;V<w.length;V++){const te=w.feature(V);if(S.needGeometry){const J=u.a7(te,!0);if(!S.filter(new u.a8(this.tileID.overscaledZ),J,this.tileID.canonical))continue}else if(!S.filter(new u.a8(this.tileID.overscaledZ),te))continue;const Q=h.getId(te,_),oe=new u.a9(te,k,T,L,Q);oe.tile=D,r.push(oe)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(r){const c=this.expirationTime;if(r.cacheControl){const h=u.aa(r.cacheControl);h["max-age"]&&(this.expirationTime=Date.now()+1e3*h["max-age"])}else r.expires&&(this.expirationTime=new Date(r.expires).getTime());if(this.expirationTime){const h=Date.now();let m=!1;if(this.expirationTime>h)m=!1;else if(c)if(this.expirationTime<c)m=!0;else{const _=this.expirationTime-c;_?this.expirationTime=h+Math.max(_,3e4):m=!0}else m=!0;m?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(r,c){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(r).length===0)return;const h=this.latestFeatureIndex.loadVTLayers();for(const m in this.buckets){if(!c.style.hasLayer(m))continue;const _=this.buckets[m],w=_.layers[0].sourceLayer||"_geojsonTileLayer",S=h[w],k=r[w];if(!S||!k||Object.keys(k).length===0)continue;_.update(k,S,this.imageAtlas&&this.imageAtlas.patternPositions||{});const T=c&&c.style&&c.style.getLayer(m);T&&(this.queryPadding=Math.max(this.queryPadding,T.queryRadius(_)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<u.h.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(r){this.symbolFadeHoldUntil=u.h.now()+r}setDependencies(r,c){const h={};for(const m of c)h[m]=!0;this.dependencies[r]=h}hasDependency(r,c){for(const h of r){const m=this.dependencies[h];if(m){for(const _ of c)if(m[_])return!0}}return!1}}class pn{constructor(r,c){this.max=r,this.onRemove=c,this.reset()}reset(){for(const r in this.data)for(const c of this.data[r])c.timeout&&clearTimeout(c.timeout),this.onRemove(c.value);return this.data={},this.order=[],this}add(r,c,h){const m=r.wrapped().key;this.data[m]===void 0&&(this.data[m]=[]);const _={value:c,timeout:void 0};if(h!==void 0&&(_.timeout=setTimeout(()=>{this.remove(r,_)},h)),this.data[m].push(_),this.order.push(m),this.order.length>this.max){const w=this._getAndRemoveByKey(this.order[0]);w&&this.onRemove(w)}return this}has(r){return r.wrapped().key in this.data}getAndRemove(r){return this.has(r)?this._getAndRemoveByKey(r.wrapped().key):null}_getAndRemoveByKey(r){const c=this.data[r].shift();return c.timeout&&clearTimeout(c.timeout),this.data[r].length===0&&delete this.data[r],this.order.splice(this.order.indexOf(r),1),c.value}getByKey(r){const c=this.data[r];return c?c[0].value:null}get(r){return this.has(r)?this.data[r.wrapped().key][0].value:null}remove(r,c){if(!this.has(r))return this;const h=r.wrapped().key,m=c===void 0?0:this.data[h].indexOf(c),_=this.data[h][m];return this.data[h].splice(m,1),_.timeout&&clearTimeout(_.timeout),this.data[h].length===0&&delete this.data[h],this.onRemove(_.value),this.order.splice(this.order.indexOf(h),1),this}setMaxSize(r){for(this.max=r;this.order.length>this.max;){const c=this._getAndRemoveByKey(this.order[0]);c&&this.onRemove(c)}return this}filter(r){const c=[];for(const h in this.data)for(const m of this.data[h])r(m.value)||c.push(m);for(const h of c)this.remove(h.value.tileID,h)}}class ke{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(r,c,h){const m=String(c);if(this.stateChanges[r]=this.stateChanges[r]||{},this.stateChanges[r][m]=this.stateChanges[r][m]||{},u.e(this.stateChanges[r][m],h),this.deletedStates[r]===null){this.deletedStates[r]={};for(const _ in this.state[r])_!==m&&(this.deletedStates[r][_]=null)}else if(this.deletedStates[r]&&this.deletedStates[r][m]===null){this.deletedStates[r][m]={};for(const _ in this.state[r][m])h[_]||(this.deletedStates[r][m][_]=null)}else for(const _ in h)this.deletedStates[r]&&this.deletedStates[r][m]&&this.deletedStates[r][m][_]===null&&delete this.deletedStates[r][m][_]}removeFeatureState(r,c,h){if(this.deletedStates[r]===null)return;const m=String(c);if(this.deletedStates[r]=this.deletedStates[r]||{},h&&c!==void 0)this.deletedStates[r][m]!==null&&(this.deletedStates[r][m]=this.deletedStates[r][m]||{},this.deletedStates[r][m][h]=null);else if(c!==void 0)if(this.stateChanges[r]&&this.stateChanges[r][m])for(h in this.deletedStates[r][m]={},this.stateChanges[r][m])this.deletedStates[r][m][h]=null;else this.deletedStates[r][m]=null;else this.deletedStates[r]=null}getState(r,c){const h=String(c),m=u.e({},(this.state[r]||{})[h],(this.stateChanges[r]||{})[h]);if(this.deletedStates[r]===null)return{};if(this.deletedStates[r]){const _=this.deletedStates[r][c];if(_===null)return{};for(const w in _)delete m[w]}return m}initializeTileState(r,c){r.setFeatureState(this.state,c)}coalesceChanges(r,c){const h={};for(const m in this.stateChanges){this.state[m]=this.state[m]||{};const _={};for(const w in this.stateChanges[m])this.state[m][w]||(this.state[m][w]={}),u.e(this.state[m][w],this.stateChanges[m][w]),_[w]=this.state[m][w];h[m]=_}for(const m in this.deletedStates){this.state[m]=this.state[m]||{};const _={};if(this.deletedStates[m]===null)for(const w in this.state[m])_[w]={},this.state[m][w]={};else for(const w in this.deletedStates[m]){if(this.deletedStates[m][w]===null)this.state[m][w]={};else for(const S of Object.keys(this.deletedStates[m][w]))delete this.state[m][w][S];_[w]=this.state[m][w]}h[m]=h[m]||{},u.e(h[m],_)}if(this.stateChanges={},this.deletedStates={},Object.keys(h).length!==0)for(const m in r)r[m].setFeatureState(h,c)}}class Rt extends u.E{constructor(r,c,h){super(),this.id=r,this.dispatcher=h,this.on("data",m=>{m.dataType==="source"&&m.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&m.dataType==="source"&&m.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((m,_,w,S)=>{const k=new(Kn(_.type))(m,_,w,S);if(k.id!==m)throw new Error(`Expected Source id to be ${m} instead of ${k.id}`);return k})(r,c,h,this),this._tiles={},this._cache=new pn(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new ke,this._didEmitContent=!1,this._updated=!1}onAdd(r){this.map=r,this._maxTileCacheSize=r?r._maxTileCacheSize:null,this._maxTileCacheZoomLevels=r?r._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(r)}onRemove(r){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(r)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const r in this._tiles){const c=this._tiles[r];if(c.state!=="loaded"&&c.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const r=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,r&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(r,c){return this._source.loadTile(r,c)}_unloadTile(r){if(this._source.unloadTile)return this._source.unloadTile(r,()=>{})}_abortTile(r){this._source.abortTile&&this._source.abortTile(r,()=>{}),this._source.fire(new u.k("dataabort",{tile:r,coord:r.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(r){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const c in this._tiles){const h=this._tiles[c];h.upload(r),h.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(r=>r.tileID).sort(Kt).map(r=>r.key)}getRenderableIds(r){const c=[];for(const h in this._tiles)this._isIdRenderable(h,r)&&c.push(this._tiles[h]);return r?c.sort((h,m)=>{const _=h.tileID,w=m.tileID,S=new u.P(_.canonical.x,_.canonical.y)._rotate(this.transform.angle),k=new u.P(w.canonical.x,w.canonical.y)._rotate(this.transform.angle);return _.overscaledZ-w.overscaledZ||k.y-S.y||k.x-S.x}).map(h=>h.tileID.key):c.map(h=>h.tileID).sort(Kt).map(h=>h.key)}hasRenderableParent(r){const c=this.findLoadedParent(r,0);return!!c&&this._isIdRenderable(c.tileID.key)}_isIdRenderable(r,c){return this._tiles[r]&&this._tiles[r].hasData()&&!this._coveredTiles[r]&&(c||!this._tiles[r].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const r in this._tiles)this._tiles[r].state!=="errored"&&this._reloadTile(r,"reloading")}}_reloadTile(r,c){const h=this._tiles[r];h&&(h.state!=="loading"&&(h.state=c),this._loadTile(h,this._tileLoaded.bind(this,h,r,c)))}_tileLoaded(r,c,h,m){if(m)return r.state="errored",void(m.status!==404?this._source.fire(new u.j(m,{tile:r})):this.update(this.transform,this.terrain));r.timeAdded=u.h.now(),h==="expired"&&(r.refreshedUponExpiration=!0),this._setTileReloadTimer(c,r),this.getSource().type==="raster-dem"&&r.dem&&this._backfillDEM(r),this._state.initializeTileState(r,this.map?this.map.painter:null),r.aborted||this._source.fire(new u.k("data",{dataType:"source",tile:r,coord:r.tileID}))}_backfillDEM(r){const c=this.getRenderableIds();for(let m=0;m<c.length;m++){const _=c[m];if(r.neighboringTiles&&r.neighboringTiles[_]){const w=this.getTileByID(_);h(r,w),h(w,r)}}function h(m,_){m.needsHillshadePrepare=!0,m.needsTerrainPrepare=!0;let w=_.tileID.canonical.x-m.tileID.canonical.x;const S=_.tileID.canonical.y-m.tileID.canonical.y,k=Math.pow(2,m.tileID.canonical.z),T=_.tileID.key;w===0&&S===0||Math.abs(S)>1||(Math.abs(w)>1&&(Math.abs(w+k)===1?w+=k:Math.abs(w-k)===1&&(w-=k)),_.dem&&m.dem&&(m.dem.backfillBorder(_.dem,w,S),m.neighboringTiles&&m.neighboringTiles[T]&&(m.neighboringTiles[T].backfilled=!0)))}}getTile(r){return this.getTileByID(r.key)}getTileByID(r){return this._tiles[r]}_retainLoadedChildren(r,c,h,m){for(const _ in this._tiles){let w=this._tiles[_];if(m[_]||!w.hasData()||w.tileID.overscaledZ<=c||w.tileID.overscaledZ>h)continue;let S=w.tileID;for(;w&&w.tileID.overscaledZ>c+1;){const T=w.tileID.scaledTo(w.tileID.overscaledZ-1);w=this._tiles[T.key],w&&w.hasData()&&(S=T)}let k=S;for(;k.overscaledZ>c;)if(k=k.scaledTo(k.overscaledZ-1),r[k.key]){m[S.key]=S;break}}}findLoadedParent(r,c){if(r.key in this._loadedParentTiles){const h=this._loadedParentTiles[r.key];return h&&h.tileID.overscaledZ>=c?h:null}for(let h=r.overscaledZ-1;h>=c;h--){const m=r.scaledTo(h),_=this._getLoadedTile(m);if(_)return _}}_getLoadedTile(r){const c=this._tiles[r.key];return c&&c.hasData()?c:this._cache.getByKey(r.wrapped().key)}updateCacheSize(r){const c=Math.ceil(r.width/this._source.tileSize)+1,h=Math.ceil(r.height/this._source.tileSize)+1,m=Math.floor(c*h*(this._maxTileCacheZoomLevels===null?u.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),_=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,m):m;this._cache.setMaxSize(_)}handleWrapJump(r){const c=Math.round((r-(this._prevLng===void 0?r:this._prevLng))/360);if(this._prevLng=r,c){const h={};for(const m in this._tiles){const _=this._tiles[m];_.tileID=_.tileID.unwrapTo(_.tileID.wrap+c),h[_.tileID.key]=_}this._tiles=h;for(const m in this._timers)clearTimeout(this._timers[m]),delete this._timers[m];for(const m in this._tiles)this._setTileReloadTimer(m,this._tiles[m])}}update(r,c){if(this.transform=r,this.terrain=c,!this._sourceLoaded||this._paused)return;let h;this.updateCacheSize(r),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?h=r.getVisibleUnwrappedCoordinates(this._source.tileID).map(L=>new u.O(L.canonical.z,L.wrap,L.canonical.z,L.canonical.x,L.canonical.y)):(h=r.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:c}),this._source.hasTile&&(h=h.filter(L=>this._source.hasTile(L)))):h=[];const m=r.coveringZoomLevel(this._source),_=Math.max(m-Rt.maxOverzooming,this._source.minzoom),w=Math.max(m+Rt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const L={};for(const D of h)if(D.canonical.z>this._source.minzoom){const V=D.scaledTo(D.canonical.z-1);L[V.key]=V;const te=D.scaledTo(Math.max(this._source.minzoom,Math.min(D.canonical.z,5)));L[te.key]=te}h=h.concat(Object.values(L))}const S=h.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,S&&this.fire(new u.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const k=this._updateRetainedTiles(h,m);if(Ot(this._source.type)){const L={},D={},V=Object.keys(k),te=u.h.now();for(const Q of V){const oe=k[Q],J=this._tiles[Q];if(!J||J.fadeEndTime!==0&&J.fadeEndTime<=te)continue;const ge=this.findLoadedParent(oe,_);ge&&(this._addTile(ge.tileID),L[ge.tileID.key]=ge.tileID),D[Q]=oe}this._retainLoadedChildren(D,m,w,k);for(const Q in L)k[Q]||(this._coveredTiles[Q]=!0,k[Q]=L[Q]);if(c){const Q={},oe={};for(const J of h)this._tiles[J.key].hasData()?Q[J.key]=J:oe[J.key]=J;for(const J in oe){const ge=oe[J].children(this._source.maxzoom);this._tiles[ge[0].key]&&this._tiles[ge[1].key]&&this._tiles[ge[2].key]&&this._tiles[ge[3].key]&&(Q[ge[0].key]=k[ge[0].key]=ge[0],Q[ge[1].key]=k[ge[1].key]=ge[1],Q[ge[2].key]=k[ge[2].key]=ge[2],Q[ge[3].key]=k[ge[3].key]=ge[3],delete oe[J])}for(const J in oe){const ge=this.findLoadedParent(oe[J],this._source.minzoom);if(ge){Q[ge.tileID.key]=k[ge.tileID.key]=ge.tileID;for(const Ce in Q)Q[Ce].isChildOf(ge.tileID)&&delete Q[Ce]}}for(const J in this._tiles)Q[J]||(this._coveredTiles[J]=!0)}}for(const L in k)this._tiles[L].clearFadeHold();const T=u.ab(this._tiles,k);for(const L of T){const D=this._tiles[L];D.hasSymbolBuckets&&!D.holdingForFade()?D.setHoldDuration(this.map._fadeDuration):D.hasSymbolBuckets&&!D.symbolFadeFinished()||this._removeTile(L)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const r in this._tiles)this._tiles[r].holdingForFade()&&this._removeTile(r)}_updateRetainedTiles(r,c){const h={},m={},_=Math.max(c-Rt.maxOverzooming,this._source.minzoom),w=Math.max(c+Rt.maxUnderzooming,this._source.minzoom),S={};for(const k of r){const T=this._addTile(k);h[k.key]=k,T.hasData()||c<this._source.maxzoom&&(S[k.key]=k)}this._retainLoadedChildren(S,c,w,h);for(const k of r){let T=this._tiles[k.key];if(T.hasData())continue;if(c+1>this._source.maxzoom){const D=k.children(this._source.maxzoom)[0],V=this.getTile(D);if(V&&V.hasData()){h[D.key]=D;continue}}else{const D=k.children(this._source.maxzoom);if(h[D[0].key]&&h[D[1].key]&&h[D[2].key]&&h[D[3].key])continue}let L=T.wasRequested();for(let D=k.overscaledZ-1;D>=_;--D){const V=k.scaledTo(D);if(m[V.key])break;if(m[V.key]=!0,T=this.getTile(V),!T&&L&&(T=this._addTile(V)),T){const te=T.hasData();if((L||te)&&(h[V.key]=V),L=T.wasRequested(),te)break}}}return h}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const r in this._tiles){const c=[];let h,m=this._tiles[r].tileID;for(;m.overscaledZ>0;){if(m.key in this._loadedParentTiles){h=this._loadedParentTiles[m.key];break}c.push(m.key);const _=m.scaledTo(m.overscaledZ-1);if(h=this._getLoadedTile(_),h)break;m=_}for(const _ of c)this._loadedParentTiles[_]=h}}_addTile(r){let c=this._tiles[r.key];if(c)return c;c=this._cache.getAndRemove(r),c&&(this._setTileReloadTimer(r.key,c),c.tileID=r,this._state.initializeTileState(c,this.map?this.map.painter:null),this._cacheTimers[r.key]&&(clearTimeout(this._cacheTimers[r.key]),delete this._cacheTimers[r.key],this._setTileReloadTimer(r.key,c)));const h=c;return c||(c=new gr(r,this._source.tileSize*r.overscaleFactor()),this._loadTile(c,this._tileLoaded.bind(this,c,r.key,c.state))),c.uses++,this._tiles[r.key]=c,h||this._source.fire(new u.k("dataloading",{tile:c,coord:c.tileID,dataType:"source"})),c}_setTileReloadTimer(r,c){r in this._timers&&(clearTimeout(this._timers[r]),delete this._timers[r]);const h=c.getExpiryTimeout();h&&(this._timers[r]=setTimeout(()=>{this._reloadTile(r,"expired"),delete this._timers[r]},h))}_removeTile(r){const c=this._tiles[r];c&&(c.uses--,delete this._tiles[r],this._timers[r]&&(clearTimeout(this._timers[r]),delete this._timers[r]),c.uses>0||(c.hasData()&&c.state!=="reloading"?this._cache.add(c.tileID,c,c.getExpiryTimeout()):(c.aborted=!0,this._abortTile(c),this._unloadTile(c))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const r in this._tiles)this._removeTile(r);this._cache.reset()}tilesIn(r,c,h){const m=[],_=this.transform;if(!_)return m;const w=h?_.getCameraQueryGeometry(r):r,S=r.map(Q=>_.pointCoordinate(Q,this.terrain)),k=w.map(Q=>_.pointCoordinate(Q,this.terrain)),T=this.getIds();let L=1/0,D=1/0,V=-1/0,te=-1/0;for(const Q of k)L=Math.min(L,Q.x),D=Math.min(D,Q.y),V=Math.max(V,Q.x),te=Math.max(te,Q.y);for(let Q=0;Q<T.length;Q++){const oe=this._tiles[T[Q]];if(oe.holdingForFade())continue;const J=oe.tileID,ge=Math.pow(2,_.zoom-oe.tileID.overscaledZ),Ce=c*oe.queryPadding*u.N/oe.tileSize/ge,le=[J.getTilePoint(new u.U(L,D)),J.getTilePoint(new u.U(V,te))];if(le[0].x-Ce<u.N&&le[0].y-Ce<u.N&&le[1].x+Ce>=0&&le[1].y+Ce>=0){const ve=S.map(Pe=>J.getTilePoint(Pe)),Ae=k.map(Pe=>J.getTilePoint(Pe));m.push({tile:oe,tileID:J,queryGeometry:ve,cameraQueryGeometry:Ae,scale:ge})}}return m}getVisibleCoordinates(r){const c=this.getRenderableIds(r).map(h=>this._tiles[h].tileID);for(const h of c)h.posMatrix=this.transform.calculatePosMatrix(h.toUnwrapped());return c}hasTransition(){if(this._source.hasTransition())return!0;if(Ot(this._source.type)){const r=u.h.now();for(const c in this._tiles)if(this._tiles[c].fadeEndTime>=r)return!0}return!1}setFeatureState(r,c,h){this._state.updateState(r=r||"_geojsonTileLayer",c,h)}removeFeatureState(r,c,h){this._state.removeFeatureState(r=r||"_geojsonTileLayer",c,h)}getFeatureState(r,c){return this._state.getState(r=r||"_geojsonTileLayer",c)}setDependencies(r,c,h){const m=this._tiles[r];m&&m.setDependencies(c,h)}reloadTilesForDependencies(r,c){for(const h in this._tiles)this._tiles[h].hasDependency(r,c)&&this._reloadTile(h,"reloading");this._cache.filter(h=>!h.hasDependency(r,c))}}function Kt(g,r){const c=Math.abs(2*g.wrap)-+(g.wrap<0),h=Math.abs(2*r.wrap)-+(r.wrap<0);return g.overscaledZ-r.overscaledZ||h-c||r.canonical.y-g.canonical.y||r.canonical.x-g.canonical.x}function Ot(g){return g==="raster"||g==="image"||g==="video"}Rt.maxOverzooming=10,Rt.maxUnderzooming=3;const Zt="mapboxgl_preloaded_worker_pool";class Ci{constructor(){this.active={}}acquire(r){if(!this.workers)for(this.workers=[];this.workers.length<Ci.workerCount;)this.workers.push(new Worker(u.c.WORKER_URL));return this.active[r]=!0,this.workers.slice()}release(r){delete this.active[r],this.numActive()===0&&(this.workers.forEach(c=>{c.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Zt]}numActive(){return Object.keys(this.active).length}}const na=Math.floor(u.h.hardwareConcurrency/2);let Vi;function Ya(){return Vi||(Vi=new Ci),Vi}Ci.workerCount=u.ac(globalThis)?Math.max(Math.min(na,3),1):1;class ra{constructor(r,c){this.reset(r,c)}reset(r,c){this.points=r||[],this._distances=[0];for(let h=1;h<this.points.length;h++)this._distances[h]=this._distances[h-1]+this.points[h].dist(this.points[h-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(c||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(r){if(this.points.length===1)return this.points[0];r=u.ad(r,0,1);let c=1,h=this._distances[c];const m=r*this.paddedLength+this.padding;for(;h<m&&c<this._distances.length;)h=this._distances[++c];const _=c-1,w=this._distances[_],S=h-w,k=S>0?(m-w)/S:0;return this.points[_].mult(1-k).add(this.points[c].mult(k))}}function uo(g,r){let c=!0;return g==="always"||g!=="never"&&r!=="never"||(c=!1),c}class Io{constructor(r,c,h){const m=this.boxCells=[],_=this.circleCells=[];this.xCellCount=Math.ceil(r/h),this.yCellCount=Math.ceil(c/h);for(let w=0;w<this.xCellCount*this.yCellCount;w++)m.push([]),_.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=r,this.height=c,this.xScale=this.xCellCount/r,this.yScale=this.yCellCount/c,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(r,c,h,m,_){this._forEachCell(c,h,m,_,this._insertBoxCell,this.boxUid++),this.boxKeys.push(r),this.bboxes.push(c),this.bboxes.push(h),this.bboxes.push(m),this.bboxes.push(_)}insertCircle(r,c,h,m){this._forEachCell(c-m,h-m,c+m,h+m,this._insertCircleCell,this.circleUid++),this.circleKeys.push(r),this.circles.push(c),this.circles.push(h),this.circles.push(m)}_insertBoxCell(r,c,h,m,_,w){this.boxCells[_].push(w)}_insertCircleCell(r,c,h,m,_,w){this.circleCells[_].push(w)}_query(r,c,h,m,_,w,S){if(h<0||r>this.width||m<0||c>this.height)return[];const k=[];if(r<=0&&c<=0&&this.width<=h&&this.height<=m){if(_)return[{key:null,x1:r,y1:c,x2:h,y2:m}];for(let T=0;T<this.boxKeys.length;T++)k.push({key:this.boxKeys[T],x1:this.bboxes[4*T],y1:this.bboxes[4*T+1],x2:this.bboxes[4*T+2],y2:this.bboxes[4*T+3]});for(let T=0;T<this.circleKeys.length;T++){const L=this.circles[3*T],D=this.circles[3*T+1],V=this.circles[3*T+2];k.push({key:this.circleKeys[T],x1:L-V,y1:D-V,x2:L+V,y2:D+V})}}else this._forEachCell(r,c,h,m,this._queryCell,k,{hitTest:_,overlapMode:w,seenUids:{box:{},circle:{}}},S);return k}query(r,c,h,m){return this._query(r,c,h,m,!1,null)}hitTest(r,c,h,m,_,w){return this._query(r,c,h,m,!0,_,w).length>0}hitTestCircle(r,c,h,m,_){const w=r-h,S=r+h,k=c-h,T=c+h;if(S<0||w>this.width||T<0||k>this.height)return!1;const L=[];return this._forEachCell(w,k,S,T,this._queryCellCircle,L,{hitTest:!0,overlapMode:m,circle:{x:r,y:c,radius:h},seenUids:{box:{},circle:{}}},_),L.length>0}_queryCell(r,c,h,m,_,w,S,k){const{seenUids:T,hitTest:L,overlapMode:D}=S,V=this.boxCells[_];if(V!==null){const Q=this.bboxes;for(const oe of V)if(!T.box[oe]){T.box[oe]=!0;const J=4*oe,ge=this.boxKeys[oe];if(r<=Q[J+2]&&c<=Q[J+3]&&h>=Q[J+0]&&m>=Q[J+1]&&(!k||k(ge))&&(!L||!uo(D,ge.overlapMode))&&(w.push({key:ge,x1:Q[J],y1:Q[J+1],x2:Q[J+2],y2:Q[J+3]}),L))return!0}}const te=this.circleCells[_];if(te!==null){const Q=this.circles;for(const oe of te)if(!T.circle[oe]){T.circle[oe]=!0;const J=3*oe,ge=this.circleKeys[oe];if(this._circleAndRectCollide(Q[J],Q[J+1],Q[J+2],r,c,h,m)&&(!k||k(ge))&&(!L||!uo(D,ge.overlapMode))){const Ce=Q[J],le=Q[J+1],ve=Q[J+2];if(w.push({key:ge,x1:Ce-ve,y1:le-ve,x2:Ce+ve,y2:le+ve}),L)return!0}}}return!1}_queryCellCircle(r,c,h,m,_,w,S,k){const{circle:T,seenUids:L,overlapMode:D}=S,V=this.boxCells[_];if(V!==null){const Q=this.bboxes;for(const oe of V)if(!L.box[oe]){L.box[oe]=!0;const J=4*oe,ge=this.boxKeys[oe];if(this._circleAndRectCollide(T.x,T.y,T.radius,Q[J+0],Q[J+1],Q[J+2],Q[J+3])&&(!k||k(ge))&&!uo(D,ge.overlapMode))return w.push(!0),!0}}const te=this.circleCells[_];if(te!==null){const Q=this.circles;for(const oe of te)if(!L.circle[oe]){L.circle[oe]=!0;const J=3*oe,ge=this.circleKeys[oe];if(this._circlesCollide(Q[J],Q[J+1],Q[J+2],T.x,T.y,T.radius)&&(!k||k(ge))&&!uo(D,ge.overlapMode))return w.push(!0),!0}}}_forEachCell(r,c,h,m,_,w,S,k){const T=this._convertToXCellCoord(r),L=this._convertToYCellCoord(c),D=this._convertToXCellCoord(h),V=this._convertToYCellCoord(m);for(let te=T;te<=D;te++)for(let Q=L;Q<=V;Q++)if(_.call(this,r,c,h,m,this.xCellCount*Q+te,w,S,k))return}_convertToXCellCoord(r){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(r*this.xScale)))}_convertToYCellCoord(r){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(r*this.yScale)))}_circlesCollide(r,c,h,m,_,w){const S=m-r,k=_-c,T=h+w;return T*T>S*S+k*k}_circleAndRectCollide(r,c,h,m,_,w,S){const k=(w-m)/2,T=Math.abs(r-(m+k));if(T>k+h)return!1;const L=(S-_)/2,D=Math.abs(c-(_+L));if(D>L+h)return!1;if(T<=k||D<=L)return!0;const V=T-k,te=D-L;return V*V+te*te<=h*h}}function Ye(g,r,c,h,m){const _=u.Z();return r?(u.a0(_,_,[1/m,1/m,1]),c||u.ae(_,_,h.angle)):u.a1(_,h.labelPlaneMatrix,g),_}function Mi(g,r,c,h,m){if(r){const _=u.af(g);return u.a0(_,_,[m,m,1]),c||u.ae(_,_,-h.angle),_}return h.glCoordMatrix}function Cn(g,r,c){let h;c?(h=[g.x,g.y,c(g.x,g.y),1],u.ag(h,h,r)):(h=[g.x,g.y,0,1],re(h,h,r));const m=h[3];return{point:new u.P(h[0]/m,h[1]/m),signedDistanceFromCamera:m}}function si(g,r){return .5+g/r*.5}function Fr(g,r){const c=g[0]/g[3],h=g[1]/g[3];return c>=-r[0]&&c<=r[0]&&h>=-r[1]&&h<=r[1]}function Qe(g,r,c,h,m,_,w,S,k,T){const L=h?g.textSizeData:g.iconSizeData,D=u.ah(L,c.transform.zoom),V=[256/c.width*2+1,256/c.height*2+1],te=h?g.text.dynamicLayoutVertexArray:g.icon.dynamicLayoutVertexArray;te.clear();const Q=g.lineVertexArray,oe=h?g.text.placedSymbolArray:g.icon.placedSymbolArray,J=c.transform.width/c.transform.height;let ge=!1;for(let Ce=0;Ce<oe.length;Ce++){const le=oe.get(Ce);if(le.hidden||le.writingMode===u.ai.vertical&&!ge){q(le.numGlyphs,te);continue}let ve;if(ge=!1,T?(ve=[le.anchorX,le.anchorY,T(le.anchorX,le.anchorY),1],u.ag(ve,ve,r)):(ve=[le.anchorX,le.anchorY,0,1],re(ve,ve,r)),!Fr(ve,V)){q(le.numGlyphs,te);continue}const Ae=si(c.transform.cameraToCenterDistance,ve[3]),Pe=u.aj(L,D,le),Ne=w?Pe/Ae:Pe*Ae,Ue=new u.P(le.anchorX,le.anchorY),je=Cn(Ue,m,T).point,Ke={projections:{},offsets:{}},mt=On(le,Ne,!1,S,r,m,_,g.glyphOffsetArray,Q,te,je,Ue,Ke,J,k,T);ge=mt.useVertical,(mt.notEnoughRoom||ge||mt.needsFlipping&&On(le,Ne,!0,S,r,m,_,g.glyphOffsetArray,Q,te,je,Ue,Ke,J,k,T).notEnoughRoom)&&q(le.numGlyphs,te)}h?g.text.dynamicLayoutVertexBuffer.updateData(te):g.icon.dynamicLayoutVertexBuffer.updateData(te)}function Lt(g,r,c,h,m,_,w,S,k,T,L,D,V){const te=S.glyphStartIndex+S.numGlyphs,Q=S.lineStartIndex,oe=S.lineStartIndex+S.lineLength,J=r.getoffsetX(S.glyphStartIndex),ge=r.getoffsetX(te-1),Ce=N(g*J,c,h,m,_,w,S.segment,Q,oe,k,T,L,D,V);if(!Ce)return null;const le=N(g*ge,c,h,m,_,w,S.segment,Q,oe,k,T,L,D,V);return le?{first:Ce,last:le}:null}function kt(g,r,c,h){return g===u.ai.horizontal&&Math.abs(c.y-r.y)>Math.abs(c.x-r.x)*h?{useVertical:!0}:(g===u.ai.vertical?r.y<c.y:r.x>c.x)?{needsFlipping:!0}:null}function On(g,r,c,h,m,_,w,S,k,T,L,D,V,te,Q,oe){const J=r/24,ge=g.lineOffsetX*J,Ce=g.lineOffsetY*J;let le;if(g.numGlyphs>1){const ve=g.glyphStartIndex+g.numGlyphs,Ae=g.lineStartIndex,Pe=g.lineStartIndex+g.lineLength,Ne=Lt(J,S,ge,Ce,c,L,D,g,k,_,V,Q,oe);if(!Ne)return{notEnoughRoom:!0};const Ue=Cn(Ne.first.point,w,oe).point,je=Cn(Ne.last.point,w,oe).point;if(h&&!c){const Ke=kt(g.writingMode,Ue,je,te);if(Ke)return Ke}le=[Ne.first];for(let Ke=g.glyphStartIndex+1;Ke<ve-1;Ke++)le.push(N(J*S.getoffsetX(Ke),ge,Ce,c,L,D,g.segment,Ae,Pe,k,_,V,Q,oe));le.push(Ne.last)}else{if(h&&!c){const Ae=Cn(D,m,oe).point,Pe=g.lineStartIndex+g.segment+1,Ne=new u.P(k.getx(Pe),k.gety(Pe)),Ue=Cn(Ne,m,oe),je=Ue.signedDistanceFromCamera>0?Ue.point:Ei(D,Ne,Ae,1,m,oe),Ke=kt(g.writingMode,Ae,je,te);if(Ke)return Ke}const ve=N(J*S.getoffsetX(g.glyphStartIndex),ge,Ce,c,L,D,g.segment,g.lineStartIndex,g.lineStartIndex+g.lineLength,k,_,V,Q,oe);if(!ve)return{notEnoughRoom:!0};le=[ve]}for(const ve of le)u.ak(T,ve.point,ve.angle);return{}}function Ei(g,r,c,h,m,_){const w=Cn(g.add(g.sub(r)._unit()),m,_).point,S=c.sub(w);return c.add(S._mult(h/S.mag()))}function xt(g,r){const{projectionCache:c,lineVertexArray:h,labelPlaneMatrix:m,tileAnchorPoint:_,distanceFromAnchor:w,getElevation:S,previousVertex:k,direction:T,absOffsetX:L}=r;if(c.projections[g])return c.projections[g];const D=new u.P(h.getx(g),h.gety(g)),V=Cn(D,m,S);if(V.signedDistanceFromCamera>0)return c.projections[g]=V.point,V.point;const te=g-T;return Ei(w===0?_:new u.P(h.getx(te),h.gety(te)),D,k,L-w+1,m,S)}function ki(g,r,c){return g._unit()._perp()._mult(r*c)}function ie(g,r,c,h,m,_,w,S){const{projectionCache:k,direction:T}=S;if(k.offsets[g])return k.offsets[g];const L=c.add(r);if(g+T<h||g+T>=m)return k.offsets[g]=L,L;const D=xt(g+T,S),V=ki(D.sub(c),w,T),te=c.add(V),Q=D.add(V);return k.offsets[g]=u.al(_,L,te,Q)||L,k.offsets[g]}function N(g,r,c,h,m,_,w,S,k,T,L,D,V,te){const Q=h?g-r:g+r;let oe=Q>0?1:-1,J=0;h&&(oe*=-1,J=Math.PI),oe<0&&(J+=Math.PI);let ge,Ce,le=oe>0?S+w:S+w+1,ve=m,Ae=m,Pe=0,Ne=0;const Ue=Math.abs(Q),je=[];let Ke;for(;Pe+Ne<=Ue;){if(le+=oe,le<S||le>=k)return null;Pe+=Ne,Ae=ve,Ce=ge;const rt={projectionCache:D,lineVertexArray:T,labelPlaneMatrix:L,tileAnchorPoint:_,distanceFromAnchor:Pe,getElevation:te,previousVertex:Ae,direction:oe,absOffsetX:Ue};if(ve=xt(le,rt),c===0)je.push(Ae),Ke=ve.sub(Ae);else{let Et;const yt=ve.sub(Ae);Et=yt.mag()===0?ki(xt(le+oe,rt).sub(ve),c,oe):ki(yt,c,oe),Ce||(Ce=Ae.add(Et)),ge=ie(le,Et,ve,S,k,Ce,c,rt),je.push(Ce),Ke=ge.sub(Ce)}Ne=Ke.mag()}const mt=Ke._mult((Ue-Pe)/Ne)._add(Ce||Ae),Bt=J+Math.atan2(ve.y-Ae.y,ve.x-Ae.x);return je.push(mt),{point:mt,angle:V?Bt:0,path:je}}const j=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function q(g,r){for(let c=0;c<g;c++){const h=r.length;r.resize(h+4),r.float32.set(j,3*h)}}function re(g,r,c){const h=r[0],m=r[1];return g[0]=c[0]*h+c[4]*m+c[12],g[1]=c[1]*h+c[5]*m+c[13],g[3]=c[3]*h+c[7]*m+c[15],g}const ae=100;class xe{constructor(r,c=new Io(r.width+200,r.height+200,25),h=new Io(r.width+200,r.height+200,25)){this.transform=r,this.grid=c,this.ignoredGrid=h,this.pitchfactor=Math.cos(r._pitch)*r.cameraToCenterDistance,this.screenRightBoundary=r.width+ae,this.screenBottomBoundary=r.height+ae,this.gridRightBoundary=r.width+200,this.gridBottomBoundary=r.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(r,c,h,m,_,w){const S=this.projectAndGetPerspectiveRatio(m,r.anchorPointX,r.anchorPointY,w),k=h*S.perspectiveRatio,T=r.x1*k+S.point.x,L=r.y1*k+S.point.y,D=r.x2*k+S.point.x,V=r.y2*k+S.point.y;return!this.isInsideGrid(T,L,D,V)||c!=="always"&&this.grid.hitTest(T,L,D,V,c,_)||S.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[T,L,D,V],offscreen:this.isOffscreen(T,L,D,V)}}placeCollisionCircles(r,c,h,m,_,w,S,k,T,L,D,V,te,Q){const oe=[],J=new u.P(c.anchorX,c.anchorY),ge=Cn(J,w,Q),Ce=si(this.transform.cameraToCenterDistance,ge.signedDistanceFromCamera),le=(L?_/Ce:_*Ce)/u.ap,ve=Cn(J,S,Q).point,Ae=Lt(le,m,c.lineOffsetX*le,c.lineOffsetY*le,!1,ve,J,c,h,S,{projections:{},offsets:{}},!1,Q);let Pe=!1,Ne=!1,Ue=!0;if(Ae){const je=.5*V*Ce+te,Ke=new u.P(-100,-100),mt=new u.P(this.screenRightBoundary,this.screenBottomBoundary),Bt=new ra,rt=Ae.first,Et=Ae.last;let yt=[];for(let zt=rt.path.length-1;zt>=1;zt--)yt.push(rt.path[zt]);for(let zt=1;zt<Et.path.length;zt++)yt.push(Et.path[zt]);const cn=2.5*je;if(k){const zt=yt.map($t=>Cn($t,k,Q));yt=zt.some($t=>$t.signedDistanceFromCamera<=0)?[]:zt.map($t=>$t.point)}let Nt=[];if(yt.length>0){const zt=yt[0].clone(),$t=yt[0].clone();for(let Bn=1;Bn<yt.length;Bn++)zt.x=Math.min(zt.x,yt[Bn].x),zt.y=Math.min(zt.y,yt[Bn].y),$t.x=Math.max($t.x,yt[Bn].x),$t.y=Math.max($t.y,yt[Bn].y);Nt=zt.x>=Ke.x&&$t.x<=mt.x&&zt.y>=Ke.y&&$t.y<=mt.y?[yt]:$t.x<Ke.x||zt.x>mt.x||$t.y<Ke.y||zt.y>mt.y?[]:u.am([yt],Ke.x,Ke.y,mt.x,mt.y)}for(const zt of Nt){Bt.reset(zt,.25*je);let $t=0;$t=Bt.length<=.5*je?1:Math.ceil(Bt.paddedLength/cn)+1;for(let Bn=0;Bn<$t;Bn++){const mn=Bn/Math.max($t-1,1),_r=Bt.lerp(mn),ir=_r.x+ae,Un=_r.y+ae;oe.push(ir,Un,je,0);const pi=ir-je,_n=Un-je,ho=ir+je,po=Un+je;if(Ue=Ue&&this.isOffscreen(pi,_n,ho,po),Ne=Ne||this.isInsideGrid(pi,_n,ho,po),r!=="always"&&this.grid.hitTestCircle(ir,Un,je,r,D)&&(Pe=!0,!T))return{circles:[],offscreen:!1,collisionDetected:Pe}}}}return{circles:!T&&Pe||!Ne||Ce<this.perspectiveRatioCutoff?[]:oe,offscreen:Ue,collisionDetected:Pe}}queryRenderedSymbols(r){if(r.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const c=[];let h=1/0,m=1/0,_=-1/0,w=-1/0;for(const L of r){const D=new u.P(L.x+ae,L.y+ae);h=Math.min(h,D.x),m=Math.min(m,D.y),_=Math.max(_,D.x),w=Math.max(w,D.y),c.push(D)}const S=this.grid.query(h,m,_,w).concat(this.ignoredGrid.query(h,m,_,w)),k={},T={};for(const L of S){const D=L.key;if(k[D.bucketInstanceId]===void 0&&(k[D.bucketInstanceId]={}),k[D.bucketInstanceId][D.featureIndex])continue;const V=[new u.P(L.x1,L.y1),new u.P(L.x2,L.y1),new u.P(L.x2,L.y2),new u.P(L.x1,L.y2)];u.an(c,V)&&(k[D.bucketInstanceId][D.featureIndex]=!0,T[D.bucketInstanceId]===void 0&&(T[D.bucketInstanceId]=[]),T[D.bucketInstanceId].push(D.featureIndex))}return T}insertCollisionBox(r,c,h,m,_,w){(h?this.ignoredGrid:this.grid).insert({bucketInstanceId:m,featureIndex:_,collisionGroupID:w,overlapMode:c},r[0],r[1],r[2],r[3])}insertCollisionCircles(r,c,h,m,_,w){const S=h?this.ignoredGrid:this.grid,k={bucketInstanceId:m,featureIndex:_,collisionGroupID:w,overlapMode:c};for(let T=0;T<r.length;T+=4)S.insertCircle(k,r[T],r[T+1],r[T+2])}projectAndGetPerspectiveRatio(r,c,h,m){let _;return m?(_=[c,h,m(c,h),1],u.ag(_,_,r)):(_=[c,h,0,1],re(_,_,r)),{point:new u.P((_[0]/_[3]+1)/2*this.transform.width+ae,(-_[1]/_[3]+1)/2*this.transform.height+ae),perspectiveRatio:.5+this.transform.cameraToCenterDistance/_[3]*.5}}isOffscreen(r,c,h,m){return h<ae||r>=this.screenRightBoundary||m<ae||c>this.screenBottomBoundary}isInsideGrid(r,c,h,m){return h>=0&&r<this.gridRightBoundary&&m>=0&&c<this.gridBottomBoundary}getViewportMatrix(){const r=u.ao([]);return u.$(r,r,[-100,-100,0]),r}}function me(g,r,c){return r*(u.N/(g.tileSize*Math.pow(2,c-g.tileID.overscaledZ)))}class ue{constructor(r,c,h,m){this.opacity=r?Math.max(0,Math.min(1,r.opacity+(r.placed?c:-c))):m&&h?1:0,this.placed=h}isHidden(){return this.opacity===0&&!this.placed}}class ye{constructor(r,c,h,m,_){this.text=new ue(r?r.text:null,c,h,_),this.icon=new ue(r?r.icon:null,c,m,_)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class De{constructor(r,c,h){this.text=r,this.icon=c,this.skipFade=h}}class ze{constructor(){this.invProjMatrix=u.Z(),this.viewportMatrix=u.Z(),this.circles=[]}}class $e{constructor(r,c,h,m,_){this.bucketInstanceId=r,this.featureIndex=c,this.sourceLayerIndex=h,this.bucketIndex=m,this.tileID=_}}class pt{constructor(r){this.crossSourceCollisions=r,this.maxGroupID=0,this.collisionGroups={}}get(r){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[r]){const c=++this.maxGroupID;this.collisionGroups[r]={ID:c,predicate:h=>h.collisionGroupID===c}}return this.collisionGroups[r]}}function At(g,r,c,h,m){const{horizontalAlign:_,verticalAlign:w}=u.au(g);return new u.P(-(_-.5)*r+h[0]*m,-(w-.5)*c+h[1]*m)}function ft(g,r,c,h,m,_){const{x1:w,x2:S,y1:k,y2:T,anchorPointX:L,anchorPointY:D}=g,V=new u.P(r,c);return h&&V._rotate(m?_:-_),{x1:w+V.x,y1:k+V.y,x2:S+V.x,y2:T+V.y,anchorPointX:L,anchorPointY:D}}class St{constructor(r,c,h,m,_){this.transform=r.clone(),this.terrain=c,this.collisionIndex=new xe(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=h,this.retainedQueryData={},this.collisionGroups=new pt(m),this.collisionCircleArrays={},this.prevPlacement=_,_&&(_.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(r,c,h,m){const _=h.getBucket(c),w=h.latestFeatureIndex;if(!_||!w||c.id!==_.layerIds[0])return;const S=h.collisionBoxArray,k=_.layers[0].layout,T=Math.pow(2,this.transform.zoom-h.tileID.overscaledZ),L=h.tileSize/u.N,D=this.transform.calculatePosMatrix(h.tileID.toUnwrapped()),V=k.get("text-pitch-alignment")==="map",te=k.get("text-rotation-alignment")==="map",Q=me(h,1,this.transform.zoom),oe=Ye(D,V,te,this.transform,Q);let J=null;if(V){const Ce=Mi(D,V,te,this.transform,Q);J=u.a1([],this.transform.labelPlaneMatrix,Ce)}this.retainedQueryData[_.bucketInstanceId]=new $e(_.bucketInstanceId,w,_.sourceLayerIndex,_.index,h.tileID);const ge={bucket:_,layout:k,posMatrix:D,textLabelPlaneMatrix:oe,labelToScreenMatrix:J,scale:T,textPixelRatio:L,holdingForFade:h.holdingForFade(),collisionBoxArray:S,partiallyEvaluatedTextSize:u.ah(_.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(_.sourceID)};if(m)for(const Ce of _.sortKeyRanges){const{sortKey:le,symbolInstanceStart:ve,symbolInstanceEnd:Ae}=Ce;r.push({sortKey:le,symbolInstanceStart:ve,symbolInstanceEnd:Ae,parameters:ge})}else r.push({symbolInstanceStart:0,symbolInstanceEnd:_.symbolInstances.length,parameters:ge})}attemptAnchorPlacement(r,c,h,m,_,w,S,k,T,L,D,V,te,Q,oe,J){const ge=u.aq[r.textAnchor],Ce=[r.textOffset0,r.textOffset1],le=At(ge,h,m,Ce,_),ve=this.collisionIndex.placeCollisionBox(ft(c,le.x,le.y,w,S,this.transform.angle),D,k,T,L.predicate,J);if((!oe||this.collisionIndex.placeCollisionBox(ft(oe,le.x,le.y,w,S,this.transform.angle),D,k,T,L.predicate,J).box.length!==0)&&ve.box.length>0){let Ae;if(this.prevPlacement&&this.prevPlacement.variableOffsets[V.crossTileID]&&this.prevPlacement.placements[V.crossTileID]&&this.prevPlacement.placements[V.crossTileID].text&&(Ae=this.prevPlacement.variableOffsets[V.crossTileID].anchor),V.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[V.crossTileID]={textOffset:Ce,width:h,height:m,anchor:ge,textBoxScale:_,prevAnchor:Ae},this.markUsedJustification(te,ge,V,Q),te.allowVerticalPlacement&&(this.markUsedOrientation(te,Q,V),this.placedOrientations[V.crossTileID]=Q),{shift:le,placedGlyphBoxes:ve}}}placeLayerBucketPart(r,c,h){const{bucket:m,layout:_,posMatrix:w,textLabelPlaneMatrix:S,labelToScreenMatrix:k,textPixelRatio:T,holdingForFade:L,collisionBoxArray:D,partiallyEvaluatedTextSize:V,collisionGroup:te}=r.parameters,Q=_.get("text-optional"),oe=_.get("icon-optional"),J=u.ar(_,"text-overlap","text-allow-overlap"),ge=J==="always",Ce=u.ar(_,"icon-overlap","icon-allow-overlap"),le=Ce==="always",ve=_.get("text-rotation-alignment")==="map",Ae=_.get("text-pitch-alignment")==="map",Pe=_.get("icon-text-fit")!=="none",Ne=_.get("symbol-z-order")==="viewport-y",Ue=ge&&(le||!m.hasIconData()||oe),je=le&&(ge||!m.hasTextData()||Q);!m.collisionArrays&&D&&m.deserializeCollisionBoxes(D);const Ke=this.retainedQueryData[m.bucketInstanceId].tileID,mt=this.terrain?(rt,Et)=>this.terrain.getElevation(Ke,rt,Et):null,Bt=(rt,Et)=>{var yt,cn;if(c[rt.crossTileID])return;if(L)return void(this.placements[rt.crossTileID]=new De(!1,!1,!1));let Nt=!1,zt=!1,$t=!0,Bn=null,mn={box:null,offscreen:null},_r={box:null,offscreen:null},ir=null,Un=null,pi=null,_n=0,ho=0,po=0;Et.textFeatureIndex?_n=Et.textFeatureIndex:rt.useRuntimeCollisionCircles&&(_n=rt.featureIndex),Et.verticalTextFeatureIndex&&(ho=Et.verticalTextFeatureIndex);const ca=Et.textBox;if(ca){const Pr=$n=>{let or=u.ai.horizontal;if(m.allowVerticalPlacement&&!$n&&this.prevPlacement){const Xr=this.prevPlacement.placedOrientations[rt.crossTileID];Xr&&(this.placedOrientations[rt.crossTileID]=Xr,or=Xr,this.markUsedOrientation(m,or,rt))}return or},xr=($n,or)=>{if(m.allowVerticalPlacement&&rt.numVerticalGlyphVertices>0&&Et.verticalTextBox){for(const Xr of m.writingModes)if(Xr===u.ai.vertical?(mn=or(),_r=mn):mn=$n(),mn&&mn.box&&mn.box.length)break}else mn=$n()},Or=rt.textAnchorOffsetStartIndex,Aa=rt.textAnchorOffsetEndIndex;if(Aa===Or){const $n=(or,Xr)=>{const jn=this.collisionIndex.placeCollisionBox(or,J,T,w,te.predicate,mt);return jn&&jn.box&&jn.box.length&&(this.markUsedOrientation(m,Xr,rt),this.placedOrientations[rt.crossTileID]=Xr),jn};xr(()=>$n(ca,u.ai.horizontal),()=>{const or=Et.verticalTextBox;return m.allowVerticalPlacement&&rt.numVerticalGlyphVertices>0&&or?$n(or,u.ai.vertical):{box:null,offscreen:null}}),Pr(mn&&mn.box&&mn.box.length)}else{let $n=u.aq[(cn=(yt=this.prevPlacement)===null||yt===void 0?void 0:yt.variableOffsets[rt.crossTileID])===null||cn===void 0?void 0:cn.anchor];const or=(jn,Pa,v1)=>{const Th=jn.x2-jn.x1,Ih=jn.y2-jn.y1,j0=rt.textBoxScale,dc=Pe&&Ce==="never"?Pa:null;let fo={box:[],offscreen:!1},Ta=J==="never"?1:2,mo="never";$n&&Ta++;for(let Ri=0;Ri<Ta;Ri++){for(let go=Or;go<Aa;go++){const hc=m.textAnchorOffsets.get(go);if($n&&hc.textAnchor!==$n)continue;const No=this.attemptAnchorPlacement(hc,jn,Th,Ih,j0,ve,Ae,T,w,te,mo,rt,m,v1,dc,mt);if(No&&(fo=No.placedGlyphBoxes,fo&&fo.box&&fo.box.length))return Nt=!0,Bn=No.shift,fo}$n?$n=null:mo=J}return fo};xr(()=>or(ca,Et.iconBox,u.ai.horizontal),()=>{const jn=Et.verticalTextBox;return m.allowVerticalPlacement&&!(mn&&mn.box&&mn.box.length)&&rt.numVerticalGlyphVertices>0&&jn?or(jn,Et.verticalIconBox,u.ai.vertical):{box:null,offscreen:null}}),mn&&(Nt=mn.box,$t=mn.offscreen);const Xr=Pr(mn&&mn.box);if(!Nt&&this.prevPlacement){const jn=this.prevPlacement.variableOffsets[rt.crossTileID];jn&&(this.variableOffsets[rt.crossTileID]=jn,this.markUsedJustification(m,jn.anchor,rt,Xr))}}}if(ir=mn,Nt=ir&&ir.box&&ir.box.length>0,$t=ir&&ir.offscreen,rt.useRuntimeCollisionCircles){const Pr=m.text.placedSymbolArray.get(rt.centerJustifiedTextSymbolIndex),xr=u.aj(m.textSizeData,V,Pr),Or=_.get("text-padding");Un=this.collisionIndex.placeCollisionCircles(J,Pr,m.lineVertexArray,m.glyphOffsetArray,xr,w,S,k,h,Ae,te.predicate,rt.collisionCircleDiameter,Or,mt),Un.circles.length&&Un.collisionDetected&&!h&&u.w("Collisions detected, but collision boxes are not shown"),Nt=ge||Un.circles.length>0&&!Un.collisionDetected,$t=$t&&Un.offscreen}if(Et.iconFeatureIndex&&(po=Et.iconFeatureIndex),Et.iconBox){const Pr=xr=>{const Or=Pe&&Bn?ft(xr,Bn.x,Bn.y,ve,Ae,this.transform.angle):xr;return this.collisionIndex.placeCollisionBox(Or,Ce,T,w,te.predicate,mt)};_r&&_r.box&&_r.box.length&&Et.verticalIconBox?(pi=Pr(Et.verticalIconBox),zt=pi.box.length>0):(pi=Pr(Et.iconBox),zt=pi.box.length>0),$t=$t&&pi.offscreen}const ka=Q||rt.numHorizontalGlyphVertices===0&&rt.numVerticalGlyphVertices===0,hs=oe||rt.numIconVertices===0;if(ka||hs?hs?ka||(zt=zt&&Nt):Nt=zt&&Nt:zt=Nt=zt&&Nt,Nt&&ir&&ir.box&&this.collisionIndex.insertCollisionBox(ir.box,J,_.get("text-ignore-placement"),m.bucketInstanceId,_r&&_r.box&&ho?ho:_n,te.ID),zt&&pi&&this.collisionIndex.insertCollisionBox(pi.box,Ce,_.get("icon-ignore-placement"),m.bucketInstanceId,po,te.ID),Un&&(Nt&&this.collisionIndex.insertCollisionCircles(Un.circles,J,_.get("text-ignore-placement"),m.bucketInstanceId,_n,te.ID),h)){const Pr=m.bucketInstanceId;let xr=this.collisionCircleArrays[Pr];xr===void 0&&(xr=this.collisionCircleArrays[Pr]=new ze);for(let Or=0;Or<Un.circles.length;Or+=4)xr.circles.push(Un.circles[Or+0]),xr.circles.push(Un.circles[Or+1]),xr.circles.push(Un.circles[Or+2]),xr.circles.push(Un.collisionDetected?1:0)}if(rt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(m.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[rt.crossTileID]=new De(Nt||Ue,zt||je,$t||m.justReloaded),c[rt.crossTileID]=!0};if(Ne){if(r.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const rt=m.getSortedSymbolIndexes(this.transform.angle);for(let Et=rt.length-1;Et>=0;--Et){const yt=rt[Et];Bt(m.symbolInstances.get(yt),m.collisionArrays[yt])}}else for(let rt=r.symbolInstanceStart;rt<r.symbolInstanceEnd;rt++)Bt(m.symbolInstances.get(rt),m.collisionArrays[rt]);if(h&&m.bucketInstanceId in this.collisionCircleArrays){const rt=this.collisionCircleArrays[m.bucketInstanceId];u.as(rt.invProjMatrix,w),rt.viewportMatrix=this.collisionIndex.getViewportMatrix()}m.justReloaded=!1}markUsedJustification(r,c,h,m){let _;_=m===u.ai.vertical?h.verticalPlacedTextSymbolIndex:{left:h.leftJustifiedTextSymbolIndex,center:h.centerJustifiedTextSymbolIndex,right:h.rightJustifiedTextSymbolIndex}[u.at(c)];const w=[h.leftJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.rightJustifiedTextSymbolIndex,h.verticalPlacedTextSymbolIndex];for(const S of w)S>=0&&(r.text.placedSymbolArray.get(S).crossTileID=_>=0&&S!==_?0:h.crossTileID)}markUsedOrientation(r,c,h){const m=c===u.ai.horizontal||c===u.ai.horizontalOnly?c:0,_=c===u.ai.vertical?c:0,w=[h.leftJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.rightJustifiedTextSymbolIndex];for(const S of w)r.text.placedSymbolArray.get(S).placedOrientation=m;h.verticalPlacedTextSymbolIndex&&(r.text.placedSymbolArray.get(h.verticalPlacedTextSymbolIndex).placedOrientation=_)}commit(r){this.commitTime=r,this.zoomAtLastRecencyCheck=this.transform.zoom;const c=this.prevPlacement;let h=!1;this.prevZoomAdjustment=c?c.zoomAdjustment(this.transform.zoom):0;const m=c?c.symbolFadeChange(r):1,_=c?c.opacities:{},w=c?c.variableOffsets:{},S=c?c.placedOrientations:{};for(const k in this.placements){const T=this.placements[k],L=_[k];L?(this.opacities[k]=new ye(L,m,T.text,T.icon),h=h||T.text!==L.text.placed||T.icon!==L.icon.placed):(this.opacities[k]=new ye(null,m,T.text,T.icon,T.skipFade),h=h||T.text||T.icon)}for(const k in _){const T=_[k];if(!this.opacities[k]){const L=new ye(T,m,!1,!1);L.isHidden()||(this.opacities[k]=L,h=h||T.text.placed||T.icon.placed)}}for(const k in w)this.variableOffsets[k]||!this.opacities[k]||this.opacities[k].isHidden()||(this.variableOffsets[k]=w[k]);for(const k in S)this.placedOrientations[k]||!this.opacities[k]||this.opacities[k].isHidden()||(this.placedOrientations[k]=S[k]);if(c&&c.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");h?this.lastPlacementChangeTime=r:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=c?c.lastPlacementChangeTime:r)}updateLayerOpacities(r,c){const h={};for(const m of c){const _=m.getBucket(r);_&&m.latestFeatureIndex&&r.id===_.layerIds[0]&&this.updateBucketOpacities(_,h,m.collisionBoxArray)}}updateBucketOpacities(r,c,h){r.hasTextData()&&(r.text.opacityVertexArray.clear(),r.text.hasVisibleVertices=!1),r.hasIconData()&&(r.icon.opacityVertexArray.clear(),r.icon.hasVisibleVertices=!1),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexArray.clear(),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexArray.clear();const m=r.layers[0],_=m.layout,w=new ye(null,0,!1,!1,!0),S=_.get("text-allow-overlap"),k=_.get("icon-allow-overlap"),T=m._unevaluatedLayout.hasValue("text-variable-anchor")||m._unevaluatedLayout.hasValue("text-variable-anchor-offset"),L=_.get("text-rotation-alignment")==="map",D=_.get("text-pitch-alignment")==="map",V=_.get("icon-text-fit")!=="none",te=new ye(null,0,S&&(k||!r.hasIconData()||_.get("icon-optional")),k&&(S||!r.hasTextData()||_.get("text-optional")),!0);!r.collisionArrays&&h&&(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData())&&r.deserializeCollisionBoxes(h);const Q=(oe,J,ge)=>{for(let Ce=0;Ce<J/4;Ce++)oe.opacityVertexArray.emplaceBack(ge);oe.hasVisibleVertices=oe.hasVisibleVertices||ge!==Ai};for(let oe=0;oe<r.symbolInstances.length;oe++){const J=r.symbolInstances.get(oe),{numHorizontalGlyphVertices:ge,numVerticalGlyphVertices:Ce,crossTileID:le}=J;let ve=this.opacities[le];c[le]?ve=w:ve||(ve=te,this.opacities[le]=ve),c[le]=!0;const Ae=J.numIconVertices>0,Pe=this.placedOrientations[J.crossTileID],Ne=Pe===u.ai.vertical,Ue=Pe===u.ai.horizontal||Pe===u.ai.horizontalOnly;if(ge>0||Ce>0){const je=yr(ve.text);Q(r.text,ge,Ne?Ai:je),Q(r.text,Ce,Ue?Ai:je);const Ke=ve.text.isHidden();[J.rightJustifiedTextSymbolIndex,J.centerJustifiedTextSymbolIndex,J.leftJustifiedTextSymbolIndex].forEach(rt=>{rt>=0&&(r.text.placedSymbolArray.get(rt).hidden=Ke||Ne?1:0)}),J.verticalPlacedTextSymbolIndex>=0&&(r.text.placedSymbolArray.get(J.verticalPlacedTextSymbolIndex).hidden=Ke||Ue?1:0);const mt=this.variableOffsets[J.crossTileID];mt&&this.markUsedJustification(r,mt.anchor,J,Pe);const Bt=this.placedOrientations[J.crossTileID];Bt&&(this.markUsedJustification(r,"left",J,Bt),this.markUsedOrientation(r,Bt,J))}if(Ae){const je=yr(ve.icon),Ke=!(V&&J.verticalPlacedIconSymbolIndex&&Ne);J.placedIconSymbolIndex>=0&&(Q(r.icon,J.numIconVertices,Ke?je:Ai),r.icon.placedSymbolArray.get(J.placedIconSymbolIndex).hidden=ve.icon.isHidden()),J.verticalPlacedIconSymbolIndex>=0&&(Q(r.icon,J.numVerticalIconVertices,Ke?Ai:je),r.icon.placedSymbolArray.get(J.verticalPlacedIconSymbolIndex).hidden=ve.icon.isHidden())}if(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData()){const je=r.collisionArrays[oe];if(je){let Ke=new u.P(0,0);if(je.textBox||je.verticalTextBox){let Bt=!0;if(T){const rt=this.variableOffsets[le];rt?(Ke=At(rt.anchor,rt.width,rt.height,rt.textOffset,rt.textBoxScale),L&&Ke._rotate(D?this.transform.angle:-this.transform.angle)):Bt=!1}je.textBox&&It(r.textCollisionBox.collisionVertexArray,ve.text.placed,!Bt||Ne,Ke.x,Ke.y),je.verticalTextBox&&It(r.textCollisionBox.collisionVertexArray,ve.text.placed,!Bt||Ue,Ke.x,Ke.y)}const mt=!!(!Ue&&je.verticalIconBox);je.iconBox&&It(r.iconCollisionBox.collisionVertexArray,ve.icon.placed,mt,V?Ke.x:0,V?Ke.y:0),je.verticalIconBox&&It(r.iconCollisionBox.collisionVertexArray,ve.icon.placed,!mt,V?Ke.x:0,V?Ke.y:0)}}}if(r.sortFeatures(this.transform.angle),this.retainedQueryData[r.bucketInstanceId]&&(this.retainedQueryData[r.bucketInstanceId].featureSortOrder=r.featureSortOrder),r.hasTextData()&&r.text.opacityVertexBuffer&&r.text.opacityVertexBuffer.updateData(r.text.opacityVertexArray),r.hasIconData()&&r.icon.opacityVertexBuffer&&r.icon.opacityVertexBuffer.updateData(r.icon.opacityVertexArray),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexBuffer&&r.iconCollisionBox.collisionVertexBuffer.updateData(r.iconCollisionBox.collisionVertexArray),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexBuffer&&r.textCollisionBox.collisionVertexBuffer.updateData(r.textCollisionBox.collisionVertexArray),r.text.opacityVertexArray.length!==r.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${r.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${r.text.layoutVertexArray.length}) / 4`);if(r.icon.opacityVertexArray.length!==r.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${r.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${r.icon.layoutVertexArray.length}) / 4`);if(r.bucketInstanceId in this.collisionCircleArrays){const oe=this.collisionCircleArrays[r.bucketInstanceId];r.placementInvProjMatrix=oe.invProjMatrix,r.placementViewportMatrix=oe.viewportMatrix,r.collisionCircleArray=oe.circles,delete this.collisionCircleArrays[r.bucketInstanceId]}}symbolFadeChange(r){return this.fadeDuration===0?1:(r-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(r){return Math.max(0,(this.transform.zoom-r)/1.5)}hasTransitions(r){return this.stale||r-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(r,c){const h=this.zoomAtLastRecencyCheck===c?1-this.zoomAdjustment(c):1;return this.zoomAtLastRecencyCheck=c,this.commitTime+this.fadeDuration*h>r}setStale(){this.stale=!0}}function It(g,r,c,h,m){g.emplaceBack(r?1:0,c?1:0,h||0,m||0),g.emplaceBack(r?1:0,c?1:0,h||0,m||0),g.emplaceBack(r?1:0,c?1:0,h||0,m||0),g.emplaceBack(r?1:0,c?1:0,h||0,m||0)}const rn=Math.pow(2,25),dn=Math.pow(2,24),Gt=Math.pow(2,17),Ht=Math.pow(2,16),kr=Math.pow(2,9),fn=Math.pow(2,8),Xn=Math.pow(2,1);function yr(g){if(g.opacity===0&&!g.placed)return 0;if(g.opacity===1&&g.placed)return 4294967295;const r=g.placed?1:0,c=Math.floor(127*g.opacity);return c*rn+r*dn+c*Gt+r*Ht+c*kr+r*fn+c*Xn+r}const Ai=0;class Zd{constructor(r){this._sortAcrossTiles=r.layout.get("symbol-z-order")!=="viewport-y"&&!r.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(r,c,h,m,_){const w=this._bucketParts;for(;this._currentTileIndex<r.length;)if(c.getBucketParts(w,m,r[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,_())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,w.sort((S,k)=>S.sortKey-k.sortKey));this._currentPartIndex<w.length;)if(c.placeLayerBucketPart(w[this._currentPartIndex],this._seenCrossTileIDs,h),this._currentPartIndex++,_())return!0;return!1}}class Qa{constructor(r,c,h,m,_,w,S,k){this.placement=new St(r,c,w,S,k),this._currentPlacementIndex=h.length-1,this._forceFullPlacement=m,this._showCollisionBoxes=_,this._done=!1}isDone(){return this._done}continuePlacement(r,c,h){const m=u.h.now(),_=()=>!this._forceFullPlacement&&u.h.now()-m>2;for(;this._currentPlacementIndex>=0;){const w=c[r[this._currentPlacementIndex]],S=this.placement.collisionIndex.transform.zoom;if(w.type==="symbol"&&(!w.minzoom||w.minzoom<=S)&&(!w.maxzoom||w.maxzoom>S)){if(this._inProgressLayer||(this._inProgressLayer=new Zd(w)),this._inProgressLayer.continuePlacement(h[w.source],this.placement,this._showCollisionBoxes,w,_))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(r){return this.placement.commit(r),this.placement}}const es=512/u.N/2;class C0{constructor(r,c,h){this.tileID=r,this.bucketInstanceId=h,this._symbolsByKey={};const m=new Map;for(let _=0;_<c.length;_++){const w=c.get(_),S=w.key,k=m.get(S);k?k.push(w):m.set(S,[w])}for(const[_,w]of m){const S={positions:w.map(k=>({x:Math.floor(k.anchorX*es),y:Math.floor(k.anchorY*es)})),crossTileIDs:w.map(k=>k.crossTileID)};if(S.positions.length>128){const k=new u.av(S.positions.length,16,Uint16Array);for(const{x:T,y:L}of S.positions)k.add(T,L);k.finish(),delete S.positions,S.index=k}this._symbolsByKey[_]=S}}getScaledCoordinates(r,c){const{x:h,y:m,z:_}=this.tileID.canonical,{x:w,y:S,z:k}=c.canonical,T=es/Math.pow(2,k-_),L=(S*u.N+r.anchorY)*T,D=m*u.N*es;return{x:Math.floor((w*u.N+r.anchorX)*T-h*u.N*es),y:Math.floor(L-D)}}findMatches(r,c,h){const m=this.tileID.canonical.z<c.canonical.z?1:Math.pow(2,this.tileID.canonical.z-c.canonical.z);for(let _=0;_<r.length;_++){const w=r.get(_);if(w.crossTileID)continue;const S=this._symbolsByKey[w.key];if(!S)continue;const k=this.getScaledCoordinates(w,c);if(S.index){const T=S.index.range(k.x-m,k.y-m,k.x+m,k.y+m).sort();for(const L of T){const D=S.crossTileIDs[L];if(!h[D]){h[D]=!0,w.crossTileID=D;break}}}else if(S.positions)for(let T=0;T<S.positions.length;T++){const L=S.positions[T],D=S.crossTileIDs[T];if(Math.abs(L.x-k.x)<=m&&Math.abs(L.y-k.y)<=m&&!h[D]){h[D]=!0,w.crossTileID=D;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:r})=>r)}}class un{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Cu{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(r){const c=Math.round((r-this.lng)/360);if(c!==0)for(const h in this.indexes){const m=this.indexes[h],_={};for(const w in m){const S=m[w];S.tileID=S.tileID.unwrapTo(S.tileID.wrap+c),_[S.tileID.key]=S}this.indexes[h]=_}this.lng=r}addBucket(r,c,h){if(this.indexes[r.overscaledZ]&&this.indexes[r.overscaledZ][r.key]){if(this.indexes[r.overscaledZ][r.key].bucketInstanceId===c.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(r.overscaledZ,this.indexes[r.overscaledZ][r.key])}for(let _=0;_<c.symbolInstances.length;_++)c.symbolInstances.get(_).crossTileID=0;this.usedCrossTileIDs[r.overscaledZ]||(this.usedCrossTileIDs[r.overscaledZ]={});const m=this.usedCrossTileIDs[r.overscaledZ];for(const _ in this.indexes){const w=this.indexes[_];if(Number(_)>r.overscaledZ)for(const S in w){const k=w[S];k.tileID.isChildOf(r)&&k.findMatches(c.symbolInstances,r,m)}else{const S=w[r.scaledTo(Number(_)).key];S&&S.findMatches(c.symbolInstances,r,m)}}for(let _=0;_<c.symbolInstances.length;_++){const w=c.symbolInstances.get(_);w.crossTileID||(w.crossTileID=h.generate(),m[w.crossTileID]=!0)}return this.indexes[r.overscaledZ]===void 0&&(this.indexes[r.overscaledZ]={}),this.indexes[r.overscaledZ][r.key]=new C0(r,c.symbolInstances,c.bucketInstanceId),!0}removeBucketCrossTileIDs(r,c){for(const h of c.getCrossTileIDsLists())for(const m of h)delete this.usedCrossTileIDs[r][m]}removeStaleBuckets(r){let c=!1;for(const h in this.indexes){const m=this.indexes[h];for(const _ in m)r[m[_].bucketInstanceId]||(this.removeBucketCrossTileIDs(h,m[_]),delete m[_],c=!0)}return c}}class Ul{constructor(){this.layerIndexes={},this.crossTileIDs=new un,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(r,c,h){let m=this.layerIndexes[r.id];m===void 0&&(m=this.layerIndexes[r.id]=new Cu);let _=!1;const w={};m.handleWrapJump(h);for(const S of c){const k=S.getBucket(r);k&&r.id===k.layerIds[0]&&(k.bucketInstanceId||(k.bucketInstanceId=++this.maxBucketInstanceId),m.addBucket(S.tileID,k,this.crossTileIDs)&&(_=!0),w[k.bucketInstanceId]=!0)}return m.removeStaleBuckets(w)&&(_=!0),_}pruneUnusedLayers(r){const c={};r.forEach(h=>{c[h]=!0});for(const h in this.layerIndexes)c[h]||delete this.layerIndexes[h]}}const Ar=(g,r)=>u.x(g,r&&r.filter(c=>c.identifier!=="source.canvas")),li=u.F(u.ax,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),M0=u.F(u.ax,["setCenter","setZoom","setBearing","setPitch"]),Pi=u.aw();class vr extends u.E{constructor(r,c={}){super(),this.map=r,this.dispatcher=new Ze(Ya(),this,r._getMapId()),this.imageManager=new He,this.imageManager.setEventedParent(this),this.glyphManager=new Le(r._requestManager,c.localIdeographFontFamily),this.lineAtlas=new Ve(256,512),this.crossTileSymbolIndex=new Ul,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new u.ay,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",u.az());const h=this;this._rtlTextPluginCallback=vr.registerForPluginStateChange(m=>{h.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:m.pluginStatus,pluginURL:m.pluginURL},(_,w)=>{if(u.aA(_),w&&w.every(S=>S))for(const S in h.sourceCaches){const k=h.sourceCaches[S].getSource().type;k!=="vector"&&k!=="geojson"||h.sourceCaches[S].reload()}})}),this.on("data",m=>{if(m.dataType!=="source"||m.sourceDataType!=="metadata")return;const _=this.sourceCaches[m.sourceId];if(!_)return;const w=_.getSource();if(w&&w.vectorLayerIds)for(const S in this._layers){const k=this._layers[S];k.source===w.id&&this._validateLayer(k)}})}loadURL(r,c={},h){this.fire(new u.k("dataloading",{dataType:"style"})),c.validate=typeof c.validate!="boolean"||c.validate;const m=this.map._requestManager.transformRequest(r,O.Style);this._request=u.f(m,(_,w)=>{this._request=null,_?this.fire(new u.j(_)):w&&this._load(w,c,h)})}loadJSON(r,c={},h){this.fire(new u.k("dataloading",{dataType:"style"})),this._request=u.h.frame(()=>{this._request=null,c.validate=c.validate!==!1,this._load(r,c,h)})}loadEmpty(){this.fire(new u.k("dataloading",{dataType:"style"})),this._load(Pi,{validate:!1})}_load(r,c,h){var m;const _=c.transformStyle?c.transformStyle(h,r):r;if(!c.validate||!Ar(this,u.y(_))){this._loaded=!0,this.stylesheet=_;for(const w in _.sources)this.addSource(w,_.sources[w],{validate:!1});_.sprite?this._loadSprite(_.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(_.glyphs),this._createLayers(),this.light=new Re(this.stylesheet.light),this.map.setTerrain((m=this.stylesheet.terrain)!==null&&m!==void 0?m:null),this.fire(new u.k("data",{dataType:"style"})),this.fire(new u.k("style.load"))}}_createLayers(){const r=u.aB(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",r),this._order=r.map(c=>c.id),this._layers={},this._serializedLayers=null;for(const c of r){const h=u.aC(c);h.setEventedParent(this,{layer:{id:c.id}}),this._layers[c.id]=h}}_loadSprite(r,c=!1,h=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(m,_,w,S){const k=Se(m),T=k.length,L=w>1?"@2x":"",D={},V={},te={};for(const{id:Q,url:oe}of k){const J=_.transformRequest(_.normalizeSpriteURL(oe,L,".json"),O.SpriteJSON),ge=`${Q}_${J.url}`;D[ge]=u.f(J,(ve,Ae)=>{delete D[ge],V[Q]=Ae,Te(S,V,te,ve,T)});const Ce=_.transformRequest(_.normalizeSpriteURL(oe,L,".png"),O.SpriteImage),le=`${Q}_${Ce.url}`;D[le]=ee.getImage(Ce,(ve,Ae)=>{delete D[le],te[Q]=Ae,Te(S,V,te,ve,T)})}return{cancel(){for(const Q of Object.values(D))Q.cancel()}}}(r,this.map._requestManager,this.map.getPixelRatio(),(m,_)=>{if(this._spriteRequest=null,m)this.fire(new u.j(m));else if(_)for(const w in _){this._spritesImagesIds[w]=[];const S=this._spritesImagesIds[w]?this._spritesImagesIds[w].filter(k=>!(k in _)):[];for(const k of S)this.imageManager.removeImage(k),this._changedImages[k]=!0;for(const k in _[w]){const T=w==="default"?k:`${w}:${k}`;this._spritesImagesIds[w].push(T),T in this.imageManager.images?this.imageManager.updateImage(T,_[w][k],!1):this.imageManager.addImage(T,_[w][k]),c&&(this._changedImages[T]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),c&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new u.k("data",{dataType:"style"})),h&&h(m)})}_unloadSprite(){for(const r of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(r),this._changedImages[r]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new u.k("data",{dataType:"style"}))}_validateLayer(r){const c=this.sourceCaches[r.source];if(!c)return;const h=r.sourceLayer;if(!h)return;const m=c.getSource();(m.type==="geojson"||m.vectorLayerIds&&m.vectorLayerIds.indexOf(h)===-1)&&this.fire(new u.j(new Error(`Source layer "${h}" does not exist on source "${m.id}" as specified by style layer "${r.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const r in this.sourceCaches)if(!this.sourceCaches[r].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(r){const c=this._serializedAllLayers();if(!r||r.length===0)return Object.values(c);const h=[];for(const m of r)c[m]&&h.push(c[m]);return h}_serializedAllLayers(){let r=this._serializedLayers;if(r)return r;r=this._serializedLayers={};const c=Object.keys(this._layers);for(const h of c){const m=this._layers[h];m.type!=="custom"&&(r[h]=m.serialize())}return r}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const r in this.sourceCaches)if(this.sourceCaches[r].hasTransition())return!0;for(const r in this._layers)if(this._layers[r].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(r){if(!this._loaded)return;const c=this._changed;if(this._changed){const m=Object.keys(this._updatedLayers),_=Object.keys(this._removedLayers);(m.length||_.length)&&this._updateWorkerLayers(m,_);for(const w in this._updatedSources){const S=this._updatedSources[w];if(S==="reload")this._reloadSource(w);else{if(S!=="clear")throw new Error(`Invalid action ${S}`);this._clearSource(w)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const w in this._updatedPaintProps)this._layers[w].updateTransitions(r);this.light.updateTransitions(r),this._resetUpdates()}const h={};for(const m in this.sourceCaches){const _=this.sourceCaches[m];h[m]=_.used,_.used=!1}for(const m of this._order){const _=this._layers[m];_.recalculate(r,this._availableImages),!_.isHidden(r.zoom)&&_.source&&(this.sourceCaches[_.source].used=!0)}for(const m in h){const _=this.sourceCaches[m];h[m]!==_.used&&_.fire(new u.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:m}))}this.light.recalculate(r),this.z=r.zoom,c&&this.fire(new u.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const r=Object.keys(this._changedImages);if(r.length){for(const c in this.sourceCaches)this.sourceCaches[c].reloadTilesForDependencies(["icons","patterns"],r);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const r in this.sourceCaches)this.sourceCaches[r].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(r,c){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(r),removedIds:c})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(r,c={}){this._checkLoaded();const h=this.serialize();if(r=c.transformStyle?c.transformStyle(h,r):r,Ar(this,u.y(r)))return!1;(r=u.aD(r)).layers=u.aB(r.layers);const m=u.aE(h,r).filter(w=>!(w.command in M0));if(m.length===0)return!1;const _=m.filter(w=>!(w.command in li));if(_.length>0)throw new Error(`Unimplemented: ${_.map(w=>w.command).join(", ")}.`);for(const w of m)w.command!=="setTransition"&&this[w.command].apply(this,w.args);return this.stylesheet=r,this._serializedLayers=null,!0}addImage(r,c){if(this.getImage(r))return this.fire(new u.j(new Error(`An image named "${r}" already exists.`)));this.imageManager.addImage(r,c),this._afterImageUpdated(r)}updateImage(r,c){this.imageManager.updateImage(r,c)}getImage(r){return this.imageManager.getImage(r)}removeImage(r){if(!this.getImage(r))return this.fire(new u.j(new Error(`An image named "${r}" does not exist.`)));this.imageManager.removeImage(r),this._afterImageUpdated(r)}_afterImageUpdated(r){this._availableImages=this.imageManager.listImages(),this._changedImages[r]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new u.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(r,c,h={}){if(this._checkLoaded(),this.sourceCaches[r]!==void 0)throw new Error(`Source "${r}" already exists.`);if(!c.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(c).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(c.type)>=0&&this._validate(u.y.source,`sources.${r}`,c,null,h))return;this.map&&this.map._collectResourceTiming&&(c.collectResourceTiming=!0);const m=this.sourceCaches[r]=new Rt(r,c,this.dispatcher);m.style=this,m.setEventedParent(this,()=>({isSourceLoaded:m.loaded(),source:m.serialize(),sourceId:r})),m.onAdd(this.map),this._changed=!0}removeSource(r){if(this._checkLoaded(),this.sourceCaches[r]===void 0)throw new Error("There is no source with this ID");for(const h in this._layers)if(this._layers[h].source===r)return this.fire(new u.j(new Error(`Source "${r}" cannot be removed while layer "${h}" is using it.`)));const c=this.sourceCaches[r];delete this.sourceCaches[r],delete this._updatedSources[r],c.fire(new u.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:r})),c.setEventedParent(null),c.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(r,c){if(this._checkLoaded(),this.sourceCaches[r]===void 0)throw new Error(`There is no source with this ID=${r}`);const h=this.sourceCaches[r].getSource();if(h.type!=="geojson")throw new Error(`geojsonSource.type is ${h.type}, which is !== 'geojson`);h.setData(c),this._changed=!0}getSource(r){return this.sourceCaches[r]&&this.sourceCaches[r].getSource()}addLayer(r,c,h={}){this._checkLoaded();const m=r.id;if(this.getLayer(m))return void this.fire(new u.j(new Error(`Layer "${m}" already exists on this map.`)));let _;if(r.type==="custom"){if(Ar(this,u.aF(r)))return;_=u.aC(r)}else{if("source"in r&&typeof r.source=="object"&&(this.addSource(m,r.source),r=u.aD(r),r=u.e(r,{source:m})),this._validate(u.y.layer,`layers.${m}`,r,{arrayIndex:-1},h))return;_=u.aC(r),this._validateLayer(_),_.setEventedParent(this,{layer:{id:m}})}const w=c?this._order.indexOf(c):this._order.length;if(c&&w===-1)this.fire(new u.j(new Error(`Cannot add layer "${m}" before non-existing layer "${c}".`)));else{if(this._order.splice(w,0,m),this._layerOrderChanged=!0,this._layers[m]=_,this._removedLayers[m]&&_.source&&_.type!=="custom"){const S=this._removedLayers[m];delete this._removedLayers[m],S.type!==_.type?this._updatedSources[_.source]="clear":(this._updatedSources[_.source]="reload",this.sourceCaches[_.source].pause())}this._updateLayer(_),_.onAdd&&_.onAdd(this.map)}}moveLayer(r,c){if(this._checkLoaded(),this._changed=!0,!this._layers[r])return void this.fire(new u.j(new Error(`The layer '${r}' does not exist in the map's style and cannot be moved.`)));if(r===c)return;const h=this._order.indexOf(r);this._order.splice(h,1);const m=c?this._order.indexOf(c):this._order.length;c&&m===-1?this.fire(new u.j(new Error(`Cannot move layer "${r}" before non-existing layer "${c}".`))):(this._order.splice(m,0,r),this._layerOrderChanged=!0)}removeLayer(r){this._checkLoaded();const c=this._layers[r];if(!c)return void this.fire(new u.j(new Error(`Cannot remove non-existing layer "${r}".`)));c.setEventedParent(null);const h=this._order.indexOf(r);this._order.splice(h,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[r]=c,delete this._layers[r],this._serializedLayers&&delete this._serializedLayers[r],delete this._updatedLayers[r],delete this._updatedPaintProps[r],c.onRemove&&c.onRemove(this.map)}getLayer(r){return this._layers[r]}getLayersOrder(){return[...this._order]}hasLayer(r){return r in this._layers}setLayerZoomRange(r,c,h){this._checkLoaded();const m=this.getLayer(r);m?m.minzoom===c&&m.maxzoom===h||(c!=null&&(m.minzoom=c),h!=null&&(m.maxzoom=h),this._updateLayer(m)):this.fire(new u.j(new Error(`Cannot set the zoom range of non-existing layer "${r}".`)))}setFilter(r,c,h={}){this._checkLoaded();const m=this.getLayer(r);if(m){if(!u.aG(m.filter,c))return c==null?(m.filter=void 0,void this._updateLayer(m)):void(this._validate(u.y.filter,`layers.${m.id}.filter`,c,null,h)||(m.filter=u.aD(c),this._updateLayer(m)))}else this.fire(new u.j(new Error(`Cannot filter non-existing layer "${r}".`)))}getFilter(r){return u.aD(this.getLayer(r).filter)}setLayoutProperty(r,c,h,m={}){this._checkLoaded();const _=this.getLayer(r);_?u.aG(_.getLayoutProperty(c),h)||(_.setLayoutProperty(c,h,m),this._updateLayer(_)):this.fire(new u.j(new Error(`Cannot style non-existing layer "${r}".`)))}getLayoutProperty(r,c){const h=this.getLayer(r);if(h)return h.getLayoutProperty(c);this.fire(new u.j(new Error(`Cannot get style of non-existing layer "${r}".`)))}setPaintProperty(r,c,h,m={}){this._checkLoaded();const _=this.getLayer(r);_?u.aG(_.getPaintProperty(c),h)||(_.setPaintProperty(c,h,m)&&this._updateLayer(_),this._changed=!0,this._updatedPaintProps[r]=!0):this.fire(new u.j(new Error(`Cannot style non-existing layer "${r}".`)))}getPaintProperty(r,c){return this.getLayer(r).getPaintProperty(c)}setFeatureState(r,c){this._checkLoaded();const h=r.source,m=r.sourceLayer,_=this.sourceCaches[h];if(_===void 0)return void this.fire(new u.j(new Error(`The source '${h}' does not exist in the map's style.`)));const w=_.getSource().type;w==="geojson"&&m?this.fire(new u.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):w!=="vector"||m?(r.id===void 0&&this.fire(new u.j(new Error("The feature id parameter must be provided."))),_.setFeatureState(m,r.id,c)):this.fire(new u.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(r,c){this._checkLoaded();const h=r.source,m=this.sourceCaches[h];if(m===void 0)return void this.fire(new u.j(new Error(`The source '${h}' does not exist in the map's style.`)));const _=m.getSource().type,w=_==="vector"?r.sourceLayer:void 0;_!=="vector"||w?c&&typeof r.id!="string"&&typeof r.id!="number"?this.fire(new u.j(new Error("A feature id is required to remove its specific state property."))):m.removeFeatureState(w,r.id,c):this.fire(new u.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(r){this._checkLoaded();const c=r.source,h=r.sourceLayer,m=this.sourceCaches[c];if(m!==void 0)return m.getSource().type!=="vector"||h?(r.id===void 0&&this.fire(new u.j(new Error("The feature id parameter must be provided."))),m.getFeatureState(h,r.id)):void this.fire(new u.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new u.j(new Error(`The source '${c}' does not exist in the map's style.`)))}getTransition(){return u.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const r=u.aH(this.sourceCaches,_=>_.serialize()),c=this._serializeByIds(this._order),h=this.map.getTerrain()||void 0,m=this.stylesheet;return u.aI({version:m.version,name:m.name,metadata:m.metadata,light:m.light,center:m.center,zoom:m.zoom,bearing:m.bearing,pitch:m.pitch,sprite:m.sprite,glyphs:m.glyphs,transition:m.transition,sources:r,layers:c,terrain:h},_=>_!==void 0)}_updateLayer(r){this._updatedLayers[r.id]=!0,r.source&&!this._updatedSources[r.source]&&this.sourceCaches[r.source].getSource().type!=="raster"&&(this._updatedSources[r.source]="reload",this.sourceCaches[r.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(r){const c=w=>this._layers[w].type==="fill-extrusion",h={},m=[];for(let w=this._order.length-1;w>=0;w--){const S=this._order[w];if(c(S)){h[S]=w;for(const k of r){const T=k[S];if(T)for(const L of T)m.push(L)}}}m.sort((w,S)=>S.intersectionZ-w.intersectionZ);const _=[];for(let w=this._order.length-1;w>=0;w--){const S=this._order[w];if(c(S))for(let k=m.length-1;k>=0;k--){const T=m[k].feature;if(h[T.layer.id]<w)break;_.push(T),m.pop()}else for(const k of r){const T=k[S];if(T)for(const L of T)_.push(L.feature)}}return _}queryRenderedFeatures(r,c,h){c&&c.filter&&this._validate(u.y.filter,"queryRenderedFeatures.filter",c.filter,null,c);const m={};if(c&&c.layers){if(!Array.isArray(c.layers))return this.fire(new u.j(new Error("parameters.layers must be an Array."))),[];for(const S of c.layers){const k=this._layers[S];if(!k)return this.fire(new u.j(new Error(`The layer '${S}' does not exist in the map's style and cannot be queried for features.`))),[];m[k.source]=!0}}const _=[];c.availableImages=this._availableImages;const w=this._serializedAllLayers();for(const S in this.sourceCaches)c.layers&&!m[S]||_.push(ai(this.sourceCaches[S],this._layers,w,r,c,h));return this.placement&&_.push(function(S,k,T,L,D,V,te){const Q={},oe=V.queryRenderedSymbols(L),J=[];for(const ge of Object.keys(oe).map(Number))J.push(te[ge]);J.sort(Er);for(const ge of J){const Ce=ge.featureIndex.lookupSymbolFeatures(oe[ge.bucketInstanceId],k,ge.bucketIndex,ge.sourceLayerIndex,D.filter,D.layers,D.availableImages,S);for(const le in Ce){const ve=Q[le]=Q[le]||[],Ae=Ce[le];Ae.sort((Pe,Ne)=>{const Ue=ge.featureSortOrder;if(Ue){const je=Ue.indexOf(Pe.featureIndex);return Ue.indexOf(Ne.featureIndex)-je}return Ne.featureIndex-Pe.featureIndex});for(const Pe of Ae)ve.push(Pe)}}for(const ge in Q)Q[ge].forEach(Ce=>{const le=Ce.feature,ve=T[S[ge].source].getFeatureState(le.layer["source-layer"],le.id);le.source=le.layer.source,le.layer["source-layer"]&&(le.sourceLayer=le.layer["source-layer"]),le.state=ve});return Q}(this._layers,w,this.sourceCaches,r,c,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(_)}querySourceFeatures(r,c){c&&c.filter&&this._validate(u.y.filter,"querySourceFeatures.filter",c.filter,null,c);const h=this.sourceCaches[r];return h?function(m,_){const w=m.getRenderableIds().map(T=>m.getTileByID(T)),S=[],k={};for(let T=0;T<w.length;T++){const L=w[T],D=L.tileID.canonical.key;k[D]||(k[D]=!0,L.querySourceFeatures(S,_))}return S}(h,c):[]}addSourceType(r,c,h){return Kn(r)?h(new Error(`A source type called "${r}" already exists.`)):(((m,_)=>{nn[m]=_})(r,c),c.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:r,url:c.workerSourceURL},h):h(null,null))}getLight(){return this.light.getLight()}setLight(r,c={}){this._checkLoaded();const h=this.light.getLight();let m=!1;for(const w in r)if(!u.aG(r[w],h[w])){m=!0;break}if(!m)return;const _={now:u.h.now(),transition:u.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(r,c),this.light.updateTransitions(_)}_validate(r,c,h,m,_={}){return(!_||_.validate!==!1)&&Ar(this,r.call(u.y,u.e({key:c,style:this.serialize(),value:h,styleSpec:u.v},m)))}_remove(r=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),u.aJ.off("pluginStateChange",this._rtlTextPluginCallback);for(const c in this._layers)this._layers[c].setEventedParent(null);for(const c in this.sourceCaches){const h=this.sourceCaches[c];h.setEventedParent(null),h.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(r)}_clearSource(r){this.sourceCaches[r].clearTiles()}_reloadSource(r){this.sourceCaches[r].resume(),this.sourceCaches[r].reload()}_updateSources(r){for(const c in this.sourceCaches)this.sourceCaches[c].update(r,this.map.terrain)}_generateCollisionBoxes(){for(const r in this.sourceCaches)this._reloadSource(r)}_updatePlacement(r,c,h,m,_=!1){let w=!1,S=!1;const k={};for(const T of this._order){const L=this._layers[T];if(L.type!=="symbol")continue;if(!k[L.source]){const V=this.sourceCaches[L.source];k[L.source]=V.getRenderableIds(!0).map(te=>V.getTileByID(te)).sort((te,Q)=>Q.tileID.overscaledZ-te.tileID.overscaledZ||(te.tileID.isLessThan(Q.tileID)?-1:1))}const D=this.crossTileSymbolIndex.addLayer(L,k[L.source],r.center.lng);w=w||D}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((_=_||this._layerOrderChanged||h===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(u.h.now(),r.zoom))&&(this.pauseablePlacement=new Qa(r,this.map.terrain,this._order,_,c,h,m,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,k),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(u.h.now()),S=!0),w&&this.pauseablePlacement.placement.setStale()),S||w)for(const T of this._order){const L=this._layers[T];L.type==="symbol"&&this.placement.updateLayerOpacities(L,k[L.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(u.h.now())}_releaseSymbolFadeTiles(){for(const r in this.sourceCaches)this.sourceCaches[r].releaseSymbolFadeTiles()}getImages(r,c,h){this.imageManager.getImages(c.icons,h),this._updateTilesForChangedImages();const m=this.sourceCaches[c.source];m&&m.setDependencies(c.tileID.key,c.type,c.icons)}getGlyphs(r,c,h){this.glyphManager.getGlyphs(c.stacks,h);const m=this.sourceCaches[c.source];m&&m.setDependencies(c.tileID.key,c.type,[""])}getResource(r,c,h){return u.m(c,h)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(r,c={}){this._checkLoaded(),r&&this._validate(u.y.glyphs,"glyphs",r,null,c)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=r,this.glyphManager.entries={},this.glyphManager.setURL(r))}addSprite(r,c,h={},m){this._checkLoaded();const _=[{id:r,url:c}],w=[...Se(this.stylesheet.sprite),..._];this._validate(u.y.sprite,"sprite",w,null,h)||(this.stylesheet.sprite=w,this._loadSprite(_,!0,m))}removeSprite(r){this._checkLoaded();const c=Se(this.stylesheet.sprite);if(c.find(h=>h.id===r)){if(this._spritesImagesIds[r])for(const h of this._spritesImagesIds[r])this.imageManager.removeImage(h),this._changedImages[h]=!0;c.splice(c.findIndex(h=>h.id===r),1),this.stylesheet.sprite=c.length>0?c:void 0,delete this._spritesImagesIds[r],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new u.k("data",{dataType:"style"}))}else this.fire(new u.j(new Error(`Sprite "${r}" doesn't exists on this map.`)))}getSprite(){return Se(this.stylesheet.sprite)}setSprite(r,c={},h){this._checkLoaded(),r&&this._validate(u.y.sprite,"sprite",r,null,c)||(this.stylesheet.sprite=r,r?this._loadSprite(r,!0,h):(this._unloadSprite(),h&&h(null)))}}vr.registerForPluginStateChange=u.aK;var Hl=u.Q([{name:"a_pos",type:"Int16",components:2}]),ts="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const kn={prelude:Qt(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Qt(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Qt(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Qt(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Qt("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Qt(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:Qt(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Qt("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Qt("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Qt("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Qt(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Qt(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Qt(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Qt(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Qt(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Qt(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Qt(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Qt(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Qt(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Qt(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Qt(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Qt(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Qt(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Qt(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Qt(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Qt(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Qt("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",ts),terrainDepth:Qt("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",ts),terrainCoords:Qt("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",ts)};function Qt(g,r){const c=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,h=r.match(/attribute ([\w]+) ([\w]+)/g),m=g.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),_=r.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),w=_?_.concat(m):m,S={};return{fragmentSource:g=g.replace(c,(k,T,L,D,V)=>(S[V]=!0,T==="define"?`
#ifndef HAS_UNIFORM_u_${V}
varying ${L} ${D} ${V};
#else
uniform ${L} ${D} u_${V};
#endif
`:`
#ifdef HAS_UNIFORM_u_${V}
    ${L} ${D} ${V} = u_${V};
#endif
`)),vertexSource:r=r.replace(c,(k,T,L,D,V)=>{const te=D==="float"?"vec2":"vec4",Q=V.match(/color/)?"color":te;return S[V]?T==="define"?`
#ifndef HAS_UNIFORM_u_${V}
uniform lowp float u_${V}_t;
attribute ${L} ${te} a_${V};
varying ${L} ${D} ${V};
#else
uniform ${L} ${D} u_${V};
#endif
`:Q==="vec4"?`
#ifndef HAS_UNIFORM_u_${V}
    ${V} = a_${V};
#else
    ${L} ${D} ${V} = u_${V};
#endif
`:`
#ifndef HAS_UNIFORM_u_${V}
    ${V} = unpack_mix_${Q}(a_${V}, u_${V}_t);
#else
    ${L} ${D} ${V} = u_${V};
#endif
`:T==="define"?`
#ifndef HAS_UNIFORM_u_${V}
uniform lowp float u_${V}_t;
attribute ${L} ${te} a_${V};
#else
uniform ${L} ${D} u_${V};
#endif
`:Q==="vec4"?`
#ifndef HAS_UNIFORM_u_${V}
    ${L} ${D} ${V} = a_${V};
#else
    ${L} ${D} ${V} = u_${V};
#endif
`:`
#ifndef HAS_UNIFORM_u_${V}
    ${L} ${D} ${V} = unpack_mix_${Q}(a_${V}, u_${V}_t);
#else
    ${L} ${D} ${V} = u_${V};
#endif
`}),staticAttributes:h,staticUniforms:w}}class _a{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(r,c,h,m,_,w,S,k,T){this.context=r;let L=this.boundPaintVertexBuffers.length!==m.length;for(let D=0;!L&&D<m.length;D++)this.boundPaintVertexBuffers[D]!==m[D]&&(L=!0);!this.vao||this.boundProgram!==c||this.boundLayoutVertexBuffer!==h||L||this.boundIndexBuffer!==_||this.boundVertexOffset!==w||this.boundDynamicVertexBuffer!==S||this.boundDynamicVertexBuffer2!==k||this.boundDynamicVertexBuffer3!==T?this.freshBind(c,h,m,_,w,S,k,T):(r.bindVertexArray.set(this.vao),S&&S.bind(),_&&_.dynamicDraw&&_.bind(),k&&k.bind(),T&&T.bind())}freshBind(r,c,h,m,_,w,S,k){const T=r.numAttributes,L=this.context,D=L.gl;this.vao&&this.destroy(),this.vao=L.createVertexArray(),L.bindVertexArray.set(this.vao),this.boundProgram=r,this.boundLayoutVertexBuffer=c,this.boundPaintVertexBuffers=h,this.boundIndexBuffer=m,this.boundVertexOffset=_,this.boundDynamicVertexBuffer=w,this.boundDynamicVertexBuffer2=S,this.boundDynamicVertexBuffer3=k,c.enableAttributes(D,r);for(const V of h)V.enableAttributes(D,r);w&&w.enableAttributes(D,r),S&&S.enableAttributes(D,r),k&&k.enableAttributes(D,r),c.bind(),c.setVertexAttribPointers(D,r,_);for(const V of h)V.bind(),V.setVertexAttribPointers(D,r,_);w&&(w.bind(),w.setVertexAttribPointers(D,r,_)),m&&m.bind(),S&&(S.bind(),S.setVertexAttribPointers(D,r,_)),k&&(k.bind(),k.setVertexAttribPointers(D,r,_)),L.currentNumAttributes=T}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function Ln(g){const r=[];for(let c=0;c<g.length;c++){if(g[c]===null)continue;const h=g[c].split(" ");r.push(h.pop())}return r}class Zl{constructor(r,c,h,m,_,w){const S=r.gl;this.program=S.createProgram();const k=Ln(c.staticAttributes),T=h?h.getBinderAttributes():[],L=k.concat(T),D=kn.prelude.staticUniforms?Ln(kn.prelude.staticUniforms):[],V=c.staticUniforms?Ln(c.staticUniforms):[],te=h?h.getBinderUniforms():[],Q=D.concat(V).concat(te),oe=[];for(const Pe of Q)oe.indexOf(Pe)<0&&oe.push(Pe);const J=h?h.defines():[];_&&J.push("#define OVERDRAW_INSPECTOR;"),w&&J.push("#define TERRAIN3D;");const ge=J.concat(kn.prelude.fragmentSource,c.fragmentSource).join(`
`),Ce=J.concat(kn.prelude.vertexSource,c.vertexSource).join(`
`),le=S.createShader(S.FRAGMENT_SHADER);if(S.isContextLost())return void(this.failedToCreate=!0);if(S.shaderSource(le,ge),S.compileShader(le),!S.getShaderParameter(le,S.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${S.getShaderInfoLog(le)}`);S.attachShader(this.program,le);const ve=S.createShader(S.VERTEX_SHADER);if(S.isContextLost())return void(this.failedToCreate=!0);if(S.shaderSource(ve,Ce),S.compileShader(ve),!S.getShaderParameter(ve,S.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${S.getShaderInfoLog(ve)}`);S.attachShader(this.program,ve),this.attributes={};const Ae={};this.numAttributes=L.length;for(let Pe=0;Pe<this.numAttributes;Pe++)L[Pe]&&(S.bindAttribLocation(this.program,Pe,L[Pe]),this.attributes[L[Pe]]=Pe);if(S.linkProgram(this.program),!S.getProgramParameter(this.program,S.LINK_STATUS))throw new Error(`Program failed to link: ${S.getProgramInfoLog(this.program)}`);S.deleteShader(ve),S.deleteShader(le);for(let Pe=0;Pe<oe.length;Pe++){const Ne=oe[Pe];if(Ne&&!Ae[Ne]){const Ue=S.getUniformLocation(this.program,Ne);Ue&&(Ae[Ne]=Ue)}}this.fixedUniforms=m(r,Ae),this.terrainUniforms=((Pe,Ne)=>({u_depth:new u.aL(Pe,Ne.u_depth),u_terrain:new u.aL(Pe,Ne.u_terrain),u_terrain_dim:new u.aM(Pe,Ne.u_terrain_dim),u_terrain_matrix:new u.aN(Pe,Ne.u_terrain_matrix),u_terrain_unpack:new u.aO(Pe,Ne.u_terrain_unpack),u_terrain_exaggeration:new u.aM(Pe,Ne.u_terrain_exaggeration)}))(r,Ae),this.binderUniforms=h?h.getUniforms(r,Ae):[]}draw(r,c,h,m,_,w,S,k,T,L,D,V,te,Q,oe,J,ge,Ce){const le=r.gl;if(this.failedToCreate)return;if(r.program.set(this.program),r.setDepthMode(h),r.setStencilMode(m),r.setColorMode(_),r.setCullFace(w),k){r.activeTexture.set(le.TEXTURE2),le.bindTexture(le.TEXTURE_2D,k.depthTexture),r.activeTexture.set(le.TEXTURE3),le.bindTexture(le.TEXTURE_2D,k.texture);for(const Ae in this.terrainUniforms)this.terrainUniforms[Ae].set(k[Ae])}for(const Ae in this.fixedUniforms)this.fixedUniforms[Ae].set(S[Ae]);oe&&oe.setUniforms(r,this.binderUniforms,te,{zoom:Q});let ve=0;switch(c){case le.LINES:ve=2;break;case le.TRIANGLES:ve=3;break;case le.LINE_STRIP:ve=1}for(const Ae of V.get()){const Pe=Ae.vaos||(Ae.vaos={});(Pe[T]||(Pe[T]=new _a)).bind(r,this,L,oe?oe.getPaintVertexBuffers():[],D,Ae.vertexOffset,J,ge,Ce),le.drawElements(c,Ae.primitiveLength*ve,le.UNSIGNED_SHORT,Ae.primitiveOffset*ve*2)}}}function Ti(g,r,c){const h=1/me(c,1,r.transform.tileZoom),m=Math.pow(2,c.tileID.overscaledZ),_=c.tileSize*Math.pow(2,r.transform.tileZoom)/m,w=_*(c.tileID.canonical.x+c.tileID.wrap*m),S=_*c.tileID.canonical.y;return{u_image:0,u_texsize:c.imageAtlasTexture.size,u_scale:[h,g.fromScale,g.toScale],u_fade:g.t,u_pixel_coord_upper:[w>>16,S>>16],u_pixel_coord_lower:[65535&w,65535&S]}}const Mu=(g,r,c,h)=>{const m=r.style.light,_=m.properties.get("position"),w=[_.x,_.y,_.z],S=function(){var T=new u.A(9);return u.A!=Float32Array&&(T[1]=0,T[2]=0,T[3]=0,T[5]=0,T[6]=0,T[7]=0),T[0]=1,T[4]=1,T[8]=1,T}();m.properties.get("anchor")==="viewport"&&function(T,L){var D=Math.sin(L),V=Math.cos(L);T[0]=V,T[1]=D,T[2]=0,T[3]=-D,T[4]=V,T[5]=0,T[6]=0,T[7]=0,T[8]=1}(S,-r.transform.angle),function(T,L,D){var V=L[0],te=L[1],Q=L[2];T[0]=V*D[0]+te*D[3]+Q*D[6],T[1]=V*D[1]+te*D[4]+Q*D[7],T[2]=V*D[2]+te*D[5]+Q*D[8]}(w,w,S);const k=m.properties.get("color");return{u_matrix:g,u_lightpos:w,u_lightintensity:m.properties.get("intensity"),u_lightcolor:[k.r,k.g,k.b],u_vertical_gradient:+c,u_opacity:h}},ia=(g,r,c,h,m,_,w)=>u.e(Mu(g,r,c,h),Ti(_,r,w),{u_height_factor:-Math.pow(2,m.overscaledZ)/w.tileSize/8}),Gd=g=>({u_matrix:g}),Eu=(g,r,c,h)=>u.e(Gd(g),Ti(c,r,h)),Gl=(g,r)=>({u_matrix:g,u_world:r}),ql=(g,r,c,h,m)=>u.e(Eu(g,r,c,h),{u_world:m}),oa=(g,r,c,h)=>{const m=g.transform;let _,w;if(h.paint.get("circle-pitch-alignment")==="map"){const S=me(c,1,m.zoom);_=!0,w=[S,S]}else _=!1,w=m.pixelsToGLUnits;return{u_camera_to_center_distance:m.cameraToCenterDistance,u_scale_with_map:+(h.paint.get("circle-pitch-scale")==="map"),u_matrix:g.translatePosMatrix(r.posMatrix,c,h.paint.get("circle-translate"),h.paint.get("circle-translate-anchor")),u_pitch_with_map:+_,u_device_pixel_ratio:g.pixelRatio,u_extrude_scale:w}},ku=(g,r,c)=>{const h=me(c,1,r.zoom),m=Math.pow(2,r.zoom-c.tileID.overscaledZ),_=c.tileID.overscaleFactor();return{u_matrix:g,u_camera_to_center_distance:r.cameraToCenterDistance,u_pixels_to_tile_units:h,u_extrude_scale:[r.pixelsToGLUnits[0]/(h*m),r.pixelsToGLUnits[1]/(h*m)],u_overscale_factor:_}},Gs=(g,r,c=1)=>({u_matrix:g,u_color:r,u_overlay:0,u_overlay_scale:c}),qd=g=>({u_matrix:g}),E0=(g,r,c,h)=>({u_matrix:g,u_extrude_scale:me(r,1,c),u_intensity:h});function Au(g,r){const c=Math.pow(2,r.canonical.z),h=r.canonical.y;return[new u.U(0,h/c).toLngLat().lat,new u.U(0,(h+1)/c).toLngLat().lat]}const Pu=(g,r,c,h)=>{const m=g.transform;return{u_matrix:Kl(g,r,c,h),u_ratio:1/me(r,1,m.zoom),u_device_pixel_ratio:g.pixelRatio,u_units_to_pixels:[1/m.pixelsToGLUnits[0],1/m.pixelsToGLUnits[1]]}},Kd=(g,r,c,h,m)=>u.e(Pu(g,r,c,m),{u_image:0,u_image_height:h}),k0=(g,r,c,h,m)=>{const _=g.transform,w=Jd(r,_);return{u_matrix:Kl(g,r,c,m),u_texsize:r.imageAtlasTexture.size,u_ratio:1/me(r,1,_.zoom),u_device_pixel_ratio:g.pixelRatio,u_image:0,u_scale:[w,h.fromScale,h.toScale],u_fade:h.t,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},Xd=(g,r,c,h,m,_)=>{const w=g.lineAtlas,S=Jd(r,g.transform),k=c.layout.get("line-cap")==="round",T=w.getDash(h.from,k),L=w.getDash(h.to,k),D=T.width*m.fromScale,V=L.width*m.toScale;return u.e(Pu(g,r,c,_),{u_patternscale_a:[S/D,-T.height/2],u_patternscale_b:[S/V,-L.height/2],u_sdfgamma:w.width/(256*Math.min(D,V)*g.pixelRatio)/2,u_image:0,u_tex_y_a:T.y,u_tex_y_b:L.y,u_mix:m.t})};function Jd(g,r){return 1/me(g,1,r.tileZoom)}function Kl(g,r,c,h){return g.translatePosMatrix(h?h.posMatrix:r.tileID.posMatrix,r,c.paint.get("line-translate"),c.paint.get("line-translate-anchor"))}const Yd=(g,r,c,h,m)=>{return{u_matrix:g,u_tl_parent:r,u_scale_parent:c,u_buffer_scale:1,u_fade_t:h.mix,u_opacity:h.opacity*m.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:m.paint.get("raster-brightness-min"),u_brightness_high:m.paint.get("raster-brightness-max"),u_saturation_factor:(w=m.paint.get("raster-saturation"),w>0?1-1/(1.001-w):-w),u_contrast_factor:(_=m.paint.get("raster-contrast"),_>0?1/(1-_):1+_),u_spin_weights:Qd(m.paint.get("raster-hue-rotate"))};var _,w};function Qd(g){g*=Math.PI/180;const r=Math.sin(g),c=Math.cos(g);return[(2*c+1)/3,(-Math.sqrt(3)*r-c+1)/3,(Math.sqrt(3)*r-c+1)/3]}const Tu=(g,r,c,h,m,_,w,S,k,T)=>{const L=m.transform;return{u_is_size_zoom_constant:+(g==="constant"||g==="source"),u_is_size_feature_constant:+(g==="constant"||g==="camera"),u_size_t:r?r.uSizeT:0,u_size:r?r.uSize:0,u_camera_to_center_distance:L.cameraToCenterDistance,u_pitch:L.pitch/360*2*Math.PI,u_rotate_symbol:+c,u_aspect_ratio:L.width/L.height,u_fade_change:m.options.fadeDuration?m.symbolFadeChange:1,u_matrix:_,u_label_plane_matrix:w,u_coord_matrix:S,u_is_text:+k,u_pitch_with_map:+h,u_texsize:T,u_texture:0}},Iu=(g,r,c,h,m,_,w,S,k,T,L)=>{const D=m.transform;return u.e(Tu(g,r,c,h,m,_,w,S,k,T),{u_gamma_scale:h?Math.cos(D._pitch)*D.cameraToCenterDistance:1,u_device_pixel_ratio:m.pixelRatio,u_is_halo:+L})},xa=(g,r,c,h,m,_,w,S,k,T)=>u.e(Iu(g,r,c,h,m,_,w,S,!0,k,!0),{u_texsize_icon:T,u_texture_icon:1}),Xl=(g,r,c)=>({u_matrix:g,u_opacity:r,u_color:c}),Ii=(g,r,c,h,m,_)=>u.e(function(w,S,k,T){const L=k.imageManager.getPattern(w.from.toString()),D=k.imageManager.getPattern(w.to.toString()),{width:V,height:te}=k.imageManager.getPixelSize(),Q=Math.pow(2,T.tileID.overscaledZ),oe=T.tileSize*Math.pow(2,k.transform.tileZoom)/Q,J=oe*(T.tileID.canonical.x+T.tileID.wrap*Q),ge=oe*T.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:L.tl,u_pattern_br_a:L.br,u_pattern_tl_b:D.tl,u_pattern_br_b:D.br,u_texsize:[V,te],u_mix:S.t,u_pattern_size_a:L.displaySize,u_pattern_size_b:D.displaySize,u_scale_a:S.fromScale,u_scale_b:S.toScale,u_tile_units_to_pixels:1/me(T,1,k.transform.tileZoom),u_pixel_coord_upper:[J>>16,ge>>16],u_pixel_coord_lower:[65535&J,65535&ge]}}(h,_,c,m),{u_matrix:g,u_opacity:r}),Jl={fillExtrusion:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_lightpos:new u.aP(g,r.u_lightpos),u_lightintensity:new u.aM(g,r.u_lightintensity),u_lightcolor:new u.aP(g,r.u_lightcolor),u_vertical_gradient:new u.aM(g,r.u_vertical_gradient),u_opacity:new u.aM(g,r.u_opacity)}),fillExtrusionPattern:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_lightpos:new u.aP(g,r.u_lightpos),u_lightintensity:new u.aM(g,r.u_lightintensity),u_lightcolor:new u.aP(g,r.u_lightcolor),u_vertical_gradient:new u.aM(g,r.u_vertical_gradient),u_height_factor:new u.aM(g,r.u_height_factor),u_image:new u.aL(g,r.u_image),u_texsize:new u.aQ(g,r.u_texsize),u_pixel_coord_upper:new u.aQ(g,r.u_pixel_coord_upper),u_pixel_coord_lower:new u.aQ(g,r.u_pixel_coord_lower),u_scale:new u.aP(g,r.u_scale),u_fade:new u.aM(g,r.u_fade),u_opacity:new u.aM(g,r.u_opacity)}),fill:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix)}),fillPattern:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_image:new u.aL(g,r.u_image),u_texsize:new u.aQ(g,r.u_texsize),u_pixel_coord_upper:new u.aQ(g,r.u_pixel_coord_upper),u_pixel_coord_lower:new u.aQ(g,r.u_pixel_coord_lower),u_scale:new u.aP(g,r.u_scale),u_fade:new u.aM(g,r.u_fade)}),fillOutline:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_world:new u.aQ(g,r.u_world)}),fillOutlinePattern:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_world:new u.aQ(g,r.u_world),u_image:new u.aL(g,r.u_image),u_texsize:new u.aQ(g,r.u_texsize),u_pixel_coord_upper:new u.aQ(g,r.u_pixel_coord_upper),u_pixel_coord_lower:new u.aQ(g,r.u_pixel_coord_lower),u_scale:new u.aP(g,r.u_scale),u_fade:new u.aM(g,r.u_fade)}),circle:(g,r)=>({u_camera_to_center_distance:new u.aM(g,r.u_camera_to_center_distance),u_scale_with_map:new u.aL(g,r.u_scale_with_map),u_pitch_with_map:new u.aL(g,r.u_pitch_with_map),u_extrude_scale:new u.aQ(g,r.u_extrude_scale),u_device_pixel_ratio:new u.aM(g,r.u_device_pixel_ratio),u_matrix:new u.aN(g,r.u_matrix)}),collisionBox:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_camera_to_center_distance:new u.aM(g,r.u_camera_to_center_distance),u_pixels_to_tile_units:new u.aM(g,r.u_pixels_to_tile_units),u_extrude_scale:new u.aQ(g,r.u_extrude_scale),u_overscale_factor:new u.aM(g,r.u_overscale_factor)}),collisionCircle:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_inv_matrix:new u.aN(g,r.u_inv_matrix),u_camera_to_center_distance:new u.aM(g,r.u_camera_to_center_distance),u_viewport_size:new u.aQ(g,r.u_viewport_size)}),debug:(g,r)=>({u_color:new u.aR(g,r.u_color),u_matrix:new u.aN(g,r.u_matrix),u_overlay:new u.aL(g,r.u_overlay),u_overlay_scale:new u.aM(g,r.u_overlay_scale)}),clippingMask:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix)}),heatmap:(g,r)=>({u_extrude_scale:new u.aM(g,r.u_extrude_scale),u_intensity:new u.aM(g,r.u_intensity),u_matrix:new u.aN(g,r.u_matrix)}),heatmapTexture:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_world:new u.aQ(g,r.u_world),u_image:new u.aL(g,r.u_image),u_color_ramp:new u.aL(g,r.u_color_ramp),u_opacity:new u.aM(g,r.u_opacity)}),hillshade:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_image:new u.aL(g,r.u_image),u_latrange:new u.aQ(g,r.u_latrange),u_light:new u.aQ(g,r.u_light),u_shadow:new u.aR(g,r.u_shadow),u_highlight:new u.aR(g,r.u_highlight),u_accent:new u.aR(g,r.u_accent)}),hillshadePrepare:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_image:new u.aL(g,r.u_image),u_dimension:new u.aQ(g,r.u_dimension),u_zoom:new u.aM(g,r.u_zoom),u_unpack:new u.aO(g,r.u_unpack)}),line:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_ratio:new u.aM(g,r.u_ratio),u_device_pixel_ratio:new u.aM(g,r.u_device_pixel_ratio),u_units_to_pixels:new u.aQ(g,r.u_units_to_pixels)}),lineGradient:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_ratio:new u.aM(g,r.u_ratio),u_device_pixel_ratio:new u.aM(g,r.u_device_pixel_ratio),u_units_to_pixels:new u.aQ(g,r.u_units_to_pixels),u_image:new u.aL(g,r.u_image),u_image_height:new u.aM(g,r.u_image_height)}),linePattern:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_texsize:new u.aQ(g,r.u_texsize),u_ratio:new u.aM(g,r.u_ratio),u_device_pixel_ratio:new u.aM(g,r.u_device_pixel_ratio),u_image:new u.aL(g,r.u_image),u_units_to_pixels:new u.aQ(g,r.u_units_to_pixels),u_scale:new u.aP(g,r.u_scale),u_fade:new u.aM(g,r.u_fade)}),lineSDF:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_ratio:new u.aM(g,r.u_ratio),u_device_pixel_ratio:new u.aM(g,r.u_device_pixel_ratio),u_units_to_pixels:new u.aQ(g,r.u_units_to_pixels),u_patternscale_a:new u.aQ(g,r.u_patternscale_a),u_patternscale_b:new u.aQ(g,r.u_patternscale_b),u_sdfgamma:new u.aM(g,r.u_sdfgamma),u_image:new u.aL(g,r.u_image),u_tex_y_a:new u.aM(g,r.u_tex_y_a),u_tex_y_b:new u.aM(g,r.u_tex_y_b),u_mix:new u.aM(g,r.u_mix)}),raster:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_tl_parent:new u.aQ(g,r.u_tl_parent),u_scale_parent:new u.aM(g,r.u_scale_parent),u_buffer_scale:new u.aM(g,r.u_buffer_scale),u_fade_t:new u.aM(g,r.u_fade_t),u_opacity:new u.aM(g,r.u_opacity),u_image0:new u.aL(g,r.u_image0),u_image1:new u.aL(g,r.u_image1),u_brightness_low:new u.aM(g,r.u_brightness_low),u_brightness_high:new u.aM(g,r.u_brightness_high),u_saturation_factor:new u.aM(g,r.u_saturation_factor),u_contrast_factor:new u.aM(g,r.u_contrast_factor),u_spin_weights:new u.aP(g,r.u_spin_weights)}),symbolIcon:(g,r)=>({u_is_size_zoom_constant:new u.aL(g,r.u_is_size_zoom_constant),u_is_size_feature_constant:new u.aL(g,r.u_is_size_feature_constant),u_size_t:new u.aM(g,r.u_size_t),u_size:new u.aM(g,r.u_size),u_camera_to_center_distance:new u.aM(g,r.u_camera_to_center_distance),u_pitch:new u.aM(g,r.u_pitch),u_rotate_symbol:new u.aL(g,r.u_rotate_symbol),u_aspect_ratio:new u.aM(g,r.u_aspect_ratio),u_fade_change:new u.aM(g,r.u_fade_change),u_matrix:new u.aN(g,r.u_matrix),u_label_plane_matrix:new u.aN(g,r.u_label_plane_matrix),u_coord_matrix:new u.aN(g,r.u_coord_matrix),u_is_text:new u.aL(g,r.u_is_text),u_pitch_with_map:new u.aL(g,r.u_pitch_with_map),u_texsize:new u.aQ(g,r.u_texsize),u_texture:new u.aL(g,r.u_texture)}),symbolSDF:(g,r)=>({u_is_size_zoom_constant:new u.aL(g,r.u_is_size_zoom_constant),u_is_size_feature_constant:new u.aL(g,r.u_is_size_feature_constant),u_size_t:new u.aM(g,r.u_size_t),u_size:new u.aM(g,r.u_size),u_camera_to_center_distance:new u.aM(g,r.u_camera_to_center_distance),u_pitch:new u.aM(g,r.u_pitch),u_rotate_symbol:new u.aL(g,r.u_rotate_symbol),u_aspect_ratio:new u.aM(g,r.u_aspect_ratio),u_fade_change:new u.aM(g,r.u_fade_change),u_matrix:new u.aN(g,r.u_matrix),u_label_plane_matrix:new u.aN(g,r.u_label_plane_matrix),u_coord_matrix:new u.aN(g,r.u_coord_matrix),u_is_text:new u.aL(g,r.u_is_text),u_pitch_with_map:new u.aL(g,r.u_pitch_with_map),u_texsize:new u.aQ(g,r.u_texsize),u_texture:new u.aL(g,r.u_texture),u_gamma_scale:new u.aM(g,r.u_gamma_scale),u_device_pixel_ratio:new u.aM(g,r.u_device_pixel_ratio),u_is_halo:new u.aL(g,r.u_is_halo)}),symbolTextAndIcon:(g,r)=>({u_is_size_zoom_constant:new u.aL(g,r.u_is_size_zoom_constant),u_is_size_feature_constant:new u.aL(g,r.u_is_size_feature_constant),u_size_t:new u.aM(g,r.u_size_t),u_size:new u.aM(g,r.u_size),u_camera_to_center_distance:new u.aM(g,r.u_camera_to_center_distance),u_pitch:new u.aM(g,r.u_pitch),u_rotate_symbol:new u.aL(g,r.u_rotate_symbol),u_aspect_ratio:new u.aM(g,r.u_aspect_ratio),u_fade_change:new u.aM(g,r.u_fade_change),u_matrix:new u.aN(g,r.u_matrix),u_label_plane_matrix:new u.aN(g,r.u_label_plane_matrix),u_coord_matrix:new u.aN(g,r.u_coord_matrix),u_is_text:new u.aL(g,r.u_is_text),u_pitch_with_map:new u.aL(g,r.u_pitch_with_map),u_texsize:new u.aQ(g,r.u_texsize),u_texsize_icon:new u.aQ(g,r.u_texsize_icon),u_texture:new u.aL(g,r.u_texture),u_texture_icon:new u.aL(g,r.u_texture_icon),u_gamma_scale:new u.aM(g,r.u_gamma_scale),u_device_pixel_ratio:new u.aM(g,r.u_device_pixel_ratio),u_is_halo:new u.aL(g,r.u_is_halo)}),background:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_opacity:new u.aM(g,r.u_opacity),u_color:new u.aR(g,r.u_color)}),backgroundPattern:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_opacity:new u.aM(g,r.u_opacity),u_image:new u.aL(g,r.u_image),u_pattern_tl_a:new u.aQ(g,r.u_pattern_tl_a),u_pattern_br_a:new u.aQ(g,r.u_pattern_br_a),u_pattern_tl_b:new u.aQ(g,r.u_pattern_tl_b),u_pattern_br_b:new u.aQ(g,r.u_pattern_br_b),u_texsize:new u.aQ(g,r.u_texsize),u_mix:new u.aM(g,r.u_mix),u_pattern_size_a:new u.aQ(g,r.u_pattern_size_a),u_pattern_size_b:new u.aQ(g,r.u_pattern_size_b),u_scale_a:new u.aM(g,r.u_scale_a),u_scale_b:new u.aM(g,r.u_scale_b),u_pixel_coord_upper:new u.aQ(g,r.u_pixel_coord_upper),u_pixel_coord_lower:new u.aQ(g,r.u_pixel_coord_lower),u_tile_units_to_pixels:new u.aM(g,r.u_tile_units_to_pixels)}),terrain:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_texture:new u.aL(g,r.u_texture),u_ele_delta:new u.aM(g,r.u_ele_delta)}),terrainDepth:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_ele_delta:new u.aM(g,r.u_ele_delta)}),terrainCoords:(g,r)=>({u_matrix:new u.aN(g,r.u_matrix),u_texture:new u.aL(g,r.u_texture),u_terrain_coords_id:new u.aM(g,r.u_terrain_coords_id),u_ele_delta:new u.aM(g,r.u_ele_delta)})};class Yl{constructor(r,c,h){this.context=r;const m=r.gl;this.buffer=m.createBuffer(),this.dynamicDraw=!!h,this.context.unbindVAO(),r.bindElementBuffer.set(this.buffer),m.bufferData(m.ELEMENT_ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?m.DYNAMIC_DRAW:m.STATIC_DRAW),this.dynamicDraw||delete c.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(r){const c=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),c.bufferSubData(c.ELEMENT_ARRAY_BUFFER,0,r.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const qs={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Ql{constructor(r,c,h,m){this.length=c.length,this.attributes=h,this.itemSize=c.bytesPerElement,this.dynamicDraw=m,this.context=r;const _=r.gl;this.buffer=_.createBuffer(),r.bindVertexBuffer.set(this.buffer),_.bufferData(_.ARRAY_BUFFER,c.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete c.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(r){if(r.length!==this.length)throw new Error(`Length of new data is ${r.length}, which doesn't match current length of ${this.length}`);const c=this.context.gl;this.bind(),c.bufferSubData(c.ARRAY_BUFFER,0,r.arrayBuffer)}enableAttributes(r,c){for(let h=0;h<this.attributes.length;h++){const m=c.attributes[this.attributes[h].name];m!==void 0&&r.enableVertexAttribArray(m)}}setVertexAttribPointers(r,c,h){for(let m=0;m<this.attributes.length;m++){const _=this.attributes[m],w=c.attributes[_.name];w!==void 0&&r.vertexAttribPointer(w,_.components,r[qs[_.type]],!1,this.itemSize,_.offset+this.itemSize*(h||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const ns=new WeakMap;function aa(g){var r;if(ns.has(g))return ns.get(g);{const c=(r=g.getParameter(g.VERSION))===null||r===void 0?void 0:r.startsWith("WebGL 2.0");return ns.set(g,c),c}}class Wt{constructor(r){this.gl=r.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(r){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class e1 extends Wt{getDefault(){return u.aT.transparent}set(r){const c=this.current;(r.r!==c.r||r.g!==c.g||r.b!==c.b||r.a!==c.a||this.dirty)&&(this.gl.clearColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class ui extends Wt{getDefault(){return 1}set(r){(r!==this.current||this.dirty)&&(this.gl.clearDepth(r),this.current=r,this.dirty=!1)}}class ci extends Wt{getDefault(){return 0}set(r){(r!==this.current||this.dirty)&&(this.gl.clearStencil(r),this.current=r,this.dirty=!1)}}class Lu extends Wt{getDefault(){return[!0,!0,!0,!0]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||r[2]!==c[2]||r[3]!==c[3]||this.dirty)&&(this.gl.colorMask(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class t1 extends Wt{getDefault(){return!0}set(r){(r!==this.current||this.dirty)&&(this.gl.depthMask(r),this.current=r,this.dirty=!1)}}class n1 extends Wt{getDefault(){return 255}set(r){(r!==this.current||this.dirty)&&(this.gl.stencilMask(r),this.current=r,this.dirty=!1)}}class Du extends Wt{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(r){const c=this.current;(r.func!==c.func||r.ref!==c.ref||r.mask!==c.mask||this.dirty)&&(this.gl.stencilFunc(r.func,r.ref,r.mask),this.current=r,this.dirty=!1)}}class Ru extends Wt{getDefault(){const r=this.gl;return[r.KEEP,r.KEEP,r.KEEP]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||r[2]!==c[2]||this.dirty)&&(this.gl.stencilOp(r[0],r[1],r[2]),this.current=r,this.dirty=!1)}}class r1 extends Wt{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;r?c.enable(c.STENCIL_TEST):c.disable(c.STENCIL_TEST),this.current=r,this.dirty=!1}}class zu extends Wt{getDefault(){return[0,1]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||this.dirty)&&(this.gl.depthRange(r[0],r[1]),this.current=r,this.dirty=!1)}}class Fu extends Wt{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;r?c.enable(c.DEPTH_TEST):c.disable(c.DEPTH_TEST),this.current=r,this.dirty=!1}}class i1 extends Wt{getDefault(){return this.gl.LESS}set(r){(r!==this.current||this.dirty)&&(this.gl.depthFunc(r),this.current=r,this.dirty=!1)}}class eh extends Wt{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;r?c.enable(c.BLEND):c.disable(c.BLEND),this.current=r,this.dirty=!1}}class th extends Wt{getDefault(){const r=this.gl;return[r.ONE,r.ZERO]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||this.dirty)&&(this.gl.blendFunc(r[0],r[1]),this.current=r,this.dirty=!1)}}class rs extends Wt{getDefault(){return u.aT.transparent}set(r){const c=this.current;(r.r!==c.r||r.g!==c.g||r.b!==c.b||r.a!==c.a||this.dirty)&&(this.gl.blendColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class A0 extends Wt{getDefault(){return this.gl.FUNC_ADD}set(r){(r!==this.current||this.dirty)&&(this.gl.blendEquation(r),this.current=r,this.dirty=!1)}}class P0 extends Wt{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;r?c.enable(c.CULL_FACE):c.disable(c.CULL_FACE),this.current=r,this.dirty=!1}}class T0 extends Wt{getDefault(){return this.gl.BACK}set(r){(r!==this.current||this.dirty)&&(this.gl.cullFace(r),this.current=r,this.dirty=!1)}}class I0 extends Wt{getDefault(){return this.gl.CCW}set(r){(r!==this.current||this.dirty)&&(this.gl.frontFace(r),this.current=r,this.dirty=!1)}}class L0 extends Wt{getDefault(){return null}set(r){(r!==this.current||this.dirty)&&(this.gl.useProgram(r),this.current=r,this.dirty=!1)}}class D0 extends Wt{getDefault(){return this.gl.TEXTURE0}set(r){(r!==this.current||this.dirty)&&(this.gl.activeTexture(r),this.current=r,this.dirty=!1)}}class Nu extends Wt{getDefault(){const r=this.gl;return[0,0,r.drawingBufferWidth,r.drawingBufferHeight]}set(r){const c=this.current;(r[0]!==c[0]||r[1]!==c[1]||r[2]!==c[2]||r[3]!==c[3]||this.dirty)&&(this.gl.viewport(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class o1 extends Wt{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.bindFramebuffer(c.FRAMEBUFFER,r),this.current=r,this.dirty=!1}}class Ou extends Wt{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.bindRenderbuffer(c.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class Bu extends Wt{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.bindTexture(c.TEXTURE_2D,r),this.current=r,this.dirty=!1}}class is extends Wt{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.bindBuffer(c.ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class nh extends Wt{getDefault(){return null}set(r){const c=this.gl;c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class rh extends Wt{getDefault(){return null}set(r){var c;if(r===this.current&&!this.dirty)return;const h=this.gl;aa(h)?h.bindVertexArray(r):(c=h.getExtension("OES_vertex_array_object"))===null||c===void 0||c.bindVertexArrayOES(r),this.current=r,this.dirty=!1}}class $u extends Wt{getDefault(){return 4}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_ALIGNMENT,r),this.current=r,this.dirty=!1}}class ba extends Wt{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r),this.current=r,this.dirty=!1}}class ih extends Wt{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const c=this.gl;c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,r),this.current=r,this.dirty=!1}}class sa extends Wt{constructor(r,c){super(r),this.context=r,this.parent=c}getDefault(){return null}}class os extends sa{setDirty(){this.dirty=!0}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class oh extends sa{set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class ju extends sa{set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const c=this.gl;c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class en{constructor(r,c,h,m,_){this.context=r,this.width=c,this.height=h;const w=r.gl,S=this.framebuffer=w.createFramebuffer();if(this.colorAttachment=new os(r,S),m)this.depthAttachment=_?new ju(r,S):new oh(r,S);else if(_)throw new Error("Stencil cannot be setted without depth");if(w.checkFramebufferStatus(w.FRAMEBUFFER)!==w.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const r=this.context.gl,c=this.colorAttachment.get();if(c&&r.deleteTexture(c),this.depthAttachment){const h=this.depthAttachment.get();h&&r.deleteRenderbuffer(h)}r.deleteFramebuffer(this.framebuffer)}}class An{constructor(r,c,h){this.blendFunction=r,this.blendColor=c,this.mask=h}}An.Replace=[1,0],An.disabled=new An(An.Replace,u.aT.transparent,[!1,!1,!1,!1]),An.unblended=new An(An.Replace,u.aT.transparent,[!0,!0,!0,!0]),An.alphaBlended=new An([1,771],u.aT.transparent,[!0,!0,!0,!0]);class R0{constructor(r){var c,h;if(this.gl=r,this.clearColor=new e1(this),this.clearDepth=new ui(this),this.clearStencil=new ci(this),this.colorMask=new Lu(this),this.depthMask=new t1(this),this.stencilMask=new n1(this),this.stencilFunc=new Du(this),this.stencilOp=new Ru(this),this.stencilTest=new r1(this),this.depthRange=new zu(this),this.depthTest=new Fu(this),this.depthFunc=new i1(this),this.blend=new eh(this),this.blendFunc=new th(this),this.blendColor=new rs(this),this.blendEquation=new A0(this),this.cullFace=new P0(this),this.cullFaceSide=new T0(this),this.frontFace=new I0(this),this.program=new L0(this),this.activeTexture=new D0(this),this.viewport=new Nu(this),this.bindFramebuffer=new o1(this),this.bindRenderbuffer=new Ou(this),this.bindTexture=new Bu(this),this.bindVertexBuffer=new is(this),this.bindElementBuffer=new nh(this),this.bindVertexArray=new rh(this),this.pixelStoreUnpack=new $u(this),this.pixelStoreUnpackPremultiplyAlpha=new ba(this),this.pixelStoreUnpackFlipY=new ih(this),this.extTextureFilterAnisotropic=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=r.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),aa(r)){this.HALF_FLOAT=r.HALF_FLOAT;const m=r.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(c=r.RGBA16F)!==null&&c!==void 0?c:m==null?void 0:m.RGBA16F_EXT,this.RGB16F=(h=r.RGB16F)!==null&&h!==void 0?h:m==null?void 0:m.RGB16F_EXT,r.getExtension("EXT_color_buffer_float")}else{r.getExtension("EXT_color_buffer_half_float"),r.getExtension("OES_texture_half_float_linear");const m=r.getExtension("OES_texture_half_float");this.HALF_FLOAT=m==null?void 0:m.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(r,c){return new Yl(this,r,c)}createVertexBuffer(r,c,h){return new Ql(this,r,c,h)}createRenderbuffer(r,c,h){const m=this.gl,_=m.createRenderbuffer();return this.bindRenderbuffer.set(_),m.renderbufferStorage(m.RENDERBUFFER,r,c,h),this.bindRenderbuffer.set(null),_}createFramebuffer(r,c,h,m){return new en(this,r,c,h,m)}clear({color:r,depth:c,stencil:h}){const m=this.gl;let _=0;r&&(_|=m.COLOR_BUFFER_BIT,this.clearColor.set(r),this.colorMask.set([!0,!0,!0,!0])),c!==void 0&&(_|=m.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(c),this.depthMask.set(!0)),h!==void 0&&(_|=m.STENCIL_BUFFER_BIT,this.clearStencil.set(h),this.stencilMask.set(255)),m.clear(_)}setCullFace(r){r.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(r.mode),this.frontFace.set(r.frontFace))}setDepthMode(r){r.func!==this.gl.ALWAYS||r.mask?(this.depthTest.set(!0),this.depthFunc.set(r.func),this.depthMask.set(r.mask),this.depthRange.set(r.range)):this.depthTest.set(!1)}setStencilMode(r){r.test.func!==this.gl.ALWAYS||r.mask?(this.stencilTest.set(!0),this.stencilMask.set(r.mask),this.stencilOp.set([r.fail,r.depthFail,r.pass]),this.stencilFunc.set({func:r.test.func,ref:r.ref,mask:r.test.mask})):this.stencilTest.set(!1)}setColorMode(r){u.aG(r.blendFunction,An.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(r.blendFunction),this.blendColor.set(r.blendColor)),this.colorMask.set(r.mask)}createVertexArray(){var r;return aa(this.gl)?this.gl.createVertexArray():(r=this.gl.getExtension("OES_vertex_array_object"))===null||r===void 0?void 0:r.createVertexArrayOES()}deleteVertexArray(r){var c;return aa(this.gl)?this.gl.deleteVertexArray(r):(c=this.gl.getExtension("OES_vertex_array_object"))===null||c===void 0?void 0:c.deleteVertexArrayOES(r)}unbindVAO(){this.bindVertexArray.set(null)}}class Ut{constructor(r,c,h){this.func=r,this.mask=c,this.range=h}}Ut.ReadOnly=!1,Ut.ReadWrite=!0,Ut.disabled=new Ut(519,Ut.ReadOnly,[0,1]);const wa=7680;class Pn{constructor(r,c,h,m,_,w){this.test=r,this.ref=c,this.mask=h,this.fail=m,this.depthFail=_,this.pass=w}}Pn.disabled=new Pn({func:519,mask:0},0,0,wa,wa,wa);class Mn{constructor(r,c,h){this.enable=r,this.mode=c,this.frontFace=h}}let Ks;function ah(g,r,c,h,m,_,w){const S=g.context,k=S.gl,T=g.useProgram("collisionBox"),L=[];let D=0,V=0;for(let le=0;le<h.length;le++){const ve=h[le],Ae=r.getTile(ve),Pe=Ae.getBucket(c);if(!Pe)continue;let Ne=ve.posMatrix;m[0]===0&&m[1]===0||(Ne=g.translatePosMatrix(ve.posMatrix,Ae,m,_));const Ue=w?Pe.textCollisionBox:Pe.iconCollisionBox,je=Pe.collisionCircleArray;if(je.length>0){const Ke=u.Z(),mt=Ne;u.aU(Ke,Pe.placementInvProjMatrix,g.transform.glCoordMatrix),u.aU(Ke,Ke,Pe.placementViewportMatrix),L.push({circleArray:je,circleOffset:V,transform:mt,invTransform:Ke,coord:ve}),D+=je.length/4,V=D}Ue&&T.draw(S,k.LINES,Ut.disabled,Pn.disabled,g.colorModeForRenderPass(),Mn.disabled,ku(Ne,g.transform,Ae),g.style.map.terrain&&g.style.map.terrain.getTerrainData(ve),c.id,Ue.layoutVertexBuffer,Ue.indexBuffer,Ue.segments,null,g.transform.zoom,null,null,Ue.collisionVertexBuffer)}if(!w||!L.length)return;const te=g.useProgram("collisionCircle"),Q=new u.aV;Q.resize(4*D),Q._trim();let oe=0;for(const le of L)for(let ve=0;ve<le.circleArray.length/4;ve++){const Ae=4*ve,Pe=le.circleArray[Ae+0],Ne=le.circleArray[Ae+1],Ue=le.circleArray[Ae+2],je=le.circleArray[Ae+3];Q.emplace(oe++,Pe,Ne,Ue,je,0),Q.emplace(oe++,Pe,Ne,Ue,je,1),Q.emplace(oe++,Pe,Ne,Ue,je,2),Q.emplace(oe++,Pe,Ne,Ue,je,3)}(!Ks||Ks.length<2*D)&&(Ks=function(le){const ve=2*le,Ae=new u.aX;Ae.resize(ve),Ae._trim();for(let Pe=0;Pe<ve;Pe++){const Ne=6*Pe;Ae.uint16[Ne+0]=4*Pe+0,Ae.uint16[Ne+1]=4*Pe+1,Ae.uint16[Ne+2]=4*Pe+2,Ae.uint16[Ne+3]=4*Pe+2,Ae.uint16[Ne+4]=4*Pe+3,Ae.uint16[Ne+5]=4*Pe+0}return Ae}(D));const J=S.createIndexBuffer(Ks,!0),ge=S.createVertexBuffer(Q,u.aW.members,!0);for(const le of L){const ve={u_matrix:le.transform,u_inv_matrix:le.invTransform,u_camera_to_center_distance:(Ce=g.transform).cameraToCenterDistance,u_viewport_size:[Ce.width,Ce.height]};te.draw(S,k.TRIANGLES,Ut.disabled,Pn.disabled,g.colorModeForRenderPass(),Mn.disabled,ve,g.style.map.terrain&&g.style.map.terrain.getTerrainData(le.coord),c.id,ge,J,u.S.simpleSegment(0,2*le.circleOffset,le.circleArray.length,le.circleArray.length/2),null,g.transform.zoom,null,null,null)}var Ce;ge.destroy(),J.destroy()}Mn.disabled=new Mn(!1,1029,2305),Mn.backCCW=new Mn(!0,1029,2305);const Vu=u.ao(new Float32Array(16));function a1(g,r,c,h,m,_){const{horizontalAlign:w,verticalAlign:S}=u.au(g);return new u.P((-(w-.5)*r/m+h[0])*_,(-(S-.5)*c/m+h[1])*_)}function s1(g,r,c,h,m,_,w,S,k,T,L){const D=g.text.placedSymbolArray,V=g.text.dynamicLayoutVertexArray,te=g.icon.dynamicLayoutVertexArray,Q={};V.clear();for(let oe=0;oe<D.length;oe++){const J=D.get(oe),ge=J.hidden||!J.crossTileID||g.allowVerticalPlacement&&!J.placedOrientation?null:h[J.crossTileID];if(ge){const Ce=new u.P(J.anchorX,J.anchorY),le=Cn(Ce,c?w:_,L),ve=si(m.cameraToCenterDistance,le.signedDistanceFromCamera);let Ae=u.aj(g.textSizeData,k,J)*ve/u.ap;c&&(Ae*=g.tilePixelRatio/S);const{width:Pe,height:Ne,anchor:Ue,textOffset:je,textBoxScale:Ke}=ge,mt=a1(Ue,Pe,Ne,je,Ke,Ae),Bt=c?Cn(Ce.add(mt),_,L).point:le.point.add(r?mt.rotate(-m.angle):mt),rt=g.allowVerticalPlacement&&J.placedOrientation===u.ai.vertical?Math.PI/2:0;for(let Et=0;Et<J.numGlyphs;Et++)u.ak(V,Bt,rt);T&&J.associatedIconIndex>=0&&(Q[J.associatedIconIndex]={shiftedAnchor:Bt,angle:rt})}else q(J.numGlyphs,V)}if(T){te.clear();const oe=g.icon.placedSymbolArray;for(let J=0;J<oe.length;J++){const ge=oe.get(J);if(ge.hidden)q(ge.numGlyphs,te);else{const Ce=Q[J];if(Ce)for(let le=0;le<ge.numGlyphs;le++)u.ak(te,Ce.shiftedAnchor,Ce.angle);else q(ge.numGlyphs,te)}}g.icon.dynamicLayoutVertexBuffer.updateData(te)}g.text.dynamicLayoutVertexBuffer.updateData(V)}function Wu(g,r,c){return c.iconsInText&&r?"symbolTextAndIcon":g?"symbolSDF":"symbolIcon"}function l1(g,r,c,h,m,_,w,S,k,T,L,D){const V=g.context,te=V.gl,Q=g.transform,oe=S==="map",J=k==="map",ge=S!=="viewport"&&c.layout.get("symbol-placement")!=="point",Ce=oe&&!J&&!ge,le=!c.layout.get("symbol-sort-key").isConstant();let ve=!1;const Ae=g.depthModeForSublayer(0,Ut.ReadOnly),Pe=c._unevaluatedLayout.hasValue("text-variable-anchor")||c._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ne=[];for(const Ue of h){const je=r.getTile(Ue),Ke=je.getBucket(c);if(!Ke)continue;const mt=m?Ke.text:Ke.icon;if(!mt||!mt.segments.get().length||!mt.hasVisibleVertices)continue;const Bt=mt.programConfigurations.get(c.id),rt=m||Ke.sdfIcons,Et=m?Ke.textSizeData:Ke.iconSizeData,yt=J||Q.pitch!==0,cn=g.useProgram(Wu(rt,m,Ke),Bt),Nt=u.ah(Et,Q.zoom),zt=g.style.map.terrain&&g.style.map.terrain.getTerrainData(Ue);let $t,Bn,mn,_r,ir=[0,0],Un=null;if(m)Bn=je.glyphAtlasTexture,mn=te.LINEAR,$t=je.glyphAtlasTexture.size,Ke.iconsInText&&(ir=je.imageAtlasTexture.size,Un=je.imageAtlasTexture,_r=yt||g.options.rotating||g.options.zooming||Et.kind==="composite"||Et.kind==="camera"?te.LINEAR:te.NEAREST);else{const $n=c.layout.get("icon-size").constantOr(0)!==1||Ke.iconsNeedLinear;Bn=je.imageAtlasTexture,mn=rt||g.options.rotating||g.options.zooming||$n||yt?te.LINEAR:te.NEAREST,$t=je.imageAtlasTexture.size}const pi=me(je,1,g.transform.zoom),_n=Ye(Ue.posMatrix,J,oe,g.transform,pi),ho=Mi(Ue.posMatrix,J,oe,g.transform,pi),po=Pe&&Ke.hasTextData(),ca=c.layout.get("icon-text-fit")!=="none"&&po&&Ke.hasIconData();if(ge){const $n=g.style.map.terrain?(Xr,jn)=>g.style.map.terrain.getElevation(Ue,Xr,jn):null,or=c.layout.get("text-rotation-alignment")==="map";Qe(Ke,Ue.posMatrix,g,m,_n,ho,J,T,or,$n)}const ka=g.translatePosMatrix(Ue.posMatrix,je,_,w),hs=ge||m&&Pe||ca?Vu:_n,Pr=g.translatePosMatrix(ho,je,_,w,!0),xr=rt&&c.paint.get(m?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Or;Or=rt?Ke.iconsInText?xa(Et.kind,Nt,Ce,J,g,ka,hs,Pr,$t,ir):Iu(Et.kind,Nt,Ce,J,g,ka,hs,Pr,m,$t,!0):Tu(Et.kind,Nt,Ce,J,g,ka,hs,Pr,m,$t);const Aa={program:cn,buffers:mt,uniformValues:Or,atlasTexture:Bn,atlasTextureIcon:Un,atlasInterpolation:mn,atlasInterpolationIcon:_r,isSDF:rt,hasHalo:xr};if(le&&Ke.canOverlap){ve=!0;const $n=mt.segments.get();for(const or of $n)Ne.push({segments:new u.S([or]),sortKey:or.sortKey,state:Aa,terrainData:zt})}else Ne.push({segments:mt.segments,sortKey:0,state:Aa,terrainData:zt})}ve&&Ne.sort((Ue,je)=>Ue.sortKey-je.sortKey);for(const Ue of Ne){const je=Ue.state;if(V.activeTexture.set(te.TEXTURE0),je.atlasTexture.bind(je.atlasInterpolation,te.CLAMP_TO_EDGE),je.atlasTextureIcon&&(V.activeTexture.set(te.TEXTURE1),je.atlasTextureIcon&&je.atlasTextureIcon.bind(je.atlasInterpolationIcon,te.CLAMP_TO_EDGE)),je.isSDF){const Ke=je.uniformValues;je.hasHalo&&(Ke.u_is_halo=1,Uu(je.buffers,Ue.segments,c,g,je.program,Ae,L,D,Ke,Ue.terrainData)),Ke.u_is_halo=0}Uu(je.buffers,Ue.segments,c,g,je.program,Ae,L,D,je.uniformValues,Ue.terrainData)}}function Uu(g,r,c,h,m,_,w,S,k,T){const L=h.context;m.draw(L,L.gl.TRIANGLES,_,w,S,Mn.disabled,k,T,c.id,g.layoutVertexBuffer,g.indexBuffer,r,c.paint,h.transform.zoom,g.programConfigurations.get(c.id),g.dynamicLayoutVertexBuffer,g.opacityVertexBuffer)}function Xs(g,r,c,h,m){if(!c||!h||!h.imageAtlas)return;const _=h.imageAtlas.patternPositions;let w=_[c.to.toString()],S=_[c.from.toString()];if(!w||!S){const k=m.getPaintProperty(r);w=_[k],S=_[k]}w&&S&&g.setConstantPatternPositions(w,S)}function Js(g,r,c,h,m,_,w){const S=g.context.gl,k="fill-pattern",T=c.paint.get(k),L=T&&T.constantOr(1),D=c.getCrossfadeParameters();let V,te,Q,oe,J;w?(te=L&&!c.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",V=S.LINES):(te=L?"fillPattern":"fill",V=S.TRIANGLES);const ge=T.constantOr(null);for(const Ce of h){const le=r.getTile(Ce);if(L&&!le.patternsLoaded())continue;const ve=le.getBucket(c);if(!ve)continue;const Ae=ve.programConfigurations.get(c.id),Pe=g.useProgram(te,Ae),Ne=g.style.map.terrain&&g.style.map.terrain.getTerrainData(Ce);L&&(g.context.activeTexture.set(S.TEXTURE0),le.imageAtlasTexture.bind(S.LINEAR,S.CLAMP_TO_EDGE),Ae.updatePaintBuffers(D)),Xs(Ae,k,ge,le,c);const Ue=Ne?Ce:null,je=g.translatePosMatrix(Ue?Ue.posMatrix:Ce.posMatrix,le,c.paint.get("fill-translate"),c.paint.get("fill-translate-anchor"));if(w){oe=ve.indexBuffer2,J=ve.segments2;const Ke=[S.drawingBufferWidth,S.drawingBufferHeight];Q=te==="fillOutlinePattern"&&L?ql(je,g,D,le,Ke):Gl(je,Ke)}else oe=ve.indexBuffer,J=ve.segments,Q=L?Eu(je,g,D,le):Gd(je);Pe.draw(g.context,V,m,g.stencilModeForClipping(Ce),_,Mn.disabled,Q,Ne,c.id,ve.layoutVertexBuffer,oe,J,c.paint,g.transform.zoom,Ae)}}function Ys(g,r,c,h,m,_,w){const S=g.context,k=S.gl,T="fill-extrusion-pattern",L=c.paint.get(T),D=L.constantOr(1),V=c.getCrossfadeParameters(),te=c.paint.get("fill-extrusion-opacity"),Q=L.constantOr(null);for(const oe of h){const J=r.getTile(oe),ge=J.getBucket(c);if(!ge)continue;const Ce=g.style.map.terrain&&g.style.map.terrain.getTerrainData(oe),le=ge.programConfigurations.get(c.id),ve=g.useProgram(D?"fillExtrusionPattern":"fillExtrusion",le);D&&(g.context.activeTexture.set(k.TEXTURE0),J.imageAtlasTexture.bind(k.LINEAR,k.CLAMP_TO_EDGE),le.updatePaintBuffers(V)),Xs(le,T,Q,J,c);const Ae=g.translatePosMatrix(oe.posMatrix,J,c.paint.get("fill-extrusion-translate"),c.paint.get("fill-extrusion-translate-anchor")),Pe=c.paint.get("fill-extrusion-vertical-gradient"),Ne=D?ia(Ae,g,Pe,te,oe,V,J):Mu(Ae,g,Pe,te);ve.draw(S,S.gl.TRIANGLES,m,_,w,Mn.backCCW,Ne,Ce,c.id,ge.layoutVertexBuffer,ge.indexBuffer,ge.segments,c.paint,g.transform.zoom,le,g.style.map.terrain&&ge.centroidVertexBuffer)}}function z0(g,r,c,h,m,_,w){const S=g.context,k=S.gl,T=c.fbo;if(!T)return;const L=g.useProgram("hillshade"),D=g.style.map.terrain&&g.style.map.terrain.getTerrainData(r);S.activeTexture.set(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,T.colorAttachment.get()),L.draw(S,k.TRIANGLES,m,_,w,Mn.disabled,((V,te,Q,oe)=>{const J=Q.paint.get("hillshade-shadow-color"),ge=Q.paint.get("hillshade-highlight-color"),Ce=Q.paint.get("hillshade-accent-color");let le=Q.paint.get("hillshade-illumination-direction")*(Math.PI/180);Q.paint.get("hillshade-illumination-anchor")==="viewport"&&(le-=V.transform.angle);const ve=!V.options.moving;return{u_matrix:oe?oe.posMatrix:V.transform.calculatePosMatrix(te.tileID.toUnwrapped(),ve),u_image:0,u_latrange:Au(0,te.tileID),u_light:[Q.paint.get("hillshade-exaggeration"),le],u_shadow:J,u_highlight:ge,u_accent:Ce}})(g,c,h,D?r:null),D,h.id,g.rasterBoundsBuffer,g.quadTriangleIndexBuffer,g.rasterBoundsSegments)}function Hu(g,r,c,h,m,_){const w=g.context,S=w.gl,k=r.dem;if(k&&k.data){const T=k.dim,L=k.stride,D=k.getPixels();if(w.activeTexture.set(S.TEXTURE1),w.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||g.getTileTexture(L),r.demTexture){const te=r.demTexture;te.update(D,{premultiply:!1}),te.bind(S.NEAREST,S.CLAMP_TO_EDGE)}else r.demTexture=new Me(w,D,S.RGBA,{premultiply:!1}),r.demTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE);w.activeTexture.set(S.TEXTURE0);let V=r.fbo;if(!V){const te=new Me(w,{width:T,height:T,data:null},S.RGBA);te.bind(S.LINEAR,S.CLAMP_TO_EDGE),V=r.fbo=w.createFramebuffer(T,T,!0,!1),V.colorAttachment.set(te.texture)}w.bindFramebuffer.set(V.framebuffer),w.viewport.set([0,0,T,T]),g.useProgram("hillshadePrepare").draw(w,S.TRIANGLES,h,m,_,Mn.disabled,((te,Q)=>{const oe=Q.stride,J=u.Z();return u.aS(J,0,u.N,-u.N,0,0,1),u.$(J,J,[0,-u.N,0]),{u_matrix:J,u_image:1,u_dimension:[oe,oe],u_zoom:te.overscaledZ,u_unpack:Q.getUnpackVector()}})(r.tileID,k),null,c.id,g.rasterBoundsBuffer,g.quadTriangleIndexBuffer,g.rasterBoundsSegments),r.needsHillshadePrepare=!1}}function F0(g,r,c,h,m,_){const w=h.paint.get("raster-fade-duration");if(!_&&w>0){const S=u.h.now(),k=(S-g.timeAdded)/w,T=r?(S-r.timeAdded)/w:-1,L=c.getSource(),D=m.coveringZoomLevel({tileSize:L.tileSize,roundZoom:L.roundZoom}),V=!r||Math.abs(r.tileID.overscaledZ-D)>Math.abs(g.tileID.overscaledZ-D),te=V&&g.refreshedUponExpiration?1:u.ad(V?k:1-T,0,1);return g.refreshedUponExpiration&&k>=1&&(g.refreshedUponExpiration=!1),r?{opacity:1,mix:1-te}:{opacity:te,mix:0}}return{opacity:1,mix:0}}const sh=new u.aT(1,0,0,1),u1=new u.aT(0,1,0,1),Zu=new u.aT(0,0,1,1),lh=new u.aT(1,0,1,1),uh=new u.aT(0,1,1,1);function Qs(g,r,c,h){d1(g,0,r+c/2,g.transform.width,c,h)}function c1(g,r,c,h){d1(g,r-c/2,0,c,g.transform.height,h)}function d1(g,r,c,h,m,_){const w=g.context,S=w.gl;S.enable(S.SCISSOR_TEST),S.scissor(r*g.pixelRatio,c*g.pixelRatio,h*g.pixelRatio,m*g.pixelRatio),w.clear({color:_}),S.disable(S.SCISSOR_TEST)}function ch(g,r,c){const h=g.context,m=h.gl,_=c.posMatrix,w=g.useProgram("debug"),S=Ut.disabled,k=Pn.disabled,T=g.colorModeForRenderPass(),L="$debug",D=g.style.map.terrain&&g.style.map.terrain.getTerrainData(c);h.activeTexture.set(m.TEXTURE0);const V=r.getTileByID(c.key).latestRawTileData,te=Math.floor((V&&V.byteLength||0)/1024),Q=r.getTile(c).tileSize,oe=512/Math.min(Q,512)*(c.overscaledZ/g.transform.zoom)*.5;let J=c.canonical.toString();c.overscaledZ!==c.canonical.z&&(J+=` => ${c.overscaledZ}`),function(ge,Ce){ge.initDebugOverlayCanvas();const le=ge.debugOverlayCanvas,ve=ge.context.gl,Ae=ge.debugOverlayCanvas.getContext("2d");Ae.clearRect(0,0,le.width,le.height),Ae.shadowColor="white",Ae.shadowBlur=2,Ae.lineWidth=1.5,Ae.strokeStyle="white",Ae.textBaseline="top",Ae.font="bold 36px Open Sans, sans-serif",Ae.fillText(Ce,5,5),Ae.strokeText(Ce,5,5),ge.debugOverlayTexture.update(le),ge.debugOverlayTexture.bind(ve.LINEAR,ve.CLAMP_TO_EDGE)}(g,`${J} ${te}kB`),w.draw(h,m.TRIANGLES,S,k,An.alphaBlended,Mn.disabled,Gs(_,u.aT.transparent,oe),null,L,g.debugBuffer,g.quadTriangleIndexBuffer,g.debugSegments),w.draw(h,m.LINE_STRIP,S,k,T,Mn.disabled,Gs(_,u.aT.red),D,L,g.debugBuffer,g.tileBorderIndexBuffer,g.debugSegments)}function Dn(g,r,c){const h=g.context,m=h.gl,_=g.colorModeForRenderPass(),w=new Ut(m.LEQUAL,Ut.ReadWrite,g.depthRangeFor3D),S=g.useProgram("terrain"),k=r.getTerrainMesh();h.bindFramebuffer.set(null),h.viewport.set([0,0,g.width,g.height]);for(const T of c){const L=g.renderToTexture.getTexture(T),D=r.getTerrainData(T.tileID);h.activeTexture.set(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,L.texture);const V={u_matrix:g.transform.calculatePosMatrix(T.tileID.toUnwrapped()),u_texture:0,u_ele_delta:r.getMeshFrameDelta(g.transform.zoom)};S.draw(h,m.TRIANGLES,w,Pn.disabled,_,Mn.backCCW,V,D,"terrain",k.vertexBuffer,k.indexBuffer,k.segments)}}class Sa{constructor(r,c){this.context=new R0(r),this.transform=c,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:u.Z(),renderTime:0},this.setup(),this.numSublayers=Rt.maxUnderzooming+Rt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ul}resize(r,c,h){if(this.width=Math.floor(r*h),this.height=Math.floor(c*h),this.pixelRatio=h,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const m of this.style._order)this.style._layers[m].resize()}setup(){const r=this.context,c=new u.a_;c.emplaceBack(0,0),c.emplaceBack(u.N,0),c.emplaceBack(0,u.N),c.emplaceBack(u.N,u.N),this.tileExtentBuffer=r.createVertexBuffer(c,Hl.members),this.tileExtentSegments=u.S.simpleSegment(0,0,4,2);const h=new u.a_;h.emplaceBack(0,0),h.emplaceBack(u.N,0),h.emplaceBack(0,u.N),h.emplaceBack(u.N,u.N),this.debugBuffer=r.createVertexBuffer(h,Hl.members),this.debugSegments=u.S.simpleSegment(0,0,4,5);const m=new u.V;m.emplaceBack(0,0,0,0),m.emplaceBack(u.N,0,u.N,0),m.emplaceBack(0,u.N,0,u.N),m.emplaceBack(u.N,u.N,u.N,u.N),this.rasterBoundsBuffer=r.createVertexBuffer(m,tr.members),this.rasterBoundsSegments=u.S.simpleSegment(0,0,4,2);const _=new u.a_;_.emplaceBack(0,0),_.emplaceBack(1,0),_.emplaceBack(0,1),_.emplaceBack(1,1),this.viewportBuffer=r.createVertexBuffer(_,Hl.members),this.viewportSegments=u.S.simpleSegment(0,0,4,2);const w=new u.a$;w.emplaceBack(0),w.emplaceBack(1),w.emplaceBack(3),w.emplaceBack(2),w.emplaceBack(0),this.tileBorderIndexBuffer=r.createIndexBuffer(w);const S=new u.b0;S.emplaceBack(0,1,2),S.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=r.createIndexBuffer(S);const k=this.context.gl;this.stencilClearMode=new Pn({func:k.ALWAYS,mask:0},0,255,k.ZERO,k.ZERO,k.ZERO)}clearStencil(){const r=this.context,c=r.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const h=u.Z();u.aS(h,0,this.width,this.height,0,0,1),u.a0(h,h,[c.drawingBufferWidth,c.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(r,c.TRIANGLES,Ut.disabled,this.stencilClearMode,An.disabled,Mn.disabled,qd(h),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(r,c){if(this.currentStencilSource===r.source||!r.isTileClipped()||!c||!c.length)return;this.currentStencilSource=r.source;const h=this.context,m=h.gl;this.nextStencilID+c.length>256&&this.clearStencil(),h.setColorMode(An.disabled),h.setDepthMode(Ut.disabled);const _=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const w of c){const S=this._tileClippingMaskIDs[w.key]=this.nextStencilID++,k=this.style.map.terrain&&this.style.map.terrain.getTerrainData(w);_.draw(h,m.TRIANGLES,Ut.disabled,new Pn({func:m.ALWAYS,mask:0},S,255,m.KEEP,m.KEEP,m.REPLACE),An.disabled,Mn.disabled,qd(w.posMatrix),k,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const r=this.nextStencilID++,c=this.context.gl;return new Pn({func:c.NOTEQUAL,mask:255},r,255,c.KEEP,c.KEEP,c.REPLACE)}stencilModeForClipping(r){const c=this.context.gl;return new Pn({func:c.EQUAL,mask:255},this._tileClippingMaskIDs[r.key],0,c.KEEP,c.KEEP,c.REPLACE)}stencilConfigForOverlap(r){const c=this.context.gl,h=r.sort((w,S)=>S.overscaledZ-w.overscaledZ),m=h[h.length-1].overscaledZ,_=h[0].overscaledZ-m+1;if(_>1){this.currentStencilSource=void 0,this.nextStencilID+_>256&&this.clearStencil();const w={};for(let S=0;S<_;S++)w[S+m]=new Pn({func:c.GEQUAL,mask:255},S+this.nextStencilID,255,c.KEEP,c.KEEP,c.REPLACE);return this.nextStencilID+=_,[w,h]}return[{[m]:Pn.disabled},h]}colorModeForRenderPass(){const r=this.context.gl;return this._showOverdrawInspector?new An([r.CONSTANT_COLOR,r.ONE],new u.aT(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?An.unblended:An.alphaBlended}depthModeForSublayer(r,c,h){if(!this.opaquePassEnabledForLayer())return Ut.disabled;const m=1-((1+this.currentLayer)*this.numSublayers+r)*this.depthEpsilon;return new Ut(h||this.context.gl.LEQUAL,c,[m,m])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(r,c){this.style=r,this.options=c,this.lineAtlas=r.lineAtlas,this.imageManager=r.imageManager,this.glyphManager=r.glyphManager,this.symbolFadeChange=r.placement.symbolFadeChange(u.h.now()),this.imageManager.beginFrame();const h=this.style._order,m=this.style.sourceCaches,_={},w={},S={};for(const k in m){const T=m[k];T.used&&T.prepare(this.context),_[k]=T.getVisibleCoordinates(),w[k]=_[k].slice().reverse(),S[k]=T.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let k=0;k<h.length;k++)if(this.style._layers[h[k]].is3D()){this.opaquePassCutoff=k;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const k=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!u.b1(this.terrainFacilitator.matrix,this.transform.projMatrix)||k.length)&&(u.b2(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(T,L){const D=T.context,V=D.gl,te=An.unblended,Q=new Ut(V.LEQUAL,Ut.ReadWrite,[0,1]),oe=L.getTerrainMesh(),J=L.sourceCache.getRenderableTiles(),ge=T.useProgram("terrainDepth");D.bindFramebuffer.set(L.getFramebuffer("depth").framebuffer),D.viewport.set([0,0,T.width/devicePixelRatio,T.height/devicePixelRatio]),D.clear({color:u.aT.transparent,depth:1});for(const Ce of J){const le=L.getTerrainData(Ce.tileID),ve={u_matrix:T.transform.calculatePosMatrix(Ce.tileID.toUnwrapped()),u_ele_delta:L.getMeshFrameDelta(T.transform.zoom)};ge.draw(D,V.TRIANGLES,Q,Pn.disabled,te,Mn.backCCW,ve,le,"terrain",oe.vertexBuffer,oe.indexBuffer,oe.segments)}D.bindFramebuffer.set(null),D.viewport.set([0,0,T.width,T.height])}(this,this.style.map.terrain),function(T,L){const D=T.context,V=D.gl,te=An.unblended,Q=new Ut(V.LEQUAL,Ut.ReadWrite,[0,1]),oe=L.getTerrainMesh(),J=L.getCoordsTexture(),ge=L.sourceCache.getRenderableTiles(),Ce=T.useProgram("terrainCoords");D.bindFramebuffer.set(L.getFramebuffer("coords").framebuffer),D.viewport.set([0,0,T.width/devicePixelRatio,T.height/devicePixelRatio]),D.clear({color:u.aT.transparent,depth:1}),L.coordsIndex=[];for(const le of ge){const ve=L.getTerrainData(le.tileID);D.activeTexture.set(V.TEXTURE0),V.bindTexture(V.TEXTURE_2D,J.texture);const Ae={u_matrix:T.transform.calculatePosMatrix(le.tileID.toUnwrapped()),u_terrain_coords_id:(255-L.coordsIndex.length)/255,u_texture:0,u_ele_delta:L.getMeshFrameDelta(T.transform.zoom)};Ce.draw(D,V.TRIANGLES,Q,Pn.disabled,te,Mn.backCCW,Ae,ve,"terrain",oe.vertexBuffer,oe.indexBuffer,oe.segments),L.coordsIndex.push(le.tileID.key)}D.bindFramebuffer.set(null),D.viewport.set([0,0,T.width,T.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const k of h){const T=this.style._layers[k];if(!T.hasOffscreenPass()||T.isHidden(this.transform.zoom))continue;const L=w[T.source];(T.type==="custom"||L.length)&&this.renderLayer(this,m[T.source],T,L)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:c.showOverdrawInspector?u.aT.black:u.aT.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=c.showOverdrawInspector,this.depthRangeFor3D=[0,1-(r._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=h.length-1;this.currentLayer>=0;this.currentLayer--){const k=this.style._layers[h[this.currentLayer]],T=m[k.source],L=_[k.source];this._renderTileClippingMasks(k,L),this.renderLayer(this,T,k,L)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<h.length;this.currentLayer++){const k=this.style._layers[h[this.currentLayer]],T=m[k.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(k))continue;const L=(k.type==="symbol"?S:w)[k.source];this._renderTileClippingMasks(k,_[k.source]),this.renderLayer(this,T,k,L)}if(this.options.showTileBoundaries){const k=function(T,L){let D=null;const V=Object.values(T._layers).flatMap(J=>J.source&&!J.isHidden(L)?[T.sourceCaches[J.source]]:[]),te=V.filter(J=>J.getSource().type==="vector"),Q=V.filter(J=>J.getSource().type!=="vector"),oe=J=>{(!D||D.getSource().maxzoom<J.getSource().maxzoom)&&(D=J)};return te.forEach(J=>oe(J)),D||Q.forEach(J=>oe(J)),D}(this.style,this.transform.zoom);k&&function(T,L,D){for(let V=0;V<D.length;V++)ch(T,L,D[V])}(this,k,k.getVisibleCoordinates())}this.options.showPadding&&function(k){const T=k.transform.padding;Qs(k,k.transform.height-(T.top||0),3,sh),Qs(k,T.bottom||0,3,u1),c1(k,T.left||0,3,Zu),c1(k,k.transform.width-(T.right||0),3,lh);const L=k.transform.centerPoint;(function(D,V,te,Q){d1(D,V-1,te-10,2,20,Q),d1(D,V-10,te-1,20,2,Q)})(k,L.x,k.transform.height-L.y,uh)}(this),this.context.setDefault()}renderLayer(r,c,h,m){if(!h.isHidden(this.transform.zoom)&&(h.type==="background"||h.type==="custom"||(m||[]).length))switch(this.id=h.id,h.type){case"symbol":(function(_,w,S,k,T){if(_.renderPass!=="translucent")return;const L=Pn.disabled,D=_.colorModeForRenderPass();(S._unevaluatedLayout.hasValue("text-variable-anchor")||S._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(V,te,Q,oe,J,ge,Ce){const le=te.transform,ve=J==="map",Ae=ge==="map";for(const Pe of V){const Ne=oe.getTile(Pe),Ue=Ne.getBucket(Q);if(!Ue||!Ue.text||!Ue.text.segments.get().length)continue;const je=u.ah(Ue.textSizeData,le.zoom),Ke=me(Ne,1,te.transform.zoom),mt=Ye(Pe.posMatrix,Ae,ve,te.transform,Ke),Bt=Q.layout.get("icon-text-fit")!=="none"&&Ue.hasIconData();if(je){const rt=Math.pow(2,le.zoom-Ne.tileID.overscaledZ);s1(Ue,ve,Ae,Ce,le,mt,Pe.posMatrix,rt,je,Bt,te.style.map.terrain?(Et,yt)=>te.style.map.terrain.getElevation(Pe,Et,yt):null)}}}(k,_,S,w,S.layout.get("text-rotation-alignment"),S.layout.get("text-pitch-alignment"),T),S.paint.get("icon-opacity").constantOr(1)!==0&&l1(_,w,S,k,!1,S.paint.get("icon-translate"),S.paint.get("icon-translate-anchor"),S.layout.get("icon-rotation-alignment"),S.layout.get("icon-pitch-alignment"),S.layout.get("icon-keep-upright"),L,D),S.paint.get("text-opacity").constantOr(1)!==0&&l1(_,w,S,k,!0,S.paint.get("text-translate"),S.paint.get("text-translate-anchor"),S.layout.get("text-rotation-alignment"),S.layout.get("text-pitch-alignment"),S.layout.get("text-keep-upright"),L,D),w.map.showCollisionBoxes&&(ah(_,w,S,k,S.paint.get("text-translate"),S.paint.get("text-translate-anchor"),!0),ah(_,w,S,k,S.paint.get("icon-translate"),S.paint.get("icon-translate-anchor"),!1))})(r,c,h,m,this.style.placement.variableOffsets);break;case"circle":(function(_,w,S,k){if(_.renderPass!=="translucent")return;const T=S.paint.get("circle-opacity"),L=S.paint.get("circle-stroke-width"),D=S.paint.get("circle-stroke-opacity"),V=!S.layout.get("circle-sort-key").isConstant();if(T.constantOr(1)===0&&(L.constantOr(1)===0||D.constantOr(1)===0))return;const te=_.context,Q=te.gl,oe=_.depthModeForSublayer(0,Ut.ReadOnly),J=Pn.disabled,ge=_.colorModeForRenderPass(),Ce=[];for(let le=0;le<k.length;le++){const ve=k[le],Ae=w.getTile(ve),Pe=Ae.getBucket(S);if(!Pe)continue;const Ne=Pe.programConfigurations.get(S.id),Ue=_.useProgram("circle",Ne),je=Pe.layoutVertexBuffer,Ke=Pe.indexBuffer,mt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(ve),Bt={programConfiguration:Ne,program:Ue,layoutVertexBuffer:je,indexBuffer:Ke,uniformValues:oa(_,ve,Ae,S),terrainData:mt};if(V){const rt=Pe.segments.get();for(const Et of rt)Ce.push({segments:new u.S([Et]),sortKey:Et.sortKey,state:Bt})}else Ce.push({segments:Pe.segments,sortKey:0,state:Bt})}V&&Ce.sort((le,ve)=>le.sortKey-ve.sortKey);for(const le of Ce){const{programConfiguration:ve,program:Ae,layoutVertexBuffer:Pe,indexBuffer:Ne,uniformValues:Ue,terrainData:je}=le.state;Ae.draw(te,Q.TRIANGLES,oe,J,ge,Mn.disabled,Ue,je,S.id,Pe,Ne,le.segments,S.paint,_.transform.zoom,ve)}})(r,c,h,m);break;case"heatmap":(function(_,w,S,k){if(S.paint.get("heatmap-opacity")!==0)if(_.renderPass==="offscreen"){const T=_.context,L=T.gl,D=Pn.disabled,V=new An([L.ONE,L.ONE],u.aT.transparent,[!0,!0,!0,!0]);(function(te,Q,oe){const J=te.gl;te.activeTexture.set(J.TEXTURE1),te.viewport.set([0,0,Q.width/4,Q.height/4]);let ge=oe.heatmapFbo;if(ge)J.bindTexture(J.TEXTURE_2D,ge.colorAttachment.get()),te.bindFramebuffer.set(ge.framebuffer);else{const Ce=J.createTexture();J.bindTexture(J.TEXTURE_2D,Ce),J.texParameteri(J.TEXTURE_2D,J.TEXTURE_WRAP_S,J.CLAMP_TO_EDGE),J.texParameteri(J.TEXTURE_2D,J.TEXTURE_WRAP_T,J.CLAMP_TO_EDGE),J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MIN_FILTER,J.LINEAR),J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MAG_FILTER,J.LINEAR),ge=oe.heatmapFbo=te.createFramebuffer(Q.width/4,Q.height/4,!1,!1),function(le,ve,Ae,Pe){var Ne,Ue;const je=le.gl,Ke=(Ne=le.HALF_FLOAT)!==null&&Ne!==void 0?Ne:je.UNSIGNED_BYTE,mt=(Ue=le.RGBA16F)!==null&&Ue!==void 0?Ue:je.RGBA;je.texImage2D(je.TEXTURE_2D,0,mt,ve.width/4,ve.height/4,0,je.RGBA,Ke,null),Pe.colorAttachment.set(Ae)}(te,Q,Ce,ge)}})(T,_,S),T.clear({color:u.aT.transparent});for(let te=0;te<k.length;te++){const Q=k[te];if(w.hasRenderableParent(Q))continue;const oe=w.getTile(Q),J=oe.getBucket(S);if(!J)continue;const ge=J.programConfigurations.get(S.id),Ce=_.useProgram("heatmap",ge),{zoom:le}=_.transform;Ce.draw(T,L.TRIANGLES,Ut.disabled,D,V,Mn.disabled,E0(Q.posMatrix,oe,le,S.paint.get("heatmap-intensity")),null,S.id,J.layoutVertexBuffer,J.indexBuffer,J.segments,S.paint,_.transform.zoom,ge)}T.viewport.set([0,0,_.width,_.height])}else _.renderPass==="translucent"&&(_.context.setColorMode(_.colorModeForRenderPass()),function(T,L){const D=T.context,V=D.gl,te=L.heatmapFbo;if(!te)return;D.activeTexture.set(V.TEXTURE0),V.bindTexture(V.TEXTURE_2D,te.colorAttachment.get()),D.activeTexture.set(V.TEXTURE1);let Q=L.colorRampTexture;Q||(Q=L.colorRampTexture=new Me(D,L.colorRamp,V.RGBA)),Q.bind(V.LINEAR,V.CLAMP_TO_EDGE),T.useProgram("heatmapTexture").draw(D,V.TRIANGLES,Ut.disabled,Pn.disabled,T.colorModeForRenderPass(),Mn.disabled,((oe,J,ge,Ce)=>{const le=u.Z();u.aS(le,0,oe.width,oe.height,0,0,1);const ve=oe.context.gl;return{u_matrix:le,u_world:[ve.drawingBufferWidth,ve.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:J.paint.get("heatmap-opacity")}})(T,L),null,L.id,T.viewportBuffer,T.quadTriangleIndexBuffer,T.viewportSegments,L.paint,T.transform.zoom)}(_,S))})(r,c,h,m);break;case"line":(function(_,w,S,k){if(_.renderPass!=="translucent")return;const T=S.paint.get("line-opacity"),L=S.paint.get("line-width");if(T.constantOr(1)===0||L.constantOr(1)===0)return;const D=_.depthModeForSublayer(0,Ut.ReadOnly),V=_.colorModeForRenderPass(),te=S.paint.get("line-dasharray"),Q=S.paint.get("line-pattern"),oe=Q.constantOr(1),J=S.paint.get("line-gradient"),ge=S.getCrossfadeParameters(),Ce=oe?"linePattern":te?"lineSDF":J?"lineGradient":"line",le=_.context,ve=le.gl;let Ae=!0;for(const Pe of k){const Ne=w.getTile(Pe);if(oe&&!Ne.patternsLoaded())continue;const Ue=Ne.getBucket(S);if(!Ue)continue;const je=Ue.programConfigurations.get(S.id),Ke=_.context.program.get(),mt=_.useProgram(Ce,je),Bt=Ae||mt.program!==Ke,rt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Pe),Et=Q.constantOr(null);if(Et&&Ne.imageAtlas){const Nt=Ne.imageAtlas,zt=Nt.patternPositions[Et.to.toString()],$t=Nt.patternPositions[Et.from.toString()];zt&&$t&&je.setConstantPatternPositions(zt,$t)}const yt=rt?Pe:null,cn=oe?k0(_,Ne,S,ge,yt):te?Xd(_,Ne,S,te,ge,yt):J?Kd(_,Ne,S,Ue.lineClipsArray.length,yt):Pu(_,Ne,S,yt);if(oe)le.activeTexture.set(ve.TEXTURE0),Ne.imageAtlasTexture.bind(ve.LINEAR,ve.CLAMP_TO_EDGE),je.updatePaintBuffers(ge);else if(te&&(Bt||_.lineAtlas.dirty))le.activeTexture.set(ve.TEXTURE0),_.lineAtlas.bind(le);else if(J){const Nt=Ue.gradients[S.id];let zt=Nt.texture;if(S.gradientVersion!==Nt.version){let $t=256;if(S.stepInterpolant){const Bn=w.getSource().maxzoom,mn=Pe.canonical.z===Bn?Math.ceil(1<<_.transform.maxZoom-Pe.canonical.z):1;$t=u.ad(u.aY(Ue.maxLineLength/u.N*1024*mn),256,le.maxTextureSize)}Nt.gradient=u.aZ({expression:S.gradientExpression(),evaluationKey:"lineProgress",resolution:$t,image:Nt.gradient||void 0,clips:Ue.lineClipsArray}),Nt.texture?Nt.texture.update(Nt.gradient):Nt.texture=new Me(le,Nt.gradient,ve.RGBA),Nt.version=S.gradientVersion,zt=Nt.texture}le.activeTexture.set(ve.TEXTURE0),zt.bind(S.stepInterpolant?ve.NEAREST:ve.LINEAR,ve.CLAMP_TO_EDGE)}mt.draw(le,ve.TRIANGLES,D,_.stencilModeForClipping(Pe),V,Mn.disabled,cn,rt,S.id,Ue.layoutVertexBuffer,Ue.indexBuffer,Ue.segments,S.paint,_.transform.zoom,je,Ue.layoutVertexBuffer2),Ae=!1}})(r,c,h,m);break;case"fill":(function(_,w,S,k){const T=S.paint.get("fill-color"),L=S.paint.get("fill-opacity");if(L.constantOr(1)===0)return;const D=_.colorModeForRenderPass(),V=S.paint.get("fill-pattern"),te=_.opaquePassEnabledForLayer()&&!V.constantOr(1)&&T.constantOr(u.aT.transparent).a===1&&L.constantOr(0)===1?"opaque":"translucent";if(_.renderPass===te){const Q=_.depthModeForSublayer(1,_.renderPass==="opaque"?Ut.ReadWrite:Ut.ReadOnly);Js(_,w,S,k,Q,D,!1)}if(_.renderPass==="translucent"&&S.paint.get("fill-antialias")){const Q=_.depthModeForSublayer(S.getPaintProperty("fill-outline-color")?2:0,Ut.ReadOnly);Js(_,w,S,k,Q,D,!0)}})(r,c,h,m);break;case"fill-extrusion":(function(_,w,S,k){const T=S.paint.get("fill-extrusion-opacity");if(T!==0&&_.renderPass==="translucent"){const L=new Ut(_.context.gl.LEQUAL,Ut.ReadWrite,_.depthRangeFor3D);if(T!==1||S.paint.get("fill-extrusion-pattern").constantOr(1))Ys(_,w,S,k,L,Pn.disabled,An.disabled),Ys(_,w,S,k,L,_.stencilModeFor3D(),_.colorModeForRenderPass());else{const D=_.colorModeForRenderPass();Ys(_,w,S,k,L,Pn.disabled,D)}}})(r,c,h,m);break;case"hillshade":(function(_,w,S,k){if(_.renderPass!=="offscreen"&&_.renderPass!=="translucent")return;const T=_.context,L=_.depthModeForSublayer(0,Ut.ReadOnly),D=_.colorModeForRenderPass(),[V,te]=_.renderPass==="translucent"?_.stencilConfigForOverlap(k):[{},k];for(const Q of te){const oe=w.getTile(Q);oe.needsHillshadePrepare!==void 0&&oe.needsHillshadePrepare&&_.renderPass==="offscreen"?Hu(_,oe,S,L,Pn.disabled,D):_.renderPass==="translucent"&&z0(_,Q,oe,S,L,V[Q.overscaledZ],D)}T.viewport.set([0,0,_.width,_.height])})(r,c,h,m);break;case"raster":(function(_,w,S,k){if(_.renderPass!=="translucent"||S.paint.get("raster-opacity")===0||!k.length)return;const T=_.context,L=T.gl,D=w.getSource(),V=_.useProgram("raster"),te=_.colorModeForRenderPass(),[Q,oe]=D instanceof Nn?[{},k]:_.stencilConfigForOverlap(k),J=oe[oe.length-1].overscaledZ,ge=!_.options.moving;for(const Ce of oe){const le=_.depthModeForSublayer(Ce.overscaledZ-J,S.paint.get("raster-opacity")===1?Ut.ReadWrite:Ut.ReadOnly,L.LESS),ve=w.getTile(Ce);ve.registerFadeDuration(S.paint.get("raster-fade-duration"));const Ae=w.findLoadedParent(Ce,0),Pe=F0(ve,Ae,w,S,_.transform,_.style.map.terrain);let Ne,Ue;const je=S.paint.get("raster-resampling")==="nearest"?L.NEAREST:L.LINEAR;T.activeTexture.set(L.TEXTURE0),ve.texture.bind(je,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST),T.activeTexture.set(L.TEXTURE1),Ae?(Ae.texture.bind(je,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST),Ne=Math.pow(2,Ae.tileID.overscaledZ-ve.tileID.overscaledZ),Ue=[ve.tileID.canonical.x*Ne%1,ve.tileID.canonical.y*Ne%1]):ve.texture.bind(je,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST);const Ke=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Ce),mt=Ke?Ce:null,Bt=mt?mt.posMatrix:_.transform.calculatePosMatrix(Ce.toUnwrapped(),ge),rt=Yd(Bt,Ue||[0,0],Ne||1,Pe,S);D instanceof Nn?V.draw(T,L.TRIANGLES,le,Pn.disabled,te,Mn.disabled,rt,Ke,S.id,D.boundsBuffer,_.quadTriangleIndexBuffer,D.boundsSegments):V.draw(T,L.TRIANGLES,le,Q[Ce.overscaledZ],te,Mn.disabled,rt,Ke,S.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}})(r,c,h,m);break;case"background":(function(_,w,S,k){const T=S.paint.get("background-color"),L=S.paint.get("background-opacity");if(L===0)return;const D=_.context,V=D.gl,te=_.transform,Q=te.tileSize,oe=S.paint.get("background-pattern");if(_.isPatternMissing(oe))return;const J=!oe&&T.a===1&&L===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass!==J)return;const ge=Pn.disabled,Ce=_.depthModeForSublayer(0,J==="opaque"?Ut.ReadWrite:Ut.ReadOnly),le=_.colorModeForRenderPass(),ve=_.useProgram(oe?"backgroundPattern":"background"),Ae=k||te.coveringTiles({tileSize:Q,terrain:_.style.map.terrain});oe&&(D.activeTexture.set(V.TEXTURE0),_.imageManager.bind(_.context));const Pe=S.getCrossfadeParameters();for(const Ne of Ae){const Ue=k?Ne.posMatrix:_.transform.calculatePosMatrix(Ne.toUnwrapped()),je=oe?Ii(Ue,L,_,oe,{tileID:Ne,tileSize:Q},Pe):Xl(Ue,L,T),Ke=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Ne);ve.draw(D,V.TRIANGLES,Ce,ge,le,Mn.disabled,je,Ke,S.id,_.tileExtentBuffer,_.quadTriangleIndexBuffer,_.tileExtentSegments)}})(r,0,h,m);break;case"custom":(function(_,w,S){const k=_.context,T=S.implementation;if(_.renderPass==="offscreen"){const L=T.prerender;L&&(_.setCustomLayerDefaults(),k.setColorMode(_.colorModeForRenderPass()),L.call(T,k.gl,_.transform.customLayerMatrix()),k.setDirty(),_.setBaseState())}else if(_.renderPass==="translucent"){_.setCustomLayerDefaults(),k.setColorMode(_.colorModeForRenderPass()),k.setStencilMode(Pn.disabled);const L=T.renderingMode==="3d"?new Ut(_.context.gl.LEQUAL,Ut.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,Ut.ReadOnly);k.setDepthMode(L),T.render(k.gl,_.transform.customLayerMatrix()),k.setDirty(),_.setBaseState(),k.bindFramebuffer.set(null)}})(r,0,h)}}translatePosMatrix(r,c,h,m,_){if(!h[0]&&!h[1])return r;const w=_?m==="map"?this.transform.angle:0:m==="viewport"?-this.transform.angle:0;if(w){const T=Math.sin(w),L=Math.cos(w);h=[h[0]*L-h[1]*T,h[0]*T+h[1]*L]}const S=[_?h[0]:me(c,h[0],this.transform.zoom),_?h[1]:me(c,h[1],this.transform.zoom),0],k=new Float32Array(16);return u.$(k,r,S),k}saveTileTexture(r){const c=this._tileTextures[r.size[0]];c?c.push(r):this._tileTextures[r.size[0]]=[r]}getTileTexture(r){const c=this._tileTextures[r];return c&&c.length>0?c.pop():null}isPatternMissing(r){if(!r)return!1;if(!r.from||!r.to)return!0;const c=this.imageManager.getPattern(r.from.toString()),h=this.imageManager.getPattern(r.to.toString());return!c||!h}useProgram(r,c){this.cache=this.cache||{};const h=r+(c?c.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[h]||(this.cache[h]=new Zl(this.context,kn[r],c,Jl[r],this._showOverdrawInspector,this.style.map.terrain)),this.cache[h]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const r=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(r.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Me(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:r,drawingBufferHeight:c}=this.context.gl;return this.width!==r||this.height!==c}}class qr{constructor(r,c){this.points=r,this.planes=c}static fromInvProjectionMatrix(r,c,h){const m=Math.pow(2,h),_=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(S=>{const k=1/(S=u.ag([],S,r))[3]/c*m;return u.b3(S,S,[k,k,1/S[3],k])}),w=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(S=>{const k=function(V,te){var Q=te[0],oe=te[1],J=te[2],ge=Q*Q+oe*oe+J*J;return ge>0&&(ge=1/Math.sqrt(ge)),V[0]=te[0]*ge,V[1]=te[1]*ge,V[2]=te[2]*ge,V}([],function(V,te,Q){var oe=te[0],J=te[1],ge=te[2],Ce=Q[0],le=Q[1],ve=Q[2];return V[0]=J*ve-ge*le,V[1]=ge*Ce-oe*ve,V[2]=oe*le-J*Ce,V}([],he([],_[S[0]],_[S[1]]),he([],_[S[2]],_[S[1]]))),T=-((L=k)[0]*(D=_[S[1]])[0]+L[1]*D[1]+L[2]*D[2]);var L,D;return k.concat(T)});return new qr(_,w)}}class as{constructor(r,c){this.min=r,this.max=c,this.center=function(h,m,_){return h[0]=.5*m[0],h[1]=.5*m[1],h[2]=.5*m[2],h}([],function(h,m,_){return h[0]=m[0]+_[0],h[1]=m[1]+_[1],h[2]=m[2]+_[2],h}([],this.min,this.max))}quadrant(r){const c=[r%2==0,r<2],h=ne(this.min),m=ne(this.max);for(let _=0;_<c.length;_++)h[_]=c[_]?this.min[_]:this.center[_],m[_]=c[_]?this.center[_]:this.max[_];return m[2]=this.max[2],new as(h,m)}distanceX(r){return Math.max(Math.min(this.max[0],r[0]),this.min[0])-r[0]}distanceY(r){return Math.max(Math.min(this.max[1],r[1]),this.min[1])-r[1]}intersects(r){const c=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let h=!0;for(let m=0;m<r.planes.length;m++){const _=r.planes[m];let w=0;for(let S=0;S<c.length;S++)u.b4(_,c[S])>=0&&w++;if(w===0)return 0;w!==c.length&&(h=!1)}if(h)return 2;for(let m=0;m<3;m++){let _=Number.MAX_VALUE,w=-Number.MAX_VALUE;for(let S=0;S<r.points.length;S++){const k=r.points[S][m]-this.min[m];_=Math.min(_,k),w=Math.max(w,k)}if(w<0||_>this.max[m]-this.min[m])return 0}return 1}}class el{constructor(r=0,c=0,h=0,m=0){if(isNaN(r)||r<0||isNaN(c)||c<0||isNaN(h)||h<0||isNaN(m)||m<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=r,this.bottom=c,this.left=h,this.right=m}interpolate(r,c,h){return c.top!=null&&r.top!=null&&(this.top=u.B.number(r.top,c.top,h)),c.bottom!=null&&r.bottom!=null&&(this.bottom=u.B.number(r.bottom,c.bottom,h)),c.left!=null&&r.left!=null&&(this.left=u.B.number(r.left,c.left,h)),c.right!=null&&r.right!=null&&(this.right=u.B.number(r.right,c.right,h)),this}getCenter(r,c){const h=u.ad((this.left+r-this.right)/2,0,r),m=u.ad((this.top+c-this.bottom)/2,0,c);return new u.P(h,m)}equals(r){return this.top===r.top&&this.bottom===r.bottom&&this.left===r.left&&this.right===r.right}clone(){return new el(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class h1{constructor(r,c,h,m,_){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=_===void 0||!!_,this._minZoom=r||0,this._maxZoom=c||22,this._minPitch=h??0,this._maxPitch=m??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new u.L(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new el,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const r=new h1(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return r.apply(this),r}apply(r){this.tileSize=r.tileSize,this.latRange=r.latRange,this.width=r.width,this.height=r.height,this._center=r._center,this._elevation=r._elevation,this._minEleveationForCurrentTile=r._minEleveationForCurrentTile,this.zoom=r.zoom,this.angle=r.angle,this._fov=r._fov,this._pitch=r._pitch,this._unmodified=r._unmodified,this._edgeInsets=r._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(r){this._minZoom!==r&&(this._minZoom=r,this.zoom=Math.max(this.zoom,r))}get maxZoom(){return this._maxZoom}set maxZoom(r){this._maxZoom!==r&&(this._maxZoom=r,this.zoom=Math.min(this.zoom,r))}get minPitch(){return this._minPitch}set minPitch(r){this._minPitch!==r&&(this._minPitch=r,this.pitch=Math.max(this.pitch,r))}get maxPitch(){return this._maxPitch}set maxPitch(r){this._maxPitch!==r&&(this._maxPitch=r,this.pitch=Math.min(this.pitch,r))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(r){r===void 0?r=!0:r===null&&(r=!1),this._renderWorldCopies=r}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new u.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(r){const c=-u.b5(r,-180,180)*Math.PI/180;this.angle!==c&&(this._unmodified=!1,this.angle=c,this._calcMatrices(),this.rotationMatrix=function(){var h=new u.A(4);return u.A!=Float32Array&&(h[1]=0,h[2]=0),h[0]=1,h[3]=1,h}(),function(h,m,_){var w=m[0],S=m[1],k=m[2],T=m[3],L=Math.sin(_),D=Math.cos(_);h[0]=w*D+k*L,h[1]=S*D+T*L,h[2]=w*-L+k*D,h[3]=S*-L+T*D}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(r){const c=u.ad(r,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==c&&(this._unmodified=!1,this._pitch=c,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(r){r=Math.max(.01,Math.min(60,r)),this._fov!==r&&(this._unmodified=!1,this._fov=r/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(r){const c=Math.min(Math.max(r,this.minZoom),this.maxZoom);this._zoom!==c&&(this._unmodified=!1,this._zoom=c,this.tileZoom=Math.max(0,Math.floor(c)),this.scale=this.zoomScale(c),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(r){r.lat===this._center.lat&&r.lng===this._center.lng||(this._unmodified=!1,this._center=r,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(r){r!==this._elevation&&(this._elevation=r,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(r){this._edgeInsets.equals(r)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,r,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(r){return this._edgeInsets.equals(r)}interpolatePadding(r,c,h){this._unmodified=!1,this._edgeInsets.interpolate(r,c,h),this._constrain(),this._calcMatrices()}coveringZoomLevel(r){const c=(r.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/r.tileSize));return Math.max(0,c)}getVisibleUnwrappedCoordinates(r){const c=[new u.b6(0,r)];if(this._renderWorldCopies){const h=this.pointCoordinate(new u.P(0,0)),m=this.pointCoordinate(new u.P(this.width,0)),_=this.pointCoordinate(new u.P(this.width,this.height)),w=this.pointCoordinate(new u.P(0,this.height)),S=Math.floor(Math.min(h.x,m.x,_.x,w.x)),k=Math.floor(Math.max(h.x,m.x,_.x,w.x)),T=1;for(let L=S-T;L<=k+T;L++)L!==0&&c.push(new u.b6(L,r))}return c}coveringTiles(r){var c,h;let m=this.coveringZoomLevel(r);const _=m;if(r.minzoom!==void 0&&m<r.minzoom)return[];r.maxzoom!==void 0&&m>r.maxzoom&&(m=r.maxzoom);const w=this.pointCoordinate(this.getCameraPoint()),S=u.U.fromLngLat(this.center),k=Math.pow(2,m),T=[k*w.x,k*w.y,0],L=[k*S.x,k*S.y,0],D=qr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,m);let V=r.minzoom||0;!r.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(V=m);const te=r.terrain?2/Math.min(this.tileSize,r.tileSize)*this.tileSize:3,Q=le=>({aabb:new as([le*k,0,0],[(le+1)*k,k,0]),zoom:0,x:0,y:0,wrap:le,fullyVisible:!1}),oe=[],J=[],ge=m,Ce=r.reparseOverscaled?_:m;if(this._renderWorldCopies)for(let le=1;le<=3;le++)oe.push(Q(-le)),oe.push(Q(le));for(oe.push(Q(0));oe.length>0;){const le=oe.pop(),ve=le.x,Ae=le.y;let Pe=le.fullyVisible;if(!Pe){const mt=le.aabb.intersects(D);if(mt===0)continue;Pe=mt===2}const Ne=r.terrain?T:L,Ue=le.aabb.distanceX(Ne),je=le.aabb.distanceY(Ne),Ke=Math.max(Math.abs(Ue),Math.abs(je));if(le.zoom===ge||Ke>te+(1<<ge-le.zoom)-2&&le.zoom>=V){const mt=ge-le.zoom,Bt=T[0]-.5-(ve<<mt),rt=T[1]-.5-(Ae<<mt);J.push({tileID:new u.O(le.zoom===ge?Ce:le.zoom,le.wrap,le.zoom,ve,Ae),distanceSq:de([L[0]-.5-ve,L[1]-.5-Ae]),tileDistanceToCamera:Math.sqrt(Bt*Bt+rt*rt)})}else for(let mt=0;mt<4;mt++){const Bt=(ve<<1)+mt%2,rt=(Ae<<1)+(mt>>1),Et=le.zoom+1;let yt=le.aabb.quadrant(mt);if(r.terrain){const cn=new u.O(Et,le.wrap,Et,Bt,rt),Nt=r.terrain.getMinMaxElevation(cn),zt=(c=Nt.minElevation)!==null&&c!==void 0?c:this.elevation,$t=(h=Nt.maxElevation)!==null&&h!==void 0?h:this.elevation;yt=new as([yt.min[0],yt.min[1],zt],[yt.max[0],yt.max[1],$t])}oe.push({aabb:yt,zoom:Et,x:Bt,y:rt,wrap:le.wrap,fullyVisible:Pe})}}return J.sort((le,ve)=>le.distanceSq-ve.distanceSq).map(le=>le.tileID)}resize(r,c){this.width=r,this.height=c,this.pixelsToGLUnits=[2/r,-2/c],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(r){return Math.pow(2,r)}scaleZoom(r){return Math.log(r)/Math.LN2}project(r){const c=u.ad(r.lat,-this.maxValidLatitude,this.maxValidLatitude);return new u.P(u.G(r.lng)*this.worldSize,u.H(c)*this.worldSize)}unproject(r){return new u.U(r.x/this.worldSize,r.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(r){const c=this.pointLocation(this.centerPoint,r),h=r.getElevationForLngLatZoom(c,this.tileZoom);if(!(this.elevation-h))return;const m=this.getCameraPosition(),_=u.U.fromLngLat(m.lngLat,m.altitude),w=u.U.fromLngLat(c,h),S=_.x-w.x,k=_.y-w.y,T=_.z-w.z,L=Math.sqrt(S*S+k*k+T*T),D=this.scaleZoom(this.cameraToCenterDistance/L/this.tileSize);this._elevation=h,this._center=c,this.zoom=D}setLocationAtPoint(r,c){const h=this.pointCoordinate(c),m=this.pointCoordinate(this.centerPoint),_=this.locationCoordinate(r),w=new u.U(_.x-(h.x-m.x),_.y-(h.y-m.y));this.center=this.coordinateLocation(w),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(r,c){return c?this.coordinatePoint(this.locationCoordinate(r),c.getElevationForLngLatZoom(r,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(r))}pointLocation(r,c){return this.coordinateLocation(this.pointCoordinate(r,c))}locationCoordinate(r){return u.U.fromLngLat(r)}coordinateLocation(r){return r&&r.toLngLat()}pointCoordinate(r,c){if(c){const V=c.pointCoordinate(r);if(V!=null)return V}const h=[r.x,r.y,0,1],m=[r.x,r.y,1,1];u.ag(h,h,this.pixelMatrixInverse),u.ag(m,m,this.pixelMatrixInverse);const _=h[3],w=m[3],S=h[1]/_,k=m[1]/w,T=h[2]/_,L=m[2]/w,D=T===L?0:(0-T)/(L-T);return new u.U(u.B.number(h[0]/_,m[0]/w,D)/this.worldSize,u.B.number(S,k,D)/this.worldSize)}coordinatePoint(r,c=0,h=this.pixelMatrix){const m=[r.x*this.worldSize,r.y*this.worldSize,c,1];return u.ag(m,m,h),new u.P(m[0]/m[3],m[1]/m[3])}getBounds(){const r=Math.max(0,this.height/2-this.getHorizon());return new ut().extend(this.pointLocation(new u.P(0,r))).extend(this.pointLocation(new u.P(this.width,r))).extend(this.pointLocation(new u.P(this.width,this.height))).extend(this.pointLocation(new u.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new ut([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(r){r?(this.lngRange=[r.getWest(),r.getEast()],this.latRange=[r.getSouth(),r.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(r,c=!1){const h=r.key,m=c?this._alignedPosMatrixCache:this._posMatrixCache;if(m[h])return m[h];const _=r.canonical,w=this.worldSize/this.zoomScale(_.z),S=_.x+Math.pow(2,_.z)*r.wrap,k=u.ao(new Float64Array(16));return u.$(k,k,[S*w,_.y*w,0]),u.a0(k,k,[w/u.N,w/u.N,1]),u.a1(k,c?this.alignedProjMatrix:this.projMatrix,k),m[h]=new Float32Array(k),m[h]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let r,c,h,m,_=-90,w=90,S=-180,k=180;const T=this.size,L=this._unmodified;if(this.latRange){const te=this.latRange;_=u.H(te[1])*this.worldSize,w=u.H(te[0])*this.worldSize,r=w-_<T.y?T.y/(w-_):0}if(this.lngRange){const te=this.lngRange;S=u.b5(u.G(te[0])*this.worldSize,0,this.worldSize),k=u.b5(u.G(te[1])*this.worldSize,0,this.worldSize),k<S&&(k+=this.worldSize),c=k-S<T.x?T.x/(k-S):0}const D=this.point,V=Math.max(c||0,r||0);if(V)return this.center=this.unproject(new u.P(c?(k+S)/2:D.x,r?(w+_)/2:D.y)),this.zoom+=this.scaleZoom(V),this._unmodified=L,void(this._constraining=!1);if(this.latRange){const te=D.y,Q=T.y/2;te-Q<_&&(m=_+Q),te+Q>w&&(m=w-Q)}if(this.lngRange){const te=(S+k)/2,Q=u.b5(D.x,te-this.worldSize/2,te+this.worldSize/2),oe=T.x/2;Q-oe<S&&(h=S+oe),Q+oe>k&&(h=k-oe)}h===void 0&&m===void 0||(this.center=this.unproject(new u.P(h!==void 0?h:D.x,m!==void 0?m:D.y)).wrap()),this._unmodified=L,this._constraining=!1}_calcMatrices(){if(!this.height)return;const r=this.centerOffset,c=this.point.x,h=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=u.b7(1,this.center.lat)*this.worldSize;let m=u.ao(new Float64Array(16));u.a0(m,m,[this.width/2,-this.height/2,1]),u.$(m,m,[1,-1,0]),this.labelPlaneMatrix=m,m=u.ao(new Float64Array(16)),u.a0(m,m,[1,-1,1]),u.$(m,m,[-1,-1,0]),u.a0(m,m,[2/this.width,2/this.height,1]),this.glCoordMatrix=m;const _=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),w=Math.min(this.elevation,this._minEleveationForCurrentTile),S=_-w*this._pixelPerMeter/Math.cos(this._pitch),k=w<0?S:_,T=Math.PI/2+this._pitch,L=this._fov*(.5+r.y/this.height),D=Math.sin(L)*k/Math.sin(u.ad(Math.PI-T-L,.01,Math.PI-.01)),V=this.getHorizon(),te=2*Math.atan(V/this.cameraToCenterDistance)*(.5+r.y/(2*V)),Q=Math.sin(te)*k/Math.sin(u.ad(Math.PI-T-te,.01,Math.PI-.01)),oe=Math.min(D,Q),J=1.01*(Math.cos(Math.PI/2-this._pitch)*oe+k),ge=this.height/50;m=new Float64Array(16),u.b8(m,this._fov,this.width/this.height,ge,J),m[8]=2*-r.x/this.width,m[9]=2*r.y/this.height,u.a0(m,m,[1,-1,1]),u.$(m,m,[0,0,-this.cameraToCenterDistance]),u.b9(m,m,this._pitch),u.ae(m,m,this.angle),u.$(m,m,[-c,-h,0]),this.mercatorMatrix=u.a0([],m,[this.worldSize,this.worldSize,this.worldSize]),u.a0(m,m,[1,1,this._pixelPerMeter]),this.pixelMatrix=u.a1(new Float64Array(16),this.labelPlaneMatrix,m),u.$(m,m,[0,0,-this.elevation]),this.projMatrix=m,this.invProjMatrix=u.as([],m),this.pixelMatrix3D=u.a1(new Float64Array(16),this.labelPlaneMatrix,m);const Ce=this.width%2/2,le=this.height%2/2,ve=Math.cos(this.angle),Ae=Math.sin(this.angle),Pe=c-Math.round(c)+ve*Ce+Ae*le,Ne=h-Math.round(h)+ve*le+Ae*Ce,Ue=new Float64Array(m);if(u.$(Ue,Ue,[Pe>.5?Pe-1:Pe,Ne>.5?Ne-1:Ne,0]),this.alignedProjMatrix=Ue,m=u.as(new Float64Array(16),this.pixelMatrix),!m)throw new Error("failed to invert matrix");this.pixelMatrixInverse=m,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const r=this.pointCoordinate(new u.P(0,0)),c=[r.x*this.worldSize,r.y*this.worldSize,0,1];return u.ag(c,c,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const r=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new u.P(0,r))}getCameraQueryGeometry(r){const c=this.getCameraPoint();if(r.length===1)return[r[0],c];{let h=c.x,m=c.y,_=c.x,w=c.y;for(const S of r)h=Math.min(h,S.x),m=Math.min(m,S.y),_=Math.max(_,S.x),w=Math.max(w,S.y);return[new u.P(h,m),new u.P(_,m),new u.P(_,w),new u.P(h,w),new u.P(h,m)]}}}function Ca(g,r){let c,h=!1,m=null,_=null;const w=()=>{m=null,h&&(g.apply(_,c),m=setTimeout(w,r),h=!1)};return(...S)=>(h=!0,_=this,c=S,m||w(),m)}class tl{constructor(r){this._getCurrentHash=()=>{const c=window.location.hash.replace("#","");if(this._hashName){let h;return c.split("&").map(m=>m.split("=")).forEach(m=>{m[0]===this._hashName&&(h=m)}),(h&&h[1]||"").split("/")}return c.split("/")},this._onHashChange=()=>{const c=this._getCurrentHash();if(c.length>=3&&!c.some(h=>isNaN(h))){const h=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(c[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+c[2],+c[1]],zoom:+c[0],bearing:h,pitch:+(c[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const c=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,c)}catch{}},this._updateHash=Ca(this._updateHashUnthrottled,300),this._hashName=r&&encodeURIComponent(r)}addTo(r){return this._map=r,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(r){const c=this._map.getCenter(),h=Math.round(100*this._map.getZoom())/100,m=Math.ceil((h*Math.LN2+Math.log(512/360/.5))/Math.LN10),_=Math.pow(10,m),w=Math.round(c.lng*_)/_,S=Math.round(c.lat*_)/_,k=this._map.getBearing(),T=this._map.getPitch();let L="";if(L+=r?`/${w}/${S}/${h}`:`${h}/${S}/${w}`,(k||T)&&(L+="/"+Math.round(10*k)/10),T&&(L+=`/${Math.round(T)}`),this._hashName){const D=this._hashName;let V=!1;const te=window.location.hash.slice(1).split("&").map(Q=>{const oe=Q.split("=")[0];return oe===D?(V=!0,`${oe}=${L}`):Q}).filter(Q=>Q);return V||te.push(`${D}=${L}`),`#${te.join("&")}`}return`#${L}`}}const ss={linearity:.3,easing:u.ba(0,0,.3,1)},dh=u.e({deceleration:2500,maxSpeed:1400},ss),hh=u.e({deceleration:20,maxSpeed:1400},ss),ph=u.e({deceleration:1e3,maxSpeed:360},ss),fh=u.e({deceleration:1e3,maxSpeed:90},ss);class mh{constructor(r){this._map=r,this.clear()}clear(){this._inertiaBuffer=[]}record(r){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:u.h.now(),settings:r})}_drainInertiaBuffer(){const r=this._inertiaBuffer,c=u.h.now();for(;r.length>0&&c-r[0].time>160;)r.shift()}_onMoveEnd(r){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const c={zoom:0,bearing:0,pitch:0,pan:new u.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:_}of this._inertiaBuffer)c.zoom+=_.zoomDelta||0,c.bearing+=_.bearingDelta||0,c.pitch+=_.pitchDelta||0,_.panDelta&&c.pan._add(_.panDelta),_.around&&(c.around=_.around),_.pinchAround&&(c.pinchAround=_.pinchAround);const h=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,m={};if(c.pan.mag()){const _=nl(c.pan.mag(),h,u.e({},dh,r||{}));m.offset=c.pan.mult(_.amount/c.pan.mag()),m.center=this._map.transform.center,co(m,_)}if(c.zoom){const _=nl(c.zoom,h,hh);m.zoom=this._map.transform.zoom+_.amount,co(m,_)}if(c.bearing){const _=nl(c.bearing,h,ph);m.bearing=this._map.transform.bearing+u.ad(_.amount,-179,179),co(m,_)}if(c.pitch){const _=nl(c.pitch,h,fh);m.pitch=this._map.transform.pitch+_.amount,co(m,_)}if(m.zoom||m.bearing){const _=c.pinchAround===void 0?c.around:c.pinchAround;m.around=_?this._map.unproject(_):this._map.getCenter()}return this.clear(),u.e(m,{noMoveStart:!0})}}function co(g,r){(!g.duration||g.duration<r.duration)&&(g.duration=r.duration,g.easing=r.easing)}function nl(g,r,c){const{maxSpeed:h,linearity:m,deceleration:_}=c,w=u.ad(g*m/(r/1e3),-h,h),S=Math.abs(w)/(_*m);return{easing:c.easing,duration:1e3*S,amount:w*(S/2)}}class di extends u.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,c,h,m={}){const _=C.mousePos(c.getCanvasContainer(),h),w=c.unproject(_);super(r,u.e({point:_,lngLat:w,originalEvent:h},m)),this._defaultPrevented=!1,this.target=c}}class rl extends u.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,c,h){const m=r==="touchend"?h.changedTouches:h.touches,_=C.touchPos(c.getCanvasContainer(),m),w=_.map(k=>c.unproject(k)),S=_.reduce((k,T,L,D)=>k.add(T.div(D.length)),new u.P(0,0));super(r,{points:_,point:S,lngLats:w,lngLat:c.unproject(S),originalEvent:h}),this._defaultPrevented=!1}}class gh extends u.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,c,h){super(r,{originalEvent:h}),this._defaultPrevented=!1}}class yh{constructor(r,c){this._map=r,this._clickTolerance=c.clickTolerance}reset(){delete this._mousedownPos}wheel(r){return this._firePreventable(new gh(r.type,this._map,r))}mousedown(r,c){return this._mousedownPos=c,this._firePreventable(new di(r.type,this._map,r))}mouseup(r){this._map.fire(new di(r.type,this._map,r))}click(r,c){this._mousedownPos&&this._mousedownPos.dist(c)>=this._clickTolerance||this._map.fire(new di(r.type,this._map,r))}dblclick(r){return this._firePreventable(new di(r.type,this._map,r))}mouseover(r){this._map.fire(new di(r.type,this._map,r))}mouseout(r){this._map.fire(new di(r.type,this._map,r))}touchstart(r){return this._firePreventable(new rl(r.type,this._map,r))}touchmove(r){this._map.fire(new rl(r.type,this._map,r))}touchend(r){this._map.fire(new rl(r.type,this._map,r))}touchcancel(r){this._map.fire(new rl(r.type,this._map,r))}_firePreventable(r){if(this._map.fire(r),r.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class vh{constructor(r){this._map=r}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(r){this._map.fire(new di(r.type,this._map,r))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new di("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(r){this._delayContextMenu?this._contextMenuEvent=r:this._ignoreContextMenu||this._map.fire(new di(r.type,this._map,r)),this._map.listens("contextmenu")&&r.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Lo{constructor(r){this._map=r}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(r){return this.transform.pointLocation(u.P.convert(r),this._map.terrain)}}class _h{constructor(r,c){this._map=r,this._tr=new Lo(r),this._el=r.getCanvasContainer(),this._container=r.getContainer(),this._clickTolerance=c.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(r,c){this.isEnabled()&&r.shiftKey&&r.button===0&&(C.disableDrag(),this._startPos=this._lastPos=c,this._active=!0)}mousemoveWindow(r,c){if(!this._active)return;const h=c;if(this._lastPos.equals(h)||!this._box&&h.dist(this._startPos)<this._clickTolerance)return;const m=this._startPos;this._lastPos=h,this._box||(this._box=C.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",r));const _=Math.min(m.x,h.x),w=Math.max(m.x,h.x),S=Math.min(m.y,h.y),k=Math.max(m.y,h.y);C.setTransform(this._box,`translate(${_}px,${S}px)`),this._box.style.width=w-_+"px",this._box.style.height=k-S+"px"}mouseupWindow(r,c){if(!this._active||r.button!==0)return;const h=this._startPos,m=c;if(this.reset(),C.suppressClick(),h.x!==m.x||h.y!==m.y)return this._map.fire(new u.k("boxzoomend",{originalEvent:r})),{cameraAnimation:_=>_.fitScreenCoordinates(h,m,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",r)}keydown(r){this._active&&r.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",r))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(C.remove(this._box),this._box=null),C.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(r,c){return this._map.fire(new u.k(r,{originalEvent:c}))}}function Li(g,r){if(g.length!==r.length)throw new Error(`The number of touches and points are not equal - touches ${g.length}, points ${r.length}`);const c={};for(let h=0;h<g.length;h++)c[g[h].identifier]=r[h];return c}class Do{constructor(r){this.reset(),this.numTouches=r.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(r,c,h){(this.centroid||h.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=r.timeStamp),h.length===this.numTouches&&(this.centroid=function(m){const _=new u.P(0,0);for(const w of m)_._add(w);return _.div(m.length)}(c),this.touches=Li(h,c)))}touchmove(r,c,h){if(this.aborted||!this.centroid)return;const m=Li(h,c);for(const _ in this.touches){const w=m[_];(!w||w.dist(this.touches[_])>30)&&(this.aborted=!0)}}touchend(r,c,h){if((!this.centroid||r.timeStamp-this.startTime>500)&&(this.aborted=!0),h.length===0){const m=!this.aborted&&this.centroid;if(this.reset(),m)return m}}}class p1{constructor(r){this.singleTap=new Do(r),this.numTaps=r.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(r,c,h){this.singleTap.touchstart(r,c,h)}touchmove(r,c,h){this.singleTap.touchmove(r,c,h)}touchend(r,c,h){const m=this.singleTap.touchend(r,c,h);if(m){const _=r.timeStamp-this.lastTime<500,w=!this.lastTap||this.lastTap.dist(m)<30;if(_&&w||this.reset(),this.count++,this.lastTime=r.timeStamp,this.lastTap=m,this.count===this.numTaps)return this.reset(),m}}}class Ro{constructor(r){this._tr=new Lo(r),this._zoomIn=new p1({numTouches:1,numTaps:2}),this._zoomOut=new p1({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(r,c,h){this._zoomIn.touchstart(r,c,h),this._zoomOut.touchstart(r,c,h)}touchmove(r,c,h){this._zoomIn.touchmove(r,c,h),this._zoomOut.touchmove(r,c,h)}touchend(r,c,h){const m=this._zoomIn.touchend(r,c,h),_=this._zoomOut.touchend(r,c,h),w=this._tr;return m?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:S=>S.easeTo({duration:300,zoom:w.zoom+1,around:w.unproject(m)},{originalEvent:r})}):_?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:S=>S.easeTo({duration:300,zoom:w.zoom-1,around:w.unproject(_)},{originalEvent:r})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class zo{constructor(r){this._enabled=!!r.enable,this._moveStateManager=r.moveStateManager,this._clickTolerance=r.clickTolerance||1,this._moveFunction=r.move,this._activateOnStart=!!r.activateOnStart,r.assignEvents(this),this.reset()}reset(r){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(r)}_move(...r){const c=this._moveFunction(...r);if(c.bearingDelta||c.pitchDelta||c.around||c.panDelta)return this._active=!0,c}dragStart(r,c){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(r)&&(this._moveStateManager.startMove(r),this._lastPoint=c.length?c[0]:c,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(r,c){if(!this.isEnabled())return;const h=this._lastPoint;if(!h)return;if(r.preventDefault(),!this._moveStateManager.isValidMoveEvent(r))return void this.reset(r);const m=c.length?c[0]:c;return!this._moved&&m.dist(h)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=m,this._move(h,m))}dragEnd(r){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(r)&&(this._moved&&C.suppressClick(),this.reset(r))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const N0={0:1,2:2};class Gu{constructor(r){this._correctEvent=r.checkCorrectEvent}startMove(r){const c=C.mouseButton(r);this._eventButton=c}endMove(r){delete this._eventButton}isValidStartEvent(r){return this._correctEvent(r)}isValidMoveEvent(r){return!function(c,h){const m=N0[h];return c.buttons===void 0||(c.buttons&m)!==m}(r,this._eventButton)}isValidEndEvent(r){return C.mouseButton(r)===this._eventButton}}class xh{constructor(){this._firstTouch=void 0}_isOneFingerTouch(r){return r.targetTouches.length===1}_isSameTouchEvent(r){return r.targetTouches[0].identifier===this._firstTouch}startMove(r){this._firstTouch=r.targetTouches[0].identifier}endMove(r){delete this._firstTouch}isValidStartEvent(r){return this._isOneFingerTouch(r)}isValidMoveEvent(r){return this._isOneFingerTouch(r)&&this._isSameTouchEvent(r)}isValidEndEvent(r){return this._isOneFingerTouch(r)&&this._isSameTouchEvent(r)}}const f1=g=>{g.mousedown=g.dragStart,g.mousemoveWindow=g.dragMove,g.mouseup=g.dragEnd,g.contextmenu=function(r){r.preventDefault()}},ls=({enable:g,clickTolerance:r,bearingDegreesPerPixelMoved:c=.8})=>{const h=new Gu({checkCorrectEvent:m=>C.mouseButton(m)===0&&m.ctrlKey||C.mouseButton(m)===2});return new zo({clickTolerance:r,move:(m,_)=>({bearingDelta:(_.x-m.x)*c}),moveStateManager:h,enable:g,assignEvents:f1})},Fo=({enable:g,clickTolerance:r,pitchDegreesPerPixelMoved:c=-.5})=>{const h=new Gu({checkCorrectEvent:m=>C.mouseButton(m)===0&&m.ctrlKey||C.mouseButton(m)===2});return new zo({clickTolerance:r,move:(m,_)=>({pitchDelta:(_.y-m.y)*c}),moveStateManager:h,enable:g,assignEvents:f1})};class ct{constructor(r,c){this._minTouches=r.cooperativeGestures?2:1,this._clickTolerance=r.clickTolerance||1,this._map=c,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new u.P(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(r,c,h){return this._calculateTransform(r,c,h)}touchmove(r,c,h){if(this._map._cooperativeGestures&&(this._minTouches===2&&h.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(r,!1,h.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(h.length<this._minTouches))return r.preventDefault(),this._calculateTransform(r,c,h)}touchend(r,c,h){this._calculateTransform(r,c,h),this._active&&h.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(r,c,h){h.length>0&&(this._active=!0);const m=Li(h,c),_=new u.P(0,0),w=new u.P(0,0);let S=0;for(const T in m){const L=m[T],D=this._touches[T];D&&(_._add(L),w._add(L.sub(D)),S++,m[T]=L)}if(this._touches=m,S<this._minTouches||!w.mag())return;const k=w.div(S);return this._sum._add(k),this._sum.mag()<this._clickTolerance?void 0:{around:_.div(S),panDelta:k}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class m1{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(r,c,h){this._firstTwoTouches||h.length<2||(this._firstTwoTouches=[h[0].identifier,h[1].identifier],this._start([c[0],c[1]]))}touchmove(r,c,h){if(!this._firstTwoTouches)return;r.preventDefault();const[m,_]=this._firstTwoTouches,w=la(h,c,m),S=la(h,c,_);if(!w||!S)return;const k=this._aroundCenter?null:w.add(S).div(2);return this._move([w,S],k,r)}touchend(r,c,h){if(!this._firstTwoTouches)return;const[m,_]=this._firstTwoTouches,w=la(h,c,m),S=la(h,c,_);w&&S||(this._active&&C.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(r){this._enabled=!0,this._aroundCenter=!!r&&r.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function la(g,r,c){for(let h=0;h<g.length;h++)if(g[h].identifier===c)return r[h]}function us(g,r){return Math.log(g/r)/Math.LN2}class bh extends m1{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(r){this._startDistance=this._distance=r[0].dist(r[1])}_move(r,c){const h=this._distance;if(this._distance=r[0].dist(r[1]),this._active||!(Math.abs(us(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:us(this._distance,h),pinchAround:c}}}function st(g,r){return 180*g.angleWith(r)/Math.PI}class qu extends m1{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(r){this._startVector=this._vector=r[0].sub(r[1]),this._minDiameter=r[0].dist(r[1])}_move(r,c){const h=this._vector;if(this._vector=r[0].sub(r[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:st(this._vector,h),pinchAround:c}}_isBelowThreshold(r){this._minDiameter=Math.min(this._minDiameter,r.mag());const c=25/(Math.PI*this._minDiameter)*360,h=st(r,this._startVector);return Math.abs(h)<c}}function Ku(g){return Math.abs(g.y)>Math.abs(g.x)}class O0 extends m1{constructor(r){super(),this._map=r}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(r,c,h){super.touchstart(r,c,h),this._currentTouchCount=h.length}_start(r){this._lastPoints=r,Ku(r[0].sub(r[1]))&&(this._valid=!1)}_move(r,c,h){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const m=r[0].sub(this._lastPoints[0]),_=r[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(m,_,h.timeStamp),this._valid?(this._lastPoints=r,this._active=!0,{pitchDelta:(m.y+_.y)/2*-.5}):void 0}gestureBeginsVertically(r,c,h){if(this._valid!==void 0)return this._valid;const m=r.mag()>=2,_=c.mag()>=2;if(!m&&!_)return;if(!m||!_)return this._firstMove===void 0&&(this._firstMove=h),h-this._firstMove<100&&void 0;const w=r.y>0==c.y>0;return Ku(r)&&Ku(c)&&w}}const Xu={panStep:100,bearingStep:15,pitchStep:10};class wh{constructor(r){this._tr=new Lo(r);const c=Xu;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(r){if(r.altKey||r.ctrlKey||r.metaKey)return;let c=0,h=0,m=0,_=0,w=0;switch(r.keyCode){case 61:case 107:case 171:case 187:c=1;break;case 189:case 109:case 173:c=-1;break;case 37:r.shiftKey?h=-1:(r.preventDefault(),_=-1);break;case 39:r.shiftKey?h=1:(r.preventDefault(),_=1);break;case 38:r.shiftKey?m=1:(r.preventDefault(),w=-1);break;case 40:r.shiftKey?m=-1:(r.preventDefault(),w=1);break;default:return}return this._rotationDisabled&&(h=0,m=0),{cameraAnimation:S=>{const k=this._tr;S.easeTo({duration:300,easeId:"keyboardHandler",easing:Sh,zoom:c?Math.round(k.zoom)+c*(r.shiftKey?2:1):k.zoom,bearing:k.bearing+h*this._bearingStep,pitch:k.pitch+m*this._pitchStep,offset:[-_*this._panStep,-w*this._panStep],center:k.center},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Sh(g){return g*(2-g)}const Ch=4.000244140625;class B0{constructor(r,c){this._onTimeout=h=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(h)},this._map=r,this._tr=new Lo(r),this._el=r.getCanvasContainer(),this._triggerRenderFrame=c,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(r){this._defaultZoomRate=r}setWheelZoomRate(r){this._wheelZoomRate=r}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(r){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!r&&r.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(r){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!r[this._map._metaKey])return;r.preventDefault()}let c=r.deltaMode===WheelEvent.DOM_DELTA_LINE?40*r.deltaY:r.deltaY;const h=u.h.now(),m=h-(this._lastWheelEventTime||0);this._lastWheelEventTime=h,c!==0&&c%Ch==0?this._type="wheel":c!==0&&Math.abs(c)<4?this._type="trackpad":m>400?(this._type=null,this._lastValue=c,this._timeout=setTimeout(this._onTimeout,40,r)):this._type||(this._type=Math.abs(m*c)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,c+=this._lastValue)),r.shiftKey&&c&&(c/=4),this._type&&(this._lastWheelEvent=r,this._delta-=c,this._active||this._start(r)),r.preventDefault()}_start(r){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const c=C.mousePos(this._el,r),h=this._tr;this._around=u.L.convert(this._aroundCenter?h.center:h.unproject(c)),this._aroundPoint=h.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const r=this._tr.transform;if(this._delta!==0){const S=this._type==="wheel"&&Math.abs(this._delta)>Ch?this._wheelZoomRate:this._defaultZoomRate;let k=2/(1+Math.exp(-Math.abs(this._delta*S)));this._delta<0&&k!==0&&(k=1/k);const T=typeof this._targetZoom=="number"?r.zoomScale(this._targetZoom):r.scale;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(T*k))),this._type==="wheel"&&(this._startZoom=r.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const c=typeof this._targetZoom=="number"?this._targetZoom:r.zoom,h=this._startZoom,m=this._easing;let _,w=!1;if(this._type==="wheel"&&h&&m){const S=Math.min((u.h.now()-this._lastWheelEventTime)/200,1),k=m(S);_=u.B.number(h,c,k),S<1?this._frameId||(this._frameId=!0):w=!0}else _=c,w=!0;return this._active=!0,w&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!w,zoomDelta:_-r.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(r){let c=u.bb;if(this._prevEase){const h=this._prevEase,m=(u.h.now()-h.start)/h.duration,_=h.easing(m+.01)-h.easing(m),w=.27/Math.sqrt(_*_+1e-4)*.01,S=Math.sqrt(.0729-w*w);c=u.ba(w,S,.25,1)}return this._prevEase={start:u.h.now(),duration:r,easing:c},c}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Ju{constructor(r,c){this._clickZoom=r,this._tapZoom=c}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Yu{constructor(r){this._tr=new Lo(r),this.reset()}reset(){this._active=!1}dblclick(r,c){return r.preventDefault(),{cameraAnimation:h=>{h.easeTo({duration:300,zoom:this._tr.zoom+(r.shiftKey?-1:1),around:this._tr.unproject(c)},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Qu{constructor(){this._tap=new p1({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(r,c,h){if(!this._swipePoint)if(this._tapTime){const m=c[0],_=r.timeStamp-this._tapTime<500,w=this._tapPoint.dist(m)<30;_&&w?h.length>0&&(this._swipePoint=m,this._swipeTouch=h[0].identifier):this.reset()}else this._tap.touchstart(r,c,h)}touchmove(r,c,h){if(this._tapTime){if(this._swipePoint){if(h[0].identifier!==this._swipeTouch)return;const m=c[0],_=m.y-this._swipePoint.y;return this._swipePoint=m,r.preventDefault(),this._active=!0,{zoomDelta:_/128}}}else this._tap.touchmove(r,c,h)}touchend(r,c,h){if(this._tapTime)this._swipePoint&&h.length===0&&this.reset();else{const m=this._tap.touchend(r,c,h);m&&(this._tapTime=r.timeStamp,this._tapPoint=m)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ec{constructor(r,c,h){this._el=r,this._mousePan=c,this._touchPan=h}enable(r){this._inertiaOptions=r||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Kr{constructor(r,c,h){this._pitchWithRotate=r.pitchWithRotate,this._mouseRotate=c,this._mousePitch=h}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class ua{constructor(r,c,h,m){this._el=r,this._touchZoom=c,this._touchRotate=h,this._tapDragZoom=m,this._rotationDisabled=!1,this._enabled=!0}enable(r){this._touchZoom.enable(r),this._rotationDisabled||this._touchRotate.enable(r),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const il=g=>g.zoom||g.drag||g.pitch||g.rotate;class tc extends u.k{}function ol(g){return g.panDelta&&g.panDelta.mag()||g.zoomDelta||g.bearingDelta||g.pitchDelta}class nc{constructor(r,c){this.handleWindowEvent=m=>{this.handleEvent(m,`${m.type}Window`)},this.handleEvent=(m,_)=>{if(m.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const w=m.type==="renderFrame"?void 0:m,S={needsRenderFrame:!1},k={},T={},L=m.touches,D=L?this._getMapTouches(L):void 0,V=D?C.touchPos(this._el,D):C.mousePos(this._el,m);for(const{handlerName:oe,handler:J,allowed:ge}of this._handlers){if(!J.isEnabled())continue;let Ce;this._blockedByActive(T,ge,oe)?J.reset():J[_||m.type]&&(Ce=J[_||m.type](m,V,D),this.mergeHandlerResult(S,k,Ce,oe,w),Ce&&Ce.needsRenderFrame&&this._triggerRenderFrame()),(Ce||J.isActive())&&(T[oe]=J)}const te={};for(const oe in this._previousActiveHandlers)T[oe]||(te[oe]=w);this._previousActiveHandlers=T,(Object.keys(te).length||ol(S))&&(this._changes.push([S,k,te]),this._triggerRenderFrame()),(Object.keys(T).length||ol(S))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Q}=S;Q&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Q(this._map))},this._map=r,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new mh(r),this._bearingSnap=c.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(c);const h=this._el;this._listeners=[[h,"touchstart",{passive:!0}],[h,"touchmove",{passive:!1}],[h,"touchend",void 0],[h,"touchcancel",void 0],[h,"mousedown",void 0],[h,"mousemove",void 0],[h,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[h,"mouseover",void 0],[h,"mouseout",void 0],[h,"dblclick",void 0],[h,"click",void 0],[h,"keydown",{capture:!1}],[h,"keyup",void 0],[h,"wheel",{passive:!1}],[h,"contextmenu",void 0],[window,"blur",void 0]];for(const[m,_,w]of this._listeners)C.addEventListener(m,_,m===document?this.handleWindowEvent:this.handleEvent,w)}destroy(){for(const[r,c,h]of this._listeners)C.removeEventListener(r,c,r===document?this.handleWindowEvent:this.handleEvent,h)}_addDefaultHandlers(r){const c=this._map,h=c.getCanvasContainer();this._add("mapEvent",new yh(c,r));const m=c.boxZoom=new _h(c,r);this._add("boxZoom",m),r.interactive&&r.boxZoom&&m.enable();const _=new Ro(c),w=new Yu(c);c.doubleClickZoom=new Ju(w,_),this._add("tapZoom",_),this._add("clickZoom",w),r.interactive&&r.doubleClickZoom&&c.doubleClickZoom.enable();const S=new Qu;this._add("tapDragZoom",S);const k=c.touchPitch=new O0(c);this._add("touchPitch",k),r.interactive&&r.touchPitch&&c.touchPitch.enable(r.touchPitch);const T=ls(r),L=Fo(r);c.dragRotate=new Kr(r,T,L),this._add("mouseRotate",T,["mousePitch"]),this._add("mousePitch",L,["mouseRotate"]),r.interactive&&r.dragRotate&&c.dragRotate.enable();const D=(({enable:ge,clickTolerance:Ce})=>{const le=new Gu({checkCorrectEvent:ve=>C.mouseButton(ve)===0&&!ve.ctrlKey});return new zo({clickTolerance:Ce,move:(ve,Ae)=>({around:Ae,panDelta:Ae.sub(ve)}),activateOnStart:!0,moveStateManager:le,enable:ge,assignEvents:f1})})(r),V=new ct(r,c);c.dragPan=new ec(h,D,V),this._add("mousePan",D),this._add("touchPan",V,["touchZoom","touchRotate"]),r.interactive&&r.dragPan&&c.dragPan.enable(r.dragPan);const te=new qu,Q=new bh;c.touchZoomRotate=new ua(h,Q,te,S),this._add("touchRotate",te,["touchPan","touchZoom"]),this._add("touchZoom",Q,["touchPan","touchRotate"]),r.interactive&&r.touchZoomRotate&&c.touchZoomRotate.enable(r.touchZoomRotate);const oe=c.scrollZoom=new B0(c,()=>this._triggerRenderFrame());this._add("scrollZoom",oe,["mousePan"]),r.interactive&&r.scrollZoom&&c.scrollZoom.enable(r.scrollZoom);const J=c.keyboard=new wh(c);this._add("keyboard",J),r.interactive&&r.keyboard&&c.keyboard.enable(),this._add("blockableMapEvent",new vh(c))}_add(r,c,h){this._handlers.push({handlerName:r,handler:c,allowed:h}),this._handlersById[r]=c}stop(r){if(!this._updatingCamera){for(const{handler:c}of this._handlers)c.reset();this._inertia.clear(),this._fireEvents({},{},r),this._changes=[]}}isActive(){for(const{handler:r}of this._handlers)if(r.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!il(this._eventsInProgress)||this.isZooming()}_blockedByActive(r,c,h){for(const m in r)if(m!==h&&(!c||c.indexOf(m)<0))return!0;return!1}_getMapTouches(r){const c=[];for(const h of r)this._el.contains(h.target)&&c.push(h);return c}mergeHandlerResult(r,c,h,m,_){if(!h)return;u.e(r,h);const w={handlerName:m,originalEvent:h.originalEvent||_};h.zoomDelta!==void 0&&(c.zoom=w),h.panDelta!==void 0&&(c.drag=w),h.pitchDelta!==void 0&&(c.pitch=w),h.bearingDelta!==void 0&&(c.rotate=w)}_applyChanges(){const r={},c={},h={};for(const[m,_,w]of this._changes)m.panDelta&&(r.panDelta=(r.panDelta||new u.P(0,0))._add(m.panDelta)),m.zoomDelta&&(r.zoomDelta=(r.zoomDelta||0)+m.zoomDelta),m.bearingDelta&&(r.bearingDelta=(r.bearingDelta||0)+m.bearingDelta),m.pitchDelta&&(r.pitchDelta=(r.pitchDelta||0)+m.pitchDelta),m.around!==void 0&&(r.around=m.around),m.pinchAround!==void 0&&(r.pinchAround=m.pinchAround),m.noInertia&&(r.noInertia=m.noInertia),u.e(c,_),u.e(h,w);this._updateMapTransform(r,c,h),this._changes=[]}_updateMapTransform(r,c,h){const m=this._map,_=m._getTransformForUpdate(),w=m.terrain;if(!(ol(r)||w&&this._terrainMovement))return this._fireEvents(c,h,!0);let{panDelta:S,zoomDelta:k,bearingDelta:T,pitchDelta:L,around:D,pinchAround:V}=r;V!==void 0&&(D=V),m._stop(!0),D=D||m.transform.centerPoint;const te=_.pointLocation(S?D.sub(S):D);T&&(_.bearing+=T),L&&(_.pitch+=L),k&&(_.zoom+=k),w?this._terrainMovement||!c.drag&&!c.zoom?c.drag&&this._terrainMovement?_.center=_.pointLocation(_.centerPoint.sub(S)):_.setLocationAtPoint(te,D):(this._terrainMovement=!0,this._map._elevationFreeze=!0,_.setLocationAtPoint(te,D),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,_.recalculateZoom(m.terrain)})):_.setLocationAtPoint(te,D),m._applyUpdatedTransform(_),this._map._update(),r.noInertia||this._inertia.record(r),this._fireEvents(c,h,!0)}_fireEvents(r,c,h){const m=il(this._eventsInProgress),_=il(r),w={};for(const L in r){const{originalEvent:D}=r[L];this._eventsInProgress[L]||(w[`${L}start`]=D),this._eventsInProgress[L]=r[L]}!m&&_&&this._fireEvent("movestart",_.originalEvent);for(const L in w)this._fireEvent(L,w[L]);_&&this._fireEvent("move",_.originalEvent);for(const L in r){const{originalEvent:D}=r[L];this._fireEvent(L,D)}const S={};let k;for(const L in this._eventsInProgress){const{handlerName:D,originalEvent:V}=this._eventsInProgress[L];this._handlersById[D].isActive()||(delete this._eventsInProgress[L],k=c[D]||V,S[`${L}end`]=k)}for(const L in S)this._fireEvent(L,S[L]);const T=il(this._eventsInProgress);if(h&&(m||_)&&!T){this._updatingCamera=!0;const L=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),D=V=>V!==0&&-this._bearingSnap<V&&V<this._bearingSnap;!L||!L.essential&&u.h.prefersReducedMotion?(this._map.fire(new u.k("moveend",{originalEvent:k})),D(this._map.getBearing())&&this._map.resetNorth()):(D(L.bearing||this._map.getBearing())&&(L.bearing=0),L.freezeElevation=!0,this._map.easeTo(L,{originalEvent:k})),this._updatingCamera=!1}}_fireEvent(r,c){this._map.fire(new u.k(r,c?{originalEvent:c}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(r=>{delete this._frameId,this.handleEvent(new tc("renderFrame",{timeStamp:r})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Mh extends u.E{constructor(r,c){super(),this._renderFrameCallback=()=>{const h=Math.min((u.h.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(h)),h<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=c.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new u.L(this.transform.center.lng,this.transform.center.lat)}setCenter(r,c){return this.jumpTo({center:r},c)}panBy(r,c,h){return r=u.P.convert(r).mult(-1),this.panTo(this.transform.center,u.e({offset:r},c),h)}panTo(r,c,h){return this.easeTo(u.e({center:r},c),h)}getZoom(){return this.transform.zoom}setZoom(r,c){return this.jumpTo({zoom:r},c),this}zoomTo(r,c,h){return this.easeTo(u.e({zoom:r},c),h)}zoomIn(r,c){return this.zoomTo(this.getZoom()+1,r,c),this}zoomOut(r,c){return this.zoomTo(this.getZoom()-1,r,c),this}getBearing(){return this.transform.bearing}setBearing(r,c){return this.jumpTo({bearing:r},c),this}getPadding(){return this.transform.padding}setPadding(r,c){return this.jumpTo({padding:r},c),this}rotateTo(r,c,h){return this.easeTo(u.e({bearing:r},c),h)}resetNorth(r,c){return this.rotateTo(0,u.e({duration:1e3},r),c),this}resetNorthPitch(r,c){return this.easeTo(u.e({bearing:0,pitch:0,duration:1e3},r),c),this}snapToNorth(r,c){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(r,c):this}getPitch(){return this.transform.pitch}setPitch(r,c){return this.jumpTo({pitch:r},c),this}cameraForBounds(r,c){r=ut.convert(r);const h=c&&c.bearing||0;return this._cameraForBoxAndBearing(r.getNorthWest(),r.getSouthEast(),h,c)}_cameraForBoxAndBearing(r,c,h,m){const _={top:0,bottom:0,right:0,left:0};if(typeof(m=u.e({padding:_,offset:[0,0],maxZoom:this.transform.maxZoom},m)).padding=="number"){const Ae=m.padding;m.padding={top:Ae,bottom:Ae,right:Ae,left:Ae}}m.padding=u.e(_,m.padding);const w=this.transform,S=w.padding,k=w.project(u.L.convert(r)),T=w.project(u.L.convert(c)),L=k.rotate(-h*Math.PI/180),D=T.rotate(-h*Math.PI/180),V=new u.P(Math.max(L.x,D.x),Math.max(L.y,D.y)),te=new u.P(Math.min(L.x,D.x),Math.min(L.y,D.y)),Q=V.sub(te),oe=(w.width-(S.left+S.right+m.padding.left+m.padding.right))/Q.x,J=(w.height-(S.top+S.bottom+m.padding.top+m.padding.bottom))/Q.y;if(J<0||oe<0)return void u.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const ge=Math.min(w.scaleZoom(w.scale*Math.min(oe,J)),m.maxZoom),Ce=u.P.convert(m.offset),le=new u.P((m.padding.left-m.padding.right)/2,(m.padding.top-m.padding.bottom)/2).rotate(h*Math.PI/180),ve=Ce.add(le).mult(w.scale/w.zoomScale(ge));return{center:w.unproject(k.add(T).div(2).sub(ve)),zoom:ge,bearing:h}}fitBounds(r,c,h){return this._fitInternal(this.cameraForBounds(r,c),c,h)}fitScreenCoordinates(r,c,h,m,_){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(u.P.convert(r)),this.transform.pointLocation(u.P.convert(c)),h,m),m,_)}_fitInternal(r,c,h){return r?(delete(c=u.e(r,c)).padding,c.linear?this.easeTo(c,h):this.flyTo(c,h)):this}jumpTo(r,c){this.stop();const h=this._getTransformForUpdate();let m=!1,_=!1,w=!1;return"zoom"in r&&h.zoom!==+r.zoom&&(m=!0,h.zoom=+r.zoom),r.center!==void 0&&(h.center=u.L.convert(r.center)),"bearing"in r&&h.bearing!==+r.bearing&&(_=!0,h.bearing=+r.bearing),"pitch"in r&&h.pitch!==+r.pitch&&(w=!0,h.pitch=+r.pitch),r.padding==null||h.isPaddingEqual(r.padding)||(h.padding=r.padding),this._applyUpdatedTransform(h),this.fire(new u.k("movestart",c)).fire(new u.k("move",c)),m&&this.fire(new u.k("zoomstart",c)).fire(new u.k("zoom",c)).fire(new u.k("zoomend",c)),_&&this.fire(new u.k("rotatestart",c)).fire(new u.k("rotate",c)).fire(new u.k("rotateend",c)),w&&this.fire(new u.k("pitchstart",c)).fire(new u.k("pitch",c)).fire(new u.k("pitchend",c)),this.fire(new u.k("moveend",c))}calculateCameraOptionsFromTo(r,c,h,m=0){const _=u.U.fromLngLat(r,c),w=u.U.fromLngLat(h,m),S=w.x-_.x,k=w.y-_.y,T=w.z-_.z,L=Math.hypot(S,k,T);if(L===0)throw new Error("Can't calculate camera options with same From and To");const D=Math.hypot(S,k),V=this.transform.scaleZoom(this.transform.cameraToCenterDistance/L/this.transform.tileSize),te=180*Math.atan2(S,-k)/Math.PI;let Q=180*Math.acos(D/L)/Math.PI;return Q=T<0?90-Q:90+Q,{center:w.toLngLat(),zoom:V,pitch:Q,bearing:te}}easeTo(r,c){this._stop(!1,r.easeId),((r=u.e({offset:[0,0],duration:500,easing:u.bb},r)).animate===!1||!r.essential&&u.h.prefersReducedMotion)&&(r.duration=0);const h=this._getTransformForUpdate(),m=this.getZoom(),_=this.getBearing(),w=this.getPitch(),S=this.getPadding(),k="zoom"in r?+r.zoom:m,T="bearing"in r?this._normalizeBearing(r.bearing,_):_,L="pitch"in r?+r.pitch:w,D="padding"in r?r.padding:h.padding,V=u.P.convert(r.offset);let te=h.centerPoint.add(V);const Q=h.pointLocation(te),oe=u.L.convert(r.center||Q);this._normalizeCenter(oe);const J=h.project(Q),ge=h.project(oe).sub(J),Ce=h.zoomScale(k-m);let le,ve;r.around&&(le=u.L.convert(r.around),ve=h.locationPoint(le));const Ae={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||k!==m,this._rotating=this._rotating||_!==T,this._pitching=this._pitching||L!==w,this._padding=!h.isPaddingEqual(D),this._easeId=r.easeId,this._prepareEase(c,r.noMoveStart,Ae),this.terrain&&this._prepareElevation(oe),this._ease(Pe=>{if(this._zooming&&(h.zoom=u.B.number(m,k,Pe)),this._rotating&&(h.bearing=u.B.number(_,T,Pe)),this._pitching&&(h.pitch=u.B.number(w,L,Pe)),this._padding&&(h.interpolatePadding(S,D,Pe),te=h.centerPoint.add(V)),this.terrain&&!r.freezeElevation&&this._updateElevation(Pe),le)h.setLocationAtPoint(le,ve);else{const Ne=h.zoomScale(h.zoom-m),Ue=k>m?Math.min(2,Ce):Math.max(.5,Ce),je=Math.pow(Ue,1-Pe),Ke=h.unproject(J.add(ge.mult(Pe*je)).mult(Ne));h.setLocationAtPoint(h.renderWorldCopies?Ke.wrap():Ke,te)}this._applyUpdatedTransform(h),this._fireMoveEvents(c)},Pe=>{this.terrain&&this._finalizeElevation(),this._afterEase(c,Pe)},r),this}_prepareEase(r,c,h={}){this._moving=!0,c||h.moving||this.fire(new u.k("movestart",r)),this._zooming&&!h.zooming&&this.fire(new u.k("zoomstart",r)),this._rotating&&!h.rotating&&this.fire(new u.k("rotatestart",r)),this._pitching&&!h.pitching&&this.fire(new u.k("pitchstart",r))}_prepareElevation(r){this._elevationCenter=r,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(r,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(r){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const c=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(r<1&&c!==this._elevationTarget){const h=this._elevationTarget-this._elevationStart;this._elevationStart+=r*(h-(c-(h*r+this._elevationStart))/(1-r)),this._elevationTarget=c}this.transform.elevation=u.B.number(this._elevationStart,this._elevationTarget,r)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(r){if(!this.transformCameraUpdate)return;const c=r.clone(),{center:h,zoom:m,pitch:_,bearing:w,elevation:S}=this.transformCameraUpdate(c);h&&(c.center=h),m!==void 0&&(c.zoom=m),_!==void 0&&(c.pitch=_),w!==void 0&&(c.bearing=w),S!==void 0&&(c.elevation=S),this.transform.apply(c)}_fireMoveEvents(r){this.fire(new u.k("move",r)),this._zooming&&this.fire(new u.k("zoom",r)),this._rotating&&this.fire(new u.k("rotate",r)),this._pitching&&this.fire(new u.k("pitch",r))}_afterEase(r,c){if(this._easeId&&c&&this._easeId===c)return;delete this._easeId;const h=this._zooming,m=this._rotating,_=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,h&&this.fire(new u.k("zoomend",r)),m&&this.fire(new u.k("rotateend",r)),_&&this.fire(new u.k("pitchend",r)),this.fire(new u.k("moveend",r))}flyTo(r,c){if(!r.essential&&u.h.prefersReducedMotion){const yt=u.F(r,["center","zoom","bearing","pitch","around"]);return this.jumpTo(yt,c)}this.stop(),r=u.e({offset:[0,0],speed:1.2,curve:1.42,easing:u.bb},r);const h=this._getTransformForUpdate(),m=this.getZoom(),_=this.getBearing(),w=this.getPitch(),S=this.getPadding(),k="zoom"in r?u.ad(+r.zoom,h.minZoom,h.maxZoom):m,T="bearing"in r?this._normalizeBearing(r.bearing,_):_,L="pitch"in r?+r.pitch:w,D="padding"in r?r.padding:h.padding,V=h.zoomScale(k-m),te=u.P.convert(r.offset);let Q=h.centerPoint.add(te);const oe=h.pointLocation(Q),J=u.L.convert(r.center||oe);this._normalizeCenter(J);const ge=h.project(oe),Ce=h.project(J).sub(ge);let le=r.curve;const ve=Math.max(h.width,h.height),Ae=ve/V,Pe=Ce.mag();if("minZoom"in r){const yt=u.ad(Math.min(r.minZoom,m,k),h.minZoom,h.maxZoom),cn=ve/h.zoomScale(yt-m);le=Math.sqrt(cn/Pe*2)}const Ne=le*le;function Ue(yt){const cn=(Ae*Ae-ve*ve+(yt?-1:1)*Ne*Ne*Pe*Pe)/(2*(yt?Ae:ve)*Ne*Pe);return Math.log(Math.sqrt(cn*cn+1)-cn)}function je(yt){return(Math.exp(yt)-Math.exp(-yt))/2}function Ke(yt){return(Math.exp(yt)+Math.exp(-yt))/2}const mt=Ue(!1);let Bt=function(yt){return Ke(mt)/Ke(mt+le*yt)},rt=function(yt){return ve*((Ke(mt)*(je(cn=mt+le*yt)/Ke(cn))-je(mt))/Ne)/Pe;var cn},Et=(Ue(!0)-mt)/le;if(Math.abs(Pe)<1e-6||!isFinite(Et)){if(Math.abs(ve-Ae)<1e-6)return this.easeTo(r,c);const yt=Ae<ve?-1:1;Et=Math.abs(Math.log(Ae/ve))/le,rt=function(){return 0},Bt=function(cn){return Math.exp(yt*le*cn)}}return r.duration="duration"in r?+r.duration:1e3*Et/("screenSpeed"in r?+r.screenSpeed/le:+r.speed),r.maxDuration&&r.duration>r.maxDuration&&(r.duration=0),this._zooming=!0,this._rotating=_!==T,this._pitching=L!==w,this._padding=!h.isPaddingEqual(D),this._prepareEase(c,!1),this.terrain&&this._prepareElevation(J),this._ease(yt=>{const cn=yt*Et,Nt=1/Bt(cn);h.zoom=yt===1?k:m+h.scaleZoom(Nt),this._rotating&&(h.bearing=u.B.number(_,T,yt)),this._pitching&&(h.pitch=u.B.number(w,L,yt)),this._padding&&(h.interpolatePadding(S,D,yt),Q=h.centerPoint.add(te)),this.terrain&&!r.freezeElevation&&this._updateElevation(yt);const zt=yt===1?J:h.unproject(ge.add(Ce.mult(rt(cn))).mult(Nt));h.setLocationAtPoint(h.renderWorldCopies?zt.wrap():zt,Q),this._applyUpdatedTransform(h),this._fireMoveEvents(c)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(c)},r),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(r,c){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const h=this._onEaseEnd;delete this._onEaseEnd,h.call(this,c)}if(!r){const h=this.handlers;h&&h.stop(!1)}return this}_ease(r,c,h){h.animate===!1||h.duration===0?(r(1),c()):(this._easeStart=u.h.now(),this._easeOptions=h,this._onEaseFrame=r,this._onEaseEnd=c,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(r,c){r=u.b5(r,-180,180);const h=Math.abs(r-c);return Math.abs(r-360-c)<h&&(r-=360),Math.abs(r+360-c)<h&&(r+=360),r}_normalizeCenter(r){const c=this.transform;if(!c.renderWorldCopies||c.lngRange)return;const h=r.lng-c.center.lng;r.lng+=h>180?-360:h<-180?360:0}queryTerrainElevation(r){return this.terrain?this.terrain.getElevationForLngLatZoom(u.L.convert(r),this.transform.tileZoom)-this.transform.elevation:null}}class hi{constructor(r={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=c=>{!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"&&c.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=r}getDefaultPosition(){return"bottom-right"}onAdd(r){return this._map=r,this._compact=this.options&&this.options.compact,this._container=C.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=C.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=C.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){C.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(r,c){const h=this._map._getUIString(`AttributionControl.${c}`);r.title=h,r.setAttribute("aria-label",h)}_updateAttributions(){if(!this._map.style)return;let r=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?r=r.concat(this.options.customAttribution.map(m=>typeof m!="string"?"":m)):typeof this.options.customAttribution=="string"&&r.push(this.options.customAttribution)),this._map.style.stylesheet){const m=this._map.style.stylesheet;this.styleOwner=m.owner,this.styleId=m.id}const c=this._map.style.sourceCaches;for(const m in c){const _=c[m];if(_.used||_.usedForTerrain){const w=_.getSource();w.attribution&&r.indexOf(w.attribution)<0&&r.push(w.attribution)}}r=r.filter(m=>String(m).trim()),r.sort((m,_)=>m.length-_.length),r=r.filter((m,_)=>{for(let w=_+1;w<r.length;w++)if(r[w].indexOf(m)>=0)return!1;return!0});const h=r.join(" | ");h!==this._attribHTML&&(this._attribHTML=h,r.length?(this._innerContainer.innerHTML=h,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class vn{constructor(r={}){this._updateCompact=()=>{const c=this._container.children;if(c.length){const h=c[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&h.classList.add("maplibregl-compact"):h.classList.remove("maplibregl-compact")}},this.options=r}getDefaultPosition(){return"bottom-left"}onAdd(r){this._map=r,this._compact=this.options&&this.options.compact,this._container=C.create("div","maplibregl-ctrl");const c=C.create("a","maplibregl-ctrl-logo");return c.target="_blank",c.rel="noopener nofollow",c.href="https://maplibre.org/",c.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),c.setAttribute("rel","noopener nofollow"),this._container.appendChild(c),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){C.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class g1{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(r){const c=++this._id;return this._queue.push({callback:r,id:c,cancelled:!1}),c}remove(r){const c=this._currentlyRunning,h=c?this._queue.concat(c):this._queue;for(const m of h)if(m.id===r)return void(m.cancelled=!0)}run(r=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const c=this._currentlyRunning=this._queue;this._queue=[];for(const h of c)if(!h.cancelled&&(h.callback(r),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const rc={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var Eh=u.Q([{name:"a_pos3d",type:"Int16",components:3}]);class kh extends u.E{constructor(r){super(),this.sourceCache=r,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,r.usedForTerrain=!0,r.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(r,c){this.sourceCache.update(r,c),this._renderableTilesKeys=[];const h={};for(const m of r.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:c}))h[m.key]=!0,this._renderableTilesKeys.push(m.key),this._tiles[m.key]||(m.posMatrix=new Float64Array(16),u.aS(m.posMatrix,0,u.N,0,u.N,0,1),this._tiles[m.key]=new gr(m,this.tileSize));for(const m in this._tiles)h[m]||delete this._tiles[m]}freeRtt(r){for(const c in this._tiles){const h=this._tiles[c];(!r||h.tileID.equals(r)||h.tileID.isChildOf(r)||r.isChildOf(h.tileID))&&(h.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(r=>this.getTileByID(r))}getTileByID(r){return this._tiles[r]}getTerrainCoords(r){const c={};for(const h of this._renderableTilesKeys){const m=this._tiles[h].tileID;if(m.canonical.equals(r.canonical)){const _=r.clone();_.posMatrix=new Float64Array(16),u.aS(_.posMatrix,0,u.N,0,u.N,0,1),c[h]=_}else if(m.canonical.isChildOf(r.canonical)){const _=r.clone();_.posMatrix=new Float64Array(16);const w=m.canonical.z-r.canonical.z,S=m.canonical.x-(m.canonical.x>>w<<w),k=m.canonical.y-(m.canonical.y>>w<<w),T=u.N>>w;u.aS(_.posMatrix,0,T,0,T,0,1),u.$(_.posMatrix,_.posMatrix,[-S*T,-k*T,0]),c[h]=_}else if(r.canonical.isChildOf(m.canonical)){const _=r.clone();_.posMatrix=new Float64Array(16);const w=r.canonical.z-m.canonical.z,S=r.canonical.x-(r.canonical.x>>w<<w),k=r.canonical.y-(r.canonical.y>>w<<w),T=u.N>>w;u.aS(_.posMatrix,0,u.N,0,u.N,0,1),u.$(_.posMatrix,_.posMatrix,[S*T,k*T,0]),u.a0(_.posMatrix,_.posMatrix,[1/2**w,1/2**w,0]),c[h]=_}}return c}getSourceTile(r,c){const h=this.sourceCache._source;let m=r.overscaledZ-this.deltaZoom;if(m>h.maxzoom&&(m=h.maxzoom),m<h.minzoom)return null;this._sourceTileCache[r.key]||(this._sourceTileCache[r.key]=r.scaledTo(m).key);let _=this.sourceCache.getTileByID(this._sourceTileCache[r.key]);if((!_||!_.dem)&&c)for(;m>=h.minzoom&&(!_||!_.dem);)_=this.sourceCache.getTileByID(r.scaledTo(m--).key);return _}tilesAfterTime(r=Date.now()){return Object.values(this._tiles).filter(c=>c.timeAdded>=r)}}class Ah{constructor(r,c,h){this.painter=r,this.sourceCache=new kh(c),this.options=h,this.exaggeration=typeof h.exaggeration=="number"?h.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(r,c,h,m=u.N){var _;if(!(c>=0&&c<m&&h>=0&&h<m))return 0;const w=this.getTerrainData(r),S=(_=w.tile)===null||_===void 0?void 0:_.dem;if(!S)return 0;const k=function(Q,oe,J){var ge=oe[0],Ce=oe[1];return Q[0]=J[0]*ge+J[4]*Ce+J[12],Q[1]=J[1]*ge+J[5]*Ce+J[13],Q}([],[c/m*u.N,h/m*u.N],w.u_terrain_matrix),T=[k[0]*S.dim,k[1]*S.dim],L=Math.floor(T[0]),D=Math.floor(T[1]),V=T[0]-L,te=T[1]-D;return S.get(L,D)*(1-V)*(1-te)+S.get(L+1,D)*V*(1-te)+S.get(L,D+1)*(1-V)*te+S.get(L+1,D+1)*V*te}getElevationForLngLatZoom(r,c){const{tileID:h,mercatorX:m,mercatorY:_}=this._getOverscaledTileIDFromLngLatZoom(r,c);return this.getElevation(h,m%u.N,_%u.N,u.N)}getElevation(r,c,h,m=u.N){return this.getDEMElevation(r,c,h,m)*this.exaggeration}getTerrainData(r){if(!this._emptyDemTexture){const m=this.painter.context,_=new u.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Me(m,_,m.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Me(m,new u.R({width:1,height:1}),m.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(m.gl.NEAREST,m.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=u.ao([])}const c=this.sourceCache.getSourceTile(r,!0);if(c&&c.dem&&(!c.demTexture||c.needsTerrainPrepare)){const m=this.painter.context;c.demTexture=this.painter.getTileTexture(c.dem.stride),c.demTexture?c.demTexture.update(c.dem.getPixels(),{premultiply:!1}):c.demTexture=new Me(m,c.dem.getPixels(),m.gl.RGBA,{premultiply:!1}),c.demTexture.bind(m.gl.NEAREST,m.gl.CLAMP_TO_EDGE),c.needsTerrainPrepare=!1}const h=c&&c+c.tileID.key+r.key;if(h&&!this._demMatrixCache[h]){const m=this.sourceCache.sourceCache._source.maxzoom;let _=r.canonical.z-c.tileID.canonical.z;r.overscaledZ>r.canonical.z&&(r.canonical.z>=m?_=r.canonical.z-m:u.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const w=r.canonical.x-(r.canonical.x>>_<<_),S=r.canonical.y-(r.canonical.y>>_<<_),k=u.bc(new Float64Array(16),[1/(u.N<<_),1/(u.N<<_),0]);u.$(k,k,[w*u.N,S*u.N,0]),this._demMatrixCache[r.key]={matrix:k,coord:r}}return{u_depth:2,u_terrain:3,u_terrain_dim:c&&c.dem&&c.dem.dim||1,u_terrain_matrix:h?this._demMatrixCache[r.key].matrix:this._emptyDemMatrix,u_terrain_unpack:c&&c.dem&&c.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(c&&c.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:c}}getFramebuffer(r){const c=this.painter,h=c.width/devicePixelRatio,m=c.height/devicePixelRatio;return!this._fbo||this._fbo.width===h&&this._fbo.height===m||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Me(c.context,{width:h,height:m,data:null},c.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(c.context.gl.NEAREST,c.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Me(c.context,{width:h,height:m,data:null},c.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(c.context.gl.NEAREST,c.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=c.context.createFramebuffer(h,m,!0,!1),this._fbo.depthAttachment.set(c.context.createRenderbuffer(c.context.gl.DEPTH_COMPONENT16,h,m))),this._fbo.colorAttachment.set(r==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const r=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const c=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let _=0,w=0;_<this._coordsTextureSize;_++)for(let S=0;S<this._coordsTextureSize;S++,w+=4)c[w+0]=255&S,c[w+1]=255&_,c[w+2]=S>>8<<4|_>>8,c[w+3]=0;const h=new u.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(c.buffer)),m=new Me(r,h,r.gl.RGBA,{premultiply:!1});return m.bind(r.gl.NEAREST,r.gl.CLAMP_TO_EDGE),this._coordsTexture=m,m}pointCoordinate(r){const c=new Uint8Array(4),h=this.painter.context,m=h.gl;h.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),m.readPixels(r.x,this.painter.height/devicePixelRatio-r.y-1,1,1,m.RGBA,m.UNSIGNED_BYTE,c),h.bindFramebuffer.set(null);const _=c[0]+(c[2]>>4<<8),w=c[1]+((15&c[2])<<8),S=this.coordsIndex[255-c[3]],k=S&&this.sourceCache.getTileByID(S);if(!k)return null;const T=this._coordsTextureSize,L=(1<<k.tileID.canonical.z)*T;return new u.U((k.tileID.canonical.x*T+_)/L,(k.tileID.canonical.y*T+w)/L,this.getElevation(k.tileID,_,w,T))}getTerrainMesh(){if(this._mesh)return this._mesh;const r=this.painter.context,c=new u.bd,h=new u.b0,m=this.meshSize,_=u.N/m,w=m*m;for(let D=0;D<=m;D++)for(let V=0;V<=m;V++)c.emplaceBack(V*_,D*_,0);for(let D=0;D<w;D+=m+1)for(let V=0;V<m;V++)h.emplaceBack(V+D,m+V+D+1,m+V+D+2),h.emplaceBack(V+D,m+V+D+2,V+D+1);const S=c.length,k=S+2*(m+1);for(const D of[0,1])for(let V=0;V<=m;V++)for(const te of[0,1])c.emplaceBack(V*_,D*u.N,te);for(let D=0;D<2*m;D+=2)h.emplaceBack(k+D,k+D+1,k+D+3),h.emplaceBack(k+D,k+D+3,k+D+2),h.emplaceBack(S+D,S+D+3,S+D+1),h.emplaceBack(S+D,S+D+2,S+D+3);const T=c.length,L=T+2*(m+1);for(const D of[0,1])for(let V=0;V<=m;V++)for(const te of[0,1])c.emplaceBack(D*u.N,V*_,te);for(let D=0;D<2*m;D+=2)h.emplaceBack(T+D,T+D+1,T+D+3),h.emplaceBack(T+D,T+D+3,T+D+2),h.emplaceBack(L+D,L+D+3,L+D+1),h.emplaceBack(L+D,L+D+2,L+D+3);return this._mesh={indexBuffer:r.createIndexBuffer(h),vertexBuffer:r.createVertexBuffer(c,Eh.members),segments:u.S.simpleSegment(0,0,c.length,h.length)},this._mesh}getMeshFrameDelta(r){return 2*Math.PI*u.be/Math.pow(2,r)/5}getMinTileElevationForLngLatZoom(r,c){var h;const{tileID:m}=this._getOverscaledTileIDFromLngLatZoom(r,c);return(h=this.getMinMaxElevation(m).minElevation)!==null&&h!==void 0?h:0}getMinMaxElevation(r){const c=this.getTerrainData(r).tile,h={minElevation:null,maxElevation:null};return c&&c.dem&&(h.minElevation=c.dem.min*this.exaggeration,h.maxElevation=c.dem.max*this.exaggeration),h}_getOverscaledTileIDFromLngLatZoom(r,c){const h=u.U.fromLngLat(r.wrap()),m=(1<<c)*u.N,_=h.x*m,w=h.y*m,S=Math.floor(_/u.N),k=Math.floor(w/u.N);return{tileID:new u.O(c,0,c,S,k),mercatorX:_,mercatorY:w}}}class $0{constructor(r,c,h){this._context=r,this._size=c,this._tileSize=h,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const r of this._objects)r.texture.destroy(),r.fbo.destroy()}_createObject(r){const c=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),h=new Me(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return h.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),c.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),c.colorAttachment.set(h.texture),{id:r,fbo:c,texture:h,stamp:-1,inUse:!1}}getObjectForId(r){return this._objects[r]}useObject(r){r.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(c=>r.id!==c),this._recentlyUsed.push(r.id)}stampObject(r){r.stamp=++this._stamp}getOrCreateFreeObject(){for(const c of this._recentlyUsed)if(!this._objects[c].inUse)return this._objects[c];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const r=this._createObject(this._objects.length);return this._objects.push(r),r}freeObject(r){r.inUse=!1}freeAllObjects(){for(const r of this._objects)this.freeObject(r)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(r=>!r.inUse)===!1}}const Nr={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class y1{constructor(r,c){this.painter=r,this.terrain=c,this.pool=new $0(r.context,30,c.sourceCache.tileSize*c.qualityFactor)}destruct(){this.pool.destruct()}getTexture(r){return this.pool.getObjectForId(r.rtt[this._stacks.length-1].id).texture}prepareForRender(r,c){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=r._order.filter(h=>!r._layers[h].isHidden(c)),this._coordsDescendingInv={};for(const h in r.sourceCaches){this._coordsDescendingInv[h]={};const m=r.sourceCaches[h].getVisibleCoordinates();for(const _ of m){const w=this.terrain.sourceCache.getTerrainCoords(_);for(const S in w)this._coordsDescendingInv[h][S]||(this._coordsDescendingInv[h][S]=[]),this._coordsDescendingInv[h][S].push(w[S])}}this._coordsDescendingInvStr={};for(const h of r._order){const m=r._layers[h],_=m.source;if(Nr[m.type]&&!this._coordsDescendingInvStr[_]){this._coordsDescendingInvStr[_]={};for(const w in this._coordsDescendingInv[_])this._coordsDescendingInvStr[_][w]=this._coordsDescendingInv[_][w].map(S=>S.key).sort().join()}}for(const h of this._renderableTiles)for(const m in this._coordsDescendingInvStr){const _=this._coordsDescendingInvStr[m][h.tileID.key];_&&_!==h.rttCoords[m]&&(h.rtt=[])}}renderLayer(r){if(r.isHidden(this.painter.transform.zoom))return!1;const c=r.type,h=this.painter,m=this._renderableLayerIds[this._renderableLayerIds.length-1]===r.id;if(Nr[c]&&(this._prevType&&Nr[this._prevType]||this._stacks.push([]),this._prevType=c,this._stacks[this._stacks.length-1].push(r.id),!m))return!0;if(Nr[this._prevType]||Nr[c]&&m){this._prevType=c;const _=this._stacks.length-1,w=this._stacks[_]||[];for(const S of this._renderableTiles){if(this.pool.isFull()&&(Dn(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(S),S.rtt[_]){const T=this.pool.getObjectForId(S.rtt[_].id);if(T.stamp===S.rtt[_].stamp){this.pool.useObject(T);continue}}const k=this.pool.getOrCreateFreeObject();this.pool.useObject(k),this.pool.stampObject(k),S.rtt[_]={id:k.id,stamp:k.stamp},h.context.bindFramebuffer.set(k.fbo.framebuffer),h.context.clear({color:u.aT.transparent,stencil:0}),h.currentStencilSource=void 0;for(let T=0;T<w.length;T++){const L=h.style._layers[w[T]],D=L.source?this._coordsDescendingInv[L.source][S.tileID.key]:[S.tileID];h.context.viewport.set([0,0,k.fbo.width,k.fbo.height]),h._renderTileClippingMasks(L,D),h.renderLayer(h,h.style.sourceCaches[L.source],L,D),L.source&&(S.rttCoords[L.source]=this._coordsDescendingInvStr[L.source][S.tileID.key])}}return Dn(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Nr[c]}return!1}}const _t=E,Mt={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:u.c.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},al=g=>{g.touchstart=g.dragStart,g.touchmoveWindow=g.dragMove,g.touchend=g.dragEnd},ic={showCompass:!0,showZoom:!0,visualizePitch:!1};class oc{constructor(r,c,h=!1){this.mousedown=w=>{this.startMouse(u.e({},w,{ctrlKey:!0,preventDefault:()=>w.preventDefault()}),C.mousePos(this.element,w)),C.addEventListener(window,"mousemove",this.mousemove),C.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=w=>{this.moveMouse(w,C.mousePos(this.element,w))},this.mouseup=w=>{this.mouseRotate.dragEnd(w),this.mousePitch&&this.mousePitch.dragEnd(w),this.offTemp()},this.touchstart=w=>{w.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=C.touchPos(this.element,w.targetTouches)[0],this.startTouch(w,this._startPos),C.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),C.addEventListener(window,"touchend",this.touchend))},this.touchmove=w=>{w.targetTouches.length!==1?this.reset():(this._lastPos=C.touchPos(this.element,w.targetTouches)[0],this.moveTouch(w,this._lastPos))},this.touchend=w=>{w.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const m=r.dragRotate._mouseRotate.getClickTolerance(),_=r.dragRotate._mousePitch.getClickTolerance();this.element=c,this.mouseRotate=ls({clickTolerance:m,enable:!0}),this.touchRotate=(({enable:w,clickTolerance:S,bearingDegreesPerPixelMoved:k=.8})=>{const T=new xh;return new zo({clickTolerance:S,move:(L,D)=>({bearingDelta:(D.x-L.x)*k}),moveStateManager:T,enable:w,assignEvents:al})})({clickTolerance:m,enable:!0}),this.map=r,h&&(this.mousePitch=Fo({clickTolerance:_,enable:!0}),this.touchPitch=(({enable:w,clickTolerance:S,pitchDegreesPerPixelMoved:k=-.5})=>{const T=new xh;return new zo({clickTolerance:S,move:(L,D)=>({pitchDelta:(D.y-L.y)*k}),moveStateManager:T,enable:w,assignEvents:al})})({clickTolerance:_,enable:!0})),C.addEventListener(c,"mousedown",this.mousedown),C.addEventListener(c,"touchstart",this.touchstart,{passive:!1}),C.addEventListener(c,"touchcancel",this.reset)}startMouse(r,c){this.mouseRotate.dragStart(r,c),this.mousePitch&&this.mousePitch.dragStart(r,c),C.disableDrag()}startTouch(r,c){this.touchRotate.dragStart(r,c),this.touchPitch&&this.touchPitch.dragStart(r,c),C.disableDrag()}moveMouse(r,c){const h=this.map,{bearingDelta:m}=this.mouseRotate.dragMove(r,c)||{};if(m&&h.setBearing(h.getBearing()+m),this.mousePitch){const{pitchDelta:_}=this.mousePitch.dragMove(r,c)||{};_&&h.setPitch(h.getPitch()+_)}}moveTouch(r,c){const h=this.map,{bearingDelta:m}=this.touchRotate.dragMove(r,c)||{};if(m&&h.setBearing(h.getBearing()+m),this.touchPitch){const{pitchDelta:_}=this.touchPitch.dragMove(r,c)||{};_&&h.setPitch(h.getPitch()+_)}}off(){const r=this.element;C.removeEventListener(r,"mousedown",this.mousedown),C.removeEventListener(r,"touchstart",this.touchstart,{passive:!1}),C.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),C.removeEventListener(window,"touchend",this.touchend),C.removeEventListener(r,"touchcancel",this.reset),this.offTemp()}offTemp(){C.enableDrag(),C.removeEventListener(window,"mousemove",this.mousemove),C.removeEventListener(window,"mouseup",this.mouseup),C.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),C.removeEventListener(window,"touchend",this.touchend)}}let Wn;function ac(g,r,c){if(g=new u.L(g.lng,g.lat),r){const h=new u.L(g.lng-360,g.lat),m=new u.L(g.lng+360,g.lat),_=c.locationPoint(g).distSqr(r);c.locationPoint(h).distSqr(r)<_?g=h:c.locationPoint(m).distSqr(r)<_&&(g=m)}for(;Math.abs(g.lng-c.center.lng)>180;){const h=c.locationPoint(g);if(h.x>=0&&h.y>=0&&h.x<=c.width&&h.y<=c.height)break;g.lng>c.center.lng?g.lng-=360:g.lng+=360}return g}const Di={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Ph(g,r,c){const h=g.classList;for(const m in Di)h.remove(`maplibregl-${c}-anchor-${m}`);h.add(`maplibregl-${c}-anchor-${r}`)}class Ma extends u.E{constructor(r){if(super(),this._onKeyPress=c=>{const h=c.code,m=c.charCode||c.keyCode;h!=="Space"&&h!=="Enter"&&m!==32&&m!==13||this.togglePopup()},this._onMapClick=c=>{const h=c.originalEvent.target,m=this._element;this._popup&&(h===m||m.contains(h))&&this.togglePopup()},this._update=c=>{if(!this._map)return;const h=this._map.loaded()&&!this._map.isMoving();((c==null?void 0:c.type)==="terrain"||(c==null?void 0:c.type)==="render"&&!h)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=ac(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let m="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?m=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(m=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let _="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?_="rotateX(0deg)":this._pitchAlignment==="map"&&(_=`rotateX(${this._map.getPitch()}deg)`),c&&c.type!=="moveend"||(this._pos=this._pos.round()),C.setTransform(this._element,`${Di[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${_} ${m}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const w=this._map.unproject(this._pos),S=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=w.distanceTo(this._lngLat)>20*S?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=c=>{if(!this._isDragging){const h=this._clickTolerance||this._map._clickTolerance;this._isDragging=c.point.dist(this._pointerdownPos)>=h}this._isDragging&&(this._pos=c.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new u.k("dragstart"))),this.fire(new u.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new u.k("dragend")),this._state="inactive"},this._addDragHandler=c=>{this._element.contains(c.originalEvent.target)&&(c.preventDefault(),this._positionDelta=c.point.sub(this._pos).add(this._offset),this._pointerdownPos=c.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&r.pitchAlignment!=="auto"?r.pitchAlignment:this._rotationAlignment,r&&r.element)this._element=r.element,this._offset=u.P.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=C.create("div"),this._element.setAttribute("aria-label","Map marker");const c=C.createNS("http://www.w3.org/2000/svg","svg"),h=41,m=27;c.setAttributeNS(null,"display","block"),c.setAttributeNS(null,"height",`${h}px`),c.setAttributeNS(null,"width",`${m}px`),c.setAttributeNS(null,"viewBox",`0 0 ${m} ${h}`);const _=C.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"stroke","none"),_.setAttributeNS(null,"stroke-width","1"),_.setAttributeNS(null,"fill","none"),_.setAttributeNS(null,"fill-rule","evenodd");const w=C.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"fill-rule","nonzero");const S=C.createNS("http://www.w3.org/2000/svg","g");S.setAttributeNS(null,"transform","translate(3.0, 29.0)"),S.setAttributeNS(null,"fill","#000000");const k=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const ge of k){const Ce=C.createNS("http://www.w3.org/2000/svg","ellipse");Ce.setAttributeNS(null,"opacity","0.04"),Ce.setAttributeNS(null,"cx","10.5"),Ce.setAttributeNS(null,"cy","5.80029008"),Ce.setAttributeNS(null,"rx",ge.rx),Ce.setAttributeNS(null,"ry",ge.ry),S.appendChild(Ce)}const T=C.createNS("http://www.w3.org/2000/svg","g");T.setAttributeNS(null,"fill",this._color);const L=C.createNS("http://www.w3.org/2000/svg","path");L.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),T.appendChild(L);const D=C.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"opacity","0.25"),D.setAttributeNS(null,"fill","#000000");const V=C.createNS("http://www.w3.org/2000/svg","path");V.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),D.appendChild(V);const te=C.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"transform","translate(6.0, 7.0)"),te.setAttributeNS(null,"fill","#FFFFFF");const Q=C.createNS("http://www.w3.org/2000/svg","g");Q.setAttributeNS(null,"transform","translate(8.0, 8.0)");const oe=C.createNS("http://www.w3.org/2000/svg","circle");oe.setAttributeNS(null,"fill","#000000"),oe.setAttributeNS(null,"opacity","0.25"),oe.setAttributeNS(null,"cx","5.5"),oe.setAttributeNS(null,"cy","5.5"),oe.setAttributeNS(null,"r","5.4999962");const J=C.createNS("http://www.w3.org/2000/svg","circle");J.setAttributeNS(null,"fill","#FFFFFF"),J.setAttributeNS(null,"cx","5.5"),J.setAttributeNS(null,"cy","5.5"),J.setAttributeNS(null,"r","5.4999962"),Q.appendChild(oe),Q.appendChild(J),w.appendChild(S),w.appendChild(T),w.appendChild(D),w.appendChild(te),w.appendChild(Q),c.appendChild(w),c.setAttributeNS(null,"height",h*this._scale+"px"),c.setAttributeNS(null,"width",m*this._scale+"px"),this._element.appendChild(c),this._offset=u.P.convert(r&&r.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",c=>{c.preventDefault()}),this._element.addEventListener("mousedown",c=>{c.preventDefault()}),Ph(this._element,this._anchor,"marker"),r&&r.className)for(const c of r.className.split(" "))this._element.classList.add(c);this._popup=null}addTo(r){return this.remove(),this._map=r,r.getCanvasContainer().appendChild(this._element),r.on("move",this._update),r.on("moveend",this._update),r.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),C.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(r){return this._lngLat=u.L.convert(r),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(r){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),r){if(!("offset"in r.options)){const m=Math.abs(13.5)/Math.SQRT2;r.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[m,-1*(38.1-13.5+m)],"bottom-right":[-m,-1*(38.1-13.5+m)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=r,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const r=this._popup;return r?(r.isOpen()?r.remove():r.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(r){return this._offset=u.P.convert(r),this._update(),this}addClassName(r){this._element.classList.add(r)}removeClassName(r){this._element.classList.remove(r)}toggleClassName(r){return this._element.classList.toggle(r)}setDraggable(r){return this._draggable=!!r,this._map&&(r?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(r){return this._rotation=r||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(r){return this._rotationAlignment=r||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(r){return this._pitchAlignment=r&&r!=="auto"?r:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const Rn={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Tn=0,cs=!1;const sl={maxWidth:100,unit:"metric"};function ll(g,r,c){const h=c&&c.maxWidth||100,m=g._container.clientHeight/2,_=g.unproject([0,m]),w=g.unproject([h,m]),S=_.distanceTo(w);if(c&&c.unit==="imperial"){const k=3.2808*S;k>5280?Ea(r,h,k/5280,g._getUIString("ScaleControl.Miles")):Ea(r,h,k,g._getUIString("ScaleControl.Feet"))}else c&&c.unit==="nautical"?Ea(r,h,S/1852,g._getUIString("ScaleControl.NauticalMiles")):S>=1e3?Ea(r,h,S/1e3,g._getUIString("ScaleControl.Kilometers")):Ea(r,h,S,g._getUIString("ScaleControl.Meters"))}function Ea(g,r,c,h){const m=function(_){const w=Math.pow(10,`${Math.floor(_)}`.length-1);let S=_/w;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:S>=1?1:function(k){const T=Math.pow(10,Math.ceil(-Math.log(k)/Math.LN10));return Math.round(k*T)/T}(S),w*S}(c);g.style.width=r*(m/c)+"px",g.innerHTML=`${m}&nbsp;${h}`}const sc={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},lc=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function ds(g){if(g){if(typeof g=="number"){const r=Math.round(Math.abs(g)/Math.SQRT2);return{center:new u.P(0,0),top:new u.P(0,g),"top-left":new u.P(r,r),"top-right":new u.P(-r,r),bottom:new u.P(0,-g),"bottom-left":new u.P(r,-r),"bottom-right":new u.P(-r,-r),left:new u.P(g,0),right:new u.P(-g,0)}}if(g instanceof u.P||Array.isArray(g)){const r=u.P.convert(g);return{center:r,top:r,"top-left":r,"top-right":r,bottom:r,"bottom-left":r,"bottom-right":r,left:r,right:r}}return{center:u.P.convert(g.center||[0,0]),top:u.P.convert(g.top||[0,0]),"top-left":u.P.convert(g["top-left"]||[0,0]),"top-right":u.P.convert(g["top-right"]||[0,0]),bottom:u.P.convert(g.bottom||[0,0]),"bottom-left":u.P.convert(g["bottom-left"]||[0,0]),"bottom-right":u.P.convert(g["bottom-right"]||[0,0]),left:u.P.convert(g.left||[0,0]),right:u.P.convert(g.right||[0,0])}}return ds(new u.P(0,0))}const uc={extend:(g,...r)=>u.e(g,...r),run(g){g()},logToElement(g,r=!1,c="log"){const h=window.document.getElementById(c);h&&(r&&(h.innerHTML=""),h.innerHTML+=`<br>${g}`)}},cc=E;class tn{static get version(){return cc}static get workerCount(){return Ci.workerCount}static set workerCount(r){Ci.workerCount=r}static get maxParallelImageRequests(){return u.c.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(r){u.c.MAX_PARALLEL_IMAGE_REQUESTS=r}static get workerUrl(){return u.c.WORKER_URL}static set workerUrl(r){u.c.WORKER_URL=r}static addProtocol(r,c){u.c.REGISTERED_PROTOCOLS[r]=c}static removeProtocol(r){delete u.c.REGISTERED_PROTOCOLS[r]}}return tn.Map=class extends Mh{constructor(g){if(u.bf.mark(u.bg.create),(g=u.e({},Mt,g)).minZoom!=null&&g.maxZoom!=null&&g.minZoom>g.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(g.minPitch!=null&&g.maxPitch!=null&&g.minPitch>g.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(g.minPitch!=null&&g.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(g.maxPitch!=null&&g.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new h1(g.minZoom,g.maxZoom,g.minPitch,g.maxPitch,g.renderWorldCopies),{bearingSnap:g.bearingSnap}),this._cooperativeGesturesOnWheel=r=>{this._onCooperativeGesture(r,r[this._metaKey],1)},this._contextLost=r=>{r.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new u.k("webglcontextlost",{originalEvent:r}))},this._contextRestored=r=>{this._setupPainter(),this.resize(),this._update(),this.fire(new u.k("webglcontextrestored",{originalEvent:r}))},this._onMapScroll=r=>{if(r.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=g.interactive,this._cooperativeGestures=g.cooperativeGestures,this._metaKey=navigator.platform.indexOf("Mac")===0?"metaKey":"ctrlKey",this._maxTileCacheSize=g.maxTileCacheSize,this._maxTileCacheZoomLevels=g.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=g.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=g.preserveDrawingBuffer,this._antialias=g.antialias,this._trackResize=g.trackResize,this._bearingSnap=g.bearingSnap,this._refreshExpiredTiles=g.refreshExpiredTiles,this._fadeDuration=g.fadeDuration,this._crossSourceCollisions=g.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=g.collectResourceTiming,this._renderTaskQueue=new g1,this._controls=[],this._mapId=u.a2(),this._locale=u.e({},rc,g.locale),this._clickTolerance=g.clickTolerance,this._overridePixelRatio=g.pixelRatio,this._maxCanvasSize=g.maxCanvasSize,this.transformCameraUpdate=g.transformCameraUpdate,this._imageQueueHandle=ee.addThrottleControl(()=>this.isMoving()),this._requestManager=new B(g.transformRequest),typeof g.container=="string"){if(this._container=document.getElementById(g.container),!this._container)throw new Error(`Container '${g.container}' not found.`)}else{if(!(g.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=g.container}if(g.maxBounds&&this.setMaxBounds(g.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let r=!1;const c=Ca(h=>{this._trackResize&&!this._removed&&this.resize(h)._update()},50);this._resizeObserver=new ResizeObserver(h=>{r?c(h):r=!0}),this._resizeObserver.observe(this._container)}this.handlers=new nc(this,g),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=g.hash&&new tl(typeof g.hash=="string"&&g.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:g.center,zoom:g.zoom,bearing:g.bearing,pitch:g.pitch}),g.bounds&&(this.resize(),this.fitBounds(g.bounds,u.e({},g.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=g.localIdeographFontFamily,this._validateStyle=g.validateStyle,g.style&&this.setStyle(g.style,{localIdeographFontFamily:g.localIdeographFontFamily}),g.attributionControl&&this.addControl(new hi({customAttribution:g.customAttribution})),g.maplibreLogo&&this.addControl(new vn,g.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",r=>{this._update(r.dataType==="style"),this.fire(new u.k(`${r.dataType}data`,r))}),this.on("dataloading",r=>{this.fire(new u.k(`${r.dataType}dataloading`,r))}),this.on("dataabort",r=>{this.fire(new u.k("sourcedataabort",r))})}_getMapId(){return this._mapId}addControl(g,r){if(r===void 0&&(r=g.getDefaultPosition?g.getDefaultPosition():"top-right"),!g||!g.onAdd)return this.fire(new u.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const c=g.onAdd(this);this._controls.push(g);const h=this._controlPositions[r];return r.indexOf("bottom")!==-1?h.insertBefore(c,h.firstChild):h.appendChild(c),this}removeControl(g){if(!g||!g.onRemove)return this.fire(new u.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const r=this._controls.indexOf(g);return r>-1&&this._controls.splice(r,1),g.onRemove(this),this}hasControl(g){return this._controls.indexOf(g)>-1}calculateCameraOptionsFromTo(g,r,c,h){return h==null&&this.terrain&&(h=this.terrain.getElevationForLngLatZoom(c,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(g,r,c,h)}resize(g){var r;const c=this._containerDimensions(),h=c[0],m=c[1],_=this._getClampedPixelRatio(h,m);if(this._resizeCanvas(h,m,_),this.painter.resize(h,m,_),this.painter.overLimit()){const S=this.painter.context.gl;this._maxCanvasSize=[S.drawingBufferWidth,S.drawingBufferHeight];const k=this._getClampedPixelRatio(h,m);this._resizeCanvas(h,m,k),this.painter.resize(h,m,k)}this.transform.resize(h,m),(r=this._requestedCameraState)===null||r===void 0||r.resize(h,m);const w=!this._moving;return w&&(this.stop(),this.fire(new u.k("movestart",g)).fire(new u.k("move",g))),this.fire(new u.k("resize",g)),w&&this.fire(new u.k("moveend",g)),this}_getClampedPixelRatio(g,r){const{0:c,1:h}=this._maxCanvasSize,m=this.getPixelRatio(),_=g*m,w=r*m;return Math.min(_>c?c/_:1,w>h?h/w:1)*m}getPixelRatio(){var g;return(g=this._overridePixelRatio)!==null&&g!==void 0?g:devicePixelRatio}setPixelRatio(g){this._overridePixelRatio=g,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(g){return this.transform.setMaxBounds(ut.convert(g)),this._update()}setMinZoom(g){if((g=g??-2)>=-2&&g<=this.transform.maxZoom)return this.transform.minZoom=g,this._update(),this.getZoom()<g&&this.setZoom(g),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(g){if((g=g??22)>=this.transform.minZoom)return this.transform.maxZoom=g,this._update(),this.getZoom()>g&&this.setZoom(g),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(g){if((g=g??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(g>=0&&g<=this.transform.maxPitch)return this.transform.minPitch=g,this._update(),this.getPitch()<g&&this.setPitch(g),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(g){if((g=g??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(g>=this.transform.minPitch)return this.transform.maxPitch=g,this._update(),this.getPitch()>g&&this.setPitch(g),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(g){return this.transform.renderWorldCopies=g,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(g){return this._cooperativeGestures=g,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(g){return this.transform.locationPoint(u.L.convert(g),this.style&&this.terrain)}unproject(g){return this.transform.pointLocation(u.P.convert(g),this.terrain)}isMoving(){var g;return this._moving||((g=this.handlers)===null||g===void 0?void 0:g.isMoving())}isZooming(){var g;return this._zooming||((g=this.handlers)===null||g===void 0?void 0:g.isZooming())}isRotating(){var g;return this._rotating||((g=this.handlers)===null||g===void 0?void 0:g.isRotating())}_createDelegatedListener(g,r,c){if(g==="mouseenter"||g==="mouseover"){let h=!1;return{layer:r,listener:c,delegates:{mousemove:_=>{const w=this.getLayer(r)?this.queryRenderedFeatures(_.point,{layers:[r]}):[];w.length?h||(h=!0,c.call(this,new di(g,this,_.originalEvent,{features:w}))):h=!1},mouseout:()=>{h=!1}}}}if(g==="mouseleave"||g==="mouseout"){let h=!1;return{layer:r,listener:c,delegates:{mousemove:w=>{(this.getLayer(r)?this.queryRenderedFeatures(w.point,{layers:[r]}):[]).length?h=!0:h&&(h=!1,c.call(this,new di(g,this,w.originalEvent)))},mouseout:w=>{h&&(h=!1,c.call(this,new di(g,this,w.originalEvent)))}}}}{const h=m=>{const _=this.getLayer(r)?this.queryRenderedFeatures(m.point,{layers:[r]}):[];_.length&&(m.features=_,c.call(this,m),delete m.features)};return{layer:r,listener:c,delegates:{[g]:h}}}}on(g,r,c){if(c===void 0)return super.on(g,r);const h=this._createDelegatedListener(g,r,c);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[g]=this._delegatedListeners[g]||[],this._delegatedListeners[g].push(h);for(const m in h.delegates)this.on(m,h.delegates[m]);return this}once(g,r,c){if(c===void 0)return super.once(g,r);const h=this._createDelegatedListener(g,r,c);for(const m in h.delegates)this.once(m,h.delegates[m]);return this}off(g,r,c){return c===void 0?super.off(g,r):(this._delegatedListeners&&this._delegatedListeners[g]&&(h=>{const m=this._delegatedListeners[g];for(let _=0;_<m.length;_++){const w=m[_];if(w.layer===r&&w.listener===c){for(const S in w.delegates)this.off(S,w.delegates[S]);return m.splice(_,1),this}}})(),this)}queryRenderedFeatures(g,r){if(!this.style)return[];let c;const h=g instanceof u.P||Array.isArray(g),m=h?g:[[0,0],[this.transform.width,this.transform.height]];if(r=r||(h?{}:g)||{},m instanceof u.P||typeof m[0]=="number")c=[u.P.convert(m)];else{const _=u.P.convert(m[0]),w=u.P.convert(m[1]);c=[_,new u.P(w.x,_.y),w,new u.P(_.x,w.y),_]}return this.style.queryRenderedFeatures(c,r,this.transform)}querySourceFeatures(g,r){return this.style.querySourceFeatures(g,r)}setStyle(g,r){return(r=u.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},r)).diff!==!1&&r.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&g?(this._diffStyle(g,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._updateStyle(g,r))}setTransformRequest(g){return this._requestManager.setTransformRequest(g),this}_getUIString(g){const r=this._locale[g];if(r==null)throw new Error(`Missing UI string '${g}'`);return r}_updateStyle(g,r){if(r.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(g,r));const c=this.style&&r.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!g)),g?(this.style=new vr(this,r||{}),this.style.setEventedParent(this,{style:this.style}),typeof g=="string"?this.style.loadURL(g,r,c):this.style.loadJSON(g,r,c),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new vr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(g,r){if(typeof g=="string"){const c=this._requestManager.transformRequest(g,O.Style);u.f(c,(h,m)=>{h?this.fire(new u.j(h)):m&&this._updateDiff(m,r)})}else typeof g=="object"&&this._updateDiff(g,r)}_updateDiff(g,r){try{this.style.setState(g,r)&&this._update(!0)}catch(c){u.w(`Unable to perform style diff: ${c.message||c.error||c}.  Rebuilding the style from scratch.`),this._updateStyle(g,r)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():u.w("There is no style added to the map.")}addSource(g,r){return this._lazyInitEmptyStyle(),this.style.addSource(g,r),this._update(!0)}isSourceLoaded(g){const r=this.style&&this.style.sourceCaches[g];if(r!==void 0)return r.loaded();this.fire(new u.j(new Error(`There is no source with ID '${g}'`)))}setTerrain(g){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),g){const r=this.style.sourceCaches[g.source];if(!r)throw new Error(`cannot load terrain, because there exists no source with ID: ${g.source}`);for(const c in this.style._layers){const h=this.style._layers[c];h.type==="hillshade"&&h.source===g.source&&u.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Ah(this.painter,r,g),this.painter.renderToTexture=new y1(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=c=>{c.dataType==="style"?this.terrain.sourceCache.freeRtt():c.dataType==="source"&&c.tile&&(c.sourceId!==g.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(c.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new u.k("terrain",{terrain:g})),this}getTerrain(){var g,r;return(r=(g=this.terrain)===null||g===void 0?void 0:g.options)!==null&&r!==void 0?r:null}areTilesLoaded(){const g=this.style&&this.style.sourceCaches;for(const r in g){const c=g[r]._tiles;for(const h in c){const m=c[h];if(m.state!=="loaded"&&m.state!=="errored")return!1}}return!0}addSourceType(g,r,c){return this._lazyInitEmptyStyle(),this.style.addSourceType(g,r,c)}removeSource(g){return this.style.removeSource(g),this._update(!0)}getSource(g){return this.style.getSource(g)}addImage(g,r,c={}){const{pixelRatio:h=1,sdf:m=!1,stretchX:_,stretchY:w,content:S}=c;if(this._lazyInitEmptyStyle(),!(r instanceof HTMLImageElement||u.a(r))){if(r.width===void 0||r.height===void 0)return this.fire(new u.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:k,height:T,data:L}=r,D=r;return this.style.addImage(g,{data:new u.R({width:k,height:T},new Uint8Array(L)),pixelRatio:h,stretchX:_,stretchY:w,content:S,sdf:m,version:0,userImage:D}),D.onAdd&&D.onAdd(this,g),this}}{const{width:k,height:T,data:L}=u.h.getImageData(r);this.style.addImage(g,{data:new u.R({width:k,height:T},L),pixelRatio:h,stretchX:_,stretchY:w,content:S,sdf:m,version:0})}}updateImage(g,r){const c=this.style.getImage(g);if(!c)return this.fire(new u.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const h=r instanceof HTMLImageElement||u.a(r)?u.h.getImageData(r):r,{width:m,height:_,data:w}=h;if(m===void 0||_===void 0)return this.fire(new u.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(m!==c.data.width||_!==c.data.height)return this.fire(new u.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const S=!(r instanceof HTMLImageElement||u.a(r));return c.data.replace(w,S),this.style.updateImage(g,c),this}getImage(g){return this.style.getImage(g)}hasImage(g){return g?!!this.style.getImage(g):(this.fire(new u.j(new Error("Missing required image id"))),!1)}removeImage(g){this.style.removeImage(g)}loadImage(g,r){ee.getImage(this._requestManager.transformRequest(g,O.Image),r)}listImages(){return this.style.listImages()}addLayer(g,r){return this._lazyInitEmptyStyle(),this.style.addLayer(g,r),this._update(!0)}moveLayer(g,r){return this.style.moveLayer(g,r),this._update(!0)}removeLayer(g){return this.style.removeLayer(g),this._update(!0)}getLayer(g){return this.style.getLayer(g)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(g,r,c){return this.style.setLayerZoomRange(g,r,c),this._update(!0)}setFilter(g,r,c={}){return this.style.setFilter(g,r,c),this._update(!0)}getFilter(g){return this.style.getFilter(g)}setPaintProperty(g,r,c,h={}){return this.style.setPaintProperty(g,r,c,h),this._update(!0)}getPaintProperty(g,r){return this.style.getPaintProperty(g,r)}setLayoutProperty(g,r,c,h={}){return this.style.setLayoutProperty(g,r,c,h),this._update(!0)}getLayoutProperty(g,r){return this.style.getLayoutProperty(g,r)}setGlyphs(g,r={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(g,r),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(g,r,c={}){return this._lazyInitEmptyStyle(),this.style.addSprite(g,r,c,h=>{h||this._update(!0)}),this}removeSprite(g){return this._lazyInitEmptyStyle(),this.style.removeSprite(g),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(g,r={}){return this._lazyInitEmptyStyle(),this.style.setSprite(g,r,c=>{c||this._update(!0)}),this}setLight(g,r={}){return this._lazyInitEmptyStyle(),this.style.setLight(g,r),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(g,r){return this.style.setFeatureState(g,r),this._update()}removeFeatureState(g,r){return this.style.removeFeatureState(g,r),this._update()}getFeatureState(g){return this.style.getFeatureState(g)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let g=0,r=0;return this._container&&(g=this._container.clientWidth||400,r=this._container.clientHeight||300),[g,r]}_setupContainer(){const g=this._container;g.classList.add("maplibregl-map");const r=this._canvasContainer=C.create("div","maplibregl-canvas-container",g);this._interactive&&r.classList.add("maplibregl-interactive"),this._canvas=C.create("canvas","maplibregl-canvas",r),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const c=this._containerDimensions(),h=this._getClampedPixelRatio(c[0],c[1]);this._resizeCanvas(c[0],c[1],h);const m=this._controlContainer=C.create("div","maplibregl-control-container",g),_=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(w=>{_[w]=C.create("div",`maplibregl-ctrl-${w} `,m)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=C.create("div","maplibregl-cooperative-gesture-screen",this._container);let g=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(g=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use  + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${g}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){C.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(g,r,c){this._canvas.width=Math.floor(c*g),this._canvas.height=Math.floor(c*r),this._canvas.style.width=`${g}px`,this._canvas.style.height=`${r}px`}_setupPainter(){const g={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let r=null;this._canvas.addEventListener("webglcontextcreationerror",h=>{r={requestedAttributes:g},h&&(r.statusMessage=h.statusMessage,r.type=h.type)},{once:!0});const c=this._canvas.getContext("webgl2",g)||this._canvas.getContext("webgl",g);if(!c){const h="Failed to initialize WebGL";throw r?(r.message=h,new Error(JSON.stringify(r))):new Error(h)}this.painter=new Sa(c,this.transform),P.testSupport(c)}_onCooperativeGesture(g,r,c){return!r&&c<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(g){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||g,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(g){return this._update(),this._renderTaskQueue.add(g)}_cancelRenderFrame(g){this._renderTaskQueue.remove(g)}_render(g){const r=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(g),this._removed)return;let c=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const m=this.transform.zoom,_=u.h.now();this.style.zoomHistory.update(m,_);const w=new u.a8(m,{now:_,fadeDuration:r,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),S=w.crossFadingFactor();S===1&&S===this._crossFadingFactor||(c=!0,this._crossFadingFactor=S),this.style.update(w)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,r,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:r,showPadding:this.showPadding}),this.fire(new u.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,u.bf.mark(u.bg.load),this.fire(new u.k("load"))),this.style&&(this.style.hasTransitions()||c)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const h=this._sourcesDirty||this._styleDirty||this._placementDirty;return h||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new u.k("idle")),!this._loaded||this._fullyLoaded||h||(this._fullyLoaded=!0,u.bf.mark(u.bg.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var g;this._hash&&this._hash.remove();for(const c of this._controls)c.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),ee.removeThrottleControl(this._imageQueueHandle),(g=this._resizeObserver)===null||g===void 0||g.disconnect();const r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),C.remove(this._canvasContainer),C.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),u.bf.clearMetrics(),this._removed=!0,this.fire(new u.k("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=u.h.frame(g=>{u.bf.frame(g),this._frame=null,this._render(g)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(g){this._showTileBoundaries!==g&&(this._showTileBoundaries=g,this._update())}get showPadding(){return!!this._showPadding}set showPadding(g){this._showPadding!==g&&(this._showPadding=g,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(g){this._showCollisionBoxes!==g&&(this._showCollisionBoxes=g,g?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(g){this._showOverdrawInspector!==g&&(this._showOverdrawInspector=g,this._update())}get repaint(){return!!this._repaint}set repaint(g){this._repaint!==g&&(this._repaint=g,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(g){this._vertices=g,this._update()}get version(){return _t}getCameraTargetElevation(){return this.transform.elevation}},tn.NavigationControl=class{constructor(g){this._updateZoomButtons=()=>{const r=this._map.getZoom(),c=r===this._map.getMaxZoom(),h=r===this._map.getMinZoom();this._zoomInButton.disabled=c,this._zoomOutButton.disabled=h,this._zoomInButton.setAttribute("aria-disabled",c.toString()),this._zoomOutButton.setAttribute("aria-disabled",h.toString())},this._rotateCompassArrow=()=>{const r=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=r},this._setButtonTitle=(r,c)=>{const h=this._map._getUIString(`NavigationControl.${c}`);r.title=h,r.setAttribute("aria-label",h)},this.options=u.e({},ic,g),this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",r=>r.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",r=>this._map.zoomIn({},{originalEvent:r})),C.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",r=>this._map.zoomOut({},{originalEvent:r})),C.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",r=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:r}):this._map.resetNorth({},{originalEvent:r})}),this._compassIcon=C.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(g){return this._map=g,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new oc(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){C.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(g,r){const c=C.create("button",g,this._container);return c.type="button",c.addEventListener("click",r),c}},tn.GeolocateControl=class extends u.E{constructor(g){super(),this._onSuccess=r=>{if(this._map){if(this._isOutOfMapMaxBounds(r))return this._setErrorState(),this.fire(new u.k("outofmaxbounds",r)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=r,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(r),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(r),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new u.k("geolocate",r)),this._finish()}},this._updateCamera=r=>{const c=new u.L(r.coords.longitude,r.coords.latitude),h=r.coords.accuracy,m=this._map.getBearing(),_=u.e({bearing:m},this.options.fitBoundsOptions),w=ut.fromLngLat(c,h);this._map.fitBounds(w,_,{geolocateSource:!0})},this._updateMarker=r=>{if(r){const c=new u.L(r.coords.longitude,r.coords.latitude);this._accuracyCircleMarker.setLngLat(c).addTo(this._map),this._userLocationDotMarker.setLngLat(c).addTo(this._map),this._accuracy=r.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=r=>{if(this._map){if(this.options.trackUserLocation)if(r.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(r.code===3&&cs)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new u.k("error",r)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=r=>{if(this._map){if(this._container.addEventListener("contextmenu",c=>c.preventDefault()),this._geolocateButton=C.create("button","maplibregl-ctrl-geolocate",this._container),C.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",r===!1){u.w("Geolocation support is not available so the GeolocateControl will be disabled.");const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c)}else{const c=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=C.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Ma({element:this._dotElement}),this._circleElement=C.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ma({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",c=>{c.geolocateSource||this._watchState!=="ACTIVE_LOCK"||c.originalEvent&&c.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new u.k("trackuserlocationend")))})}},this.options=u.e({},Rn,g)}onAdd(g){return this._map=g,this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(r,c=!1){Wn===void 0||c?window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(h=>{Wn=h.state!=="denied",r(Wn)}).catch(()=>{Wn=!!window.navigator.geolocation,r(Wn)}):(Wn=!!window.navigator.geolocation,r(Wn)):r(Wn)}(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),C.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Tn=0,cs=!1}_isOutOfMapMaxBounds(g){const r=this._map.getMaxBounds(),c=g.coords;return r&&(c.longitude<r.getWest()||c.longitude>r.getEast()||c.latitude<r.getSouth()||c.latitude>r.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const g=this._map.getBounds(),r=g.getSouthEast(),c=g.getNorthEast(),h=r.distanceTo(c),m=Math.ceil(this._accuracy/(h/this._map._container.clientHeight)*2);this._circleElement.style.width=`${m}px`,this._circleElement.style.height=`${m}px`}trigger(){if(!this._setup)return u.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new u.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Tn--,cs=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new u.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new u.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let g;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Tn++,Tn>1?(g={maximumAge:6e5,timeout:0},cs=!0):(g=this.options.positionOptions,cs=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,g)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},tn.AttributionControl=hi,tn.LogoControl=vn,tn.ScaleControl=class{constructor(g){this._onMove=()=>{ll(this._map,this._container,this.options)},this.setUnit=r=>{this.options.unit=r,ll(this._map,this._container,this.options)},this.options=u.e({},sl,g)}getDefaultPosition(){return"bottom-left"}onAdd(g){return this._map=g,this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-scale",g.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){C.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},tn.FullscreenControl=class extends u.E{constructor(g={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,g&&g.container&&(g.container instanceof HTMLElement?this._container=g.container:u.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(g){return this._map=g,this._container||(this._container=this._map.getContainer()),this._controlContainer=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){C.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const g=this._fullscreenButton=C.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);C.create("span","maplibregl-ctrl-icon",g).setAttribute("aria-hidden","true"),g.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const g=this._getTitle();this._fullscreenButton.setAttribute("aria-label",g),this._fullscreenButton.title=g}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new u.k("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new u.k("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},tn.TerrainControl=class{constructor(g){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=g}onAdd(g){return this._map=g,this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=C.create("button","maplibregl-ctrl-terrain",this._container),C.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){C.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},tn.Popup=class extends u.E{constructor(g){super(),this.remove=()=>(this._content&&C.remove(this._content),this._container&&(C.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new u.k("close")),this),this._onMouseUp=r=>{this._update(r.point)},this._onMouseMove=r=>{this._update(r.point)},this._onDrag=r=>{this._update(r.point)},this._update=r=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=C.create("div","maplibregl-popup",this._map.getContainer()),this._tip=C.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const w of this.options.className.split(" "))this._container.classList.add(w);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=ac(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!r)return;const c=this._pos=this._trackPointer&&r?r:this._map.project(this._lngLat);let h=this.options.anchor;const m=ds(this.options.offset);if(!h){const w=this._container.offsetWidth,S=this._container.offsetHeight;let k;k=c.y+m.bottom.y<S?["top"]:c.y>this._map.transform.height-S?["bottom"]:[],c.x<w/2?k.push("left"):c.x>this._map.transform.width-w/2&&k.push("right"),h=k.length===0?"bottom":k.join("-")}const _=c.add(m[h]).round();C.setTransform(this._container,`${Di[h]} translate(${_.x}px,${_.y}px)`),Ph(this._container,h,"popup")},this._onClose=()=>{this.remove()},this.options=u.e(Object.create(sc),g)}addTo(g){return this._map&&this.remove(),this._map=g,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new u.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(g){return this._lngLat=u.L.convert(g),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(g){return this.setDOMContent(document.createTextNode(g))}setHTML(g){const r=document.createDocumentFragment(),c=document.createElement("body");let h;for(c.innerHTML=g;h=c.firstChild,h;)r.appendChild(h);return this.setDOMContent(r)}getMaxWidth(){var g;return(g=this._container)===null||g===void 0?void 0:g.style.maxWidth}setMaxWidth(g){return this.options.maxWidth=g,this._update(),this}setDOMContent(g){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=C.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(g),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(g){this._container&&this._container.classList.add(g)}removeClassName(g){this._container&&this._container.classList.remove(g)}setOffset(g){return this.options.offset=g,this._update(),this}toggleClassName(g){if(this._container)return this._container.classList.toggle(g)}_createCloseButton(){this.options.closeButton&&(this._closeButton=C.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const g=this._container.querySelector(lc);g&&g.focus()}},tn.Marker=Ma,tn.Style=vr,tn.LngLat=u.L,tn.LngLatBounds=ut,tn.Point=u.P,tn.MercatorCoordinate=u.U,tn.Evented=u.E,tn.AJAXError=u.bh,tn.config=u.c,tn.CanvasSource=Mr,tn.GeoJSONSource=er,tn.ImageSource=Nn,tn.RasterDEMTileSource=ln,tn.RasterTileSource=qt,tn.VectorTileSource=Xt,tn.VideoSource=nr,tn.setRTLTextPlugin=u.bi,tn.getRTLTextPluginStatus=u.bj,tn.prewarm=function(){Ya().acquire(Zt)},tn.clearPrewarmedResources=function(){const g=Vi;g&&(g.isPreloaded()&&g.numActive()===1?(g.release(Zt),Vi=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},uc.extend(tn,{isSafari:u.ac,getPerformanceMetrics:u.bf.getPerformanceMetrics}),tn});var y=l;return y})})(s_);var Nk=s_.exports;const Ok=R4(Nk),Bk="FeatureCollection",$k="buildings",jk={type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},Vk=[{type:"Feature",properties:{fid:20156,osm_id:"77649044",id:2,"Current Name (DE)":"Katholische Pfarrkirche St. Anna","Current Name (Eng)":"Catholic parish church of St. Anna","Previous Name":null,Address:"St.-Anna-Strae 21A, 80538 Mnchen","Starting year":1887,"Completion year/Opening year":"1892","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:"Brick building, https://www.erzbistum-muenchen.de/pfarrei/st-anna-muenchen/cont/64345",Website:"https://www.pfarrei-st-anna.de/startseite.html","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/pfarrkirche-st-anna","Wikipedia page":"https://de.wikipedia.org/wiki/St._Anna_im_Lehel","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gabriel von Seidls",Status:null,AddressM:"St.-Anna-Strae 21A, 80538 Mnchen, Munich",Latitude:48.1403308,Longitude:11.5872645,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5878303,48.1403221],[11.5878472,48.1403122],[11.5878584,48.1402996],[11.5878661,48.1402776],[11.5877887,48.1402506],[11.5877567,48.1402725],[11.5877404,48.1402694],[11.5877406,48.14026],[11.5877378,48.1402542],[11.5877296,48.1402489],[11.5876882,48.1402419],[11.5876852,48.1402508],[11.5876748,48.1402492],[11.5876668,48.1402349],[11.5876578,48.1402276],[11.5876441,48.1402225],[11.5876275,48.1402204],[11.5876115,48.1402219],[11.5875971,48.1402261],[11.5875829,48.1402347],[11.5875479,48.1402298],[11.5875377,48.1402627],[11.587351,48.1402368],[11.5872762,48.1402264],[11.5871818,48.1402133],[11.5871214,48.1402049],[11.5871281,48.1401812],[11.5870934,48.1401762],[11.587076,48.1401544],[11.587037,48.1401497],[11.5870095,48.1401642],[11.5869769,48.1401595],[11.5869551,48.1402414],[11.5868742,48.1403744],[11.5869139,48.1403895],[11.5869074,48.1404064],[11.5869415,48.1404114],[11.5869501,48.1404269],[11.5869908,48.1404324],[11.5870118,48.1404218],[11.5870551,48.1404282],[11.5870619,48.140405],[11.5874772,48.1404629],[11.5874679,48.1404923],[11.5874968,48.1404964],[11.587503,48.1405096],[11.5875142,48.1405195],[11.5875288,48.1405259],[11.5875432,48.1405285],[11.5875587,48.1405275],[11.587571,48.140524],[11.5875801,48.1405193],[11.5875919,48.1405094],[11.5876331,48.1405157],[11.5876499,48.1405115],[11.5876655,48.1405041],[11.5876748,48.1404966],[11.5876837,48.1404855],[11.5877062,48.1404876],[11.5877253,48.1404879],[11.5877493,48.1404867],[11.5877726,48.1404823],[11.5877907,48.1404773],[11.5878079,48.140471],[11.5878237,48.1404613],[11.5878393,48.1404499],[11.5878505,48.1404378],[11.5878597,48.1404236],[11.5878664,48.1404091],[11.5878697,48.14039],[11.5878687,48.1403766],[11.5878636,48.1403602],[11.5878554,48.1403472],[11.5878457,48.140335],[11.5878303,48.1403221]]]]}},{type:"Feature",properties:{fid:446,osm_id:"4270033",id:3,"Current Name (DE)":"Bayerisches Nationalmuseum","Current Name (Eng)":"Bavarian National Museum","Previous Name":null,Address:"Prinzregentenstrae 3","Starting year":null,"Completion year/Opening year":"1855","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:null,Website:"https://www.bayerisches-nationalmuseum.de/en/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/museen/bayerisches-nationalmuseum","Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gabriel von Seidl",Status:null,AddressM:"Prinzregentenstrae 3, Munich",Latitude:48.1429764,Longitude:11.5909426,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5895521,48.1432091],[11.5896512,48.1431887],[11.5897167,48.1433328],[11.589702,48.1433589],[11.5897295,48.1434252],[11.5896822,48.1434486],[11.5896689,48.143474],[11.5896729,48.1434975],[11.5896954,48.1435209],[11.5897246,48.1435328],[11.5897855,48.1435319],[11.5898127,48.1435936],[11.5898372,48.1436066],[11.5899284,48.1435903],[11.5899446,48.1435707],[11.5900928,48.1435392],[11.5901238,48.1436033],[11.5906219,48.1435012],[11.5906643,48.1435254],[11.5907628,48.1437429],[11.5916716,48.1435369],[11.5924374,48.1433638],[11.5923505,48.1432297],[11.5923831,48.1432189],[11.5923234,48.143118],[11.5922863,48.1431277],[11.5921784,48.1429485],[11.5919465,48.1429958],[11.5919017,48.1429061],[11.5919162,48.1428819],[11.5919107,48.142856],[11.591881,48.1428452],[11.5922468,48.1427681],[11.5921328,48.142503],[11.5919251,48.1425513],[11.5920025,48.142729],[11.5915989,48.1428144],[11.5916765,48.1429853],[11.5916429,48.1430057],[11.5916257,48.143025],[11.5916338,48.1430438],[11.5915705,48.1430534],[11.5915533,48.1430486],[11.5915243,48.143048],[11.591509,48.1430595],[11.5915072,48.1430806],[11.5914447,48.1430951],[11.5914311,48.14308],[11.5913986,48.1430703],[11.5913651,48.143077],[11.5913434,48.1430981],[11.5913352,48.1431192],[11.5911965,48.1431484],[11.5911398,48.143025],[11.5911805,48.1430063],[11.5911832,48.1429743],[11.5911597,48.1429532],[11.5911208,48.1429441],[11.591035,48.1429634],[11.5910212,48.1429323],[11.5909462,48.1429486],[11.5908713,48.1429649],[11.5908895,48.1430054],[11.5908647,48.1430124],[11.5908556,48.1430166],[11.5908131,48.143016],[11.5907914,48.1430299],[11.5907887,48.1430534],[11.5908122,48.1430727],[11.5908538,48.1430715],[11.5908837,48.1430564],[11.590936,48.1431622],[11.590901,48.1431691],[11.5909425,48.1432636],[11.5903481,48.1433831],[11.5902879,48.1432516],[11.5902863,48.1431995],[11.5902488,48.1431799],[11.5901918,48.1431821],[11.5901576,48.1432147],[11.5900615,48.1432364],[11.5900257,48.1432223],[11.5899752,48.1432212],[11.5899394,48.1432484],[11.5899378,48.1432777],[11.5899713,48.1433074],[11.5898742,48.1433264],[11.5898385,48.143333],[11.5897971,48.1433141],[11.5896801,48.1430738],[11.5896594,48.1430679],[11.5896349,48.1430727],[11.5896223,48.1430812],[11.5896178,48.1430921],[11.5895097,48.1431161],[11.5894775,48.1430454],[11.589328,48.1430757],[11.589347,48.1431173],[11.5892237,48.1431424],[11.5890983,48.1431678],[11.5890794,48.1431263],[11.5889242,48.1431578],[11.5889459,48.1432054],[11.588891,48.1432166],[11.5889246,48.1432902],[11.5889807,48.1432788],[11.5890049,48.1433318],[11.5890186,48.143329],[11.5891597,48.1433004],[11.5891532,48.1432862],[11.5893952,48.143237],[11.5894031,48.1432544],[11.5895584,48.1432229],[11.5895521,48.1432091]],[[11.5917489,48.143441],[11.5916474,48.1432214],[11.5917777,48.1431924],[11.5918121,48.1432105],[11.5918537,48.143202],[11.5918809,48.1431779],[11.5919388,48.1431622],[11.5919605,48.1431803],[11.5919877,48.14319],[11.5920058,48.1431924],[11.5921107,48.1433542],[11.5920564,48.1433699],[11.5920365,48.1433651],[11.5920175,48.1433678],[11.5920073,48.1433747],[11.5919951,48.1433879],[11.5917489,48.143441]],[[11.5909525,48.1436162],[11.5908891,48.1434689],[11.5914357,48.1433578],[11.5915045,48.1434931],[11.5909525,48.1436162]],[[11.5899105,48.1435007],[11.5900562,48.1434714],[11.590011,48.1433712],[11.5898653,48.1434005],[11.5899105,48.1435007]]]]}},{type:"Feature",properties:{fid:443,osm_id:"4192267",id:4,"Current Name (DE)":"Archologische Staatssammlung","Current Name (Eng)":"Bavarian State Archaeological Collection","Previous Name":"State Prehistoric Collection",Address:"Lerchenfeldstrae 2","Starting year":null,"Completion year/Opening year":"1885","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:"1976",Moved:null,Type:"building",Function:"art and culture",Description:null,Website:"http://www.archaeologie-bayern.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/museen/archaeologische-staatssammlung","Wikipedia page":null,"Owner/Initiator/Commissioned by":"Johannes Ranke (1885), Hans-Jrg Kellner (1976)","Architect/Artist/Author":"Helmut von Werz, Johann-Christoph Ottow, Erhard Bachmann and Michel Marx (1976)",Status:null,AddressM:"Lerchenfeldstrae 2, Munich",Latitude:48.1441432,Longitude:11.5915101,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5917597,48.1443342],[11.5917186,48.1443435],[11.5913742,48.1444188],[11.5913,48.1442678],[11.5912705,48.1442094],[11.5910953,48.1442488],[11.591044,48.1441471],[11.5910853,48.1441379],[11.5910762,48.14412],[11.5909249,48.144154],[11.5908683,48.144042],[11.5908125,48.1440546],[11.5907606,48.1439517],[11.5909294,48.1439137],[11.5909014,48.1438582],[11.5910517,48.1438244],[11.5911063,48.1439326],[11.5911963,48.1439123],[11.5912474,48.1440133],[11.5914003,48.1439789],[11.5914168,48.1440116],[11.5915783,48.1439753],[11.5917597,48.1443342]],[[11.5914849,48.1442591],[11.5914489,48.1441833],[11.5914996,48.1441726],[11.5915356,48.1442484],[11.5914849,48.1442591]]]]}},{type:"Feature",properties:{fid:66488,osm_id:"130469169",id:5,"Current Name (DE)":"Haus der Kunst","Current Name (Eng)":"House of Art","Previous Name":null,Address:"Prinzregentenstrae 1, 80538 Mnchen","Starting year":1933,"Completion year/Opening year":"1937","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:null,Website:"https://hausderkunst.de/en","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Haus_der_Kunst","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Paul Ludwig Troost",Status:null,AddressM:"Prinzregentenstrae 1, 80538 Mnchen, Munich",Latitude:48.1453678,Longitude:11.58586,Period:5},geometry:{type:"MultiPolygon",coordinates:[[[[11.585808,48.1454046],[11.5859126,48.145426],[11.5859162,48.1454181],[11.5859244,48.1454198],[11.5859312,48.1454047],[11.5859596,48.1454105],[11.585971,48.1453856],[11.5859933,48.1453369],[11.5858359,48.1453047],[11.5858203,48.1453389],[11.5857935,48.1453334],[11.5857701,48.1453848],[11.585813,48.1453936],[11.585808,48.1454046]]]]}},{type:"Feature",properties:{fid:1641,osm_id:"25503951",id:6,"Current Name (DE)":"Prinz-Carl-Palais","Current Name (Eng)":"Prince Carl Palace","Previous Name":null,Address:"Franz-Josef-Strau-Ring 5, 80539 Mnchen","Starting year":1804,"Completion year/Opening year":"1806","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"palace",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Prinz-Carl-Palais_(Mnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Karl von Fischer",Status:null,AddressM:"Franz-Josef-Strau-Ring 5, 80539 Mnchen, Munich",Latitude:48.1442146,Longitude:11.5830924,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5827655,48.1441094],[11.5829361,48.1440718],[11.582999,48.1440579],[11.5829898,48.1440393],[11.5832359,48.1439849],[11.5832737,48.1440612],[11.583324,48.1440501],[11.5833574,48.1441175],[11.5833862,48.1441755],[11.5833212,48.1441899],[11.5833514,48.1442507],[11.5831087,48.1443043],[11.5830994,48.1442856],[11.5828839,48.1443332],[11.5828791,48.1443235],[11.5828532,48.1442714],[11.582805,48.144282],[11.5827546,48.1441805],[11.5827962,48.1441713],[11.5827655,48.1441094]]]]}},{type:"Feature",properties:{fid:9,osm_id:"20948",id:8,"Current Name (DE)":"Mnchner Residenz","Current Name (Eng)":"Munich Residence","Previous Name":"Neuveste",Address:"Residenzstrae 1, 80333 Mnchen","Starting year":null,"Completion year/Opening year":"1385","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":"1470, 1568-1571, 1586-1600, 1612-1617 (...) 1826-1835",Rebuilt:null,Moved:null,Type:"building",Function:"palace",Description:"Built around the historical Neuveste palace. Is the largest city palace in Germany. ",Website:"www.residenz-muenchen.de","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/museen/residenz","Wikipedia page":"https://de.wikipedia.org/wiki/M%C3%BCnchner_Residenz","Owner/Initiator/Commissioned by":"Township of Munich (1385), Ludwig I (1826-1835)","Architect/Artist/Author":"Leo von Klenze (1826-1835)",Status:null,AddressM:"Residenzstrae 1, 80333 Mnchen, Munich",Latitude:48.1414477,Longitude:11.5778316,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5801888,48.1405586],[11.5801252,48.1405709],[11.5797146,48.14065],[11.5796925,48.1406002],[11.5796578,48.1406069],[11.5796196,48.1406143],[11.5797285,48.1408685],[11.5797476,48.1408667],[11.5797729,48.1408642],[11.5802779,48.1407663],[11.580365,48.1409672],[11.5804332,48.1411249],[11.5804637,48.1411967],[11.5804711,48.1412137],[11.5804805,48.1412353],[11.5804854,48.1412464],[11.5805675,48.1414292],[11.5807829,48.1413856],[11.5807705,48.1413584],[11.5810202,48.1413102],[11.5810472,48.1413724],[11.5811294,48.141562],[11.5808844,48.1416098],[11.5808742,48.1415866],[11.5804017,48.1416793],[11.5800178,48.1417511],[11.5800259,48.1417745],[11.5798064,48.1418187],[11.5798347,48.1418836],[11.5795347,48.1419415],[11.5792307,48.1419979],[11.5792066,48.1419398],[11.5789883,48.1419797],[11.5789729,48.1419497],[11.5781073,48.1421236],[11.5781121,48.1421345],[11.5779918,48.1421597],[11.5779712,48.142164],[11.5778681,48.1421857],[11.5778327,48.1420155],[11.5777749,48.1417379],[11.577758,48.14167],[11.5777176,48.1414973],[11.5776624,48.141261],[11.5775796,48.1408764],[11.5775582,48.1407772],[11.5774898,48.1404716],[11.5778603,48.1403933],[11.5784545,48.1402679],[11.5790754,48.1401478],[11.579155,48.1403396],[11.5793453,48.1403044],[11.5794308,48.1402886],[11.5800475,48.1401747],[11.5800965,48.1403404],[11.5801363,48.1404337],[11.5801888,48.1405586]],[[11.5789032,48.1417958],[11.5781659,48.1419472],[11.578045,48.1416739],[11.5779178,48.1414125],[11.5783047,48.1413397],[11.5786601,48.1412672],[11.57878,48.1415276],[11.5789032,48.1417958]],[[11.5777511,48.1408404],[11.5777085,48.1407511],[11.5776707,48.1406489],[11.5779485,48.140591],[11.5784828,48.1404797],[11.5785306,48.1405785],[11.5785718,48.1406693],[11.5784227,48.1407037],[11.5783989,48.1407092],[11.5777511,48.1408404]],[[11.5778232,48.1411931],[11.5785441,48.1410397],[11.5785674,48.1410354],[11.5785832,48.1410739],[11.5786134,48.1411409],[11.5782472,48.1412136],[11.5778432,48.1412946],[11.5778308,48.1412306],[11.5778232,48.1411931]],[[11.5790561,48.1417506],[11.5789404,48.1414973],[11.5788257,48.1412629],[11.5788507,48.1412575],[11.5788724,48.1412528],[11.5790014,48.1412319],[11.579859,48.1410621],[11.5801161,48.1410123],[11.5802237,48.1412651],[11.5802336,48.141288],[11.5803202,48.1414842],[11.5797088,48.141612],[11.5792026,48.1417171],[11.5791208,48.1417341],[11.5790684,48.1417441],[11.5790561,48.1417506]],[[11.5789278,48.1411585],[11.5788081,48.1411046],[11.5787744,48.141034],[11.5787544,48.1409919],[11.5791785,48.140478],[11.5792789,48.1404562],[11.579357,48.1404392],[11.5794236,48.1404636],[11.5794894,48.1404876],[11.5795143,48.1405526],[11.5795353,48.1406072],[11.5791127,48.1411232],[11.5789738,48.14115],[11.5789278,48.1411585]],[[11.5786238,48.1407643],[11.5786606,48.140865],[11.5787644,48.1407342],[11.5786238,48.1407643]],[[11.578688,48.1406611],[11.5788256,48.1406309],[11.5790129,48.1403692],[11.5788013,48.1404133],[11.5788089,48.1404311],[11.5787124,48.140453],[11.5787284,48.1404865],[11.5787697,48.1404781],[11.5787879,48.1405198],[11.5788031,48.1405545],[11.5787561,48.1405638],[11.5787729,48.1406025],[11.5786707,48.1406236],[11.578688,48.1406611]],[[11.578553,48.1410025],[11.5784762,48.1408379],[11.5784477,48.1408437],[11.5780839,48.1409179],[11.5781595,48.1410828],[11.5785255,48.1410082],[11.578553,48.1410025]]]]}},{type:"Feature",properties:{fid:1044,osm_id:"23458583",id:11,"Current Name (DE)":"Bayerische Staatsoper","Current Name (Eng)":"Bavarian State Opera","Previous Name":null,Address:"Max-Joseph-Platz 2","Starting year":null,"Completion year/Opening year":"1818","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":"1925",Rebuilt:"1825, 1963",Moved:null,Type:"building",Function:"theatre",Description:null,Website:"https://www.staatsoper.de/","Muenchen.de":null,"Wikipedia page":"https://en.wikipedia.org/wiki/National_Theatre_(Munich)","Owner/Initiator/Commissioned by":"King Maximilian I of Bavaria","Architect/Artist/Author":"Karl von Fischer (1818), Leo von Klenze (1825), Gerhard Moritz Graubner (1963)",Status:null,AddressM:"Max-Joseph-Platz 2, Munich",Latitude:48.1394402,Longitude:11.5797847,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5789856,48.1399313],[11.5789247,48.1399434],[11.5788879,48.1398565],[11.5787977,48.1398735],[11.5787298,48.1397131],[11.578665,48.1395598],[11.5787538,48.139543],[11.5787153,48.1394521],[11.5801536,48.139181],[11.5803616,48.1396726],[11.5802945,48.1396852],[11.5793353,48.1398666],[11.5789856,48.1399313]]]]}},{type:"Feature",properties:{fid:150042,osm_id:"366512581",id:13,"Current Name (DE)":"Salvatorgarage","Current Name (Eng)":null,"Previous Name":null,Address:"Salvatorplatz 3, 80333 Mnchen","Starting year":1964,"Completion year/Opening year":"1965","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"garage",Description:null,Website:"https://www.archdaily.com/312122/salvartor-car-park-peter-haimerel-architektur","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Salvatorgarage","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Peter Haimerel Architektur",Status:null,AddressM:"Salvatorplatz 3, 80333 Mnchen, Munich",Latitude:48.141908,Longitude:11.5744683,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5744612,48.1421282],[11.5745078,48.1421346],[11.5745823,48.1421263],[11.5746257,48.1421182],[11.5744489,48.1416951],[11.5744185,48.1417008],[11.5744142,48.1416905],[11.5744086,48.1416769],[11.5743393,48.1416898],[11.5743106,48.1416952],[11.5742836,48.1417002],[11.5744612,48.1421282]]]]}},{type:"Feature",properties:{fid:25535,osm_id:"91268699",id:14,"Current Name (DE)":"143 Fnf Hfe","Current Name (Eng)":"Five Courtyards for the Munich City Centre","Previous Name":null,Address:"Theatinerstrae 15, 80333 Mnchen","Starting year":1999,"Completion year/Opening year":"2003","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"shopping mall",Description:"https://www.herzogdemeuron.com/projects/143-funf-hofe-five-courtyards-for-the-munich-city-centre/",Website:"https://fuenfhoefe.de/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/F%C3%BCnf_H%C3%B6fe","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Herzog & de Meuron",Status:null,AddressM:"Theatinerstrae 15, 80333 Mnchen, Munich",Latitude:48.1409094,Longitude:11.5764595,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.576181,48.1411523],[11.5765482,48.1410618],[11.576506,48.1409774],[11.5764168,48.1407968],[11.5761966,48.1408467],[11.5762467,48.1409509],[11.5762508,48.1409594],[11.5761036,48.1409977],[11.5761032,48.1410236],[11.576181,48.1411523]]]]}},{type:"Feature",properties:{fid:73,osm_id:"147095",id:16,"Current Name (DE)":"Neues Rathaus","Current Name (Eng)":"New Town Hall","Previous Name":null,Address:"Marienplatz 8, 80331 Mnchen","Starting year":null,"Completion year/Opening year":"1857","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"administrative",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Neues_Rathaus_(Mnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Georg von Hauberrisser",Status:null,AddressM:"Marienplatz 8, 80331 Mnchen, Munich",Latitude:48.1372385,Longitude:11.5761905,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5754195,48.1383103],[11.5755887,48.1382736],[11.5760474,48.1381731],[11.5763261,48.1381123],[11.5764367,48.1380877],[11.5767122,48.1380245],[11.5767133,48.1380265],[11.5768539,48.1379937],[11.5767854,48.1378921],[11.5767707,48.1378951],[11.5766284,48.1376742],[11.5766075,48.1376331],[11.5765727,48.137641],[11.5764491,48.1374166],[11.5764181,48.1373579],[11.5763704,48.1372674],[11.5762951,48.1372851],[11.5762278,48.1373009],[11.5761605,48.1373167],[11.5761353,48.1373226],[11.57611,48.1373286],[11.5760849,48.1373345],[11.5760596,48.1373404],[11.5760344,48.1373463],[11.5760091,48.1373522],[11.5759838,48.1373582],[11.5759582,48.1373631],[11.5758903,48.1373777],[11.5758224,48.1373923],[11.5757554,48.1374067],[11.5756911,48.1374206],[11.5756278,48.1374342],[11.5755644,48.1374478],[11.5755606,48.1374397],[11.5755656,48.1374371],[11.5755666,48.137432],[11.575562,48.1374281],[11.5755544,48.1374274],[11.5755483,48.1374305],[11.5755475,48.1374349],[11.5754791,48.1374492],[11.5754099,48.1374635],[11.5754051,48.1374593],[11.5753975,48.1374587],[11.5753915,48.1374618],[11.5753906,48.1374669],[11.5753954,48.137471],[11.5754032,48.1374714],[11.5754083,48.1374818],[11.5753391,48.1374964],[11.5751316,48.1375401],[11.575137,48.137557],[11.5751334,48.1375602],[11.5751214,48.1375551],[11.5751075,48.1375572],[11.5750997,48.137566],[11.5751028,48.1375744],[11.5751148,48.1375796],[11.5751196,48.1375922],[11.5751353,48.1376335],[11.5751646,48.1377104],[11.5752195,48.1378545],[11.575241,48.1379109],[11.5752698,48.1379865],[11.5753037,48.1380755],[11.5754195,48.1383103]],[[11.5761988,48.137533],[11.5763387,48.1375019],[11.5763121,48.1374487],[11.576173,48.1374814],[11.5761988,48.137533]],[[11.5762764,48.138018],[11.5763903,48.1379924],[11.5765672,48.1379523],[11.5765482,48.1379149],[11.5765618,48.1379118],[11.5766046,48.1379021],[11.5765872,48.1378679],[11.576354,48.1379176],[11.5762437,48.1379403],[11.5762764,48.138018]],[[11.5761037,48.1378752],[11.5761834,48.1378588],[11.5763096,48.137829],[11.5764775,48.1377906],[11.5764639,48.1377638],[11.5764983,48.1377559],[11.5764478,48.1376568],[11.5760054,48.137758],[11.5760532,48.137861],[11.5760933,48.1378527],[11.5761037,48.1378752]],[[11.5753937,48.1376517],[11.5753762,48.1376773],[11.575423,48.1377854],[11.5754723,48.137778],[11.5755203,48.137801],[11.5755319,48.1378333],[11.5755047,48.1378667],[11.5754561,48.1378748],[11.5754781,48.1379449],[11.5754862,48.1379706],[11.5755516,48.1379568],[11.5755469,48.1379468],[11.5757893,48.1378955],[11.5757924,48.1379089],[11.5758986,48.137887],[11.5758611,48.1378061],[11.575816,48.1378155],[11.5758087,48.1378002],[11.5757268,48.1376398],[11.5757598,48.1376314],[11.5757425,48.1376008],[11.5756418,48.1376262],[11.5756287,48.1376013],[11.5755567,48.1376167],[11.5753937,48.1376517]],[[11.5760016,48.1380698],[11.5759694,48.1380019],[11.5758781,48.1380212],[11.5759116,48.1380918],[11.5760016,48.1380698]],[[11.575862,48.1376088],[11.5759435,48.1375902],[11.5759863,48.1375804],[11.5759702,48.137549],[11.5760197,48.1375377],[11.5760362,48.1375698],[11.5761126,48.1375524],[11.5760866,48.1375017],[11.5758362,48.1375604],[11.575862,48.1376088]]]]}},{type:"Feature",properties:{fid:162461,osm_id:"858537733",id:20,"Current Name (DE)":"BEYOND","Current Name (Eng)":"BEYOND","Previous Name":null,Address:"Marienplatz 22","Starting year":null,"Completion year/Opening year":"2017","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"hotel",Description:"luxury hotel",Website:"https://www.beyond-muc.de/","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":"Geisel","Architect/Artist/Author":"Jung Schalksmhle",Status:null,AddressM:"Marienplatz 22, Munich",Latitude:48.1368649,Longitude:11.5752684,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5753462,48.1366348],[11.5753511,48.1366387],[11.5754923,48.1367641],[11.5755181,48.1367901],[11.5755844,48.1368569],[11.5756248,48.1369071],[11.5753195,48.1370081],[11.5751035,48.1367961],[11.5752079,48.1367596],[11.5751614,48.1367186],[11.575159,48.1367151],[11.5753462,48.1366348]]]]}},{type:"Feature",properties:{fid:22043,osm_id:"80965569",id:21,"Current Name (DE)":"Munich Frauenkirche","Current Name (Eng)":"Cathedral of Our Dear Lady","Previous Name":null,Address:"Frauenplatz 12, 80331 Mnchen","Starting year":1468,"Completion year/Opening year":"1525","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/int/en/sights/churches/cathedral-church-of-our-lady.html","Wikipedia page":"https://de.wikipedia.org/wiki/Frauenkirche_(Mnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Jrg von Halsbach",Status:null,AddressM:"Frauenplatz 12, 80331 Mnchen, Munich",Latitude:48.1388456,Longitude:11.5744983,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5746462,48.1388908],[11.5746369,48.138857],[11.5746231,48.1388139],[11.5743108,48.1388432],[11.5743142,48.1389118],[11.5743566,48.1389115],[11.5745138,48.138895],[11.5745176,48.1389336],[11.5746332,48.1389231],[11.5746279,48.1388931],[11.5746462,48.1388908]]]]}},{type:"Feature",properties:{fid:1764,osm_id:"26558561",id:22,"Current Name (DE)":"Landgericht Mnchen I - Abteilung fr Zivilsachen","Current Name (Eng)":"Munich Regional Court I - Civil Division","Previous Name":null,Address:"Lenbachpl. 7, 80333 Mnchen","Starting year":null,"Completion year/Opening year":"1897","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"administrative",Description:null,Website:"https://www.justiz.bayern.de/gerichte-und-behoerden/landgericht/muenchen-1/historie.php","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich von Thiersch",Status:null,AddressM:"Lenbachpl. 7, 80333 Mnchen, Munich",Latitude:48.1405799,Longitude:11.5689894,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5687767,48.1407078],[11.569241,48.1406326],[11.5692172,48.1405655],[11.5691582,48.140405],[11.5686938,48.1404802],[11.5687352,48.1405928],[11.5687767,48.1407078]]]]}},{type:"Feature",properties:{fid:6874,osm_id:"36943165",id:23,"Current Name (DE)":"Jesuitenkirche St. Michael","Current Name (Eng)":"St. Michael's Church","Previous Name":null,Address:"Neuhauser Str. 6, 80333 Mnchen","Starting year":1583,"Completion year/Opening year":"1597","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/St._Michael_(Mnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich Sustris + Wendel Dietrich",Status:null,AddressM:"Neuhauser Str. 6, 80333 Mnchen, Munich",Latitude:48.1389018,Longitude:11.5703979,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5706937,48.139331],[11.5707075,48.1393267],[11.5707677,48.1392605],[11.5707516,48.1391864],[11.5707912,48.1391779],[11.5707302,48.1390579],[11.5706097,48.1388207],[11.570463,48.1385321],[11.5702538,48.1385797],[11.5700235,48.1386322],[11.5700985,48.1387773],[11.5702292,48.1390325],[11.5702841,48.1391368],[11.5703567,48.1392861],[11.5704144,48.1392725],[11.5704582,48.1393319],[11.5705747,48.1393584],[11.5706937,48.139331]]]]}},{type:"Feature",properties:{fid:118565,osm_id:"242652749",id:24,"Current Name (DE)":"Joseph Pschorr Haus","Current Name (Eng)":"Joseph Pschorr House","Previous Name":null,Address:"Neuhauser Str. 19, 80331 Mnchen","Starting year":null,"Completion year/Opening year":"2013","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"commerce",Description:null,Website:"https://www.archdaily.com/590984/joseph-pschorr-house-kuehn-malvezzi","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Kuehn Malvezzi",Status:null,AddressM:"Neuhauser Str. 19, 80331 Mnchen, Munich",Latitude:48.13832,Longitude:11.56985,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5692564,48.137821],[11.5692784,48.1379083],[11.5693943,48.1383479],[11.5695477,48.1383416],[11.569753,48.1383331],[11.5699346,48.138324],[11.5701415,48.1383031],[11.5701069,48.1381359],[11.5700859,48.1380821],[11.5699952,48.1378503],[11.569964,48.1377675],[11.5699267,48.137675],[11.5692564,48.137821]]]]}},{type:"Feature",properties:{fid:288,osm_id:"1665185",id:25,"Current Name (DE)":"Sendlinger Tor","Current Name (Eng)":"Sendling Gate","Previous Name":null,Address:"Sendlinger-Tor-Platz 1, 80336 Mnchen","Starting year":null,"Completion year/Opening year":"1318","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":"1420, 1860, 1906",Rebuilt:null,Moved:null,Type:"building",Function:"gates",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/int/en/sights/attractions/sendlinger-tor.html","Wikipedia page":"https://de.wikipedia.org/wiki/Sendlinger_Tor","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Arnold Zenetti(1860),  Wilhelm Bertsch (1906)",Status:null,AddressM:"Sendlinger-Tor-Platz 1, 80336 Mnchen, Munich",Latitude:48.1332271,Longitude:11.5674429,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5674921,48.1335113],[11.5677979,48.1330316],[11.5678166,48.133004],[11.5678403,48.1329679],[11.5673306,48.1328236],[11.5669875,48.1333641],[11.567019,48.1333733],[11.5670443,48.1333807],[11.5674921,48.1335113]],[[11.5670228,48.1333463],[11.5670461,48.1333529],[11.5670838,48.1332949],[11.5670604,48.1332884],[11.5670228,48.1333463]],[[11.5674429,48.1329386],[11.5676568,48.1330001],[11.5675272,48.1332113],[11.5673134,48.1331498],[11.5674429,48.1329386]]]]}},{type:"Feature",properties:{fid:12780,osm_id:"47515468",id:26,"Current Name (DE)":"Asamkirche","Current Name (Eng)":"Asam Church","Previous Name":null,Address:"Sendlinger Strae 32","Starting year":1733,"Completion year/Opening year":"1746","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church dedicated to St. John of Nepomuk",Description:"https://www.atlasobscura.com/places/asamkirche",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/asamkirche","Wikipedia page":null,"Owner/Initiator/Commissioned by":"Egid Quirin Asam, Cosmas Damian Asam","Architect/Artist/Author":" sculptor Egid Quirin Asam and painter Cosmas Damian Asam",Status:null,AddressM:"Sendlinger Strae 32, Munich",Latitude:48.1352163,Longitude:11.569583,Period:2},geometry:{type:"MultiPolygon",coordinates:[[[[11.5697162,48.135127],[11.5695545,48.135258],[11.5694662,48.135319],[11.5694268,48.1353213],[11.5694015,48.135342],[11.5693964,48.1353377],[11.5693239,48.1352767],[11.5693941,48.1352334],[11.5694705,48.1351871],[11.5696026,48.1350807],[11.5697162,48.135127]]]]}},{type:"Feature",properties:{fid:1103,osm_id:"24164434",id:28,"Current Name (DE)":"Jdisches Museum Mnchen","Current Name (Eng)":"Jewish Museum Munich","Previous Name":null,Address:"Sankt-Jakobs-Platz 16, 80331 Mnchen","Starting year":2004,"Completion year/Opening year":"2007","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Jdisches_Museum_Mnchen","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Rena Wandel-Hoefer and Wolfgang Lorch",Status:null,AddressM:"Sankt-Jakobs-Platz 16, 80331 Mnchen, Munich",Latitude:48.1343467,Longitude:11.5722831,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5721492,48.1344368],[11.5720815,48.1342976],[11.5724597,48.1342156],[11.5725275,48.1343547],[11.5721492,48.1344368]]]]}},{type:"Feature",properties:{fid:845,osm_id:"17952124",id:30,"Current Name (DE)":"Schrannenhalle Munich","Current Name (Eng)":null,"Previous Name":null,Address:"Blumenstrae 4, 80331 Mnchen","Starting year":null,"Completion year/Opening year":"2011","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"market",Description:null,Website:"https://www.archdaily.com/230287/schrannenhalle-munich-oliv-architekten-ingenieure","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Oliv Architekten Ingenieure",Status:null,AddressM:"Blumenstrae 4, 80331 Mnchen, Munich",Latitude:48.1345254,Longitude:11.5747727,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5739113,48.1341213],[11.5743282,48.1343832],[11.5748859,48.1347334],[11.5749274,48.1347595],[11.5749612,48.1347807],[11.5752066,48.1346067],[11.5751258,48.134556],[11.5745736,48.1342092],[11.5741567,48.1339473],[11.5739113,48.1341213]]]]}},{type:"Feature",properties:{fid:536,osm_id:"11701898",id:32,"Current Name (DE)":"Europisches Patentamt Mnchen","Current Name (Eng)":"European Patent Office in Munich","Previous Name":null,Address:"BobvanBenthemPlatz 1","Starting year":null,"Completion year/Opening year":"1980","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"patent office",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/bauwerke-und-denkmaeler/europaeisches-patentamt","Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"GMP Architekten von Gerkan, Marg und Partner",Status:null,AddressM:"BobvanBenthemPlatz 1, Munich",Latitude:48.1306193,Longitude:11.5803185,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5793592,48.1300342],[11.5797426,48.1298363],[11.5798271,48.1299092],[11.5799309,48.1299104],[11.5801177,48.1300797],[11.5800952,48.1300915],[11.5801153,48.1301086],[11.5801378,48.1300968],[11.580307,48.1301079],[11.580395,48.1301877],[11.5803932,48.1302013],[11.5804142,48.1302026],[11.580416,48.1301889],[11.580542,48.1302024],[11.5806644,48.1303134],[11.5806889,48.1303008],[11.5808253,48.1304229],[11.5805223,48.1305771],[11.5803857,48.1305648],[11.5803831,48.1305774],[11.5803764,48.1306102],[11.5803707,48.130638],[11.5803678,48.130652],[11.5806627,48.1306787],[11.5807793,48.1307792],[11.5808739,48.130735],[11.5811999,48.1307641],[11.5813509,48.1309036],[11.5813298,48.1310037],[11.5814104,48.1310759],[11.5805801,48.1314989],[11.5805686,48.1314884],[11.5804357,48.1314786],[11.5798241,48.1309393],[11.5798051,48.1309493],[11.5796673,48.1308305],[11.5800614,48.1306232],[11.5801899,48.1306357],[11.5801915,48.1306236],[11.5801975,48.1305954],[11.5802044,48.1305631],[11.5802062,48.1305495],[11.5799199,48.1305231],[11.5794096,48.1300777],[11.5793592,48.1300342]],[[11.5805767,48.1311802],[11.5803872,48.1310165],[11.5804877,48.1309647],[11.5806772,48.1311285],[11.5805767,48.1311802]]]]}},{type:"Feature",properties:{fid:49396,osm_id:"117275238",id:33,"Current Name (DE)":'Wohnbauensemble "Erhardt10"',"Current Name (Eng)":"Erhardt10 Apartments","Previous Name":null,Address:"Erhardtstrae 10","Starting year":null,"Completion year/Opening year":"2021","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"residential",Description:"https://thomaskroeger.net/de/erhardtstrasse/",Website:null,"Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":"private","Architect/Artist/Author":"Thomas Krger Architekt",Status:null,AddressM:"Erhardtstrae 10, Munich",Latitude:48.1291066,Longitude:11.5783822,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5784731,48.1290569],[11.5782871,48.1289836],[11.5782112,48.1290694],[11.5783972,48.1291427],[11.5784731,48.1290569]]]]}},{type:"Feature",properties:{fid:109055,osm_id:"231580441",id:34,"Current Name (DE)":"Katholische Pfarrkirche St. Maximilian","Current Name (Eng)":"Catholic parish church of  St. Maximilian","Previous Name":null,Address:"Deutingerstrae 4 / I, 80469 Mnchen","Starting year":1892,"Completion year/Opening year":"1908","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":"1953",Rebuilt:null,Moved:null,Type:"building",Function:"chirch",Description:null,Website:"https://life-globe.com/en/st-maximilian-munich/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/st-maximilian","Wikipedia page":"https://de.wikipedia.org/wiki/St._Maximilian_(Mnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Heinrich von Schmidt",Status:null,AddressM:"Deutingerstrae 4 / I, 80469 Mnchen, Munich",Latitude:48.1264968,Longitude:11.5729586,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5730959,48.1264964],[11.5729225,48.1264],[11.5727907,48.1265056],[11.572964,48.126602],[11.5730667,48.1265198],[11.5730959,48.1264964]]]]}},{type:"Feature",properties:{fid:1890,osm_id:"27567925",id:35,"Current Name (DE)":"Zentraler Omnibusbahnhof Mnchen","Current Name (Eng)":"Central bus station Munich","Previous Name":null,Address:"Arnulfstrae 21","Starting year":null,"Completion year/Opening year":"2009","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"bus station",Description:"https://www.auer-weber.de/projekte/details/zentraler-omnibusbahnhof-muenchen.html",Website:"https://www.muenchen-zob.de/de","Muenchen.de":"https://www.muenchen.de/verkehr/zob-zentraler-omnibusbahnhof","Wikipedia page":"https://de.wikipedia.org/wiki/Zentraler_Omnibusbahnhof_M%C3%BCnchen","Owner/Initiator/Commissioned by":"The city of Munich","Architect/Artist/Author":"Auer+Weber+Assoziierte",Status:null,AddressM:"Arnulfstrae 21, Munich",Latitude:48.142397,Longitude:11.5498154,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5489645,48.1421506],[11.549442,48.1421238],[11.5502072,48.1420792],[11.5507263,48.1420806],[11.5510374,48.142083],[11.55126,48.142389],[11.5509372,48.1424259],[11.550868,48.1424338],[11.5507577,48.1424435],[11.5501757,48.1424947],[11.5490323,48.1425663],[11.5490305,48.1425492],[11.5490276,48.1425322],[11.5490193,48.1424836],[11.54901,48.1424294],[11.5490045,48.142397],[11.5489995,48.1423699],[11.5489689,48.1421719],[11.5489645,48.1421506]]]]}},{type:"Feature",properties:{fid:5,osm_id:"14897",id:36,"Current Name (DE)":"Justizpalast","Current Name (Eng)":"Palace of Justice","Previous Name":null,Address:"Prielmayerstrae 7, 80335 Mnchen","Starting year":1891,"Completion year/Opening year":"1897","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"palace",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Justizpalast_(Mnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich von Thiersch",Status:null,AddressM:"Prielmayerstrae 7, 80335 Mnchen, Munich",Latitude:48.1407326,Longitude:11.5647681,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5640582,48.1410772],[11.5642222,48.1410265],[11.5641631,48.1409377],[11.564649,48.1407889],[11.564688,48.1408448],[11.5650626,48.1407303],[11.5650234,48.1406739],[11.5654544,48.1405412],[11.5655,48.1405272],[11.5655582,48.1406188],[11.5656059,48.1406045],[11.5656108,48.1406107],[11.5657124,48.1405795],[11.5657076,48.1405725],[11.565763,48.1405638],[11.5656134,48.1403388],[11.5656302,48.1403334],[11.565609,48.1403048],[11.5655987,48.1402916],[11.565611,48.1402737],[11.5656155,48.1402614],[11.5656171,48.140248],[11.5656132,48.1402278],[11.5656049,48.1402125],[11.5655907,48.1401972],[11.565576,48.1401867],[11.565555,48.1401765],[11.5655434,48.1401726],[11.5655159,48.1401669],[11.5655019,48.1401449],[11.5654863,48.1401203],[11.5654667,48.1401274],[11.5653152,48.1398998],[11.5652746,48.1399072],[11.56527,48.1399009],[11.5651486,48.1399365],[11.5651539,48.1399434],[11.56512,48.1399541],[11.5651806,48.1400425],[11.5647177,48.1401886],[11.5646976,48.1401611],[11.564685,48.1401578],[11.5646318,48.1401756],[11.5646248,48.1401698],[11.5645294,48.1401999],[11.5645257,48.1401949],[11.5644834,48.1402072],[11.5644368,48.1402209],[11.5644399,48.1402266],[11.5643572,48.1402514],[11.564362,48.1402583],[11.5643023,48.1402759],[11.5643228,48.1403069],[11.5638541,48.1404502],[11.5637987,48.1403606],[11.5636017,48.1404164],[11.5636175,48.1404393],[11.5640548,48.1410723],[11.5640582,48.1410772]],[[11.5639335,48.1405746],[11.5642533,48.1404779],[11.5644177,48.14072],[11.5640979,48.1408167],[11.5639335,48.1405746]],[[11.5651219,48.1405016],[11.564963,48.14027],[11.5652717,48.1401757],[11.5654306,48.1404072],[11.5651219,48.1405016]]]]}},{type:"Feature",properties:{fid:112198,osm_id:"237426208",id:38,"Current Name (DE)":"Lenbachhaus Museum","Current Name (Eng)":"Municipal art gallery of Munich","Previous Name":null,Address:"Luisenstrae 33, 80333 Mnchen","Starting year":1885,"Completion year/Opening year":"1888","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":"1924, 1992, 2009",Rebuilt:null,Moved:null,Type:"building",Function:"art gallery",Description:null,Website:"https://www.archdaily.com/370465/lenbachhaus-museum-foster-partners","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/museen/lenbachhaus-muenchen","Wikipedia page":"https://de.wikipedia.org/wiki/St%C3%A4dtische_Galerie_im_Lenbachhaus","Owner/Initiator/Commissioned by":"City of Munich","Architect/Artist/Author":"Foster + Partners (2009)",Status:null,AddressM:"Luisenstrae 33, 80333 Mnchen, Munich",Latitude:48.1472214,Longitude:11.563543,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5635502,48.1473119],[11.5637765,48.1472481],[11.5639076,48.1472117],[11.5643736,48.1470824],[11.564298,48.1469609],[11.563832,48.1470902],[11.5638493,48.147118],[11.5637768,48.1471381],[11.5637267,48.1470576],[11.5637552,48.1470501],[11.5636668,48.1469097],[11.5636265,48.1469189],[11.5636008,48.1468776],[11.5640807,48.1467451],[11.5640114,48.1466334],[11.5636063,48.1467452],[11.5636253,48.1467759],[11.5635958,48.1467843],[11.5635901,48.1467858],[11.5634436,48.1465581],[11.5631365,48.1466449],[11.5631467,48.1466613],[11.5635502,48.1473119]]]]}},{type:"Feature",properties:{fid:120016,osm_id:"244969498",id:39,"Current Name (DE)":"Propylen","Current Name (Eng)":"Propylaea","Previous Name":null,Address:"Luisenstrae 31, 80333 Mnchen","Starting year":null,"Completion year/Opening year":"1862","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"gates",Description:null,Website:"https://www.spottinghistory.com/view/5609/propylaea/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Propylen_(Mnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Leo von Klenze",Status:null,AddressM:"Luisenstrae 31, 80333 Mnchen, Munich",Latitude:48.1462642,Longitude:11.5643613,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5642215,48.1458096],[11.5642957,48.1459347],[11.5643623,48.145917],[11.5644903,48.1461326],[11.5644217,48.1461507],[11.564496,48.1462759],[11.5643056,48.1463262],[11.5642313,48.146201],[11.5641613,48.1462195],[11.5640972,48.1461115],[11.5640333,48.1460039],[11.5641046,48.1459851],[11.5640304,48.1458601],[11.5642215,48.1458096]]]]}},{type:"Feature",properties:{fid:135,osm_id:"532621",id:41,"Current Name (DE)":"Glyptothek","Current Name (Eng)":null,"Previous Name":null,Address:"Knigsplatz 3, 80333 Mnchen","Starting year":null,"Completion year/Opening year":"1830","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:"New Munich'",Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Glyptothek_(Mnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Leo von Klenze",Status:null,AddressM:"Knigsplatz 3, 80333 Mnchen, Munich",Latitude:48.1463432,Longitude:11.5657031,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5654977,48.1463317],[11.5652478,48.1464024],[11.5655998,48.1469569],[11.5659406,48.1468606],[11.565953,48.1468801],[11.5659679,48.1469036],[11.5660932,48.1468682],[11.5660783,48.1468447],[11.5660638,48.1468218],[11.5664078,48.1467246],[11.5660577,48.1461731],[11.5658004,48.1462458],[11.5657769,48.1462089],[11.5656252,48.1462517],[11.5654741,48.1462945],[11.5654977,48.1463317]],[[11.5656962,48.1467914],[11.5655008,48.1464837],[11.5655775,48.146462],[11.5655875,48.1464778],[11.5657409,48.1464344],[11.56589,48.1463923],[11.5658818,48.1463793],[11.5659544,48.1463588],[11.566148,48.1466637],[11.5659262,48.1467264],[11.5656962,48.1467914]]]]}},{type:"Feature",properties:{fid:137534,osm_id:"280336045",id:42,"Current Name (DE)":"NS-Dokumentationszentrum Mnchen","Current Name (Eng)":"Munich Documentation Centre for the History of National Socialism","Previous Name":null,Address:"Max-Mannheimer-Platz 1, 80333 Mnchen","Starting year":2012,"Completion year/Opening year":"2015","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:null,Website:"https://www.ns-dokuzentrum-muenchen.de/en/documentation-center/about-us/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/museen/ns-dokumentationszentrum-muenchen","Wikipedia page":"https://de.wikipedia.org/wiki/NS-Dokumentationszentrum_(Mnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Georg Scheel Wetzel Architekten",Status:null,AddressM:"Max-Mannheimer-Platz 1, 80333 Mnchen, Munich",Latitude:48.14546,Longitude:11.5672973,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5675162,48.1452986],[11.5675411,48.1453379],[11.5676268,48.1454733],[11.5678872,48.1453999],[11.5677766,48.1452252],[11.5675162,48.1452986]]]]}},{type:"Feature",properties:{fid:523,osm_id:"9593522",id:43,"Current Name (DE)":"Staatliches Museum gyptischer Kunst","Current Name (Eng)":"State Museum of Egyptian Art","Previous Name":null,Address:"Gabelsbergerstrae 35, 80333 Mnchen","Starting year":null,"Completion year/Opening year":"2013","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:null,Website:"https://smaek.de/en/ihr-besuch/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Staatliches_Museum_gyptischer_Kunst","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Peter Bhm",Status:null,AddressM:"Gabelsbergerstrae 35, 80333 Mnchen, Munich",Latitude:48.1473204,Longitude:11.5683829,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5693018,48.1471572],[11.5691274,48.1468756],[11.5691082,48.1468447],[11.5695297,48.1467249],[11.5696234,48.1466983],[11.569733,48.1466671],[11.5699896,48.1465942],[11.5698956,48.1464458],[11.5695815,48.1465309],[11.5693988,48.1463603],[11.5692697,48.1463975],[11.5693264,48.1466053],[11.5687848,48.1467548],[11.5686656,48.1465625],[11.5683589,48.146647],[11.5684781,48.1468394],[11.5680547,48.1469562],[11.5681537,48.147116],[11.568094,48.1471339],[11.5682875,48.147444],[11.5693018,48.1471572]],[[11.5686443,48.1471202],[11.5690964,48.1469943],[11.5690719,48.1469551],[11.5686198,48.147081],[11.5686443,48.1471202]]]]}},{type:"Feature",properties:{fid:490,osm_id:"6758375",id:44,"Current Name (DE)":"Cafe Vorhoelzer","Current Name (Eng)":"Vorhoelzer Coffee Shop","Previous Name":null,Address:"Arcisstrae 21","Starting year":null,"Completion year/Opening year":"2010","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"student caf",Description:"https://www.bundesstiftung-baukultur.de/foerderverein/netzwerk/akteure/detail/vorhoelzer-forum-der-fakultat-fur-architektur",Website:"https://www.arc.ed.tum.de/arc/forschung-innovation/einrichtungen/vorhoelzer-forum/","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":"TUM School of Engineering and Design","Architect/Artist/Author":null,Status:null,AddressM:"Arcisstrae 21, Munich",Latitude:48.1487175,Longitude:11.5684644,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5686123,48.1487338],[11.5686939,48.1488609],[11.5683457,48.1489604],[11.5683181,48.1489685],[11.5682516,48.1488653],[11.5681944,48.1487766],[11.5681412,48.1486941],[11.5680781,48.1485962],[11.568455,48.1484886],[11.5685301,48.1486057],[11.5685532,48.1485987],[11.5685993,48.1486684],[11.568638,48.1487269],[11.5686123,48.1487338]],[[11.568275,48.1488158],[11.5684231,48.1487738],[11.5683914,48.1487242],[11.56836,48.1486748],[11.5682119,48.1487168],[11.568242,48.148764],[11.568275,48.1488158]]]]}},{type:"Feature",properties:{fid:622,osm_id:"4647135",id:45,"Current Name (DE)":"Alte Pinakothek","Current Name (Eng)":"Old Pinakothek","Previous Name":null,Address:"Barer Str. 27","Starting year":null,"Completion year/Opening year":"1836","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:"19521957",Moved:null,Type:"building",Function:"museum",Description:"New Munich'",Website:"https://www.pinakothek.de/de/besuch/alte-pinakothek","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Alte_Pinakothek","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Leo von Klenze and Hans Dllgast",Status:null,AddressM:"Barer Str. 27, Munich",Latitude:48.1482625,Longitude:11.5699802,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5693571,48.1487141],[11.5693243,48.1486609],[11.569294,48.1486118],[11.5693219,48.1486041],[11.5699528,48.148431],[11.5700497,48.1484044],[11.5701733,48.1483705],[11.5707522,48.1482115],[11.5707856,48.1482023],[11.5708159,48.1482514],[11.570846,48.1483003],[11.5710408,48.1482468],[11.5709049,48.1480265],[11.5707688,48.1478059],[11.5705721,48.1478599],[11.5706361,48.1479636],[11.5699003,48.1481656],[11.5691499,48.1483716],[11.5690884,48.1482719],[11.5688875,48.1483271],[11.5691596,48.1487683],[11.5693571,48.1487141]]]]}},{type:"Feature",properties:{fid:272,osm_id:"1644123",id:47,"Current Name (DE)":"Neue Pinakothek","Current Name (Eng)":"New Pinacotheca","Previous Name":null,Address:"Barer Str. 29, 80799 Mnchen","Starting year":null,"Completion year/Opening year":"1825","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:"New Munich'",Website:"https://www.pinakothek.de/en/visit/neue-pinakothek","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Neue_Pinakothek","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Alexander von Branca",Status:null,AddressM:"Barer Str. 29, 80799 Mnchen, Munich",Latitude:48.1499867,Longitude:11.5708946,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5709145,48.1504364],[11.570917,48.1504404],[11.5711263,48.1503813],[11.5711236,48.1503771],[11.571104,48.1503462],[11.5715604,48.1502173],[11.5714227,48.1500003],[11.5714769,48.149985],[11.5717284,48.1499143],[11.5717723,48.1499838],[11.5719233,48.1499413],[11.5718649,48.1498489],[11.5720117,48.1498076],[11.5719671,48.149737],[11.5720176,48.1497228],[11.5719786,48.1496609],[11.5719253,48.1496759],[11.5718209,48.1495109],[11.5717381,48.1495342],[11.5716539,48.149401],[11.5715684,48.149425],[11.5715957,48.1494682],[11.5714093,48.1495206],[11.5713703,48.1495316],[11.5712364,48.1495693],[11.5712162,48.1495374],[11.5711807,48.1494813],[11.5710495,48.1495182],[11.5711241,48.1496362],[11.5710115,48.1496679],[11.5708732,48.1497069],[11.5707444,48.149504],[11.5705855,48.1495489],[11.5706059,48.149581],[11.5702743,48.1496747],[11.5703835,48.1498467],[11.5703285,48.1498622],[11.5703434,48.1498857],[11.569936,48.1500009],[11.5701116,48.1502774],[11.5702612,48.1502351],[11.5702929,48.150285],[11.5702102,48.1503084],[11.570318,48.1504783],[11.5707487,48.1503566],[11.5707731,48.150395],[11.5708177,48.1503824],[11.5708707,48.1503674],[11.5709145,48.1504364]],[[11.5701989,48.1500835],[11.5704669,48.1500082],[11.5705898,48.1502028],[11.5703262,48.1502768],[11.5702963,48.1502294],[11.5703577,48.1502121],[11.5703367,48.1501789],[11.5702708,48.1501974],[11.5701989,48.1500835]]]]}},{type:"Feature",properties:{fid:769,osm_id:"10053440",id:48,"Current Name (DE)":"Pinakothek der Moderne","Current Name (Eng)":"Pinakothek of the Modern","Previous Name":null,Address:"Barer Str. 40, 80333 Mnchen","Starting year":null,"Completion year/Opening year":"2002","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:null,Website:"https://www.pinakothek.de/en/visit/sammlung-moderne-kunst-der-pinakothek-der-moderne","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/pinakothek-der-moderne","Wikipedia page":"https://de.wikipedia.org/wiki/Pinakothek_der_Moderne","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Stephan Braunfels",Status:null,AddressM:"Barer Str. 40, 80333 Mnchen, Munich",Latitude:48.147128,Longitude:11.5722422,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5715094,48.1476889],[11.5719871,48.1475556],[11.5723911,48.1474404],[11.5732954,48.1471855],[11.5731101,48.1468927],[11.5729448,48.1466316],[11.5722803,48.1468189],[11.5711588,48.147135],[11.5715094,48.1476889]]]]}},{type:"Feature",properties:{fid:2217,osm_id:"28026817",id:50,"Current Name (DE)":"Museum Brandhorst","Current Name (Eng)":null,"Previous Name":null,Address:"Theresienstrae 35a, 80333 Mnchen","Starting year":null,"Completion year/Opening year":"2009","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:null,Website:`www.museum-brandhorst.de
https://www.sauerbruchhutton.de/en/project/sab`,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Museum_Brandhorst","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Sauerbruch Hutton",Status:null,AddressM:"Theresienstrae 35a, 80333 Mnchen, Munich",Latitude:48.1482083,Longitude:11.5741133,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5740169,48.1480853],[11.5738639,48.1478459],[11.5735887,48.1474154],[11.5736447,48.1474006],[11.5738126,48.1473532],[11.5742422,48.1480085],[11.5743603,48.1481487],[11.5741765,48.1482012],[11.5739369,48.1482697],[11.5738997,48.1481218],[11.5740169,48.1480853]]]]}},{type:"Feature",properties:{fid:1673,osm_id:"25507219",id:52,"Current Name (DE)":"Palais Ludwig Ferdinand","Current Name (Eng)":"Ludwig Ferdinand Palace","Previous Name":null,Address:"Wittelsbacherpl. 3-4, 80333 Mnchen","Starting year":null,"Completion year/Opening year":"1825","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"palace",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Palais_Ludwig_Ferdinand","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Leo von Klenze",Status:null,AddressM:"Wittelsbacherpl. 3-4, 80333 Mnchen, Munich",Latitude:48.1437117,Longitude:11.5760136,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5765458,48.143749],[11.5762735,48.1438052],[11.5759851,48.1438646],[11.5760006,48.1438981],[11.5760108,48.1439201],[11.5760489,48.1440024],[11.5762001,48.1439712],[11.5764484,48.1439201],[11.5765014,48.1440345],[11.5765981,48.1440145],[11.5766622,48.1440013],[11.5766375,48.143948],[11.576664,48.1439426],[11.5766299,48.1438691],[11.5765971,48.1437983],[11.576571,48.1438036],[11.5765458,48.143749]]]]}},{type:"Feature",properties:{fid:109245,osm_id:"231934090",id:53,"Current Name (DE)":"Textilmacher","Current Name (Eng)":null,"Previous Name":null,Address:"Lindberghstrae 7","Starting year":null,"Completion year/Opening year":"2013?2016","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"offices",Description:null,Website:"https://www.bda-bund.de/praemierte-architektur/kurt-tillich-produktions-buerogebaeude-die-textilmacher/","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Tillich Architektur",Status:null,AddressM:"Lindberghstrae 7, Munich",Latitude:48.1908203,Longitude:11.6003448,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.6003452,48.1909351],[11.6002707,48.1907048],[11.6004078,48.1906851],[11.6004823,48.1909154],[11.6003452,48.1909351]]]]}},{type:"Feature",properties:{fid:22651,osm_id:"83612906",id:54,"Current Name (DE)":"Ludwigpalais","Current Name (Eng)":null,"Previous Name":null,Address:"Ludwigstrae 8, 80539 Mnchen","Starting year":null,"Completion year/Opening year":"1825","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"office",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Ludwigstrae 8, 80539 Mnchen, Munich",Latitude:48.1456379,Longitude:11.5792439,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5797212,48.1457273],[11.5798366,48.1457005],[11.5798271,48.1456778],[11.5797775,48.1455701],[11.5796696,48.1455914],[11.5796456,48.1455346],[11.5796364,48.1455124],[11.5792345,48.1455905],[11.5793077,48.1457765],[11.5794947,48.1457415],[11.5794295,48.1455875],[11.5795656,48.1455585],[11.5796335,48.145725],[11.5797212,48.1457273]]]]}},{type:"Feature",properties:{fid:20,osm_id:"52412",id:55,"Current Name (DE)":"Bayerische Staatsbibliothek","Current Name (Eng)":"Bavarian state library","Previous Name":"Court Library",Address:"Ludwigstrae 16","Starting year":null,"Completion year/Opening year":"1558","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"library",Description:null,Website:"https://www.bsb-muenchen.de/en/","Muenchen.de":null,"Wikipedia page":"https://en.wikipedia.org/wiki/Bavarian_State_Library","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich von Gaertner",Status:null,AddressM:"Ludwigstrae 16, Munich",Latitude:48.1468606,Longitude:11.580282,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5809222,48.1468247],[11.5808872,48.1468311],[11.580785,48.1466302],[11.5803027,48.1467331],[11.5797866,48.1468432],[11.5801149,48.1475153],[11.5803915,48.1481295],[11.5809275,48.1480138],[11.5811617,48.1479633],[11.5811764,48.1479883],[11.5813985,48.1479427],[11.5810988,48.1473085],[11.5810266,48.1471557],[11.5810909,48.1471396],[11.5811017,48.1471665],[11.5819063,48.1469929],[11.5817252,48.1466413],[11.5809435,48.1468049],[11.5809502,48.1468192],[11.5809222,48.1468247]],[[11.5801177,48.1469723],[11.5802986,48.1473718],[11.580573,48.1473164],[11.5808285,48.1472649],[11.5806476,48.1468655],[11.5801177,48.1469723]],[[11.5810843,48.147816],[11.5809083,48.1474275],[11.5803786,48.1475342],[11.5805545,48.1479228],[11.580858,48.1478616],[11.5810843,48.147816]]]]}},{type:"Feature",properties:{fid:5909,osm_id:"34103841",id:56,"Current Name (DE)":"Ludwigskirche","Current Name (Eng)":"Catholic Parish and University Church St. Louis","Previous Name":null,Address:"Ludwigstrae 22, 80539 Mnchen","Starting year":1829,"Completion year/Opening year":"1844","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:null,Website:"https://www.munich.travel/en/pois/urban-districts/ludwigskirche","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/St._Ludwig_(Mnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich von Grtner",Status:null,AddressM:"Ludwigstrae 22, 80539 Mnchen, Munich",Latitude:48.1493293,Longitude:11.5811325,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5809587,48.1493008],[11.5810362,48.149284],[11.5810604,48.1492788],[11.5812574,48.1492364],[11.5812591,48.1492399],[11.5813238,48.1493737],[11.5813419,48.1494109],[11.5811643,48.1494492],[11.5810433,48.1494753],[11.5809587,48.1493008]]]]}},{type:"Feature",properties:{fid:856,osm_id:"17973243",id:57,"Current Name (DE)":"Ludwig-Maximilians-Universitt Mnchen","Current Name (Eng)":"Ludwig Maximilian University of Munich","Previous Name":null,Address:"Geschwister-Scholl-Platz 1, 80539 Mnchen","Starting year":null,"Completion year/Opening year":"1826","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"university",Description:null,Website:"https://www.lmu.de/en/newsroom/news-overview/news/tour-of-lmus-main-building.html","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Ludwig-Maximilians-Universitt_Mnchen","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"German Bestelmeyer",Status:null,AddressM:"Geschwister-Scholl-Platz 1, 80539 Mnchen, Munich",Latitude:48.1509185,Longitude:11.5798609,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5806127,48.1509452],[11.5805525,48.1509578],[11.5804675,48.1509756],[11.5804248,48.1508851],[11.5803619,48.1508983],[11.5802247,48.1509385],[11.5802007,48.1509441],[11.5801519,48.1509569],[11.5802162,48.1510608],[11.580177,48.1510719],[11.5796635,48.1512152],[11.5796029,48.1512346],[11.5794433,48.1512785],[11.5794119,48.1512874],[11.5792858,48.1510901],[11.5791607,48.1508942],[11.5793378,48.1508472],[11.5794159,48.1508262],[11.5799475,48.1506709],[11.5799707,48.1506638],[11.5800397,48.1507754],[11.5800968,48.150761],[11.5802712,48.1507108],[11.5803464,48.150695],[11.5802882,48.1505718],[11.5803674,48.1505551],[11.5804233,48.1505433],[11.5805281,48.1507656],[11.5806127,48.1509452]]]]}},{type:"Feature",properties:{fid:959,osm_id:"22727580",id:58,"Current Name (DE)":"Siegestor","Current Name (Eng)":"Victory Gate","Previous Name":null,Address:"80539 Munich","Starting year":null,"Completion year/Opening year":"1852","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"gates",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/int/en/sights/attractions/siegestor.html","Wikipedia page":"https://de.wikipedia.org/wiki/Siegestor","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Eduard Mezger",Status:null,AddressM:"80539 Munich, Munich",Latitude:48.1447027,Longitude:11.5821606,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5819684,48.1523404],[11.5820418,48.1523242],[11.5821179,48.1523073],[11.5821918,48.152291],[11.582269,48.1522739],[11.582312,48.1523602],[11.5822349,48.1523773],[11.5821689,48.1523919],[11.5821606,48.1523937],[11.5820861,48.1524102],[11.5820113,48.1524268],[11.5819684,48.1523404]]]]}},{type:"Feature",properties:{fid:92299,osm_id:"173135247",id:59,"Current Name (DE)":"Akademie der Bildenden Knste Mnchen","Current Name (Eng)":"Academy of Fine Arts","Previous Name":null,Address:"Akademiestrae 2-4, 80799 Mnchen","Starting year":null,"Completion year/Opening year":"1886","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"academic",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://en.wikipedia.org/wiki/Academy_of_Fine_Arts,_Munich","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gottfried Neureuther (1886) and Coop Himmelb(l)au (2005)",Status:null,AddressM:"Akademiestrae 2-4, 80799 Mnchen, Munich",Latitude:48.1531612,Longitude:11.5801885,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5813399,48.1526179],[11.5811375,48.1526586],[11.5812724,48.1529417],[11.5804965,48.1531062],[11.5804515,48.1530117],[11.5802424,48.1530561],[11.5800319,48.1531007],[11.5800782,48.1531978],[11.579364,48.1533492],[11.5792367,48.153082],[11.5789994,48.1531323],[11.5792042,48.153562],[11.5801556,48.1533602],[11.5802378,48.1535327],[11.5805789,48.1534604],[11.5806591,48.1534432],[11.5806036,48.1533309],[11.5805717,48.1532639],[11.5815473,48.153057],[11.5814863,48.1529289],[11.5813399,48.1526179]]]]}},{type:"Feature",properties:{fid:6715,osm_id:"35590645",id:62,"Current Name (DE)":"Stadtpfarrkirche St. Ursula","Current Name (Eng)":"Parish church of St. Ursula","Previous Name":null,Address:"Kaiserpl. 1, 80803 Mnchen","Starting year":1894,"Completion year/Opening year":"1897","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/St._Ursula_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"August Thiersch",Status:null,AddressM:"Kaiserpl. 1, 80803 Mnchen, Munich",Latitude:48.1611947,Longitude:11.580957,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5807959,48.1611576],[11.5809035,48.1611496],[11.5810091,48.1611419],[11.5810422,48.1613424],[11.5809645,48.1613481],[11.5809656,48.1613562],[11.5809441,48.1613762],[11.5809114,48.1613788],[11.5808873,48.1613619],[11.5808857,48.1613544],[11.5808294,48.1613589],[11.5808215,48.1613122],[11.580815,48.1612721],[11.5807959,48.1611576]]]]}},{type:"Feature",properties:{fid:150290,osm_id:"369270035",id:65,"Current Name (DE)":"Schwabinger Tor","Current Name (Eng)":"Schwabing Gate","Previous Name":null,Address:"Leopoldstrae 170, 80804 Mnchen","Starting year":2013,"Completion year/Opening year":"2017","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"hotel",Description:null,Website:"https://h-s-a.de/projekte/schwabinger_tor","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hilmer Sattler Architekten",Status:null,AddressM:"Leopoldstrae 170, 80804 Mnchen, Munich",Latitude:48.1720446,Longitude:11.5863278,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.586236,48.1725391],[11.586267,48.1721901],[11.586185,48.1721869],[11.5862376,48.1715959],[11.5866326,48.1716115],[11.5866013,48.1719636],[11.5866827,48.1719668],[11.5866304,48.1725547],[11.586236,48.1725391]]]]}},{type:"Feature",properties:{fid:147711,osm_id:"325929848",id:67,"Current Name (DE)":"Maximilianeum","Current Name (Eng)":null,"Previous Name":null,Address:"Max-Planck-Strae 1, 81675 Mnchen","Starting year":null,"Completion year/Opening year":"1854","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"palace",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Maximilianeum","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich Brklein, Gottfried Semper and Karl Kergl",Status:null,AddressM:"Max-Planck-Strae 1, 81675 Mnchen, Munich",Latitude:48.13613,Longitude:11.59419,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5942958,48.1370566],[11.5944009,48.1370362],[11.5943706,48.1369667],[11.594368,48.1369672],[11.5942798,48.1367641],[11.5945013,48.1367212],[11.5944245,48.1365445],[11.5946523,48.1365004],[11.5946945,48.1365974],[11.5947487,48.1367263],[11.5947888,48.1367191],[11.5952737,48.1366242],[11.5952883,48.136657],[11.5953032,48.1366374],[11.5953043,48.1366154],[11.5951654,48.1363021],[11.5950722,48.1364145],[11.5951143,48.136517],[11.5947326,48.13659],[11.5946905,48.136493],[11.5948135,48.1364692],[11.5947679,48.1363642],[11.594699,48.1362055],[11.594654,48.1361018],[11.5945328,48.1361253],[11.5944903,48.1360274],[11.5948718,48.1359487],[11.5949203,48.1360537],[11.5950819,48.136112],[11.5949408,48.135789],[11.594927,48.1357807],[11.594903,48.1357727],[11.5949158,48.1358045],[11.5943849,48.1359068],[11.5944445,48.1360362],[11.5944882,48.1361348],[11.5942818,48.1361739],[11.5942047,48.1359963],[11.5939693,48.1360419],[11.5938797,48.1358356],[11.5938856,48.1358344],[11.5938564,48.1357671],[11.5937508,48.1357876],[11.59378,48.1358548],[11.5937913,48.1358527],[11.5938809,48.136059],[11.5938582,48.1360634],[11.5938747,48.1361015],[11.5938562,48.1361051],[11.5938839,48.136169],[11.5938992,48.136166],[11.5939174,48.1362042],[11.5939519,48.1361978],[11.59404,48.136319],[11.5940252,48.1363218],[11.5940437,48.1363624],[11.5940244,48.1363661],[11.5940692,48.1364693],[11.5940841,48.1364665],[11.5941021,48.1365066],[11.5941187,48.1365034],[11.5941376,48.1366391],[11.5941065,48.1366443],[11.5941194,48.1366813],[11.5941,48.1366851],[11.5941288,48.1367514],[11.5941495,48.1367474],[11.5941663,48.136786],[11.5941892,48.1367816],[11.5942774,48.1369847],[11.5942656,48.136987],[11.5942958,48.1370566]]]]}},{type:"Feature",properties:{fid:149902,osm_id:"364535850",id:69,"Current Name (DE)":"Mllersches Volksbad (Hallenbad)","Current Name (Eng)":"Mllersches Public Baths","Previous Name":null,Address:"Rosenheimer Str. 1, 81667 Mnchen","Starting year":null,"Completion year/Opening year":"1901","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"swimming pool",Description:null,Website:"https://www.swm.de/baeder/schwimmen-sauna/muellersches-volksbad","Muenchen.de":"https://www.muenchen.de/freizeit/hallenbaeder/muellersches-volksbad","Wikipedia page":"https://de.wikipedia.org/wiki/Mllersches_Volksbad","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Carl Hocheder",Status:null,AddressM:"Rosenheimer Str. 1, 81667 Mnchen, Munich",Latitude:48.1325792,Longitude:11.5886695,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5886596,48.1326258],[11.5887897,48.1325855],[11.5887516,48.1325307],[11.5886215,48.132571],[11.5886596,48.1326258]]]]}},{type:"Feature",properties:{fid:393,osm_id:"3301702",id:70,"Current Name (DE)":"Gasteig","Current Name (Eng)":null,"Previous Name":null,Address:"Rosenheimer Str. 5, 81667 Mnchen","Starting year":null,"Completion year/Opening year":"1985","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"cultural center",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Gasteig","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Raue, Rollenhagen and Lindemann",Status:null,AddressM:"Rosenheimer Str. 5, 81667 Mnchen, Munich",Latitude:48.131652,Longitude:11.5914022,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5906897,48.1321489],[11.5907061,48.1321423],[11.5910351,48.132031],[11.5911959,48.1319714],[11.5916405,48.1318101],[11.5917231,48.1317761],[11.5917049,48.1317523],[11.5916727,48.1317111],[11.5918335,48.1316575],[11.5919419,48.1316214],[11.592087,48.131573],[11.5920575,48.1315406],[11.5920181,48.1314942],[11.5922197,48.1314284],[11.5921592,48.1313543],[11.5923543,48.1312798],[11.5920893,48.1309363],[11.5919728,48.1309757],[11.5919408,48.1309363],[11.5914269,48.1311123],[11.5914315,48.1311186],[11.5914471,48.1311394],[11.5914674,48.1311692],[11.5914522,48.1311733],[11.591508,48.1312451],[11.5912849,48.13132],[11.5908248,48.1314834],[11.5908447,48.1315086],[11.5908269,48.1315152],[11.5908095,48.1315216],[11.5906563,48.131425],[11.5904544,48.131498],[11.5904355,48.1314905],[11.5902882,48.1315435],[11.5901259,48.1316996],[11.5900991,48.1317314],[11.5900769,48.1317578],[11.5901338,48.131865],[11.5901455,48.1319353],[11.5902037,48.1319788],[11.5904296,48.1321209],[11.590473,48.1321064],[11.5905491,48.1321559],[11.5906463,48.1321191],[11.5906897,48.1321489]],[[11.5914546,48.1316145],[11.5914754,48.1316077],[11.5914977,48.1316402],[11.5915135,48.131635],[11.5915771,48.1316143],[11.5914692,48.1314774],[11.5914079,48.1314976],[11.5913728,48.1315101],[11.5914546,48.1316145]]]]}},{type:"Feature",properties:{fid:2314,osm_id:"28132472",id:72,"Current Name (DE)":"Katholische Pfarrkirche Maria Hilf in der Au","Current Name (Eng)":"Catholic parish church of Maria","Previous Name":null,Address:"Mariahilfpl., 81541 Mnchen","Starting year":1831,"Completion year/Opening year":"1839","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"chirch",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Mariahilfkirche_(Mnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Joseph Daniel Ohlmller",Status:null,AddressM:"Mariahilfpl., 81541 Mnchen, Munich",Latitude:48.1257983,Longitude:11.5827048,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5833417,48.1256574],[11.5837015,48.1255175],[11.5840546,48.1253803],[11.5841212,48.1253203],[11.5841292,48.1252448],[11.5840711,48.1251822],[11.5839698,48.1251524],[11.583913,48.1251549],[11.5838959,48.125098],[11.583779,48.1251167],[11.5836136,48.1251772],[11.5836649,48.1252351],[11.5832081,48.1254152],[11.5831513,48.1254376],[11.5833417,48.1256574]]]]}},{type:"Feature",properties:{fid:56920,osm_id:"120108460",id:73,"Current Name (DE)":"Stdtische Berufsschule","Current Name (Eng)":"Municipal vocational school","Previous Name":null,Address:"Simon-Knoll-Platz 3, 81669 Mnchen","Starting year":2007,"Completion year/Opening year":"2010","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"education",Description:null,Website:"https://www.ssp-muc.com/projekte/projekt-detail/show/berufliche-schulen-am-simon-knoll-platz","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Fritsch + Tschaidse Architekten",Status:null,AddressM:"Simon-Knoll-Platz 3, 81669 Mnchen, Munich",Latitude:48.1259103,Longitude:11.5925853,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5922122,48.1260846],[11.5922136,48.126013],[11.5924918,48.1260155],[11.5924995,48.125623],[11.5924286,48.1256224],[11.5924372,48.1251819],[11.5925974,48.1251833],[11.5925914,48.1254897],[11.592668,48.1254903],[11.5926549,48.1261639],[11.5922108,48.12616],[11.5922122,48.1260846]]]]}},{type:"Feature",properties:{fid:13970,osm_id:"51366125",id:109,"Current Name (DE)":"Olympiastadion","Current Name (Eng)":"Olympic Stadium","Previous Name":null,Address:"Olympiapark Mnchen, Spiridon-Louis-Ring 25, 80809 Mnchen","Starting year":null,"Completion year/Opening year":"1972","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"stadium",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://en.wikiarquitectura.com/building/munich-olympic-stadium/","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gnther Behnisch and Frei Otto",Status:null,AddressM:"Olympiapark Mnchen, Spiridon-Louis-Ring 25, 80809 Mnchen, Munich",Latitude:48.1719887,Longitude:11.5477061,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.545854,48.1727026],[11.5457237,48.1728786],[11.545443,48.1728334],[11.5453658,48.1730466],[11.5456465,48.1730918],[11.5456393,48.1732716],[11.5448577,48.1732275],[11.5448767,48.1730353],[11.5449397,48.1728255],[11.5450365,48.1726428],[11.5451684,48.1724543],[11.545854,48.1727026]]]]}},{type:"Feature",properties:{fid:156514,osm_id:"599834311",id:75,"Current Name (DE)":"WERK12","Current Name (Eng)":null,"Previous Name":null,Address:"Speicherstrae 20","Starting year":null,"Completion year/Opening year":"2019","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"building",Description:"https://www.archdaily.com/926797/werk12-mvrdv",Website:"https://www.archdaily.com/926797/werk12-mvrdv","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"MVRDV + N-V-O Architekten",Status:null,AddressM:"Speicherstrae 20, Munich",Latitude:48.1240819,Longitude:11.6058168,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.6054857,48.1241139],[11.6058257,48.1242828],[11.6058566,48.1242982],[11.6058757,48.124281],[11.6059601,48.1242052],[11.6061619,48.1240241],[11.6061674,48.1240191],[11.6057894,48.1238315],[11.6054857,48.1241139]]]]}},{type:"Feature",properties:{fid:6664,osm_id:"35587189",id:76,"Current Name (DE)":"Medienbrcke Mnchen","Current Name (Eng)":"Media Bridge","Previous Name":null,Address:"Rosenheimer Str. 145 d, 81671 Mnchen","Starting year":2009,"Completion year/Opening year":"2011","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"office",Description:null,Website:"https://www.archdaily.com/291857/ivg-media-bridge-steidle-architects","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Medienbrcke","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Otto Steidle Architects",Status:null,AddressM:"Rosenheimer Str. 145 d, 81671 Mnchen, Munich",Latitude:48.1219077,Longitude:11.605736,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.6063357,48.1212788],[11.6069241,48.121314],[11.6068503,48.1218853],[11.6071665,48.1219052],[11.6072371,48.1213615],[11.6072416,48.1213298],[11.6075224,48.1213503],[11.6075174,48.1213957],[11.6077236,48.121408],[11.6079346,48.1214205],[11.6079445,48.1213759],[11.6082231,48.1213945],[11.6081405,48.1219363],[11.6081361,48.1219673],[11.6084716,48.1219885],[11.6085391,48.1214149],[11.6085675,48.1214149],[11.6085876,48.1212521],[11.6084881,48.1212459],[11.6077511,48.1212074],[11.6062353,48.1211154],[11.605917,48.1213722],[11.6050117,48.1221191],[11.6044994,48.1225445],[11.6046117,48.1226089],[11.6046776,48.1226414],[11.6046904,48.1226318],[11.6047295,48.1226549],[11.6049988,48.1228006],[11.605338,48.1230031],[11.6055419,48.1228318],[11.6054024,48.1227535],[11.6054179,48.1227382],[11.605382,48.1227188],[11.6053646,48.1227312],[11.6052585,48.1226729],[11.6050561,48.1225618],[11.6048881,48.1224696],[11.60507,48.1223234],[11.605122,48.1223506],[11.6052082,48.1222794],[11.6052492,48.1222456],[11.605306,48.1221979],[11.6053906,48.1221267],[11.6053399,48.1220994],[11.6055086,48.1219589],[11.6056901,48.1220566],[11.6058433,48.1221391],[11.6059613,48.1222026],[11.6060541,48.1222526],[11.6061119,48.1222837],[11.6063104,48.1221214],[11.6057141,48.1217842],[11.6063357,48.1212788]]]]}},{type:"Feature",properties:{fid:70,osm_id:"144404",id:77,"Current Name (DE)":"Loopsite","Current Name (Eng)":null,"Previous Name":null,Address:"St.-Martin-Strae 76, 81541 Mnchen","Starting year":2015,"Completion year/Opening year":"2017","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"office",Description:null,Website:"https://www.quincap.de/en/projects/loopsite/","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hadi Teherani",Status:null,AddressM:"St.-Martin-Strae 76, 81541 Mnchen, Munich",Latitude:48.1171161,Longitude:11.5967287,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5961311,48.1172503],[11.5968485,48.1172204],[11.5971172,48.1172092],[11.5970674,48.1166767],[11.5970504,48.1164952],[11.5969899,48.1164977],[11.5963379,48.1165249],[11.5960643,48.1165363],[11.5961132,48.1170592],[11.5961311,48.1172503]],[[11.5963022,48.1171202],[11.59625,48.1166473],[11.5968891,48.1166159],[11.5969413,48.1170888],[11.5963022,48.1171202]]]]}},{type:"Feature",properties:{fid:813,osm_id:"15805217",id:110,"Current Name (DE)":"Olympia-Schwimmhalle (Hallenbad)","Current Name (Eng)":null,"Previous Name":null,Address:"Coubertinpl. 1, 80809 Mnchen","Starting year":null,"Completion year/Opening year":"1972","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"swimmimg pool",Description:null,Website:"https://www.swm.de/baeder/schwimmen-sauna/olympia-schwimmhalle","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Olympia-Schwimmhalle","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gnter Behnisch",Status:null,AddressM:"Coubertinpl. 1, 80809 Mnchen, Munich",Latitude:48.1729824,Longitude:11.5525499,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5508223,48.1737908],[11.5509247,48.173752],[11.5509965,48.1737456],[11.5510682,48.1737504],[11.55116,48.173801],[11.5512034,48.1738523],[11.5512321,48.1739183],[11.5512377,48.1739744],[11.5512237,48.1740247],[11.5511902,48.174063],[11.5511112,48.1741079],[11.551114,48.1741127],[11.551172,48.1741022],[11.5512126,48.1740989],[11.5512522,48.1741027],[11.5512917,48.1741174],[11.5513096,48.1741406],[11.5513269,48.1741723],[11.5513637,48.1741654],[11.5514112,48.1741563],[11.5514685,48.1741559],[11.5515226,48.1741683],[11.5515605,48.1741859],[11.551592,48.1742029],[11.5516231,48.1742353],[11.551661,48.174293],[11.551671,48.1742929],[11.5517057,48.1742602],[11.551749,48.1742312],[11.5517953,48.1742125],[11.5518462,48.174205],[11.5519125,48.1742069],[11.5519526,48.1742144],[11.5520073,48.1742359],[11.5520511,48.1742557],[11.5520555,48.1742551],[11.5520578,48.1742496],[11.5520469,48.1742319],[11.5520354,48.174204],[11.5520319,48.1741513],[11.5520379,48.1741195],[11.552051,48.1740913],[11.552078,48.1740505],[11.5521229,48.1740152],[11.5521827,48.1739849],[11.5522493,48.1739502],[11.5523391,48.1739245],[11.5523737,48.173921],[11.5523754,48.1739164],[11.5522712,48.17387],[11.5521558,48.1737957],[11.5520804,48.1737145],[11.5520281,48.1736186],[11.5520145,48.1735225],[11.5520398,48.1734239],[11.5520797,48.1733479],[11.5521205,48.1732879],[11.5522064,48.1732369],[11.5522059,48.1732341],[11.5521949,48.1732329],[11.5521492,48.1732257],[11.5520679,48.1732066],[11.5520105,48.1731731],[11.5519582,48.173129],[11.551934,48.1730886],[11.5519172,48.1730375],[11.5519292,48.1729594],[11.5518813,48.1729482],[11.5518413,48.1729663],[11.5517667,48.1729742],[11.5516699,48.1729475],[11.5516159,48.1729131],[11.5515243,48.1728573],[11.5515158,48.1728573],[11.5515285,48.1728755],[11.5515154,48.1729147],[11.5514604,48.1729642],[11.5513911,48.1730056],[11.5513026,48.17302],[11.5512237,48.1730184],[11.5512271,48.1730432],[11.551238,48.1730981],[11.5512069,48.1731492],[11.5511248,48.1731828],[11.5510252,48.1732146],[11.5509207,48.1732172],[11.5509143,48.1732203],[11.5509821,48.173264],[11.5509989,48.173315],[11.5509664,48.1733738],[11.550896,48.173449],[11.5508683,48.1734663],[11.5508243,48.1734793],[11.5507851,48.1734783],[11.5507419,48.1734683],[11.5507267,48.173488],[11.5507908,48.1735256],[11.5508322,48.1735546],[11.5508608,48.1736025],[11.5508738,48.1736505],[11.5508647,48.1737011],[11.5508223,48.1737908]]]]}},{type:"Feature",properties:{fid:35240,osm_id:"101698597",id:79,"Current Name (DE)":"Paulaner Headquarter","Current Name (Eng)":null,"Previous Name":null,Address:"Hochstrae 77, 81541 Mnchen","Starting year":null,"Completion year/Opening year":"2017","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"office",Description:null,Website:"https://www.archdaily.com/878781/paulaner-headquarter-hierl-architekten","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hierl Architekten",Status:null,AddressM:"Hochstrae 77, 81541 Mnchen, Munich",Latitude:48.1214474,Longitude:11.5822161,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5822045,48.1212716],[11.5821579,48.1212781],[11.5821463,48.1212911],[11.5821754,48.1214153],[11.5822126,48.1215381],[11.5822448,48.1216113],[11.5822698,48.1216231],[11.5823363,48.1216015],[11.5822854,48.1214726],[11.5822559,48.1213777],[11.5822367,48.1213108],[11.582231,48.1212835],[11.5822045,48.1212716]]]]}},{type:"Feature",properties:{fid:171487,osm_id:"1118418495",id:80,"Current Name (DE)":"Geschftshaus","Current Name (Eng)":"Business Premise","Previous Name":null,Address:"Tegernseer Landstrae 64","Starting year":null,"Completion year/Opening year":"2013","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"office and commercial",Description:"https://www.ksg-architekten.info/de/projekte/gewerbe-kultur-de/tegernseer-landstrasse-muenchen/",Website:null,"Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":"Projektentwicklung Tegernseer Landstrae in Mnchen GmbH","Architect/Artist/Author":"KSG Architekten",Status:null,AddressM:"Tegernseer Landstrae 64, Munich",Latitude:48.1160867,Longitude:11.5801723,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5800263,48.1160912],[11.5801799,48.1162245],[11.5803266,48.1161514],[11.5802317,48.1160669],[11.5800886,48.115931],[11.5798704,48.1159558],[11.5800263,48.1160912]]]]}},{type:"Feature",properties:{fid:162448,osm_id:"857309526",id:83,"Current Name (DE)":"Gasteig HP8","Current Name (Eng)":null,"Previous Name":null,Address:"Hans-Preiinger-Strae 8, 81379 Mnchen","Starting year":null,"Completion year/Opening year":"2021","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"cultural center",Description:"Philarmonic and other concert halls",Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Gasteig_HP8","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gerkan, Marg und Partner",Status:null,AddressM:"Hans-Preiinger-Strae 8, 81379 Mnchen, Munich",Latitude:48.1117337,Longitude:11.5533153,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5534825,48.111725],[11.5532208,48.1113899],[11.5535968,48.1112589],[11.5538914,48.1111563],[11.5541532,48.1114915],[11.5534825,48.111725]]]]}},{type:"Feature",properties:{fid:162425,osm_id:"857065201",id:84,"Current Name (DE)":"Mnchner Volkstheater","Current Name (Eng)":"Munich Peoples Theater","Previous Name":null,Address:"Tumblingerstrae 29, 80337 Mnchen","Starting year":null,"Completion year/Opening year":"1903","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:"1955, 1983, 2021",Moved:null,Type:"building",Function:"theater",Description:null,Website:"https://www.archlro.de/en/projects/muenchner-volkstheater#1","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Mnchner_Volkstheater","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"LRO Lederer Ragnarsdttir Oei",Status:null,AddressM:"Tumblingerstrae 29, 80337 Mnchen, Munich",Latitude:48.1236407,Longitude:11.5554181,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5559973,48.1239436],[11.5560399,48.1239791],[11.5560825,48.1240145],[11.5561048,48.1240014],[11.5561205,48.1239812],[11.5561192,48.123948],[11.55611,48.1239226],[11.5561126,48.1239095],[11.556131,48.1238946],[11.5561595,48.1238908],[11.5561827,48.1238785],[11.5561974,48.1238566],[11.5561966,48.1238356],[11.5561803,48.1238207],[11.5562569,48.1237792],[11.5564195,48.1239089],[11.5564534,48.123936],[11.5566629,48.1238257],[11.5566522,48.1238161],[11.5566616,48.1238106],[11.5566381,48.1237905],[11.556693,48.1237612],[11.5565162,48.1236143],[11.5565165,48.123601],[11.5565165,48.1235882],[11.5565155,48.123577],[11.5565108,48.1235656],[11.5564987,48.1235567],[11.556468,48.1235736],[11.5564583,48.1235655],[11.5563346,48.1234624],[11.5561066,48.1232722],[11.5558592,48.1230725],[11.5558159,48.1230376],[11.5557455,48.1229824],[11.5549513,48.1234115],[11.5550455,48.1234914],[11.5550697,48.123512],[11.5550532,48.123521],[11.5556653,48.1240381],[11.5556919,48.1240241],[11.5557128,48.1240416],[11.5556861,48.1240557],[11.5557115,48.1240661],[11.5557308,48.1240696],[11.555752,48.1240701],[11.5557766,48.1240626],[11.5558269,48.1240372],[11.5559973,48.1239436]]]]}},{type:"Feature",properties:{fid:64732,osm_id:"127613427",id:85,"Current Name (DE)":"Wohnhochhaus Park Plaza","Current Name (Eng)":"Theresienhhe Park Plaza","Previous Name":null,Address:"Theresienhhe, 80339 Mnchen","Starting year":1995,"Completion year/Opening year":"1997","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"apartment building",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Theresienh%C3%B6he","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Otto Steidle",Status:null,AddressM:"Theresienhhe, 80339 Mnchen, Munich",Latitude:48.1337784,Longitude:11.543876,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5404556,48.1336954],[11.5404275,48.1334384],[11.5406303,48.1334285],[11.540637,48.1334893],[11.5409482,48.1334741],[11.5409415,48.1334133],[11.5411354,48.1334038],[11.5411633,48.1336589],[11.5410104,48.1336663],[11.5409682,48.1336684],[11.5409609,48.1336017],[11.5406595,48.1336164],[11.540667,48.1336851],[11.5406295,48.1336869],[11.5404556,48.1336954]]]]}},{type:"Feature",properties:{fid:86563,osm_id:"160174573",id:87,"Current Name (DE)":"Fraunhofer-Gesellschaft","Current Name (Eng)":"Fraunhofer Society","Previous Name":null,Address:"Hansastrae 27c","Starting year":null,"Completion year/Opening year":"2003","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"headquarters",Description:"https://www.henn.com/de/projekt/fraunhofer-haus-muenchen",Website:"https://www.fraunhofer.de/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Fraunhofer-Gesellschaft","Owner/Initiator/Commissioned by":"Fraunhofer-Gesellschaft","Architect/Artist/Author":"HENN Architekten",Status:null,AddressM:"Hansastrae 27c, Munich",Latitude:48.1327046,Longitude:11.5302068,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5303265,48.1327296],[11.5299624,48.1325032],[11.5297823,48.1326347],[11.5300584,48.1328074],[11.5303303,48.1329759],[11.5305126,48.1328449],[11.5303265,48.1327296]]]]}},{type:"Feature",properties:{fid:119514,osm_id:"243890881",id:88,"Current Name (DE)":"ADAC-Zentrale","Current Name (Eng)":"ADAC Headquarters","Previous Name":null,Address:"Hansastrae 23-25 80686 Munich","Starting year":2010,"Completion year/Opening year":"2011","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"association",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/ADAC-Zentrale","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Sauerbruch Hutton",Status:null,AddressM:"Hansastrae 23-25 80686 Munich, Munich",Latitude:48.1328836,Longitude:11.5289386,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5286464,48.1328707],[11.52869,48.1328988],[11.5286762,48.1329084],[11.5287414,48.1329503],[11.5287544,48.1329413],[11.5288133,48.1329793],[11.5290068,48.1328454],[11.5289449,48.1328055],[11.5289575,48.1327968],[11.5289316,48.1327801],[11.5289009,48.1327603],[11.5288886,48.1327688],[11.5288394,48.1327372],[11.5286464,48.1328707]]]]}},{type:"Feature",properties:{fid:71571,osm_id:"141529506",id:89,"Current Name (DE)":"Neuapostolische Kirche","Current Name (Eng)":"New Apostolic Church","Previous Name":null,Address:"Helmpertstrae 7, 80687 Mnchen","Starting year":null,"Completion year/Opening year":"2013","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:null,Website:"https://www.muenchenarchitektur.com/architektur-highlights/21-kultur-und-bildungsbauten/21475-neuapostolische-kirche-muenchen-laim","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Haack + Hpfner",Status:null,AddressM:"Helmpertstrae 7, 80687 Mnchen, Munich",Latitude:48.1404509,Longitude:11.5020368,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5021288,48.1406095],[11.5021793,48.1403332],[11.5019387,48.1403136],[11.501846,48.140306],[11.5017845,48.1406423],[11.5018772,48.1406499],[11.5018845,48.1406101],[11.5018882,48.1405899],[11.5021288,48.1406095]]]]}},{type:"Feature",properties:{fid:156612,osm_id:"609571554",id:90,"Current Name (DE)":"Kap West","Current Name (Eng)":null,"Previous Name":null,Address:"Birketweg 36, 80639 Mnchen","Starting year":null,"Completion year/Opening year":"2019","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"office",Description:null,Website:"https://www.wielaretsarchitects.com/en/projects/am_hirschgarten/","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Wiel Arets Architects, HPP Architects",Status:null,AddressM:"Birketweg 36, 80639 Mnchen, Munich",Latitude:48.1450166,Longitude:11.5210631,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5203523,48.1449612],[11.5206124,48.1449479],[11.5206175,48.1449928],[11.5206328,48.1451262],[11.5207487,48.1451203],[11.5209374,48.1451107],[11.5209222,48.1449781],[11.5209169,48.1449323],[11.5211727,48.1449193],[11.5212105,48.1452489],[11.5204673,48.1452869],[11.5203901,48.1452908],[11.5203795,48.1451986],[11.5203523,48.1449612]]]]}},{type:"Feature",properties:{fid:156331,osm_id:"588791919",id:92,"Current Name (DE)":"Paketposthalle","Current Name (Eng)":"Parcel post hall","Previous Name":null,Address:"Georg-Lindau-Strae 12, 80634 Mnchen","Starting year":1965,"Completion year/Opening year":"1969","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"post",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Paketposthalle","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Rudolf Rosenfeld, Herbert Zettel, Ulrich Finsterwalder",Status:null,AddressM:"Georg-Lindau-Strae 12, 80634 Mnchen, Munich",Latitude:48.1479859,Longitude:11.5249804,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5250337,48.147833],[11.5252644,48.1478115],[11.5253963,48.147974],[11.5257016,48.1483502],[11.5250176,48.1486114],[11.524403,48.1478699],[11.524905,48.1478401],[11.5250257,48.1479869],[11.5247709,48.1480066],[11.5251115,48.1484307],[11.5254334,48.1483108],[11.5251695,48.1479953],[11.5250337,48.147833]]]]}},{type:"Feature",properties:{fid:340,osm_id:"2144986",id:93,"Current Name (DE)":"Schloss Nymphenburg","Current Name (Eng)":"Nymphenburg Palace","Previous Name":null,Address:"Schlo Nymphenburg 1, 80638 Mnchen","Starting year":null,"Completion year/Opening year":"1664","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"palace",Description:null,Website:"www.schloss-nymphenburg.de","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Schloss_Nymphenburg","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Agostino Barelli, Henrico Zuccalli and Joseph Effner",Status:null,AddressM:"Schlo Nymphenburg 1, 80638 Mnchen, Munich",Latitude:48.158259,Longitude:11.5032643,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5030873,48.1583972],[11.5032863,48.1584048],[11.5032797,48.1584925],[11.5032697,48.1585972],[11.5032208,48.1585953],[11.5032012,48.1588218],[11.5034604,48.1588317],[11.5034583,48.1588655],[11.5034946,48.1588803],[11.5035095,48.1588991],[11.5035149,48.1589215],[11.5035585,48.1589231],[11.5035506,48.1590212],[11.5035963,48.1590229],[11.5037622,48.1590288],[11.5037974,48.1590632],[11.503758,48.15952],[11.5038745,48.1595245],[11.503867,48.1596111],[11.5038459,48.159856],[11.5037453,48.1598522],[11.5037297,48.1600324],[11.5037176,48.1601724],[11.5034679,48.1601628],[11.503451,48.1603584],[11.5036965,48.1603678],[11.5036834,48.1605197],[11.5036313,48.1611238],[11.5039063,48.161134],[11.5049506,48.1611744],[11.5051991,48.161184],[11.5052175,48.1609702],[11.5053085,48.1599166],[11.5039517,48.1598645],[11.5039271,48.1598636],[11.5039276,48.1598578],[11.5039068,48.159857],[11.503928,48.1596122],[11.5039353,48.1595272],[11.5039786,48.1590258],[11.5038255,48.1590199],[11.5038285,48.1589816],[11.5038396,48.1588442],[11.5038413,48.1588235],[11.5037141,48.1588189],[11.5035673,48.1588137],[11.5035202,48.1588121],[11.5035379,48.1586074],[11.5034181,48.1586028],[11.5034273,48.158496],[11.5034347,48.1584095],[11.5034827,48.1584114],[11.5034964,48.1582531],[11.5035101,48.1580944],[11.5034631,48.1580926],[11.5034721,48.1579886],[11.5034801,48.1578955],[11.503602,48.1579002],[11.5036199,48.1576934],[11.5039473,48.157706],[11.5039645,48.1575063],[11.5041219,48.1575123],[11.5041646,48.1570179],[11.5041888,48.1567374],[11.504193,48.1566891],[11.5048274,48.1567135],[11.5056179,48.1567439],[11.5057269,48.1554813],[11.5041745,48.1554217],[11.5041376,48.1558496],[11.50412,48.1558489],[11.5040923,48.1561703],[11.5040793,48.1561698],[11.5040632,48.1563556],[11.5040785,48.1563562],[11.5040502,48.1566832],[11.5041429,48.1566867],[11.5041386,48.1567354],[11.5041145,48.1570157],[11.5039963,48.1570111],[11.5039772,48.1572322],[11.5039481,48.157231],[11.5039433,48.1572865],[11.5039746,48.1572877],[11.5039566,48.157497],[11.5038157,48.1574916],[11.503678,48.1574863],[11.5036719,48.1575559],[11.5036689,48.1575916],[11.5036119,48.1575894],[11.5035863,48.1575763],[11.503559,48.1575793],[11.5035442,48.1575941],[11.5035479,48.1576153],[11.503574,48.1576261],[11.5035699,48.1576734],[11.5033148,48.1576636],[11.5032952,48.1578905],[11.5033278,48.1578918],[11.5033198,48.1579843],[11.5033108,48.1580877],[11.5031147,48.1580802],[11.5030873,48.1583972]],[[11.5038529,48.1606998],[11.5038307,48.1609913],[11.5041231,48.1610011],[11.504124,48.1609889],[11.5047132,48.1610089],[11.5047114,48.1610326],[11.5049641,48.1610412],[11.5050453,48.1610439],[11.5050683,48.1607409],[11.5044618,48.1607204],[11.5038529,48.1606998]],[[11.5038674,48.1605723],[11.5038869,48.1603432],[11.5038925,48.1602769],[11.503915,48.159981],[11.5039404,48.159982],[11.5044112,48.1599965],[11.504409,48.1600401],[11.5046195,48.1600404],[11.5046199,48.1600044],[11.5051197,48.1600189],[11.5050792,48.1606199],[11.5043856,48.1605919],[11.5038674,48.1605723]],[[11.5042411,48.1565612],[11.5048408,48.1565841],[11.5053615,48.1566039],[11.5053654,48.1565576],[11.505444,48.1565606],[11.5054839,48.1560946],[11.5053943,48.1560912],[11.5054003,48.1560214],[11.504291,48.1559792],[11.5042411,48.1565612]],[[11.5043349,48.1555639],[11.5043095,48.1558229],[11.5055241,48.1558759],[11.5055495,48.1556169],[11.5043349,48.1555639]]]]}},{type:"Feature",properties:{fid:745,osm_id:"8585003",id:94,"Current Name (DE)":"Amalienburg","Current Name (Eng)":"The Amalienburg","Previous Name":null,Address:"Schlo Nymphenburg 203","Starting year":1734,"Completion year/Opening year":"1739","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"castle",Description:null,Website:"https://www.schloss-nymphenburg.de/deutsch/p-burgen/amalien.htm","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/burgen-und-schloesser/amalienburg","Wikipedia page":null,"Owner/Initiator/Commissioned by":"Kurfrst Karl Albrecht","Architect/Artist/Author":"Franois Cuvillis the Elder",Status:null,AddressM:"Schlo Nymphenburg 203, Munich",Latitude:48.1561155,Longitude:11.5003997,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5002526,48.1562593],[11.500427,48.1562686],[11.5004486,48.1562578],[11.5004565,48.1561714],[11.5004946,48.156152],[11.5005149,48.156115],[11.5004993,48.1560777],[11.5004669,48.1560574],[11.5004751,48.1559679],[11.5004653,48.1559588],[11.5002848,48.1559546],[11.5002719,48.155962],[11.5002695,48.1559843],[11.5002665,48.156018],[11.5002894,48.1560277],[11.5003073,48.1560435],[11.5003186,48.1560618],[11.500305,48.1560765],[11.500296,48.156096],[11.5002955,48.1561174],[11.500301,48.1561328],[11.5003104,48.1561461],[11.5002939,48.1561616],[11.5002752,48.1561728],[11.5002472,48.1561866],[11.500244,48.1562152],[11.5002403,48.1562482],[11.5002526,48.1562593]]]]}},{type:"Feature",properties:{fid:39046,osm_id:"106765963",id:95,"Current Name (DE)":"Pagodenburg","Current Name (Eng)":"Pagoda Castle","Previous Name":null,Address:"Schlosspark Nymphenburg Mnchen, 80638 Mnchen","Starting year":1716,"Completion year/Opening year":"1719","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"castle",Description:null,Website:"https://www.schloss-nymphenburg.de/englisch/p-palaces/pagoden.htm","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Joseph Effner",Status:null,AddressM:"Schlosspark Nymphenburg Mnchen, 80638 Mnchen, Munich",Latitude:48.159074,Longitude:11.5116678,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.4927891,48.1600164],[11.4928161,48.1600175],[11.4928394,48.1600185],[11.4928377,48.1600403],[11.4928595,48.1600599],[11.4928939,48.1600621],[11.4928915,48.1600905],[11.4928578,48.1600896],[11.4928344,48.1601061],[11.4928327,48.1601203],[11.4927821,48.1601185],[11.4927818,48.1601039],[11.4927642,48.1600865],[11.4927325,48.1600855],[11.4927346,48.1600548],[11.492767,48.1600556],[11.4927873,48.1600391],[11.4927891,48.1600164]]]]}},{type:"Feature",properties:{fid:82571,osm_id:"152093774",id:97,"Current Name (DE)":"Herz-Jesu-Kirche","Current Name (Eng)":"Church of the Sacred Heart of Jesus","Previous Name":null,Address:"Lachnerstrae 8","Starting year":null,"Completion year/Opening year":"2000","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:"https://www.atlasobscura.com/places/herz-jesu-kirche",Website:`www.herzjesu-muenchen.de
https://www.allmannwappner.com/en/projekte/15/herz-jesu-church-munich`,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Herz-Jesu-Kirche_(Mnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Allmann Sattler Wappner",Status:null,AddressM:"Lachnerstrae 8, Munich",Latitude:48.1563884,Longitude:11.5287445,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5287472,48.1566127],[11.5284912,48.1565385],[11.5287499,48.1561413],[11.5288793,48.1561788],[11.5290059,48.1562155],[11.5287472,48.1566127]]]]}},{type:"Feature",properties:{fid:22245,osm_id:"81428382",id:98,"Current Name (DE)":"Haus der Architektur","Current Name (Eng)":"House of the Architecture","Previous Name":null,Address:"Waisenhausstrae 4","Starting year":null,"Completion year/Opening year":"2002","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"association",Description:"bavarian chamber of architects",Website:"https://www.byak.de/","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":"ByAK - Bayerische Architektenkammer","Architect/Artist/Author":"Drescher & Kubina",Status:null,AddressM:"Waisenhausstrae 4, Munich",Latitude:48.1578096,Longitude:11.5312017,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.531102,48.1578785],[11.5312357,48.1579182],[11.5313396,48.1577622],[11.5312018,48.1577213],[11.5312354,48.1576709],[11.5311301,48.1576397],[11.5310926,48.157696],[11.5311556,48.1577147],[11.5310582,48.157861],[11.5309983,48.1578432],[11.5309622,48.1578975],[11.5310684,48.1579289],[11.531102,48.1578785]]]]}},{type:"Feature",properties:{fid:170794,osm_id:"1088413732",id:100,"Current Name (DE)":"Theater Schwere Reiter","Current Name (Eng)":"Heavy riders - dance theater music","Previous Name":null,Address:"Dachauer Str. 114","Starting year":null,"Completion year/Opening year":"2021","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"theater",Description:null,Website:"https://www.sueddeutsche.de/muenchen/schwere-reiter-freie-szene-kreativquartier-neubau-theater-tanz-musik-eroeffnung-1.5411288","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Mahlknecht Herrle",Status:null,AddressM:"Dachauer Str. 114, Munich",Latitude:48.1591213,Longitude:11.5481714,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5480971,48.1591156],[11.5482315,48.1590048],[11.5483109,48.1590478],[11.5482335,48.1591116],[11.5485174,48.1592649],[11.5484605,48.1593118],[11.5481945,48.1591682],[11.5480971,48.1591156]]]]}},{type:"Feature",properties:{fid:624,osm_id:"4697629",id:103,"Current Name (DE)":"Hochhaus Uptown Mnchen","Current Name (Eng)":"Munich Uptown Building","Previous Name":null,Address:"o2 can do Tower, Georg-Brauchle-Ring 50","Starting year":2001,"Completion year/Opening year":"2004","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"office",Description:null,Website:"https://www.lcn.eu/en/portfolio-item/uptown-muenchen/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Hochhaus_Uptown_Mnchen","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Ingenhoven Overdiek und Partner",Status:null,AddressM:"o2 can do Tower, Georg-Brauchle-Ring 50, Munich",Latitude:48.1769028,Longitude:11.5324205,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5323429,48.1770629],[11.5325691,48.177059],[11.5327946,48.1770552],[11.5328163,48.1770399],[11.5328047,48.1767386],[11.5327787,48.1767223],[11.5323272,48.17673],[11.5323092,48.1767427],[11.532321,48.1770491],[11.5323429,48.1770629]]]]}},{type:"Feature",properties:{fid:63642,osm_id:"126248046",id:104,"Current Name (DE)":"Olympia-Einkaufszentrum","Current Name (Eng)":"Olympia shopping mall","Previous Name":null,Address:"Hanauer Strae 68, 80993 Mnchen","Starting year":null,"Completion year/Opening year":"1972","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":"1993-1994",Rebuilt:null,Moved:null,Type:"building",Function:"shopping center",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://en.wikipedia.org/wiki/Olympia-Einkaufszentrum_(Munich_U-Bahn)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hans Baumgarten and Curt O. Schalle",Status:null,AddressM:"Hanauer Strae 68, 80993 Mnchen, Munich",Latitude:48.183592,Longitude:11.531741,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5329402,48.1827478],[11.5329379,48.1827354],[11.5331678,48.1827161],[11.5331995,48.182831],[11.5332491,48.1828265],[11.5333237,48.1831899],[11.5331932,48.1832018],[11.5332023,48.1832464],[11.5332109,48.1832881],[11.5335415,48.1832611],[11.534002,48.1832235],[11.5346105,48.183174],[11.5354654,48.1831039],[11.5354787,48.1831028],[11.5355163,48.1830998],[11.5354575,48.1827851],[11.5359647,48.182743],[11.5360322,48.1831038],[11.5362647,48.1830906],[11.5365415,48.1830781],[11.5366428,48.1830722],[11.5366699,48.18328],[11.5366727,48.1833074],[11.5366753,48.1833334],[11.5367034,48.1833311],[11.5367823,48.1837523],[11.5368359,48.1840494],[11.5365517,48.1840718],[11.5361149,48.1841074],[11.5360155,48.1835651],[11.5359558,48.1835702],[11.5347404,48.1836741],[11.5346929,48.1836781],[11.5346508,48.1836814],[11.5336262,48.1837645],[11.5334906,48.1837755],[11.5334931,48.1837892],[11.5333996,48.1837968],[11.5333971,48.1837831],[11.5332454,48.1837961],[11.533214,48.1837988],[11.5331623,48.1838027],[11.5327225,48.1838381],[11.5322894,48.1838729],[11.5323297,48.1840742],[11.5323467,48.1841592],[11.5321002,48.1841721],[11.5321036,48.1841923],[11.5319142,48.1842065],[11.5318802,48.1840045],[11.5318627,48.1840039],[11.5318457,48.1840071],[11.5318395,48.1839703],[11.5317755,48.1839749],[11.5317214,48.1836973],[11.5316499,48.1836986],[11.5315895,48.1836978],[11.5315474,48.1836868],[11.5314985,48.1836742],[11.5315195,48.1836527],[11.5314812,48.1836315],[11.531443,48.1836042],[11.5314181,48.1835619],[11.5314114,48.1835219],[11.531417,48.1834889],[11.5314285,48.1834602],[11.5314539,48.1834351],[11.531478,48.1834115],[11.5314489,48.1832535],[11.5313978,48.1829759],[11.531798,48.1829431],[11.5323406,48.1828987],[11.5323666,48.1830397],[11.5323905,48.1830377],[11.5324428,48.1830332],[11.5324007,48.182784],[11.5323901,48.1827299],[11.5323015,48.1827376],[11.532298,48.1827379],[11.5322577,48.1827414],[11.5322173,48.1827449],[11.5321768,48.1827484],[11.5321365,48.182752],[11.5320652,48.1827582],[11.5320542,48.182702],[11.5319294,48.1827128],[11.5318841,48.182482],[11.5318743,48.1824317],[11.5319384,48.1824258],[11.532257,48.182398],[11.5325738,48.1823704],[11.5326397,48.1823643],[11.5326518,48.1824168],[11.5326831,48.1825764],[11.5326669,48.1825779],[11.5326983,48.1827385],[11.5327041,48.1827675],[11.5329402,48.1827478]]]]}},{type:"Feature",properties:{fid:114164,osm_id:"239775397",id:107,"Current Name (DE)":"Studentenviertel Oberwiesenfeld","Current Name (Eng)":"OlyDorf Bungalows","Previous Name":null,Address:"Connollystrae 3, 80809 Mnchen","Starting year":null,"Completion year/Opening year":"1972","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"housing",Description:null,Website:"https://www.studentenwerk-muenchen.de/en/accommodation/halls-of-residence/munich/central-munich/student-quarters-olympic-village/","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gnther Eckert and Werner Wirsing",Status:null,AddressM:"Connollystrae 3, 80809 Mnchen, Munich",Latitude:48.1791389,Longitude:11.5537344,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5537442,48.1791363],[11.5536814,48.1791364],[11.5536815,48.1791646],[11.5537443,48.1791645],[11.5537442,48.1791363]]]]}},{type:"Feature",properties:{fid:70833,osm_id:"140008096",id:108,"Current Name (DE)":"Olympiahalle","Current Name (Eng)":null,"Previous Name":null,Address:"Olympiapark, Spiridon-Louis-Ring 21, 80809 Mnchen","Starting year":null,"Completion year/Opening year":"1972","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"multi-purpose arena",Description:null,Website:"https://www.archdaily.com/109136/ad-classics-munich-olympic-stadium-frei-otto-gunther-behnisch","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Olympiahalle_Mnchen","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Frei Otto and Gnter Behnisch",Status:null,AddressM:"Olympiapark, Spiridon-Louis-Ring 21, 80809 Mnchen, Munich",Latitude:48.1754646,Longitude:11.551797,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5527694,48.1751578],[11.5525417,48.1750568],[11.5524076,48.1750043],[11.5522519,48.1749379],[11.5521139,48.1748776],[11.5519853,48.1748214],[11.5518706,48.174754],[11.5518125,48.1747134],[11.5517826,48.1746876],[11.5517237,48.1746322],[11.5516707,48.174568],[11.5516078,48.1744817],[11.5515925,48.1744329],[11.5515984,48.1743866],[11.5516189,48.1743383],[11.5516525,48.174306],[11.5517105,48.1742689],[11.551778,48.1742424],[11.5518763,48.1742277],[11.5520947,48.1742112],[11.5522965,48.1741958],[11.5523889,48.1741907],[11.5525912,48.1741562],[11.5528753,48.174068],[11.5529978,48.1752123],[11.5529325,48.1752281],[11.5527694,48.1751578]]]]}},{type:"Feature",properties:{fid:1262,osm_id:"25001469",id:109,"Current Name (DE)":"Olympiastadion","Current Name (Eng)":"Olympic Stadium","Previous Name":null,Address:"Olympiapark Mnchen, Spiridon-Louis-Ring 25, 80809 Mnchen","Starting year":null,"Completion year/Opening year":"1972","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"stadium",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://en.wikiarquitectura.com/building/munich-olympic-stadium/","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gnther Behnisch and Frei Otto",Status:null,AddressM:"Olympiapark Mnchen, Spiridon-Louis-Ring 25, 80809 Mnchen, Munich",Latitude:48.1719887,Longitude:11.5477061,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.54504,48.1741189],[11.545026,48.1740697],[11.5449642,48.1740014],[11.544872,48.1739561],[11.5447992,48.1738694],[11.5448059,48.1737943],[11.5447761,48.1737452],[11.544739,48.173702],[11.5447133,48.1736402],[11.5446986,48.1735994],[11.5446776,48.1735733],[11.5446864,48.1735163],[11.5446731,48.1734602],[11.5446408,48.1734096],[11.5446068,48.1733694],[11.5445928,48.1732705],[11.5446352,48.1731894],[11.5446306,48.1731116],[11.5446296,48.1730748],[11.5446598,48.1729677],[11.5446846,48.1729064],[11.5446999,48.1728203],[11.5446731,48.1727638],[11.5447132,48.1726836],[11.5447844,48.1726393],[11.5448293,48.1725904],[11.5448505,48.1725376],[11.5448505,48.1724803],[11.544884,48.1724759],[11.5449468,48.1723862],[11.5449498,48.1723598],[11.5450134,48.1723129],[11.545048,48.1722705],[11.5450648,48.1722303],[11.5450692,48.1722028],[11.5451574,48.1721425],[11.5452592,48.1721133],[11.5453292,48.172077],[11.5453827,48.1720242],[11.5454307,48.1720183],[11.5455318,48.1719479],[11.5455512,48.171926],[11.5456159,48.1719134],[11.5456773,48.1718918],[11.5457152,48.1718531],[11.5457336,48.1718264],[11.5458602,48.1717772],[11.5459327,48.1717742],[11.5460198,48.1717601],[11.5461008,48.1717198],[11.5462793,48.1716792],[11.5463438,48.1717067],[11.5464416,48.1717188],[11.5465631,48.171708],[11.5466077,48.1716894],[11.5466256,48.1717234],[11.5466703,48.1717511],[11.5467173,48.1717682],[11.5467677,48.1717686],[11.5468286,48.1717631],[11.5468226,48.1717852],[11.5468208,48.1718179],[11.5468377,48.1718528],[11.5468631,48.1718766],[11.5469279,48.17191],[11.5470016,48.171929],[11.546961,48.1719742],[11.54693,48.1720373],[11.546929,48.1720897],[11.5469447,48.1721314],[11.5469748,48.1721534],[11.5469774,48.1721634],[11.546803,48.1721887],[11.5466377,48.1722169],[11.5464291,48.1723097],[11.5462927,48.1723755],[11.5461835,48.1724365],[11.5461167,48.1724902],[11.5460343,48.1725637],[11.5458702,48.1727145],[11.5457489,48.1728832],[11.54567,48.1731033],[11.545666,48.1732681],[11.5456912,48.1734164],[11.545726,48.1735281],[11.5457892,48.173647],[11.5459047,48.1737833],[11.546017,48.1739022],[11.5461654,48.1739864],[11.5463643,48.1740777],[11.5465321,48.1741344],[11.546673,48.1741791],[11.5468058,48.1742024],[11.547042,48.1742315],[11.5471893,48.1742444],[11.5471856,48.1742533],[11.5471727,48.1742791],[11.5471708,48.1743143],[11.5472029,48.1743582],[11.5472587,48.1743882],[11.5472047,48.1744397],[11.5471913,48.1744821],[11.5471984,48.1745204],[11.5472212,48.1745541],[11.5471783,48.1745715],[11.5471419,48.1746066],[11.5471207,48.1746515],[11.5471216,48.1746883],[11.5470733,48.1746876],[11.5469769,48.1746841],[11.546899,48.1746989],[11.5468362,48.1747303],[11.5467078,48.1746988],[11.5465849,48.1747116],[11.5464405,48.1746916],[11.5463177,48.1746626],[11.5461818,48.1746553],[11.5460708,48.1746342],[11.5459857,48.1745917],[11.5458631,48.1745754],[11.5457453,48.1745059],[11.5456997,48.1745045],[11.5455416,48.1744192],[11.5454082,48.1743956],[11.5453547,48.1743544],[11.545351,48.1742975],[11.5452638,48.174243],[11.5451663,48.1742037],[11.5451168,48.1741576],[11.54504,48.1741189]]]]}},{type:"Feature",properties:{fid:106661,osm_id:"227012665",id:110,"Current Name (DE)":"Olympia-Schwimmhalle (Hallenbad)","Current Name (Eng)":null,"Previous Name":null,Address:"Coubertinpl. 1, 80809 Mnchen","Starting year":null,"Completion year/Opening year":"1972","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"swimmimg pool",Description:null,Website:"https://www.swm.de/baeder/schwimmen-sauna/olympia-schwimmhalle","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Olympia-Schwimmhalle","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gnter Behnisch",Status:null,AddressM:"Coubertinpl. 1, 80809 Mnchen, Munich",Latitude:48.1729824,Longitude:11.5525499,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5509267,48.1736654],[11.5509376,48.17354],[11.5510846,48.1732639],[11.5513516,48.1731085],[11.5516628,48.1730187],[11.5518584,48.1730287],[11.5519394,48.1732135],[11.5520326,48.1733035],[11.5518979,48.1734809],[11.5519035,48.1736037],[11.5519669,48.1736723],[11.5520214,48.1740068],[11.5519303,48.1739989],[11.551801,48.1740249],[11.5516786,48.174082],[11.5515569,48.174095],[11.5514754,48.1741259],[11.5514129,48.1740764],[11.551262,48.1740251],[11.5512969,48.1739506],[11.5512893,48.1738586],[11.5512426,48.1737634],[11.5511364,48.1736926],[11.5510302,48.1736726],[11.5509267,48.1736654]]]]}},{type:"Feature",properties:{fid:811,osm_id:"15804929",id:113,"Current Name (DE)":"BMW Welt","Current Name (Eng)":"BMW World","Previous Name":null,Address:"Am Olympiapark 1","Starting year":null,"Completion year/Opening year":"2007","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"bmw museum",Description:null,Website:"https://www.bmw-welt.com/de/index.html","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/BMW_Welt","Owner/Initiator/Commissioned by":"BMW AG","Architect/Artist/Author":"COOP Himmelb(l)au",Status:null,AddressM:"Am Olympiapark 1, Munich",Latitude:48.1771981,Longitude:11.5562963,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5556952,48.1779142],[11.5557917,48.1779445],[11.555727,48.1780311],[11.5557303,48.1780322],[11.5558362,48.1780672],[11.5557812,48.1781416],[11.5557685,48.1781613],[11.5559887,48.1782276],[11.5561363,48.1782721],[11.5561487,48.178254],[11.5562254,48.1781602],[11.5562401,48.178143],[11.5562791,48.1780973],[11.5563885,48.1781339],[11.5569097,48.1774258],[11.5571999,48.177012],[11.5572625,48.1769243],[11.5572691,48.1769133],[11.5573276,48.1768154],[11.5573917,48.1767241],[11.557409,48.1766671],[11.5574068,48.176629],[11.5573884,48.1765822],[11.5573511,48.1765373],[11.5572993,48.1765008],[11.5572194,48.1764694],[11.5571248,48.1764556],[11.5570521,48.1764589],[11.5569693,48.1764698],[11.5569409,48.1764722],[11.5568221,48.1764796],[11.5561748,48.1765592],[11.5556972,48.1766251],[11.5556963,48.177838],[11.5556952,48.1779142]]]]}},{type:"Feature",properties:{fid:146999,osm_id:"310296322",id:114,"Current Name (DE)":"BMW-Vierzylinder","Current Name (Eng)":"BMW Headquarters","Previous Name":null,Address:"Petuelring 130","Starting year":null,"Completion year/Opening year":"1973","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"headquarters",Description:null,Website:"https://www.bmwgroup.com/en/general/approach-headquarters.html","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/BMW-Vierzylinder","Owner/Initiator/Commissioned by":"BMW AG","Architect/Artist/Author":"Karl Schwanzer",Status:null,AddressM:"Petuelring 130, Munich",Latitude:48.1770631,Longitude:11.5601401,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.5602023,48.1767127],[11.5600038,48.1767137],[11.5599534,48.1767096],[11.5599229,48.176714],[11.559824,48.1767145],[11.5598234,48.1767781],[11.5598216,48.1767813],[11.5598165,48.1768013],[11.5598205,48.1768312],[11.5598266,48.1768418],[11.5598335,48.1769819],[11.5598246,48.1769927],[11.559817,48.177029],[11.5598254,48.1770571],[11.5598378,48.1770706],[11.5598379,48.1770724],[11.5598394,48.1770724],[11.5598573,48.1770918],[11.5598949,48.1771109],[11.5599221,48.1771183],[11.5599522,48.1771221],[11.5599971,48.1771199],[11.5600303,48.1771119],[11.5600599,48.1770988],[11.5600855,48.1770798],[11.5600935,48.1770706],[11.5601766,48.17707],[11.5601834,48.177078],[11.5602166,48.1770988],[11.5602603,48.1771129],[11.5603148,48.177116],[11.5603565,48.177109],[11.5604069,48.1770859],[11.5604249,48.1770683],[11.5604366,48.1770682],[11.560436,48.1770548],[11.5604431,48.1770413],[11.5604471,48.177021],[11.5604413,48.1769912],[11.5604328,48.1769778],[11.5604264,48.1768268],[11.5604368,48.1768068],[11.5604355,48.1767704],[11.560423,48.1767481],[11.5604215,48.1767117],[11.5603782,48.1767119],[11.5603395,48.176698],[11.5603108,48.1766934],[11.5602801,48.1766928],[11.560236,48.1766997],[11.5602048,48.1767112],[11.5602023,48.1767127]]]]}},{type:"Feature",properties:{fid:3289,osm_id:"30343038",id:118,"Current Name (DE)":"Mira Einkaufszentrum","Current Name (Eng)":"Mira Shopping Center","Previous Name":null,Address:"Schleiheimer Str. 506, 80933 Mnchen","Starting year":null,"Completion year/Opening year":"2008","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"shopping center",Description:null,Website:`www.mira-einkaufszentrum.de
https://www.instagram.com/p/COP8jDfBaOE/`,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Mira_(Einkaufszentrum)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Chapman Taylor",Status:null,AddressM:"Schleiheimer Str. 506, 80933 Mnchen, Munich",Latitude:48.2129897,Longitude:11.5636486,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5629621,48.2134296],[11.5629792,48.2133295],[11.562987,48.2132869],[11.5631267,48.2125487],[11.5637187,48.2125855],[11.5638409,48.212593],[11.5638731,48.2123628],[11.5643292,48.2123911],[11.5641657,48.2135127],[11.5629621,48.2134296]]]]}},{type:"Feature",properties:{fid:311,osm_id:"1959597",id:119,"Current Name (DE)":"Kinderhaus Dominikuszentrum","Current Name (Eng)":"Dominikuszentrum children's home","Previous Name":null,Address:"Hildegard-von-Bingen-Anger 3, 80937 Mnchen","Starting year":2005,"Completion year/Opening year":"2008","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"clinic",Description:null,Website:"https://miesarch.com/work/2035","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Meck architects",Status:null,AddressM:"Hildegard-von-Bingen-Anger 3, 80937 Mnchen, Munich",Latitude:48.2103241,Longitude:11.5695801,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5693226,48.209753],[11.569966,48.2098701],[11.5697615,48.2103688],[11.5691182,48.2102516],[11.5693226,48.209753]],[[11.5697707,48.2099678],[11.5694734,48.2099126],[11.5693544,48.2101973],[11.5696517,48.2102525],[11.5697707,48.2099678]]]]}},{type:"Feature",properties:{fid:96365,osm_id:"183148901",id:120,"Current Name (DE)":"Highlight Towers","Current Name (Eng)":null,"Previous Name":null,Address:"Mies-van-der-Rohe-Strae 6, 80807 Mnchen","Starting year":null,"Completion year/Opening year":"2004","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"office",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Highlight_Towers","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Helmut Jahn",Status:null,AddressM:"Mies-van-der-Rohe-Strae 6, 80807 Mnchen, Munich",Latitude:48.1763842,Longitude:11.5924578,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5925413,48.1766076],[11.5926027,48.1765783],[11.5927721,48.1767551],[11.592887,48.1766415],[11.5923713,48.1760938],[11.5922533,48.1762186],[11.5925313,48.1765018],[11.5924645,48.1765327],[11.5924824,48.1765501],[11.5924008,48.1765876],[11.5923273,48.1766213],[11.5923095,48.1766039],[11.5922737,48.1766202],[11.592083,48.1764197],[11.5919721,48.1765382],[11.5924946,48.1770842],[11.5926051,48.1769613],[11.592346,48.176698],[11.5923863,48.1766787],[11.5923663,48.1766593],[11.5924377,48.1766265],[11.5925214,48.1765881],[11.5925413,48.1766076]]]]}},{type:"Feature",properties:{fid:162487,osm_id:"859418727",id:121,"Current Name (DE)":"Showpalast Mnchen","Current Name (Eng)":"Apassionata Showpalast","Previous Name":null,Address:"Hans-Jensen-Weg 3","Starting year":2016,"Completion year/Opening year":"2017","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"event palace",Description:"https://graftlab.com/projects/showpalast-muenchen",Website:"https://www.showpalast-muenchen.com/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Showpalast_M%C3%BCnchen","Owner/Initiator/Commissioned by":"APASSIONATA Park Mnchen GmbH & Co.KG","Architect/Artist/Author":"GRAFT Architekten",Status:null,AddressM:"Hans-Jensen-Weg 3, Munich",Latitude:48.2088879,Longitude:11.6190408,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.618935,48.2089877],[11.6192007,48.2088992],[11.6190619,48.2087122],[11.6187982,48.2087948],[11.618935,48.2089877]]]]}},{type:"Feature",properties:{fid:69,osm_id:"142277",id:122,"Current Name (DE)":"Allianz Arena","Current Name (Eng)":"Allianz Arena","Previous Name":null,Address:"Werner-Heisenberg-Allee 25","Starting year":null,"Completion year/Opening year":"2005","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"stadium",Description:null,Website:"https://allianz-arena.com/de","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Allianz_Arena","Owner/Initiator/Commissioned by":"Allianz Arena Mnchen Stadion GmbH","Architect/Artist/Author":"Herzog&de Meuron",Status:null,AddressM:"Werner-Heisenberg-Allee 25, Munich",Latitude:48.2181243,Longitude:11.6256249,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.6239978,48.2198978],[11.6242165,48.2199438],[11.6244211,48.2199741],[11.6246329,48.2200009],[11.6248459,48.2200159],[11.6250827,48.2200183],[11.6252893,48.2199802],[11.6255188,48.2198883],[11.6256847,48.2197816],[11.6258075,48.2196459],[11.6259064,48.2195067],[11.6259886,48.2193658],[11.6260631,48.2192198],[11.6261265,48.2190732],[11.6261864,48.2189227],[11.62623,48.2187704],[11.6262547,48.2186158],[11.6262833,48.2184664],[11.6262789,48.2183083],[11.6262184,48.2181571],[11.6261042,48.2180235],[11.6259411,48.2179088],[11.6257382,48.217827],[11.6255337,48.2177693],[11.6253312,48.2177205],[11.6251234,48.2176782],[11.6249142,48.217647],[11.6247035,48.2176197],[11.6244754,48.2176003],[11.624244,48.2176036],[11.6240195,48.2176448],[11.6238145,48.2177225],[11.6236527,48.2178326],[11.6235273,48.2179644],[11.6234265,48.21811],[11.6233403,48.2182537],[11.6232677,48.2184017],[11.6232081,48.2185488],[11.623152,48.2186961],[11.6230947,48.2188465],[11.6230662,48.2190009],[11.6230444,48.2191585],[11.6230469,48.2193085],[11.6231021,48.2194632],[11.6232229,48.2195978],[11.6233786,48.2197097],[11.623579,48.2197919],[11.6237741,48.2198469],[11.6239978,48.2198978]],[[11.6243371,48.2193206],[11.6245235,48.2193527],[11.6246825,48.2193679],[11.624807,48.2193642],[11.624834,48.2193634],[11.6249614,48.2193156],[11.6250332,48.2192517],[11.6251052,48.2191226],[11.6251743,48.2189943],[11.6252357,48.2188517],[11.6252899,48.2187018],[11.6253215,48.2185637],[11.6253215,48.2184837],[11.6252766,48.2184122],[11.6252273,48.2183747],[11.6252196,48.2183689],[11.6250969,48.2183229],[11.6249575,48.2182832],[11.6247864,48.2182532],[11.6246261,48.2182344],[11.6244894,48.2182371],[11.6244737,48.2182411],[11.6243774,48.2182657],[11.6243009,48.2183126],[11.6242446,48.2183814],[11.6241729,48.2185253],[11.6241191,48.2186559],[11.6240571,48.2188049],[11.6240107,48.2189406],[11.6239712,48.2190744],[11.6240005,48.2191642],[11.624077,48.2192303],[11.6241856,48.2192812],[11.6243371,48.2193206]]]]}},{type:"Feature",properties:{fid:154306,osm_id:"491865053",id:123,"Current Name (DE)":"Pharao-Haus","Current Name (Eng)":"Pharaoh House","Previous Name":null,Address:"Fritz-Meyer-Weg 55, 81925 Mnchen","Starting year":null,"Completion year/Opening year":"1974","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"housing",Description:null,Website:"https://www.pixelrakete.de/pharao-haus-in-oberfoehring-muenchen/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Pharao-Haus","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Karl Helmut Bayer",Status:null,AddressM:"Fritz-Meyer-Weg 55, 81925 Mnchen, Munich",Latitude:48.172703,Longitude:11.6357484,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.6347103,48.1729],[11.6349248,48.1728044],[11.6354975,48.1733758],[11.635463,48.1733912],[11.6355489,48.1734769],[11.6355821,48.17351],[11.6355933,48.173505],[11.6356012,48.1735015],[11.63578,48.1734218],[11.6358088,48.1734506],[11.6358288,48.1734417],[11.6358934,48.1735061],[11.6362773,48.1738891],[11.6362095,48.1739193],[11.6362268,48.1739366],[11.6361199,48.1739843],[11.6361026,48.173967],[11.6360529,48.1739892],[11.6356368,48.173574],[11.6355986,48.1735911],[11.6355372,48.1736184],[11.635551,48.1736322],[11.6351122,48.1738278],[11.634961,48.173677],[11.6353585,48.1734998],[11.6354045,48.1734793],[11.6353616,48.1734364],[11.6352982,48.1734647],[11.6352758,48.1734423],[11.6352607,48.1734491],[11.6347103,48.1729]]]]}},{type:"Feature",properties:{fid:3455,osm_id:"30405043",id:124,"Current Name (DE)":"Sammlung Goetz","Current Name (Eng)":"Goetz Collection","Previous Name":null,Address:"Oberfhringer Str. 103, 81925 Mnchen","Starting year":null,"Completion year/Opening year":"1992","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"museum",Description:"https://www.archdaily.com/211932/sammlung-goetz-munich-herzog-de-meuron",Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Sammlung_Goetz","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Herzog & de Meuron",Status:null,AddressM:"Oberfhringer Str. 103, 81925 Mnchen, Munich",Latitude:48.1660893,Longitude:11.6230201,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.6230471,48.1662168],[11.6231434,48.1661762],[11.6229665,48.1659894],[11.6228701,48.16603],[11.6230471,48.1662168]]]]}},{type:"Feature",properties:{fid:3635,osm_id:"30424527",id:125,"Current Name (DE)":"Hgelhaus","Current Name (Eng)":"Hill House","Previous Name":null,Address:"Titurelstrae 3, 81925 Mnchen","Starting year":1968,"Completion year/Opening year":"1970","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"apartments",Description:null,Website:"https://www.sosbrutalism.org/cms/15890425","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Walter Ebert",Status:null,AddressM:"Titurelstrae 3, 81925 Mnchen, Munich",Latitude:48.1604045,Longitude:11.618445,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.618669,48.1609757],[11.6187982,48.1609674],[11.6187838,48.1608688],[11.6187276,48.1608724],[11.6187179,48.1608055],[11.6186585,48.1608093],[11.6186494,48.160747],[11.6185849,48.1607512],[11.6185523,48.1605266],[11.618568,48.1605255],[11.618561,48.160477],[11.6186763,48.1604695],[11.6186624,48.1603734],[11.6184589,48.1603866],[11.6184608,48.1603998],[11.6183437,48.1604074],[11.6183513,48.1604594],[11.6182853,48.1604637],[11.6183353,48.1608081],[11.6184552,48.1608003],[11.6184532,48.1607863],[11.6185217,48.1607818],[11.6185322,48.1608539],[11.6185886,48.1608502],[11.618598,48.1609147],[11.6186595,48.1609107],[11.618669,48.1609757]]]]}},{type:"Feature",properties:{fid:101804,osm_id:"211447642",id:126,"Current Name (DE)":"HVB-Tower","Current Name (Eng)":null,"Previous Name":"Hypo Haus",Address:"Arabellastrae 12, 81925 Mnchen","Starting year":1975,"Completion year/Opening year":"1981","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"office",Description:null,Website:"https://www.architonic.com/en/project/rosskopf-partner-hvb-tower-munchen/20004458","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/HVB_Tower","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Walter & Bea Betz architects",Status:null,AddressM:"Arabellastrae 12, 81925 Mnchen, Munich",Latitude:48.149986,Longitude:11.6175364,Period:6},geometry:{type:"MultiPolygon",coordinates:[[[[11.6173189,48.1495199],[11.6173568,48.1495442],[11.617561,48.1496845],[11.6176977,48.1497771],[11.6176988,48.1497845],[11.6176401,48.1497833],[11.6176404,48.1497867],[11.6176543,48.1497884],[11.61767,48.1497939],[11.6176819,48.1498027],[11.6176876,48.1498112],[11.6176896,48.1498228],[11.6176866,48.1498324],[11.6176753,48.1498445],[11.6176631,48.1498508],[11.6176402,48.1498549],[11.6176924,48.1498556],[11.6176918,48.1498609],[11.617566,48.149942],[11.617419,48.1500368],[11.6174095,48.1500372],[11.6174101,48.1500029],[11.6173976,48.1500176],[11.6173831,48.150031],[11.6173587,48.1500421],[11.6173276,48.150048],[11.6173009,48.150048],[11.6172665,48.1500413],[11.6172454,48.1500295],[11.6172265,48.1500091],[11.6172191,48.1499864],[11.6171775,48.1499865],[11.6170745,48.1499229],[11.6168574,48.1497889],[11.6168195,48.1497655],[11.6168185,48.14976],[11.6170268,48.1497625],[11.6169838,48.1497481],[11.6169721,48.1497382],[11.6169651,48.1497262],[11.6169651,48.1497121],[11.6169713,48.1496991],[11.616983,48.1496902],[11.6170019,48.1496835],[11.6170229,48.1496809],[11.6170385,48.1496824],[11.617058,48.149689],[11.6171762,48.1497635],[11.6171763,48.1497775],[11.6173086,48.1497764],[11.6173086,48.1497433],[11.6173087,48.1496642],[11.6172071,48.1496059],[11.6171936,48.1495949],[11.617187,48.1495838],[11.6171871,48.1495696],[11.6171942,48.1495574],[11.6172054,48.1495481],[11.617224,48.1495409],[11.6172458,48.1495394],[11.6172609,48.1495409],[11.6172793,48.1495465],[11.6173088,48.1495627],[11.6173089,48.1495207],[11.6173189,48.1495199]]]]}},{type:"Feature",properties:{fid:44953,osm_id:"113495915",id:128,"Current Name (DE)":"Aussegnungshalle Mnchen-Riem","Current Name (Eng)":"Funeral hall in Munich-Riem","Previous Name":null,Address:"Am Mitterfeld 68, 81829 Mnchen","Starting year":null,"Completion year/Opening year":"2000","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"funeral hall",Description:"https://www.meck-architekten.de/projekte/id/2000-aussegnungshalle-muenchen-riem/",Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-riem/10321180/","Wikipedia page":"https://de.wikipedia.org/wiki/Friedhof_Riem","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Meck Architekten",Status:null,AddressM:"Am Mitterfeld 68, 81829 Mnchen, Munich",Latitude:48.1320801,Longitude:11.6799884,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.6800022,48.1321572],[11.6800898,48.1321215],[11.6800628,48.132092],[11.6800934,48.1320795],[11.6800536,48.132036],[11.6799905,48.1320617],[11.6799642,48.132033],[11.679909,48.1320555],[11.6800022,48.1321572]]]]}},{type:"Feature",properties:{fid:142076,osm_id:"290301820",id:129,"Current Name (DE)":"Pfarrkirche St. Florian","Current Name (Eng)":"Parish church of St. Florian","Previous Name":null,Address:"Platz der Menschenrechte 2, 81829 Mnchen","Starting year":null,"Completion year/Opening year":"2005","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:null,Website:"www.sankt-florian.org","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/St._Florian_(Riem)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Florian Nagler Architekten",Status:null,AddressM:"Platz der Menschenrechte 2, 81829 Mnchen, Munich",Latitude:48.1307984,Longitude:11.6921291,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.6916791,48.131008],[11.6916813,48.1306397],[11.6919366,48.1306433],[11.6919261,48.1310099],[11.6916791,48.131008]]]]}},{type:"Feature",properties:{fid:11091,osm_id:"43175751",id:133,"Current Name (DE)":"Kulturzentrum Sugar Mountain","Current Name (Eng)":"Sugar Mountain","Previous Name":"Katzenberg concrete plant",Address:"Helfenrieder Strae 12, 81379 Mnchen","Starting year":null,"Completion year/Opening year":"?","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:"2019",Moved:null,Type:"building",Function:"cultural center",Description:"The former Katzenberg concrete plant",Website:"https://thisisreallyhappening.cargo.site/Sugar-Mountain","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Helfenrieder Strae 12, 81379 Mnchen, Munich",Latitude:48.0974647,Longitude:11.5171654,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5174862,48.0970789],[11.5174244,48.0972484],[11.5174079,48.0972938],[11.5173578,48.0974314],[11.5173357,48.097497],[11.5171996,48.0975825],[11.5168528,48.0973541],[11.5168498,48.0972918],[11.517093,48.0970127],[11.5174862,48.0970789]]]]}},{type:"Feature",properties:{fid:93497,osm_id:"174137961",id:135,"Current Name (DE)":"Schloss Blutenburg","Current Name (Eng)":"Blutenburg Castle","Previous Name":null,Address:"Seldweg 15","Starting year":null,"Completion year/Opening year":"1439","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":"1488",Rebuilt:"1681",Moved:null,Type:"building",Function:"castle",Description:null,Website:"https://www.schloesser.bayern.de/deutsch/schloss/objekte/mu_blut.htm","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Schloss_Blutenburg","Owner/Initiator/Commissioned by":"Duke Albert III","Architect/Artist/Author":null,Status:null,AddressM:"Seldweg 15, Munich",Latitude:48.1630669,Longitude:11.4572191,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.4572156,48.1631474],[11.4571234,48.163151],[11.4570731,48.1631573],[11.4570786,48.1634673],[11.4572117,48.1634722],[11.4572056,48.1631752],[11.4572246,48.163175],[11.4572381,48.1631608],[11.4572427,48.1631468],[11.4572156,48.1631474]]]]}},{type:"Feature",properties:{fid:473,osm_id:"6035286",id:141,"Current Name (DE)":"Kloster Schftlarn","Current Name (Eng)":"Schftlarn Abbey","Previous Name":null,Address:"Haus 2, 82067 Schftlarn","Starting year":null,"Completion year/Opening year":"782","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":"1700",Rebuilt:null,Moved:null,Type:"building",Function:"monastery",Description:null,Website:"https://www.abtei-schaeftlarn.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/kirchen-und-kloester/benediktinerabtei-schaeftlarn","Wikipedia page":"https://de.wikipedia.org/wiki/Kloster_Sch%C3%A4ftlarn","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Francois Cuvillis, Johann B .Gunetzrhainer, Johann Fischer, Johann B. Zimmermann, Johann Baptist Straub",Status:null,AddressM:"Haus 2, 82067 Schftlarn, Munich",Latitude:48.1351253,Longitude:11.5819806,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5819596,48.1351308],[11.5819448,48.1351322],[11.5818246,48.1350762],[11.5817092,48.1350223],[11.5817069,48.135014],[11.5817329,48.1350105],[11.5817679,48.1349731],[11.5817546,48.134931],[11.5817256,48.1349186],[11.5816973,48.1349065],[11.5816353,48.134915],[11.5816031,48.1349506],[11.5816169,48.1349942],[11.5816456,48.1350069],[11.5816725,48.1350188],[11.5816787,48.1350218],[11.581608,48.1350888],[11.5815374,48.1351556],[11.5815982,48.1351866],[11.5815498,48.1352303],[11.5815404,48.1352305],[11.5815345,48.1352359],[11.5815425,48.1352397],[11.5815528,48.1352391],[11.5816137,48.1352693],[11.5816798,48.135302],[11.5816813,48.1353099],[11.5816899,48.1353132],[11.5816959,48.1353087],[11.5816948,48.1353003],[11.5817423,48.1352575],[11.5818106,48.1352903],[11.5818872,48.1352193],[11.5819583,48.1351532],[11.5819654,48.1351565],[11.5819989,48.1351716],[11.5820228,48.1351824],[11.5820891,48.135173],[11.5821248,48.1351376],[11.5821106,48.1350952],[11.5820839,48.1350836],[11.5820537,48.1350704],[11.5819919,48.1350795],[11.5819561,48.1351148],[11.5819596,48.1351308]],[[11.581602,48.1351766],[11.5815572,48.1351544],[11.5816206,48.1350947],[11.5816914,48.135028],[11.5818151,48.1350859],[11.5819469,48.1351477],[11.5818765,48.1352142],[11.5818073,48.1352763],[11.5817577,48.1352527],[11.5817622,48.1352478],[11.5817553,48.1352442],[11.5817449,48.1352453],[11.5817239,48.1352349],[11.5817325,48.1352272],[11.5817199,48.135221],[11.5816836,48.135203],[11.5816561,48.1351894],[11.5816435,48.1351832],[11.581635,48.1351909],[11.5816149,48.135181],[11.581614,48.1351747],[11.5816064,48.1351713],[11.581602,48.1351766]]]]}},{type:"Feature",properties:{fid:62404,osm_id:"125213620",id:143,"Current Name (DE)":"Deutsches Jagd- und Fischereimuseum","Current Name (Eng)":"German Hunting and Fishing Museum","Previous Name":"Augustinerkirche (Augustinian Church)",Address:"Neuhauser Strae 2","Starting year":null,"Completion year/Opening year":"1200","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":"1621, 1911",Rebuilt:"1962-64",Moved:null,Type:"building",Function:"museum",Description:"https://www.atlasobscura.com/places/deutsches-jagd-und-fischereimuseum",Website:"https://www.jagd-fischerei-museum.de/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Deutsches_Jagd-_und_Fischereimuseum","Owner/Initiator/Commissioned by":"Augustinian monastery","Architect/Artist/Author":"Hans Krumpper (1621), Theodor Fischer (1911), Erwin Schleich (1962-64)",Status:null,AddressM:"Neuhauser Strae 2, Munich",Latitude:48.1383281,Longitude:11.571411,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5706719,48.138489],[11.5708057,48.1386993],[11.5710306,48.1386384],[11.5712063,48.1385908],[11.5715433,48.1384995],[11.571527,48.1384735],[11.5716454,48.1384265],[11.5716793,48.1383697],[11.5716457,48.1383252],[11.5716077,48.1383171],[11.5715697,48.1383089],[11.5715298,48.1383196],[11.5714459,48.1383425],[11.5714113,48.1382904],[11.5714091,48.138287],[11.5706719,48.138489]]]]}},{type:"Feature",properties:{fid:72,osm_id:"147094",id:144,"Current Name (DE)":"Heilig Geist-Spital (Mnchen)","Current Name (Eng)":null,"Previous Name":null,Address:"Burgstrae 4","Starting year":null,"Completion year/Opening year":"1208","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"hospital",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Burgstrae 4, Munich",Latitude:48.137189,Longitude:11.5775695,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5779857,48.1372414],[11.5778776,48.137165],[11.5777446,48.137071],[11.5776512,48.1370132],[11.5774197,48.1368661],[11.577361,48.1368292],[11.577208,48.1369238],[11.5770547,48.1370186],[11.5773057,48.1371979],[11.5774351,48.1372928],[11.5775069,48.1373646],[11.5775959,48.1374534],[11.5777048,48.1374051],[11.5775978,48.1372911],[11.5777189,48.1372277],[11.577842,48.1373194],[11.5779857,48.1372414]],[[11.5774759,48.1371919],[11.5773196,48.1370728],[11.5774267,48.1370015],[11.5776042,48.1371228],[11.5774759,48.1371919]]]]}},{type:"Feature",properties:{fid:71501,osm_id:"141518581",id:148,"Current Name (DE)":"Augustiner Brauerei","Current Name (Eng)":"Augustiner-Bru Brewery","Previous Name":null,Address:"Landsberger Strae 31-35 ","Starting year":null,"Completion year/Opening year":"1328","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:"1883",Moved:null,Type:"building",Function:"brewery",Description:"Brick building",Website:"https://www.augustiner-braeu.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/bauwerke-und-denkmaeler/augustiner-braeu-wagner-kg","Wikipedia page":null,"Owner/Initiator/Commissioned by":"Brauerfamilie Wagner","Architect/Artist/Author":null,Status:null,AddressM:"Landsberger Strae 31-35 , Munich",Latitude:48.1386428,Longitude:11.5447102,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.544238,48.1384549],[11.5448569,48.1384957],[11.544856,48.1385934],[11.5448565,48.1387817],[11.5448664,48.1388498],[11.5446251,48.1388615],[11.5445936,48.1386023],[11.5443865,48.1385837],[11.5442534,48.1385762],[11.544238,48.1384549]]]]}},{type:"Feature",properties:{fid:609,osm_id:"4054817",id:149,"Current Name (DE)":"Mnchens Altes Rathaus","Current Name (Eng)":"Munich's Old Town Hall","Previous Name":null,Address:"Marienplatz 15","Starting year":null,"Completion year/Opening year":"1462","Zerstrt/Destroyed":1944,"Renoviert/New use/Expansion":"1864, 1877, 1935",Rebuilt:"1974",Moved:"1874",Type:"building",Function:"town hall",Description:"in 1874 the municipality moved to the New Town Hall",Website:"https://www.marienplatz-muenchen.de/altes-rathaus/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/bauwerke-und-denkmaeler/altes-rathaus","Wikipedia page":"https://de.wikipedia.org/wiki/Altes_Rathaus_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Jrg von Halsbach",Status:null,AddressM:"Marienplatz 15, Munich",Latitude:48.1367765,Longitude:11.5769875,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.577361,48.1368292],[11.5773148,48.1367959],[11.5772507,48.1367497],[11.5771973,48.136711],[11.5771542,48.1366803],[11.5771137,48.136651],[11.5770642,48.1366154],[11.5769454,48.1366886],[11.5769374,48.1366824],[11.576869,48.1367245],[11.5768776,48.1367306],[11.5767578,48.1368048],[11.5768013,48.1368361],[11.5768463,48.1368686],[11.5768822,48.1368953],[11.5769366,48.1369336],[11.5770547,48.1370186],[11.577208,48.1369238],[11.577361,48.1368292]]]]}},{type:"Feature",properties:{fid:359,osm_id:"2360164",id:150,"Current Name (DE)":"Mnchner Stadtmuseum","Current Name (Eng)":"Munich City Museum","Previous Name":"Former armory and stables of the city of Munich",Address:"Sankt-Jakobs-Platz 1","Starting year":null,"Completion year/Opening year":"1500","Zerstrt/Destroyed":1944,"Renoviert/New use/Expansion":"1888, 1928, 1931, 1964, 1978",Rebuilt:"1950",Moved:null,Type:"building",Function:"museum",Description:"late gothic building, this museum is dedicated to providing all insights into the city's history",Website:"https://www.muenchner-stadtmuseum.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/museen/muenchner-stadtmuseum","Wikipedia page":"https://de.wikipedia.org/wiki/M%C3%BCnchner_Stadtmuseum","Owner/Initiator/Commissioned by":"Ernst von Destouches (1888)","Architect/Artist/Author":"Lukas Rottaler (1500), Hans Grssel (1928), Hermann Leitentorfer (1931), Gustav Gsaenger (1964), Martin Hofmann (1978)",Status:null,AddressM:"Sankt-Jakobs-Platz 1, Munich",Latitude:48.1354635,Longitude:11.5736663,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5724208,48.1349757],[11.5722842,48.1351068],[11.5727245,48.1353056],[11.5727138,48.1353156],[11.5728652,48.1353844],[11.572951,48.1354234],[11.5733404,48.1356005],[11.5734055,48.1356301],[11.5734281,48.1356404],[11.5734563,48.1356532],[11.573743,48.135465],[11.5740176,48.1353525],[11.57399,48.1353163],[11.5739469,48.1352596],[11.5739322,48.1352402],[11.5738554,48.1352641],[11.5735692,48.1349252],[11.5736212,48.1349067],[11.573537,48.1347982],[11.573292,48.1348874],[11.5732392,48.134906],[11.5731797,48.1348486],[11.5731805,48.1348326],[11.5732108,48.1348187],[11.5732156,48.1348006],[11.5732052,48.1347851],[11.5731763,48.1347779],[11.5731329,48.1347957],[11.5730288,48.1346813],[11.5727429,48.1347808],[11.5726399,48.1348167],[11.5725019,48.1349135],[11.5726559,48.1350329],[11.5726902,48.1350183],[11.5727055,48.1350306],[11.5728179,48.1349591],[11.5728954,48.1349313],[11.5730235,48.1348853],[11.5731549,48.1349811],[11.5731183,48.1350066],[11.5730327,48.135075],[11.5730146,48.1350653],[11.572982,48.1350906],[11.5729471,48.1351176],[11.5729676,48.1351281],[11.5728808,48.1351925],[11.5724208,48.1349757]],[[11.5730429,48.1352902],[11.5732626,48.1351062],[11.5733779,48.1350378],[11.5734049,48.1350218],[11.5736773,48.1353331],[11.5735993,48.1353667],[11.5734336,48.1354789],[11.5730831,48.1353096],[11.5730429,48.1352902]]]]}},{type:"Feature",properties:{fid:1050,osm_id:"23632546",id:152,"Current Name (DE)":"Hofbruhaus at Platzl","Current Name (Eng)":"Hofbruhaus am Platzl","Previous Name":null,Address:"Platzl 9","Starting year":null,"Completion year/Opening year":"1589","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":"1897",Rebuilt:"1958",Moved:null,Type:"building",Function:"beer hall",Description:null,Website:"https://www.hofbraeuhaus.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/bauwerke-und-denkmaeler/hofbraeuhaus","Wikipedia page":null,"Owner/Initiator/Commissioned by":"Maximilian I","Architect/Artist/Author":"Max Littmann (1897)",Status:null,AddressM:"Platzl 9, Munich",Latitude:48.1376141,Longitude:11.5799587,Period:1},geometry:{type:"MultiPolygon",coordinates:[[[[11.5801323,48.1378388],[11.5801683,48.13787],[11.5801962,48.137893],[11.5804147,48.1378043],[11.5803707,48.1377613],[11.5803591,48.1377523],[11.5801709,48.1375931],[11.5804379,48.1374569],[11.5805337,48.1375488],[11.5805981,48.1375189],[11.5806172,48.1375434],[11.5806516,48.1375375],[11.580627,48.1374724],[11.5805886,48.1374783],[11.5804975,48.137402],[11.5805379,48.1373803],[11.5805187,48.1373626],[11.580418,48.1372699],[11.5803761,48.1372314],[11.5796654,48.1376159],[11.5797867,48.1377241],[11.5798748,48.1377873],[11.5799045,48.1377694],[11.5800518,48.1378909],[11.5801323,48.1378388]]]]}},{type:"Feature",properties:{fid:610,osm_id:"4239284",id:164,"Current Name (DE)":"St. Matthus","Current Name (Eng)":"Saint Matthew Church","Previous Name":null,Address:"Nubaumstrae 1","Starting year":null,"Completion year/Opening year":"1827","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:"1955",Moved:null,Type:"building",Function:"church",Description:"First protestant church",Website:"https://www.stmatthaeus.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/kirchen-und-kloester/st-matthaeus","Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gustav Gsaenger",Status:null,AddressM:"Nubaumstrae 1, Munich",Latitude:48.1331866,Longitude:11.5647497,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5649023,48.1329977],[11.5648358,48.132981],[11.5647647,48.1329719],[11.5647298,48.1329663],[11.5647002,48.1329676],[11.5646746,48.13297],[11.5646473,48.1329759],[11.5646251,48.1329855],[11.5646075,48.1329981],[11.5645938,48.1330166],[11.5645888,48.1330298],[11.5645914,48.1330531],[11.5645873,48.1330767],[11.5645754,48.1331034],[11.564561,48.133127],[11.564533,48.1331531],[11.5644988,48.1331743],[11.5644593,48.1332015],[11.5644456,48.1332311],[11.5644542,48.1332604],[11.5644767,48.1332865],[11.5645162,48.1333167],[11.564564,48.1333442],[11.564606,48.1333598],[11.5646666,48.1333791],[11.564703,48.1333879],[11.5647483,48.133398],[11.564754,48.133345],[11.564819,48.1333459],[11.564898,48.1333509],[11.5649865,48.1333611],[11.5650415,48.1333704],[11.5650833,48.133365],[11.5651323,48.1333459],[11.5651557,48.1333262],[11.5651729,48.133304],[11.5651797,48.133277],[11.5651767,48.1332486],[11.5651755,48.1332372],[11.5651709,48.1332178],[11.5651565,48.1331788],[11.5652379,48.1331395],[11.5651725,48.133079],[11.5651175,48.1331055],[11.5650525,48.1330574],[11.5649784,48.1330202],[11.5649023,48.1329977]]]]}},{type:"Feature",properties:{fid:362,osm_id:"2405754",id:173,"Current Name (DE)":"Abteikirche St. Bonifaz","Current Name (Eng)":"St. Boniface's Abbey","Previous Name":null,Address:"Karlstrae 34","Starting year":null,"Completion year/Opening year":"1850","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:"Brick building",Website:"https://www.sankt-bonifaz.de/","Muenchen.de":null,"Wikipedia page":"https://en.wikipedia.org/wiki/St._Boniface%27s_Abbey","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Georg Friedrich Ziebland",Status:null,AddressM:"Karlstrae 34, Munich",Latitude:48.144874,Longitude:11.5647613,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5644227,48.1451619],[11.5652549,48.1449268],[11.5652138,48.1448606],[11.5650523,48.1446018],[11.564711,48.1446966],[11.5645402,48.1447441],[11.5642185,48.1448334],[11.5642473,48.1448795],[11.5642569,48.144895],[11.5644227,48.1451619]],[[11.5645361,48.1450929],[11.5647208,48.1450407],[11.5645952,48.1448428],[11.5644105,48.144895],[11.5645361,48.1450929]],[[11.5648949,48.1449939],[11.5650677,48.1449451],[11.5649462,48.1447538],[11.5647734,48.1448027],[11.5648949,48.1449939]]]]}},{type:"Feature",properties:{fid:4038,osm_id:"30572680",id:177,"Current Name (DE)":"Glaspalast","Current Name (Eng)":"Glass Palace","Previous Name":null,Address:"Sophienstrae 7","Starting year":null,"Completion year/Opening year":"1854","Zerstrt/Destroyed":1931,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"exhibition",Description:"https://sammlungonline.muenchner-stadtmuseum.de/liste/alben/der-muenchner-glaspalast-68, First International Electric Exhibition (1882)",Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Glaspalast_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":"King Max II of Bavaria","Architect/Artist/Author":"August Voit",Status:null,AddressM:"Sophienstrae 7, Munich",Latitude:48.1423551,Longitude:11.5646639,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5645766,48.1424822],[11.5646677,48.1424543],[11.5647298,48.1424352],[11.5647587,48.1424263],[11.5647291,48.1423834],[11.5647933,48.1423636],[11.5647843,48.1423506],[11.5647089,48.1422413],[11.5646494,48.1422595],[11.564595,48.1421807],[11.5645908,48.1421746],[11.5644993,48.1422031],[11.5644009,48.1422329],[11.5644058,48.1422401],[11.5644595,48.1423179],[11.5643976,48.142337],[11.5644825,48.1424601],[11.5645476,48.1424401],[11.5645766,48.1424822]]]]}},{type:"Feature",properties:{fid:41104,osm_id:"109300618",id:179,"Current Name (DE)":"Kapuzinerkloster St. Anton","Current Name (Eng)":"Capuchin monastery of St. Anton","Previous Name":null,Address:"Kapuzinerstrae 34","Starting year":1846,"Completion year/Opening year":"1856","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":"2006-2009",Rebuilt:"2006-2009",Moved:null,Type:"building",Function:"monastery",Description:"Brick building, https://www.erzbistum-muenchen.de/pfarrei/pv-isarvorstadt/cont/76640, https://www.baunetz-architekten.de/hirner-und-riehl-architekten/2448171/projekt/2448695",Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/kloster-kapuzinerkloster-sankt-anton/1069026/","Wikipedia page":"https://de.wikipedia.org/wiki/Kapuzinerkloster_St._Anton","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hirner & Riehl Architekten (2006-2009)",Status:null,AddressM:"Kapuzinerstrae 34, Munich",Latitude:48.1246359,Longitude:11.562753,Period:3},geometry:{type:"MultiPolygon",coordinates:[[[[11.5626025,48.1241401],[11.5625445,48.1241316],[11.5624867,48.1241481],[11.5624565,48.1241916],[11.5624533,48.1242319],[11.562472,48.1242597],[11.5624872,48.1242814],[11.5624341,48.1243002],[11.5627315,48.1247031],[11.5628984,48.1246479],[11.5630044,48.1246129],[11.5630342,48.124603],[11.5628282,48.1243231],[11.5627932,48.1242763],[11.5628251,48.1241962],[11.5627465,48.1240902],[11.5626025,48.1241401]]]]}},{type:"Feature",properties:{fid:20540,osm_id:"79518360",id:181,"Current Name (DE)":"Kunstkammer Georg Laue","Current Name (Eng)":"Georg Laue Art Chamber","Previous Name":null,Address:"Schellingstrae 56","Starting year":null,"Completion year/Opening year":"1873","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":"1997",Rebuilt:null,Moved:null,Type:"building",Function:"museum, shop",Description:"https://www.atlasobscura.com/places/kunstkammer-georg-laue",Website:"https://www.kunstkammer.com/index.php","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":"Georg Laue (1997)","Architect/Artist/Author":"Blersch (1873)",Status:null,AddressM:"Schellingstrae 56, Munich",Latitude:48.1513359,Longitude:11.5728172,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5726692,48.1512876],[11.5727487,48.1514137],[11.5729983,48.1513437],[11.5729187,48.1512176],[11.5726951,48.1512803],[11.5726692,48.1512876]]]]}},{type:"Feature",properties:{fid:21410,osm_id:"80175376",id:184,"Current Name (DE)":"Fremdspracheninstitut der Landeshauptstadt Mnchen","Current Name (Eng)":"Foreign Language Institute of the State Capital Munich","Previous Name":null,Address:"Amalienstrae 36","Starting year":1886,"Completion year/Opening year":"1887","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":"1978-1980",Rebuilt:null,Moved:null,Type:"building",Function:"institute",Description:"Brick building",Website:"https://fim.musin.de/","Muenchen.de":"https://stadt.muenchen.de/service/info/fremdspracheninstitut-der-landeshauptstadt-muenchen/1059808/","Wikipedia page":"https://de.wikipedia.org/wiki/Amalienstra%C3%9Fe_36","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich Lwel",Status:null,AddressM:"Amalienstrae 36, Munich",Latitude:48.1482929,Longitude:11.5774088,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5771642,48.1481702],[11.5771797,48.1481941],[11.5772774,48.1483442],[11.5773883,48.1485146],[11.5775784,48.1484595],[11.5776642,48.148435],[11.5774388,48.1480902],[11.577304,48.1481295],[11.5771642,48.1481702]]]]}},{type:"Feature",properties:{fid:7420,osm_id:"37389806",id:187,"Current Name (DE)":"Katholische Pfarrkirche St. Benno","Current Name (Eng)":"Catholic parish church of St. Benno","Previous Name":null,Address:"Ferdinand-Miller-Platz 1","Starting year":1888,"Completion year/Opening year":"1895","Zerstrt/Destroyed":1944,"Renoviert/New use/Expansion":null,Rebuilt:"1947-1953",Moved:null,Type:"building",Function:"church",Description:"Brick building",Website:"http://cms.st-benno-muenchen.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/kirchen-und-kloester/st-benno","Wikipedia page":"https://de.wikipedia.org/wiki/St._Benno_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Leonhard Romeis",Status:null,AddressM:"Ferdinand-Miller-Platz 1, Munich",Latitude:48.1520197,Longitude:11.5527421,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5526356,48.1517158],[11.5526661,48.1517187],[11.552686,48.1517358],[11.5526808,48.1517588],[11.5526682,48.1517671],[11.5526965,48.1517903],[11.5529465,48.1519956],[11.5529932,48.1519847],[11.5530443,48.1519975],[11.5530776,48.1520271],[11.5530742,48.1520586],[11.5530581,48.1520873],[11.5531354,48.1521555],[11.5531101,48.1521725],[11.5531216,48.1522018],[11.5531193,48.1522317],[11.5531103,48.1522596],[11.5530728,48.1522903],[11.5530152,48.152307],[11.5529519,48.1523016],[11.5529074,48.152283],[11.5528797,48.152295],[11.552801,48.152238],[11.5527356,48.1522552],[11.5526742,48.1522435],[11.552645,48.1522148],[11.5526354,48.1521851],[11.5526709,48.1521534],[11.5523813,48.1519274],[11.5523589,48.1519323],[11.5523338,48.1519279],[11.5523183,48.1519187],[11.5523126,48.1519038],[11.5523178,48.1518932],[11.5523266,48.1518845],[11.5523108,48.1518713],[11.5525983,48.1517088],[11.5526165,48.1517238],[11.5526356,48.1517158]]]]}},{type:"Feature",properties:{fid:50351,osm_id:"117383016",id:189,"Current Name (DE)":"ehem.Bekleidungsamt des I. Armeekorps","Current Name (Eng)":"Former clothing office of the 1st Army Corps","Previous Name":null,Address:"Infanteriestrae 11a","Starting year":1896,"Completion year/Opening year":"1898","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"army corps",Description:"Brick building, https://stadtgeschichte-muenchen.de/bauwerke/d_bauwerke.php?id=2346",Website:null,"Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Infanteriestrae 11a, Munich",Latitude:48.1593325,Longitude:11.5552016,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5541377,48.1587407],[11.5544796,48.1589263],[11.5545286,48.1589529],[11.5545634,48.1589717],[11.5545458,48.1589861],[11.5548373,48.1591443],[11.5549122,48.1591849],[11.5550597,48.1590639],[11.5546852,48.1588607],[11.5546635,48.1588786],[11.5542459,48.158652],[11.5541377,48.1587407]]]]}},{type:"Feature",properties:{fid:7490,osm_id:"37681986",id:190,"Current Name (DE)":"Mnchner Marionettentheater","Current Name (Eng)":"Munich Marionette Theater","Previous Name":null,Address:"Blumenstrae 32","Starting year":null,"Completion year/Opening year":"1900","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"theatre",Description:"Brick building",Website:"https://www.muema-theater.de/","Muenchen.de":"https://www.muenchen.de/veranstaltungen/muenchner-marionettentheater","Wikipedia page":null,"Owner/Initiator/Commissioned by":"Josef Schmid","Architect/Artist/Author":"Theodor Fischer",Status:null,AddressM:"Blumenstrae 32, Munich",Latitude:48.1320311,Longitude:11.5701702,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5701088,48.1321174],[11.5700737,48.1319597],[11.5702565,48.1319415],[11.570268,48.1319929],[11.5702983,48.1319899],[11.5703042,48.1320165],[11.5703102,48.1320432],[11.57028,48.1320462],[11.5702918,48.1320992],[11.5701088,48.1321174]]]]}},{type:"Feature",properties:{fid:423,osm_id:"3606147",id:191,"Current Name (DE)":"Stachus-Rondell","Current Name (Eng)":"Stachus roundel","Previous Name":null,Address:"Karlsplatz 7-11","Starting year":1899,"Completion year/Opening year":"1901","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":"1993",Rebuilt:null,Moved:null,Type:"building",Function:"office, commercial",Description:"Brick building",Website:"https://realestate.hausbau.de/unternehmen/portfolio/stachus-rondell","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Stachus","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gabriel von Seidl und Oscar Strelin ",Status:null,AddressM:"Karlsplatz 7-11, Munich",Latitude:48.1398393,Longitude:11.5662176,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5667891,48.1392014],[11.5667157,48.1391353],[11.5665158,48.1391863],[11.5665105,48.1391779],[11.5664262,48.1392019],[11.5664622,48.1392584],[11.5664673,48.1392569],[11.5664765,48.1392858],[11.5664805,48.1393166],[11.5664791,48.1393476],[11.5664724,48.1393782],[11.566461,48.1394072],[11.5664432,48.1394373],[11.5664335,48.1394499],[11.5664238,48.1394623],[11.5663998,48.1394867],[11.5663708,48.1395094],[11.566337,48.1395302],[11.5663345,48.1395282],[11.5661804,48.1396157],[11.5663072,48.1397143],[11.5663102,48.1397126],[11.5664296,48.1398058],[11.5665479,48.1398983],[11.5666661,48.1399918],[11.5667865,48.1400874],[11.5668229,48.140067],[11.5669044,48.1401139],[11.5668927,48.1401221],[11.5670932,48.1402545],[11.5674594,48.1400415],[11.567429,48.140021],[11.5675544,48.1399503],[11.5672764,48.1397295],[11.5672382,48.1397489],[11.5670595,48.1396054],[11.5671055,48.1395838],[11.5667862,48.1393024],[11.5667126,48.1392382],[11.5667891,48.1392014]],[[11.5665237,48.1396756],[11.5667225,48.1395614],[11.5667449,48.1395487],[11.5668576,48.1396366],[11.5666354,48.1397643],[11.5665798,48.1397194],[11.5665237,48.1396756]],[[11.5667654,48.1398551],[11.5669798,48.1397339],[11.5670918,48.1398259],[11.5670383,48.139856],[11.5670261,48.1398518],[11.5670126,48.1398529],[11.5670023,48.1398587],[11.5669982,48.1398674],[11.5670023,48.1398762],[11.5668794,48.1399449],[11.5667654,48.1398551]]]]}},{type:"Feature",properties:{fid:5062,osm_id:"31095497",id:192,"Current Name (DE)":"Josephskirche","Current Name (Eng)":"Catholic parish of St. Joseph","Previous Name":null,Address:"Josephspl. 1, 80798 Mnchen","Starting year":1898,"Completion year/Opening year":"1902","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/St._Joseph_(Mnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hans Schurr",Status:null,AddressM:"Josephspl. 1, 80798 Mnchen, Munich",Latitude:48.1555481,Longitude:11.5670713,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5672011,48.1556438],[11.5671917,48.1556125],[11.5671487,48.1554703],[11.5671058,48.1553282],[11.5673656,48.1552921],[11.5677732,48.1552351],[11.5679876,48.1552058],[11.5680094,48.1552681],[11.5681223,48.1552517],[11.5682012,48.1552913],[11.5682181,48.1553584],[11.56817,48.1554134],[11.5681411,48.1554183],[11.5680672,48.155431],[11.5680864,48.1554918],[11.5679726,48.1555077],[11.5678545,48.1555243],[11.5678616,48.155548],[11.5678817,48.1556145],[11.5674331,48.1556747],[11.5674144,48.1556129],[11.5673427,48.1556231],[11.5672011,48.1556438]]]]}},{type:"Feature",properties:{fid:39,osm_id:"61204",id:194,"Current Name (DE)":"Neues Justizgebude","Current Name (Eng)":"New justice building","Previous Name":null,Address:"Prielmayerstrae 5","Starting year":null,"Completion year/Opening year":"1905","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"court",Description:"Brick building, Oberlandesgericht Mnchen (Munich Higher Regional Court)",Website:"https://www.justiz.bayern.de/gerichte-und-behoerden/oberlandesgerichte/muenchen/","Muenchen.de":"https://stadt.muenchen.de/service/info/oberlandesgericht-muenchen/1069718/","Wikipedia page":"https://de.wikipedia.org/wiki/Neues_Justizgeb%C3%A4ude_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich von Thiersch",Status:null,AddressM:"Prielmayerstrae 5, Munich",Latitude:48.1411726,Longitude:11.5631474,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5631519,48.1413773],[11.5633896,48.1413031],[11.5635039,48.1412696],[11.5637371,48.1411963],[11.5632721,48.140513],[11.5632592,48.1404941],[11.5630345,48.1405634],[11.5629593,48.1405858],[11.5629021,48.1406028],[11.5626729,48.1406734],[11.5631519,48.1413773]],[[11.5630094,48.1409088],[11.5629201,48.140778],[11.563206,48.140691],[11.5632954,48.1408218],[11.5630094,48.1409088]],[[11.5631942,48.1411844],[11.563107,48.1410563],[11.5633935,48.1409695],[11.5634807,48.1410976],[11.5631942,48.1411844]]]]}},{type:"Feature",properties:{fid:434,osm_id:"3866522",id:195,"Current Name (DE)":"Deutsches Museum","Current Name (Eng)":"German Museum","Previous Name":"German Museum for Masterpieces of Natural Science and Technology",Address:"Museumsinsel 1","Starting year":null,"Completion year/Opening year":"1906","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:"1925, 1946-1965",Moved:null,Type:"building",Function:"museum",Description:null,Website:"https://www.deutsches-museum.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/museen/deutsches-museum-muenchen","Wikipedia page":null,"Owner/Initiator/Commissioned by":"Prince Luitpold Karl Joseph Wilhelm Ludwig, Oskar von Miller","Architect/Artist/Author":null,Status:null,AddressM:"Museumsinsel 1, Munich",Latitude:48.1304056,Longitude:11.5841175,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5825846,48.1290826],[11.5821638,48.1288832],[11.5816968,48.129286],[11.5811341,48.1289803],[11.580867,48.1292131],[11.5811632,48.129372],[11.5815097,48.129564],[11.5815363,48.1295436],[11.5819064,48.1297386],[11.5819128,48.129742],[11.5818979,48.1297553],[11.5820275,48.129822],[11.5820474,48.1298055],[11.5820534,48.1298086],[11.582806,48.1301999],[11.582802,48.130216],[11.5828036,48.1302268],[11.5828085,48.1302372],[11.5828163,48.1302464],[11.5828267,48.1302544],[11.5828396,48.1302609],[11.5828543,48.1302655],[11.5828699,48.1302679],[11.5828859,48.1302682],[11.5829043,48.1302657],[11.5829212,48.1302604],[11.58294,48.1302493],[11.58302,48.1302917],[11.5830401,48.1302747],[11.5831181,48.1303141],[11.5836214,48.1305691],[11.583693,48.1306066],[11.5844075,48.1309856],[11.5846616,48.1311114],[11.5847622,48.1311651],[11.5848498,48.1310914],[11.5851494,48.1308386],[11.5852537,48.1307415],[11.5853273,48.1306773],[11.5851528,48.1305866],[11.5844281,48.1302101],[11.5845944,48.1300661],[11.584438,48.1299271],[11.5843852,48.1298766],[11.5843439,48.129835],[11.5843319,48.1298228],[11.5842493,48.1297395],[11.5841313,48.1296491],[11.5840012,48.1295637],[11.5838641,48.1294879],[11.583862,48.1294808],[11.5838582,48.1294741],[11.5838467,48.1294633],[11.5838377,48.1294583],[11.5838274,48.1294545],[11.5838171,48.1294522],[11.5838063,48.1294512],[11.5837944,48.1294515],[11.5837827,48.1294534],[11.5836375,48.1293765],[11.5835927,48.1293528],[11.5834261,48.1292659],[11.5830933,48.1290925],[11.583021,48.1290548],[11.5830158,48.1290521],[11.5828569,48.1289699],[11.5828122,48.1290077],[11.5827246,48.1289622],[11.5825846,48.1290826]],[[11.5850229,48.1306942],[11.5847052,48.1305324],[11.5844037,48.1307961],[11.5847214,48.1309579],[11.5850229,48.1306942]],[[11.583974,48.1305894],[11.5842892,48.130751],[11.5845907,48.1304889],[11.5842756,48.1303274],[11.583974,48.1305894]],[[11.5835219,48.1299777],[11.5834967,48.129991],[11.5834694,48.1300014],[11.5834369,48.1300079],[11.5834098,48.1300081],[11.5833836,48.1300061],[11.5833653,48.130001],[11.583163,48.1301709],[11.5832341,48.1302099],[11.5837538,48.13046],[11.5838211,48.1304912],[11.5839747,48.1303629],[11.5843186,48.1300754],[11.5842551,48.1300157],[11.584187,48.1299517],[11.5841474,48.1299118],[11.5840905,48.1298517],[11.5839887,48.1297702],[11.5838842,48.1297013],[11.5837758,48.1296432],[11.5835312,48.1298607],[11.5835518,48.1298807],[11.5835547,48.1299035],[11.5835559,48.1299227],[11.583551,48.1299392],[11.5835395,48.129961],[11.5835219,48.1299777]]]]}},{type:"Feature",properties:{fid:151528,osm_id:"400412297",id:196,"Current Name (DE)":"Altkatolische Kirche","Current Name (Eng)":"Old Catholic Church","Previous Name":null,Address:"Blumenstrae 36","Starting year":1912,"Completion year/Opening year":"1913","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"building",Description:"Brick building",Website:null,"Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Heinrich Berthold",Status:null,AddressM:"Blumenstrae 36, Munich",Latitude:48.132413,Longitude:11.5690971,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5689525,48.1323661],[11.5689852,48.1323539],[11.5690056,48.1323782],[11.5691488,48.1323249],[11.5691188,48.1322889],[11.5691796,48.1322663],[11.5692123,48.1323054],[11.5691586,48.1323254],[11.569176,48.1323462],[11.5692612,48.1323154],[11.5693039,48.1323667],[11.5692193,48.1323979],[11.5692329,48.1324142],[11.5690532,48.1324812],[11.5690179,48.1324943],[11.56898,48.1324489],[11.568941,48.1324023],[11.5689728,48.1323904],[11.5689525,48.1323661]]]]}},{type:"Feature",properties:{fid:23338,osm_id:"85513530",id:197,"Current Name (DE)":"Filmtheater Sendlinger Tor","Current Name (Eng)":"Sendlinger Tor Film Theatre","Previous Name":null,Address:"Sendlinger-Tor-Platz 11","Starting year":null,"Completion year/Opening year":"1913","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"film theatre",Description:null,Website:"https://www.filmtheatersendlingertor.de/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Filmtheater_Sendlinger_Tor","Owner/Initiator/Commissioned by":"Carl Gabriel","Architect/Artist/Author":null,Status:null,AddressM:"Sendlinger-Tor-Platz 11, Munich",Latitude:48.1341489,Longitude:11.5670761,Period:4},geometry:{type:"MultiPolygon",coordinates:[[[[11.5669361,48.1342807],[11.5671198,48.1343294],[11.5671295,48.1343016],[11.5672142,48.134055],[11.5669252,48.1339787],[11.5668532,48.1341078],[11.5669476,48.1341356],[11.566918,48.1342177],[11.5668993,48.1342693],[11.5669361,48.1342807]]]]}},{type:"Feature",properties:{fid:13037,osm_id:"48441761",id:198,"Current Name (DE)":"Evangelisch-Lutherische Pfarrkirche St. Johannes","Current Name (Eng)":"Evangelical Lutheran Parish Church of St. Johannes","Previous Name":null,Address:"Preysingplatz 1","Starting year":null,"Completion year/Opening year":"1916","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:"Brick building",Website:"https://www.stjohannes.de/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/St._Johannes_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Bro von Albert Schmidt ",Status:null,AddressM:"Preysingplatz 1, Munich",Latitude:48.1325106,Longitude:11.5941821,Period:5},geometry:{type:"MultiPolygon",coordinates:[[[[11.5942276,48.1326463],[11.5942452,48.1326465],[11.5942444,48.1326794],[11.5943378,48.1326804],[11.5943386,48.1326444],[11.5944421,48.1326455],[11.5944437,48.132573],[11.5944109,48.1325726],[11.5944119,48.1325248],[11.5943774,48.1325245],[11.5943794,48.1324334],[11.594307,48.1324327],[11.5943079,48.132395],[11.5943028,48.1323778],[11.5942934,48.1323682],[11.5942809,48.132363],[11.5942635,48.1323621],[11.5942502,48.1323666],[11.5942378,48.1323752],[11.5942354,48.132386],[11.5941617,48.1323852],[11.5941024,48.1323845],[11.5941008,48.132377],[11.5940949,48.1323687],[11.5940824,48.1323622],[11.5940662,48.1323605],[11.5940491,48.1323642],[11.5940379,48.1323718],[11.5940333,48.1323791],[11.5940326,48.1323835],[11.594027,48.1323834],[11.5940259,48.1324298],[11.5939541,48.1324291],[11.5939519,48.132521],[11.5939196,48.1325207],[11.5939185,48.1325689],[11.5939498,48.1325693],[11.5939487,48.132618],[11.5940879,48.1326195],[11.5940874,48.1326374],[11.5940957,48.1326471],[11.594114,48.1326584],[11.5941354,48.1326671],[11.5941582,48.1326713],[11.5941821,48.13267],[11.5942026,48.132664],[11.59422,48.1326555],[11.5942276,48.1326463]]]]}},{type:"Feature",properties:{fid:59473,osm_id:"121859528",id:199,"Current Name (DE)":"St. Gabriel","Current Name (Eng)":"Saint Gabriel","Previous Name":null,Address:"Versailler Str. 20","Starting year":1925,"Completion year/Opening year":"1926","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"church",Description:"Brick building",Website:"https://www.sanktgabriel.de/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/St._Gabriel_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Otho Orlando Kurz und Eduard Herbert",Status:null,AddressM:"Versailler Str. 20, Munich",Latitude:48.1380782,Longitude:11.6103154,Period:5},geometry:{type:"MultiPolygon",coordinates:[[[[11.610344,48.1383554],[11.6103337,48.1383723],[11.6103416,48.1383955],[11.6103749,48.138411],[11.610416,48.1384056],[11.6104357,48.1383886],[11.6109898,48.1383175],[11.6109964,48.1383421],[11.6111848,48.1383206],[11.6111786,48.1382911],[11.6116182,48.138238],[11.6115911,48.1381494],[11.6114293,48.1381716],[11.6114411,48.138151],[11.6114416,48.1381304],[11.6114333,48.1381128],[11.6114167,48.138097],[11.6113842,48.1380826],[11.6113564,48.1380785],[11.6113498,48.1380523],[11.6112777,48.1380604],[11.6112693,48.1380205],[11.6111064,48.138038],[11.611101,48.1380165],[11.6109071,48.1380388],[11.6109151,48.1380709],[11.6108207,48.1380816],[11.6104902,48.138119],[11.6104694,48.1380472],[11.6103878,48.1380567],[11.6103518,48.1379115],[11.6101498,48.1379137],[11.6102219,48.1382079],[11.6102977,48.1381978],[11.6103218,48.1382799],[11.610344,48.1383554]]]]}},{type:"Feature",properties:{fid:1874,osm_id:"27390774",id:200,"Current Name (DE)":"Katholische Pfarrei St. Sebastian","Current Name (Eng)":"Catholic parish of St. Sebastian","Previous Name":null,Address:"Hiltenspergerstrae 115","Starting year":1928,"Completion year/Opening year":"1929","Zerstrt/Destroyed":1944,"Renoviert/New use/Expansion":null,Rebuilt:"1949",Moved:null,Type:"building",Function:"church",Description:"Brick building, https://www.pfarrverband-am-luitpoldpark.de/st-sebastian",Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/St._Sebastian_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Eduard Herbert, Otho Orlando Kurz",Status:null,AddressM:"Hiltenspergerstrae 115, Munich",Latitude:48.1676107,Longitude:11.5661151,Period:5},geometry:{type:"MultiPolygon",coordinates:[[[[11.5655938,48.1677379],[11.5656786,48.1677324],[11.5660599,48.167708],[11.566223,48.1676976],[11.5662599,48.1676698],[11.5662405,48.1675356],[11.5662002,48.1675383],[11.5661927,48.1674922],[11.566031,48.1675025],[11.5660331,48.167517],[11.5655664,48.1675469],[11.5655877,48.1676955],[11.5655938,48.1677379]]]]}},{type:"Feature",properties:{fid:277,osm_id:"1653156",id:201,"Current Name (DE)":"Stdtisches Hochhaus","Current Name (Eng)":"Old Technical Town Hall","Previous Name":null,Address:"Blumenstrae 28a/b","Starting year":null,"Completion year/Opening year":"1929","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"public administration",Description:"Brick building",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/bauwerke-und-denkmaeler/staedtisches-hochhaus","Wikipedia page":"https://de.wikipedia.org/wiki/St%C3%A4dtisches_Hochhaus_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hermann Leitenstorfer",Status:null,AddressM:"Blumenstrae 28a/b, Munich",Latitude:48.1324191,Longitude:11.5713843,Period:5},geometry:{type:"MultiPolygon",coordinates:[[[[11.5721473,48.1334069],[11.5720906,48.1333067],[11.5720788,48.1332871],[11.571216,48.1333728],[11.5707799,48.1324139],[11.5707649,48.1323473],[11.5708699,48.1323032],[11.5709457,48.132387],[11.5710302,48.1323504],[11.5709555,48.1322673],[11.5710806,48.1322148],[11.5712043,48.1323072],[11.5732702,48.1335162],[11.5729112,48.1337831],[11.572667,48.133981],[11.5723528,48.134081],[11.5722744,48.1338182],[11.5722402,48.1337106],[11.5724473,48.1336766],[11.5725494,48.133668],[11.5725527,48.133634],[11.5725895,48.1336222],[11.5727347,48.1336525],[11.5729105,48.1335326],[11.5724063,48.1332332],[11.5722012,48.1333977],[11.5721473,48.1334069]],[[11.5711804,48.1327377],[11.5713635,48.1327041],[11.5714661,48.1326236],[11.5711241,48.1324267],[11.5710007,48.1324737],[11.5710356,48.132569],[11.571096,48.1325605],[11.5711804,48.1327377]],[[11.5713052,48.1329756],[11.5712737,48.1329832],[11.5712924,48.1330235],[11.571742,48.132938],[11.5718436,48.1328648],[11.5717927,48.1328364],[11.5718131,48.1328169],[11.5716327,48.132714],[11.5715429,48.1327805],[11.5712153,48.13284],[11.5712284,48.1328771],[11.5712639,48.1328715],[11.5713052,48.1329756]],[[11.5720101,48.1330545],[11.5718749,48.1329783],[11.5719923,48.1328856],[11.5721275,48.1329619],[11.5720101,48.1330545]],[[11.5721997,48.1332414],[11.5721259,48.1332045],[11.5721075,48.1331295],[11.5722007,48.1330557],[11.5723345,48.1331394],[11.5721997,48.1332414]],[[11.5713295,48.1331134],[11.5713579,48.1331862],[11.5714538,48.1331658],[11.571495,48.1332708],[11.5719756,48.133207],[11.5719422,48.1331447],[11.5717399,48.1330336],[11.5713295,48.1331134]],[[11.5722903,48.1337343],[11.5723575,48.1339439],[11.5723885,48.133956],[11.5726613,48.1338749],[11.5727078,48.1338292],[11.572501,48.1337006],[11.5722903,48.1337343]]]]}},{type:"Feature",properties:{fid:27759,osm_id:"93979556",id:202,"Current Name (DE)":"Synagoge an der Reichenbachstrae Mnchen","Current Name (Eng)":"Synagogue on Reichenbachstrasse Munich","Previous Name":null,Address:"Reichenbachstrae 27","Starting year":1930,"Completion year/Opening year":"1931","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":"1947",Rebuilt:null,Moved:null,Type:"building",Function:"synagogue",Description:"https://www.juedisches-museum-muenchen.de/kalender/details/synagoge-reichenbachstrasse",Website:"https://synagoge-reichenbach.de/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Synagoge_an_der_Reichenbachstra%C3%9Fe_M%C3%BCnchen","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gustav Meyerstein",Status:null,AddressM:"Reichenbachstrae 27, Munich",Latitude:48.1314531,Longitude:11.5760211,Period:5},geometry:{type:"MultiPolygon",coordinates:[[[[11.5706906,48.1331845],[11.5705953,48.1332179],[11.5706215,48.1332587],[11.5707323,48.1332174],[11.5707492,48.1332441],[11.5706831,48.1332711],[11.5707123,48.1333068],[11.5709056,48.1332293],[11.570834,48.1331343],[11.5706906,48.1331845]]]]}},{type:"Feature",properties:{fid:105364,osm_id:"223195343",id:204,"Current Name (DE)":"Flughafen Mnchen-Riem","Current Name (Eng)":"Munich-Riem Airport","Previous Name":null,Address:"De-Gasperi-Bogen 20","Starting year":1936,"Completion year/Opening year":"1939","Zerstrt/Destroyed":1945,"Renoviert/New use/Expansion":"1958, 1962",Rebuilt:"1948-1949",Moved:"1992",Type:"building",Function:"airport",Description:"during the night from 16 to 17 May 1992, operations moved to the new airport, https://www.munich-airport.de/fliegender-wechsel-ein-umzug-wird-vorbild-1896501, https://konbriefing.com/mad/anflugkarten/de-deutschland/muenchen-riem-flughafen.html",Website:"https://flughafen-muenchen-riem.de/","Muenchen.de":"https://www.muenchen.de/stadtteile/riem-wissenswertes-tipps-und-infos","Wikipedia page":"https://de.wikipedia.org/wiki/Flughafen_M%C3%BCnchen-Riem","Owner/Initiator/Commissioned by":"Flughafen Mnchen-Riem GmbH (1949)","Architect/Artist/Author":null,Status:null,AddressM:"De-Gasperi-Bogen 20, Munich",Latitude:48.1348015,Longitude:11.7152533,Period:5},geometry:{type:"MultiPolygon",coordinates:[[[[11.7150296,48.1347047],[11.7152774,48.1349094],[11.7154362,48.1348238],[11.7151884,48.1346191],[11.7150296,48.1347047]]]]}},{type:"Feature",properties:{fid:152159,osm_id:"423368360",id:206,"Current Name (DE)":"Volkssternwarte Mnchen","Current Name (Eng)":"Munich Public Observatory","Previous Name":null,Address:"145H Rosenheimer Str","Starting year":null,"Completion year/Opening year":"1947","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"planetarium ",Description:"https://www.atlasobscura.com/places/volkssternwarte-munchen",Website:"https://sternwarte-muenchen.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/top-sehenswuerdigkeiten/bayerische-volkssternwarte","Wikipedia page":"https://de.wikipedia.org/wiki/Bayerische_Volkssternwarte_M%C3%BCnchen","Owner/Initiator/Commissioned by":"Peter Westphal","Architect/Artist/Author":null,Status:null,AddressM:"145H Rosenheimer Str, Munich",Latitude:48.1219484,Longitude:11.606653,Period:5},geometry:{type:"MultiPolygon",coordinates:[[[[11.606822,48.1218835],[11.6068503,48.1218853],[11.6071665,48.1219052],[11.6076452,48.1219354],[11.6077343,48.121941],[11.607739,48.121908],[11.6078261,48.1219135],[11.6078222,48.1219408],[11.6079001,48.1219457],[11.6079036,48.1219213],[11.6081405,48.1219363],[11.6081361,48.1219673],[11.6084716,48.1219885],[11.6084534,48.1221168],[11.6076304,48.1220649],[11.6070586,48.122029],[11.6069938,48.122025],[11.6069456,48.1220224],[11.6068037,48.1220127],[11.606822,48.1218835]]]]}},{type:"Feature",properties:{fid:62181,osm_id:"124911353",id:216,"Current Name (DE)":"Bayerische Staatskanzlei","Current Name (Eng)":"Bavarian State Chancellery","Previous Name":null,Address:"Franz-Josef-Strau-Ring 1","Starting year":null,"Completion year/Opening year":"1993","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"chancellery",Description:null,Website:"https://www.bayern.de/staatskanzlei/aufgaben-und-organisation/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/bayerische-staatskanzlei","Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Ludwig Mellinger (1905) and Diethard J. Siegert & Reto Gansser (1993)",Status:null,AddressM:"Franz-Josef-Strau-Ring 1, Munich",Latitude:48.1418663,Longitude:11.5831797,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5825685,48.1425082],[11.5826374,48.1424931],[11.5829378,48.1431057],[11.5829193,48.1431097],[11.5829364,48.1431422],[11.5829479,48.1431657],[11.5829533,48.143179],[11.5829628,48.1431984],[11.5833398,48.1431206],[11.5833259,48.1430884],[11.5832991,48.1430268],[11.5832828,48.1430304],[11.5831079,48.1426737],[11.5829824,48.1424178],[11.5829987,48.1424142],[11.5828701,48.1421519],[11.5828537,48.1421555],[11.5828355,48.1421185],[11.5825782,48.1415937],[11.5825946,48.1415901],[11.5825483,48.1414957],[11.5821684,48.1415786],[11.5822148,48.1416731],[11.5822333,48.141669],[11.5825088,48.1422308],[11.5824399,48.1422459],[11.5825685,48.1425082]]]]}},{type:"Feature",properties:{fid:24184,osm_id:"87406488",id:222,"Current Name (DE)":"Bier-und Oktoberfestmuseum","Current Name (Eng)":"Beer and Oktoberfest Museum","Previous Name":null,Address:"Sterneckerstrae 2","Starting year":null,"Completion year/Opening year":"2005","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"brewery museum",Description:"https://www.atlasobscura.com/places/bier-und-oktoberfestmuseum-beer-and-oktoberfest-museum",Website:"https://www.bier-und-oktoberfestmuseum.de/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Bier-_und_Oktoberfestmuseum","Owner/Initiator/Commissioned by":"Edith-Haberland-Wagner Foundation","Architect/Artist/Author":null,Status:null,AddressM:"Sterneckerstrae 2, Munich",Latitude:48.1352887,Longitude:11.58021,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5803045,48.1353214],[11.5802652,48.135216],[11.5801255,48.1352348],[11.5800674,48.135243],[11.5801003,48.1353491],[11.5801571,48.1353414],[11.5803045,48.1353214]]]]}},{type:"Feature",properties:{fid:1102,osm_id:"24164375",id:223,"Current Name (DE)":"Ohel Jakob: Jdische Hauptsynagoge","Current Name (Eng)":"Ohel Jakob: Jewish Main Synagogue","Previous Name":null,Address:"Sankt-Jakobs-Platz 18","Starting year":null,"Completion year/Opening year":"2006","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"synagogue",Description:"part of the new Jewish Center, https://wlgw.de/juedisches-zentrum-am-jakobsplatz/",Website:"https://www.ikg-m.de/juedisches-zentrum/synagogenfuhrungen/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/bauwerke-und-denkmaeler/synagoge-ohel-jakob","Wikipedia page":null,"Owner/Initiator/Commissioned by":"Jewish Community of Munich and Upper Bavaria","Architect/Artist/Author":"architects Rena Wandel-Hoefer and Wolfgang Lorch",Status:null,AddressM:"Sankt-Jakobs-Platz 18, Munich",Latitude:48.1345449,Longitude:11.5726806,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.5724432,48.1346066],[11.5724403,48.1344071],[11.572878,48.1344042],[11.5728809,48.1346037],[11.5724432,48.1346066]]]]}},{type:"Feature",properties:{fid:32222,osm_id:"97455685",id:227,"Current Name (DE)":"Lehrgangsgebude der Obersten Baubehrde","Current Name (Eng)":null,"Previous Name":null,Address:"Hestrae 136","Starting year":null,"Completion year/Opening year":"Ende 19Jh","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"building",Function:"building",Description:"Brick building",Website:null,"Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Hestrae 136, Munich",Latitude:48.1584402,Longitude:11.5526441,Period:7},geometry:{type:"MultiPolygon",coordinates:[[[[11.552576,48.1586258],[11.5527513,48.1584797],[11.5529147,48.1583436],[11.5527444,48.1582527],[11.5524058,48.1585349],[11.552576,48.1586258]]]]}}],Wk={type:Bk,name:$k,crs:jk,features:Vk},Uk="FeatureCollection",Hk="parks",Zk={type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},Gk=[{type:"Feature",properties:{fid:3,id:null,id_2:null,id_3:18,"Current Name (DE)":"Marienplatz","Current Name (Eng)":"Mary's Square","Previous Name":"Schrannenplatz",Address:"Marienplatz, 80331 Mnchen","Starting year":null,"Completion year/Opening year":"1158","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:"1972",Moved:null,Type_2:"square",Function:"public space",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Marienplatz_(Mnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Marienplatz, 80331 Mnchen, Munich",Latitude:48.1370339,Longitude:11.5758134,Period:1,year:1158},geometry:{type:"MultiPolygon",coordinates:[[[[11.5751334,48.1375602],[11.575137,48.137557],[11.5751316,48.1375401],[11.5754083,48.1374818],[11.5754032,48.1374714],[11.5753954,48.137471],[11.5753906,48.137466899999986],[11.5753915,48.1374618],[11.5753975,48.1374587],[11.5754051,48.1374593],[11.5754099,48.1374635],[11.5755475,48.13743489999999],[11.5755483,48.1374305],[11.5755544,48.1374274],[11.575562,48.13742809999999],[11.5755666,48.137432],[11.5755656,48.1374371],[11.5755606,48.1374397],[11.5755644,48.1374478],[11.5756278,48.1374342],[11.5758903,48.1373777],[11.5763704,48.137267399999985],[11.576479349701211,48.137240013929826],[11.5763918,48.13711709999998],[11.5767594,48.1369865],[11.5768822,48.1368953],[11.5767578,48.1368048],[11.5768776,48.1367306],[11.576872198640821,48.13672690667282],[11.5768701,48.13672769999999],[11.5768666,48.1367272],[11.5768645,48.1367252],[11.5768652,48.1367229],[11.5767953,48.13667319999998],[11.5767918,48.1366727],[11.5767897,48.1366707],[11.5767904,48.1366683],[11.5767934,48.136667],[11.5767969,48.136667399999986],[11.5768621,48.1366279],[11.576782,48.1365875],[11.5765869,48.1367224],[11.576336,48.136818],[11.5761703,48.1368488],[11.57618,48.1368736],[11.5760375,48.136916699999986],[11.5758328,48.1369512],[11.5758036,48.1369401],[11.5756248,48.1369071],[11.5753195,48.1370081],[11.5751703,48.1370426],[11.5750083,48.1370722],[11.5747947,48.1371222],[11.574735621342969,48.137160987835436],[11.5747931,48.1373294],[11.5749313,48.137590199999984],[11.5751075,48.1375572],[11.5751214,48.1375551],[11.5751334,48.1375602]]]]}},{type:"Feature",properties:{fid:7,id:null,id_2:null,id_3:155,"Current Name (DE)":"Hofgarten","Current Name (Eng)":"Court Garden","Previous Name":null,Address:"Hofgartenstrae 1","Starting year":1613,"Completion year/Opening year":"1617","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"garden",Description:"UNESCO-Welterbesttten in Bayern, style of Italian Renaissance gardens",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/top-sehenswuerdigkeiten/hofgarten","Wikipedia page":"https://de.wikipedia.org/wiki/Hofgarten_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":"Duke Maximilian I","Architect/Artist/Author":null,Status:null,AddressM:"Hofgartenstrae 1, Munich",Latitude:48.1427778,Longitude:11.58,Period:1,year:1617},geometry:{type:"MultiPolygon",coordinates:[[[[11.5779712,48.142164],[11.5782806,48.1428182],[11.5782723,48.1428199],[11.5785035,48.1433088],[11.578829,48.1439989],[11.578937,48.1439761],[11.5789332,48.1439681],[11.5817613,48.1433708],[11.5820182,48.1433315],[11.5829364,48.1431422],[11.5829193,48.14310969999998],[11.5829378,48.143105699999985],[11.5826374,48.1424931],[11.5825685,48.14250819999999],[11.5824399,48.1422459],[11.5825088,48.142230799999986],[11.5822333,48.141669],[11.5822148,48.14167309999998],[11.5821684,48.14157859999999],[11.58206163126343,48.14137044846133],[11.581332577699042,48.14153912140772],[11.581226828321743,48.14150342636863],[11.5811294,48.141562],[11.5808844,48.1416098],[11.5808742,48.1415866],[11.5800178,48.141751099999986],[11.5800259,48.1417745],[11.5798064,48.1418187],[11.5798347,48.1418836],[11.5792307,48.141997899999986],[11.5792066,48.1419398],[11.5789883,48.1419797],[11.5789729,48.1419497],[11.5781073,48.1421236],[11.5781121,48.1421345],[11.5779712,48.142164]]]]}},{type:"Feature",properties:{fid:42,id:null,id_2:null,id_3:158,"Current Name (DE)":"Englischer Garten","Current Name (Eng)":"English Garden","Previous Name":null,Address:"Englischer Garten","Starting year":1789,"Completion year/Opening year":"1792","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public park",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/top-sehenswuerdigkeiten/englischer-garten","Wikipedia page":null,"Owner/Initiator/Commissioned by":"Kurfrst Karl Theodor","Architect/Artist/Author":"Benjamin Thompson, Friedrich Ludwig von Sckell",Status:null,AddressM:"Englischer Garten, Munich",Latitude:48.1537024,Longitude:11.5930924,Period:2,year:1792},geometry:{type:"MultiPolygon",coordinates:[[[[11.583970042157192,48.144993892967754],[11.58437810179463,48.14569979406361],[11.584485180323256,48.146086095785805],[11.58472514151237,48.146608756476645],[11.584850669641495,48.147034980592586],[11.58491180677282,48.14748832323159],[11.584946594773086,48.14818061925149],[11.584909907341522,48.148977202047895],[11.5846142981105,48.14974660738838],[11.5845281197801,48.149955621664574],[11.584531095431922,48.15005975653769],[11.585107995764504,48.149998448963835],[11.585173579433107,48.150135908715555],[11.585868586621178,48.15004475602612],[11.586040056397641,48.150043916059246],[11.586122572215833,48.150069241372904],[11.586310534292535,48.150306636797886],[11.586763540498568,48.15105756241509],[11.58687815977932,48.1512724458203],[11.587047121441536,48.15167034610904],[11.58773860497583,48.152316225202185],[11.588049984699055,48.15258406107412],[11.588216181279225,48.152837045485434],[11.58799539637022,48.15311385093837],[11.587931106597317,48.15318174693883],[11.587996398530638,48.15331317095565],[11.588568284354931,48.153375793175734],[11.589138140537099,48.153577394057244],[11.589551709589802,48.15408152948539],[11.58989097073731,48.154454443804156],[11.589980480267055,48.15488735488686],[11.59004679017731,48.15521809736449],[11.590005751173964,48.155478772127815],[11.589924132104457,48.15574036183765],[11.589760793678845,48.156082322809226],[11.589559103049105,48.15637984301611],[11.589428897108212,48.15657305980124],[11.58932918950057,48.156744446554626],[11.589332531454222,48.1568108187275],[11.58948410362534,48.15722118864044],[11.589592264907374,48.1573969504117],[11.589877949982561,48.15760193341156],[11.590142512237703,48.15765637495071],[11.590546297392635,48.157786205024046],[11.590758576762198,48.157878068334774],[11.591281428151289,48.158310264778436],[11.59146508831788,48.158550769113],[11.592008536046452,48.15948085384485],[11.592318568960314,48.1598997255839],[11.592758766691007,48.16030357718443],[11.59329117618472,48.1605664096931],[11.593611558435398,48.16092161715104],[11.593983278803549,48.16139949836947],[11.594401449631436,48.16163470204226],[11.59444134831693,48.161660690094294],[11.594523338651468,48.16168240117083],[11.594601608591919,48.16167400620577],[11.594658199805624,48.16166131464383],[11.595143021261825,48.16205387788421],[11.596052429160517,48.16271370877682],[11.596285259391653,48.16279091687801],[11.596564531469342,48.16282878494952],[11.596948601362485,48.162849556308885],[11.597239729160004,48.162860646398826],[11.597606816572153,48.16280669265482],[11.597716797716771,48.16276149770897],[11.597862299250831,48.162678682242735],[11.598079224501461,48.16244109203448],[11.598541895993158,48.16210074530711],[11.598856451341035,48.161878617192734],[11.599185365977148,48.161853502987256],[11.599780719771504,48.161960790284844],[11.600076735561434,48.16224273645747],[11.600185002161671,48.16255544023202],[11.600170520187103,48.16279139753041],[11.599935532359765,48.16336811789694],[11.599808200009885,48.16363608296697],[11.599851711930773,48.163800038781325],[11.600058216228433,48.16413997284455],[11.600229491979402,48.16421856623585],[11.600475066193944,48.16446041800596],[11.600695149734026,48.16472051857801],[11.601067044212195,48.16528349955294],[11.601612177383384,48.165789539293364],[11.60235395181875,48.166352974522134],[11.602781864270188,48.166717341246716],[11.603077996083458,48.167087638083316],[11.603304212993072,48.16746835474304],[11.603524098358065,48.16781092467879],[11.604444896954584,48.168517557174106],[11.604967883845909,48.168759000104615],[11.605631161859938,48.16881464576254],[11.605850243118994,48.168880364972956],[11.606242194497492,48.16914244677265],[11.606425728985032,48.16946227297847],[11.606431475207685,48.169662427578146],[11.60637676447816,48.16979915583576],[11.606262640701615,48.169893051553004],[11.605924810242378,48.17000380370722],[11.605279931693497,48.17022460687549],[11.605177209980832,48.170282898497454],[11.605015374877388,48.170478017445085],[11.60493844614941,48.170871495709],[11.60484832131906,48.171091496517256],[11.604878065493724,48.17124398108577],[11.60528345186841,48.17177084443834],[11.60579567173829,48.172233430305376],[11.606505001847285,48.172588453786865],[11.607184738648685,48.172793930889476],[11.606987226054612,48.17284995739129],[11.607109413592658,48.17291492777968],[11.607068230365702,48.17301453220847],[11.607305780834189,48.17305332123372],[11.607301650402858,48.17318890182442],[11.607663177104971,48.17324107566267],[11.607719126983646,48.17325895045457],[11.607765200547169,48.17329913966935],[11.607789178346325,48.173467953897685],[11.607979847691222,48.173624147751326],[11.60830269453002,48.17378175822643],[11.608358943841285,48.17380551664204],[11.608392943015968,48.17386807001524],[11.60842969820384,48.17389816177082],[11.608489979379138,48.17400135345612],[11.608847875518514,48.17424210945819],[11.609059497795359,48.174377208113654],[11.609373290251511,48.17448642270093],[11.60992805054665,48.17513505466352],[11.610189904028614,48.17573879585475],[11.61017651279384,48.17599534694992],[11.609869394327282,48.176364604809265],[11.60945975780571,48.176709682322226],[11.608959520583518,48.1769183838618],[11.608833616535525,48.17712741876816],[11.60910860762048,48.177512906900155],[11.609504843103108,48.178031127042274],[11.609556766549838,48.17835982838504],[11.609508330832705,48.17862012072959],[11.609236698531282,48.179168237782754],[11.609557301738285,48.179237534815705],[11.610428278401232,48.17921774623871],[11.610991123926258,48.17989417016063],[11.61119194554539,48.180726089016865],[11.611338143571652,48.1811763518501],[11.61225458423144,48.18083741675282],[11.612583933973989,48.18142489058628],[11.61279425120452,48.181317019534426],[11.613567654197928,48.18249524433257],[11.614469200889298,48.182209647056396],[11.614732205692766,48.18270437301873],[11.615274555094873,48.18332233526005],[11.616501773686837,48.18450198954545],[11.617329319607036,48.18518413479073],[11.61768176350021,48.18535871693997],[11.617963116785939,48.18569396775573],[11.618417645374022,48.18666146940214],[11.619147058494587,48.186627169572276],[11.62059567580263,48.18635850411178],[11.621975778219687,48.18595589730115],[11.623915838097346,48.18513402484161],[11.62654256843364,48.183960649575994],[11.628665134608681,48.18309328781716],[11.62939383305396,48.18278796508123],[11.62964029072377,48.18269838071243],[11.627907271125451,48.180718988326326],[11.624597960206948,48.17671678199542],[11.624141116512215,48.1757905914277],[11.622872391088567,48.17474597960719],[11.622420664507473,48.17456631651391],[11.621889594172057,48.1738671322318],[11.62121886634059,48.173149042062],[11.620176825720758,48.172143408336225],[11.619892760687629,48.17162413881468],[11.618896431537454,48.17073673844167],[11.618319720191261,48.170047414306964],[11.617795126350249,48.16934364542213],[11.617522273191977,48.16878435199961],[11.61739558330344,48.168760730423415],[11.616943989929885,48.168841708190975],[11.616782375576008,48.16865099545482],[11.616978362527457,48.168089855640716],[11.61559289200942,48.166950626121384],[11.614225294925676,48.16538242172648],[11.61291270380224,48.163985254090484],[11.61126685558019,48.162136169813074],[11.60997287375982,48.16071203726112],[11.60915367524568,48.15979401949642],[11.608024046335142,48.15861354298116],[11.607604348869694,48.15788967361695],[11.607403785362434,48.15758054428852],[11.607024698171923,48.157266630420025],[11.606455350633018,48.156846581222915],[11.606137646255291,48.156571034105504],[11.60599813430805,48.15642398532598],[11.60462935625365,48.15697194375084],[11.60414201234319,48.15719285110466],[11.603151993027327,48.157723368114894],[11.603010358321177,48.15766472499761],[11.602558654909318,48.15695923494747],[11.601132199623544,48.157477531774674],[11.600873605529683,48.15712994275906],[11.59872725471483,48.15464034797166],[11.598286806450323,48.15480936188118],[11.597882659150136,48.15438995151898],[11.59746154995195,48.154549688763446],[11.596255837433109,48.15342383438296],[11.596145955479846,48.15281662605459],[11.595571005371156,48.15202111494175],[11.595469323716534,48.151837854147715],[11.595385663146173,48.150964969027136],[11.595319407456934,48.15082950626374],[11.594356543920396,48.151505130310724],[11.594108364011863,48.15116612699457],[11.593935518191985,48.15035710779168],[11.593812037272945,48.14974136810355],[11.593846850202727,48.149515260986306],[11.593860180410363,48.149386836265755],[11.59378324960499,48.14903954685974],[11.59444328636636,48.148905352807596],[11.594350352821815,48.14863353220784],[11.592946971100638,48.14816598029237],[11.59166401138982,48.14720528972608],[11.592589046986303,48.14656588597833],[11.592905712792533,48.14643061426858],[11.592762629733045,48.1460803993266],[11.592264792669276,48.14537149199067],[11.59171036711396,48.144849417892786],[11.590936575162603,48.14429694510262],[11.59040098945703,48.14401743307317],[11.58966714933742,48.143733552451934],[11.58896895118427,48.14350188052394],[11.588666011191549,48.143385002682436],[11.588513175996033,48.143233814962834],[11.587812686191617,48.143390719364334],[11.587813062733542,48.14339369731802],[11.587667900455514,48.14342314962335],[11.587537277971316,48.14345240729443],[11.587490219033013,48.14363239882315],[11.58752323878539,48.14396080042315],[11.58747327984191,48.14428002612842],[11.587359526249813,48.14426602085654],[11.587330091465383,48.144304237399304],[11.587256107946505,48.144375488328535],[11.587150897916683,48.144416516144865],[11.586946722677514,48.14445866830738],[11.586967463492337,48.14451011336947],[11.585014916877357,48.14490089032518],[11.584667084491262,48.14415322994993],[11.584666086813632,48.14413337113762],[11.58457943760695,48.14414967960603],[11.584548046715218,48.14411614599549],[11.584501612021048,48.144111668255775],[11.58437323881933,48.14421727655322],[11.584177360338952,48.14439177884688],[11.584085058599019,48.14442699085592],[11.583731568426545,48.144500533871785],[11.583970042157192,48.144993892967754]]]]}},{type:"Feature",properties:{fid:12,id:null,id_2:null,id_3:159,"Current Name (DE)":"Karlsplatz (Stachus)","Current Name (Eng)":"Karlsplatz square","Previous Name":"Stachus (unofficial)",Address:"Karlsplatz 1","Starting year":1791,"Completion year/Opening year":"1797","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public square, transport hub",Description:"Created after demolition of medieval wall",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/sehenswerte-plaetze/karlsplatz-stachus","Wikipedia page":"https://de.wikipedia.org/wiki/Stachus","Owner/Initiator/Commissioned by":"Elector Karl Theodor","Architect/Artist/Author":null,Status:null,AddressM:"Karlsplatz 1, Munich",Latitude:48.1401299,Longitude:11.5669279,Period:2,year:1797},geometry:{type:"MultiPolygon",coordinates:[[[[11.565642348010622,48.138864962674496],[11.565665047355775,48.13902519291832],[11.565682634626349,48.139082891947396],[11.565720387314197,48.13917131978488],[11.565832090155746,48.13935622829927],[11.565878771758566,48.139407369718334],[11.566042655437583,48.139576671429175],[11.566129780191908,48.13964233474971],[11.5661804,48.1396157],[11.5663345,48.1395282],[11.566337,48.1395302],[11.5663708,48.1395094],[11.5663998,48.1394867],[11.5664238,48.139462299999984],[11.5664335,48.1394499],[11.5664432,48.13943729999998],[11.566461,48.1394072],[11.5664724,48.1393782],[11.5664791,48.1393476],[11.5664805,48.1393166],[11.5664765,48.1392858],[11.5664673,48.139256899999985],[11.5664622,48.1392584],[11.5664262,48.1392019],[11.5663132,48.139025],[11.5662777,48.1389694],[11.5662811,48.1389684],[11.5662535,48.1389414],[11.5662239,48.1389186],[11.5661894,48.13889779999999],[11.5661511,48.1388798],[11.5661101,48.138865],[11.5660663,48.1388537],[11.5660231,48.1388455],[11.5659785,48.1388408],[11.5659333,48.1388397],[11.5658916,48.1388418],[11.565892,48.1388451],[11.56569,48.1388597],[11.565642348010622,48.138864962674496]]]]}},{type:"Feature",properties:{fid:14,id:null,id_2:null,id_3:40,"Current Name (DE)":"Knigsplatz","Current Name (Eng)":"King's Square","Previous Name":"Kniglicher Platz",Address:"Knigsplatz 1, 80333 Mnchen","Starting year":null,"Completion year/Opening year":"1806","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":"1935, 1987",Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:"New Munich', part of 1933-1937 'Nationalsozialistische Stadtentwicklung' (National Socialist urban development) according to Munich City Museum",Website:null,"Muenchen.de":null,"Wikipedia page":"https://en.wikipedia.org/wiki/K%C3%B6nigsplatz,_Munich","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Leo von Klenze",Status:null,AddressM:"Knigsplatz 1, 80333 Mnchen, Munich",Latitude:48.1452,Longitude:11.56451,Period:3,year:1806},geometry:{type:"MultiPolygon",coordinates:[[[[11.563701139813192,48.14549947509658],[11.563853651694085,48.14576342810133],[11.563754486683305,48.14579761776101],[11.563660627181482,48.14593827645915],[11.563534420918774,48.146175585774714],[11.563639779378425,48.146372197735474],[11.564155859312992,48.14650101851369],[11.564224977944829,48.14655632221871],[11.56430788714601,48.146675270533464],[11.564293658492728,48.14670934090103],[11.564348372011306,48.1467951659191],[11.564469281600555,48.14677114904232],[11.565275515459867,48.14654352402038],[11.56516626308195,48.14637542384257],[11.565421687740153,48.146280896415206],[11.565493629420434,48.14623310167994],[11.565592440062858,48.146191812596165],[11.565660671390718,48.146176076894214],[11.565804206978946,48.14617997655954],[11.566082080657191,48.14610981661728],[11.566190981330779,48.14627081796035],[11.566971746823373,48.14606506743782],[11.566145400447603,48.14479826316823],[11.565380382190197,48.145000103554935],[11.56549635089399,48.14519647689249],[11.565328957937785,48.14524640346118],[11.565342218297726,48.14529940108942],[11.564803270170136,48.14545710624121],[11.564768090818333,48.14539038630643],[11.564574712481845,48.145451550741726],[11.564465641736785,48.14528699875451],[11.563701139813192,48.14549947509658]]]]}},{type:"Feature",properties:{fid:22,id:null,id_2:null,id_3:96,"Current Name (DE)":"Botanischer Garten Mnchen-Nymphenburg","Current Name (Eng)":"Botanical Garden Munich-Nymphenburg","Previous Name":"Botanical Garden",Address:"Menzinger Str. 65","Starting year":null,"Completion year/Opening year":"1809","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:"1914",Moved:null,Type_2:"garden",Function:"botanical garden",Description:null,Website:"https://botmuc.snsb.de/","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Botanischer_Garten_M%C3%BCnchen-Nymphenburg","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich Ludwig von Sckell (1809), Peter Holfelder, Walter Kupper, Leonhard Dillis (1914)",Status:null,AddressM:"Menzinger Str. 65, Munich",Latitude:48.1644161,Longitude:11.5017198,Period:3,year:1809},geometry:{type:"MultiPolygon",coordinates:[[[[11.495859706864334,48.16508902856347],[11.496549110315422,48.165037642672516],[11.499876931253638,48.16464802421413],[11.503647347593418,48.1642486637892],[11.503602469788595,48.16364634912726],[11.503638990048351,48.16248057397379],[11.503596338567233,48.16128531930918],[11.503329282061602,48.16122872965398],[11.500884396744464,48.161146761325334],[11.500312793877908,48.16122161359938],[11.499189153814132,48.161454096708276],[11.49870075300561,48.161641548352165],[11.49670567576421,48.162818700730924],[11.495419865333792,48.163715172275424],[11.495859706864334,48.16508902856347]]]]}},{type:"Feature",properties:{fid:6,id:null,id_2:null,id_3:9,"Current Name (DE)":"Marstallplatz","Current Name (Eng)":null,"Previous Name":null,Address:"Marstallpl., 80539 Mnchen","Starting year":null,"Completion year/Opening year":"1820","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:null,Website:"https://www.muenchenarchitektur.com/architektur-highlights/21-kultur-und-bildungsbauten/23196-marstallplatz-sued","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Marstallplatz_(Mnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gewers Khn & Khn",Status:null,AddressM:"Marstallpl., 80539 Mnchen, Munich",Latitude:48.1403074,Longitude:11.5814734,Period:3,year:1820},geometry:{type:"MultiPolygon",coordinates:[[[[11.580813628578897,48.140438995024844],[11.58101179311024,48.14040106555987],[11.5815409,48.1411085],[11.5820532,48.1409163],[11.5818363,48.140662],[11.5817967,48.1406059],[11.5812146,48.1399053],[11.5810177,48.1396997],[11.5805913,48.1398173],[11.580572433912868,48.13984626408442],[11.580813628578897,48.140438995024844]]]]}},{type:"Feature",properties:{fid:5,id:null,id_2:null,id_3:162,"Current Name (DE)":"Max-Joseph-Platz","Current Name (Eng)":"Max Joseph Square","Previous Name":null,Address:"Max-Joseph-Platz 2","Starting year":null,"Completion year/Opening year":"1825","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":"1964",Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:"New Munich'",Website:"In 1964, the underground car park with 500 parking spaces was opened under Max-Joseph-Platz.","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/sehenswerte-plaetze/max-joseph-platz","Wikipedia page":"https://de.wikipedia.org/wiki/Max-Joseph-Platz","Owner/Initiator/Commissioned by":"Ludwig I","Architect/Artist/Author":"Leo von Klenze",Status:null,AddressM:"Max-Joseph-Platz 2, Munich",Latitude:48.1394402,Longitude:11.5797847,Period:3,year:1825},geometry:{type:"MultiPolygon",coordinates:[[[[11.578850729675988,48.14015982333973],[11.578549394558927,48.13947465446824],[11.577583236318198,48.13965732370245],[11.577570753976287,48.13993674048016],[11.577567479980438,48.14004758246509],[11.577506679948236,48.14041965213049],[11.577996120936703,48.14032300691266],[11.578104849522637,48.14029102822641],[11.57817119537831,48.14029396978175],[11.578850729675988,48.14015982333973]]]]}},{type:"Feature",properties:{fid:10,id:null,id_2:null,id_3:163,"Current Name (DE)":"Odeonsplatz","Current Name (Eng)":"Odeonsplatz square","Previous Name":null,Address:"Odeonsplatz 1","Starting year":null,"Completion year/Opening year":"1825","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:"New Munich'",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/sehenswerte-plaetze/odeonsplatz","Wikipedia page":"https://de.wikipedia.org/wiki/Odeonsplatz","Owner/Initiator/Commissioned by":"Ludwig I","Architect/Artist/Author":null,Status:null,AddressM:"Odeonsplatz 1, Munich",Latitude:48.1427484,Longitude:11.5775471,Period:3,year:1825},geometry:{type:"MultiPolygon",coordinates:[[[[11.5770987,48.143236],[11.5771804,48.1434152],[11.5772971,48.14364110000001],[11.5773451,48.1437937],[11.5775328,48.1442015],[11.5779898,48.144107],[11.57810924257469,48.14407861693628],[11.578103834864859,48.144068564025524],[11.57765867724244,48.14312643835435],[11.5775537,48.143143399999985],[11.5770987,48.143236]]]]}},{type:"Feature",properties:{fid:20,id:null,id_2:null,id_3:211,"Current Name (DE)":"Olympiapark","Current Name (Eng)":"Olympic Park","Previous Name":null,Address:"Spiridon-Louis-Ring 21","Starting year":1967,"Completion year/Opening year":"1972","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"park",Description:"UNESCO-Welterbetitel (UNESCO World Heritage title)",Website:"https://www.olympiapark.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/olympiapark","Wikipedia page":"https://de.wikipedia.org/wiki/Olympiapark_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"architects Behnisch & Partner, landscapearchitects Gnther Grzimek, Wolfgang Miller & Hans Lutz",Status:null,AddressM:"Spiridon-Louis-Ring 21, Munich",Latitude:48.1750353,Longitude:11.5561896,Period:6,year:1972},geometry:{type:"MultiPolygon",coordinates:[[[[11.545847464443707,48.17613551163972],[11.54496382227989,48.176364487141754],[11.543305733598068,48.1765988346274],[11.541753954556421,48.17689668169652],[11.541129802880961,48.17717399240293],[11.54066393353358,48.17761719388488],[11.540461974429922,48.178085926977076],[11.540138199558681,48.17931649200531],[11.539974719994037,48.1803741173274],[11.540337413384984,48.182587048499734],[11.54102380644406,48.18470498456533],[11.541231552997475,48.18549089691996],[11.541357582523391,48.18595237537159],[11.54190541624578,48.18621630559995],[11.543981918803896,48.18608878206384],[11.54691589640847,48.18603632233527],[11.551572388416517,48.18590789994485],[11.55204169081636,48.18534537472321],[11.55286469498095,48.184160148373785],[11.5540069791007,48.18241571678266],[11.555878948373755,48.179688863443374],[11.55705195272816,48.17800018103375],[11.557816949504957,48.176784838642945],[11.558024994838595,48.17625319981527],[11.558177342580183,48.17591408358829],[11.558214627099908,48.17591325330748],[11.55955631893317,48.174749589549094],[11.560981315697417,48.17338642145949],[11.560357387993397,48.17303627192053],[11.560608016842778,48.171512046653945],[11.558426148602663,48.1713370249968],[11.558631239907427,48.17030269508336],[11.557208197865366,48.17014195149386],[11.557014569391011,48.170000638714484],[11.55687687044174,48.169733261106714],[11.556736316309989,48.16956476243395],[11.556615946545616,48.169489429114265],[11.556393840895268,48.16940075725292],[11.556204350975563,48.169342564115254],[11.555865753332837,48.16925648335807],[11.555737361041855,48.169176126797154],[11.555662299393802,48.16907378036834],[11.555991129218135,48.16849437422938],[11.555345011321776,48.16832151919332],[11.554445500107471,48.16789945534122],[11.553927310113286,48.16748450991184],[11.553201589160887,48.16664770776173],[11.552888533678194,48.16566650961709],[11.552793958101182,48.16470125881447],[11.552793982431366,48.16157036361315],[11.551471855417239,48.161558131001044],[11.550782857584249,48.161459014484784],[11.55073068780976,48.16213107893272],[11.550653002415048,48.16228882854794],[11.549874903196983,48.16297960929983],[11.54939746351009,48.163541493154526],[11.547264454560374,48.165835565000066],[11.545652294373264,48.167504358541436],[11.545120346805644,48.16743813314043],[11.544563816745471,48.16734644572643],[11.54494111350166,48.16774375128175],[11.544889736478321,48.16811934813238],[11.544507242001416,48.16855948866134],[11.543836821958696,48.16915162688601],[11.543299351231866,48.169288347009385],[11.542541137253403,48.1692063155582],[11.539853809644207,48.16847523909891],[11.538609442066157,48.16783704086965],[11.53829630280336,48.167635927959154],[11.538407324403108,48.16972680129841],[11.538993781170852,48.17247027012725],[11.540714568638055,48.17456455646141],[11.54257565112723,48.17571956661559],[11.543872627835883,48.17615892651212],[11.545847464443707,48.17613551163972]]]]}},{type:"Feature",properties:{fid:21,id:null,id_2:null,id_3:null,"Current Name (DE)":"Westfriedhof","Current Name (Eng)":"West Cemetery","Previous Name":null,Address:"2 Emmy-Noether-Strasse","Starting year":null,"Completion year/Opening year":"1898","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:"https://www.atlasobscura.com/places/westfriedhof-station",Website:null,"Muenchen.de":"https://www.muenchen.de/leben/westfriedhof","Wikipedia page":"https://de.wikipedia.org/wiki/Westfriedhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hans Grssel, Ingo Maurer",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1898},geometry:{type:"MultiPolygon",coordinates:[[[[11.515099530588635,48.173248123907456],[11.520582847541386,48.17470898758511],[11.521606624128589,48.17528981300082],[11.522294229228166,48.175357930855554],[11.522782158380112,48.17515998811006],[11.528276866613629,48.17241798701462],[11.52852331275195,48.16920886680349],[11.527244517234623,48.169132990785585],[11.52704586516036,48.16888772219095],[11.522904983118105,48.168791509142125],[11.517613185880657,48.16805467290516],[11.515099530588635,48.173248123907456]]]]}},{type:"Feature",properties:{fid:23,id:null,id_2:null,id_3:null,"Current Name (DE)":"Schlosspark Nymphenburg","Current Name (Eng)":"Nymphenburg palace park","Previous Name":null,Address:"Neuhausen-Nymphenburg, 80638 Mnchen","Starting year":null,"Completion year/Opening year":"1664","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:"https://www.schloss-nymphenburg.de/deutsch/park/index.htm","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/schlosspark-nymphenburg","Wikipedia page":"https://de.wikipedia.org/wiki/Schlosspark_Nymphenburg","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1,year:1664},geometry:{type:"MultiPolygon",coordinates:[[[[11.483287334292626,48.16264759438662],[11.48424123459685,48.16246384959474],[11.485403845936606,48.16232995491532],[11.486334991737767,48.16232235305389],[11.48753914972071,48.16253050854954],[11.488277348031689,48.16279893620378],[11.489313433927338,48.16366737768713],[11.490216477413794,48.16449895947963],[11.490783487064716,48.16484636821534],[11.492022642800615,48.16532349410973],[11.492121846577223,48.165241873141234],[11.492702480676009,48.16522509293714],[11.493008072392277,48.165080436584034],[11.495376094848291,48.16363204214053],[11.498909345597514,48.16146394839062],[11.500955176849788,48.16110991571173],[11.50525505834802,48.16121280305586],[11.505305773359497,48.16071396986603],[11.505547020423053,48.16053303981007],[11.506107637809247,48.16049153261646],[11.506887163631786,48.16032395079011],[11.507529429614204,48.16003388243338],[11.508210714615622,48.159646759077525],[11.508566039218838,48.159241654783834],[11.508745895173973,48.15882783383041],[11.509076177614096,48.158678412384425],[11.50910493336314,48.15824279556365],[11.508950781499426,48.15815832824747],[11.508719304682373,48.157770220816964],[11.508208851322394,48.15704523270382],[11.507126371834842,48.1563829194217],[11.506050976586158,48.156121969536144],[11.5057652306586,48.155902343465755],[11.505898134905497,48.155037831852994],[11.504406866935799,48.154451331311144],[11.501959434269967,48.154253708641505],[11.501000972795786,48.154082181558245],[11.498518347227924,48.15341680253118],[11.499284104574404,48.15116664436718],[11.50009415926261,48.148028807596575],[11.499190653385448,48.14692753533359],[11.494928329280796,48.147187494940546],[11.491134732349765,48.147060699235915],[11.49011891087412,48.14725002798017],[11.488070033622316,48.14830661009388],[11.486358666697786,48.14962353541849],[11.484595672073036,48.15116741059812],[11.483673696723924,48.152525773957485],[11.482502756815437,48.154684199724294],[11.481595204064766,48.15686201832236],[11.48130235661602,48.15804783037016],[11.481256853151068,48.158659469087844],[11.481382183766673,48.15944308581669],[11.481791587541425,48.16067228342644],[11.48244194420665,48.161712239576346],[11.483287334292626,48.16264759438662]]]]}},{type:"Feature",properties:{fid:24,id:null,id_2:null,id_3:null,"Current Name (DE)":"Hirschgarten","Current Name (Eng)":"Deers garden","Previous Name":null,Address:"Hirschgarten 1, 80639 Mnchen","Starting year":null,"Completion year/Opening year":"1720","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/koeniglicher-hirschgarten","Wikipedia page":"https://de.wikipedia.org/wiki/Hirschgarten_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:2,year:1720},geometry:{type:"MultiPolygon",coordinates:[[[[11.511661457344635,48.14982175141451],[11.513865819496692,48.1500370340692],[11.517599993928547,48.150093277721524],[11.5193087916346,48.15014364738415],[11.520124348628569,48.14995008872268],[11.519532344285427,48.14934823416019],[11.519072991239208,48.14915754427885],[11.518969518491414,48.14895904893932],[11.519052735652464,48.14874391177209],[11.516867858681465,48.14701002067884],[11.514343636088052,48.14715313578638],[11.513928872790446,48.146723041610095],[11.511964708505298,48.146816202583054],[11.511669317257894,48.14691049634931],[11.511182107032422,48.14653216752296],[11.511154811860441,48.14635709538051],[11.507815051179987,48.14669356159007],[11.50784905658004,48.14700651345043],[11.507664813399249,48.14707327463798],[11.508091139117354,48.147741546392886],[11.50847695948852,48.14834796225836],[11.509109509512893,48.148246312610674],[11.50971261528967,48.14946281859152],[11.510566506824011,48.14967001901265],[11.511661457344635,48.14982175141451]]]]}},{type:"Feature",properties:{fid:25,id:null,id_2:null,id_3:null,"Current Name (DE)":"Westpark","Current Name (Eng)":"West park","Previous Name":null,Address:"Westpark , 81373 Mnchen","Starting year":null,"Completion year/Opening year":"1983","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/parks-und-gaerten/westpark","Wikipedia page":"https://de.wikipedia.org/wiki/Westpark_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Peter Kluska",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:6,year:1983},geometry:{type:"MultiPolygon",coordinates:[[[[11.50708603650101,48.1197658971541],[11.507485951622925,48.12233382128369],[11.508317987017083,48.12462575691193],[11.508562073369914,48.12467437088528],[11.508688884363993,48.12503969448696],[11.51492025968042,48.12414184870705],[11.518453894716403,48.12351862746663],[11.519202090525631,48.12331182608882],[11.519453140493628,48.1229699579119],[11.519467815846886,48.122785589130046],[11.520027165520423,48.12269081418582],[11.520434077786662,48.122967475503536],[11.520963001174675,48.123219244893946],[11.521997496743278,48.12334250247727],[11.522370583138537,48.12350883692597],[11.522805840199933,48.12368649750384],[11.52533429446227,48.12344371230995],[11.52553313733762,48.12343934019332],[11.525845016722652,48.12380692229563],[11.52606456306277,48.12441769923379],[11.526088806785152,48.12471862220338],[11.526098829160267,48.12482629135028],[11.52601269328632,48.12500271299144],[11.525816954666826,48.12507048209787],[11.526008236868256,48.125491487266785],[11.526179339704514,48.12588755015552],[11.526314920859708,48.12652555896905],[11.527455853867183,48.12620852177042],[11.529103308016449,48.12597551758],[11.530151890182017,48.12590165188744],[11.530600990048276,48.125974261723954],[11.530986263692881,48.12590548124035],[11.531666715855737,48.12624905905719],[11.53178829613522,48.12640821353512],[11.53184526726573,48.12641013093346],[11.532155100601328,48.12634935592245],[11.532252443072553,48.12640115465766],[11.532682754342705,48.12676610717972],[11.532754004282072,48.12744360586926],[11.532927037279105,48.1278776949533],[11.533263460137723,48.127971818558805],[11.533721956954102,48.127657075743834],[11.533684500158232,48.127473855059115],[11.53371834864173,48.12734300621041],[11.5340271495143,48.127020457979725],[11.534172236462815,48.12679037140973],[11.534597937680612,48.12667626168489],[11.534781339188852,48.12664682854861],[11.534976863113414,48.126671072380944],[11.535327953695456,48.126774385875926],[11.535668483497858,48.12685571887851],[11.535549262094918,48.12712966150939],[11.53722794911277,48.12753049608633],[11.537528970973554,48.1270986339363],[11.537589006161028,48.12697037857614],[11.53749669060156,48.12663605627287],[11.536354138235183,48.12653436364196],[11.536200338567623,48.12639496474515],[11.535583226858428,48.126183290831015],[11.535727707348206,48.12603730607098],[11.535541705766086,48.12591765657134],[11.535196811829591,48.125747569245874],[11.534385908919013,48.125546512709434],[11.533659453156899,48.125327721523284],[11.532853409300353,48.12493615354465],[11.532454580667206,48.12472916870047],[11.532242243680694,48.12407381959422],[11.532067394465368,48.123024163719236],[11.532085200012691,48.122807991871426],[11.531444455721717,48.12288558032699],[11.530754496814994,48.12292617091376],[11.529985238104539,48.12308908668477],[11.528986673958448,48.12302222793592],[11.528610548714788,48.122890887282374],[11.528556742158917,48.1221812695846],[11.52608405467823,48.12201355379278],[11.52588041390061,48.122113229120686],[11.522457785041029,48.121902857764944],[11.522382802630975,48.12133967077805],[11.521702944414445,48.121392678065156],[11.521821535855862,48.121878750620596],[11.520792420783723,48.122155199513145],[11.51986031257021,48.12228354267523],[11.51915389412378,48.12237519615961],[11.518280519047122,48.121378917662526],[11.517681248983827,48.120947804362],[11.514938890322986,48.12069056309024],[11.513924545787505,48.12068738347081],[11.511878037748115,48.12051003310313],[11.50708603650101,48.1197658971541]]]]}},{type:"Feature",properties:{fid:26,id:null,id_2:null,id_3:null,"Current Name (DE)":"Luitpoldpark","Current Name (Eng)":"Luitpold park","Previous Name":null,Address:"Brunnerstrae 2","Starting year":null,"Completion year/Opening year":"1911","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/parks-und-gaerten/luitpoldpark","Wikipedia page":"https://de.wikipedia.org/wiki/Luitpoldpark_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1911},geometry:{type:"MultiPolygon",coordinates:[[[[11.567242209771562,48.171905274714184],[11.567516783316307,48.17203951616483],[11.567587397038213,48.17209981555046],[11.567623148725636,48.17214085086898],[11.567691028381553,48.17221876203166],[11.567714702735614,48.17315245992315],[11.567678253264507,48.17346742265508],[11.567780211580926,48.173985346727434],[11.567989836361972,48.17426764367642],[11.568041088817006,48.174367644083816],[11.568050503778409,48.17440809550389],[11.568061477702551,48.174455244924964],[11.568055217094486,48.174519840746726],[11.568044824631471,48.174562989494746],[11.568042202117727,48.17457387796974],[11.568031651623505,48.17460009449464],[11.568026846229566,48.17460502423707],[11.56800260005252,48.17462989781177],[11.567956725483185,48.17466372665509],[11.567892213470692,48.1747112990246],[11.567749113911185,48.17483825295367],[11.567662168298858,48.17494967214235],[11.567652933924363,48.175002236533885],[11.567693153761667,48.175142545474785],[11.56774829128699,48.17520160406646],[11.567657787872351,48.175289303682035],[11.567515782965302,48.17534324897213],[11.567241714042847,48.17536524016045],[11.567161763822416,48.1754053093309],[11.567459911791508,48.17574432230234],[11.56767568919188,48.17569507461496],[11.567944849744377,48.17557482256663],[11.56842001641783,48.17558958549921],[11.568488499206873,48.175061301212715],[11.568547530111989,48.17472362089449],[11.568719342968429,48.17436437943192],[11.568820056799495,48.17391153122016],[11.568994111979029,48.17378705686908],[11.569963367970988,48.17381614861407],[11.570395251997203,48.17391437512568],[11.57087361032967,48.17418291345082],[11.57118422836311,48.17451232213053],[11.571484141848474,48.17500697664792],[11.571696539132624,48.17545916461311],[11.572260384954957,48.17648735435679],[11.571970530797456,48.177331572148645],[11.570100703831775,48.17694186320956],[11.570015749732352,48.17714050291067],[11.571928573159152,48.17763079341202],[11.572663800289813,48.177722219748176],[11.57260434868824,48.177482387041444],[11.572538106659307,48.17653825328408],[11.572682561751177,48.17544343320394],[11.572116977640352,48.17513877685563],[11.572264018053962,48.17428506342715],[11.572368549073264,48.17409867640153],[11.572447819440866,48.17397631920856],[11.572371005101415,48.1737686072192],[11.57269607966376,48.172301649161874],[11.57253238480552,48.17206415079771],[11.572559422931876,48.17146698100479],[11.572709345549475,48.17086071269996],[11.572767350890066,48.1703136206469],[11.572267291229572,48.170369244049255],[11.571305076512235,48.17047963586771],[11.571027615557592,48.16910549765455],[11.570875828612921,48.16910572151889],[11.570546542265257,48.16750109706416],[11.569110551057253,48.167622071547676],[11.56899519344896,48.16721213343564],[11.56934455432342,48.16717893418091],[11.56924089015333,48.166813159760416],[11.570119973170753,48.16674906991375],[11.570054241093036,48.16657284046273],[11.570347372905465,48.16655358899176],[11.57012326933463,48.16567644911366],[11.569915080081898,48.165497060332136],[11.569701792426583,48.16502584931009],[11.568482550360162,48.165116581654146],[11.568343452115558,48.16423119115213],[11.567607181196266,48.16430476843082],[11.567880104360567,48.16573296142364],[11.567380399516688,48.165794902237955],[11.567543866244863,48.167168424127],[11.568130138790458,48.16712993310365],[11.568209825079691,48.16777548746912],[11.566752017584088,48.167839802252736],[11.56680452417181,48.168511350472656],[11.567093594618914,48.16879048025996],[11.56719414602662,48.16966404025893],[11.567300368010715,48.17036611982083],[11.567412304195017,48.171277503589224],[11.567305860493587,48.171425850308346],[11.567242209771562,48.171905274714184]]]]}},{type:"Feature",properties:{fid:27,id:null,id_2:null,id_3:null,"Current Name (DE)":"Sdpark","Current Name (Eng)":"Southpark","Previous Name":null,Address:"200, Sdparkallee, 81379 Mnchen","Starting year":1969,"Completion year/Opening year":"1970","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/parks-und-gaerten/suedpark","Wikipedia page":"https://de.wikipedia.org/wiki/S%C3%BCdpark_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:6,year:1970},geometry:{type:"MultiPolygon",coordinates:[[[[11.512152232486164,48.101736884232764],[11.512096970872301,48.10169855690645],[11.511235518077692,48.10171422333946],[11.510131167111526,48.10170346011415],[11.510169834143966,48.101232977099045],[11.510002193857936,48.101195389050964],[11.509683426910597,48.101167449796506],[11.508880980770934,48.10103266737841],[11.508832677357319,48.10062437604341],[11.508649092599383,48.09986998454382],[11.508549355364371,48.09947550943718],[11.508653258171476,48.09937169653213],[11.50858592708602,48.09905901753356],[11.508443498879986,48.099052608817],[11.508058237336588,48.099118141094806],[11.50704765994028,48.09908626114293],[11.506377231232467,48.09913262666209],[11.505111454835534,48.1001851964618],[11.504796219012256,48.10052208787042],[11.504339446963677,48.10116352141192],[11.504241694043754,48.101394125334316],[11.504164453714242,48.10175438422314],[11.504122804548635,48.10216463865246],[11.504218441147893,48.102670269691195],[11.504383219470512,48.103136314216336],[11.504601556341969,48.103534552741856],[11.504887495852554,48.10386150544273],[11.50532853783246,48.10416286151825],[11.505711050642661,48.10433221736767],[11.507442777612646,48.105259083293895],[11.510977199903971,48.10700964233098],[11.513025661847799,48.10801517629798],[11.513396882992534,48.1068837306099],[11.51373319588539,48.10610527582369],[11.514499973122215,48.106186860658546],[11.514884413726445,48.10620065568314],[11.51610687086156,48.10620243969793],[11.51633784930914,48.106178339825505],[11.517163679536928,48.10620784135435],[11.517186140726,48.10579482932159],[11.517370065181145,48.10529260106342],[11.51739445190948,48.10501599558287],[11.517302690060667,48.104786361160464],[11.517434542819801,48.10458195251372],[11.517499655084496,48.10459958311536],[11.517683884098986,48.1045400131037],[11.517876768611572,48.104415201826505],[11.518039707259359,48.10425931448734],[11.51815331961752,48.10386968943041],[11.518759734945997,48.10348195038647],[11.518979148450578,48.103318476624054],[11.519362111280294,48.10301179268072],[11.519165372134047,48.10286379323123],[11.519195028997773,48.102501394393016],[11.51931096470664,48.10196574844349],[11.517375185859951,48.10190665248681],[11.516263910072718,48.10204524188917],[11.515757760838119,48.10215787371328],[11.515689584356265,48.10202291822034],[11.515691115443492,48.10156911274975],[11.514572198755346,48.101453994746954],[11.514408513751968,48.10140046037049],[11.513901036341807,48.10158292416],[11.513143604937124,48.101691524837506],[11.51241453515895,48.101750315002704],[11.512152232486164,48.101736884232764]]]]}},{type:"Feature",properties:{fid:28,id:null,id_2:null,id_3:null,"Current Name (DE)":"Bavariapark","Current Name (Eng)":"Bavarian park","Previous Name":null,Address:null,"Starting year":null,"Completion year/Opening year":"1850","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/parks-und-gaerten/bavariapark","Wikipedia page":"https://de.wikipedia.org/wiki/Bavariapark","Owner/Initiator/Commissioned by":"Knig Ludwig I","Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:3,year:1850},geometry:{type:"MultiPolygon",coordinates:[[[[11.540974246639317,48.13039497213256],[11.541060442634453,48.131026127599036],[11.541204216620601,48.13221538157377],[11.543563565499557,48.13206602129065],[11.543593006506194,48.131750512874625],[11.543705190381896,48.13159060023894],[11.544546730677917,48.131508318880655],[11.544565493474698,48.131685428674295],[11.54527244983616,48.131512336429594],[11.545071271643279,48.13128902583923],[11.544873084251012,48.13062016015125],[11.544873887521574,48.13023159598766],[11.544901594933975,48.130083602418054],[11.545037327459685,48.12961584652951],[11.540974246639317,48.13039497213256]]]]}},{type:"Feature",properties:{fid:29,id:null,id_2:null,id_3:null,"Current Name (DE)":"Alter Sdfriedhof","Current Name (Eng)":"Old South Cemetery","Previous Name":null,Address:null,"Starting year":null,"Completion year/Opening year":"1563","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/alter-suedlicher-friedhof/10321277/","Wikipedia page":"https://de.wikipedia.org/wiki/Alter_S%C3%BCdfriedhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":"Duke Albrecht V","Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1,year:1563},geometry:{type:"MultiPolygon",coordinates:[[[[11.562171654717785,48.12514539360417],[11.563246644867396,48.126635963572184],[11.56417172490613,48.126334935490235],[11.564311087123876,48.1265164847179],[11.564248191062259,48.126549230426455],[11.564134742523313,48.126633928710504],[11.564066159619559,48.126704919289544],[11.564029593493478,48.12675825374919],[11.563969857573316,48.12685445877626],[11.5639477830927,48.12689391663226],[11.563919179429051,48.126980108916044],[11.563918213276951,48.12716394400444],[11.563951633241306,48.12726971662925],[11.563939031653387,48.12727391562153],[11.563944766646113,48.12729062305277],[11.563847134318024,48.127308684981514],[11.564157039658678,48.12773885325803],[11.56449374522332,48.128198916710005],[11.564860707607727,48.12870743338148],[11.56523147016897,48.12924127600329],[11.565610791487869,48.12974358477104],[11.566038071026735,48.13034477471705],[11.566243519354853,48.13063326964541],[11.566361544015411,48.130868658296244],[11.566428742768815,48.13085868612402],[11.566642093106092,48.1308234243096],[11.566900882455254,48.13079858200499],[11.566842658190511,48.13053178661384],[11.566809067475793,48.13036566515554],[11.566737337396674,48.13004368865208],[11.566650339156112,48.12946623910733],[11.56653715491262,48.128820338653185],[11.566222076976358,48.1268909837097],[11.566120022285554,48.12689961688483],[11.566073792166515,48.12680980181191],[11.566002632738853,48.12671482597015],[11.565892894357061,48.12660737064692],[11.565787644724473,48.12653285056108],[11.565584226023201,48.126430664163884],[11.565247032726024,48.12634798310203],[11.565052939890009,48.12633770602394],[11.564864408503352,48.12634382223145],[11.56479638312242,48.12634978840877],[11.564752525203893,48.126250390331194],[11.564613315431826,48.12627509905781],[11.56462709196565,48.126304015252686],[11.564423364484222,48.126367011776885],[11.564354262497087,48.12627516548679],[11.565248471159338,48.12597693557633],[11.56414607757869,48.12449589003136],[11.562171654717785,48.12514539360417]]]]}},{type:"Feature",properties:{fid:30,id:null,id_2:null,id_3:null,"Current Name (DE)":"Nubaumpark","Current Name (Eng)":"Nubaum park","Previous Name":null,Address:null,"Starting year":null,"Completion year/Opening year":"1900","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Nu%C3%9Fbaumpark","Owner/Initiator/Commissioned by":"Friedrich Ludwig Sckell","Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1900},geometry:{type:"MultiPolygon",coordinates:[[[[11.562437526257025,48.13310167621966],[11.562616507551551,48.13318916622696],[11.563824654447394,48.1333226179309],[11.563900969564338,48.13337809139474],[11.564458206493049,48.13343807540035],[11.564686359946956,48.1334647461431],[11.564985518902189,48.133487924880356],[11.565240406651437,48.133517809295284],[11.565249059048517,48.13338674431618],[11.565310028527405,48.132991496779695],[11.564954287162351,48.13282314589641],[11.563876569198696,48.13226908518358],[11.563446405100873,48.132073484766806],[11.563007838873151,48.131880611435705],[11.562879957019016,48.13201878383626],[11.562772203232093,48.13216095407952],[11.562767147180917,48.13221189086647],[11.562602954880592,48.13255480429996],[11.562486476846823,48.13280771103383],[11.562437526257025,48.13310167621966]]]]}},{type:"Feature",properties:{fid:31,id:null,id_2:null,id_3:null,"Current Name (DE)":"Waldfriedhof","Current Name (Eng)":"Forest cemetery","Previous Name":null,Address:null,"Starting year":1899,"Completion year/Opening year":"1907","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/waldfriedhof/10320886/","Wikipedia page":"https://de.wikipedia.org/wiki/Waldfriedhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hans Grssel",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1907},geometry:{type:"MultiPolygon",coordinates:[[[[11.488884470410532,48.103832032108706],[11.48886835113419,48.10385736541391],[11.489582588978577,48.1053556421001],[11.49034029600792,48.10652706371601],[11.491174908767297,48.107765424372836],[11.49144157491023,48.10821526777265],[11.491646069094617,48.10857104553041],[11.492356019862669,48.10946475275138],[11.494829379486749,48.11205162899555],[11.495039267913318,48.112036904847265],[11.495745248134154,48.112040625037764],[11.49738543369219,48.112020219301534],[11.499680053147552,48.11199698407334],[11.501618043119088,48.11197511831923],[11.501991479869998,48.11196825442221],[11.502128292309692,48.11196273276848],[11.502175165569907,48.11191215833198],[11.502186123863858,48.111835048503444],[11.502153937186185,48.11056705896362],[11.502100288076779,48.10860324958266],[11.50209299070442,48.10847253705643],[11.50205288982548,48.108330468492106],[11.5020300931569,48.10827124705461],[11.502023288326308,48.10807254683868],[11.502030687109972,48.10800027926406],[11.502078245137257,48.107836924401035],[11.502085701975165,48.107795149889526],[11.502037103769789,48.10689217861588],[11.501998130246964,48.10605062152231],[11.501949919014997,48.105800093471686],[11.50185265176458,48.10547693936519],[11.501610976159249,48.1047973515602],[11.501420025294863,48.10430280101159],[11.501287206293101,48.10395056164907],[11.500969810219098,48.103117608548324],[11.500765955115789,48.10257187863036],[11.500742492453865,48.10251838909875],[11.500643789047725,48.10232168965819],[11.499948508428012,48.10194929382944],[11.49913562249682,48.101557217542975],[11.496276750406953,48.10010420412689],[11.495344497362858,48.09962903545815],[11.495108173874296,48.099880358498055],[11.494854371326527,48.10007769354421],[11.494722491954702,48.10020558472652],[11.49456754134311,48.100332264187045],[11.494388704326651,48.1004937160367],[11.49423235722776,48.10064440302874],[11.494154483623078,48.1009372516058],[11.494063271198616,48.101271494349724],[11.493942693148426,48.10147449753918],[11.493708662671741,48.10171079247185],[11.493496115963007,48.10186269866264],[11.49318792461767,48.102098889911],[11.492863151365356,48.10225665650152],[11.49259967938518,48.10241309173404],[11.492404416144673,48.10249953854175],[11.491560067147757,48.102805591039925],[11.491156844502227,48.10298046882263],[11.490974348324988,48.103066636242666],[11.490667607900916,48.10322743080315],[11.490115665164458,48.10349972790408],[11.489930867771237,48.103644174966426],[11.489698097921684,48.103695463780475],[11.489334889118314,48.10374615405118],[11.488884470410532,48.103832032108706]]]]}},{type:"Feature",properties:{fid:32,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Sendling","Current Name (Eng)":"Cemetery Friedhof","Previous Name":null,Address:null,"Starting year":null,"Completion year/Opening year":"1872","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-sendling/10321620/","Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1872},geometry:{type:"MultiPolygon",coordinates:[[[[11.536316605392749,48.11674663029025],[11.537354593368555,48.11675747358916],[11.537390568325534,48.114416889534056],[11.536532299830561,48.114397253427335],[11.536336496791524,48.1145173610318],[11.53630376043618,48.11473035351676],[11.536316605392749,48.11674663029025]]]]}},{type:"Feature",properties:{fid:33,id:null,id_2:null,id_3:null,"Current Name (DE)":"Alter Nordfriedhof","Current Name (Eng)":"Old North Cemetery","Previous Name":null,Address:"Arcisstrae 45, 80799 Mnchen","Starting year":null,"Completion year/Opening year":"1868","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/alter-nordfriedhof","Wikipedia page":"https://de.wikipedia.org/wiki/Alter_Nordfriedhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1868},geometry:{type:"MultiPolygon",coordinates:[[[[11.568367147848313,48.15458928244673],[11.56847142001107,48.1546090079148],[11.56847921425426,48.154646482321205],[11.568684146313316,48.154970595934124],[11.569227100019218,48.15479834681555],[11.571926121582928,48.154028775066486],[11.571882897409283,48.15395737842689],[11.571988098490452,48.153934519663686],[11.571140700869952,48.152613542346046],[11.571064338308776,48.15263635789408],[11.571023398721051,48.152574558384295],[11.568205758203947,48.153322640006955],[11.568116940722168,48.153348747231966],[11.568053774098543,48.154105161538055],[11.568151736875995,48.15426217308637],[11.568367147848313,48.15458928244673]]]]}},{type:"Feature",properties:{fid:34,id:null,id_2:null,id_3:null,"Current Name (DE)":"Alter Botanischer Garten","Current Name (Eng)":"Old Botanical Garden","Previous Name":null,Address:"Sophienstrae 7","Starting year":null,"Completion year/Opening year":"1812","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/top-sehenswuerdigkeiten/alter-botanischer-garten","Wikipedia page":"https://de.wikipedia.org/wiki/Alter_Botanischer_Garten_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich Ludwig von Sckell",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:3,year:1812},geometry:{type:"MultiPolygon",coordinates:[[[[11.561696418086054,48.142159841878545],[11.561848335459779,48.14255084016714],[11.562325257428755,48.1424117551276],[11.562667625088753,48.142556082610604],[11.563014044486478,48.14267318198135],[11.563389895225091,48.1427299227834],[11.563752695292882,48.14274172583749],[11.564283074427296,48.14259058478669],[11.565081606109052,48.14234209305888],[11.565308091828475,48.14227642972243],[11.56539948634691,48.14223911080008],[11.56561233420742,48.14214390108894],[11.565799258907266,48.14201670601952],[11.565840926514971,48.141971451967834],[11.565976927230473,48.14177167279191],[11.566020977243078,48.14169289685603],[11.566081694742499,48.141541836291786],[11.566153133881494,48.14123992747554],[11.566228976946926,48.14086374655674],[11.566214260397247,48.14083965232065],[11.566244161853854,48.14082948641914],[11.566184553169553,48.14073176922393],[11.566138587170707,48.140745007681716],[11.566122160226959,48.14071371519218],[11.563965895303049,48.141365207226954],[11.56208371885664,48.14194451243025],[11.561975177026195,48.14199035217827],[11.56202179696035,48.1420580585974],[11.561696418086054,48.142159841878545]]]]}},{type:"Feature",properties:{fid:35,id:null,id_2:null,id_3:null,"Current Name (DE)":"Maximiliansplatz","Current Name (Eng)":"Maximilian square","Previous Name":null,Address:"Maximilianspl.","Starting year":null,"Completion year/Opening year":"1808","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Maximiliansplatz","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:3,year:1808},geometry:{type:"MultiPolygon",coordinates:[[[[11.569554175734154,48.14172698027013],[11.571437084377392,48.142299941319514],[11.572739082196735,48.14271492333872],[11.572906993356884,48.14277538580219],[11.573078152783037,48.14287376664866],[11.573054710796159,48.142891478363374],[11.573300546486978,48.14307773715541],[11.573472396029718,48.14302775461105],[11.573410350355726,48.142868133574055],[11.573240167441085,48.142492032336946],[11.573165346045657,48.14234717028707],[11.573099720781709,48.14227808497209],[11.57301042806394,48.14222219359368],[11.572820059998383,48.14214504772067],[11.572667543266157,48.1420950950163],[11.571892728524292,48.141870929933425],[11.57127668764254,48.141686624197845],[11.57060898796098,48.14148266649695],[11.569919016659988,48.14126563488215],[11.569616694070595,48.141165660948076],[11.56949667680804,48.141143922805625],[11.569423732336674,48.14114465002112],[11.569339359865872,48.14116010573439],[11.569275282294525,48.141176011978665],[11.569217236271697,48.141204447070315],[11.56915428649208,48.14124294194226],[11.569098721628409,48.141321072104034],[11.569090677114596,48.14140356670926],[11.569114269015866,48.141497112944],[11.569173405190648,48.14154463629896],[11.569361926638276,48.14166615278824],[11.569554175734154,48.14172698027013]]]]}},{type:"Feature",properties:{fid:36,id:null,id_2:null,id_3:null,"Current Name (DE)":"Dichtergarten","Current Name (Eng)":"Poets garden","Previous Name":"Finanzgarten (Finance garden)",Address:"Galeriestr. 1","Starting year":null,"Completion year/Opening year":"1984","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"garden",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/parks-und-gaerten/dichtergarten","Wikipedia page":"https://de.wikipedia.org/wiki/Finanzgarten","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:6,year:1984},geometry:{type:"MultiPolygon",coordinates:[[[[11.580047609340735,48.144967063190585],[11.582669625306098,48.14442691284276],[11.582930448214386,48.14439933858012],[11.583954336863782,48.14417187958549],[11.584027761475351,48.14412680902252],[11.584099347831481,48.14399132399864],[11.584023109626047,48.143765090595615],[11.583737470850991,48.143190790130575],[11.583599201402864,48.14312877216961],[11.583409494052678,48.14317283966941],[11.583358033596248,48.14322465231366],[11.582887178214008,48.14332207891197],[11.581953199359148,48.143509516019556],[11.579584850430455,48.14404033541602],[11.580047609340735,48.144967063190585]]]]}},{type:"Feature",properties:{fid:37,id:null,id_2:null,id_3:null,"Current Name (DE)":"Ostpark","Current Name (Eng)":"East park","Previous Name":null,Address:"Feichtstr. 19, 81735 Mnchen","Starting year":null,"Completion year/Opening year":"1973","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/parks-und-gaerten/ostpark","Wikipedia page":"https://de.wikipedia.org/wiki/Ostpark_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:6,year:1973},geometry:{type:"MultiPolygon",coordinates:[[[[11.630050120534587,48.112248451500406],[11.630053917709104,48.11230345918452],[11.630139817343558,48.112477882196046],[11.630176835361972,48.112620860289425],[11.630115836035653,48.112748896409926],[11.630090468829577,48.1128869712637],[11.630132571948238,48.11299726856242],[11.630221630178482,48.11302191362828],[11.630265658715098,48.11309055678293],[11.630362945225954,48.11313084318031],[11.630373498076894,48.11320522810956],[11.630287496915086,48.11326689911844],[11.630227696863678,48.113418426511615],[11.630249771362394,48.11358617006593],[11.630383909160313,48.11367355440485],[11.630403052922075,48.11373100810796],[11.630490997732085,48.11391895247211],[11.630514989776533,48.114177108555296],[11.630523464433088,48.11460748740447],[11.630536831309024,48.11513363805769],[11.630669831616046,48.11562177037936],[11.63076908903853,48.11603107376588],[11.630739273023748,48.11624071123084],[11.630749061275369,48.1165380888376],[11.630920007657755,48.116975600517684],[11.631005599283299,48.117249531992215],[11.63153773393124,48.117591025009595],[11.631647668878276,48.11773323632865],[11.631601658933183,48.11783741098334],[11.63141887063324,48.11790853702336],[11.631297739226484,48.118075943129696],[11.631424060598382,48.11843306560021],[11.631427383859394,48.118441922032126],[11.631673560226035,48.11839184454809],[11.631912884307807,48.118343167340996],[11.632401861274554,48.11824308712409],[11.632836918901203,48.11815192970965],[11.633067537039999,48.11811136460451],[11.6337133693148,48.11800112439628],[11.635096889254399,48.11779390310216],[11.635972149897311,48.11768607460513],[11.636044288227232,48.11761748104412],[11.636398515130857,48.11741215484005],[11.636678405016372,48.11746995352686],[11.637069999524913,48.117229393850444],[11.637465940207804,48.117073762136584],[11.637811061496922,48.11695457432799],[11.638144144170262,48.116785006353524],[11.638322475027001,48.11662713365022],[11.638466517613761,48.11645919361752],[11.638526332520598,48.1163479147205],[11.638684491593391,48.11609959603786],[11.638782216993935,48.116016392061],[11.638942103602533,48.115920452599056],[11.639052431247519,48.115859120665405],[11.639133792831663,48.115812475027745],[11.640084149847128,48.11549710052828],[11.640631996113523,48.115446061225406],[11.640720070506386,48.11554353833404],[11.640863518221972,48.11549591613724],[11.641443558742198,48.11521663435167],[11.642025870274221,48.11519238492247],[11.643094567519116,48.11453821656803],[11.643626747054478,48.11490588524755],[11.644476460370202,48.11435443762658],[11.645088498381643,48.11390976936876],[11.645876204044319,48.11341401328169],[11.646601734557079,48.11297034026091],[11.647343117304287,48.112519965182074],[11.647554251443612,48.11234413489882],[11.64801119311588,48.11204956592558],[11.648110083249076,48.11195004479616],[11.648142491733772,48.11187105248031],[11.648129798018966,48.11178179307226],[11.64809458618285,48.11171431021269],[11.647958565384181,48.11160392341324],[11.646989760593444,48.111045525342746],[11.64668962867059,48.110829919190635],[11.646475476345024,48.11055262954504],[11.646358269816192,48.11032195219696],[11.646276709651548,48.10999637839755],[11.64519283326299,48.11001049381177],[11.64518798488293,48.11008704137445],[11.645032769572172,48.110089259509984],[11.645024756996538,48.110169950490935],[11.64447365327591,48.11016952579156],[11.641980391264932,48.11017173214632],[11.641978519501544,48.11034590424962],[11.641355189924479,48.11034622153284],[11.641351738175194,48.11027891072491],[11.640182395914454,48.1102858987501],[11.640170769479083,48.11026988384109],[11.640065261557467,48.110266881952136],[11.64006182239903,48.110252487952],[11.639785864473147,48.11024435838803],[11.639787709060583,48.11070202651537],[11.639752026213145,48.11090185128164],[11.63975737255236,48.11111158774862],[11.639701147141503,48.11122685544975],[11.639475697281785,48.11125555594836],[11.639373163406283,48.111257912458036],[11.638819265794467,48.11130863273401],[11.638680900112357,48.11134980371729],[11.638141417600737,48.111418280826406],[11.637944799614752,48.11148249863127],[11.637754595650032,48.11156646922947],[11.637595582203883,48.11157373962832],[11.637392841025765,48.11157115923092],[11.637007079300593,48.111581826731424],[11.636794023022388,48.1115360629641],[11.636765945692574,48.11146253320677],[11.63682516927572,48.11130016071263],[11.636743866808452,48.111242326043715],[11.636644709912856,48.11115233685669],[11.636656752559686,48.11101818461621],[11.6365876627649,48.1108822767784],[11.63654606569224,48.11059738891138],[11.636486273896725,48.11048478626323],[11.63647560529332,48.11038191065952],[11.63649890360776,48.11025654568454],[11.63352214035384,48.1102597168187],[11.632805360200546,48.110331629643525],[11.632630338725344,48.11041483079987],[11.632442530773162,48.11054577507103],[11.632337443965202,48.110656731693744],[11.632157945324,48.11095030683923],[11.631940812537609,48.11135329203374],[11.631691666153353,48.111764246908],[11.63145171024907,48.11198503188293],[11.631182943976327,48.112117829005555],[11.630879304147102,48.11220257785511],[11.630454075680078,48.11223402782963],[11.630050120534587,48.112248451500406]]]]}},{type:"Feature",properties:{fid:38,id:null,id_2:null,id_3:null,"Current Name (DE)":"Taxispark","Current Name (Eng)":"Taxis park","Previous Name":null,Address:"Paschstrae 28, 80637 Mnchen","Starting year":null,"Completion year/Opening year":"2018","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/parks-und-gaerten/taxispark","Wikipedia page":null,"Owner/Initiator/Commissioned by":"neighbors","Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:7,year:2018},geometry:{type:"MultiPolygon",coordinates:[[[[11.532794077274728,48.16360086166818],[11.533954895995002,48.16389004539434],[11.534020674914036,48.163798139257096],[11.53409328120059,48.16373502811256],[11.53414878919248,48.163654203087944],[11.534992351306807,48.16387077415075],[11.535415737114429,48.163134170889414],[11.533619703082342,48.1626853399652],[11.533417795828413,48.16308779560914],[11.5331280849267,48.16302543860711],[11.532794077274728,48.16360086166818]]]]}},{type:"Feature",properties:{fid:39,id:null,id_2:null,id_3:null,"Current Name (DE)":"Petuelpark","Current Name (Eng)":"Petuel park","Previous Name":null,Address:"Klopstockstrae 10, 80804 Mnchen","Starting year":null,"Completion year/Opening year":"2004","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/parks-und-gaerten/petuelpark","Wikipedia page":"https://de.wikipedia.org/wiki/Petuelpark","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:7,year:2004},geometry:{type:"MultiPolygon",coordinates:[[[[11.584283254010915,48.176391436312656],[11.583992705477117,48.17637623548763],[11.583938261993621,48.17653281116059],[11.583704541060436,48.176503966583496],[11.583579352840678,48.17720291921187],[11.582942796161976,48.177187727398426],[11.58215285990341,48.17718558572863],[11.581151725926922,48.177179138634436],[11.58038540040079,48.17721625463322],[11.579734708793755,48.177239914207135],[11.579136874420968,48.177238865011674],[11.578502229791733,48.177312812288974],[11.57782660203941,48.17737863017622],[11.577014264732373,48.17746922018971],[11.576770334750963,48.17748645111967],[11.575601527210054,48.17758864459037],[11.574974148451671,48.17759185429207],[11.574144838940425,48.17755978521682],[11.573523846270211,48.17752847089273],[11.572856831839465,48.17749637483849],[11.572900448675279,48.17761118069951],[11.573004696098304,48.17780242009391],[11.573184623127577,48.178100510556206],[11.573214550706934,48.17821200471148],[11.573276741576448,48.17821830034766],[11.573416741723769,48.178198430033],[11.574176008356202,48.178209007852786],[11.57484730924037,48.17822535068873],[11.574912073801071,48.17822457838701],[11.574965510919489,48.178598496189615],[11.575022675255928,48.17903014058756],[11.575122195443939,48.179055041743275],[11.575632909878838,48.17904449696431],[11.575682850705844,48.17904247270291],[11.575685272134171,48.17884793959748],[11.575674260060161,48.17876315854979],[11.575842904673454,48.17875485450234],[11.575866453739382,48.178900864004824],[11.576176233991108,48.17890205850044],[11.57612083138465,48.17855233446074],[11.576117863043473,48.17852684741101],[11.576149144362564,48.17851009011977],[11.577022882012843,48.17842988815357],[11.577149087523189,48.179085571371765],[11.57727924292689,48.17911883353944],[11.577388572738382,48.179087435003325],[11.577344122532992,48.1787944526241],[11.577499701742344,48.178768348212394],[11.577480671557117,48.17868555632989],[11.577525182001308,48.17860224335125],[11.577497286261972,48.17839663120115],[11.577449450274187,48.17835971325855],[11.577418063232852,48.17821930722218],[11.57735735240762,48.178195341842],[11.577347252705902,48.178155768108844],[11.577508270443658,48.178103309624866],[11.5781242758236,48.17814285532795],[11.578223919724795,48.17810715058908],[11.578386577597398,48.17811435455232],[11.578433707407621,48.178325866673454],[11.579325687641436,48.17827939755798],[11.57933250070443,48.17828218435935],[11.579367096366468,48.17832948112657],[11.579434120856062,48.17829920001736],[11.579468766714008,48.178485627820955],[11.57967754272811,48.17847699833275],[11.579770600642295,48.1784745873729],[11.579780381758878,48.17787948720705],[11.580231806054572,48.177829563790944],[11.580226685153747,48.177807807286406],[11.580227110759765,48.17780776959542],[11.580220081305384,48.177735110954266],[11.580826964189805,48.1777142419731],[11.580843639628007,48.17775004947078],[11.581300549732761,48.1777994841177],[11.5814164448073,48.177871957813075],[11.581596101373483,48.177934857546326],[11.58186955332369,48.177926450669005],[11.581913319341611,48.17774772230665],[11.582063358144852,48.17775950130095],[11.582069491616243,48.177726799522766],[11.582318531763123,48.177737257468934],[11.582330996800078,48.17771617254216],[11.582383955664652,48.17772040938766],[11.582845214480018,48.177721798805784],[11.583541263512348,48.17773272791501],[11.58363908565573,48.17773735350864],[11.584064221093454,48.177756209127466],[11.584698728551396,48.1777561436342],[11.58490858269609,48.17776089442574],[11.585137732596424,48.177783208600815],[11.58505852410987,48.177616378319634],[11.585020940327274,48.177516814230415],[11.584992709680723,48.177349784024656],[11.584973007013621,48.17726781553871],[11.585070655656885,48.17673136211862],[11.58521842926685,48.17609337070542],[11.585247846112685,48.17597430085839],[11.585279262021706,48.17589497104695],[11.585292657544683,48.175851569127865],[11.585397297339883,48.17555272092115],[11.585142693528509,48.17553098011148],[11.584968730276751,48.175620148442995],[11.584890997811685,48.175646530531836],[11.5846000706054,48.176069157453206],[11.584589730885078,48.17614517109614],[11.58450787016525,48.176150801887545],[11.584320145373177,48.176395866701135],[11.584283254010915,48.176391436312656]]]]}},{type:"Feature",properties:{fid:40,id:null,id_2:null,id_3:null,"Current Name (DE)":"Riemerpark","Current Name (Eng)":"Riemer park","Previous Name":null,Address:"De-Gasperi-Bogen , 81829 Mnchen","Starting year":1997,"Completion year/Opening year":"2005","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/riemer-park","Wikipedia page":"https://de.wikipedia.org/wiki/Riemer_Park","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gilles Vexlard",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:7,year:2005},geometry:{type:"MultiPolygon",coordinates:[[[[11.679728109259145,48.12762274175566],[11.682237009278861,48.12998771075466],[11.682313840702204,48.13014141073886],[11.68208339809066,48.130259093973265],[11.682079726859225,48.13080772920226],[11.682075805697323,48.13112456849367],[11.682074800399775,48.13117750323588],[11.682552747535487,48.131640742513405],[11.682583918228238,48.13172298075878],[11.682601295717955,48.131886167855576],[11.682635957803901,48.132241699386014],[11.682837494432624,48.132807137606896],[11.682952001602562,48.13302330657763],[11.683119462064223,48.13310002120423],[11.683481677554365,48.133776885381636],[11.683920639725416,48.13444043686244],[11.684329033673185,48.13501255634511],[11.684603166014593,48.13507237800692],[11.684677421116138,48.13534131753674],[11.685216996681765,48.1353475160035],[11.68521596096711,48.13432815281741],[11.684562041161117,48.134271446542236],[11.684515270858945,48.133700384760516],[11.684322654517088,48.13369730857757],[11.68444481275355,48.128442750556374],[11.687718166804379,48.12847986657056],[11.687748612046503,48.12797899156081],[11.689109268556306,48.128022922797896],[11.689145397300802,48.127847777769354],[11.692134680715439,48.127864894918005],[11.695371996219725,48.12786285146102],[11.695366114581129,48.12850713863583],[11.695544380794194,48.12850674388422],[11.696144782960195,48.12851538523075],[11.696142418070572,48.12803801253632],[11.6971209638489,48.1280264035659],[11.697112230218904,48.1285078260361],[11.698796956159025,48.128525085916756],[11.698797492318647,48.12804953954976],[11.700756863900306,48.128069789154004],[11.700784213380677,48.12853710162235],[11.700923008072044,48.128539521283294],[11.70093163971246,48.12859615500298],[11.702736597568846,48.128547666499884],[11.703773967866322,48.12854894467457],[11.70397420654244,48.128549190315354],[11.704459152257634,48.12855197106552],[11.70488006506318,48.12855438298048],[11.705936024017646,48.12856171572704],[11.705926931604871,48.1285105105513],[11.705941817576617,48.12851042615824],[11.705920928221897,48.128113061144745],[11.7069010618235,48.12813164425796],[11.708287814130937,48.13060734570885],[11.708298701325974,48.131459639959864],[11.70871743766732,48.13145734300521],[11.70868986535664,48.13329950315921],[11.710285921250362,48.13329595156101],[11.711372500749365,48.133399134543055],[11.712114225334922,48.13351045136535],[11.713498183452673,48.13399308121507],[11.713904304095333,48.134180519277805],[11.714701126891805,48.134692163734684],[11.715119237417127,48.135106661066004],[11.71548109371986,48.13574225565839],[11.715547891133395,48.136149900768494],[11.715477278275358,48.136742672300365],[11.715214034470401,48.1373324196985],[11.714868036283608,48.13785591855243],[11.713965688283917,48.13877905390689],[11.714196239827663,48.138856966190986],[11.715094215310605,48.13849472127687],[11.717390305480894,48.139699146029145],[11.718234873978345,48.13900774566432],[11.71850212264296,48.13881575363603],[11.71861951182432,48.138680355974806],[11.71870443158304,48.13846615537493],[11.718713795058951,48.138321947346206],[11.718479496345307,48.1380660443902],[11.717862992612787,48.13775477124269],[11.717493266283,48.13739976489165],[11.717652088050867,48.13719139464862],[11.717733469260336,48.13680297914004],[11.717875498274122,48.136276720184824],[11.719099787299191,48.13652055779824],[11.720688225573733,48.137013416567065],[11.72128822550422,48.137226548610045],[11.722025523291663,48.13746673650491],[11.722471739539559,48.13753943804733],[11.723003370995173,48.137117692654556],[11.720802611542865,48.135964910538895],[11.722037438637377,48.13480620831553],[11.720705142906512,48.13438905205585],[11.719383935277737,48.134238465399804],[11.718339923230005,48.13376301714389],[11.713344411584817,48.13241854735922],[11.714400372815703,48.131390302633974],[11.711719334691827,48.13009820386426],[11.713412591240102,48.12914882283494],[11.714535606049397,48.12962244830607],[11.715396434211206,48.12898826126259],[11.71515833993717,48.12876654328432],[11.716135797180911,48.12819779731203],[11.715696972545993,48.127389724875634],[11.715356988877677,48.12673845688032],[11.71394820068279,48.124278515728435],[11.71371173107471,48.1240870693095],[11.71193439519157,48.12300747315873],[11.710743101378275,48.124028347632496],[11.708864516409344,48.12263659704238],[11.708625695454455,48.12293778126736],[11.70732001945835,48.122430513393006],[11.707062802605952,48.12248962435101],[11.706723668183109,48.122497617767266],[11.706139978173253,48.1223749647315],[11.705291684580903,48.121955412545965],[11.704369217843318,48.121416348978514],[11.699342644769384,48.12441433386898],[11.696734068817598,48.12442256863278],[11.696422586628621,48.12441851486639],[11.695962950282835,48.124395203515185],[11.695592971565633,48.124138649978796],[11.694214836231557,48.123110036333834],[11.693654298277494,48.122672280214694],[11.693574175774204,48.1226552138529],[11.693415856459263,48.1227119745542],[11.693301072631867,48.12273550659591],[11.691384056526495,48.12379214085105],[11.690976117993667,48.12394568634376],[11.690713023053757,48.1240011091214],[11.690348099836186,48.12394903245104],[11.689653077498804,48.123753121365716],[11.689126447433779,48.12353052862557],[11.688884814465663,48.123346730570965],[11.687692524258514,48.122514510802766],[11.68725310112899,48.12266120166919],[11.687024834391545,48.12262486236385],[11.686976652899382,48.1225691529561],[11.686940020267375,48.12230098301869],[11.685896103449167,48.12116593333017],[11.68278976265476,48.12193573603132],[11.681433072145872,48.12239937883175],[11.677722308459513,48.12308463713699],[11.678458766472849,48.1239692718069],[11.679449159348911,48.12364304086569],[11.68030264746196,48.12460071555276],[11.681566967550117,48.12605653278848],[11.678311764979627,48.1261476483221],[11.67974644539456,48.127614668673814],[11.679728109259145,48.12762274175566]]]]}},{type:"Feature",properties:{fid:41,id:null,id_2:null,id_3:null,"Current Name (DE)":"Grnwaldpark","Current Name (Eng)":"Grnwald park","Previous Name":null,Address:null,"Starting year":null,"Completion year/Opening year":"1800","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"park",Function:"public space",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Gr%C3%BCnwaldpark","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:3,year:1800},geometry:{type:"MultiPolygon",coordinates:[[[[11.526160961962102,48.15881607315116],[11.527933624583385,48.158875591804374],[11.528374612813103,48.15868780139816],[11.530107300620479,48.15874058823342],[11.530192436147997,48.158284027987065],[11.53026757150456,48.15814217844412],[11.530572578997182,48.1576656183758],[11.530636143276803,48.157633905719294],[11.531082168026082,48.15703109360199],[11.531139828998336,48.15693699151772],[11.531137127788062,48.15688210990895],[11.531035809737329,48.156750778587664],[11.53100962613095,48.15670778150777],[11.530139379799827,48.15717690164283],[11.529930488844537,48.157276228529675],[11.529288551901251,48.15755180871656],[11.526160961962102,48.15881607315116]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Platzl","Current Name (Eng)":"Munich Platzl","Previous Name":"'Graggenau'",Address:"Platzl 10","Starting year":null,"Completion year/Opening year":"1300","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/sehenswerte-plaetze/platzl","Wikipedia page":"https://de.wikipedia.org/wiki/Platzl_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1,year:1300},geometry:{type:"MultiPolygon",coordinates:[[[[11.57994917678557,48.13822787149346],[11.580049947985305,48.138196800691034],[11.580067570753299,48.13819412174289],[11.580046203775227,48.13815813936789],[11.58023833605743,48.138096410342634],[11.580260681005655,48.138129886170816],[11.580311499216101,48.13811497884736],[11.580347066621371,48.13801600682759],[11.580196342994892,48.13789516565868],[11.58013242949269,48.1378369723753],[11.580052961951111,48.137892745891016],[11.579906901436605,48.137768845007386],[11.579874533304746,48.13778756818163],[11.57966687567461,48.137615628273686],[11.579575361533434,48.13764722949401],[11.579757302211998,48.137850501778765],[11.579805676790999,48.13795094575151],[11.579847635530419,48.13794342264861],[11.57990768848493,48.13806468930453],[11.579906757689942,48.138078140169235],[11.579934749178745,48.13815621098962],[11.579906666286275,48.1381643625504],[11.57994917678557,48.13822787149346]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Mnchner Freiheit","Current Name (Eng)":"Munich freedom","Previous Name":'"Danzig" freedom (1933), Feilitzschplatz(ehe.)',Address:null,"Starting year":null,"Completion year/Opening year":"1900","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/sehenswerte-plaetze/muenchner-freiheit","Wikipedia page":"https://de.wikipedia.org/wiki/M%C3%BCnchner_Freiheit#Geschichte","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1900},geometry:{type:"MultiPolygon",coordinates:[[[[11.58656567192484,48.16419985326528],[11.587103465245763,48.164187742444874],[11.587580020831671,48.16417942594354],[11.587642039014636,48.16417319413667],[11.58769953631002,48.16414893374923],[11.587732934741828,48.16411252494517],[11.587753378178807,48.164034103733016],[11.58773186767339,48.16396569282824],[11.587421912925848,48.16324564621311],[11.58677421517121,48.16175541103934],[11.586433529380274,48.16180659543562],[11.58656567192484,48.16419985326528]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Wiener platz","Current Name (Eng)":"Wiener square","Previous Name":null,Address:"Innere Wiener Str. 19 , 81667 Mnchen","Starting year":null,"Completion year/Opening year":"1800","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:"One of Munich's four permanent markets has been located here since 1889.",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/top-sehenswuerdigkeiten/wiener-platz","Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:3,year:1800},geometry:{type:"MultiPolygon",coordinates:[[[[11.595757217488323,48.13411355271495],[11.59573337908549,48.1341600220023],[11.595827924057277,48.13449511214785],[11.595916933809967,48.13454144838383],[11.596067257609091,48.134478824546086],[11.596699136368272,48.13429774028778],[11.59671662425972,48.13428646663044],[11.59619622292748,48.134207578448745],[11.595757217488323,48.13411355271495]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Marienhof","Current Name (Eng)":"Marien court","Previous Name":null,Address:"Weinstrae 9","Starting year":null,"Completion year/Opening year":"1971","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:"https://stadt.muenchen.de/dam/jcr:ed47dffc-0bdb-4141-a0ef-5127d56c3a33/marienhof_historie.pdf",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/sehenswerte-plaetze/marienhof","Wikipedia page":"https://de.wikipedia.org/wiki/Marienhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:6,year:1971},geometry:{type:"MultiPolygon",coordinates:[[[[11.575316088655752,48.13836900475786],[11.575409108542742,48.13856786474181],[11.575571988107916,48.1389718451167],[11.575684341698267,48.1392322169865],[11.575723914005454,48.1392651730665],[11.575872361646995,48.13923646144919],[11.576091097457134,48.13920496453885],[11.576686800234343,48.13905622862756],[11.577041898493725,48.139007166414906],[11.577144100580941,48.138956525497356],[11.577243762753563,48.138855176255525],[11.576923654410269,48.13801627136139],[11.57654066965355,48.13808529793309],[11.575316088655752,48.13836900475786]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Grtnerplatz","Current Name (Eng)":"Grtner square","Previous Name":null,Address:"Grtnerplatz 1 , 80469 Mnchen","Starting year":null,"Completion year/Opening year":"1860","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/sehenswerte-plaetze/gaertnerplatz","Wikipedia page":"https://de.wikipedia.org/wiki/G%C3%A4rtnerplatz","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:3,year:1860},geometry:{type:"MultiPolygon",coordinates:[[[[11.576030920556486,48.13194235509977],[11.576037194978207,48.13194217787198],[11.576043463859806,48.131941927771386],[11.576049725312728,48.13194160487329],[11.576055977450666,48.131941209275006],[11.576062218390122,48.131940741095704],[11.57606844625096,48.13194020047641],[11.576074659156998,48.13193958758001],[11.576080855236546,48.13193890259112],[11.576087032622995,48.13193814571613],[11.576093189455362,48.13193731718302],[11.576099323878854,48.13193641724143],[11.576105434045436,48.131935446162444],[11.576111518114375,48.13193440423862],[11.576117574252805,48.131933291783845],[11.576123600636265,48.13193210913324],[11.576129595449277,48.13193085664311],[11.576135556885854,48.13192953469077],[11.576141483150076,48.13192814367446],[11.576147372456616,48.13192668401325],[11.576153223031282,48.131925156146856],[11.576159033111548,48.13192356053556],[11.576164800947094,48.13192189766006],[11.576170524800322,48.13192016802132],[11.576176202946883,48.131918372140376],[11.576181833676204,48.13191651055827],[11.576187415291992,48.13191458383582],[11.576192946112757,48.13191259255348],[11.5761984244723,48.131910537311086],[11.576203848720237,48.131908418727825],[11.576209217222486,48.13190623744196],[11.576214528361753,48.13190399411057],[11.576219780538034,48.131901689409524],[11.576224972169078,48.131899324033085],[11.576230101690886,48.13189689869385],[11.576235167558162,48.131894414122485],[11.576240168244787,48.131891871067474],[11.57624510224429,48.13188927029493],[11.576249968070274,48.13188661258833],[11.576254764256891,48.131883898748384],[11.576259489359273,48.13188112959259],[11.57626414195396,48.13187830595522],[11.576268720639348,48.13187542868688],[11.576273224036086,48.13187249865439],[11.576277650787514,48.13186951674042],[11.57628199956006,48.131866483843304],[11.57628626904364,48.13186340087671],[11.576290457952068,48.1318602687694],[11.576294565023423,48.13185708846498],[11.576298589020439,48.13185386092147],[11.57630252873088,48.13185058711124],[11.576306382967902,48.131847268020515],[11.576310150570412,48.1318439046492],[11.576313830403416,48.13184049801052],[11.576317421358361,48.131837049130766],[11.576320922353469,48.13183355904893],[11.576324332334067,48.131830028816374],[11.576327650272898,48.13182645949665],[11.576330875170434,48.13182285216502],[11.576334006055179,48.131819207908215],[11.576337041983955,48.13181552782408],[11.576339982042196,48.13181181302124],[11.576342825344215,48.131808064618845],[11.576345571033476,48.1318042837461],[11.576348218282847,48.13180047154198],[11.57635076629485,48.13179662915497],[11.576353214301912,48.13179275774259],[11.57635556156658,48.13178885847112],[11.576357807381752,48.13178493251525],[11.576359951070891,48.131780981057695],[11.576361991988223,48.1317770052888],[11.576363929518939,48.131773006406355],[11.576365763079371,48.13176898561498],[11.576367492117177,48.13176494412599],[11.5763691161115,48.1317608831569],[11.576370634573133,48.13175680393108],[11.576372047044657,48.13175270767742],[11.576373353100584,48.13174859562994],[11.576374552347485,48.13174446902741],[11.57637564442411,48.13174032911296],[11.57637662900149,48.131736177133774],[11.576377505783046,48.13173201434066],[11.576378274504673,48.13172784198767],[11.57637893493481,48.13172366133173],[11.576379486874531,48.13171947363228],[11.57637993015759,48.1317152801509],[11.576380264650469,48.13171108215086],[11.576380490252431,48.13170688089683],[11.576380606895539,48.131702677654474],[11.576380614544679,48.13169847369],[11.576380513197574,48.131694270269904],[11.576380302884782,48.13169006866042],[11.57637998366969,48.131685870127356],[11.576379555648485,48.13168167593549],[11.576379018950137,48.13167748734836],[11.576378373736354,48.131673305627785],[11.576377620201535,48.1316691320335],[11.576376758572712,48.13166496782284],[11.576375789109477,48.13166081425025],[11.576374712103913,48.13165667256705],[11.57637352788049,48.13165254402091],[11.576372236795988,48.13164842985553],[11.576370839239372,48.131644331310355],[11.57636933563169,48.13164024962007],[11.576367726425923,48.13163618601428],[11.576366012106881,48.13163214171719],[11.576364193191024,48.1316281179471],[11.576362270226332,48.13162411591621],[11.576360243792122,48.13162013683014],[11.576358114498886,48.13161618188759],[11.576355882988103,48.131612252279986],[11.57635354993204,48.13160834919115],[11.576351116033557,48.131604473796855],[11.576348582025894,48.13160062726463],[11.57634594867244,48.131596810753194],[11.576343216766526,48.131593025412286],[11.57634038713116,48.13158927238227],[11.57633746061879,48.13158555279374],[11.576334438111058,48.131581867767196],[11.576331320518515,48.13157821841279],[11.576328108780357,48.1315746058299],[11.576324803864148,48.131571031106795],[11.576321406765512,48.13156749532037],[11.576317918507847,48.131563999535814],[11.57631434014201,48.13156054480618],[11.576310672746006,48.13155713217225],[11.576306917424656,48.131553762662065],[11.576303075309273,48.131550437290706],[11.57629914755731,48.13154715705992],[11.576295135352018,48.1315439229579],[11.576291039902094,48.13154073595891],[11.576286862441306,48.13153759702303],[11.576282604228135,48.131534507095886],[11.576278266545375,48.131531467108296],[11.576273850699776,48.13152847797609],[11.57626935802162,48.13152554059971],[11.576264789864341,48.131522655864046],[11.576260147604108,48.13151982463813],[11.576255432639414,48.1315170477749],[11.576250646390653,48.131514326110846],[11.57624579029969,48.13151166046587],[11.57624086582944,48.131509051643015],[11.5762358744634,48.13150650042818],[11.576230817705234,48.13150400758994],[11.576225697078295,48.131501573879234],[11.576220514125177,48.131499200029225],[11.576215270407255,48.13149688675502],[11.5762099675042,48.131494634753544],[11.57620460701352,48.13149244470314],[11.576199190550065,48.13149031726362],[11.576193719745554,48.13148825307585],[11.576188196248063,48.13148625276166],[11.57618262172155,48.13148431692366],[11.576176997845348,48.13148244614499],[11.576171326313643,48.13148064098926],[11.57616560883499,48.131478902000275],[11.576159847131779,48.13147722970186],[11.576154042939722,48.13147562459782],[11.576148198007331,48.131474087171696],[11.576142314095392,48.13147261788663],[11.576136392976432,48.13147121718525],[11.576130436434184,48.13146988548951],[11.576124446263051,48.131468623200576],[11.576118424267577,48.13146743069873],[11.576112372261878,48.13146630834319],[11.57610629206912,48.1314652564721],[11.576100185520957,48.13146427540231],[11.57609405445698,48.131463365429354],[11.576087900724167,48.13146252682739],[11.57608172617633,48.13146175984902],[11.57607553267354,48.131461064725336],[11.576069322081587,48.13146044166568],[11.576063096271405,48.13145989085782],[11.576056857118516,48.13145941246765],[11.576050606502456,48.13145900663927],[11.576044346306217,48.13145867349498],[11.576038078415678,48.13145841313508],[11.576031804719033,48.13145822563808],[11.57602552710623,48.13145811106039],[11.57601924746839,48.13145806943656],[11.576012967697249,48.131458100779135],[11.57600668968458,48.131458205078665],[11.576000415321628,48.13145838230374],[11.575994146498537,48.13145863240096],[11.57598788510379,48.131458955294974],[11.575981633023623,48.131459350888555],[11.575975392141466,48.131459819062464],[11.57596916433738,48.131460359675714],[11.575962951487487,48.13146097256543],[11.575956755463404,48.131461657547],[11.575950578131675,48.13146241441405],[11.575944421353219,48.13146324293858],[11.575938286982757,48.13146414287102],[11.575932176868266,48.13146511394021],[11.575926092850418,48.131466155853694],[11.575920036762012,48.13146726829753],[11.57591401042745,48.13146845093663],[11.575908015662154,48.13146970341472],[11.575902054272051,48.13147102535448],[11.575896128053008,48.13147241635771],[11.575890238790295,48.13147387600534],[11.57588438825805,48.13147540385765],[11.575878578218747,48.13147699945441],[11.575872810422663,48.131478662314905],[11.575867086607344,48.131480391938226],[11.57586140849709,48.131482187803314],[11.575855777802438,48.1314840493692],[11.575850196219633,48.13148597607504],[11.575844665430132,48.13148796734043],[11.575839187100089,48.131490022565515],[11.575833762879855,48.131492141131154],[11.575828394403478,48.13149432239914],[11.575823083288224,48.13149656571235],[11.575817831134065,48.13149887039497],[11.575812639523226,48.13150123575276],[11.575807510019681,48.13150366107313],[11.575802444168707,48.13150614562547],[11.5757974434964,48.13150868866129],[11.575792509509215,48.131511289414505],[11.575787643693534,48.131513947101645],[11.575782847515194,48.13151666092208],[11.57577812241905,48.13151943005827],[11.575773469828556,48.131522253676],[11.575768891145312,48.1315251309247],[11.575764387748668,48.13152806093754],[11.57575996099528,48.13153104283188],[11.575755612218721,48.131534075709446],[11.575751342729083,48.13153715865654],[11.575747153812562,48.13154029074445],[11.575743046731084,48.13154347102961],[11.57573902272193,48.131546698554],[11.57573508299735,48.131549972345276],[11.5757312287442,48.13155329141725],[11.5757274611236,48.13155665477003],[11.575723781270565,48.131560061390395],[11.57572019029367,48.13156351025212],[11.575716689274715,48.13156700031619],[11.57571327926841,48.13157053053127],[11.575709961302037,48.13157409983385],[11.57570673637516,48.1315777071487],[11.57570360545931,48.131581351389066],[11.5757005694977,48.13158503145717],[11.57569762940494,48.13158874624435],[11.575694786066757,48.13159249463153],[11.575692040339728,48.13159627548952],[11.575689393051036,48.13160008767931],[11.575686844998197,48.131603930052485],[11.57568439694884,48.13160780145151],[11.57568204964047,48.131611700710145],[11.57567980378024,48.13161562665369],[11.57567766004474,48.13161957809948],[11.5756756190798,48.13162355385714],[11.575673681500287,48.131627552728936],[11.575671847889929,48.13163157351022],[11.575670118801128,48.131635614989726],[11.5756684947548,48.13163967594994],[11.575666976240216,48.13164375516749],[11.575665563714859,48.1316478514135],[11.575664257604283,48.13165196345398],[11.57566305830198,48.13165609005014],[11.575661966169271,48.131660229958875],[11.575660981535185,48.131664381932985],[11.575660104696377,48.1316685447217],[11.57565933591702,48.131672717070934],[11.575658675428743,48.13167689772383],[11.57565812343054,48.13168108542089],[11.57565768008873,48.13168527890056],[11.5756573455369,48.131689476899574],[11.575657119875862,48.131693678153255],[11.575657003173617,48.13169788139596],[11.575656995465357,48.13170208536145],[11.575657096753428,48.13170628878325],[11.575657307007342,48.1317104903951],[11.575657626163787,48.13171468893122],[11.575658054126642,48.131718883126794],[11.57565859076701,48.13172307171832],[11.575659235923249,48.131727253443955],[11.575659989401032,48.13173142704395],[11.575660850973398,48.13173559126097],[11.57566182038082,48.131739744840544],[11.575662897331284,48.1317438865314],[11.575664081500385,48.131748015085805],[11.575665372531407,48.13175212926005],[11.575666770035452,48.131756227814705],[11.575668273591539,48.13176030951507],[11.57566988274674,48.13176437313149],[11.575671597016314,48.131768417439815],[11.575673415883855,48.13177244122167],[11.575675338801446,48.13177644326486],[11.575677365189824,48.131780422363775],[11.575679494438546,48.13178437731965],[11.575681725906202,48.1317883069411],[11.575684058920563,48.131792210044246],[11.575686492778829,48.131796085453296],[11.575689026747805,48.13179993200075],[11.575691660064141,48.13180374852783],[11.575694391934562,48.13180753388475],[11.575697221536098,48.1318112869312],[11.575700148016338,48.13181500653652],[11.575703170493686,48.13181869158019],[11.575706288057622,48.131822340952056],[11.575709499768985,48.1318259535527],[11.57571280466025,48.131829528293856],[11.575716201735816,48.13183306409858],[11.575719689972315,48.131836559901686],[11.575723268318914,48.13184001465007],[11.575726935697633,48.13184342730295],[11.57573069100367,48.13184679683224],[11.575734533105734,48.131850122222886],[11.575738460846384,48.13185340247304],[11.575742473042386,48.131856636594556],[11.575746568485052,48.13185982361311],[11.57575074594062,48.1318629625686],[11.575755004150624,48.13186605251539],[11.575759341832265,48.13186909252265],[11.5757637576788,48.13187208167449],[11.575768250359943,48.13187501907046],[11.575772818522255,48.13187790382565],[11.575777460789565,48.13188073507101],[11.57578217576337,48.13188351195359],[11.575786962023262,48.13188623363685],[11.575791818127366,48.13188889930084],[11.57579674261275,48.131891508142544],[11.5758017339959,48.13189405937604],[11.57580679077313,48.1318965522327],[11.575811911421066,48.1318989859616],[11.575817094397086,48.13190135982951],[11.575822338139789,48.13190367312132],[11.575827641069472,48.13190592514012],[11.575833001588597,48.13190811520747],[11.575838418082277,48.13191024266361],[11.575843888918765,48.13191230686762],[11.575849412449935,48.13191430719766],[11.575854987011796,48.13191624305108],[11.575860610924972,48.13191811384475],[11.575866282495229,48.13191991901503],[11.575872000013964,48.1319216580181],[11.575877761758745,48.13192333033011],[11.575883565993806,48.13192493544725],[11.575889410970584,48.13192647288596],[11.575895294928241,48.13192794218307],[11.575901216094193,48.13192934289595],[11.57590717268465,48.131930674602636],[11.57591316290515,48.13193193690194],[11.575919184951093,48.13193312941357],[11.5759252370083,48.131934251778276],[11.575931317253545,48.13193530365795],[11.575937423855109,48.13193628473571],[11.575943554973335,48.13193719471599],[11.575949708761181,48.131938033324644],[11.575955883364772,48.13193880030905],[11.575962076923965,48.13193949543815],[11.575968287572904,48.13194011850252],[11.575974513440585,48.13194066931445],[11.57598075265142,48.13194114770803],[11.5759870033258,48.13194155353913],[11.575993263580663,48.131941886685475],[11.575999531530062,48.13194214704673],[11.576005805285728,48.13194233454443],[11.576012082957648,48.13194244912213],[11.576018362654626,48.131942490745274],[11.576024642484853,48.13194245940134],[11.576030920556486,48.13194235509977]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Wittelsbacherplatz","Current Name (Eng)":"Wittelsbacher square","Previous Name":null,Address:"Wittelsbacherplatz , 80333 Mnchen","Starting year":null,"Completion year/Opening year":"1820","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/wittelsbacherplatz","Wikipedia page":"https://de.wikipedia.org/wiki/Wittelsbacherplatz_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:3,year:1820},geometry:{type:"MultiPolygon",coordinates:[[[[11.575534167306348,48.143086789623815],[11.57576044777007,48.143566402196264],[11.575852933712806,48.1435739977415],[11.575906820436625,48.14360421535402],[11.575928900692594,48.14364844188838],[11.575932858586338,48.14366436833433],[11.575961485084513,48.14367702198852],[11.575965868516127,48.143710464965146],[11.576215316074453,48.14366075308286],[11.576461936255711,48.14360868668654],[11.576513767646553,48.143597854491595],[11.576543684278025,48.143600205154925],[11.57656656642918,48.143606339691466],[11.57659326814705,48.143616618975095],[11.57661101049471,48.14362830792606],[11.576631342865351,48.143655651807904],[11.576707255752615,48.14363884019122],[11.576354742011937,48.142910652373224],[11.575534167306348,48.143086789623815]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Sankt-Jakobs-Platz","Current Name (Eng)":"Saint Jacob's square","Previous Name":null,Address:"Sankt-Jakobs-Platz , 80331 Mnchen","Starting year":null,"Completion year/Opening year":"1221","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"square",Function:"public space",Description:null,Website:"http://jakobs-platz.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/sehenswerte-plaetze/st-jakobs-platz","Wikipedia page":"https://de.wikipedia.org/wiki/St.-Jakobs-Platz","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1,year:1221},geometry:{type:"MultiPolygon",coordinates:[[[[11.57269901276692,48.13405247682035],[11.571774923068261,48.13427744134097],[11.57173687172517,48.134310928128315],[11.572208337409926,48.13458562305827],[11.571868392290067,48.134847061635554],[11.57193044745916,48.134896437331605],[11.572082095973206,48.13500424151892],[11.572180164696022,48.135051601910924],[11.572472795163046,48.13480089169493],[11.573005625220581,48.13462336536276],[11.573005234390434,48.1344710784122],[11.572852772765057,48.134202537067196],[11.57269901276692,48.13405247682035]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Bogenhausen","Current Name (Eng)":"Bogenhausen cemetery","Previous Name":null,Address:"Bogenhauser Kirchpl. 1, 81675 Mnchen","Starting year":null,"Completion year/Opening year":"800","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/leben/friedhof-bogenhausen","Wikipedia page":"https://de.wikipedia.org/wiki/Friedhof_Bogenhausen#Geschichte","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1,year:800},geometry:{type:"MultiPolygon",coordinates:[[[[11.601115430180608,48.14776755455294],[11.601473607425289,48.14824292162071],[11.601950970022916,48.14807497848663],[11.601968400223827,48.148062496676104],[11.601971397713184,48.148050341806226],[11.601968738664315,48.14803348028587],[11.601630125646203,48.1475878890306],[11.601604380162332,48.14757880258665],[11.601579062096775,48.147578167334125],[11.601539433571165,48.14758027359044],[11.601242976486667,48.14768247475758],[11.601147448881047,48.14772210768997],[11.601128641847703,48.147743081432615],[11.601115430180608,48.14776755455294]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Neuer Israelitischer Friedhof","Current Name (Eng)":"New israelite cemetery","Previous Name":null,Address:"Garchinger Str. 37, 80805 Mnchen","Starting year":1904,"Completion year/Opening year":"1908","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Neuer_Israelitischer_Friedhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hans Grssel",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1908},geometry:{type:"MultiPolygon",coordinates:[[[[11.600698111384563,48.18183799735219],[11.600760710725943,48.18278902862144],[11.60085727589994,48.182840024821715],[11.60173543343678,48.18319241675668],[11.60168035319725,48.18324684657986],[11.602783852535442,48.18362313554395],[11.604595182404342,48.18355790857875],[11.604542298617803,48.181944296051824],[11.603718359424542,48.18194846933232],[11.603718613914957,48.18109754483293],[11.600698111384563,48.18183799735219]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Alter Israelitischer Friedhof","Current Name (Eng)":"Old israelite cemetery","Previous Name":null,Address:"Thalkirchner Str. 240, 81371 Mnchen","Starting year":null,"Completion year/Opening year":"1816","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Alter_Israelitischer_Friedhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":"King Max I Joseph","Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:3,year:1816},geometry:{type:"MultiPolygon",coordinates:[[[[11.544523793803581,48.11004024805291],[11.54622946204263,48.11051735073696],[11.547102494630506,48.11021515686835],[11.546035474808004,48.10878354425507],[11.545957847996561,48.10874658678694],[11.545018977566379,48.1090308918969],[11.544847644399658,48.10921599310267],[11.544688412116788,48.109499939114855],[11.54454863783027,48.10981246252129],[11.544424889894662,48.1100110131349],[11.544523793803581,48.11004024805291]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Nymphenburg","Current Name (Eng)":"Nymphenburg cemetery","Previous Name":null,Address:"Maria-Ward-Strae 10, 80638 Mnchen","Starting year":null,"Completion year/Opening year":"1875","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-nymphenburg/10321446/","Wikipedia page":"https://de.wikipedia.org/wiki/Nymphenburger_Friedhof","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1875},geometry:{type:"MultiPolygon",coordinates:[[[[11.505800217595024,48.16211717974216],[11.506092610905313,48.16250060206394],[11.506381445638084,48.16242177946581],[11.507417129633387,48.16248710969748],[11.507467416157935,48.162462442714464],[11.507501671881228,48.162109061232805],[11.507470701759306,48.16208526138335],[11.50624007276214,48.16202327845995],[11.505950563380525,48.16206041581605],[11.505800217595024,48.16211717974216]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Neuhausen (Winthirfriedhof)","Current Name (Eng)":"Neuhausen cemetery (Winthir cemetery)","Previous Name":null,Address:"Winthirstr. 15 , 80639 Mnchen","Starting year":null,"Completion year/Opening year":"1315","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/leben/friedhof-neuhausen","Wikipedia page":"https://de.wikipedia.org/wiki/Friedhof_Neuhausen#Geschichte","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1,year:1315},geometry:{type:"MultiPolygon",coordinates:[[[[11.529162215849347,48.154944121369226],[11.530576511691386,48.155162265262156],[11.530629051250937,48.154963487282366],[11.529864258023396,48.15481172138424],[11.529649638536299,48.15471763763578],[11.529538913357898,48.154614920079155],[11.52930724904659,48.15472517716603],[11.52923331622864,48.15479207421748],[11.529162215849347,48.154944121369226]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Nordfriedhof","Current Name (Eng)":"North cemetery","Previous Name":null,Address:"Ungererstr. 130 , 80805 Mnchen","Starting year":null,"Completion year/Opening year":"1884","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/leben/staedtische-friedhoefe/nordfriedhof","Wikipedia page":"https://de.wikipedia.org/wiki/Nordfriedhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1884},geometry:{type:"MultiPolygon",coordinates:[[[[11.597681237644476,48.17342828192217],[11.60096586547081,48.176523149906195],[11.604022798420273,48.17928948697997],[11.606254144246217,48.178172818812214],[11.606415504404781,48.17814740138138],[11.608581396605317,48.177024920225136],[11.608647382597589,48.176936395932124],[11.60709545644386,48.176268168223615],[11.60666507370674,48.17601323127322],[11.60628609151329,48.1757027353872],[11.605971268922032,48.17537446544548],[11.605825789960303,48.17517833129665],[11.60545158247063,48.174320186554084],[11.605002862623573,48.17327517419691],[11.604837064328185,48.17294533464649],[11.604726747600226,48.172800979900806],[11.604374967231802,48.17249167396661],[11.604095739090553,48.17227681337211],[11.603934305775377,48.17219344693115],[11.603587624620477,48.17203813136266],[11.603246129483878,48.17193164929242],[11.602935561500429,48.17190061308595],[11.602093521369042,48.17186529871579],[11.601486291250072,48.17181015647225],[11.601123734720657,48.1717694144819],[11.600565730462211,48.17188357839433],[11.600300213944307,48.17199293219556],[11.599989581675654,48.17217492154307],[11.599929535338783,48.172193504450455],[11.599659852669495,48.172408107290536],[11.599439573708596,48.17255450912482],[11.597681237644476,48.17342828192217]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Daglfing","Current Name (Eng)":"Daglfing cemetery","Previous Name":null,Address:"Kohlbrennerstrae 19, 81929 Mnchen","Starting year":null,"Completion year/Opening year":"1300","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-daglfing/10321888/","Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1,year:1300},geometry:{type:"MultiPolygon",coordinates:[[[[11.656445299352104,48.151899693663836],[11.656614564622313,48.15255391705602],[11.656973747363041,48.1525311045802],[11.657089835346833,48.15252298001528],[11.657274745448063,48.152509637073464],[11.657496373233526,48.15247278115619],[11.657810250656459,48.15246461215489],[11.657969205357212,48.15236846823889],[11.657966066295876,48.152281514331904],[11.657930834602713,48.15225513381568],[11.657416182640148,48.15225797663387],[11.657411417928238,48.15221819970371],[11.657302888008509,48.15221527142506],[11.657296957401037,48.15217914756919],[11.656799289203436,48.151802666637074],[11.656445299352104,48.151899693663836]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Haidhausen","Current Name (Eng)":"Haidhausen cemetery","Previous Name":null,Address:"Einsteinstrae 74, 81675 Mnchen","Starting year":null,"Completion year/Opening year":"1300","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-haidhausen/10321889/","Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1,year:1300},geometry:{type:"MultiPolygon",coordinates:[[[[11.603850125841355,48.13553107165271],[11.60516369969057,48.135475902224684],[11.605269901319769,48.13543360625116],[11.605267701037189,48.13539014298544],[11.604983451482447,48.13319917461242],[11.604891286432625,48.13319763882328],[11.60420632770959,48.13325668459721],[11.60407757047192,48.133281360518026],[11.603638290239209,48.13337834564787],[11.603307955640501,48.13348736418742],[11.603366643184154,48.13357668642513],[11.60349576796892,48.13355925517311],[11.603536757902207,48.1336199696976],[11.603656893573055,48.13363900301034],[11.603992235206109,48.13437837692619],[11.603638785850466,48.134458911644295],[11.603850125841355,48.13553107165271]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Pasing","Current Name (Eng)":"Pasing cemetery","Previous Name":null,Address:"Lampertstrae 1, 81241 Mnchen","Starting year":null,"Completion year/Opening year":"1903","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-pasing/10321179/","Wikipedia page":"https://de.wikipedia.org/wiki/Friedhof_Pasing","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1903},geometry:{type:"MultiPolygon",coordinates:[[[[11.456492047499324,48.135501129653164],[11.456819032638348,48.13599525875521],[11.456944496918176,48.136280521921435],[11.457305808429087,48.13709056172099],[11.457399547557719,48.13734194944648],[11.458085947963768,48.13721208417016],[11.458759277784317,48.1371688785754],[11.460016374357158,48.13709877100724],[11.460865483790151,48.13704314993904],[11.460827558327512,48.13651989925601],[11.460952320861413,48.13652010580741],[11.46097194892855,48.1363008456974],[11.46132516064688,48.13631055448482],[11.46134554705593,48.1362870818993],[11.461634710581052,48.136306800547445],[11.461960317523742,48.13636892939521],[11.462276460352493,48.136143313337655],[11.462754278520372,48.135790412968895],[11.462841163537213,48.135268805931354],[11.461444587947954,48.13516484631259],[11.460660416363726,48.1351384556018],[11.459493887130407,48.135212390196855],[11.4583292776526,48.13532658438458],[11.457040314480015,48.13544918572782],[11.456936087364921,48.13545037716353],[11.456492047499324,48.135501129653164]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Riem","Current Name (Eng)":"Riem cemetery","Previous Name":null,Address:"Am Mitterfeld 68, 81829 Mnchen","Starting year":null,"Completion year/Opening year":"1913","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":"1999-2000",Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:"New part built in 1999-2000",Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-riem/10321180/","Wikipedia page":"https://de.wikipedia.org/wiki/Friedhof_Riem","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1913},geometry:{type:"MultiPolygon",coordinates:[[[[11.682079081734727,48.13085985662505],[11.681721471348599,48.130495027938686],[11.68041317362924,48.13097765431008],[11.680807915963367,48.131371574398315],[11.679381582869523,48.13198364293416],[11.67977107374247,48.13252454474943],[11.680011620639432,48.13280796496996],[11.682587069395234,48.13175257257034],[11.682583918228238,48.13172298075878],[11.682552747535487,48.131640742513405],[11.682074800399775,48.13117750323588],[11.682075805697323,48.13112456849367],[11.682079081734727,48.13085985662505]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Waldfriedhof Neuer Teil","Current Name (Eng)":"Forest cemetery new part","Previous Name":null,Address:"Lorettoplatz 3 , 81377 Mnchen","Starting year":null,"Completion year/Opening year":"1966","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/leben/waldfriedhof-neuer-teil","Wikipedia page":"https://de.wikipedia.org/wiki/Waldfriedhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:6,year:1966},geometry:{type:"MultiPolygon",coordinates:[[[[11.483074225163069,48.10287633367091],[11.48316988681679,48.102792056359576],[11.487813918993824,48.10274978462613],[11.488078082090277,48.10271323372338],[11.488863995549245,48.10273217154751],[11.489123725986383,48.10281560253661],[11.489180102383163,48.10292399278393],[11.48915969931447,48.103136808441214],[11.489115917263153,48.10350084741571],[11.488884470410532,48.103832032108706],[11.489334889118314,48.10374615405118],[11.489698097921684,48.103695463780475],[11.489930867771237,48.103644174966426],[11.490115665164458,48.10349972790408],[11.490667607900916,48.10322743080315],[11.490974348324988,48.103066636242666],[11.491156844502227,48.10298046882263],[11.491560067147757,48.102805591039925],[11.492404416144673,48.10249953854175],[11.49259967938518,48.10241309173404],[11.492863151365356,48.10225665650152],[11.49318792461767,48.102098889911],[11.493496115963007,48.10186269866264],[11.493708662671741,48.10171079247185],[11.493942693148426,48.10147449753918],[11.494063271198616,48.101271494349724],[11.494154483623078,48.1009372516058],[11.49423235722776,48.10064440302874],[11.494388704326651,48.1004937160367],[11.49456754134311,48.100332264187045],[11.494722491954702,48.10020558472652],[11.494854371326527,48.10007769354421],[11.495108173874296,48.099880358498055],[11.495344497362858,48.09962903545815],[11.492917997502909,48.09836937166624],[11.48966593507398,48.09667927047401],[11.48761138497368,48.09564137068985],[11.48690399964978,48.09549912324414],[11.486047332645915,48.09533612535367],[11.485741343713503,48.0952468379642],[11.485341512103544,48.09506709533161],[11.485081084555784,48.094968256747464],[11.484836892127074,48.094940999309514],[11.484368447372834,48.0949288687913],[11.483082904948185,48.09499092453185],[11.481937085263061,48.09508762557007],[11.481631598451202,48.09511477932279],[11.48149368444142,48.095117759333675],[11.481377355326275,48.095144250474334],[11.481309798057188,48.09522791922319],[11.481129863025346,48.095526389333706],[11.480739501310754,48.096233599418824],[11.48057603435741,48.09666187727296],[11.480014768585034,48.09774956755429],[11.477919833136959,48.101185909613065],[11.478435624659301,48.1012775412907],[11.478734554098676,48.10132589603382],[11.479127413642047,48.10141332697979],[11.479407227399008,48.10148949561497],[11.479532796822522,48.101548441475025],[11.479538395231144,48.101664783401674],[11.479464232026842,48.10182395183261],[11.479392044202783,48.1020241820777],[11.479357102642728,48.10214824993515],[11.479381488818127,48.10222993250861],[11.47952848260526,48.102308968116446],[11.48047637991009,48.1024529177167],[11.483074225163069,48.10287633367091]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof am Perlacher Forst","Current Name (Eng)":"Cemetery at Perlacher Forest","Previous Name":null,Address:"Stadelheimer Strae 24, 81549 Mnchen","Starting year":null,"Completion year/Opening year":"1931","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-am-perlacher-forst/10320919/","Wikipedia page":"https://de.wikipedia.org/wiki/Friedhof_am_Perlacher_Forst","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hermann Leitenstorfer",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:5,year:1931},geometry:{type:"MultiPolygon",coordinates:[[[[11.60026069879355,48.098983775030206],[11.599723432986893,48.098858025695804],[11.600085537960751,48.09821949429633],[11.600483919200059,48.09752264293068],[11.600554925038445,48.09739843694909],[11.600504654958476,48.09738690935584],[11.600350020673954,48.09735144950022],[11.600391847751112,48.09725685280676],[11.60058211474835,48.096879862122684],[11.600590506766432,48.09682492794126],[11.59321594861233,48.09559415134546],[11.592667886943975,48.09656343211451],[11.591814497630612,48.097983836189464],[11.593035452705827,48.098311662126086],[11.592956517109503,48.09845271804875],[11.595592802831096,48.09912314990576],[11.594037705177971,48.10184290586264],[11.595793574849058,48.1022546696916],[11.596503654249679,48.102401903785406],[11.596630679043667,48.1024326495412],[11.596738711361535,48.102442213183075],[11.596921580578064,48.102442880660355],[11.596990585415842,48.102460530390765],[11.59721890068872,48.10222484532218],[11.597689626508819,48.10196206537216],[11.597822556222958,48.101896625468214],[11.598266080401514,48.101663273668905],[11.598612070684494,48.10141531825568],[11.598891473518728,48.101197683920184],[11.599042182894612,48.101129438951894],[11.599127880893924,48.101122696903815],[11.599231989961774,48.10098346824728],[11.59943645980295,48.10098604406971],[11.600046777038587,48.10118113842578],[11.600100025959613,48.10102865282887],[11.600193097317282,48.100812832542125],[11.600320644370862,48.10056981757857],[11.600468151964899,48.100367172071024],[11.600457516890653,48.10034868144137],[11.600640698283007,48.10012794029266],[11.601226231996922,48.09922861014816],[11.600822600699836,48.09911528717011],[11.60026069879355,48.098983775030206]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Neuer Sdfriedhof","Current Name (Eng)":"New south cemetery","Previous Name":null,Address:"Hochckerstrae 90, 81737 Mnchen","Starting year":null,"Completion year/Opening year":"1977","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/neuer-suedfriedhof/10321028/","Wikipedia page":"https://de.wikipedia.org/wiki/Neuer_S%C3%BCdfriedhof","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Gottfried Hansjakob",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:6,year:1977},geometry:{type:"MultiPolygon",coordinates:[[[[11.623822840845463,48.10007373773893],[11.625094954614113,48.10002569356264],[11.625136961122273,48.09937712943868],[11.62574422956723,48.099330388542164],[11.625572746567222,48.09765341596406],[11.625536490072998,48.09722275537806],[11.625513739749788,48.097137289939184],[11.625501224589831,48.097003667501276],[11.62545625968134,48.0965235770777],[11.624085579376041,48.096479265525204],[11.623253761882715,48.09651884879304],[11.622891009066182,48.096518862148315],[11.618635723485932,48.096582355590826],[11.616963476384537,48.09668771097945],[11.61490327260838,48.09649451332191],[11.614011094990081,48.101166092066],[11.617726486868627,48.10105264666232],[11.618608088189255,48.10104695529579],[11.620127353198578,48.10096187597519],[11.622322031209654,48.10083494172856],[11.623845839673681,48.10076891955207],[11.623822840845463,48.10007373773893]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Solln","Current Name (Eng)":"Solln cemetery","Previous Name":null,Address:"Friedhofweg 1, 81479 Mnchen","Starting year":null,"Completion year/Opening year":"1883","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-solln/10322068/","Wikipedia page":"https://de.wikipedia.org/wiki/Friedhof_Solln","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1883},geometry:{type:"MultiPolygon",coordinates:[[[[11.517390810938318,48.079044650915755],[11.518064958960085,48.079091102763506],[11.518131660485064,48.07836565992814],[11.51743243229154,48.078355777232204],[11.517390810938318,48.079044650915755]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Waldfriedhof Solln","Current Name (Eng)":"Solln forest cemetery","Previous Name":null,Address:"Warnbergstrae 2, 81479 Mnchen","Starting year":null,"Completion year/Opening year":"1937","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/waldfriedhof-solln/10321648/","Wikipedia page":"https://de.wikipedia.org/wiki/Waldfriedhof_Solln","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Bruno Biehler",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:5,year:1937},geometry:{type:"MultiPolygon",coordinates:[[[[11.51397631989385,48.06993641635464],[11.514075119249181,48.069899141908714],[11.514366481036497,48.06978488627763],[11.514552120513345,48.06977896144615],[11.514764339097805,48.06980593312769],[11.515264656241483,48.0699363306664],[11.515722648794839,48.07004970515251],[11.515770904344835,48.07000335821457],[11.516829146137571,48.06905578006823],[11.516818745113516,48.06901322945562],[11.51611927865305,48.06872538787583],[11.51552054662215,48.068470854700536],[11.514444737372672,48.068063989850955],[11.51422553924757,48.06797694101606],[11.513818544395356,48.06789580397752],[11.513437756469253,48.0679113430733],[11.51318606686374,48.06792945840461],[11.512881747077026,48.067970336280695],[11.512464870556357,48.06801727797959],[11.51166256701904,48.06815008979473],[11.51172184402006,48.06830273440516],[11.511762947796694,48.06844877039793],[11.511767713308721,48.0685751419072],[11.511721105691604,48.0687007771689],[11.511600434600997,48.068787113716866],[11.510838546851273,48.06892653094979],[11.510615050485757,48.068952806804816],[11.51040899995659,48.06899544026726],[11.510352323810515,48.06902829820745],[11.510285644295989,48.06908369404201],[11.510299083271947,48.06913175862408],[11.51052151484287,48.069368687764374],[11.510707852113885,48.06966220375592],[11.510905099113465,48.06995176101925],[11.510967170735471,48.06997272300605],[11.511084865469481,48.06999618852125],[11.511264270323968,48.07003318390027],[11.511403418567898,48.07004130042848],[11.511763973805161,48.07003713437713],[11.512222400024855,48.07010522357696],[11.512554691445644,48.070090513748006],[11.513301825436287,48.06993280872985],[11.51397631989385,48.06993641635464]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Ostfriedhof","Current Name (Eng)":"East cemetery","Previous Name":null,Address:"Sankt-Martins-Platz 1, 81541 Mnchen","Starting year":1899,"Completion year/Opening year":"1907","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/ostfriedhof/10309496/","Wikipedia page":"https://de.wikipedia.org/wiki/Ostfriedhof_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Hans Grssel",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1907},geometry:{type:"MultiPolygon",coordinates:[[[[11.595441595087665,48.118573231033054],[11.595408806138797,48.11851200952824],[11.595273866622449,48.118507619103205],[11.595120454170234,48.11846737715273],[11.593264372776018,48.118014558480475],[11.59087185162512,48.1174436170131],[11.590113114847727,48.11726915722619],[11.589884083919628,48.11718876506183],[11.589803063510413,48.117179432442434],[11.589463204172787,48.11721499466394],[11.588388506892834,48.11733035726737],[11.587948263497761,48.11738584671926],[11.586554184359422,48.11816587584101],[11.585872771417046,48.118424871615396],[11.58555115775954,48.118547428372025],[11.585203732012904,48.11865382581165],[11.58443841545331,48.118901682021345],[11.58431507516834,48.118879348304304],[11.583835247247347,48.119038939006124],[11.583806425457174,48.11905176434161],[11.583800732699643,48.119054297545794],[11.583889859964472,48.11912396485773],[11.584493735188008,48.11986551117758],[11.584743684004906,48.12019653459726],[11.585351659452742,48.12030002632619],[11.588580089924307,48.12086526541612],[11.58975130408581,48.12106577413866],[11.591909505818403,48.12144859426925],[11.59431397260802,48.121866730035016],[11.5954278032642,48.12208521659314],[11.595647135421324,48.12213791791461],[11.595673477830918,48.12210942352376],[11.596272832436767,48.12226141072739],[11.596751658451241,48.122391940810175],[11.596763207311477,48.12237639204841],[11.596798123658486,48.122390657746045],[11.596976375933483,48.12220714342076],[11.596985967681663,48.122094400363316],[11.596938620375305,48.12203688295096],[11.596811811312094,48.12189095526237],[11.596564822208165,48.12162033886904],[11.596397335867167,48.12135629439591],[11.59629275649726,48.1211828945077],[11.59620439779435,48.12091799094728],[11.596161002916695,48.12074599774642],[11.596030322674311,48.120247698632966],[11.595879485330595,48.119680107301576],[11.59571671042997,48.11909604610643],[11.595553651824494,48.118644046617696],[11.595441595087665,48.118573231033054]]]]}},{type:"Feature",properties:{fid:null,id:null,id_2:null,id_3:null,"Current Name (DE)":"Friedhof Perlach","Current Name (Eng)":"Perlach cemetery","Previous Name":null,Address:"Putzbrunner Strae 51, 81739 Mnchen","Starting year":null,"Completion year/Opening year":"1902","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type_2:"cemetery",Function:null,Description:null,Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/friedhof-perlach/10322998/","Wikipedia page":"https://de.wikipedia.org/wiki/Friedhof_Perlach","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:4,year:1902},geometry:{type:"MultiPolygon",coordinates:[[[[11.640516095788495,48.098050593261476],[11.641161364945452,48.09915544431036],[11.64278760593551,48.09870512198155],[11.642227031610883,48.09762809042487],[11.640516095788495,48.098050593261476]]]]}}],qk={type:Uk,name:Hk,crs:Zk,features:Gk},Kk="FeatureCollection",Xk="spots",Jk={type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},Yk=[{type:"Feature",properties:{id:null,"Current Name (DE)":"Neuhauser Strae/Kaufingerstrae","Current Name (Eng)":"Neuhauser Street and Kaufingerstrae Street","Previous Name":"Chufringerstrae",Address:"Kaufingerstrae 1","Starting year":null,"Completion year/Opening year":"1316","Zerstrt/Destroyed":1944,"Renoviert/New use/Expansion":"1972",Rebuilt:"1950",Moved:null,Type:"spot",Function:"street",Description:"in 1972 were opened as pedestrian zones",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/fussgaengerzone-neuhauser-strassekaufingerstrasse","Wikipedia page":"https://de.wikipedia.org/wiki/Neuhauser_Stra%C3%9Fe, https://de.wikipedia.org/wiki/Kaufingerstra%C3%9Fe","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Kaufingerstrae 1, Munich",Latitude:48.1372092,Longitude:11.5745225,Period:1},geometry:{type:"Point",coordinates:[11.571507118587244,48.13816152814123]}},{type:"Feature",properties:{id:null,"Current Name (DE)":"Isartor","Current Name (Eng)":"Isars gate","Previous Name":null,Address:"Tal 50, 80331 Mnchen","Starting year":null,"Completion year/Opening year":"1337","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/top-sehenswuerdigkeiten/isartor","Wikipedia page":"https://de.wikipedia.org/wiki/Isartor","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1},geometry:{type:"Point",coordinates:[11.581681342036326,48.134973625879915]}},{type:"Feature",properties:{id:null,"Current Name (DE)":"Sendlinger Tor","Current Name (Eng)":"Sendling Gate","Previous Name":null,Address:"Sendlinger-Tor-Platz 1","Starting year":null,"Completion year/Opening year":"1300","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/bauwerke-und-denkmaeler/sendlinger-tor","Wikipedia page":"https://de.wikipedia.org/wiki/Sendlinger_Tor","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:null,Latitude:null,Longitude:null,Period:1},geometry:{type:"Point",coordinates:[11.56766638923752,48.13391043189747]}},{type:"Feature",properties:{id:null,"Current Name (DE)":"Siegestor","Current Name (Eng)":"Victory gate","Previous Name":null,Address:"Leopoldstr. 1 , 80539 Mnchen","Starting year":1843,"Completion year/Opening year":"1850","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/siegestor","Wikipedia page":"https://de.wikipedia.org/wiki/Siegestor","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich von Grtner",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:3},geometry:{type:"Point",coordinates:[11.58213458543154,48.15235435671356]}},{type:"Feature",properties:{id:null,"Current Name (DE)":"Kurt-Eisner-Denkmal (Bodenplatte)","Current Name (Eng)":"Kurt Eisner monument (floor plate)","Previous Name":null,Address:"Kardinal-Faulhaber-Strae 14","Starting year":null,"Completion year/Opening year":"1989","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:"part of 1919 'Nationalsozialistische Stadtentwicklung' (National Socialist urban development) by Munich City Museum",Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Kurt-Eisner-Denkmal","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Erika Maria Lankes",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:6},geometry:{type:"Point",coordinates:[11.573992891415438,48.140312356525705]}},{type:"Feature",properties:{id:null,"Current Name (DE)":"Kurt-Eisner-Denkmal (Glasskulptur)","Current Name (Eng)":"Kurt Eisner monument (glass sculpture)","Previous Name":null,Address:"Schmidstrae 2","Starting year":null,"Completion year/Opening year":"2011","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:"part of 1919 'Nationalsozialistische Stadtentwicklung' (National Socialist urban development) by Munich City Museum",Website:null,"Muenchen.de":"https://stadt.muenchen.de/infos/denkmaeler-muenchen.html","Wikipedia page":"https://de.wikipedia.org/wiki/Kurt-Eisner-Denkmal_am_Oberanger","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Rotraut Fischer",Status:null,AddressM:null,Latitude:null,Longitude:null,Period:7},geometry:{type:"Point",coordinates:[11.57002197420665,48.13424606098213]}},{type:"Feature",properties:{id:86,"Current Name (DE)":"Umschreibung","Current Name (Eng)":"Endless Staircase by Olafur Eliasson","Previous Name":null,Address:"Ganghoferstrae 29A","Starting year":null,"Completion year/Opening year":"2004","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"spot",Description:"https://www.atlasobscura.com/places/umschreibung",Website:"https://olafureliasson.net/artwork/umschreibung-2004/","Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Olafur Eliasson",Status:null,AddressM:"Ganghoferstrae 29A, Munich",Latitude:48.1325307,Longitude:11.5400899,Period:7},geometry:{type:"Point",coordinates:[11.540267755188971,48.132789724918176]}},{type:"Feature",properties:{id:111,"Current Name (DE)":"Olympiaturm","Current Name (Eng)":"Olympic Tower","Previous Name":null,Address:"Spiridon-Louis-Ring 7","Starting year":1965,"Completion year/Opening year":"1968","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"tv tower",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/aussichtspunkte/olympiaturm","Wikipedia page":"https://de.wikipedia.org/wiki/Olympiaturm","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Sebastian Rosenthal",Status:null,AddressM:"Spiridon-Louis-Ring 7, Munich",Latitude:48.17411,Longitude:11.54718,Period:6},geometry:{type:"Point",coordinates:[11.55375478339862,48.174418433331006]}},{type:"Feature",properties:{id:145,"Current Name (DE)":"Karlstor","Current Name (Eng)":"Karlstor gate","Previous Name":"Neuhauser Tor",Address:"Karlsplatz","Starting year":null,"Completion year/Opening year":"1300","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":"1861, 1902",Rebuilt:"1791, 1950",Moved:null,Type:"spot",Function:"memorial",Description:null,Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/top-sehenswuerdigkeiten/karlstor","Wikipedia page":"https://de.wikipedia.org/wiki/Karlstor_(M%C3%BCnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Karl Theodor (1791), Gabriel von Seidl (1902",Status:null,AddressM:"Karlsplatz, Munich",Latitude:48.1398393,Longitude:11.5662176,Period:1},geometry:{type:"Point",coordinates:[11.566762715800527,48.139011007250645]}},{type:"Feature",properties:{id:161,"Current Name (DE)":"Theresienwiese (Oktoberfest)","Current Name (Eng)":"Theresienwiese (Octoberfest)","Previous Name":null,Address:"Theresienwiese","Starting year":null,"Completion year/Opening year":"1810","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"beer festival",Description:"https://www.muenchen.de/en/events/oktoberfest/history-oktoberfest-munich",Website:"https://www.oktoberfest.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/aussichtspunkte/theresienwiese","Wikipedia page":null,"Owner/Initiator/Commissioned by":"The Bavarian Agricultural Association","Architect/Artist/Author":null,Status:null,AddressM:"Theresienwiese, Munich",Latitude:48.1308951,Longitude:11.5509415,Period:3},geometry:{type:"Point",coordinates:[11.549674819302695,48.1314254022483]}},{type:"Feature",properties:{id:168,"Current Name (DE)":"Monopteros","Current Name (Eng)":"Monopteros in Munich","Previous Name":null,Address:"12 Gylingstrae","Starting year":1833,"Completion year/Opening year":"1837","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"lookout point, round temple",Description:"https://www.atlasobscura.com/places/monopteros",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/parks-und-gaerten/monopteros","Wikipedia page":"https://de.wikipedia.org/wiki/Englischer_Garten_(M%C3%BCnchen)#/media/Datei:Monopteros_Englischer_Garten_Muenchen-10.jpg","Owner/Initiator/Commissioned by":"Ludwig I","Architect/Artist/Author":"Leo von Klenze",Status:null,AddressM:"12 Gylingstrae, Munich",Latitude:48.1603007,Longitude:11.604356,Period:3},geometry:{type:"Point",coordinates:[11.590932209178568,48.149885352731275]}},{type:"Feature",properties:{id:169,"Current Name (DE)":"Steinerne Bank von Klenze","Current Name (Eng)":"Klenze's Stone Bench","Previous Name":null,Address:"1A Englischer Garten","Starting year":null,"Completion year/Opening year":"1838","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"monument",Description:"https://www.atlasobscura.com/places/klenzes-stone-bench, https://stadtgeschichte-muenchen.de/sehenswert/d_sehenswert.php?id=2520",Website:null,"Muenchen.de":"https://stadt.muenchen.de/service/info/denkmal-steinerne-bank/1070966/","Wikipedia page":"https://de.wikipedia.org/wiki/Datei:Steinerne_Bank_Englischer_Garten_Muenchen-1.jpg, https://en.m.wikipedia.org/wiki/File:Steinerne_Bank2.JPG","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Leo von Klenze",Status:null,AddressM:"1A Englischer Garten, Munich",Latitude:48.1511102,Longitude:11.593948,Period:3},geometry:{type:"Point",coordinates:[11.592636152160916,48.15041979968284]}},{type:"Feature",properties:{id:170,"Current Name (DE)":"Feldfernhalle","Current Name (Eng)":`"Field Marshals' Hall"`,"Previous Name":null,Address:"Residenzstrae 1","Starting year":1841,"Completion year/Opening year":"1844","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"monumental loggia",Description:"New Munich'",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/sehenswerte-plaetze/odeonsplatz","Wikipedia page":"https://de.wikipedia.org/wiki/Feldherrnhalle","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Friedrich von Grtner",Status:null,AddressM:"Residenzstrae 1, Munich",Latitude:48.1414477,Longitude:11.5778316,Period:3},geometry:{type:"Point",coordinates:[11.577313048115466,48.141681896453264]}},{type:"Feature",properties:{id:174,"Current Name (DE)":"Bavaria-Statue","Current Name (Eng)":"Bavaria statue","Previous Name":null,Address:"Theresienhhe 16","Starting year":1843,"Completion year/Opening year":"1850","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"statue",Description:"https://www.atlasobscura.com/places/lady-bavaria",Website:"https://www.schloesser.bayern.de/deutsch/schloss/objekte/mu_ruhm.htm","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/aussichtspunkte/ruhmeshalle-mit-bavaria","Wikipedia page":"https://de.wikipedia.org/wiki/Bavaria","Owner/Initiator/Commissioned by":"Ludwig I","Architect/Artist/Author":"Ludwig Schwanthaler",Status:null,AddressM:"Theresienhhe 16, Munich",Latitude:48.1298886,Longitude:11.5445024,Period:3},geometry:{type:"Point",coordinates:[11.54594426035305,48.13069032171715]}},{type:"Feature",properties:{id:175,"Current Name (DE)":"Glaspalast-Brunnen","Current Name (Eng)":"Glass Palace Fountain","Previous Name":null,Address:"Weienburger Pl.","Starting year":null,"Completion year/Opening year":"1853","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:"1901, 1974",Type:"spot",Function:"water feature",Description:null,Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Glaspalast-Brunnen","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Weienburger Pl., Munich",Latitude:48.1288085,Longitude:11.5959166,Period:3},geometry:{type:"Point",coordinates:[11.596108994609743,48.12854864534666]}},{type:"Feature",properties:{id:193,"Current Name (DE)":"Wolfsbrunnen","Current Name (Eng)":"Wolf Fountain","Previous Name":null,Address:"Am Kosttor Munich","Starting year":null,"Completion year/Opening year":"1904","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"monument",Description:"https://www.atlasobscura.com/places/wolfsbrunnen",Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Wolfsbrunnen_(Mnchen)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Heinrich Dll und Georg Pezold",Status:null,AddressM:"Am Kosttor Munich, Munich",Latitude:48.1385666,Longitude:11.5809556,Period:4},geometry:{type:"Point",coordinates:[11.58094786904807,48.13842091406362]}},{type:"Feature",properties:{id:207,"Current Name (DE)":"Wunden der Erinnerung","Current Name (Eng)":"Wounds of Memory","Previous Name":null,Address:"2 Schellingstrae Munich","Starting year":null,"Completion year/Opening year":"1950","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:"https://www.atlasobscura.com/places/wunden-der-erinnerung-wounds-of-memory-lmu-library",Website:null,"Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Wunden_der_Erinnerung","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Beate Passow and Andreas von Weizscker",Status:null,AddressM:"2 Schellingstrae Munich, Munich",Latitude:48.1493548,Longitude:11.5797493,Period:6},geometry:{type:"Point",coordinates:[11.580191161644004,48.149178351913115]}},{type:"Feature",properties:{id:209,"Current Name (DE)":"Valentin-Karlstadt-Musum","Current Name (Eng)":"Valentin Karlstadt Museum","Previous Name":null,Address:"Tal 50","Starting year":null,"Completion year/Opening year":"1959","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"museum",Description:"https://www.atlasobscura.com/places/valentin-karlstadt-musaum",Website:"https://www.valentin-karlstadt-musaeum.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/museen/valentin-karlstadt-musaeum","Wikipedia page":"https://de.wikipedia.org/wiki/Valentin-Karlstadt-Mus%C3%A4um","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Tal 50, Munich",Latitude:48.1351053,Longitude:11.5818379,Period:6},geometry:{type:"Point",coordinates:[11.5818379,48.1351053]}},{type:"Feature",properties:{id:210,"Current Name (DE)":"Futuro Kunststoffhaus","Current Name (Eng)":"Futuro plastic house","Previous Name":null,Address:"Barer Str. 40","Starting year":null,"Completion year/Opening year":"1968","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"exhibition",Description:"located in front of the Pinakothek of the Modern, https://www.atlasobscura.com/places/futuro-house-pinakothek, https://www.pin-freunde.de/foerderungen/erwerbungen/kunstwerk/futuro/",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/pinakothek-der-moderne","Wikipedia page":"https://de.wikipedia.org/wiki/Futuro_(Haus)","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Matti Suuronen",Status:null,AddressM:"Barer Str. 40, Munich",Latitude:48.147128,Longitude:11.5722422,Period:6},geometry:{type:"Point",coordinates:[11.572405453817138,48.14760508892907]}},{type:"Feature",properties:{id:214,"Current Name (DE)":"Georg-Elser-Bodenplatte","Current Name (Eng)":"Georg-Elser-Floor-Plaque","Previous Name":null,Address:"Rosenheimer Str. 11","Starting year":null,"Completion year/Opening year":"1989","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:`https://www.atlasobscura.com/places/georg-elser-plaque, https://stadtgeschichte-muenchen.de/sehenswert/d_sehenswert.php?id=1847, "AN DIESER STELLE, IM EHEMALIGEN
BRGERBRUKELLER, VERSUCHTE DER
SCHREINER JOHANN GEORG ELSER
AM 8. NOVEMBER 1939 EIN ATTEN`,Website:"https://www.georg-elser-arbeitskreis.de/texts/muenchen-gasteig.htm","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Datei:Georg-Elser-Bodenplatte_im_Gasteig.jpg, https://de.wikipedia.org/wiki/Datei:Georg_Elser_Bodenplatte.JPG","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"Rosenheimer Str. 11, Munich",Latitude:48.1306267,Longitude:11.5926704,Period:6},geometry:{type:"Point",coordinates:[11.592410007053337,48.13066648598079]}},{type:"Feature",properties:{id:217,"Current Name (DE)":'"Argumente" (Drckebergergasse)',"Current Name (Eng)":`"Arguments" (Shirker's Alley)`,"Previous Name":null,Address:"Viscardigasse 0","Starting year":null,"Completion year/Opening year":"1995","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:"https://www.atlasobscura.com/places/viscardigasse",Website:"https://stadtgeschichte-muenchen.de/sehenswert/d_sehenswert.php?id=2250","Muenchen.de":null,"Wikipedia page":"https://de.wikipedia.org/wiki/Dr%C3%BCckebergergasse","Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Bruno Wank",Status:null,AddressM:"Viscardigasse 0, Munich",Latitude:48.1413599,Longitude:11.5771172,Period:7},geometry:{type:"Point",coordinates:[11.577173643773781,48.14133647288559]}},{type:"Feature",properties:{id:219,"Current Name (DE)":"DenkSttte Weie Rose","Current Name (Eng)":"Weie Rose Pavement Memorial","Previous Name":null,Address:"Geschwister-Scholl-Platz 1","Starting year":null,"Completion year/Opening year":"1997","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:"https://www.atlasobscura.com/places/weisse-rose-pavement-memorial",Website:"https://www.weisse-rose-stiftung.de/denkstaette-weisse-rose-am-lichthof-der-lmu-muenchen/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/denkstaette-weisse-rose","Wikipedia page":"https://de.wikipedia.org/wiki/DenkSt%C3%A4tte_Wei%C3%9Fe_Rose","Owner/Initiator/Commissioned by":"Weie Rose Stiftung, LMU","Architect/Artist/Author":null,Status:null,AddressM:"Geschwister-Scholl-Platz 1, Munich",Latitude:48.1509185,Longitude:11.5798609,Period:7},geometry:{type:"Point",coordinates:[11.580283946013282,48.150432669386554]}},{type:"Feature",properties:{id:220,"Current Name (DE)":"Messe Mnchen","Current Name (Eng)":"New Munich Trade Fair","Previous Name":"Neue Messe Mnchen",Address:"Am Messesee 2","Starting year":1994,"Completion year/Opening year":"1998","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"fair",Description:null,Website:"https://messe-muenchen.de/en/","Muenchen.de":"https://www.muenchen.de/veranstaltungen/messe-muenchen","Wikipedia page":"https://de.wikipedia.org/wiki/Messe_M%C3%BCnchen_(Gel%C3%A4nde)","Owner/Initiator/Commissioned by":"Messe Mnchen GmbH","Architect/Artist/Author":"Bystrup Architecture Design Engineering, Bregenhj + Partners, Kaup, Scholz, Jesse + Partner",Status:null,AddressM:"Am Messesee 2, Munich",Latitude:48.13535,Longitude:11.69263,Period:7},geometry:{type:"Point",coordinates:[11.692148157044146,48.13550136696218]}},{type:"Feature",properties:{id:226,"Current Name (DE)":"Eisbachwelle","Current Name (Eng)":"Eisbach wave","Previous Name":null,Address:"22 Prinzregentenstrae","Starting year":null,"Completion year/Opening year":"current","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"sport",Description:"https://www.atlasobscura.com/places/eisbachwelle",Website:null,"Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/top-sehenswuerdigkeiten/eisbach-surferwelle","Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":null,Status:null,AddressM:"22 Prinzregentenstrae, Munich",Latitude:48.1426923,Longitude:11.5868423,Period:7},geometry:{type:"Point",coordinates:[11.587696174192736,48.1432341983916]}},{type:"Feature",properties:{id:229,"Current Name (DE)":"Viktualienmarkt","Current Name (Eng)":"Viktualienmarkt market","Previous Name":null,Address:"Viktualienmarkt 3","Starting year":null,"Completion year/Opening year":"1807","Zerstrt/Destroyed":null,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"market",Description:null,Website:"https://www.viktualienmarkt-muenchen.de/","Muenchen.de":"https://www.muenchen.de/sehenswuerdigkeiten/top-sehenswuerdigkeiten/viktualienmarkt","Wikipedia page":"https://de.wikipedia.org/wiki/Viktualienmarkt","Owner/Initiator/Commissioned by":"King Maximilian I","Architect/Artist/Author":null,Status:null,AddressM:"Viktualienmarkt 3, Munich",Latitude:48.1358245,Longitude:11.5768783,Period:3},geometry:{type:"Point",coordinates:[11.576670701087401,48.135766191900885]}},{type:"Feature",properties:{id:231,"Current Name (DE)":"Ehrentempel","Current Name (Eng)":"Temple of honor","Previous Name":null,Address:"Max-Mannheimer-Platz 1","Starting year":null,"Completion year/Opening year":"1935","Zerstrt/Destroyed":1947,"Renoviert/New use/Expansion":null,Rebuilt:null,Moved:null,Type:"spot",Function:"memorial",Description:"part of 1933-1937 'Nationalsozialistische Stadtentwicklung' (National Socialist urban development) according to Munich City Museum, https://www.denkmaeler-muenchen.de/ns/ehrentempel.php",Website:null,"Muenchen.de":null,"Wikipedia page":null,"Owner/Initiator/Commissioned by":null,"Architect/Artist/Author":"Paul Ludwig Troost",Status:null,AddressM:"Max-Mannheimer-Platz 1, Munich",Latitude:48.14546,Longitude:11.5672973,Period:5},geometry:{type:"Point",coordinates:[11.56699180672384,48.145536122434955]}}],Qk={type:Kk,name:Xk,crs:Jk,features:Yk},eA={id:"buildings",type:"fill",paint:{"fill-color":{property:"Period",stops:[[1,"#d99e32ff"],[2,"#f27649ff"],[3,"#668c54ff"],[4,"#bfba73ff"],[5,"#312640ff"],[6,"#8c7d4fff"],[7,"#568fa6ff"]]}}},tA={id:"parks",type:"fill",paint:{"fill-color":{property:"Period",stops:[[1,"#d99e32ff"],[2,"#f27649ff"],[3,"#668c54ff"],[4,"#bfba73ff"],[5,"#312640ff"],[6,"#8c7d4fff"],[7,"#568fa6ff"]]}}},nA={id:"spots",type:"circle",source:"spots",filter:["!",["has","point_count"]],paint:{"circle-color":{property:"Period",stops:[[1,"#d99e32ff"],[2,"#f27649ff"],[3,"#668c54ff"],[4,"#bfba73ff"],[5,"#312640ff"],[6,"#8c7d4fff"],[7,"#568fa6ff"]]},"circle-radius":7,"circle-stroke-width":1,"circle-stroke-color":"white"}},rA={id:"cluster-count",type:"symbol",source:"spots",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}},iA={id:"clusters",type:"circle",source:"spots",filter:["has","point_count"],paint:{"circle-color":"#F08332","circle-radius":["step",["get","point_count"],20,100,30,750,40]}},oA={buildings:{data:Wk,style:eA},spots:{data:Qk,style:nA},parks:{data:qk,style:tA}},aA="_card_9ypmq_1",sA="_button_9ypmq_11",lA="_featuresList_9ypmq_23",uA="_title_9ypmq_39",cA="_subtitle_9ypmq_46",dA="_fieldName_9ypmq_53",hA="_list_9ypmq_57",pA="_listElement_9ypmq_61",T1={card:aA,button:sA,featuresList:lA,title:uA,subtitle:cA,fieldName:dA,list:hA,listElement:pA},fA={"Completion year/Opening year":"Year","Architect/Artist/Author":"Architect(s)"};var u_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function i(){for(var p="",y=0;y<arguments.length;y++){var u=arguments[y];u&&(p=l(p,a(u)))}return p}function a(p){if(typeof p=="string"||typeof p=="number")return p;if(typeof p!="object")return"";if(Array.isArray(p))return i.apply(null,p);if(p.toString!==Object.prototype.toString&&!p.toString.toString().includes("[native code]"))return p.toString();var y="";for(var u in p)t.call(p,u)&&p[u]&&(y=l(y,u));return y}function l(p,y){return y?p?p+" "+y:p+y:p}e.exports?(i.default=i,e.exports=i):window.classNames=i})()})(u_);var mA=u_.exports;const wn=R4(mA);function zr(){return zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},zr.apply(this,arguments)}var c_={exports:{}},yn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2=Symbol.for("react.element"),w2=Symbol.for("react.portal"),n0=Symbol.for("react.fragment"),r0=Symbol.for("react.strict_mode"),i0=Symbol.for("react.profiler"),o0=Symbol.for("react.provider"),a0=Symbol.for("react.context"),gA=Symbol.for("react.server_context"),s0=Symbol.for("react.forward_ref"),l0=Symbol.for("react.suspense"),u0=Symbol.for("react.suspense_list"),c0=Symbol.for("react.memo"),d0=Symbol.for("react.lazy"),yA=Symbol.for("react.offscreen"),d_;d_=Symbol.for("react.module.reference");function ko(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case b2:switch(e=e.type,e){case n0:case i0:case r0:case l0:case u0:return e;default:switch(e=e&&e.$$typeof,e){case gA:case a0:case s0:case d0:case c0:case o0:return e;default:return t}}case w2:return t}}}yn.ContextConsumer=a0;yn.ContextProvider=o0;yn.Element=b2;yn.ForwardRef=s0;yn.Fragment=n0;yn.Lazy=d0;yn.Memo=c0;yn.Portal=w2;yn.Profiler=i0;yn.StrictMode=r0;yn.Suspense=l0;yn.SuspenseList=u0;yn.isAsyncMode=function(){return!1};yn.isConcurrentMode=function(){return!1};yn.isContextConsumer=function(e){return ko(e)===a0};yn.isContextProvider=function(e){return ko(e)===o0};yn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===b2};yn.isForwardRef=function(e){return ko(e)===s0};yn.isFragment=function(e){return ko(e)===n0};yn.isLazy=function(e){return ko(e)===d0};yn.isMemo=function(e){return ko(e)===c0};yn.isPortal=function(e){return ko(e)===w2};yn.isProfiler=function(e){return ko(e)===i0};yn.isStrictMode=function(e){return ko(e)===r0};yn.isSuspense=function(e){return ko(e)===l0};yn.isSuspenseList=function(e){return ko(e)===u0};yn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===n0||e===i0||e===r0||e===l0||e===u0||e===yA||typeof e=="object"&&e!==null&&(e.$$typeof===d0||e.$$typeof===c0||e.$$typeof===o0||e.$$typeof===a0||e.$$typeof===s0||e.$$typeof===d_||e.getModuleId!==void 0)};yn.typeOf=ko;c_.exports=yn;var h_=c_.exports;function D5(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=[];return Ct.Children.forEach(e,function(a){a==null&&!t.keepEmpty||(Array.isArray(a)?i=i.concat(D5(a)):h_.isFragment(a)&&a.props?i=i.concat(D5(a.props.children,t)):i.push(a))}),i}var R5={},vA=function(t){};function _A(e,t){}function xA(e,t){}function bA(){R5={}}function p_(e,t,i){!t&&!R5[i]&&(e(!1,i),R5[i]=!0)}function ro(e,t){p_(_A,e,t)}function wA(e,t){p_(xA,e,t)}ro.preMessage=vA;ro.resetWarned=bA;ro.noteOnce=wA;function Sn(e){"@babel/helpers - typeof";return Sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sn(e)}function SA(e,t){if(Sn(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t||"default");if(Sn(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f_(e){var t=SA(e,"string");return Sn(t)=="symbol"?t:String(t)}function Fe(e,t,i){return t=f_(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function u7(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),i.push.apply(i,a)}return i}function Xe(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?u7(Object(i),!0).forEach(function(a){Fe(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u7(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}function CA(e){return e instanceof HTMLElement||e instanceof SVGElement}function MA(e){return CA(e)?e:e instanceof Ct.Component?$v.findDOMNode(e):null}function S2(e,t,i){var a=Z.useRef({});return(!("value"in a.current)||i(a.current.condition,t))&&(a.current.value=e(),a.current.condition=t),a.current.value}function m_(e,t){typeof e=="function"?e(t):Sn(e)==="object"&&e&&"current"in e&&(e.current=t)}function h0(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=t.filter(function(l){return l});return a.length<=1?a[0]:function(l){t.forEach(function(p){m_(p,l)})}}function g_(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return S2(function(){return h0.apply(void 0,t)},t,function(a,l){return a.length!==l.length||a.every(function(p,y){return p!==l[y]})})}function C2(e){var t,i,a=h_.isMemo(e)?e.type.type:e.type;return!(typeof a=="function"&&!((t=a.prototype)!==null&&t!==void 0&&t.render)||typeof e=="function"&&!((i=e.prototype)!==null&&i!==void 0&&i.render))}function Ao(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c7(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,f_(a.key),a)}}function Po(e,t,i){return t&&c7(e.prototype,t),i&&c7(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function z5(e,t){return z5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,l){return a.__proto__=l,a},z5(e,t)}function jd(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z5(e,t)}function js(e){return js=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},js(e)}function p0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p0=function(){return!!e})()}function on(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M2(e,t){if(t&&(Sn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return on(e)}function E2(e){var t=p0();return function(){var a=js(e),l;if(t){var p=js(this).constructor;l=Reflect.construct(a,arguments,p)}else l=a.apply(this,arguments);return M2(this,l)}}function EA(e,t){var i=Xe({},e);return Array.isArray(t)&&t.forEach(function(a){delete i[a]}),i}function F5(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function kA(e){if(Array.isArray(e))return F5(e)}function y_(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k2(e,t){if(e){if(typeof e=="string")return F5(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return F5(e,t)}}function AA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vt(e){return kA(e)||y_(e)||k2(e)||AA()}var v_=function(t){return+setTimeout(t,16)},__=function(t){return clearTimeout(t)};typeof window<"u"&&"requestAnimationFrame"in window&&(v_=function(t){return window.requestAnimationFrame(t)},__=function(t){return window.cancelAnimationFrame(t)});var d7=0,A2=new Map;function x_(e){A2.delete(e)}var Ol=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;d7+=1;var a=d7;function l(p){if(p===0)x_(a),t();else{var y=v_(function(){l(p-1)});A2.set(a,y)}}return l(i),a};Ol.cancel=function(e){var t=A2.get(e);return x_(e),__(t)};function b_(e){if(Array.isArray(e))return e}function PA(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var a,l,p,y,u=[],E=!0,C=!1;try{if(p=(i=i.call(e)).next,t===0){if(Object(i)!==i)return;E=!1}else for(;!(E=(a=p.call(i)).done)&&(u.push(a.value),u.length!==t);E=!0);}catch(P){C=!0,l=P}finally{try{if(!E&&i.return!=null&&(y=i.return(),Object(y)!==y))return}finally{if(C)throw l}}return u}}function w_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tt(e,t){return b_(e)||PA(e,t)||k2(e,t)||w_()}function E4(e){for(var t=0,i,a=0,l=e.length;l>=4;++a,l-=4)i=e.charCodeAt(a)&255|(e.charCodeAt(++a)&255)<<8|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,t=(i&65535)*1540483477+((i>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(l){case 3:t^=(e.charCodeAt(a+2)&255)<<16;case 2:t^=(e.charCodeAt(a+1)&255)<<8;case 1:t^=e.charCodeAt(a)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}function xi(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function N5(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var i=t;i;){if(i===e)return!0;i=i.parentNode}return!1}var h7="data-rc-order",p7="data-rc-priority",TA="rc-util-key",O5=new Map;function S_(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):TA}function f0(e){if(e.attachTo)return e.attachTo;var t=document.querySelector("head");return t||document.body}function IA(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function C_(e){return Array.from((O5.get(e)||e).children).filter(function(t){return t.tagName==="STYLE"})}function M_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!xi())return null;var i=t.csp,a=t.prepend,l=t.priority,p=l===void 0?0:l,y=IA(a),u=y==="prependQueue",E=document.createElement("style");E.setAttribute(h7,y),u&&p&&E.setAttribute(p7,"".concat(p)),i!=null&&i.nonce&&(E.nonce=i==null?void 0:i.nonce),E.innerHTML=e;var C=f0(t),P=C.firstChild;if(a){if(u){var F=C_(C).filter(function(z){if(!["prepend","prependQueue"].includes(z.getAttribute(h7)))return!1;var X=Number(z.getAttribute(p7)||0);return p>=X});if(F.length)return C.insertBefore(E,F[F.length-1].nextSibling),E}C.insertBefore(E,P)}else C.appendChild(E);return E}function E_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=f0(t);return C_(i).find(function(a){return a.getAttribute(S_(t))===e})}function kd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=E_(e,t);if(i){var a=f0(t);a.removeChild(i)}}function LA(e,t){var i=O5.get(e);if(!i||!N5(document,i)){var a=M_("",t),l=a.parentNode;O5.set(e,l),e.removeChild(a)}}function Vs(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=f0(i);LA(a,i);var l=E_(t,i);if(l){var p,y;if((p=i.csp)!==null&&p!==void 0&&p.nonce&&l.nonce!==((y=i.csp)===null||y===void 0?void 0:y.nonce)){var u;l.nonce=(u=i.csp)===null||u===void 0?void 0:u.nonce}return l.innerHTML!==e&&(l.innerHTML=e),l}var E=M_(e,i);return E.setAttribute(S_(i),t),E}function DA(e,t){if(e==null)return{};var i={},a=Object.keys(e),l,p;for(p=0;p<a.length;p++)l=a[p],!(t.indexOf(l)>=0)&&(i[l]=e[l]);return i}function qa(e,t){if(e==null)return{};var i=DA(e,t),a,l;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(l=0;l<p.length;l++)a=p[l],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function k_(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=new Set;function l(p,y){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=a.has(p);if(ro(!E,"Warning: There may be circular references"),E)return!1;if(p===y)return!0;if(i&&u>1)return!1;a.add(p);var C=u+1;if(Array.isArray(p)){if(!Array.isArray(y)||p.length!==y.length)return!1;for(var P=0;P<p.length;P++)if(!l(p[P],y[P],C))return!1;return!0}if(p&&y&&Sn(p)==="object"&&Sn(y)==="object"){var F=Object.keys(p);return F.length!==Object.keys(y).length?!1:F.every(function(z){return l(p[z],y[z],C)})}return!1}return l(e,t)}var f7="%",RA=function(){function e(t){Ao(this,e),Fe(this,"instanceId",void 0),Fe(this,"cache",new Map),this.instanceId=t}return Po(e,[{key:"get",value:function(i){return this.cache.get(i.join(f7))||null}},{key:"update",value:function(i,a){var l=i.join(f7),p=this.cache.get(l),y=a(p);y===null?this.cache.delete(l):this.cache.set(l,y)}}]),e}(),pu="data-token-hash",Qo="data-css-hash",Es="__cssinjs_instance__";function zA(){var e=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(Qo,"]"))||[],i=document.head.firstChild;Array.from(t).forEach(function(l){l[Es]=l[Es]||e,l[Es]===e&&document.head.insertBefore(l,i)});var a={};Array.from(document.querySelectorAll("style[".concat(Qo,"]"))).forEach(function(l){var p=l.getAttribute(Qo);if(a[p]){if(l[Es]===e){var y;(y=l.parentNode)===null||y===void 0||y.removeChild(l)}}else a[p]=!0})}return new RA(e)}var m0=Z.createContext({hashPriority:"low",cache:zA(),defaultCache:!0});function FA(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}var P2=function(){function e(){Ao(this,e),Fe(this,"cache",void 0),Fe(this,"keys",void 0),Fe(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Po(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(i){var a,l,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y={map:this.cache};return i.forEach(function(u){if(!y)y=void 0;else{var E;y=(E=y)===null||E===void 0||(E=E.map)===null||E===void 0?void 0:E.get(u)}}),(a=y)!==null&&a!==void 0&&a.value&&p&&(y.value[1]=this.cacheCallTimes++),(l=y)===null||l===void 0?void 0:l.value}},{key:"get",value:function(i){var a;return(a=this.internalGet(i,!0))===null||a===void 0?void 0:a[0]}},{key:"has",value:function(i){return!!this.internalGet(i)}},{key:"set",value:function(i,a){var l=this;if(!this.has(i)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var p=this.keys.reduce(function(C,P){var F=Tt(C,2),z=F[1];return l.internalGet(P)[1]<z?[P,l.internalGet(P)[1]]:C},[this.keys[0],this.cacheCallTimes]),y=Tt(p,1),u=y[0];this.delete(u)}this.keys.push(i)}var E=this.cache;i.forEach(function(C,P){if(P===i.length-1)E.set(C,{value:[a,l.cacheCallTimes++]});else{var F=E.get(C);F?F.map||(F.map=new Map):E.set(C,{map:new Map}),E=E.get(C).map}})}},{key:"deleteByPath",value:function(i,a){var l=i.get(a[0]);if(a.length===1){var p;return l.map?i.set(a[0],{map:l.map}):i.delete(a[0]),(p=l.value)===null||p===void 0?void 0:p[0]}var y=this.deleteByPath(l.map,a.slice(1));return(!l.map||l.map.size===0)&&!l.value&&i.delete(a[0]),y}},{key:"delete",value:function(i){if(this.has(i))return this.keys=this.keys.filter(function(a){return!FA(a,i)}),this.deleteByPath(this.cache,i)}}]),e}();Fe(P2,"MAX_CACHE_SIZE",20);Fe(P2,"MAX_CACHE_OFFSET",5);var m7=0,A_=function(){function e(t){Ao(this,e),Fe(this,"derivatives",void 0),Fe(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=m7,t.length===0&&(t.length>0,void 0),m7+=1}return Po(e,[{key:"getDerivativeToken",value:function(i){return this.derivatives.reduce(function(a,l){return l(i,a)},void 0)}}]),e}(),c8=new P2;function B5(e){var t=Array.isArray(e)?e:[e];return c8.has(t)||c8.set(t,new A_(t)),c8.get(t)}var NA=new WeakMap,d8={};function OA(e,t){for(var i=NA,a=0;a<t.length;a+=1){var l=t[a];i.has(l)||i.set(l,new WeakMap),i=i.get(l)}return i.has(d8)||i.set(d8,e()),i.get(d8)}var g7=new WeakMap;function rd(e){var t=g7.get(e)||"";return t||(Object.keys(e).forEach(function(i){var a=e[i];t+=i,a instanceof A_?t+=a.id:a&&Sn(a)==="object"?t+=rd(a):t+=a}),g7.set(e,t)),t}function y7(e,t){return E4("".concat(t,"_").concat(rd(e)))}var id="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),P_="_bAmBoO_";function BA(e,t,i){if(xi()){var a,l;Vs(e,id);var p=document.createElement("div");p.style.position="fixed",p.style.left="0",p.style.top="0",t==null||t(p),document.body.appendChild(p);var y=i?i(p):(a=getComputedStyle(p).content)===null||a===void 0?void 0:a.includes(P_);return(l=p.parentNode)===null||l===void 0||l.removeChild(p),kd(id),y}return!1}var h8=void 0;function $A(){return h8===void 0&&(h8=BA("@layer ".concat(id," { .").concat(id,' { content: "').concat(P_,'"!important; } }'),function(e){e.className=id})),h8}var $5=xi();function an(e){return typeof e=="number"?"".concat(e,"px"):e}function k4(e,t,i){var a,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(p)return e;var y=Xe(Xe({},l),{},(a={},Fe(a,pu,t),Fe(a,Qo,i),a)),u=Object.keys(y).map(function(E){var C=y[E];return C?"".concat(E,'="').concat(C,'"'):null}).filter(function(E){return E}).join(" ");return"<style ".concat(u,">").concat(e,"</style>")}var T_=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(i?"".concat(i,"-"):"").concat(t).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},jA=function(t,i,a){return Object.keys(t).length?".".concat(i).concat(a!=null&&a.scope?".".concat(a.scope):"","{").concat(Object.entries(t).map(function(l){var p=Tt(l,2),y=p[0],u=p[1];return"".concat(y,":").concat(u,";")}).join(""),"}"):""},I_=function(t,i,a){var l={},p={};return Object.entries(t).forEach(function(y){var u,E,C=Tt(y,2),P=C[0],F=C[1];if(a!=null&&(u=a.preserve)!==null&&u!==void 0&&u[P])p[P]=F;else if((typeof F=="string"||typeof F=="number")&&!(a!=null&&(E=a.ignore)!==null&&E!==void 0&&E[P])){var z,X=T_(P,a==null?void 0:a.prefix);l[X]=typeof F=="number"&&!(a!=null&&(z=a.unitless)!==null&&z!==void 0&&z[P])?"".concat(F,"px"):String(F),p[P]="var(".concat(X,")")}}),[p,jA(l,i,{scope:a==null?void 0:a.scope})]},v7=xi()?Z.useLayoutEffect:Z.useEffect,Ad=function(t,i){var a=Z.useRef(!0);v7(function(){return t(a.current)},i),v7(function(){return a.current=!1,function(){a.current=!0}},[])},_7=function(t,i){Ad(function(a){if(!a)return t()},i)},VA=Xe({},Il),x7=VA.useInsertionEffect,WA=function(t,i,a){Z.useMemo(t,a),Ad(function(){return i(!0)},a)},UA=x7?function(e,t,i){return x7(function(){return e(),t()},i)}:WA,HA=Xe({},Il),ZA=HA.useInsertionEffect,GA=function(t){var i=[],a=!1;function l(p){a||i.push(p)}return Z.useEffect(function(){return a=!1,function(){a=!0,i.length&&i.forEach(function(p){return p()})}},t),l},qA=function(){return function(t){t()}},KA=typeof ZA<"u"?GA:qA;function T2(e,t,i,a,l){var p=Z.useContext(m0),y=p.cache,u=[e].concat(Vt(t)),E=u.join("_"),C=KA([E]),P=function(K){y.update(u,function(G){var ee=G||[void 0,void 0],O=Tt(ee,2),B=O[0],W=B===void 0?0:B,ne=O[1],pe=ne,he=pe||i(),de=[W,he];return K?K(de):de})};Z.useMemo(function(){P()},[E]);var F=y.get(u),z=F[1];return UA(function(){l==null||l(z)},function(X){return P(function(K){var G=Tt(K,2),ee=G[0],O=G[1];return X&&ee===0&&(l==null||l(z)),[ee+1,O]}),function(){y.update(u,function(K){var G=K||[],ee=Tt(G,2),O=ee[0],B=O===void 0?0:O,W=ee[1],ne=B-1;return ne===0?(C(function(){(X||!y.get(u))&&(a==null||a(W,!1))}),null):[B-1,W]})}},[E]),z}var XA={},JA="css",xl=new Map;function YA(e){xl.set(e,(xl.get(e)||0)+1)}function QA(e,t){if(typeof document<"u"){var i=document.querySelectorAll("style[".concat(pu,'="').concat(e,'"]'));i.forEach(function(a){if(a[Es]===t){var l;(l=a.parentNode)===null||l===void 0||l.removeChild(a)}})}}var eP=0;function tP(e,t){xl.set(e,(xl.get(e)||0)-1);var i=Array.from(xl.keys()),a=i.filter(function(l){var p=xl.get(l)||0;return p<=0});i.length-a.length>eP&&a.forEach(function(l){QA(l,t),xl.delete(l)})}var nP=function(t,i,a,l){var p=a.getDerivativeToken(t),y=Xe(Xe({},p),i);return l&&(y=l(y)),y},L_="token";function rP(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=Z.useContext(m0),l=a.cache.instanceId,p=a.container,y=i.salt,u=y===void 0?"":y,E=i.override,C=E===void 0?XA:E,P=i.formatToken,F=i.getComputedToken,z=i.cssVar,X=OA(function(){return Object.assign.apply(Object,[{}].concat(Vt(t)))},t),K=rd(X),G=rd(C),ee=z?rd(z):"",O=T2(L_,[u,e.id,K,G,ee],function(){var B,W=F?F(X,C,e):nP(X,C,e,P),ne=Xe({},W),pe="";if(z){var he=I_(W,z.key,{prefix:z.prefix,ignore:z.ignore,unitless:z.unitless,preserve:z.preserve}),de=Tt(he,2);W=de[0],pe=de[1]}var Se=y7(W,u);W._tokenKey=Se,ne._tokenKey=y7(ne,u);var Te=(B=z==null?void 0:z.key)!==null&&B!==void 0?B:Se;W._themeKey=Te,YA(Te);var Me="".concat(JA,"-").concat(E4(Se));return W._hashId=Me,[W,Me,ne,pe,(z==null?void 0:z.key)||""]},function(B){tP(B[0]._themeKey,l)},function(B){var W=Tt(B,4),ne=W[0],pe=W[3];if(z&&pe){var he=Vs(pe,E4("css-variables-".concat(ne._themeKey)),{mark:Qo,prepend:"queue",attachTo:p,priority:-999});he[Es]=l,he.setAttribute(pu,ne._themeKey)}});return O}var iP=function(t,i,a){var l=Tt(t,5),p=l[2],y=l[3],u=l[4],E=a||{},C=E.plain;if(!y)return null;var P=p._tokenKey,F=-999,z={"data-rc-order":"prependQueue","data-rc-priority":"".concat(F)},X=k4(y,u,P,z,C);return[F,P,X]},oP={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},D_="comm",R_="rule",z_="decl",aP="@import",sP="@keyframes",lP="@layer",F_=Math.abs,I2=String.fromCharCode;function N_(e){return e.trim()}function Wp(e,t,i){return e.replace(t,i)}function uP(e,t,i){return e.indexOf(t,i)}function Pd(e,t){return e.charCodeAt(t)|0}function Td(e,t,i){return e.slice(t,i)}function Ba(e){return e.length}function cP(e){return e.length}function vp(e,t){return t.push(e),e}var g0=1,fu=1,O_=0,Eo=0,fr=0,wu="";function L2(e,t,i,a,l,p,y,u){return{value:e,root:t,parent:i,type:a,props:l,children:p,line:g0,column:fu,length:y,return:"",siblings:u}}function dP(){return fr}function hP(){return fr=Eo>0?Pd(wu,--Eo):0,fu--,fr===10&&(fu=1,g0--),fr}function ea(){return fr=Eo<O_?Pd(wu,Eo++):0,fu++,fr===10&&(fu=1,g0++),fr}function Pl(){return Pd(wu,Eo)}function Up(){return Eo}function y0(e,t){return Td(wu,e,t)}function j5(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pP(e){return g0=fu=1,O_=Ba(wu=e),Eo=0,[]}function fP(e){return wu="",e}function p8(e){return N_(y0(Eo-1,V5(e===91?e+2:e===40?e+1:e)))}function mP(e){for(;(fr=Pl())&&fr<33;)ea();return j5(e)>2||j5(fr)>3?"":" "}function gP(e,t){for(;--t&&ea()&&!(fr<48||fr>102||fr>57&&fr<65||fr>70&&fr<97););return y0(e,Up()+(t<6&&Pl()==32&&ea()==32))}function V5(e){for(;ea();)switch(fr){case e:return Eo;case 34:case 39:e!==34&&e!==39&&V5(fr);break;case 40:e===41&&V5(e);break;case 92:ea();break}return Eo}function yP(e,t){for(;ea()&&e+fr!==47+10;)if(e+fr===42+42&&Pl()===47)break;return"/*"+y0(t,Eo-1)+"*"+I2(e===47?e:ea())}function vP(e){for(;!j5(Pl());)ea();return y0(e,Eo)}function _P(e){return fP(Hp("",null,null,null,[""],e=pP(e),0,[0],e))}function Hp(e,t,i,a,l,p,y,u,E){for(var C=0,P=0,F=y,z=0,X=0,K=0,G=1,ee=1,O=1,B=0,W="",ne=l,pe=p,he=a,de=W;ee;)switch(K=B,B=ea()){case 40:if(K!=108&&Pd(de,F-1)==58){uP(de+=Wp(p8(B),"&","&\f"),"&\f",F_(C?u[C-1]:0))!=-1&&(O=-1);break}case 34:case 39:case 91:de+=p8(B);break;case 9:case 10:case 13:case 32:de+=mP(K);break;case 92:de+=gP(Up()-1,7);continue;case 47:switch(Pl()){case 42:case 47:vp(xP(yP(ea(),Up()),t,i,E),E);break;default:de+="/"}break;case 123*G:u[C++]=Ba(de)*O;case 125*G:case 59:case 0:switch(B){case 0:case 125:ee=0;case 59+P:O==-1&&(de=Wp(de,/\f/g,"")),X>0&&Ba(de)-F&&vp(X>32?w7(de+";",a,i,F-1,E):w7(Wp(de," ","")+";",a,i,F-2,E),E);break;case 59:de+=";";default:if(vp(he=b7(de,t,i,C,P,l,u,W,ne=[],pe=[],F,p),p),B===123)if(P===0)Hp(de,t,he,he,ne,p,F,u,pe);else switch(z===99&&Pd(de,3)===110?100:z){case 100:case 108:case 109:case 115:Hp(e,he,he,a&&vp(b7(e,he,he,0,0,l,u,W,l,ne=[],F,pe),pe),l,pe,F,u,a?ne:pe);break;default:Hp(de,he,he,he,[""],pe,0,u,pe)}}C=P=X=0,G=O=1,W=de="",F=y;break;case 58:F=1+Ba(de),X=K;default:if(G<1){if(B==123)--G;else if(B==125&&G++==0&&hP()==125)continue}switch(de+=I2(B),B*G){case 38:O=P>0?1:(de+="\f",-1);break;case 44:u[C++]=(Ba(de)-1)*O,O=1;break;case 64:Pl()===45&&(de+=p8(ea())),z=Pl(),P=F=Ba(W=de+=vP(Up())),B++;break;case 45:K===45&&Ba(de)==2&&(G=0)}}return p}function b7(e,t,i,a,l,p,y,u,E,C,P,F){for(var z=l-1,X=l===0?p:[""],K=cP(X),G=0,ee=0,O=0;G<a;++G)for(var B=0,W=Td(e,z+1,z=F_(ee=y[G])),ne=e;B<K;++B)(ne=N_(ee>0?X[B]+" "+W:Wp(W,/&\f/g,X[B])))&&(E[O++]=ne);return L2(e,t,i,l===0?R_:u,E,C,P,F)}function xP(e,t,i,a){return L2(e,t,i,D_,I2(dP()),Td(e,2,-2),0,a)}function w7(e,t,i,a,l){return L2(e,t,i,z_,Td(e,0,a),Td(e,a+1,-1),a,l)}function W5(e,t){for(var i="",a=0;a<e.length;a++)i+=t(e[a],a,e,t)||"";return i}function bP(e,t,i,a){switch(e.type){case lP:if(e.children.length)break;case aP:case z_:return e.return=e.return||e.value;case D_:return"";case sP:return e.return=e.value+"{"+W5(e.children,a)+"}";case R_:if(!Ba(e.value=e.props.join(",")))return""}return Ba(i=W5(e.children,a))?e.return=e.value+"{"+i+"}":""}var S7="data-ant-cssinjs-cache-path",B_="_FILE_STYLE__",Tl,$_=!0;function wP(){if(!Tl&&(Tl={},xi())){var e=document.createElement("div");e.className=S7,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";t=t.replace(/^"/,"").replace(/"$/,""),t.split(";").forEach(function(l){var p=l.split(":"),y=Tt(p,2),u=y[0],E=y[1];Tl[u]=E});var i=document.querySelector("style[".concat(S7,"]"));if(i){var a;$_=!1,(a=i.parentNode)===null||a===void 0||a.removeChild(i)}document.body.removeChild(e)}}function SP(e){return wP(),!!Tl[e]}function CP(e){var t=Tl[e],i=null;if(t&&xi())if($_)i=B_;else{var a=document.querySelector("style[".concat(Qo,'="').concat(Tl[e],'"]'));a?i=a.innerHTML:delete Tl[e]}return[i,t]}var MP="_skip_check_",j_="_multi_value_";function U5(e){var t=W5(_P(e),bP);return t.replace(/\{%%%\:[^;];}/g,";")}function EP(e){return Sn(e)==="object"&&e&&(MP in e||j_ in e)}function kP(e,t,i){if(!t)return e;var a=".".concat(t),l=i==="low"?":where(".concat(a,")"):a,p=e.split(",").map(function(y){var u,E=y.trim().split(/\s+/),C=E[0]||"",P=((u=C.match(/^\w+/))===null||u===void 0?void 0:u[0])||"";return C="".concat(P).concat(l).concat(C.slice(P.length)),[C].concat(Vt(E.slice(1))).join(" ")});return p.join(",")}var AP=function e(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},l=a.root,p=a.injectHash,y=a.parentSelectors,u=i.hashId,E=i.layer;i.path;var C=i.hashPriority,P=i.transformers,F=P===void 0?[]:P;i.linters;var z="",X={};function K(W){var ne=W.getName(u);if(!X[ne]){var pe=e(W.style,i,{root:!1,parentSelectors:y}),he=Tt(pe,1),de=he[0];X[ne]="@keyframes ".concat(W.getName(u)).concat(de)}}function G(W){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return W.forEach(function(pe){Array.isArray(pe)?G(pe,ne):pe&&ne.push(pe)}),ne}var ee=G(Array.isArray(t)?t:[t]);if(ee.forEach(function(W){var ne=typeof W=="string"&&!l?{}:W;if(typeof ne=="string")z+="".concat(ne,`
`);else if(ne._keyframe)K(ne);else{var pe=F.reduce(function(he,de){var Se;return(de==null||(Se=de.visit)===null||Se===void 0?void 0:Se.call(de,he))||he},ne);Object.keys(pe).forEach(function(he){var de=pe[he];if(Sn(de)==="object"&&de&&(he!=="animationName"||!de._keyframe)&&!EP(de)){var Se=!1,Te=he.trim(),Me=!1;(l||p)&&u?Te.startsWith("@")?Se=!0:Te=kP(he,u,C):l&&!u&&(Te==="&"||Te==="")&&(Te="",Me=!0);var Be=e(de,i,{root:Me,injectHash:Se,parentSelectors:[].concat(Vt(y),[Te])}),He=Tt(Be,2),We=He[0],qe=He[1];X=Xe(Xe({},X),qe),z+="".concat(Te).concat(We)}else{let Ie=function(we,Re){var Ve=we.replace(/[A-Z]/g,function(at){return"-".concat(at.toLowerCase())}),Ze=Re;!oP[we]&&typeof Ze=="number"&&Ze!==0&&(Ze="".concat(Ze,"px")),we==="animationName"&&Re!==null&&Re!==void 0&&Re._keyframe&&(K(Re),Ze=Re.getName(u)),z+="".concat(Ve,":").concat(Ze,";")};var Je,Le=(Je=de==null?void 0:de.value)!==null&&Je!==void 0?Je:de;Sn(de)==="object"&&de!==null&&de!==void 0&&de[j_]&&Array.isArray(Le)?Le.forEach(function(we){Ie(he,we)}):Ie(he,Le)}})}}),!l)z="{".concat(z,"}");else if(E&&$A()){var O=E.split(","),B=O[O.length-1].trim();z="@layer ".concat(B," {").concat(z,"}"),O.length>1&&(z="@layer ".concat(E,"{%%%:%}").concat(z))}return[z,X]};function V_(e,t){return E4("".concat(e.join("%")).concat(t))}function PP(){return null}var W_="style";function H5(e,t){var i=e.token,a=e.path,l=e.hashId,p=e.layer,y=e.nonce,u=e.clientOnly,E=e.order,C=E===void 0?0:E,P=Z.useContext(m0),F=P.autoClear;P.mock;var z=P.defaultCache,X=P.hashPriority,K=P.container,G=P.ssrInline,ee=P.transformers,O=P.linters,B=P.cache,W=i._tokenKey,ne=[W].concat(Vt(a)),pe=$5,he=T2(W_,ne,function(){var Be=ne.join("|");if(SP(Be)){var He=CP(Be),We=Tt(He,2),qe=We[0],Je=We[1];if(qe)return[qe,W,Je,{},u,C]}var Le=t(),Ie=AP(Le,{hashId:l,hashPriority:X,layer:p,path:a.join("-"),transformers:ee,linters:O}),we=Tt(Ie,2),Re=we[0],Ve=we[1],Ze=U5(Re),at=V_(ne,Ze);return[Ze,W,at,Ve,u,C]},function(Be,He){var We=Tt(Be,3),qe=We[2];(He||F)&&$5&&kd(qe,{mark:Qo})},function(Be){var He=Tt(Be,4),We=He[0];He[1];var qe=He[2],Je=He[3];if(pe&&We!==B_){var Le={mark:Qo,prepend:"queue",attachTo:K,priority:C},Ie=typeof y=="function"?y():y;Ie&&(Le.csp={nonce:Ie});var we=Vs(We,qe,Le);we[Es]=B.instanceId,we.setAttribute(pu,W),Object.keys(Je).forEach(function(Re){Vs(U5(Je[Re]),"_effect-".concat(Re),Le)})}}),de=Tt(he,3),Se=de[0],Te=de[1],Me=de[2];return function(Be){var He;if(!G||pe||!z)He=Z.createElement(PP,null);else{var We;He=Z.createElement("style",zr({},(We={},Fe(We,pu,Te),Fe(We,Qo,Me),We),{dangerouslySetInnerHTML:{__html:Se}}))}return Z.createElement(Z.Fragment,null,He,Be)}}var TP=function(t,i,a){var l=Tt(t,6),p=l[0],y=l[1],u=l[2],E=l[3],C=l[4],P=l[5],F=a||{},z=F.plain;if(C)return null;var X=p,K={"data-rc-order":"prependQueue","data-rc-priority":"".concat(P)};return X=k4(p,y,u,K,z),E&&Object.keys(E).forEach(function(G){if(!i[G]){i[G]=!0;var ee=U5(E[G]);X+=k4(ee,y,"_effect-".concat(G),K,z)}}),[P,u,X]},U_="cssVar",IP=function(t,i){var a=t.key,l=t.prefix,p=t.unitless,y=t.ignore,u=t.token,E=t.scope,C=E===void 0?"":E,P=Z.useContext(m0),F=P.cache.instanceId,z=P.container,X=u._tokenKey,K=[].concat(Vt(t.path),[a,C,X]),G=T2(U_,K,function(){var ee=i(),O=I_(ee,a,{prefix:l,unitless:p,ignore:y,scope:C}),B=Tt(O,2),W=B[0],ne=B[1],pe=V_(K,ne);return[W,ne,pe,a]},function(ee){var O=Tt(ee,3),B=O[2];$5&&kd(B,{mark:Qo})},function(ee){var O=Tt(ee,3),B=O[1],W=O[2];if(B){var ne=Vs(B,W,{mark:Qo,prepend:"queue",attachTo:z,priority:-999});ne[Es]=F,ne.setAttribute(pu,a)}});return G},LP=function(t,i,a){var l=Tt(t,4),p=l[1],y=l[2],u=l[3],E=a||{},C=E.plain;if(!p)return null;var P=-999,F={"data-rc-order":"prependQueue","data-rc-priority":"".concat(P)},z=k4(p,u,y,F,C);return[P,y,z]},Bc;Bc={},Fe(Bc,W_,TP),Fe(Bc,L_,iP),Fe(Bc,U_,LP);var ji=function(){function e(t,i){Ao(this,e),Fe(this,"name",void 0),Fe(this,"style",void 0),Fe(this,"_keyframe",!0),this.name=t,this.style=i}return Po(e,[{key:"getName",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return i?"".concat(i,"-").concat(this.name):this.name}}]),e}();function I1(e){return e.notSplit=!0,e}I1(["borderTop","borderBottom"]),I1(["borderTop"]),I1(["borderBottom"]),I1(["borderLeft","borderRight"]),I1(["borderLeft"]),I1(["borderRight"]);var DP=Z.createContext({});const D2=DP;function RP(e){return b_(e)||y_(e)||k2(e)||w_()}function ga(e,t){for(var i=e,a=0;a<t.length;a+=1){if(i==null)return;i=i[t[a]]}return i}function H_(e,t,i,a){if(!t.length)return i;var l=RP(t),p=l[0],y=l.slice(1),u;return!e&&typeof p=="number"?u=[]:Array.isArray(e)?u=Vt(e):u=Xe({},e),a&&i===void 0&&y.length===1?delete u[p][y[0]]:u[p]=H_(u[p],y,i,a),u}function Zo(e,t,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return t.length&&a&&i===void 0&&!ga(e,t.slice(0,-1))?e:H_(e,t,i,a)}function zP(e){return Sn(e)==="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}function C7(e){return Array.isArray(e)?[]:{}}var FP=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function G1(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=C7(t[0]);return t.forEach(function(l){function p(y,u){var E=new Set(u),C=ga(l,y),P=Array.isArray(C);if(P||zP(C)){if(!E.has(C)){E.add(C);var F=ga(a,y);P?a=Zo(a,y,[]):(!F||Sn(F)!=="object")&&(a=Zo(a,y,C7(C))),FP(C).forEach(function(z){p([].concat(Vt(y),[z]),E)})}}else a=Zo(a,y,C)}p([])}),a}const NP=Z.createContext({}),OP=Z.createContext(void 0);var BP={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},$P={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};const jP={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Z_=jP,VP={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},$P),timePickerLocale:Object.assign({},Z_)},M7=VP,Gi="${label} is not a valid ${type}",WP={locale:"en",Pagination:BP,DatePicker:M7,TimePicker:Z_,Calendar:M7,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Gi,method:Gi,array:Gi,object:Gi,number:Gi,date:Gi,boolean:Gi,integer:Gi,float:Gi,regexp:Gi,email:Gi,url:Gi,hex:Gi},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty"}},mu=WP;let Zp=Object.assign({},mu.Modal),Gp=[];const E7=()=>Gp.reduce((e,t)=>Object.assign(Object.assign({},e),t),mu.Modal);function UP(e){if(e){const t=Object.assign({},e);return Gp.push(t),Zp=E7(),()=>{Gp=Gp.filter(i=>i!==t),Zp=E7()}}Zp=Object.assign({},mu.Modal)}function HP(){return Zp}const ZP=Z.createContext(void 0),R2=ZP,GP=(e,t)=>{const i=Z.useContext(R2),a=Z.useMemo(()=>{var p;const y=t||mu[e],u=(p=i==null?void 0:i[e])!==null&&p!==void 0?p:{};return Object.assign(Object.assign({},typeof y=="function"?y():y),u||{})},[e,t,i]),l=Z.useMemo(()=>{const p=i==null?void 0:i.locale;return i!=null&&i.exist&&!p?mu.locale:p},[i]);return[a,l]},qP=GP,KP="internalMark",XP=e=>{const{locale:t={},children:i,_ANT_MARK__:a}=e;Z.useEffect(()=>UP(t&&t.Modal),[t]);const l=Z.useMemo(()=>Object.assign(Object.assign({},t),{exist:!0}),[t]);return Z.createElement(R2.Provider,{value:l},i)},JP=XP;function Zr(e,t){YP(e)&&(e="100%");var i=QP(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function _p(e){return Math.min(1,Math.max(0,e))}function YP(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function QP(e){return typeof e=="string"&&e.indexOf("%")!==-1}function G_(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function xp(e){return e<=1?"".concat(Number(e)*100,"%"):e}function Cl(e){return e.length===1?"0"+e:String(e)}function eT(e,t,i){return{r:Zr(e,255)*255,g:Zr(t,255)*255,b:Zr(i,255)*255}}function k7(e,t,i){e=Zr(e,255),t=Zr(t,255),i=Zr(i,255);var a=Math.max(e,t,i),l=Math.min(e,t,i),p=0,y=0,u=(a+l)/2;if(a===l)y=0,p=0;else{var E=a-l;switch(y=u>.5?E/(2-a-l):E/(a+l),a){case e:p=(t-i)/E+(t<i?6:0);break;case t:p=(i-e)/E+2;break;case i:p=(e-t)/E+4;break}p/=6}return{h:p,s:y,l:u}}function f8(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*(6*i):i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function tT(e,t,i){var a,l,p;if(e=Zr(e,360),t=Zr(t,100),i=Zr(i,100),t===0)l=i,p=i,a=i;else{var y=i<.5?i*(1+t):i+t-i*t,u=2*i-y;a=f8(u,y,e+1/3),l=f8(u,y,e),p=f8(u,y,e-1/3)}return{r:a*255,g:l*255,b:p*255}}function Z5(e,t,i){e=Zr(e,255),t=Zr(t,255),i=Zr(i,255);var a=Math.max(e,t,i),l=Math.min(e,t,i),p=0,y=a,u=a-l,E=a===0?0:u/a;if(a===l)p=0;else{switch(a){case e:p=(t-i)/u+(t<i?6:0);break;case t:p=(i-e)/u+2;break;case i:p=(e-t)/u+4;break}p/=6}return{h:p,s:E,v:y}}function nT(e,t,i){e=Zr(e,360)*6,t=Zr(t,100),i=Zr(i,100);var a=Math.floor(e),l=e-a,p=i*(1-t),y=i*(1-l*t),u=i*(1-(1-l)*t),E=a%6,C=[i,y,p,p,u,i][E],P=[u,i,i,y,p,p][E],F=[p,p,u,i,i,y][E];return{r:C*255,g:P*255,b:F*255}}function G5(e,t,i,a){var l=[Cl(Math.round(e).toString(16)),Cl(Math.round(t).toString(16)),Cl(Math.round(i).toString(16))];return a&&l[0].startsWith(l[0].charAt(1))&&l[1].startsWith(l[1].charAt(1))&&l[2].startsWith(l[2].charAt(1))?l[0].charAt(0)+l[1].charAt(0)+l[2].charAt(0):l.join("")}function rT(e,t,i,a,l){var p=[Cl(Math.round(e).toString(16)),Cl(Math.round(t).toString(16)),Cl(Math.round(i).toString(16)),Cl(iT(a))];return l&&p[0].startsWith(p[0].charAt(1))&&p[1].startsWith(p[1].charAt(1))&&p[2].startsWith(p[2].charAt(1))&&p[3].startsWith(p[3].charAt(1))?p[0].charAt(0)+p[1].charAt(0)+p[2].charAt(0)+p[3].charAt(0):p.join("")}function iT(e){return Math.round(parseFloat(e)*255).toString(16)}function A7(e){return Ki(e)/255}function Ki(e){return parseInt(e,16)}function oT(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var q5={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function R1(e){var t={r:0,g:0,b:0},i=1,a=null,l=null,p=null,y=!1,u=!1;return typeof e=="string"&&(e=lT(e)),typeof e=="object"&&(za(e.r)&&za(e.g)&&za(e.b)?(t=eT(e.r,e.g,e.b),y=!0,u=String(e.r).substr(-1)==="%"?"prgb":"rgb"):za(e.h)&&za(e.s)&&za(e.v)?(a=xp(e.s),l=xp(e.v),t=nT(e.h,a,l),y=!0,u="hsv"):za(e.h)&&za(e.s)&&za(e.l)&&(a=xp(e.s),p=xp(e.l),t=tT(e.h,a,p),y=!0,u="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(i=e.a)),i=G_(i),{ok:y,format:e.format||u,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:i}}var aT="[-\\+]?\\d+%?",sT="[-\\+]?\\d*\\.\\d+%?",ks="(?:".concat(sT,")|(?:").concat(aT,")"),m8="[\\s|\\(]+(".concat(ks,")[,|\\s]+(").concat(ks,")[,|\\s]+(").concat(ks,")\\s*\\)?"),g8="[\\s|\\(]+(".concat(ks,")[,|\\s]+(").concat(ks,")[,|\\s]+(").concat(ks,")[,|\\s]+(").concat(ks,")\\s*\\)?"),Wo={CSS_UNIT:new RegExp(ks),rgb:new RegExp("rgb"+m8),rgba:new RegExp("rgba"+g8),hsl:new RegExp("hsl"+m8),hsla:new RegExp("hsla"+g8),hsv:new RegExp("hsv"+m8),hsva:new RegExp("hsva"+g8),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function lT(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(q5[e])e=q5[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i=Wo.rgb.exec(e);return i?{r:i[1],g:i[2],b:i[3]}:(i=Wo.rgba.exec(e),i?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=Wo.hsl.exec(e),i?{h:i[1],s:i[2],l:i[3]}:(i=Wo.hsla.exec(e),i?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=Wo.hsv.exec(e),i?{h:i[1],s:i[2],v:i[3]}:(i=Wo.hsva.exec(e),i?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=Wo.hex8.exec(e),i?{r:Ki(i[1]),g:Ki(i[2]),b:Ki(i[3]),a:A7(i[4]),format:t?"name":"hex8"}:(i=Wo.hex6.exec(e),i?{r:Ki(i[1]),g:Ki(i[2]),b:Ki(i[3]),format:t?"name":"hex"}:(i=Wo.hex4.exec(e),i?{r:Ki(i[1]+i[1]),g:Ki(i[2]+i[2]),b:Ki(i[3]+i[3]),a:A7(i[4]+i[4]),format:t?"name":"hex8"}:(i=Wo.hex3.exec(e),i?{r:Ki(i[1]+i[1]),g:Ki(i[2]+i[2]),b:Ki(i[3]+i[3]),format:t?"name":"hex"}:!1)))))))))}function za(e){return!!Wo.CSS_UNIT.exec(String(e))}var eo=function(){function e(t,i){t===void 0&&(t=""),i===void 0&&(i={});var a;if(t instanceof e)return t;typeof t=="number"&&(t=oT(t)),this.originalInput=t;var l=R1(t);this.originalInput=t,this.r=l.r,this.g=l.g,this.b=l.b,this.a=l.a,this.roundA=Math.round(100*this.a)/100,this.format=(a=i.format)!==null&&a!==void 0?a:l.format,this.gradientType=i.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=l.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),i,a,l,p=t.r/255,y=t.g/255,u=t.b/255;return p<=.03928?i=p/12.92:i=Math.pow((p+.055)/1.055,2.4),y<=.03928?a=y/12.92:a=Math.pow((y+.055)/1.055,2.4),u<=.03928?l=u/12.92:l=Math.pow((u+.055)/1.055,2.4),.2126*i+.7152*a+.0722*l},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=G_(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=Z5(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=Z5(this.r,this.g,this.b),i=Math.round(t.h*360),a=Math.round(t.s*100),l=Math.round(t.v*100);return this.a===1?"hsv(".concat(i,", ").concat(a,"%, ").concat(l,"%)"):"hsva(".concat(i,", ").concat(a,"%, ").concat(l,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=k7(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=k7(this.r,this.g,this.b),i=Math.round(t.h*360),a=Math.round(t.s*100),l=Math.round(t.l*100);return this.a===1?"hsl(".concat(i,", ").concat(a,"%, ").concat(l,"%)"):"hsla(".concat(i,", ").concat(a,"%, ").concat(l,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),G5(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),rT(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),i=Math.round(this.g),a=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(i,", ").concat(a,")"):"rgba(".concat(t,", ").concat(i,", ").concat(a,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(i){return"".concat(Math.round(Zr(i,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(i){return Math.round(Zr(i,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+G5(this.r,this.g,this.b,!1),i=0,a=Object.entries(q5);i<a.length;i++){var l=a[i],p=l[0],y=l[1];if(t===y)return p}return!1},e.prototype.toString=function(t){var i=!!t;t=t??this.format;var a=!1,l=this.a<1&&this.a>=0,p=!i&&l&&(t.startsWith("hex")||t==="name");return p?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(a=this.toRgbString()),t==="prgb"&&(a=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(a=this.toHexString()),t==="hex3"&&(a=this.toHexString(!0)),t==="hex4"&&(a=this.toHex8String(!0)),t==="hex8"&&(a=this.toHex8String()),t==="name"&&(a=this.toName()),t==="hsl"&&(a=this.toHslString()),t==="hsv"&&(a=this.toHsvString()),a||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var i=this.toHsl();return i.l+=t/100,i.l=_p(i.l),new e(i)},e.prototype.brighten=function(t){t===void 0&&(t=10);var i=this.toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(t/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(t/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(t/100)))),new e(i)},e.prototype.darken=function(t){t===void 0&&(t=10);var i=this.toHsl();return i.l-=t/100,i.l=_p(i.l),new e(i)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var i=this.toHsl();return i.s-=t/100,i.s=_p(i.s),new e(i)},e.prototype.saturate=function(t){t===void 0&&(t=10);var i=this.toHsl();return i.s+=t/100,i.s=_p(i.s),new e(i)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var i=this.toHsl(),a=(i.h+t)%360;return i.h=a<0?360+a:a,new e(i)},e.prototype.mix=function(t,i){i===void 0&&(i=50);var a=this.toRgb(),l=new e(t).toRgb(),p=i/100,y={r:(l.r-a.r)*p+a.r,g:(l.g-a.g)*p+a.g,b:(l.b-a.b)*p+a.b,a:(l.a-a.a)*p+a.a};return new e(y)},e.prototype.analogous=function(t,i){t===void 0&&(t=6),i===void 0&&(i=30);var a=this.toHsl(),l=360/i,p=[this];for(a.h=(a.h-(l*t>>1)+720)%360;--t;)a.h=(a.h+l)%360,p.push(new e(a));return p},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var i=this.toHsv(),a=i.h,l=i.s,p=i.v,y=[],u=1/t;t--;)y.push(new e({h:a,s:l,v:p})),p=(p+u)%1;return y},e.prototype.splitcomplement=function(){var t=this.toHsl(),i=t.h;return[this,new e({h:(i+72)%360,s:t.s,l:t.l}),new e({h:(i+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var i=this.toRgb(),a=new e(t).toRgb(),l=i.a+a.a*(1-i.a);return new e({r:(i.r*i.a+a.r*a.a*(1-i.a))/l,g:(i.g*i.a+a.g*a.a*(1-i.a))/l,b:(i.b*i.a+a.b*a.a*(1-i.a))/l,a:l})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var i=this.toHsl(),a=i.h,l=[this],p=360/t,y=1;y<t;y++)l.push(new e({h:(a+y*p)%360,s:i.s,l:i.l}));return l},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}(),bp=2,P7=.16,uT=.05,cT=.05,dT=.15,q_=5,K_=4,hT=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function T7(e){var t=e.r,i=e.g,a=e.b,l=Z5(t,i,a);return{h:l.h*360,s:l.s,v:l.v}}function wp(e){var t=e.r,i=e.g,a=e.b;return"#".concat(G5(t,i,a,!1))}function pT(e,t,i){var a=i/100,l={r:(t.r-e.r)*a+e.r,g:(t.g-e.g)*a+e.g,b:(t.b-e.b)*a+e.b};return l}function I7(e,t,i){var a;return Math.round(e.h)>=60&&Math.round(e.h)<=240?a=i?Math.round(e.h)-bp*t:Math.round(e.h)+bp*t:a=i?Math.round(e.h)+bp*t:Math.round(e.h)-bp*t,a<0?a+=360:a>=360&&(a-=360),a}function L7(e,t,i){if(e.h===0&&e.s===0)return e.s;var a;return i?a=e.s-P7*t:t===K_?a=e.s+P7:a=e.s+uT*t,a>1&&(a=1),i&&t===q_&&a>.1&&(a=.1),a<.06&&(a=.06),Number(a.toFixed(2))}function D7(e,t,i){var a;return i?a=e.v+cT*t:a=e.v-dT*t,a>1&&(a=1),Number(a.toFixed(2))}function Bl(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=[],a=R1(e),l=q_;l>0;l-=1){var p=T7(a),y=wp(R1({h:I7(p,l,!0),s:L7(p,l,!0),v:D7(p,l,!0)}));i.push(y)}i.push(wp(a));for(var u=1;u<=K_;u+=1){var E=T7(a),C=wp(R1({h:I7(E,u),s:L7(E,u),v:D7(E,u)}));i.push(C)}return t.theme==="dark"?hT.map(function(P){var F=P.index,z=P.opacity,X=wp(pT(R1(t.backgroundColor||"#141414"),R1(i[F]),z*100));return X}):i}var y8={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},qp={},v8={};Object.keys(y8).forEach(function(e){qp[e]=Bl(y8[e]),qp[e].primary=qp[e][5],v8[e]=Bl(y8[e],{theme:"dark",backgroundColor:"#141414"}),v8[e].primary=v8[e][5]});var fT=qp.blue;const mT=e=>{const{controlHeight:t}=e;return{controlHeightSM:t*.75,controlHeightXS:t*.5,controlHeightLG:t*1.25}},gT=mT;function yT(e){const{sizeUnit:t,sizeStep:i}=e;return{sizeXXL:t*(i+8),sizeXL:t*(i+4),sizeLG:t*(i+2),sizeMD:t*(i+1),sizeMS:t*i,size:t*i,sizeSM:t*(i-1),sizeXS:t*(i-2),sizeXXS:t*(i-3)}}const X_={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},vT=Object.assign(Object.assign({},X_),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),Id=vT;function _T(e,t){let{generateColorPalettes:i,generateNeutralColorPalettes:a}=t;const{colorSuccess:l,colorWarning:p,colorError:y,colorInfo:u,colorPrimary:E,colorBgBase:C,colorTextBase:P}=e,F=i(E),z=i(l),X=i(p),K=i(y),G=i(u),ee=a(C,P),O=e.colorLink||e.colorInfo,B=i(O);return Object.assign(Object.assign({},ee),{colorPrimaryBg:F[1],colorPrimaryBgHover:F[2],colorPrimaryBorder:F[3],colorPrimaryBorderHover:F[4],colorPrimaryHover:F[5],colorPrimary:F[6],colorPrimaryActive:F[7],colorPrimaryTextHover:F[8],colorPrimaryText:F[9],colorPrimaryTextActive:F[10],colorSuccessBg:z[1],colorSuccessBgHover:z[2],colorSuccessBorder:z[3],colorSuccessBorderHover:z[4],colorSuccessHover:z[4],colorSuccess:z[6],colorSuccessActive:z[7],colorSuccessTextHover:z[8],colorSuccessText:z[9],colorSuccessTextActive:z[10],colorErrorBg:K[1],colorErrorBgHover:K[2],colorErrorBorder:K[3],colorErrorBorderHover:K[4],colorErrorHover:K[5],colorError:K[6],colorErrorActive:K[7],colorErrorTextHover:K[8],colorErrorText:K[9],colorErrorTextActive:K[10],colorWarningBg:X[1],colorWarningBgHover:X[2],colorWarningBorder:X[3],colorWarningBorderHover:X[4],colorWarningHover:X[4],colorWarning:X[6],colorWarningActive:X[7],colorWarningTextHover:X[8],colorWarningText:X[9],colorWarningTextActive:X[10],colorInfoBg:G[1],colorInfoBgHover:G[2],colorInfoBorder:G[3],colorInfoBorderHover:G[4],colorInfoHover:G[4],colorInfo:G[6],colorInfoActive:G[7],colorInfoTextHover:G[8],colorInfoText:G[9],colorInfoTextActive:G[10],colorLinkHover:B[4],colorLink:B[6],colorLinkActive:B[7],colorBgMask:new eo("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const xT=e=>{let t=e,i=e,a=e,l=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?i=4:e<8&&e>=7?i=5:e<14&&e>=8?i=6:e<16&&e>=14?i=7:e>=16&&(i=8),e<6&&e>=2?a=1:e>=6&&(a=2),e>4&&e<8?l=4:e>=8&&(l=6),{borderRadius:e,borderRadiusXS:a,borderRadiusSM:i,borderRadiusLG:t,borderRadiusOuter:l}},bT=xT;function wT(e){const{motionUnit:t,motionBase:i,borderRadius:a,lineWidth:l}=e;return Object.assign({motionDurationFast:`${(i+t).toFixed(1)}s`,motionDurationMid:`${(i+t*2).toFixed(1)}s`,motionDurationSlow:`${(i+t*3).toFixed(1)}s`,lineWidthBold:l+1},bT(a))}const Fa=(e,t)=>new eo(e).setAlpha(t).toRgbString(),$c=(e,t)=>new eo(e).darken(t).toHexString(),ST=e=>{const t=Bl(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},CT=(e,t)=>{const i=e||"#fff",a=t||"#000";return{colorBgBase:i,colorTextBase:a,colorText:Fa(a,.88),colorTextSecondary:Fa(a,.65),colorTextTertiary:Fa(a,.45),colorTextQuaternary:Fa(a,.25),colorFill:Fa(a,.15),colorFillSecondary:Fa(a,.06),colorFillTertiary:Fa(a,.04),colorFillQuaternary:Fa(a,.02),colorBgLayout:$c(i,4),colorBgContainer:$c(i,0),colorBgElevated:$c(i,0),colorBgSpotlight:Fa(a,.85),colorBgBlur:"transparent",colorBorder:$c(i,15),colorBorderSecondary:$c(i,6)}};function Kp(e){return(e+8)/e}function MT(e){const t=new Array(10).fill(null).map((i,a)=>{const l=a-1,p=e*Math.pow(2.71828,l/5),y=a>1?Math.floor(p):Math.ceil(p);return Math.floor(y/2)*2});return t[1]=e,t.map(i=>({size:i,lineHeight:Kp(i)}))}const ET=e=>{const t=MT(e),i=t.map(P=>P.size),a=t.map(P=>P.lineHeight),l=i[1],p=i[0],y=i[2],u=a[1],E=a[0],C=a[2];return{fontSizeSM:p,fontSize:l,fontSizeLG:y,fontSizeXL:i[3],fontSizeHeading1:i[6],fontSizeHeading2:i[5],fontSizeHeading3:i[4],fontSizeHeading4:i[3],fontSizeHeading5:i[2],lineHeight:u,lineHeightLG:C,lineHeightSM:E,fontHeight:Math.round(u*l),fontHeightLG:Math.round(C*y),fontHeightSM:Math.round(E*p),lineHeightHeading1:a[6],lineHeightHeading2:a[5],lineHeightHeading3:a[4],lineHeightHeading4:a[3],lineHeightHeading5:a[2]}},kT=ET;function AT(e){const t=Object.keys(X_).map(i=>{const a=Bl(e[i]);return new Array(10).fill(1).reduce((l,p,y)=>(l[`${i}-${y+1}`]=a[y],l[`${i}${y+1}`]=a[y],l),{})}).reduce((i,a)=>(i=Object.assign(Object.assign({},i),a),i),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),_T(e,{generateColorPalettes:ST,generateNeutralColorPalettes:CT})),kT(e.fontSize)),yT(e)),gT(e)),wT(e))}const J_=B5(AT),Y_={token:Id,override:{override:Id},hashed:!0},Q_=Ct.createContext(Y_),ex="anticon",PT=(e,t)=>t||(e?`ant-${e}`:"ant"),To=Z.createContext({getPrefixCls:PT,iconPrefixCls:ex}),TT=`-ant-${Date.now()}-${Math.random()}`;function IT(e,t){const i={},a=(y,u)=>{let E=y.clone();return E=(u==null?void 0:u(E))||E,E.toRgbString()},l=(y,u)=>{const E=new eo(y),C=Bl(E.toRgbString());i[`${u}-color`]=a(E),i[`${u}-color-disabled`]=C[1],i[`${u}-color-hover`]=C[4],i[`${u}-color-active`]=C[6],i[`${u}-color-outline`]=E.clone().setAlpha(.2).toRgbString(),i[`${u}-color-deprecated-bg`]=C[0],i[`${u}-color-deprecated-border`]=C[2]};if(t.primaryColor){l(t.primaryColor,"primary");const y=new eo(t.primaryColor),u=Bl(y.toRgbString());u.forEach((C,P)=>{i[`primary-${P+1}`]=C}),i["primary-color-deprecated-l-35"]=a(y,C=>C.lighten(35)),i["primary-color-deprecated-l-20"]=a(y,C=>C.lighten(20)),i["primary-color-deprecated-t-20"]=a(y,C=>C.tint(20)),i["primary-color-deprecated-t-50"]=a(y,C=>C.tint(50)),i["primary-color-deprecated-f-12"]=a(y,C=>C.setAlpha(C.getAlpha()*.12));const E=new eo(u[0]);i["primary-color-active-deprecated-f-30"]=a(E,C=>C.setAlpha(C.getAlpha()*.3)),i["primary-color-active-deprecated-d-02"]=a(E,C=>C.darken(2))}return t.successColor&&l(t.successColor,"success"),t.warningColor&&l(t.warningColor,"warning"),t.errorColor&&l(t.errorColor,"error"),t.infoColor&&l(t.infoColor,"info"),`
  :root {
    ${Object.keys(i).map(y=>`--${e}-${y}: ${i[y]};`).join(`
`)}
  }
  `.trim()}function LT(e,t){const i=IT(e,t);xi()&&Vs(i,`${TT}-dynamic-theme`)}const K5=Z.createContext(!1),tx=e=>{let{children:t,disabled:i}=e;const a=Z.useContext(K5);return Z.createElement(K5.Provider,{value:i??a},t)},z2=K5,X5=Z.createContext(void 0),DT=e=>{let{children:t,size:i}=e;const a=Z.useContext(X5);return Z.createElement(X5.Provider,{value:i||a},t)},v0=X5;function RT(){const e=Z.useContext(z2),t=Z.useContext(v0);return{componentDisabled:e,componentSize:t}}const zT="5.13.0";function _8(e){return e>=0&&e<=255}function Sp(e,t){const{r:i,g:a,b:l,a:p}=new eo(e).toRgb();if(p<1)return e;const{r:y,g:u,b:E}=new eo(t).toRgb();for(let C=.01;C<=1;C+=.01){const P=Math.round((i-y*(1-C))/C),F=Math.round((a-u*(1-C))/C),z=Math.round((l-E*(1-C))/C);if(_8(P)&&_8(F)&&_8(z))return new eo({r:P,g:F,b:z,a:Math.round(C*100)/100}).toRgbString()}return new eo({r:i,g:a,b:l,a:1}).toRgbString()}var FT=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(i[a[l]]=e[a[l]]);return i};function nx(e){const{override:t}=e,i=FT(e,["override"]),a=Object.assign({},t);Object.keys(Id).forEach(z=>{delete a[z]});const l=Object.assign(Object.assign({},i),a),p=480,y=576,u=768,E=992,C=1200,P=1600;if(l.motion===!1){const z="0s";l.motionDurationFast=z,l.motionDurationMid=z,l.motionDurationSlow=z}return Object.assign(Object.assign(Object.assign({},l),{colorFillContent:l.colorFillSecondary,colorFillContentHover:l.colorFill,colorFillAlter:l.colorFillQuaternary,colorBgContainerDisabled:l.colorFillTertiary,colorBorderBg:l.colorBgContainer,colorSplit:Sp(l.colorBorderSecondary,l.colorBgContainer),colorTextPlaceholder:l.colorTextQuaternary,colorTextDisabled:l.colorTextQuaternary,colorTextHeading:l.colorText,colorTextLabel:l.colorTextSecondary,colorTextDescription:l.colorTextTertiary,colorTextLightSolid:l.colorWhite,colorHighlight:l.colorError,colorBgTextHover:l.colorFillSecondary,colorBgTextActive:l.colorFill,colorIcon:l.colorTextTertiary,colorIconHover:l.colorText,colorErrorOutline:Sp(l.colorErrorBg,l.colorBgContainer),colorWarningOutline:Sp(l.colorWarningBg,l.colorBgContainer),fontSizeIcon:l.fontSizeSM,lineWidthFocus:l.lineWidth*4,lineWidth:l.lineWidth,controlOutlineWidth:l.lineWidth*2,controlInteractiveSize:l.controlHeight/2,controlItemBgHover:l.colorFillTertiary,controlItemBgActive:l.colorPrimaryBg,controlItemBgActiveHover:l.colorPrimaryBgHover,controlItemBgActiveDisabled:l.colorFill,controlTmpOutline:l.colorFillQuaternary,controlOutline:Sp(l.colorPrimaryBg,l.colorBgContainer),lineType:l.lineType,borderRadius:l.borderRadius,borderRadiusXS:l.borderRadiusXS,borderRadiusSM:l.borderRadiusSM,borderRadiusLG:l.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:l.sizeXXS,paddingXS:l.sizeXS,paddingSM:l.sizeSM,padding:l.size,paddingMD:l.sizeMD,paddingLG:l.sizeLG,paddingXL:l.sizeXL,paddingContentHorizontalLG:l.sizeLG,paddingContentVerticalLG:l.sizeMS,paddingContentHorizontal:l.sizeMS,paddingContentVertical:l.sizeSM,paddingContentHorizontalSM:l.size,paddingContentVerticalSM:l.sizeXS,marginXXS:l.sizeXXS,marginXS:l.sizeXS,marginSM:l.sizeSM,margin:l.size,marginMD:l.sizeMD,marginLG:l.sizeLG,marginXL:l.sizeXL,marginXXL:l.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:p,screenXSMin:p,screenXSMax:y-1,screenSM:y,screenSMMin:y,screenSMMax:u-1,screenMD:u,screenMDMin:u,screenMDMax:E-1,screenLG:E,screenLGMin:E,screenLGMax:C-1,screenXL:C,screenXLMin:C,screenXLMax:P-1,screenXXL:P,screenXXLMin:P,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new eo("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new eo("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new eo("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),a)}var R7=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(i[a[l]]=e[a[l]]);return i};const rx={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0},ix={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},NT={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},ox=(e,t,i)=>{const a=i.getDerivativeToken(e),{override:l}=t,p=R7(t,["override"]);let y=Object.assign(Object.assign({},a),{override:l});return y=nx(y),p&&Object.entries(p).forEach(u=>{let[E,C]=u;const{theme:P}=C,F=R7(C,["theme"]);let z=F;P&&(z=ox(Object.assign(Object.assign({},y),F),{override:F},P)),y[E]=z}),y};function Ka(){const{token:e,hashed:t,theme:i,override:a,cssVar:l}=Ct.useContext(Q_),p=`${zT}-${t||""}`,y=i||J_,[u,E,C]=rP(y,[Id,e],{salt:p,override:a,getComputedToken:ox,formatToken:nx,cssVar:l&&{prefix:l.prefix,key:l.key,unitless:rx,ignore:ix,preserve:NT}});return[y,C,t?E:"",u,l]}function A4(e){var t=Z.useRef();t.current=e;var i=Z.useCallback(function(){for(var a,l=arguments.length,p=new Array(l),y=0;y<l;y++)p[y]=arguments[y];return(a=t.current)===null||a===void 0?void 0:a.call.apply(a,[t].concat(p))},[]);return i}function nu(e){var t=Z.useRef(!1),i=Z.useState(e),a=Tt(i,2),l=a[0],p=a[1];Z.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function y(u,E){E&&t.current||p(u)}return[l,y]}function x8(e){return e!==void 0}function ax(e,t){var i=t||{},a=i.defaultValue,l=i.value,p=i.onChange,y=i.postState,u=nu(function(){return x8(l)?l:x8(a)?typeof a=="function"?a():a:typeof e=="function"?e():e}),E=Tt(u,2),C=E[0],P=E[1],F=l!==void 0?l:C,z=y?y(F):F,X=A4(p),K=nu([F]),G=Tt(K,2),ee=G[0],O=G[1];_7(function(){var W=ee[0];C!==W&&X(C,W)},[ee]),_7(function(){x8(l)||P(l)},[l]);var B=A4(function(W,ne){P(W,ne),O([F],ne)});return[z,B]}const P4=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},OT=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),BT=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active,\n  &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),$T=(e,t)=>{const{fontFamily:i,fontSize:a}=e,l=`[class^="${t}"], [class*=" ${t}"]`;return{[l]:{fontFamily:i,fontSize:a,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[l]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},F2=e=>({outline:`${an(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),sx=e=>({"&:focus-visible":Object.assign({},F2(e))});let jT=Po(function e(){Ao(this,e)});const lx=jT;function VT(e,t,i){return t=js(t),M2(e,p0()?Reflect.construct(t,i||[],js(e).constructor):t.apply(e,i))}let WT=function(e){jd(t,e);function t(i){var a;return Ao(this,t),a=VT(this,t),a.result=0,i instanceof t?a.result=i.result:typeof i=="number"&&(a.result=i),a}return Po(t,[{key:"add",value:function(a){return a instanceof t?this.result+=a.result:typeof a=="number"&&(this.result+=a),this}},{key:"sub",value:function(a){return a instanceof t?this.result-=a.result:typeof a=="number"&&(this.result-=a),this}},{key:"mul",value:function(a){return a instanceof t?this.result*=a.result:typeof a=="number"&&(this.result*=a),this}},{key:"div",value:function(a){return a instanceof t?this.result/=a.result:typeof a=="number"&&(this.result/=a),this}},{key:"equal",value:function(){return this.result}}]),t}(lx);function UT(e,t,i){return t=js(t),M2(e,p0()?Reflect.construct(t,i||[],js(e).constructor):t.apply(e,i))}const ux="CALC_UNIT";function b8(e){return typeof e=="number"?`${e}${ux}`:e}let HT=function(e){jd(t,e);function t(i){var a;return Ao(this,t),a=UT(this,t),a.result="",i instanceof t?a.result=`(${i.result})`:typeof i=="number"?a.result=b8(i):typeof i=="string"&&(a.result=i),a}return Po(t,[{key:"add",value:function(a){return a instanceof t?this.result=`${this.result} + ${a.getResult()}`:(typeof a=="number"||typeof a=="string")&&(this.result=`${this.result} + ${b8(a)}`),this.lowPriority=!0,this}},{key:"sub",value:function(a){return a instanceof t?this.result=`${this.result} - ${a.getResult()}`:(typeof a=="number"||typeof a=="string")&&(this.result=`${this.result} - ${b8(a)}`),this.lowPriority=!0,this}},{key:"mul",value:function(a){return this.lowPriority&&(this.result=`(${this.result})`),a instanceof t?this.result=`${this.result} * ${a.getResult(!0)}`:(typeof a=="number"||typeof a=="string")&&(this.result=`${this.result} * ${a}`),this.lowPriority=!1,this}},{key:"div",value:function(a){return this.lowPriority&&(this.result=`(${this.result})`),a instanceof t?this.result=`${this.result} / ${a.getResult(!0)}`:(typeof a=="number"||typeof a=="string")&&(this.result=`${this.result} / ${a}`),this.lowPriority=!1,this}},{key:"getResult",value:function(a){return this.lowPriority||a?`(${this.result})`:this.result}},{key:"equal",value:function(a){const{unit:l=!0}=a||{},p=new RegExp(`${ux}`,"g");return this.result=this.result.replace(p,l?"px":""),typeof this.lowPriority<"u"?`calc(${this.result})`:this.result}}]),t}(lx);const ZT=e=>{const t=e==="css"?HT:WT;return i=>new t(i)},GT=ZT;function qT(e){return e==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return`max(${i.map(l=>an(l)).join(",")})`},min:function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return`min(${i.map(l=>an(l)).join(",")})`}}}const cx=typeof CSSINJS_STATISTIC<"u";let J5=!0;function Zs(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!cx)return Object.assign.apply(Object,[{}].concat(t));J5=!1;const a={};return t.forEach(l=>{Object.keys(l).forEach(y=>{Object.defineProperty(a,y,{configurable:!0,enumerable:!0,get:()=>l[y]})})}),J5=!0,a}const z7={};function KT(){}const XT=e=>{let t,i=e,a=KT;return cx&&typeof Proxy<"u"&&(t=new Set,i=new Proxy(e,{get(l,p){return J5&&t.add(p),l[p]}}),a=(l,p)=>{var y;z7[l]={global:Array.from(t),component:Object.assign(Object.assign({},(y=z7[l])===null||y===void 0?void 0:y.component),p)}}),{token:i,keys:t,flush:a}},JT=(e,t)=>{const[i,a]=Ka();return H5({theme:i,token:a,hashId:"",path:["ant-design-icons",e],nonce:()=>t==null?void 0:t.nonce},()=>[{[`.${e}`]:Object.assign(Object.assign({},OT()),{[`.${e} .${e}-icon`]:{display:"block"}})}])},dx=JT,hx=(e,t,i)=>{var a;return typeof i=="function"?i(Zs(t,(a=t[e])!==null&&a!==void 0?a:{})):i??{}},px=(e,t,i,a)=>{const l=Object.assign({},t[e]);if(a!=null&&a.deprecatedTokens){const{deprecatedTokens:y}=a;y.forEach(u=>{let[E,C]=u;var P;(l!=null&&l[E]||l!=null&&l[C])&&((P=l[C])!==null&&P!==void 0||(l[C]=l==null?void 0:l[E]))})}const p=Object.assign(Object.assign({},i),l);return Object.keys(p).forEach(y=>{p[y]===t[y]&&delete p[y]}),p},YT=(e,t)=>`${[t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-")}`;function N2(e,t,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=Array.isArray(e)?e:[e,e],[p]=l,y=l.join("-");return u=>{const[E,C,P,F,z]=Ka(),{getPrefixCls:X,iconPrefixCls:K,csp:G}=Z.useContext(To),ee=X(),O=z?"css":"js",B=GT(O),{max:W,min:ne}=qT(O),pe={theme:E,token:F,hashId:P,nonce:()=>G==null?void 0:G.nonce,clientOnly:a.clientOnly,order:a.order||-999};return H5(Object.assign(Object.assign({},pe),{clientOnly:!1,path:["Shared",ee]}),()=>[{"&":BT(F)}]),dx(K,G),[H5(Object.assign(Object.assign({},pe),{path:[y,u,K]}),()=>{if(a.injectStyle===!1)return[];const{token:de,flush:Se}=XT(F),Te=hx(p,C,i),Me=`.${u}`,Be=px(p,C,Te,{deprecatedTokens:a.deprecatedTokens});z&&Object.keys(Te).forEach(qe=>{Te[qe]=`var(${T_(qe,YT(p,z.prefix))})`});const He=Zs(de,{componentCls:Me,prefixCls:u,iconCls:`.${K}`,antCls:`.${ee}`,calc:B,max:W,min:ne},z?Te:Be),We=t(He,{hashId:P,prefixCls:u,rootPrefixCls:ee,iconPrefixCls:K});return Se(p,Be),[a.resetStyle===!1?null:$T(He,u),We]}),P]}}const QT=(e,t,i,a)=>{const l=N2(e,t,i,Object.assign({resetStyle:!1,order:-998},a));return y=>{let{prefixCls:u}=y;return l(u),null}},eI=(e,t,i)=>{function a(C){return`${e}${C.slice(0,1).toUpperCase()}${C.slice(1)}`}const{unitless:l={},injectStyle:p=!0}=i??{},y={[a("zIndexPopup")]:!0};Object.keys(l).forEach(C=>{y[a(C)]=l[C]});const u=C=>{let{rootCls:P,cssVar:F}=C;const[,z]=Ka();return IP({path:[e],prefix:F.prefix,key:F==null?void 0:F.key,unitless:Object.assign(Object.assign({},rx),y),ignore:ix,token:z,scope:P},()=>{const X=hx(e,z,t),K=px(e,z,X,{deprecatedTokens:i==null?void 0:i.deprecatedTokens});return Object.keys(X).forEach(G=>{K[a(G)]=K[G],delete K[G]}),K}),null};return C=>{const[,,,,P]=Ka();return[F=>p&&P?Ct.createElement(Ct.Fragment,null,Ct.createElement(u,{rootCls:C,cssVar:P,component:e}),F):F,P==null?void 0:P.key]}},O2=(e,t,i,a)=>{const l=N2(e,t,i,a),p=eI(Array.isArray(e)?e[0]:e,i,a);return function(y){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y;const[,E]=l(y),[C,P]=p(u);return[C,E,P]}},tI=Object.assign({},Il),{useId:F7}=tI,nI=()=>"",rI=typeof F7>"u"?nI:F7,iI=rI;function oI(e,t){const i=e||{},a=i.inherit===!1||!t?Y_:t,l=iI();return S2(()=>{var p,y;if(!e)return t;const u=Object.assign({},a.components);Object.keys(e.components||{}).forEach(P=>{u[P]=Object.assign(Object.assign({},u[P]),e.components[P])});const E=`css-var-${l.replace(/:/g,"")}`,C=((p=i.cssVar)!==null&&p!==void 0?p:a.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:"ant"},typeof a.cssVar=="object"?a.cssVar:{}),typeof i.cssVar=="object"?i.cssVar:{}),{key:typeof i.cssVar=="object"&&((y=i.cssVar)===null||y===void 0?void 0:y.key)||E});return Object.assign(Object.assign(Object.assign({},a),i),{token:Object.assign(Object.assign({},a.token),i.token),components:u,cssVar:C})},[i,a],(p,y)=>p.some((u,E)=>{const C=y[E];return!k_(u,C,!0)}))}var aI=["children"],fx=Z.createContext({});function sI(e){var t=e.children,i=qa(e,aI);return Z.createElement(fx.Provider,{value:i},t)}var lI=function(e){jd(i,e);var t=E2(i);function i(){return Ao(this,i),t.apply(this,arguments)}return Po(i,[{key:"render",value:function(){return this.props.children}}]),i}(Z.Component),vl="none",Cp="appear",Mp="enter",Ep="leave",N7="none",Go="prepare",q1="start",K1="active",B2="end",mx="prepared";function O7(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit".concat(e)]="webkit".concat(t),i["Moz".concat(e)]="moz".concat(t),i["ms".concat(e)]="MS".concat(t),i["O".concat(e)]="o".concat(t.toLowerCase()),i}function uI(e,t){var i={animationend:O7("Animation","AnimationEnd"),transitionend:O7("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete i.animationend.animation,"TransitionEvent"in t||delete i.transitionend.transition),i}var cI=uI(xi(),typeof window<"u"?window:{}),gx={};if(xi()){var dI=document.createElement("div");gx=dI.style}var kp={};function yx(e){if(kp[e])return kp[e];var t=cI[e];if(t)for(var i=Object.keys(t),a=i.length,l=0;l<a;l+=1){var p=i[l];if(Object.prototype.hasOwnProperty.call(t,p)&&p in gx)return kp[e]=t[p],kp[e]}return""}var vx=yx("animationend"),_x=yx("transitionend"),xx=!!(vx&&_x),B7=vx||"animationend",$7=_x||"transitionend";function j7(e,t){if(!e)return null;if(Sn(e)==="object"){var i=t.replace(/-\w/g,function(a){return a[1].toUpperCase()});return e[i]}return"".concat(e,"-").concat(t)}const hI=function(e){var t=Z.useRef(),i=Z.useRef(e);i.current=e;var a=Z.useCallback(function(y){i.current(y)},[]);function l(y){y&&(y.removeEventListener($7,a),y.removeEventListener(B7,a))}function p(y){t.current&&t.current!==y&&l(t.current),y&&y!==t.current&&(y.addEventListener($7,a),y.addEventListener(B7,a),t.current=y)}return Z.useEffect(function(){return function(){l(t.current)}},[]),[p,l]};var bx=xi()?Z.useLayoutEffect:Z.useEffect;const pI=function(){var e=Z.useRef(null);function t(){Ol.cancel(e.current)}function i(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var p=Ol(function(){l<=1?a({isCanceled:function(){return p!==e.current}}):i(a,l-1)});e.current=p}return Z.useEffect(function(){return function(){t()}},[]),[i,t]};var fI=[Go,q1,K1,B2],mI=[Go,mx],wx=!1,gI=!0;function Sx(e){return e===K1||e===B2}const yI=function(e,t,i){var a=nu(N7),l=Tt(a,2),p=l[0],y=l[1],u=pI(),E=Tt(u,2),C=E[0],P=E[1];function F(){y(Go,!0)}var z=t?mI:fI;return bx(function(){if(p!==N7&&p!==B2){var X=z.indexOf(p),K=z[X+1],G=i(p);G===wx?y(K,!0):K&&C(function(ee){function O(){ee.isCanceled()||y(K,!0)}G===!0?O():Promise.resolve(G).then(O)})}},[e,p]),Z.useEffect(function(){return function(){P()}},[]),[F,p]};function vI(e,t,i,a){var l=a.motionEnter,p=l===void 0?!0:l,y=a.motionAppear,u=y===void 0?!0:y,E=a.motionLeave,C=E===void 0?!0:E,P=a.motionDeadline,F=a.motionLeaveImmediately,z=a.onAppearPrepare,X=a.onEnterPrepare,K=a.onLeavePrepare,G=a.onAppearStart,ee=a.onEnterStart,O=a.onLeaveStart,B=a.onAppearActive,W=a.onEnterActive,ne=a.onLeaveActive,pe=a.onAppearEnd,he=a.onEnterEnd,de=a.onLeaveEnd,Se=a.onVisibleChanged,Te=nu(),Me=Tt(Te,2),Be=Me[0],He=Me[1],We=nu(vl),qe=Tt(We,2),Je=qe[0],Le=qe[1],Ie=nu(null),we=Tt(Ie,2),Re=we[0],Ve=we[1],Ze=Z.useRef(!1),at=Z.useRef(null);function ut(){return i()}var Pt=Z.useRef(!1);function Xt(){Le(vl,!0),Ve(null,!0)}function qt(pn){var ke=ut();if(!(pn&&!pn.deadline&&pn.target!==ke)){var Rt=Pt.current,Kt;Je===Cp&&Rt?Kt=pe==null?void 0:pe(ke,pn):Je===Mp&&Rt?Kt=he==null?void 0:he(ke,pn):Je===Ep&&Rt&&(Kt=de==null?void 0:de(ke,pn)),Je!==vl&&Rt&&Kt!==!1&&Xt()}}var ln=hI(qt),er=Tt(ln,1),tr=er[0],Nn=function(ke){var Rt,Kt,Ot;switch(ke){case Cp:return Rt={},Fe(Rt,Go,z),Fe(Rt,q1,G),Fe(Rt,K1,B),Rt;case Mp:return Kt={},Fe(Kt,Go,X),Fe(Kt,q1,ee),Fe(Kt,K1,W),Kt;case Ep:return Ot={},Fe(Ot,Go,K),Fe(Ot,q1,O),Fe(Ot,K1,ne),Ot;default:return{}}},nr=Z.useMemo(function(){return Nn(Je)},[Je]),Mr=yI(Je,!e,function(pn){if(pn===Go){var ke=nr[Go];return ke?ke(ut()):wx}if(rr in nr){var Rt;Ve(((Rt=nr[rr])===null||Rt===void 0?void 0:Rt.call(nr,ut(),null))||null)}return rr===K1&&(tr(ut()),P>0&&(clearTimeout(at.current),at.current=setTimeout(function(){qt({deadline:!0})},P))),rr===mx&&Xt(),gI}),nn=Tt(Mr,2),Kn=nn[0],rr=nn[1],ai=Sx(rr);Pt.current=ai,bx(function(){He(t);var pn=Ze.current;Ze.current=!0;var ke;!pn&&t&&u&&(ke=Cp),pn&&t&&p&&(ke=Mp),(pn&&!t&&C||!pn&&F&&!t&&C)&&(ke=Ep);var Rt=Nn(ke);ke&&(e||Rt[Go])?(Le(ke),Kn()):Le(vl)},[t]),Z.useEffect(function(){(Je===Cp&&!u||Je===Mp&&!p||Je===Ep&&!C)&&Le(vl)},[u,p,C]),Z.useEffect(function(){return function(){Ze.current=!1,clearTimeout(at.current)}},[]);var Er=Z.useRef(!1);Z.useEffect(function(){Be&&(Er.current=!0),Be!==void 0&&Je===vl&&((Er.current||Be)&&(Se==null||Se(Be)),Er.current=!0)},[Be,Je]);var gr=Re;return nr[Go]&&rr===q1&&(gr=Xe({transition:"none"},gr)),[Je,rr,gr,Be??t]}function _I(e){var t=e;Sn(e)==="object"&&(t=e.transitionSupport);function i(l,p){return!!(l.motionName&&t&&p!==!1)}var a=Z.forwardRef(function(l,p){var y=l.visible,u=y===void 0?!0:y,E=l.removeOnLeave,C=E===void 0?!0:E,P=l.forceRender,F=l.children,z=l.motionName,X=l.leavedClassName,K=l.eventProps,G=Z.useContext(fx),ee=G.motion,O=i(l,ee),B=Z.useRef(),W=Z.useRef();function ne(){try{return B.current instanceof HTMLElement?B.current:MA(W.current)}catch{return null}}var pe=vI(O,u,ne,l),he=Tt(pe,4),de=he[0],Se=he[1],Te=he[2],Me=he[3],Be=Z.useRef(Me);Me&&(Be.current=!0);var He=Z.useCallback(function(Ve){B.current=Ve,m_(p,Ve)},[p]),We,qe=Xe(Xe({},K),{},{visible:u});if(!F)We=null;else if(de===vl)Me?We=F(Xe({},qe),He):!C&&Be.current&&X?We=F(Xe(Xe({},qe),{},{className:X}),He):P||!C&&!X?We=F(Xe(Xe({},qe),{},{style:{display:"none"}}),He):We=null;else{var Je,Le;Se===Go?Le="prepare":Sx(Se)?Le="active":Se===q1&&(Le="start");var Ie=j7(z,"".concat(de,"-").concat(Le));We=F(Xe(Xe({},qe),{},{className:wn(j7(z,de),(Je={},Fe(Je,Ie,Ie&&Le),Fe(Je,z,typeof z=="string"),Je)),style:Te}),He)}if(Z.isValidElement(We)&&C2(We)){var we=We,Re=we.ref;Re||(We=Z.cloneElement(We,{ref:He}))}return Z.createElement(lI,{ref:W},We)});return a.displayName="CSSMotion",a}const Vd=_I(xx);var Y5="add",Q5="keep",em="remove",w8="removed";function xI(e){var t;return e&&Sn(e)==="object"&&"key"in e?t=e:t={key:e},Xe(Xe({},t),{},{key:String(t.key)})}function tm(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(xI)}function bI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=[],a=0,l=t.length,p=tm(e),y=tm(t);p.forEach(function(C){for(var P=!1,F=a;F<l;F+=1){var z=y[F];if(z.key===C.key){a<F&&(i=i.concat(y.slice(a,F).map(function(X){return Xe(Xe({},X),{},{status:Y5})})),a=F),i.push(Xe(Xe({},z),{},{status:Q5})),a+=1,P=!0;break}}P||i.push(Xe(Xe({},C),{},{status:em}))}),a<l&&(i=i.concat(y.slice(a).map(function(C){return Xe(Xe({},C),{},{status:Y5})})));var u={};i.forEach(function(C){var P=C.key;u[P]=(u[P]||0)+1});var E=Object.keys(u).filter(function(C){return u[C]>1});return E.forEach(function(C){i=i.filter(function(P){var F=P.key,z=P.status;return F!==C||z!==em}),i.forEach(function(P){P.key===C&&(P.status=Q5)})}),i}var wI=["component","children","onVisibleChanged","onAllRemoved"],SI=["status"],CI=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function MI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vd,i=function(a){jd(p,a);var l=E2(p);function p(){var y;Ao(this,p);for(var u=arguments.length,E=new Array(u),C=0;C<u;C++)E[C]=arguments[C];return y=l.call.apply(l,[this].concat(E)),Fe(on(y),"state",{keyEntities:[]}),Fe(on(y),"removeKey",function(P){var F=y.state.keyEntities,z=F.map(function(X){return X.key!==P?X:Xe(Xe({},X),{},{status:w8})});return y.setState({keyEntities:z}),z.filter(function(X){var K=X.status;return K!==w8}).length}),y}return Po(p,[{key:"render",value:function(){var u=this,E=this.state.keyEntities,C=this.props,P=C.component,F=C.children,z=C.onVisibleChanged,X=C.onAllRemoved,K=qa(C,wI),G=P||Z.Fragment,ee={};return CI.forEach(function(O){ee[O]=K[O],delete K[O]}),delete K.keys,Z.createElement(G,K,E.map(function(O,B){var W=O.status,ne=qa(O,SI),pe=W===Y5||W===Q5;return Z.createElement(t,zr({},ee,{key:ne.key,visible:pe,eventProps:ne,onVisibleChanged:function(de){if(z==null||z(de,{key:ne.key}),!de){var Se=u.removeKey(ne.key);Se===0&&X&&X()}}}),function(he,de){return F(Xe(Xe({},he),{},{index:B}),de)})}))}}],[{key:"getDerivedStateFromProps",value:function(u,E){var C=u.keys,P=E.keyEntities,F=tm(C),z=bI(P,F);return{keyEntities:z.filter(function(X){var K=P.find(function(G){var ee=G.key;return X.key===ee});return!(K&&K.status===w8&&X.status===em)})}}}]),p}(Z.Component);return Fe(i,"defaultProps",{component:"div"}),i}MI(xx);function EI(e){const{children:t}=e,[,i]=Ka(),{motion:a}=i,l=Z.useRef(!1);return l.current=l.current||a===!1,l.current?Z.createElement(sI,{motion:a},t):t}const kI=()=>null;var AI=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(i[a[l]]=e[a[l]]);return i};const PI=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form","select","button"],TI="ant";let Cx;function II(){return Cx||TI}function LI(e){return Object.keys(e).some(t=>t.endsWith("Color"))}const DI=e=>{const{prefixCls:t,iconPrefixCls:i,theme:a,holderRender:l}=e;t!==void 0&&(Cx=t),a&&LI(a)&&LT(II(),a)},RI=e=>{const{children:t,csp:i,autoInsertSpaceInButton:a,alert:l,anchor:p,form:y,locale:u,componentSize:E,direction:C,space:P,virtual:F,dropdownMatchSelectWidth:z,popupMatchSelectWidth:X,popupOverflow:K,legacyLocale:G,parentContext:ee,iconPrefixCls:O,theme:B,componentDisabled:W,segmented:ne,statistic:pe,spin:he,calendar:de,carousel:Se,cascader:Te,collapse:Me,typography:Be,checkbox:He,descriptions:We,divider:qe,drawer:Je,skeleton:Le,steps:Ie,image:we,layout:Re,list:Ve,mentions:Ze,modal:at,progress:ut,result:Pt,slider:Xt,breadcrumb:qt,menu:ln,pagination:er,input:tr,empty:Nn,badge:nr,radio:Mr,rate:nn,switch:Kn,transfer:rr,avatar:ai,message:Er,tag:gr,table:pn,card:ke,tabs:Rt,timeline:Kt,timePicker:Ot,upload:Zt,notification:Ci,tree:na,colorPicker:Vi,datePicker:Ya,rangePicker:ra,flex:uo,wave:Io,dropdown:Ye,warning:Mi}=e,Cn=Z.useCallback((N,j)=>{const{prefixCls:q}=e;if(j)return j;const re=q||ee.getPrefixCls("");return N?`${re}-${N}`:re},[ee.getPrefixCls,e.prefixCls]),si=O||ee.iconPrefixCls||ex,Fr=i||ee.csp;dx(si,Fr);const Qe=oI(B,ee.theme),Lt={csp:Fr,autoInsertSpaceInButton:a,alert:l,anchor:p,locale:u||G,direction:C,space:P,virtual:F,popupMatchSelectWidth:X??z,popupOverflow:K,getPrefixCls:Cn,iconPrefixCls:si,theme:Qe,segmented:ne,statistic:pe,spin:he,calendar:de,carousel:Se,cascader:Te,collapse:Me,typography:Be,checkbox:He,descriptions:We,divider:qe,drawer:Je,skeleton:Le,steps:Ie,image:we,input:tr,layout:Re,list:Ve,mentions:Ze,modal:at,progress:ut,result:Pt,slider:Xt,breadcrumb:qt,menu:ln,pagination:er,empty:Nn,badge:nr,radio:Mr,rate:nn,switch:Kn,transfer:rr,avatar:ai,message:Er,tag:gr,table:pn,card:ke,tabs:Rt,timeline:Kt,timePicker:Ot,upload:Zt,notification:Ci,tree:na,colorPicker:Vi,datePicker:Ya,rangePicker:ra,flex:uo,wave:Io,dropdown:Ye,warning:Mi},kt=Object.assign({},ee);Object.keys(Lt).forEach(N=>{Lt[N]!==void 0&&(kt[N]=Lt[N])}),PI.forEach(N=>{const j=e[N];j&&(kt[N]=j)});const On=S2(()=>kt,kt,(N,j)=>{const q=Object.keys(N),re=Object.keys(j);return q.length!==re.length||q.some(ae=>N[ae]!==j[ae])}),Ei=Z.useMemo(()=>({prefixCls:si,csp:Fr}),[si,Fr]);let xt=Z.createElement(Z.Fragment,null,Z.createElement(kI,{dropdownMatchSelectWidth:z}),t);const ki=Z.useMemo(()=>{var N,j,q,re;return G1(((N=mu.Form)===null||N===void 0?void 0:N.defaultValidateMessages)||{},((q=(j=On.locale)===null||j===void 0?void 0:j.Form)===null||q===void 0?void 0:q.defaultValidateMessages)||{},((re=On.form)===null||re===void 0?void 0:re.validateMessages)||{},(y==null?void 0:y.validateMessages)||{})},[On,y==null?void 0:y.validateMessages]);Object.keys(ki).length>0&&(xt=Z.createElement(OP.Provider,{value:ki},xt)),u&&(xt=Z.createElement(JP,{locale:u,_ANT_MARK__:KP},xt)),(si||Fr)&&(xt=Z.createElement(D2.Provider,{value:Ei},xt)),E&&(xt=Z.createElement(DT,{size:E},xt)),xt=Z.createElement(EI,null,xt);const ie=Z.useMemo(()=>{const N=Qe||{},{algorithm:j,token:q,components:re,cssVar:ae}=N,xe=AI(N,["algorithm","token","components","cssVar"]),me=j&&(!Array.isArray(j)||j.length>0)?B5(j):J_,ue={};Object.entries(re||{}).forEach(De=>{let[ze,$e]=De;const pt=Object.assign({},$e);"algorithm"in pt&&(pt.algorithm===!0?pt.theme=me:(Array.isArray(pt.algorithm)||typeof pt.algorithm=="function")&&(pt.theme=B5(pt.algorithm)),delete pt.algorithm),ue[ze]=pt});const ye=Object.assign(Object.assign({},Id),q);return Object.assign(Object.assign({},xe),{theme:me,token:ye,components:ue,override:Object.assign({override:ye},ue),cssVar:ae})},[Qe]);return B&&(xt=Z.createElement(Q_.Provider,{value:ie},xt)),On.warning&&(xt=Z.createElement(NP.Provider,{value:On.warning},xt)),W!==void 0&&(xt=Z.createElement(tx,{disabled:W},xt)),Z.createElement(To.Provider,{value:On},xt)},Su=e=>{const t=Z.useContext(To),i=Z.useContext(R2);return Z.createElement(RI,Object.assign({parentContext:t,legacyLocale:i},e))};Su.ConfigContext=To;Su.SizeContext=v0;Su.config=DI;Su.useConfig=RT;Object.defineProperty(Su,"SizeContext",{get:()=>v0});const zI=Su;function Mx(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}function FI(e){return Mx(e)instanceof ShadowRoot}function NI(e){return FI(e)?Mx(e):null}function OI(e){return e.replace(/-(.)/g,function(t,i){return i.toUpperCase()})}function BI(e,t){ro(e,"[@ant-design/icons] ".concat(t))}function V7(e){return Sn(e)==="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(Sn(e.icon)==="object"||typeof e.icon=="function")}function W7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(t,i){var a=e[i];switch(i){case"class":t.className=a,delete t.class;break;default:delete t[i],t[OI(i)]=a}return t},{})}function nm(e,t,i){return i?Ct.createElement(e.tag,Xe(Xe({key:t},W7(e.attrs)),i),(e.children||[]).map(function(a,l){return nm(a,"".concat(t,"-").concat(e.tag,"-").concat(l))})):Ct.createElement(e.tag,Xe({key:t},W7(e.attrs)),(e.children||[]).map(function(a,l){return nm(a,"".concat(t,"-").concat(e.tag,"-").concat(l))}))}function Ex(e){return Bl(e)[0]}function kx(e){return e?Array.isArray(e)?e:[e]:[]}var $I=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,jI=function(t){var i=Z.useContext(D2),a=i.csp,l=i.prefixCls,p=$I;l&&(p=p.replace(/anticon/g,l)),Z.useEffect(function(){var y=t.current,u=NI(y);Vs(p,"@ant-design-icons",{prepend:!0,csp:a,attachTo:u})},[])},VI=["icon","className","onClick","style","primaryColor","secondaryColor"],od={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function WI(e){var t=e.primaryColor,i=e.secondaryColor;od.primaryColor=t,od.secondaryColor=i||Ex(t),od.calculated=!!i}function UI(){return Xe({},od)}var _0=function(t){var i=t.icon,a=t.className,l=t.onClick,p=t.style,y=t.primaryColor,u=t.secondaryColor,E=qa(t,VI),C=Z.useRef(),P=od;if(y&&(P={primaryColor:y,secondaryColor:u||Ex(y)}),jI(C),BI(V7(i),"icon should be icon definiton, but got ".concat(i)),!V7(i))return null;var F=i;return F&&typeof F.icon=="function"&&(F=Xe(Xe({},F),{},{icon:F.icon(P.primaryColor,P.secondaryColor)})),nm(F.icon,"svg-".concat(F.name),Xe(Xe({className:a,onClick:l,style:p,"data-icon":F.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},E),{},{ref:C}))};_0.displayName="IconReact";_0.getTwoToneColors=UI;_0.setTwoToneColors=WI;const $2=_0;function Ax(e){var t=kx(e),i=Tt(t,2),a=i[0],l=i[1];return $2.setTwoToneColors({primaryColor:a,secondaryColor:l})}function HI(){var e=$2.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var ZI=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Ax(fT.primary);var x0=Z.forwardRef(function(e,t){var i,a=e.className,l=e.icon,p=e.spin,y=e.rotate,u=e.tabIndex,E=e.onClick,C=e.twoToneColor,P=qa(e,ZI),F=Z.useContext(D2),z=F.prefixCls,X=z===void 0?"anticon":z,K=F.rootClassName,G=wn(K,X,(i={},Fe(i,"".concat(X,"-").concat(l.name),!!l.name),Fe(i,"".concat(X,"-spin"),!!p||l.name==="loading"),i),a),ee=u;ee===void 0&&E&&(ee=-1);var O=y?{msTransform:"rotate(".concat(y,"deg)"),transform:"rotate(".concat(y,"deg)")}:void 0,B=kx(C),W=Tt(B,2),ne=W[0],pe=W[1];return Z.createElement("span",zr({role:"img","aria-label":l.name},P,{ref:t,tabIndex:ee,onClick:E,className:G}),Z.createElement($2,{icon:l,primaryColor:ne,secondaryColor:pe,style:O}))});x0.displayName="AntdIcon";x0.getTwoToneColor=HI;x0.setTwoToneColor=Ax;const j2=x0;var GI={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};const qI=GI;var KI=function(t,i){return Z.createElement(j2,zr({},t,{ref:i,icon:qI}))};const V2=Z.forwardRef(KI);var XI=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,JI=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,YI="".concat(XI," ").concat(JI).split(/[\s\n]+/),QI="aria-",eL="data-";function U7(e,t){return e.indexOf(t)===0}function Px(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i;t===!1?i={aria:!0,data:!0,attr:!0}:t===!0?i={aria:!0}:i=Xe({},t);var a={};return Object.keys(e).forEach(function(l){(i.aria&&(l==="role"||U7(l,QI))||i.data&&U7(l,eL)||i.attr&&YI.includes(l))&&(a[l]=e[l])}),a}const{isValidElement:Tx}=Il;function tL(e){return e&&Tx(e)&&e.type===Z.Fragment}function nL(e,t,i){return Tx(e)?Z.cloneElement(e,typeof i=="function"?i(e.props||{}):i):t}function Ix(e,t){return nL(e,e,t)}const rL=e=>{const[,,,,t]=Ka();return t?`${e}-css-var`:""},W2=rL;var Dt={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var i=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||i>=Dt.F1&&i<=Dt.F12)return!1;switch(i){case Dt.ALT:case Dt.CAPS_LOCK:case Dt.CONTEXT_MENU:case Dt.CTRL:case Dt.DOWN:case Dt.END:case Dt.ESC:case Dt.HOME:case Dt.INSERT:case Dt.LEFT:case Dt.MAC_FF_META:case Dt.META:case Dt.NUMLOCK:case Dt.NUM_CENTER:case Dt.PAGE_DOWN:case Dt.PAGE_UP:case Dt.PAUSE:case Dt.PRINT_SCREEN:case Dt.RIGHT:case Dt.SHIFT:case Dt.UP:case Dt.WIN_KEY:case Dt.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=Dt.ZERO&&t<=Dt.NINE||t>=Dt.NUM_ZERO&&t<=Dt.NUM_MULTIPLY||t>=Dt.A&&t<=Dt.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case Dt.SPACE:case Dt.QUESTION_MARK:case Dt.NUM_PLUS:case Dt.NUM_MINUS:case Dt.NUM_PERIOD:case Dt.NUM_DIVISION:case Dt.SEMICOLON:case Dt.DASH:case Dt.EQUALS:case Dt.COMMA:case Dt.PERIOD:case Dt.SLASH:case Dt.APOSTROPHE:case Dt.SINGLE_QUOTE:case Dt.OPEN_SQUARE_BRACKET:case Dt.BACKSLASH:case Dt.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},iL={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const oL=iL;var aL=function(t,i){return Z.createElement(j2,zr({},t,{ref:i,icon:oL}))};const sL=Z.forwardRef(aL),lL=Ct.createContext(void 0),Lx=lL,_l=100,uL=10,cL=_l*uL,Dx={Modal:_l,Drawer:_l,Popover:_l,Popconfirm:_l,Tooltip:_l,Tour:_l},dL={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function hL(e){return e in Dx}function pL(e,t){const[,i]=Ka(),a=Ct.useContext(Lx),l=hL(e);if(t!==void 0)return[t,t];let p=a??0;return l?(p+=(a?0:i.zIndexPopupBase)+Dx[e],p=Math.min(p,i.zIndexPopupBase+cL)):p+=dL[e],[a===void 0?t:p,p]}function bi(){bi=function(){return t};var e,t={},i=Object.prototype,a=i.hasOwnProperty,l=Object.defineProperty||function(Le,Ie,we){Le[Ie]=we.value},p=typeof Symbol=="function"?Symbol:{},y=p.iterator||"@@iterator",u=p.asyncIterator||"@@asyncIterator",E=p.toStringTag||"@@toStringTag";function C(Le,Ie,we){return Object.defineProperty(Le,Ie,{value:we,enumerable:!0,configurable:!0,writable:!0}),Le[Ie]}try{C({},"")}catch{C=function(we,Re,Ve){return we[Re]=Ve}}function P(Le,Ie,we,Re){var Ve=Ie&&Ie.prototype instanceof O?Ie:O,Ze=Object.create(Ve.prototype),at=new qe(Re||[]);return l(Ze,"_invoke",{value:Me(Le,we,at)}),Ze}function F(Le,Ie,we){try{return{type:"normal",arg:Le.call(Ie,we)}}catch(Re){return{type:"throw",arg:Re}}}t.wrap=P;var z="suspendedStart",X="suspendedYield",K="executing",G="completed",ee={};function O(){}function B(){}function W(){}var ne={};C(ne,y,function(){return this});var pe=Object.getPrototypeOf,he=pe&&pe(pe(Je([])));he&&he!==i&&a.call(he,y)&&(ne=he);var de=W.prototype=O.prototype=Object.create(ne);function Se(Le){["next","throw","return"].forEach(function(Ie){C(Le,Ie,function(we){return this._invoke(Ie,we)})})}function Te(Le,Ie){function we(Ve,Ze,at,ut){var Pt=F(Le[Ve],Le,Ze);if(Pt.type!=="throw"){var Xt=Pt.arg,qt=Xt.value;return qt&&Sn(qt)=="object"&&a.call(qt,"__await")?Ie.resolve(qt.__await).then(function(ln){we("next",ln,at,ut)},function(ln){we("throw",ln,at,ut)}):Ie.resolve(qt).then(function(ln){Xt.value=ln,at(Xt)},function(ln){return we("throw",ln,at,ut)})}ut(Pt.arg)}var Re;l(this,"_invoke",{value:function(Ze,at){function ut(){return new Ie(function(Pt,Xt){we(Ze,at,Pt,Xt)})}return Re=Re?Re.then(ut,ut):ut()}})}function Me(Le,Ie,we){var Re=z;return function(Ve,Ze){if(Re===K)throw new Error("Generator is already running");if(Re===G){if(Ve==="throw")throw Ze;return{value:e,done:!0}}for(we.method=Ve,we.arg=Ze;;){var at=we.delegate;if(at){var ut=Be(at,we);if(ut){if(ut===ee)continue;return ut}}if(we.method==="next")we.sent=we._sent=we.arg;else if(we.method==="throw"){if(Re===z)throw Re=G,we.arg;we.dispatchException(we.arg)}else we.method==="return"&&we.abrupt("return",we.arg);Re=K;var Pt=F(Le,Ie,we);if(Pt.type==="normal"){if(Re=we.done?G:X,Pt.arg===ee)continue;return{value:Pt.arg,done:we.done}}Pt.type==="throw"&&(Re=G,we.method="throw",we.arg=Pt.arg)}}}function Be(Le,Ie){var we=Ie.method,Re=Le.iterator[we];if(Re===e)return Ie.delegate=null,we==="throw"&&Le.iterator.return&&(Ie.method="return",Ie.arg=e,Be(Le,Ie),Ie.method==="throw")||we!=="return"&&(Ie.method="throw",Ie.arg=new TypeError("The iterator does not provide a '"+we+"' method")),ee;var Ve=F(Re,Le.iterator,Ie.arg);if(Ve.type==="throw")return Ie.method="throw",Ie.arg=Ve.arg,Ie.delegate=null,ee;var Ze=Ve.arg;return Ze?Ze.done?(Ie[Le.resultName]=Ze.value,Ie.next=Le.nextLoc,Ie.method!=="return"&&(Ie.method="next",Ie.arg=e),Ie.delegate=null,ee):Ze:(Ie.method="throw",Ie.arg=new TypeError("iterator result is not an object"),Ie.delegate=null,ee)}function He(Le){var Ie={tryLoc:Le[0]};1 in Le&&(Ie.catchLoc=Le[1]),2 in Le&&(Ie.finallyLoc=Le[2],Ie.afterLoc=Le[3]),this.tryEntries.push(Ie)}function We(Le){var Ie=Le.completion||{};Ie.type="normal",delete Ie.arg,Le.completion=Ie}function qe(Le){this.tryEntries=[{tryLoc:"root"}],Le.forEach(He,this),this.reset(!0)}function Je(Le){if(Le||Le===""){var Ie=Le[y];if(Ie)return Ie.call(Le);if(typeof Le.next=="function")return Le;if(!isNaN(Le.length)){var we=-1,Re=function Ve(){for(;++we<Le.length;)if(a.call(Le,we))return Ve.value=Le[we],Ve.done=!1,Ve;return Ve.value=e,Ve.done=!0,Ve};return Re.next=Re}}throw new TypeError(Sn(Le)+" is not iterable")}return B.prototype=W,l(de,"constructor",{value:W,configurable:!0}),l(W,"constructor",{value:B,configurable:!0}),B.displayName=C(W,E,"GeneratorFunction"),t.isGeneratorFunction=function(Le){var Ie=typeof Le=="function"&&Le.constructor;return!!Ie&&(Ie===B||(Ie.displayName||Ie.name)==="GeneratorFunction")},t.mark=function(Le){return Object.setPrototypeOf?Object.setPrototypeOf(Le,W):(Le.__proto__=W,C(Le,E,"GeneratorFunction")),Le.prototype=Object.create(de),Le},t.awrap=function(Le){return{__await:Le}},Se(Te.prototype),C(Te.prototype,u,function(){return this}),t.AsyncIterator=Te,t.async=function(Le,Ie,we,Re,Ve){Ve===void 0&&(Ve=Promise);var Ze=new Te(P(Le,Ie,we,Re),Ve);return t.isGeneratorFunction(Ie)?Ze:Ze.next().then(function(at){return at.done?at.value:Ze.next()})},Se(de),C(de,E,"Generator"),C(de,y,function(){return this}),C(de,"toString",function(){return"[object Generator]"}),t.keys=function(Le){var Ie=Object(Le),we=[];for(var Re in Ie)we.push(Re);return we.reverse(),function Ve(){for(;we.length;){var Ze=we.pop();if(Ze in Ie)return Ve.value=Ze,Ve.done=!1,Ve}return Ve.done=!0,Ve}},t.values=Je,qe.prototype={constructor:qe,reset:function(Ie){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(We),!Ie)for(var we in this)we.charAt(0)==="t"&&a.call(this,we)&&!isNaN(+we.slice(1))&&(this[we]=e)},stop:function(){this.done=!0;var Ie=this.tryEntries[0].completion;if(Ie.type==="throw")throw Ie.arg;return this.rval},dispatchException:function(Ie){if(this.done)throw Ie;var we=this;function Re(Xt,qt){return at.type="throw",at.arg=Ie,we.next=Xt,qt&&(we.method="next",we.arg=e),!!qt}for(var Ve=this.tryEntries.length-1;Ve>=0;--Ve){var Ze=this.tryEntries[Ve],at=Ze.completion;if(Ze.tryLoc==="root")return Re("end");if(Ze.tryLoc<=this.prev){var ut=a.call(Ze,"catchLoc"),Pt=a.call(Ze,"finallyLoc");if(ut&&Pt){if(this.prev<Ze.catchLoc)return Re(Ze.catchLoc,!0);if(this.prev<Ze.finallyLoc)return Re(Ze.finallyLoc)}else if(ut){if(this.prev<Ze.catchLoc)return Re(Ze.catchLoc,!0)}else{if(!Pt)throw new Error("try statement without catch or finally");if(this.prev<Ze.finallyLoc)return Re(Ze.finallyLoc)}}}},abrupt:function(Ie,we){for(var Re=this.tryEntries.length-1;Re>=0;--Re){var Ve=this.tryEntries[Re];if(Ve.tryLoc<=this.prev&&a.call(Ve,"finallyLoc")&&this.prev<Ve.finallyLoc){var Ze=Ve;break}}Ze&&(Ie==="break"||Ie==="continue")&&Ze.tryLoc<=we&&we<=Ze.finallyLoc&&(Ze=null);var at=Ze?Ze.completion:{};return at.type=Ie,at.arg=we,Ze?(this.method="next",this.next=Ze.finallyLoc,ee):this.complete(at)},complete:function(Ie,we){if(Ie.type==="throw")throw Ie.arg;return Ie.type==="break"||Ie.type==="continue"?this.next=Ie.arg:Ie.type==="return"?(this.rval=this.arg=Ie.arg,this.method="return",this.next="end"):Ie.type==="normal"&&we&&(this.next=we),ee},finish:function(Ie){for(var we=this.tryEntries.length-1;we>=0;--we){var Re=this.tryEntries[we];if(Re.finallyLoc===Ie)return this.complete(Re.completion,Re.afterLoc),We(Re),ee}},catch:function(Ie){for(var we=this.tryEntries.length-1;we>=0;--we){var Re=this.tryEntries[we];if(Re.tryLoc===Ie){var Ve=Re.completion;if(Ve.type==="throw"){var Ze=Ve.arg;We(Re)}return Ze}}throw new Error("illegal catch attempt")},delegateYield:function(Ie,we,Re){return this.delegate={iterator:Je(Ie),resultName:we,nextLoc:Re},this.method==="next"&&(this.arg=e),ee}},t}function H7(e,t,i,a,l,p,y){try{var u=e[p](y),E=u.value}catch(C){i(C);return}u.done?t(E):Promise.resolve(E).then(a,l)}function Wl(e){return function(){var t=this,i=arguments;return new Promise(function(a,l){var p=e.apply(t,i);function y(E){H7(p,a,l,y,u,"next",E)}function u(E){H7(p,a,l,y,u,"throw",E)}y(void 0)})}}var Wd=Xe({},SM),fL=Wd.version,mL=Wd.render,gL=Wd.unmountComponentAtNode,b0;try{var yL=Number((fL||"").split(".")[0]);yL>=18&&(b0=Wd.createRoot)}catch{}function Z7(e){var t=Wd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&Sn(t)==="object"&&(t.usingClientEntryPoint=e)}var T4="__rc_react_root__";function vL(e,t){Z7(!0);var i=t[T4]||b0(t);Z7(!1),i.render(e),t[T4]=i}function _L(e,t){mL(e,t)}function xL(e,t){if(b0){vL(e,t);return}_L(e,t)}function bL(e){return rm.apply(this,arguments)}function rm(){return rm=Wl(bi().mark(function e(t){return bi().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Promise.resolve().then(function(){var l;(l=t[T4])===null||l===void 0||l.unmount(),delete t[T4]}));case 1:case"end":return a.stop()}},e)})),rm.apply(this,arguments)}function wL(e){gL(e)}function SL(e){return im.apply(this,arguments)}function im(){return im=Wl(bi().mark(function e(t){return bi().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b0===void 0){a.next=2;break}return a.abrupt("return",bL(t));case 2:wL(t);case 3:case"end":return a.stop()}},e)})),im.apply(this,arguments)}const G7=(e,t,i)=>i!==void 0?i:`${e}-${t}`,CL=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),i=t.width,a=t.height;if(i||a)return!0}if(e.getBoundingClientRect){var l=e.getBoundingClientRect(),p=l.width,y=l.height;if(p||y)return!0}}return!1},ML=e=>{const{componentCls:t,colorPrimary:i}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${i})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow 0.3s ${e.motionEaseInOut}`,`opacity 0.35s ${e.motionEaseInOut}`].join(",")}}}}},EL=N2("Wave",e=>[ML(e)]);function kL(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return t&&t[1]&&t[2]&&t[3]?!(t[1]===t[2]&&t[2]===t[3]):!0}function S8(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&kL(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function AL(e){const{borderTopColor:t,borderColor:i,backgroundColor:a}=getComputedStyle(e);return S8(t)?t:S8(i)?i:S8(a)?a:null}const U2="ant-wave-target";function C8(e){return Number.isNaN(e)?0:e}const PL=e=>{const{className:t,target:i,component:a}=e,l=Z.useRef(null),[p,y]=Z.useState(null),[u,E]=Z.useState([]),[C,P]=Z.useState(0),[F,z]=Z.useState(0),[X,K]=Z.useState(0),[G,ee]=Z.useState(0),[O,B]=Z.useState(!1),W={left:C,top:F,width:X,height:G,borderRadius:u.map(he=>`${he}px`).join(" ")};p&&(W["--wave-color"]=p);function ne(){const he=getComputedStyle(i);y(AL(i));const de=he.position==="static",{borderLeftWidth:Se,borderTopWidth:Te}=he;P(de?i.offsetLeft:C8(-parseFloat(Se))),z(de?i.offsetTop:C8(-parseFloat(Te))),K(i.offsetWidth),ee(i.offsetHeight);const{borderTopLeftRadius:Me,borderTopRightRadius:Be,borderBottomLeftRadius:He,borderBottomRightRadius:We}=he;E([Me,Be,We,He].map(qe=>C8(parseFloat(qe))))}if(Z.useEffect(()=>{if(i){const he=Ol(()=>{ne(),B(!0)});let de;return typeof ResizeObserver<"u"&&(de=new ResizeObserver(ne),de.observe(i)),()=>{Ol.cancel(he),de==null||de.disconnect()}}},[]),!O)return null;const pe=(a==="Checkbox"||a==="Radio")&&(i==null?void 0:i.classList.contains(U2));return Z.createElement(Vd,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(he,de)=>{var Se;if(de.deadline||de.propertyName==="opacity"){const Te=(Se=l.current)===null||Se===void 0?void 0:Se.parentElement;SL(Te).then(()=>{Te==null||Te.remove()})}return!1}},he=>{let{className:de}=he;return Z.createElement("div",{ref:l,className:wn(t,{"wave-quick":pe},de),style:W})})},TL=(e,t)=>{var i;const{component:a}=t;if(a==="Checkbox"&&!(!((i=e.querySelector("input"))===null||i===void 0)&&i.checked))return;const l=document.createElement("div");l.style.position="absolute",l.style.left="0px",l.style.top="0px",e==null||e.insertBefore(l,e==null?void 0:e.firstChild),xL(Z.createElement(PL,Object.assign({},t,{target:e})),l)},IL=TL;function LL(e,t,i){const{wave:a}=Z.useContext(To),[,l,p]=Ka(),y=A4(C=>{const P=e.current;if(a!=null&&a.disabled||!P)return;const F=P.querySelector(`.${U2}`)||P,{showEffect:z}=a||{};(z||IL)(F,{className:t,token:l,component:i,event:C,hashId:p})}),u=Z.useRef();return C=>{Ol.cancel(u.current),u.current=Ol(()=>{y(C)})}}const DL=e=>{const{children:t,disabled:i,component:a}=e,{getPrefixCls:l}=Z.useContext(To),p=Z.useRef(null),y=l("wave"),[,u]=EL(y),E=LL(p,wn(y,u),a);if(Ct.useEffect(()=>{const P=p.current;if(!P||P.nodeType!==1||i)return;const F=z=>{!CL(z.target)||!P.getAttribute||P.getAttribute("disabled")||P.disabled||P.className.includes("disabled")||P.className.includes("-leave")||E(z)};return P.addEventListener("click",F,!0),()=>{P.removeEventListener("click",F,!0)}},[i]),!Ct.isValidElement(t))return t??null;const C=C2(t)?h0(t.ref,p):p;return Ix(t,{ref:C})},Rx=DL,RL=e=>{const t=Ct.useContext(v0);return Ct.useMemo(()=>e?typeof e=="string"?e??t:e instanceof Function?e(t):t:t,[e,t])},zx=RL,Fx=Z.createContext(null),zL=(e,t)=>{const i=Z.useContext(Fx),a=Z.useMemo(()=>{if(!i)return"";const{compactDirection:l,isFirstItem:p,isLastItem:y}=i,u=l==="vertical"?"-vertical-":"-";return wn(`${e}-compact${u}item`,{[`${e}-compact${u}first-item`]:p,[`${e}-compact${u}last-item`]:y,[`${e}-compact${u}item-rtl`]:t==="rtl"})},[e,t,i]);return{compactSize:i==null?void 0:i.compactSize,compactDirection:i==null?void 0:i.compactDirection,compactItemClassnames:a}},FL=e=>{let{children:t}=e;return Z.createElement(Fx.Provider,{value:null},t)};var NL=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(i[a[l]]=e[a[l]]);return i};const Nx=Z.createContext(void 0),OL=e=>{const{getPrefixCls:t,direction:i}=Z.useContext(To),{prefixCls:a,size:l,className:p}=e,y=NL(e,["prefixCls","size","className"]),u=t("btn-group",a),[,,E]=Ka();let C="";switch(l){case"large":C="lg";break;case"small":C="sm";break}const P=wn(u,{[`${u}-${C}`]:C,[`${u}-rtl`]:i==="rtl"},p,E);return Z.createElement(Nx.Provider,{value:l},Z.createElement("div",Object.assign({},y,{className:P})))},BL=OL,q7=/^[\u4e00-\u9fa5]{2}$/,om=q7.test.bind(q7);function $L(e){return e==="danger"?{danger:!0}:{type:e}}function K7(e){return typeof e=="string"}function M8(e){return e==="text"||e==="link"}function jL(e,t){if(e==null)return;const i=t?" ":"";return typeof e!="string"&&typeof e!="number"&&K7(e.type)&&om(e.props.children)?Ix(e,{children:e.props.children.split("").join(i)}):K7(e)?om(e)?Ct.createElement("span",null,e.split("").join(i)):Ct.createElement("span",null,e):tL(e)?Ct.createElement("span",null,e):e}function VL(e,t){let i=!1;const a=[];return Ct.Children.forEach(e,l=>{const p=typeof l,y=p==="string"||p==="number";if(i&&y){const u=a.length-1,E=a[u];a[u]=`${E}${l}`}else a.push(l);i=y}),Ct.Children.map(a,l=>jL(l,t))}const WL=Z.forwardRef((e,t)=>{const{className:i,style:a,children:l,prefixCls:p}=e,y=wn(`${p}-icon`,i);return Ct.createElement("span",{ref:t,className:y,style:a},l)}),Ox=WL,X7=Z.forwardRef((e,t)=>{let{prefixCls:i,className:a,style:l,iconClassName:p}=e;const y=wn(`${i}-loading-icon`,a);return Ct.createElement(Ox,{prefixCls:i,className:y,style:l,ref:t},Ct.createElement(sL,{className:p}))}),E8=()=>({width:0,opacity:0,transform:"scale(0)"}),k8=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),UL=e=>{const{prefixCls:t,loading:i,existIcon:a,className:l,style:p}=e,y=!!i;return a?Ct.createElement(X7,{prefixCls:t,className:l,style:p}):Ct.createElement(Vd,{visible:y,motionName:`${t}-loading-icon-motion`,motionLeave:y,removeOnLeave:!0,onAppearStart:E8,onAppearActive:k8,onEnterStart:E8,onEnterActive:k8,onLeaveStart:k8,onLeaveActive:E8},(u,E)=>{let{className:C,style:P}=u;return Ct.createElement(X7,{prefixCls:t,className:l,style:Object.assign(Object.assign({},p),P),ref:E,iconClassName:C})})},HL=UL,J7=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),ZL=e=>{const{componentCls:t,fontSize:i,lineWidth:a,groupBorderColor:l,colorErrorHover:p}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(a).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:i}},J7(`${t}-primary`,l),J7(`${t}-danger`,p)]}},GL=ZL,Bx=e=>{const{paddingInline:t,onlyIconSize:i,paddingBlock:a}=e;return Zs(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:a,buttonIconOnlyFontSize:i})},$x=e=>{var t,i,a,l,p,y;const u=(t=e.contentFontSize)!==null&&t!==void 0?t:e.fontSize,E=(i=e.contentFontSizeSM)!==null&&i!==void 0?i:e.fontSize,C=(a=e.contentFontSizeLG)!==null&&a!==void 0?a:e.fontSizeLG,P=(l=e.contentLineHeight)!==null&&l!==void 0?l:Kp(u),F=(p=e.contentLineHeightSM)!==null&&p!==void 0?p:Kp(E),z=(y=e.contentLineHeightLG)!==null&&y!==void 0?y:Kp(C);return{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:e.fontSizeLG,onlyIconSizeSM:e.fontSizeLG-2,onlyIconSizeLG:e.fontSizeLG+2,groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:e.colorBgTextHover,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,contentFontSize:u,contentFontSizeSM:E,contentFontSizeLG:C,contentLineHeight:P,contentLineHeightSM:F,contentLineHeightLG:z,paddingBlock:Math.max((e.controlHeight-u*P)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-E*F)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-C*z)/2-e.lineWidth,0)}},qL=e=>{const{componentCls:t,iconCls:i,fontWeight:a}=e;return{[t]:{outline:"none",position:"relative",display:"inline-block",fontWeight:a,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${an(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${t}-icon`]:{lineHeight:0},[`> ${i} + span, > span + ${i}`]:{marginInlineStart:e.marginXS},[`&:not(${t}-icon-only) > ${t}-icon`]:{[`&${t}-loading-icon, &:not(:last-child)`]:{marginInlineEnd:e.marginXS}},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},sx(e)),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${i})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&-icon-only${t}-compact-item`]:{flex:"none"}}}},Xa=(e,t,i)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":i}}),KL=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),XL=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),JL=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),Ld=(e,t,i,a,l,p,y,u)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:i||void 0,background:t,borderColor:a||void 0,boxShadow:"none"},Xa(e,Object.assign({background:t},y),Object.assign({background:t},u))),{"&:disabled":{cursor:"not-allowed",color:l||void 0,borderColor:p||void 0}})}),H2=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},JL(e))}),jx=e=>Object.assign({},H2(e)),I4=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),Vx=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},jx(e)),{background:e.defaultBg,borderColor:e.defaultBorderColor,color:e.defaultColor,boxShadow:e.defaultShadow}),Xa(e.componentCls,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),Ld(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:e.colorError,borderColor:e.colorError},Xa(e.componentCls,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Ld(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),H2(e))}),YL=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},jx(e)),{color:e.primaryColor,background:e.colorPrimary,boxShadow:e.primaryShadow}),Xa(e.componentCls,{color:e.colorTextLightSolid,background:e.colorPrimaryHover},{color:e.colorTextLightSolid,background:e.colorPrimaryActive})),Ld(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({background:e.colorError,boxShadow:e.dangerShadow,color:e.dangerColor},Xa(e.componentCls,{background:e.colorErrorHover},{background:e.colorErrorActive})),Ld(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),H2(e))}),QL=e=>Object.assign(Object.assign({},Vx(e)),{borderStyle:"dashed"}),eD=e=>Object.assign(Object.assign(Object.assign({color:e.colorLink},Xa(e.componentCls,{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),I4(e)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign({color:e.colorError},Xa(e.componentCls,{color:e.colorErrorHover},{color:e.colorErrorActive})),I4(e))}),tD=e=>Object.assign(Object.assign(Object.assign({},Xa(e.componentCls,{color:e.colorText,background:e.textHoverBg},{color:e.colorText,background:e.colorBgTextActive})),I4(e)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign({color:e.colorError},I4(e)),Xa(e.componentCls,{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBg}))}),nD=e=>{const{componentCls:t}=e;return{[`${t}-default`]:Vx(e),[`${t}-primary`]:YL(e),[`${t}-dashed`]:QL(e),[`${t}-link`]:eD(e),[`${t}-text`]:tD(e),[`${t}-ghost`]:Ld(e.componentCls,e.ghostBg,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)}},Z2=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:i,controlHeight:a,fontSize:l,lineHeight:p,borderRadius:y,buttonPaddingHorizontal:u,iconCls:E,buttonPaddingVertical:C}=e,P=`${i}-icon-only`;return[{[`${i}${t}`]:{fontSize:l,lineHeight:p,height:a,padding:`${an(C)} ${an(u)}`,borderRadius:y,[`&${P}`]:{width:a,paddingInlineStart:0,paddingInlineEnd:0,[`&${i}-round`]:{width:"auto"},[E]:{fontSize:e.buttonIconOnlyFontSize}},[`&${i}-loading`]:{opacity:e.opacityLoading,cursor:"default"},[`${i}-loading-icon`]:{transition:`width ${e.motionDurationSlow} ${e.motionEaseInOut}, opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`}}},{[`${i}${i}-circle${t}`]:KL(e)},{[`${i}${i}-round${t}`]:XL(e)}]},rD=e=>Z2(Zs(e,{fontSize:e.contentFontSize,lineHeight:e.contentLineHeight})),iD=e=>{const t=Zs(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,lineHeight:e.contentLineHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:e.paddingBlockSM,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return Z2(t,`${e.componentCls}-sm`)},oD=e=>{const t=Zs(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,lineHeight:e.contentLineHeightLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:e.paddingBlockLG,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return Z2(t,`${e.componentCls}-lg`)},aD=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},sD=O2("Button",e=>{const t=Bx(e);return[qL(t),iD(t),rD(t),oD(t),aD(t),nD(t),GL(t)]},$x,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function lD(e,t,i){const{focusElCls:a,focus:l,borderElCls:p}=i,y=p?"> *":"",u=["hover",l?"focus":null,"active"].filter(Boolean).map(E=>`&:${E} ${y}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[u]:{zIndex:2}},a?{[`&${a}`]:{zIndex:2}}:{}),{[`&[disabled] ${y}`]:{zIndex:0}})}}function uD(e,t,i){const{borderElCls:a}=i,l=a?`> ${a}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${l}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${l}, &${e}-sm ${l}, &${e}-lg ${l}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${l}, &${e}-sm ${l}, &${e}-lg ${l}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function cD(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:i}=e,a=`${i}-compact`;return{[a]:Object.assign(Object.assign({},lD(e,a,t)),uD(i,a,t))}}function dD(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function hD(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function pD(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},dD(e,t)),hD(e.componentCls,t))}}const fD=e=>{const{componentCls:t,calc:i}=e;return{[t]:{[`&-compact-item${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:i(e.lineWidth).mul(-1).equal(),insetInlineStart:i(e.lineWidth).mul(-1).equal(),display:"inline-block",width:e.lineWidth,height:`calc(100% + ${an(e.lineWidth)} * 2)`,backgroundColor:e.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-vertical-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:i(e.lineWidth).mul(-1).equal(),insetInlineStart:i(e.lineWidth).mul(-1).equal(),display:"inline-block",width:`calc(100% + ${an(e.lineWidth)} * 2)`,height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}}}}}},mD=QT(["Button","compact"],e=>{const t=Bx(e);return[cD(t),pD(t),fD(t)]},$x);var gD=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(i[a[l]]=e[a[l]]);return i};function yD(e){if(typeof e=="object"&&e){let t=e==null?void 0:e.delay;return t=!Number.isNaN(t)&&typeof t=="number"?t:0,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}const vD=(e,t)=>{var i,a;const{loading:l=!1,prefixCls:p,type:y="default",danger:u,shape:E="default",size:C,styles:P,disabled:F,className:z,rootClassName:X,children:K,icon:G,ghost:ee=!1,block:O=!1,htmlType:B="button",classNames:W,style:ne={}}=e,pe=gD(e,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),{getPrefixCls:he,autoInsertSpaceInButton:de,direction:Se,button:Te}=Z.useContext(To),Me=he("btn",p),[Be,He,We]=sD(Me),qe=Z.useContext(z2),Je=F??qe,Le=Z.useContext(Nx),Ie=Z.useMemo(()=>yD(l),[l]),[we,Re]=Z.useState(Ie.loading),[Ve,Ze]=Z.useState(!1),ut=h0(t,Z.createRef()),Pt=Z.Children.count(K)===1&&!G&&!M8(y);Z.useEffect(()=>{let Rt=null;Ie.delay>0?Rt=setTimeout(()=>{Rt=null,Re(!0)},Ie.delay):Re(Ie.loading);function Kt(){Rt&&(clearTimeout(Rt),Rt=null)}return Kt},[Ie]),Z.useEffect(()=>{if(!ut||!ut.current||de===!1)return;const Rt=ut.current.textContent;Pt&&om(Rt)?Ve||Ze(!0):Ve&&Ze(!1)},[ut]);const Xt=Rt=>{const{onClick:Kt}=e;if(we||Je){Rt.preventDefault();return}Kt==null||Kt(Rt)},qt=de!==!1,{compactSize:ln,compactItemClassnames:er}=zL(Me,Se),tr={large:"lg",small:"sm",middle:void 0},Nn=zx(Rt=>{var Kt,Ot;return(Ot=(Kt=C??ln)!==null&&Kt!==void 0?Kt:Le)!==null&&Ot!==void 0?Ot:Rt}),nr=Nn&&tr[Nn]||"",Mr=we?"loading":G,nn=EA(pe,["navigate"]),Kn=wn(Me,He,We,{[`${Me}-${E}`]:E!=="default"&&E,[`${Me}-${y}`]:y,[`${Me}-${nr}`]:nr,[`${Me}-icon-only`]:!K&&K!==0&&!!Mr,[`${Me}-background-ghost`]:ee&&!M8(y),[`${Me}-loading`]:we,[`${Me}-two-chinese-chars`]:Ve&&qt&&!we,[`${Me}-block`]:O,[`${Me}-dangerous`]:!!u,[`${Me}-rtl`]:Se==="rtl"},er,z,X,Te==null?void 0:Te.className),rr=Object.assign(Object.assign({},Te==null?void 0:Te.style),ne),ai=wn(W==null?void 0:W.icon,(i=Te==null?void 0:Te.classNames)===null||i===void 0?void 0:i.icon),Er=Object.assign(Object.assign({},(P==null?void 0:P.icon)||{}),((a=Te==null?void 0:Te.styles)===null||a===void 0?void 0:a.icon)||{}),gr=G&&!we?Ct.createElement(Ox,{prefixCls:Me,className:ai,style:Er},G):Ct.createElement(HL,{existIcon:!!G,prefixCls:Me,loading:!!we}),pn=K||K===0?VL(K,Pt&&qt):null;if(nn.href!==void 0)return Be(Ct.createElement("a",Object.assign({},nn,{className:wn(Kn,{[`${Me}-disabled`]:Je}),href:Je?void 0:nn.href,style:rr,onClick:Xt,ref:ut,tabIndex:Je?-1:0}),gr,pn));let ke=Ct.createElement("button",Object.assign({},pe,{type:B,className:Kn,style:rr,onClick:Xt,disabled:Je,ref:ut}),gr,pn,er&&Ct.createElement(mD,{key:"compact",prefixCls:Me}));return M8(y)||(ke=Ct.createElement(Rx,{component:"Button",disabled:!!we},ke)),Be(ke)},G2=Z.forwardRef(vD);G2.Group=BL;G2.__ANT_BUTTON=!0;const w0=G2,q2=Ct.createContext({}),{Provider:_D}=q2;var Wx=Z.createContext(null),Y7=[];function xD(e,t){var i=Z.useState(function(){if(!xi())return null;var K=document.createElement("div");return K}),a=Tt(i,1),l=a[0],p=Z.useRef(!1),y=Z.useContext(Wx),u=Z.useState(Y7),E=Tt(u,2),C=E[0],P=E[1],F=y||(p.current?void 0:function(K){P(function(G){var ee=[K].concat(Vt(G));return ee})});function z(){l.parentElement||document.body.appendChild(l),p.current=!0}function X(){var K;(K=l.parentElement)===null||K===void 0||K.removeChild(l),p.current=!1}return Ad(function(){return e?y?y(z):z():X(),X},[e]),Ad(function(){C.length&&(C.forEach(function(K){return K()}),P(Y7))},[C]),[l,F]}var A8;function bD(e){if(typeof document>"u")return 0;if(e||A8===void 0){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var i=document.createElement("div"),a=i.style;a.position="absolute",a.top="0",a.left="0",a.pointerEvents="none",a.visibility="hidden",a.width="200px",a.height="150px",a.overflow="hidden",i.appendChild(t),document.body.appendChild(i);var l=t.offsetWidth;i.style.overflow="scroll";var p=t.offsetWidth;l===p&&(p=i.clientWidth),document.body.removeChild(i),A8=l-p}return A8}function Q7(e){var t=e.match(/^(.*)px$/),i=Number(t==null?void 0:t[1]);return Number.isNaN(i)?bD():i}function wD(e){if(typeof document>"u"||!e||!(e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),i=t.width,a=t.height;return{width:Q7(i),height:Q7(a)}}function SD(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var CD="rc-util-locker-".concat(Date.now()),ey=0;function MD(e){var t=!!e,i=Z.useState(function(){return ey+=1,"".concat(CD,"_").concat(ey)}),a=Tt(i,1),l=a[0];Ad(function(){if(t){var p=wD(document.body).width,y=SD();Vs(`
html body {
  overflow-y: hidden;
  `.concat(y?"width: calc(100% - ".concat(p,"px);"):"",`
}`),l)}else kd(l);return function(){kd(l)}},[t,l])}var ty=!1;function ED(e){return typeof e=="boolean"&&(ty=e),ty}var ny=function(t){return t===!1?!1:!xi()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},kD=Z.forwardRef(function(e,t){var i=e.open,a=e.autoLock,l=e.getContainer;e.debug;var p=e.autoDestroy,y=p===void 0?!0:p,u=e.children,E=Z.useState(i),C=Tt(E,2),P=C[0],F=C[1],z=P||i;Z.useEffect(function(){(y||i)&&F(i)},[i,y]);var X=Z.useState(function(){return ny(l)}),K=Tt(X,2),G=K[0],ee=K[1];Z.useEffect(function(){var Be=ny(l);ee(Be??null)});var O=xD(z&&!G),B=Tt(O,2),W=B[0],ne=B[1],pe=G??W;MD(a&&i&&xi()&&(pe===W||pe===document.body));var he=null;if(u&&C2(u)&&t){var de=u;he=de.ref}var Se=g_(he,t);if(!z||!xi()||G===void 0)return null;var Te=pe===!1||ED(),Me=u;return t&&(Me=Z.cloneElement(u,{ref:Se})),Z.createElement(Wx.Provider,{value:ne},Te?Me:xu.createPortal(Me,pe))}),Ux=Z.createContext({});function AD(){var e=Xe({},Il);return e.useId}var ry=0,iy=AD();const PD=iy?function(t){var i=iy();return t||i}:function(t){var i=Z.useState("ssr-id"),a=Tt(i,2),l=a[0],p=a[1];return Z.useEffect(function(){var y=ry;ry+=1,p("rc_unique_".concat(y))},[]),t||l};function oy(e,t,i){var a=t;return!a&&i&&(a="".concat(e,"-").concat(i)),a}function ay(e,t){var i=e["page".concat(t?"Y":"X","Offset")],a="scroll".concat(t?"Top":"Left");if(typeof i!="number"){var l=e.document;i=l.documentElement[a],typeof i!="number"&&(i=l.body[a])}return i}function TD(e){var t=e.getBoundingClientRect(),i={left:t.left,top:t.top},a=e.ownerDocument,l=a.defaultView||a.parentWindow;return i.left+=ay(l),i.top+=ay(l,!0),i}const ID=Z.memo(function(e){var t=e.children;return t},function(e,t){var i=t.shouldUpdate;return!i});var sy={width:0,height:0,overflow:"hidden",outline:"none"},LD=Ct.forwardRef(function(e,t){var i=e.prefixCls,a=e.className,l=e.style,p=e.title,y=e.ariaId,u=e.footer,E=e.closable,C=e.closeIcon,P=e.onClose,F=e.children,z=e.bodyStyle,X=e.bodyProps,K=e.modalRender,G=e.onMouseDown,ee=e.onMouseUp,O=e.holderRef,B=e.visible,W=e.forceRender,ne=e.width,pe=e.height,he=e.classNames,de=e.styles,Se=Ct.useContext(Ux),Te=Se.panel,Me=g_(O,Te),Be=Z.useRef(),He=Z.useRef();Ct.useImperativeHandle(t,function(){return{focus:function(){var Re;(Re=Be.current)===null||Re===void 0||Re.focus()},changeActive:function(Re){var Ve=document,Ze=Ve.activeElement;Re&&Ze===He.current?Be.current.focus():!Re&&Ze===Be.current&&He.current.focus()}}});var We={};ne!==void 0&&(We.width=ne),pe!==void 0&&(We.height=pe);var qe;u&&(qe=Ct.createElement("div",{className:wn("".concat(i,"-footer"),he==null?void 0:he.footer),style:Xe({},de==null?void 0:de.footer)},u));var Je;p&&(Je=Ct.createElement("div",{className:wn("".concat(i,"-header"),he==null?void 0:he.header),style:Xe({},de==null?void 0:de.header)},Ct.createElement("div",{className:"".concat(i,"-title"),id:y},p)));var Le;E&&(Le=Ct.createElement("button",{type:"button",onClick:P,"aria-label":"Close",className:"".concat(i,"-close")},C||Ct.createElement("span",{className:"".concat(i,"-close-x")})));var Ie=Ct.createElement("div",{className:wn("".concat(i,"-content"),he==null?void 0:he.content),style:de==null?void 0:de.content},Le,Je,Ct.createElement("div",zr({className:wn("".concat(i,"-body"),he==null?void 0:he.body),style:Xe(Xe({},z),de==null?void 0:de.body)},X),F),qe);return Ct.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":p?y:null,"aria-modal":"true",ref:Me,style:Xe(Xe({},l),We),className:wn(i,a),onMouseDown:G,onMouseUp:ee},Ct.createElement("div",{tabIndex:0,ref:Be,style:sy,"aria-hidden":"true"}),Ct.createElement(ID,{shouldUpdate:B||W},K?K(Ie):Ie),Ct.createElement("div",{tabIndex:0,ref:He,style:sy,"aria-hidden":"true"}))}),Hx=Z.forwardRef(function(e,t){var i=e.prefixCls,a=e.title,l=e.style,p=e.className,y=e.visible,u=e.forceRender,E=e.destroyOnClose,C=e.motionName,P=e.ariaId,F=e.onVisibleChanged,z=e.mousePosition,X=Z.useRef(),K=Z.useState(),G=Tt(K,2),ee=G[0],O=G[1],B={};ee&&(B.transformOrigin=ee);function W(){var ne=TD(X.current);O(z?"".concat(z.x-ne.left,"px ").concat(z.y-ne.top,"px"):"")}return Z.createElement(Vd,{visible:y,onVisibleChanged:F,onAppearPrepare:W,onEnterPrepare:W,forceRender:u,motionName:C,removeOnLeave:E,ref:X},function(ne,pe){var he=ne.className,de=ne.style;return Z.createElement(LD,zr({},e,{ref:t,title:a,ariaId:P,prefixCls:i,holderRef:pe,style:Xe(Xe(Xe({},de),l),B),className:wn(p,he)}))})});Hx.displayName="Content";function DD(e){var t=e.prefixCls,i=e.style,a=e.visible,l=e.maskProps,p=e.motionName,y=e.className;return Z.createElement(Vd,{key:"mask",visible:a,motionName:p,leavedClassName:"".concat(t,"-mask-hidden")},function(u,E){var C=u.className,P=u.style;return Z.createElement("div",zr({ref:E,style:Xe(Xe({},P),i),className:wn("".concat(t,"-mask"),C,y)},l))})}function RD(e){var t=e.prefixCls,i=t===void 0?"rc-dialog":t,a=e.zIndex,l=e.visible,p=l===void 0?!1:l,y=e.keyboard,u=y===void 0?!0:y,E=e.focusTriggerAfterClose,C=E===void 0?!0:E,P=e.wrapStyle,F=e.wrapClassName,z=e.wrapProps,X=e.onClose,K=e.afterOpenChange,G=e.afterClose,ee=e.transitionName,O=e.animation,B=e.closable,W=B===void 0?!0:B,ne=e.mask,pe=ne===void 0?!0:ne,he=e.maskTransitionName,de=e.maskAnimation,Se=e.maskClosable,Te=Se===void 0?!0:Se,Me=e.maskStyle,Be=e.maskProps,He=e.rootClassName,We=e.classNames,qe=e.styles,Je=Z.useRef(),Le=Z.useRef(),Ie=Z.useRef(),we=Z.useState(p),Re=Tt(we,2),Ve=Re[0],Ze=Re[1],at=PD();function ut(){N5(Le.current,document.activeElement)||(Je.current=document.activeElement)}function Pt(){if(!N5(Le.current,document.activeElement)){var nn;(nn=Ie.current)===null||nn===void 0||nn.focus()}}function Xt(nn){if(nn)Pt();else{if(Ze(!1),pe&&Je.current&&C){try{Je.current.focus({preventScroll:!0})}catch{}Je.current=null}Ve&&(G==null||G())}K==null||K(nn)}function qt(nn){X==null||X(nn)}var ln=Z.useRef(!1),er=Z.useRef(),tr=function(){clearTimeout(er.current),ln.current=!0},Nn=function(){er.current=setTimeout(function(){ln.current=!1})},nr=null;Te&&(nr=function(Kn){ln.current?ln.current=!1:Le.current===Kn.target&&qt(Kn)});function Mr(nn){if(u&&nn.keyCode===Dt.ESC){nn.stopPropagation(),qt(nn);return}p&&nn.keyCode===Dt.TAB&&Ie.current.changeActive(!nn.shiftKey)}return Z.useEffect(function(){p&&(Ze(!0),ut())},[p]),Z.useEffect(function(){return function(){clearTimeout(er.current)}},[]),Z.createElement("div",zr({className:wn("".concat(i,"-root"),He)},Px(e,{data:!0})),Z.createElement(DD,{prefixCls:i,visible:pe&&p,motionName:oy(i,he,de),style:Xe(Xe({zIndex:a},Me),qe==null?void 0:qe.mask),maskProps:Be,className:We==null?void 0:We.mask}),Z.createElement("div",zr({tabIndex:-1,onKeyDown:Mr,className:wn("".concat(i,"-wrap"),F,We==null?void 0:We.wrapper),ref:Le,onClick:nr,style:Xe(Xe(Xe({zIndex:a},P),qe==null?void 0:qe.wrapper),{},{display:Ve?null:"none"})},z),Z.createElement(Hx,zr({},e,{onMouseDown:tr,onMouseUp:Nn,ref:Ie,closable:W,ariaId:at,prefixCls:i,visible:p&&Ve,onClose:qt,onVisibleChanged:Xt,motionName:oy(i,ee,O)}))))}var Zx=function(t){var i=t.visible,a=t.getContainer,l=t.forceRender,p=t.destroyOnClose,y=p===void 0?!1:p,u=t.afterClose,E=t.panelRef,C=Z.useState(i),P=Tt(C,2),F=P[0],z=P[1],X=Z.useMemo(function(){return{panel:E}},[E]);return Z.useEffect(function(){i&&z(!0)},[i]),!l&&y&&!F?null:Z.createElement(Ux.Provider,{value:X},Z.createElement(kD,{open:i||l||F,autoDestroy:!1,getContainer:a,autoLock:i||F},Z.createElement(RD,zr({},t,{destroyOnClose:y,afterClose:function(){u==null||u(),z(!1)}}))))};Zx.displayName="Dialog";function zD(e,t,i){return typeof e=="boolean"?e:t===void 0?!!i:t!==!1&&t!==null}function FD(e,t,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ct.createElement(V2,null),l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(!zD(e,t,l))return[!1,null];const y=typeof t=="boolean"||t===void 0||t===null?a:t;return[!0,i?i(y):y]}const ND=()=>xi()&&window.document.documentElement;var Ml="RC_FORM_INTERNAL_HOOKS",bn=function(){ro(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},gu=Z.createContext({getFieldValue:bn,getFieldsValue:bn,getFieldError:bn,getFieldWarning:bn,getFieldsError:bn,isFieldsTouched:bn,isFieldTouched:bn,isFieldValidating:bn,isFieldsValidating:bn,resetFields:bn,setFields:bn,setFieldValue:bn,setFieldsValue:bn,validateFields:bn,submit:bn,getInternalHooks:function(){return bn(),{dispatch:bn,initEntityValue:bn,registerField:bn,useSubscribe:bn,setInitialValues:bn,destroyForm:bn,setCallbacks:bn,registerWatch:bn,getFields:bn,setValidateMessages:bn,setPreserve:bn,getInitialValue:bn}}}),L4=Z.createContext(null);function am(e){return e==null?[]:Array.isArray(e)?e:[e]}function OD(e){return e&&!!e._init}function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},El.apply(this,arguments)}function BD(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Dd(e,t)}function sm(e){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},sm(e)}function Dd(e,t){return Dd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,l){return a.__proto__=l,a},Dd(e,t)}function $D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xp(e,t,i){return $D()?Xp=Reflect.construct.bind():Xp=function(l,p,y){var u=[null];u.push.apply(u,p);var E=Function.bind.apply(l,u),C=new E;return y&&Dd(C,y.prototype),C},Xp.apply(null,arguments)}function jD(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function lm(e){var t=typeof Map=="function"?new Map:void 0;return lm=function(a){if(a===null||!jD(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(a))return t.get(a);t.set(a,l)}function l(){return Xp(a,arguments,sm(this).constructor)}return l.prototype=Object.create(a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),Dd(l,a)},lm(e)}var VD=/%[sdj%]/g,WD=function(){};function um(e){if(!e||!e.length)return null;var t={};return e.forEach(function(i){var a=i.field;t[a]=t[a]||[],t[a].push(i)}),t}function to(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];var l=0,p=i.length;if(typeof e=="function")return e.apply(null,i);if(typeof e=="string"){var y=e.replace(VD,function(u){if(u==="%%")return"%";if(l>=p)return u;switch(u){case"%s":return String(i[l++]);case"%d":return Number(i[l++]);case"%j":try{return JSON.stringify(i[l++])}catch{return"[Circular]"}break;default:return u}});return y}return e}function UD(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Cr(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||UD(t)&&typeof e=="string"&&!e)}function HD(e,t,i){var a=[],l=0,p=e.length;function y(u){a.push.apply(a,u||[]),l++,l===p&&i(a)}e.forEach(function(u){t(u,y)})}function ly(e,t,i){var a=0,l=e.length;function p(y){if(y&&y.length){i(y);return}var u=a;a=a+1,u<l?t(e[u],p):i([])}p([])}function ZD(e){var t=[];return Object.keys(e).forEach(function(i){t.push.apply(t,e[i]||[])}),t}var uy=function(e){BD(t,e);function t(i,a){var l;return l=e.call(this,"Async Validation Error")||this,l.errors=i,l.fields=a,l}return t}(lm(Error));function GD(e,t,i,a,l){if(t.first){var p=new Promise(function(z,X){var K=function(O){return a(O),O.length?X(new uy(O,um(O))):z(l)},G=ZD(e);ly(G,i,K)});return p.catch(function(z){return z}),p}var y=t.firstFields===!0?Object.keys(e):t.firstFields||[],u=Object.keys(e),E=u.length,C=0,P=[],F=new Promise(function(z,X){var K=function(ee){if(P.push.apply(P,ee),C++,C===E)return a(P),P.length?X(new uy(P,um(P))):z(l)};u.length||(a(P),z(l)),u.forEach(function(G){var ee=e[G];y.indexOf(G)!==-1?ly(ee,i,K):HD(ee,i,K)})});return F.catch(function(z){return z}),F}function qD(e){return!!(e&&e.message!==void 0)}function KD(e,t){for(var i=e,a=0;a<t.length;a++){if(i==null)return i;i=i[t[a]]}return i}function cy(e,t){return function(i){var a;return e.fullFields?a=KD(t,e.fullFields):a=t[i.field||e.fullField],qD(i)?(i.field=i.field||e.fullField,i.fieldValue=a,i):{message:typeof i=="function"?i():i,fieldValue:a,field:i.field||e.fullField}}}function dy(e,t){if(t){for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];typeof a=="object"&&typeof e[i]=="object"?e[i]=El({},e[i],a):e[i]=a}}return e}var Gx=function(t,i,a,l,p,y){t.required&&(!a.hasOwnProperty(t.field)||Cr(i,y||t.type))&&l.push(to(p.messages.required,t.fullField))},XD=function(t,i,a,l,p){(/^\s+$/.test(i)||i==="")&&l.push(to(p.messages.whitespace,t.fullField))},Ap,JD=function(){if(Ap)return Ap;var e="[a-fA-F\\d:]",t=function(ne){return ne&&ne.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},i="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",a="[a-fA-F\\d]{1,4}",l=(`
(?:
(?:`+a+":){7}(?:"+a+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+a+":){6}(?:"+i+"|:"+a+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+a+":){5}(?::"+i+"|(?::"+a+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+a+":){4}(?:(?::"+a+"){0,1}:"+i+"|(?::"+a+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+a+":){3}(?:(?::"+a+"){0,2}:"+i+"|(?::"+a+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+a+":){2}(?:(?::"+a+"){0,3}:"+i+"|(?::"+a+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+a+":){1}(?:(?::"+a+"){0,4}:"+i+"|(?::"+a+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+a+"){0,5}:"+i+"|(?::"+a+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),p=new RegExp("(?:^"+i+"$)|(?:^"+l+"$)"),y=new RegExp("^"+i+"$"),u=new RegExp("^"+l+"$"),E=function(ne){return ne&&ne.exact?p:new RegExp("(?:"+t(ne)+i+t(ne)+")|(?:"+t(ne)+l+t(ne)+")","g")};E.v4=function(W){return W&&W.exact?y:new RegExp(""+t(W)+i+t(W),"g")},E.v6=function(W){return W&&W.exact?u:new RegExp(""+t(W)+l+t(W),"g")};var C="(?:(?:[a-z]+:)?//)",P="(?:\\S+(?::\\S*)?@)?",F=E.v4().source,z=E.v6().source,X="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",K="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",G="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",ee="(?::\\d{2,5})?",O='(?:[/?#][^\\s"]*)?',B="(?:"+C+"|www\\.)"+P+"(?:localhost|"+F+"|"+z+"|"+X+K+G+")"+ee+O;return Ap=new RegExp("(?:^"+B+"$)","i"),Ap},hy={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Gc={integer:function(t){return Gc.number(t)&&parseInt(t,10)===t},float:function(t){return Gc.number(t)&&!Gc.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!Gc.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(hy.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(JD())},hex:function(t){return typeof t=="string"&&!!t.match(hy.hex)}},YD=function(t,i,a,l,p){if(t.required&&i===void 0){Gx(t,i,a,l,p);return}var y=["integer","float","array","regexp","object","method","email","number","date","url","hex"],u=t.type;y.indexOf(u)>-1?Gc[u](i)||l.push(to(p.messages.types[u],t.fullField,t.type)):u&&typeof i!==t.type&&l.push(to(p.messages.types[u],t.fullField,t.type))},QD=function(t,i,a,l,p){var y=typeof t.len=="number",u=typeof t.min=="number",E=typeof t.max=="number",C=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,P=i,F=null,z=typeof i=="number",X=typeof i=="string",K=Array.isArray(i);if(z?F="number":X?F="string":K&&(F="array"),!F)return!1;K&&(P=i.length),X&&(P=i.replace(C,"_").length),y?P!==t.len&&l.push(to(p.messages[F].len,t.fullField,t.len)):u&&!E&&P<t.min?l.push(to(p.messages[F].min,t.fullField,t.min)):E&&!u&&P>t.max?l.push(to(p.messages[F].max,t.fullField,t.max)):u&&E&&(P<t.min||P>t.max)&&l.push(to(p.messages[F].range,t.fullField,t.min,t.max))},L1="enum",eR=function(t,i,a,l,p){t[L1]=Array.isArray(t[L1])?t[L1]:[],t[L1].indexOf(i)===-1&&l.push(to(p.messages[L1],t.fullField,t[L1].join(", ")))},tR=function(t,i,a,l,p){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(i)||l.push(to(p.messages.pattern.mismatch,t.fullField,i,t.pattern));else if(typeof t.pattern=="string"){var y=new RegExp(t.pattern);y.test(i)||l.push(to(p.messages.pattern.mismatch,t.fullField,i,t.pattern))}}},Jt={required:Gx,whitespace:XD,type:YD,range:QD,enum:eR,pattern:tR},nR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i,"string")&&!t.required)return a();Jt.required(t,i,l,y,p,"string"),Cr(i,"string")||(Jt.type(t,i,l,y,p),Jt.range(t,i,l,y,p),Jt.pattern(t,i,l,y,p),t.whitespace===!0&&Jt.whitespace(t,i,l,y,p))}a(y)},rR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i)&&!t.required)return a();Jt.required(t,i,l,y,p),i!==void 0&&Jt.type(t,i,l,y,p)}a(y)},iR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(i===""&&(i=void 0),Cr(i)&&!t.required)return a();Jt.required(t,i,l,y,p),i!==void 0&&(Jt.type(t,i,l,y,p),Jt.range(t,i,l,y,p))}a(y)},oR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i)&&!t.required)return a();Jt.required(t,i,l,y,p),i!==void 0&&Jt.type(t,i,l,y,p)}a(y)},aR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i)&&!t.required)return a();Jt.required(t,i,l,y,p),Cr(i)||Jt.type(t,i,l,y,p)}a(y)},sR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i)&&!t.required)return a();Jt.required(t,i,l,y,p),i!==void 0&&(Jt.type(t,i,l,y,p),Jt.range(t,i,l,y,p))}a(y)},lR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i)&&!t.required)return a();Jt.required(t,i,l,y,p),i!==void 0&&(Jt.type(t,i,l,y,p),Jt.range(t,i,l,y,p))}a(y)},uR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(i==null&&!t.required)return a();Jt.required(t,i,l,y,p,"array"),i!=null&&(Jt.type(t,i,l,y,p),Jt.range(t,i,l,y,p))}a(y)},cR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i)&&!t.required)return a();Jt.required(t,i,l,y,p),i!==void 0&&Jt.type(t,i,l,y,p)}a(y)},dR="enum",hR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i)&&!t.required)return a();Jt.required(t,i,l,y,p),i!==void 0&&Jt[dR](t,i,l,y,p)}a(y)},pR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i,"string")&&!t.required)return a();Jt.required(t,i,l,y,p),Cr(i,"string")||Jt.pattern(t,i,l,y,p)}a(y)},fR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i,"date")&&!t.required)return a();if(Jt.required(t,i,l,y,p),!Cr(i,"date")){var E;i instanceof Date?E=i:E=new Date(i),Jt.type(t,E,l,y,p),E&&Jt.range(t,E.getTime(),l,y,p)}}a(y)},mR=function(t,i,a,l,p){var y=[],u=Array.isArray(i)?"array":typeof i;Jt.required(t,i,l,y,p,u),a(y)},P8=function(t,i,a,l,p){var y=t.type,u=[],E=t.required||!t.required&&l.hasOwnProperty(t.field);if(E){if(Cr(i,y)&&!t.required)return a();Jt.required(t,i,l,u,p,y),Cr(i,y)||Jt.type(t,i,l,u,p)}a(u)},gR=function(t,i,a,l,p){var y=[],u=t.required||!t.required&&l.hasOwnProperty(t.field);if(u){if(Cr(i)&&!t.required)return a();Jt.required(t,i,l,y,p)}a(y)},ad={string:nR,method:rR,number:iR,boolean:oR,regexp:aR,integer:sR,float:lR,array:uR,object:cR,enum:hR,pattern:pR,date:fR,url:P8,hex:P8,email:P8,required:mR,any:gR};function cm(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var dm=cm(),Ud=function(){function e(i){this.rules=null,this._messages=dm,this.define(i)}var t=e.prototype;return t.define=function(a){var l=this;if(!a)throw new Error("Cannot configure a schema with no rules");if(typeof a!="object"||Array.isArray(a))throw new Error("Rules must be an object");this.rules={},Object.keys(a).forEach(function(p){var y=a[p];l.rules[p]=Array.isArray(y)?y:[y]})},t.messages=function(a){return a&&(this._messages=dy(cm(),a)),this._messages},t.validate=function(a,l,p){var y=this;l===void 0&&(l={}),p===void 0&&(p=function(){});var u=a,E=l,C=p;if(typeof E=="function"&&(C=E,E={}),!this.rules||Object.keys(this.rules).length===0)return C&&C(null,u),Promise.resolve(u);function P(G){var ee=[],O={};function B(ne){if(Array.isArray(ne)){var pe;ee=(pe=ee).concat.apply(pe,ne)}else ee.push(ne)}for(var W=0;W<G.length;W++)B(G[W]);ee.length?(O=um(ee),C(ee,O)):C(null,u)}if(E.messages){var F=this.messages();F===dm&&(F=cm()),dy(F,E.messages),E.messages=F}else E.messages=this.messages();var z={},X=E.keys||Object.keys(this.rules);X.forEach(function(G){var ee=y.rules[G],O=u[G];ee.forEach(function(B){var W=B;typeof W.transform=="function"&&(u===a&&(u=El({},u)),O=u[G]=W.transform(O)),typeof W=="function"?W={validator:W}:W=El({},W),W.validator=y.getValidationMethod(W),W.validator&&(W.field=G,W.fullField=W.fullField||G,W.type=y.getType(W),z[G]=z[G]||[],z[G].push({rule:W,value:O,source:u,field:G}))})});var K={};return GD(z,E,function(G,ee){var O=G.rule,B=(O.type==="object"||O.type==="array")&&(typeof O.fields=="object"||typeof O.defaultField=="object");B=B&&(O.required||!O.required&&G.value),O.field=G.field;function W(he,de){return El({},de,{fullField:O.fullField+"."+he,fullFields:O.fullFields?[].concat(O.fullFields,[he]):[he]})}function ne(he){he===void 0&&(he=[]);var de=Array.isArray(he)?he:[he];!E.suppressWarning&&de.length&&e.warning("async-validator:",de),de.length&&O.message!==void 0&&(de=[].concat(O.message));var Se=de.map(cy(O,u));if(E.first&&Se.length)return K[O.field]=1,ee(Se);if(!B)ee(Se);else{if(O.required&&!G.value)return O.message!==void 0?Se=[].concat(O.message).map(cy(O,u)):E.error&&(Se=[E.error(O,to(E.messages.required,O.field))]),ee(Se);var Te={};O.defaultField&&Object.keys(G.value).map(function(He){Te[He]=O.defaultField}),Te=El({},Te,G.rule.fields);var Me={};Object.keys(Te).forEach(function(He){var We=Te[He],qe=Array.isArray(We)?We:[We];Me[He]=qe.map(W.bind(null,He))});var Be=new e(Me);Be.messages(E.messages),G.rule.options&&(G.rule.options.messages=E.messages,G.rule.options.error=E.error),Be.validate(G.value,G.rule.options||E,function(He){var We=[];Se&&Se.length&&We.push.apply(We,Se),He&&He.length&&We.push.apply(We,He),ee(We.length?We:null)})}}var pe;if(O.asyncValidator)pe=O.asyncValidator(O,G.value,ne,G.source,E);else if(O.validator){try{pe=O.validator(O,G.value,ne,G.source,E)}catch(he){console.error==null||console.error(he),E.suppressValidatorError||setTimeout(function(){throw he},0),ne(he.message)}pe===!0?ne():pe===!1?ne(typeof O.message=="function"?O.message(O.fullField||O.field):O.message||(O.fullField||O.field)+" fails"):pe instanceof Array?ne(pe):pe instanceof Error&&ne(pe.message)}pe&&pe.then&&pe.then(function(){return ne()},function(he){return ne(he)})},function(G){P(G)},u)},t.getType=function(a){if(a.type===void 0&&a.pattern instanceof RegExp&&(a.type="pattern"),typeof a.validator!="function"&&a.type&&!ad.hasOwnProperty(a.type))throw new Error(to("Unknown rule type %s",a.type));return a.type||"string"},t.getValidationMethod=function(a){if(typeof a.validator=="function")return a.validator;var l=Object.keys(a),p=l.indexOf("message");return p!==-1&&l.splice(p,1),l.length===1&&l[0]==="required"?ad.required:ad[this.getType(a)]||void 0},e}();Ud.register=function(t,i){if(typeof i!="function")throw new Error("Cannot register a validator by type, validator is not a function");ad[t]=i};Ud.warning=WD;Ud.messages=dm;Ud.validators=ad;var qi="'${name}' is not a valid ${type}",qx={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:qi,method:qi,array:qi,object:qi,number:qi,date:qi,boolean:qi,integer:qi,float:qi,regexp:qi,email:qi,url:qi,hex:qi},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},py=Ud;function yR(e,t){return e.replace(/\$\{\w+\}/g,function(i){var a=i.slice(2,-1);return t[a]})}var fy="CODE_LOGIC_ERROR";function hm(e,t,i,a,l){return pm.apply(this,arguments)}function pm(){return pm=Wl(bi().mark(function e(t,i,a,l,p){var y,u,E,C,P,F,z,X,K;return bi().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return y=Xe({},a),delete y.ruleIndex,py.warning=function(){},y.validator&&(u=y.validator,y.validator=function(){try{return u.apply(void 0,arguments)}catch(O){return console.error(O),Promise.reject(fy)}}),E=null,y&&y.type==="array"&&y.defaultField&&(E=y.defaultField,delete y.defaultField),C=new py(Fe({},t,[y])),P=G1(qx,l.validateMessages),C.messages(P),F=[],ee.prev=10,ee.next=13,Promise.resolve(C.validate(Fe({},t,i),Xe({},l)));case 13:ee.next=18;break;case 15:ee.prev=15,ee.t0=ee.catch(10),ee.t0.errors&&(F=ee.t0.errors.map(function(O,B){var W=O.message,ne=W===fy?P.default:W;return Z.isValidElement(ne)?Z.cloneElement(ne,{key:"error_".concat(B)}):ne}));case 18:if(!(!F.length&&E)){ee.next=23;break}return ee.next=21,Promise.all(i.map(function(O,B){return hm("".concat(t,".").concat(B),O,E,l,p)}));case 21:return z=ee.sent,ee.abrupt("return",z.reduce(function(O,B){return[].concat(Vt(O),Vt(B))},[]));case 23:return X=Xe(Xe({},a),{},{name:t,enum:(a.enum||[]).join(", ")},p),K=F.map(function(O){return typeof O=="string"?yR(O,X):O}),ee.abrupt("return",K);case 26:case"end":return ee.stop()}},e,null,[[10,15]])})),pm.apply(this,arguments)}function vR(e,t,i,a,l,p){var y=e.join("."),u=i.map(function(P,F){var z=P.validator,X=Xe(Xe({},P),{},{ruleIndex:F});return z&&(X.validator=function(K,G,ee){var O=!1,B=function(){for(var pe=arguments.length,he=new Array(pe),de=0;de<pe;de++)he[de]=arguments[de];Promise.resolve().then(function(){ro(!O,"Your validator function has already return a promise. `callback` will be ignored."),O||ee.apply(void 0,he)})},W=z(K,G,B);O=W&&typeof W.then=="function"&&typeof W.catch=="function",ro(O,"`callback` is deprecated. Please return a promise instead."),O&&W.then(function(){ee()}).catch(function(ne){ee(ne||" ")})}),X}).sort(function(P,F){var z=P.warningOnly,X=P.ruleIndex,K=F.warningOnly,G=F.ruleIndex;return!!z==!!K?X-G:z?1:-1}),E;if(l===!0)E=new Promise(function(){var P=Wl(bi().mark(function F(z,X){var K,G,ee;return bi().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:K=0;case 1:if(!(K<u.length)){B.next=12;break}return G=u[K],B.next=5,hm(y,t,G,a,p);case 5:if(ee=B.sent,!ee.length){B.next=9;break}return X([{errors:ee,rule:G}]),B.abrupt("return");case 9:K+=1,B.next=1;break;case 12:z([]);case 13:case"end":return B.stop()}},F)}));return function(F,z){return P.apply(this,arguments)}}());else{var C=u.map(function(P){return hm(y,t,P,a,p).then(function(F){return{errors:F,rule:P}})});E=(l?xR(C):_R(C)).then(function(P){return Promise.reject(P)})}return E.catch(function(P){return P}),E}function _R(e){return fm.apply(this,arguments)}function fm(){return fm=Wl(bi().mark(function e(t){return bi().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Promise.all(t).then(function(l){var p,y=(p=[]).concat.apply(p,Vt(l));return y}));case 1:case"end":return a.stop()}},e)})),fm.apply(this,arguments)}function xR(e){return mm.apply(this,arguments)}function mm(){return mm=Wl(bi().mark(function e(t){var i;return bi().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=0,l.abrupt("return",new Promise(function(p){t.forEach(function(y){y.then(function(u){u.errors.length&&p([u]),i+=1,i===t.length&&p([])})})}));case 2:case"end":return l.stop()}},e)})),mm.apply(this,arguments)}function hr(e){return am(e)}function my(e,t){var i={};return t.forEach(function(a){var l=ga(e,a);i=Zo(i,a,l)}),i}function ru(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e&&e.some(function(a){return Kx(t,a,i)})}function Kx(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!e||!t||!i&&e.length!==t.length?!1:t.every(function(a,l){return e[l]===a})}function bR(e,t){if(e===t)return!0;if(!e&&t||e&&!t||!e||!t||Sn(e)!=="object"||Sn(t)!=="object")return!1;var i=Object.keys(e),a=Object.keys(t),l=new Set([].concat(i,a));return Vt(l).every(function(p){var y=e[p],u=t[p];return typeof y=="function"&&typeof u=="function"?!0:y===u})}function wR(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&Sn(t.target)==="object"&&e in t.target?t.target[e]:t}function gy(e,t,i){var a=e.length;if(t<0||t>=a||i<0||i>=a)return e;var l=e[t],p=t-i;return p>0?[].concat(Vt(e.slice(0,i)),[l],Vt(e.slice(i,t)),Vt(e.slice(t+1,a))):p<0?[].concat(Vt(e.slice(0,t)),Vt(e.slice(t+1,i+1)),[l],Vt(e.slice(i+1,a))):e}var SR=["name"],_o=[];function yy(e,t,i,a,l,p){return typeof e=="function"?e(t,i,"source"in p?{source:p.source}:{}):a!==l}var K2=function(e){jd(i,e);var t=E2(i);function i(a){var l;if(Ao(this,i),l=t.call(this,a),Fe(on(l),"state",{resetCount:0}),Fe(on(l),"cancelRegisterFunc",null),Fe(on(l),"mounted",!1),Fe(on(l),"touched",!1),Fe(on(l),"dirty",!1),Fe(on(l),"validatePromise",void 0),Fe(on(l),"prevValidating",void 0),Fe(on(l),"errors",_o),Fe(on(l),"warnings",_o),Fe(on(l),"cancelRegister",function(){var E=l.props,C=E.preserve,P=E.isListField,F=E.name;l.cancelRegisterFunc&&l.cancelRegisterFunc(P,C,hr(F)),l.cancelRegisterFunc=null}),Fe(on(l),"getNamePath",function(){var E=l.props,C=E.name,P=E.fieldContext,F=P.prefixName,z=F===void 0?[]:F;return C!==void 0?[].concat(Vt(z),Vt(C)):[]}),Fe(on(l),"getRules",function(){var E=l.props,C=E.rules,P=C===void 0?[]:C,F=E.fieldContext;return P.map(function(z){return typeof z=="function"?z(F):z})}),Fe(on(l),"refresh",function(){l.mounted&&l.setState(function(E){var C=E.resetCount;return{resetCount:C+1}})}),Fe(on(l),"metaCache",null),Fe(on(l),"triggerMetaEvent",function(E){var C=l.props.onMetaChange;if(C){var P=Xe(Xe({},l.getMeta()),{},{destroy:E});k_(l.metaCache,P)||C(P),l.metaCache=P}else l.metaCache=null}),Fe(on(l),"onStoreChange",function(E,C,P){var F=l.props,z=F.shouldUpdate,X=F.dependencies,K=X===void 0?[]:X,G=F.onReset,ee=P.store,O=l.getNamePath(),B=l.getValue(E),W=l.getValue(ee),ne=C&&ru(C,O);switch(P.type==="valueUpdate"&&P.source==="external"&&B!==W&&(l.touched=!0,l.dirty=!0,l.validatePromise=null,l.errors=_o,l.warnings=_o,l.triggerMetaEvent()),P.type){case"reset":if(!C||ne){l.touched=!1,l.dirty=!1,l.validatePromise=void 0,l.errors=_o,l.warnings=_o,l.triggerMetaEvent(),G==null||G(),l.refresh();return}break;case"remove":{if(z){l.reRender();return}break}case"setField":{var pe=P.data;if(ne){"touched"in pe&&(l.touched=pe.touched),"validating"in pe&&!("originRCField"in pe)&&(l.validatePromise=pe.validating?Promise.resolve([]):null),"errors"in pe&&(l.errors=pe.errors||_o),"warnings"in pe&&(l.warnings=pe.warnings||_o),l.dirty=!0,l.triggerMetaEvent(),l.reRender();return}else if("value"in pe&&ru(C,O,!0)){l.reRender();return}if(z&&!O.length&&yy(z,E,ee,B,W,P)){l.reRender();return}break}case"dependenciesUpdate":{var he=K.map(hr);if(he.some(function(de){return ru(P.relatedFields,de)})){l.reRender();return}break}default:if(ne||(!K.length||O.length||z)&&yy(z,E,ee,B,W,P)){l.reRender();return}break}z===!0&&l.reRender()}),Fe(on(l),"validateRules",function(E){var C=l.getNamePath(),P=l.getValue(),F=E||{},z=F.triggerName,X=F.validateOnly,K=X===void 0?!1:X,G=Promise.resolve().then(Wl(bi().mark(function ee(){var O,B,W,ne,pe,he,de;return bi().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:if(l.mounted){Te.next=2;break}return Te.abrupt("return",[]);case 2:if(O=l.props,B=O.validateFirst,W=B===void 0?!1:B,ne=O.messageVariables,pe=O.validateDebounce,he=l.getRules(),z&&(he=he.filter(function(Me){return Me}).filter(function(Me){var Be=Me.validateTrigger;if(!Be)return!0;var He=am(Be);return He.includes(z)})),!(pe&&z)){Te.next=10;break}return Te.next=8,new Promise(function(Me){setTimeout(Me,pe)});case 8:if(l.validatePromise===G){Te.next=10;break}return Te.abrupt("return",[]);case 10:return de=vR(C,P,he,E,W,ne),de.catch(function(Me){return Me}).then(function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_o;if(l.validatePromise===G){var Be;l.validatePromise=null;var He=[],We=[];(Be=Me.forEach)===null||Be===void 0||Be.call(Me,function(qe){var Je=qe.rule.warningOnly,Le=qe.errors,Ie=Le===void 0?_o:Le;Je?We.push.apply(We,Vt(Ie)):He.push.apply(He,Vt(Ie))}),l.errors=He,l.warnings=We,l.triggerMetaEvent(),l.reRender()}}),Te.abrupt("return",de);case 13:case"end":return Te.stop()}},ee)})));return K||(l.validatePromise=G,l.dirty=!0,l.errors=_o,l.warnings=_o,l.triggerMetaEvent(),l.reRender()),G}),Fe(on(l),"isFieldValidating",function(){return!!l.validatePromise}),Fe(on(l),"isFieldTouched",function(){return l.touched}),Fe(on(l),"isFieldDirty",function(){if(l.dirty||l.props.initialValue!==void 0)return!0;var E=l.props.fieldContext,C=E.getInternalHooks(Ml),P=C.getInitialValue;return P(l.getNamePath())!==void 0}),Fe(on(l),"getErrors",function(){return l.errors}),Fe(on(l),"getWarnings",function(){return l.warnings}),Fe(on(l),"isListField",function(){return l.props.isListField}),Fe(on(l),"isList",function(){return l.props.isList}),Fe(on(l),"isPreserve",function(){return l.props.preserve}),Fe(on(l),"getMeta",function(){l.prevValidating=l.isFieldValidating();var E={touched:l.isFieldTouched(),validating:l.prevValidating,errors:l.errors,warnings:l.warnings,name:l.getNamePath(),validated:l.validatePromise===null};return E}),Fe(on(l),"getOnlyChild",function(E){if(typeof E=="function"){var C=l.getMeta();return Xe(Xe({},l.getOnlyChild(E(l.getControlled(),C,l.props.fieldContext))),{},{isFunction:!0})}var P=D5(E);return P.length!==1||!Z.isValidElement(P[0])?{child:P,isFunction:!1}:{child:P[0],isFunction:!1}}),Fe(on(l),"getValue",function(E){var C=l.props.fieldContext.getFieldsValue,P=l.getNamePath();return ga(E||C(!0),P)}),Fe(on(l),"getControlled",function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=l.props,P=C.trigger,F=C.validateTrigger,z=C.getValueFromEvent,X=C.normalize,K=C.valuePropName,G=C.getValueProps,ee=C.fieldContext,O=F!==void 0?F:ee.validateTrigger,B=l.getNamePath(),W=ee.getInternalHooks,ne=ee.getFieldsValue,pe=W(Ml),he=pe.dispatch,de=l.getValue(),Se=G||function(He){return Fe({},K,He)},Te=E[P],Me=Xe(Xe({},E),Se(de));Me[P]=function(){l.touched=!0,l.dirty=!0,l.triggerMetaEvent();for(var He,We=arguments.length,qe=new Array(We),Je=0;Je<We;Je++)qe[Je]=arguments[Je];z?He=z.apply(void 0,qe):He=wR.apply(void 0,[K].concat(qe)),X&&(He=X(He,de,ne(!0))),he({type:"updateValue",namePath:B,value:He}),Te&&Te.apply(void 0,qe)};var Be=am(O||[]);return Be.forEach(function(He){var We=Me[He];Me[He]=function(){We&&We.apply(void 0,arguments);var qe=l.props.rules;qe&&qe.length&&he({type:"validateField",namePath:B,triggerName:He})}}),Me}),a.fieldContext){var p=a.fieldContext.getInternalHooks,y=p(Ml),u=y.initEntityValue;u(on(l))}return l}return Po(i,[{key:"componentDidMount",value:function(){var l=this.props,p=l.shouldUpdate,y=l.fieldContext;if(this.mounted=!0,y){var u=y.getInternalHooks,E=u(Ml),C=E.registerField;this.cancelRegisterFunc=C(this)}p===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var l=this.state.resetCount,p=this.props.children,y=this.getOnlyChild(p),u=y.child,E=y.isFunction,C;return E?C=u:Z.isValidElement(u)?C=Z.cloneElement(u,this.getControlled(u.props)):(ro(!u,"`children` of Field is not validate ReactElement."),C=u),Z.createElement(Z.Fragment,{key:l},C)}}]),i}(Z.Component);Fe(K2,"contextType",gu);Fe(K2,"defaultProps",{trigger:"onChange",valuePropName:"value"});function Xx(e){var t=e.name,i=qa(e,SR),a=Z.useContext(gu),l=Z.useContext(L4),p=t!==void 0?hr(t):void 0,y="keep";return i.isListField||(y="_".concat((p||[]).join("_"))),Z.createElement(K2,zr({key:y,name:p,isListField:!!l},i,{fieldContext:a}))}function CR(e){var t=e.name,i=e.initialValue,a=e.children,l=e.rules,p=e.validateTrigger,y=e.isListField,u=Z.useContext(gu),E=Z.useContext(L4),C=Z.useRef({keys:[],id:0}),P=C.current,F=Z.useMemo(function(){var G=hr(u.prefixName)||[];return[].concat(Vt(G),Vt(hr(t)))},[u.prefixName,t]),z=Z.useMemo(function(){return Xe(Xe({},u),{},{prefixName:F})},[u,F]),X=Z.useMemo(function(){return{getKey:function(ee){var O=F.length,B=ee[O];return[P.keys[B],ee.slice(O+1)]}}},[F]);if(typeof a!="function")return ro(!1,"Form.List only accepts function as children."),null;var K=function(ee,O,B){var W=B.source;return W==="internal"?!1:ee!==O};return Z.createElement(L4.Provider,{value:X},Z.createElement(gu.Provider,{value:z},Z.createElement(Xx,{name:[],shouldUpdate:K,rules:l,validateTrigger:p,initialValue:i,isList:!0,isListField:y??!!E},function(G,ee){var O=G.value,B=O===void 0?[]:O,W=G.onChange,ne=u.getFieldValue,pe=function(){var Te=ne(F||[]);return Te||[]},he={add:function(Te,Me){var Be=pe();Me>=0&&Me<=Be.length?(P.keys=[].concat(Vt(P.keys.slice(0,Me)),[P.id],Vt(P.keys.slice(Me))),W([].concat(Vt(Be.slice(0,Me)),[Te],Vt(Be.slice(Me))))):(P.keys=[].concat(Vt(P.keys),[P.id]),W([].concat(Vt(Be),[Te]))),P.id+=1},remove:function(Te){var Me=pe(),Be=new Set(Array.isArray(Te)?Te:[Te]);Be.size<=0||(P.keys=P.keys.filter(function(He,We){return!Be.has(We)}),W(Me.filter(function(He,We){return!Be.has(We)})))},move:function(Te,Me){if(Te!==Me){var Be=pe();Te<0||Te>=Be.length||Me<0||Me>=Be.length||(P.keys=gy(P.keys,Te,Me),W(gy(Be,Te,Me)))}}},de=B||[];return Array.isArray(de)||(de=[]),a(de.map(function(Se,Te){var Me=P.keys[Te];return Me===void 0&&(P.keys[Te]=P.id,Me=P.keys[Te],P.id+=1),{name:Te,key:Me,isListField:!0}}),he,ee)})))}function MR(e){var t=!1,i=e.length,a=[];return e.length?new Promise(function(l,p){e.forEach(function(y,u){y.catch(function(E){return t=!0,E}).then(function(E){i-=1,a[u]=E,!(i>0)&&(t&&p(a),l(a))})})}):Promise.resolve([])}var Jx="__@field_split__";function T8(e){return e.map(function(t){return"".concat(Sn(t),":").concat(t)}).join(Jx)}var D1=function(){function e(){Ao(this,e),Fe(this,"kvs",new Map)}return Po(e,[{key:"set",value:function(i,a){this.kvs.set(T8(i),a)}},{key:"get",value:function(i){return this.kvs.get(T8(i))}},{key:"update",value:function(i,a){var l=this.get(i),p=a(l);p?this.set(i,p):this.delete(i)}},{key:"delete",value:function(i){this.kvs.delete(T8(i))}},{key:"map",value:function(i){return Vt(this.kvs.entries()).map(function(a){var l=Tt(a,2),p=l[0],y=l[1],u=p.split(Jx);return i({key:u.map(function(E){var C=E.match(/^([^:]*):(.*)$/),P=Tt(C,3),F=P[1],z=P[2];return F==="number"?Number(z):z}),value:y})})}},{key:"toJSON",value:function(){var i={};return this.map(function(a){var l=a.key,p=a.value;return i[l.join(".")]=p,null}),i}}]),e}(),ER=["name"],kR=Po(function e(t){var i=this;Ao(this,e),Fe(this,"formHooked",!1),Fe(this,"forceRootUpdate",void 0),Fe(this,"subscribable",!0),Fe(this,"store",{}),Fe(this,"fieldEntities",[]),Fe(this,"initialValues",{}),Fe(this,"callbacks",{}),Fe(this,"validateMessages",null),Fe(this,"preserve",null),Fe(this,"lastValidatePromise",null),Fe(this,"getForm",function(){return{getFieldValue:i.getFieldValue,getFieldsValue:i.getFieldsValue,getFieldError:i.getFieldError,getFieldWarning:i.getFieldWarning,getFieldsError:i.getFieldsError,isFieldsTouched:i.isFieldsTouched,isFieldTouched:i.isFieldTouched,isFieldValidating:i.isFieldValidating,isFieldsValidating:i.isFieldsValidating,resetFields:i.resetFields,setFields:i.setFields,setFieldValue:i.setFieldValue,setFieldsValue:i.setFieldsValue,validateFields:i.validateFields,submit:i.submit,_init:!0,getInternalHooks:i.getInternalHooks}}),Fe(this,"getInternalHooks",function(a){return a===Ml?(i.formHooked=!0,{dispatch:i.dispatch,initEntityValue:i.initEntityValue,registerField:i.registerField,useSubscribe:i.useSubscribe,setInitialValues:i.setInitialValues,destroyForm:i.destroyForm,setCallbacks:i.setCallbacks,setValidateMessages:i.setValidateMessages,getFields:i.getFields,setPreserve:i.setPreserve,getInitialValue:i.getInitialValue,registerWatch:i.registerWatch}):(ro(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),Fe(this,"useSubscribe",function(a){i.subscribable=a}),Fe(this,"prevWithoutPreserves",null),Fe(this,"setInitialValues",function(a,l){if(i.initialValues=a||{},l){var p,y=G1(a,i.store);(p=i.prevWithoutPreserves)===null||p===void 0||p.map(function(u){var E=u.key;y=Zo(y,E,ga(a,E))}),i.prevWithoutPreserves=null,i.updateStore(y)}}),Fe(this,"destroyForm",function(){var a=new D1;i.getFieldEntities(!0).forEach(function(l){i.isMergedPreserve(l.isPreserve())||a.set(l.getNamePath(),!0)}),i.prevWithoutPreserves=a}),Fe(this,"getInitialValue",function(a){var l=ga(i.initialValues,a);return a.length?G1(l):l}),Fe(this,"setCallbacks",function(a){i.callbacks=a}),Fe(this,"setValidateMessages",function(a){i.validateMessages=a}),Fe(this,"setPreserve",function(a){i.preserve=a}),Fe(this,"watchList",[]),Fe(this,"registerWatch",function(a){return i.watchList.push(a),function(){i.watchList=i.watchList.filter(function(l){return l!==a})}}),Fe(this,"notifyWatch",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(i.watchList.length){var l=i.getFieldsValue(),p=i.getFieldsValue(!0);i.watchList.forEach(function(y){y(l,p,a)})}}),Fe(this,"timeoutId",null),Fe(this,"warningUnhooked",function(){}),Fe(this,"updateStore",function(a){i.store=a}),Fe(this,"getFieldEntities",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return a?i.fieldEntities.filter(function(l){return l.getNamePath().length}):i.fieldEntities}),Fe(this,"getFieldsMap",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,l=new D1;return i.getFieldEntities(a).forEach(function(p){var y=p.getNamePath();l.set(y,p)}),l}),Fe(this,"getFieldEntitiesForNamePathList",function(a){if(!a)return i.getFieldEntities(!0);var l=i.getFieldsMap(!0);return a.map(function(p){var y=hr(p);return l.get(y)||{INVALIDATE_NAME_PATH:hr(p)}})}),Fe(this,"getFieldsValue",function(a,l){i.warningUnhooked();var p,y,u;if(a===!0||Array.isArray(a)?(p=a,y=l):a&&Sn(a)==="object"&&(u=a.strict,y=a.filter),p===!0&&!y)return i.store;var E=i.getFieldEntitiesForNamePathList(Array.isArray(p)?p:null),C=[];return E.forEach(function(P){var F,z,X="INVALIDATE_NAME_PATH"in P?P.INVALIDATE_NAME_PATH:P.getNamePath();if(u){var K,G;if((K=(G=P).isList)!==null&&K!==void 0&&K.call(G))return}else if(!p&&(F=(z=P).isListField)!==null&&F!==void 0&&F.call(z))return;if(!y)C.push(X);else{var ee="getMeta"in P?P.getMeta():null;y(ee)&&C.push(X)}}),my(i.store,C.map(hr))}),Fe(this,"getFieldValue",function(a){i.warningUnhooked();var l=hr(a);return ga(i.store,l)}),Fe(this,"getFieldsError",function(a){i.warningUnhooked();var l=i.getFieldEntitiesForNamePathList(a);return l.map(function(p,y){return p&&!("INVALIDATE_NAME_PATH"in p)?{name:p.getNamePath(),errors:p.getErrors(),warnings:p.getWarnings()}:{name:hr(a[y]),errors:[],warnings:[]}})}),Fe(this,"getFieldError",function(a){i.warningUnhooked();var l=hr(a),p=i.getFieldsError([l])[0];return p.errors}),Fe(this,"getFieldWarning",function(a){i.warningUnhooked();var l=hr(a),p=i.getFieldsError([l])[0];return p.warnings}),Fe(this,"isFieldsTouched",function(){i.warningUnhooked();for(var a=arguments.length,l=new Array(a),p=0;p<a;p++)l[p]=arguments[p];var y=l[0],u=l[1],E,C=!1;l.length===0?E=null:l.length===1?Array.isArray(y)?(E=y.map(hr),C=!1):(E=null,C=y):(E=y.map(hr),C=u);var P=i.getFieldEntities(!0),F=function(ee){return ee.isFieldTouched()};if(!E)return C?P.every(F):P.some(F);var z=new D1;E.forEach(function(G){z.set(G,[])}),P.forEach(function(G){var ee=G.getNamePath();E.forEach(function(O){O.every(function(B,W){return ee[W]===B})&&z.update(O,function(B){return[].concat(Vt(B),[G])})})});var X=function(ee){return ee.some(F)},K=z.map(function(G){var ee=G.value;return ee});return C?K.every(X):K.some(X)}),Fe(this,"isFieldTouched",function(a){return i.warningUnhooked(),i.isFieldsTouched([a])}),Fe(this,"isFieldsValidating",function(a){i.warningUnhooked();var l=i.getFieldEntities();if(!a)return l.some(function(y){return y.isFieldValidating()});var p=a.map(hr);return l.some(function(y){var u=y.getNamePath();return ru(p,u)&&y.isFieldValidating()})}),Fe(this,"isFieldValidating",function(a){return i.warningUnhooked(),i.isFieldsValidating([a])}),Fe(this,"resetWithFieldInitialValue",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=new D1,p=i.getFieldEntities(!0);p.forEach(function(E){var C=E.props.initialValue,P=E.getNamePath();if(C!==void 0){var F=l.get(P)||new Set;F.add({entity:E,value:C}),l.set(P,F)}});var y=function(C){C.forEach(function(P){var F=P.props.initialValue;if(F!==void 0){var z=P.getNamePath(),X=i.getInitialValue(z);if(X!==void 0)ro(!1,"Form already set 'initialValues' with path '".concat(z.join("."),"'. Field can not overwrite it."));else{var K=l.get(z);if(K&&K.size>1)ro(!1,"Multiple Field with path '".concat(z.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(K){var G=i.getFieldValue(z),ee=P.isListField();!ee&&(!a.skipExist||G===void 0)&&i.updateStore(Zo(i.store,z,Vt(K)[0].value))}}}})},u;a.entities?u=a.entities:a.namePathList?(u=[],a.namePathList.forEach(function(E){var C=l.get(E);if(C){var P;(P=u).push.apply(P,Vt(Vt(C).map(function(F){return F.entity})))}})):u=p,y(u)}),Fe(this,"resetFields",function(a){i.warningUnhooked();var l=i.store;if(!a){i.updateStore(G1(i.initialValues)),i.resetWithFieldInitialValue(),i.notifyObservers(l,null,{type:"reset"}),i.notifyWatch();return}var p=a.map(hr);p.forEach(function(y){var u=i.getInitialValue(y);i.updateStore(Zo(i.store,y,u))}),i.resetWithFieldInitialValue({namePathList:p}),i.notifyObservers(l,p,{type:"reset"}),i.notifyWatch(p)}),Fe(this,"setFields",function(a){i.warningUnhooked();var l=i.store,p=[];a.forEach(function(y){var u=y.name,E=qa(y,ER),C=hr(u);p.push(C),"value"in E&&i.updateStore(Zo(i.store,C,E.value)),i.notifyObservers(l,[C],{type:"setField",data:y})}),i.notifyWatch(p)}),Fe(this,"getFields",function(){var a=i.getFieldEntities(!0),l=a.map(function(p){var y=p.getNamePath(),u=p.getMeta(),E=Xe(Xe({},u),{},{name:y,value:i.getFieldValue(y)});return Object.defineProperty(E,"originRCField",{value:!0}),E});return l}),Fe(this,"initEntityValue",function(a){var l=a.props.initialValue;if(l!==void 0){var p=a.getNamePath(),y=ga(i.store,p);y===void 0&&i.updateStore(Zo(i.store,p,l))}}),Fe(this,"isMergedPreserve",function(a){var l=a!==void 0?a:i.preserve;return l??!0}),Fe(this,"registerField",function(a){i.fieldEntities.push(a);var l=a.getNamePath();if(i.notifyWatch([l]),a.props.initialValue!==void 0){var p=i.store;i.resetWithFieldInitialValue({entities:[a],skipExist:!0}),i.notifyObservers(p,[a.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(y,u){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(i.fieldEntities=i.fieldEntities.filter(function(F){return F!==a}),!i.isMergedPreserve(u)&&(!y||E.length>1)){var C=y?void 0:i.getInitialValue(l);if(l.length&&i.getFieldValue(l)!==C&&i.fieldEntities.every(function(F){return!Kx(F.getNamePath(),l)})){var P=i.store;i.updateStore(Zo(P,l,C,!0)),i.notifyObservers(P,[l],{type:"remove"}),i.triggerDependenciesUpdate(P,l)}}i.notifyWatch([l])}}),Fe(this,"dispatch",function(a){switch(a.type){case"updateValue":{var l=a.namePath,p=a.value;i.updateValue(l,p);break}case"validateField":{var y=a.namePath,u=a.triggerName;i.validateFields([y],{triggerName:u});break}}}),Fe(this,"notifyObservers",function(a,l,p){if(i.subscribable){var y=Xe(Xe({},p),{},{store:i.getFieldsValue(!0)});i.getFieldEntities().forEach(function(u){var E=u.onStoreChange;E(a,l,y)})}else i.forceRootUpdate()}),Fe(this,"triggerDependenciesUpdate",function(a,l){var p=i.getDependencyChildrenFields(l);return p.length&&i.validateFields(p),i.notifyObservers(a,p,{type:"dependenciesUpdate",relatedFields:[l].concat(Vt(p))}),p}),Fe(this,"updateValue",function(a,l){var p=hr(a),y=i.store;i.updateStore(Zo(i.store,p,l)),i.notifyObservers(y,[p],{type:"valueUpdate",source:"internal"}),i.notifyWatch([p]);var u=i.triggerDependenciesUpdate(y,p),E=i.callbacks.onValuesChange;if(E){var C=my(i.store,[p]);E(C,i.getFieldsValue())}i.triggerOnFieldsChange([p].concat(Vt(u)))}),Fe(this,"setFieldsValue",function(a){i.warningUnhooked();var l=i.store;if(a){var p=G1(i.store,a);i.updateStore(p)}i.notifyObservers(l,null,{type:"valueUpdate",source:"external"}),i.notifyWatch()}),Fe(this,"setFieldValue",function(a,l){i.setFields([{name:a,value:l}])}),Fe(this,"getDependencyChildrenFields",function(a){var l=new Set,p=[],y=new D1;i.getFieldEntities().forEach(function(E){var C=E.props.dependencies;(C||[]).forEach(function(P){var F=hr(P);y.update(F,function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return z.add(E),z})})});var u=function E(C){var P=y.get(C)||new Set;P.forEach(function(F){if(!l.has(F)){l.add(F);var z=F.getNamePath();F.isFieldDirty()&&z.length&&(p.push(z),E(z))}})};return u(a),p}),Fe(this,"triggerOnFieldsChange",function(a,l){var p=i.callbacks.onFieldsChange;if(p){var y=i.getFields();if(l){var u=new D1;l.forEach(function(C){var P=C.name,F=C.errors;u.set(P,F)}),y.forEach(function(C){C.errors=u.get(C.name)||C.errors})}var E=y.filter(function(C){var P=C.name;return ru(a,P)});E.length&&p(E,y)}}),Fe(this,"validateFields",function(a,l){i.warningUnhooked();var p,y;Array.isArray(a)||typeof a=="string"||typeof l=="string"?(p=a,y=l):y=a;var u=!!p,E=u?p.map(hr):[],C=[],P=String(Date.now()),F=new Set,z=y||{},X=z.recursive,K=z.dirty;i.getFieldEntities(!0).forEach(function(B){if(u||E.push(B.getNamePath()),!(!B.props.rules||!B.props.rules.length)&&!(K&&!B.isFieldDirty())){var W=B.getNamePath();if(F.add(W.join(P)),!u||ru(E,W,X)){var ne=B.validateRules(Xe({validateMessages:Xe(Xe({},qx),i.validateMessages)},y));C.push(ne.then(function(){return{name:W,errors:[],warnings:[]}}).catch(function(pe){var he,de=[],Se=[];return(he=pe.forEach)===null||he===void 0||he.call(pe,function(Te){var Me=Te.rule.warningOnly,Be=Te.errors;Me?Se.push.apply(Se,Vt(Be)):de.push.apply(de,Vt(Be))}),de.length?Promise.reject({name:W,errors:de,warnings:Se}):{name:W,errors:de,warnings:Se}}))}}});var G=MR(C);i.lastValidatePromise=G,G.catch(function(B){return B}).then(function(B){var W=B.map(function(ne){var pe=ne.name;return pe});i.notifyObservers(i.store,W,{type:"validateFinish"}),i.triggerOnFieldsChange(W,B)});var ee=G.then(function(){return i.lastValidatePromise===G?Promise.resolve(i.getFieldsValue(E)):Promise.reject([])}).catch(function(B){var W=B.filter(function(ne){return ne&&ne.errors.length});return Promise.reject({values:i.getFieldsValue(E),errorFields:W,outOfDate:i.lastValidatePromise!==G})});ee.catch(function(B){return B});var O=E.filter(function(B){return F.has(B.join(P))});return i.triggerOnFieldsChange(O),ee}),Fe(this,"submit",function(){i.warningUnhooked(),i.validateFields().then(function(a){var l=i.callbacks.onFinish;if(l)try{l(a)}catch(p){console.error(p)}}).catch(function(a){var l=i.callbacks.onFinishFailed;l&&l(a)})}),this.forceRootUpdate=t});function Yx(e){var t=Z.useRef(),i=Z.useState({}),a=Tt(i,2),l=a[1];if(!t.current)if(e)t.current=e;else{var p=function(){l({})},y=new kR(p);t.current=y.getForm()}return[t.current]}var gm=Z.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),AR=function(t){var i=t.validateMessages,a=t.onFormChange,l=t.onFormFinish,p=t.children,y=Z.useContext(gm),u=Z.useRef({});return Z.createElement(gm.Provider,{value:Xe(Xe({},y),{},{validateMessages:Xe(Xe({},y.validateMessages),i),triggerFormChange:function(C,P){a&&a(C,{changedFields:P,forms:u.current}),y.triggerFormChange(C,P)},triggerFormFinish:function(C,P){l&&l(C,{values:P,forms:u.current}),y.triggerFormFinish(C,P)},registerForm:function(C,P){C&&(u.current=Xe(Xe({},u.current),{},Fe({},C,P))),y.registerForm(C,P)},unregisterForm:function(C){var P=Xe({},u.current);delete P[C],u.current=P,y.unregisterForm(C)}})},p)},PR=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],TR=function(t,i){var a=t.name,l=t.initialValues,p=t.fields,y=t.form,u=t.preserve,E=t.children,C=t.component,P=C===void 0?"form":C,F=t.validateMessages,z=t.validateTrigger,X=z===void 0?"onChange":z,K=t.onValuesChange,G=t.onFieldsChange,ee=t.onFinish,O=t.onFinishFailed,B=qa(t,PR),W=Z.useContext(gm),ne=Yx(y),pe=Tt(ne,1),he=pe[0],de=he.getInternalHooks(Ml),Se=de.useSubscribe,Te=de.setInitialValues,Me=de.setCallbacks,Be=de.setValidateMessages,He=de.setPreserve,We=de.destroyForm;Z.useImperativeHandle(i,function(){return he}),Z.useEffect(function(){return W.registerForm(a,he),function(){W.unregisterForm(a)}},[W,he,a]),Be(Xe(Xe({},W.validateMessages),F)),Me({onValuesChange:K,onFieldsChange:function(at){if(W.triggerFormChange(a,at),G){for(var ut=arguments.length,Pt=new Array(ut>1?ut-1:0),Xt=1;Xt<ut;Xt++)Pt[Xt-1]=arguments[Xt];G.apply(void 0,[at].concat(Pt))}},onFinish:function(at){W.triggerFormFinish(a,at),ee&&ee(at)},onFinishFailed:O}),He(u);var qe=Z.useRef(null);Te(l,!qe.current),qe.current||(qe.current=!0),Z.useEffect(function(){return We},[]);var Je,Le=typeof E=="function";if(Le){var Ie=he.getFieldsValue(!0);Je=E(Ie,he)}else Je=E;Se(!Le);var we=Z.useRef();Z.useEffect(function(){bR(we.current||[],p||[])||he.setFields(p||[]),we.current=p},[p,he]);var Re=Z.useMemo(function(){return Xe(Xe({},he),{},{validateTrigger:X})},[he,X]),Ve=Z.createElement(L4.Provider,{value:null},Z.createElement(gu.Provider,{value:Re},Je));return P===!1?Ve:Z.createElement(P,zr({},B,{onSubmit:function(at){at.preventDefault(),at.stopPropagation(),he.submit()},onReset:function(at){var ut;at.preventDefault(),he.resetFields(),(ut=B.onReset)===null||ut===void 0||ut.call(B,at)}}),Ve)};function vy(e){try{return JSON.stringify(e)}catch{return Math.random()}}function IR(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=t[0],l=t[1],p=l===void 0?{}:l,y=OD(p)?{form:p}:p,u=y.form,E=Z.useState(),C=Tt(E,2),P=C[0],F=C[1],z=Z.useMemo(function(){return vy(P)},[P]),X=Z.useRef(z);X.current=z;var K=Z.useContext(gu),G=u||K,ee=G&&G._init,O=hr(a),B=Z.useRef(O);return B.current=O,Z.useEffect(function(){if(ee){var W=G.getFieldsValue,ne=G.getInternalHooks,pe=ne(Ml),he=pe.registerWatch,de=function(Be,He){var We=y.preserve?He:Be;return typeof a=="function"?a(We):ga(We,B.current)},Se=he(function(Me,Be){var He=de(Me,Be),We=vy(He);X.current!==We&&(X.current=We,F(He))}),Te=de(W(),W(!0));return P!==Te&&F(Te),Se}},[ee]),P}var LR=Z.forwardRef(TR),Hd=LR;Hd.FormProvider=AR;Hd.Field=Xx;Hd.List=CR;Hd.useForm=Yx;Hd.useWatch=IR;const ym=Z.createContext({}),DR=e=>{let{children:t,status:i,override:a}=e;const l=Z.useContext(ym),p=Z.useMemo(()=>{const y=Object.assign({},l);return a&&delete y.isFormItemInput,i&&(delete y.status,delete y.hasFeedback,delete y.feedbackIcon),y},[i,a,l]);return Z.createElement(ym.Provider,{value:p},t)};function _y(){}const RR=Z.createContext({add:_y,remove:_y});function zR(e){const t=Z.useContext(RR),i=Z.useRef();return A4(l=>{if(l){const p=e?l.querySelector(e):l;t.add(p),i.current=p}else t.remove(i.current)})}const FR=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:i}=Z.useContext(q2);return Ct.createElement(w0,Object.assign({onClick:i},e),t)},xy=FR,NR=()=>{const{confirmLoading:e,okButtonProps:t,okType:i,okTextLocale:a,onOk:l}=Z.useContext(q2);return Ct.createElement(w0,Object.assign({},$L(i),{loading:e,onClick:l},t),a)},by=NR;function OR(e,t){return Ct.createElement("span",{className:`${e}-close-x`},t||Ct.createElement(V2,{className:`${e}-close-icon`}))}const BR=e=>{const{okText:t,okType:i="primary",cancelText:a,confirmLoading:l,onOk:p,onCancel:y,okButtonProps:u,cancelButtonProps:E,footer:C}=e,[P]=qP("Modal",HP()),F=t||(P==null?void 0:P.okText),z=a||(P==null?void 0:P.cancelText),X={confirmLoading:l,okButtonProps:u,cancelButtonProps:E,okTextLocale:F,cancelTextLocale:z,okType:i,onOk:p,onCancel:y},K=Ct.useMemo(()=>X,Vt(Object.values(X)));let G;return typeof C=="function"||typeof C>"u"?(G=Ct.createElement(Ct.Fragment,null,Ct.createElement(xy,null),Ct.createElement(by,null)),typeof C=="function"&&(G=C(G,{OkBtn:by,CancelBtn:xy})),G=Ct.createElement(_D,{value:K},G)):G=C,Ct.createElement(tx,{disabled:!1},G)},$R=e=>({animationDuration:e,animationFillMode:"both"}),jR=e=>({animationDuration:e,animationFillMode:"both"}),Qx=function(e,t,i,a){const p=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${p}${e}-enter,
      ${p}${e}-appear
    `]:Object.assign(Object.assign({},$R(a)),{animationPlayState:"paused"}),[`${p}${e}-leave`]:Object.assign(Object.assign({},jR(a)),{animationPlayState:"paused"}),[`
      ${p}${e}-enter${e}-enter-active,
      ${p}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${p}${e}-leave${e}-leave-active`]:{animationName:i,animationPlayState:"running",pointerEvents:"none"}}},VR=new ji("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),WR=new ji("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),UR=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:i}=e,a=`${i}-fade`,l=t?"&":"";return[Qx(a,VR,WR,e.motionDurationMid,t),{[`
        ${l}${a}-enter,
        ${l}${a}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${l}${a}-leave`]:{animationTimingFunction:"linear"}}]},HR=new ji("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),ZR=new ji("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),wy=new ji("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Sy=new ji("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),GR=new ji("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),qR=new ji("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),KR=new ji("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),XR=new ji("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),JR=new ji("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),YR=new ji("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),QR=new ji("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),ez=new ji("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),tz={zoom:{inKeyframes:HR,outKeyframes:ZR},"zoom-big":{inKeyframes:wy,outKeyframes:Sy},"zoom-big-fast":{inKeyframes:wy,outKeyframes:Sy},"zoom-left":{inKeyframes:KR,outKeyframes:XR},"zoom-right":{inKeyframes:JR,outKeyframes:YR},"zoom-up":{inKeyframes:GR,outKeyframes:qR},"zoom-down":{inKeyframes:QR,outKeyframes:ez}},nz=(e,t)=>{const{antCls:i}=e,a=`${i}-${t}`,{inKeyframes:l,outKeyframes:p}=tz[t];return[Qx(a,l,p,t==="zoom-big-fast"?e.motionDurationFast:e.motionDurationMid),{[`
        ${a}-enter,
        ${a}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${a}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]};function Cy(e){return{position:e,inset:0}}const rz=e=>{const{componentCls:t,antCls:i}=e;return[{[`${t}-root`]:{[`${t}${i}-zoom-enter, ${t}${i}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${i}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},Cy("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},Cy("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch",[`&:has(${t}${i}-zoom-enter), &:has(${t}${i}-zoom-appear)`]:{pointerEvents:"none"}})}},{[`${t}-root`]:UR(e)}]},iz=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${an(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},P4(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${an(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:`${an(e.modalCloseBtnSize)}`,justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:e.modalIconHoverColor,backgroundColor:e.closeBtnHoverBg,textDecoration:"none"},"&:active":{backgroundColor:e.closeBtnActiveBg}},sx(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${an(e.borderRadiusLG)} ${an(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},oz=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},az=e=>{const t=e.padding,i=e.fontSizeHeading5,a=e.lineHeightHeading5;return Zs(e,{modalHeaderHeight:e.calc(e.calc(a).mul(i).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalIconHoverColor:e.colorIconHover,modalCloseIconColor:e.colorIcon,modalCloseBtnSize:e.fontHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},sz=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,closeBtnHoverBg:e.wireframe?"transparent":e.colorFillContent,closeBtnActiveBg:e.wireframe?"transparent":e.colorFillContentHover,contentPadding:e.wireframe?0:`${an(e.paddingMD)} ${an(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${an(e.padding)} ${an(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${an(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${an(e.paddingXS)} ${an(e.padding)}`:0,footerBorderTop:e.wireframe?`${an(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${an(e.borderRadiusLG)} ${an(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${an(e.padding*2)} ${an(e.padding*2)} ${an(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),lz=O2("Modal",e=>{const t=az(e);return[iz(t),oz(t),rz(t),nz(t,"zoom")]},sz,{unitless:{titleLineHeight:!0}});var uz=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(i[a[l]]=e[a[l]]);return i};let vm;const cz=e=>{vm={x:e.pageX,y:e.pageY},setTimeout(()=>{vm=null},100)};ND()&&document.documentElement.addEventListener("click",cz,!0);const dz=e=>{var t;const{getPopupContainer:i,getPrefixCls:a,direction:l,modal:p}=Z.useContext(To),y=at=>{const{onCancel:ut}=e;ut==null||ut(at)},u=at=>{const{onOk:ut}=e;ut==null||ut(at)},{prefixCls:E,className:C,rootClassName:P,open:F,wrapClassName:z,centered:X,getContainer:K,closeIcon:G,closable:ee,focusTriggerAfterClose:O=!0,style:B,visible:W,width:ne=520,footer:pe,classNames:he,styles:de}=e,Se=uz(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","closable","focusTriggerAfterClose","style","visible","width","footer","classNames","styles"]),Te=a("modal",E),Me=a(),Be=W2(Te),[He,We,qe]=lz(Te,Be),Je=wn(z,{[`${Te}-centered`]:!!X,[`${Te}-wrap-rtl`]:l==="rtl"}),Le=pe!==null&&Z.createElement(BR,Object.assign({},e,{onOk:u,onCancel:y})),[Ie,we]=FD(ee,G,at=>OR(Te,at),Z.createElement(V2,{className:`${Te}-close-icon`}),!0),Re=zR(`.${Te}-content`),[Ve,Ze]=pL("Modal",Se.zIndex);return He(Z.createElement(FL,null,Z.createElement(DR,{status:!0,override:!0},Z.createElement(Lx.Provider,{value:Ze},Z.createElement(Zx,Object.assign({width:ne},Se,{zIndex:Ve,getContainer:K===void 0?i:K,prefixCls:Te,rootClassName:wn(We,P,qe,Be),footer:Le,visible:F??W,mousePosition:(t=Se.mousePosition)!==null&&t!==void 0?t:vm,onClose:y,closable:Ie,closeIcon:we,focusTriggerAfterClose:O,transitionName:G7(Me,"zoom",e.transitionName),maskTransitionName:G7(Me,"fade",e.maskTransitionName),className:wn(We,C,p==null?void 0:p.className),style:Object.assign(Object.assign({},p==null?void 0:p.style),B),classNames:Object.assign(Object.assign({wrapper:Je},p==null?void 0:p.classNames),he),styles:Object.assign(Object.assign({},p==null?void 0:p.styles),de),panelRef:Re}))))))},hz=dz,eb=Z.createContext(null),pz=eb.Provider,tb=Z.createContext(null),fz=tb.Provider;var mz=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],gz=Z.forwardRef(function(e,t){var i,a=e.prefixCls,l=a===void 0?"rc-checkbox":a,p=e.className,y=e.style,u=e.checked,E=e.disabled,C=e.defaultChecked,P=C===void 0?!1:C,F=e.type,z=F===void 0?"checkbox":F,X=e.title,K=e.onChange,G=qa(e,mz),ee=Z.useRef(null),O=ax(P,{value:u}),B=Tt(O,2),W=B[0],ne=B[1];Z.useImperativeHandle(t,function(){return{focus:function(){var Se;(Se=ee.current)===null||Se===void 0||Se.focus()},blur:function(){var Se;(Se=ee.current)===null||Se===void 0||Se.blur()},input:ee.current}});var pe=wn(l,p,(i={},Fe(i,"".concat(l,"-checked"),W),Fe(i,"".concat(l,"-disabled"),E),i)),he=function(Se){E||("checked"in e||ne(Se.target.checked),K==null||K({target:Xe(Xe({},e),{},{type:z,checked:Se.target.checked}),stopPropagation:function(){Se.stopPropagation()},preventDefault:function(){Se.preventDefault()},nativeEvent:Se.nativeEvent}))};return Z.createElement("span",{className:pe,title:X,style:y},Z.createElement("input",zr({},G,{className:"".concat(l,"-input"),ref:ee,onChange:he,disabled:E,checked:!!W,type:z})),Z.createElement("span",{className:"".concat(l,"-inner")}))});const yz=e=>{const{componentCls:t,antCls:i}=e,a=`${t}-group`;return{[a]:Object.assign(Object.assign({},P4(e)),{display:"inline-block",fontSize:0,[`&${a}-rtl`]:{direction:"rtl"},[`${i}-badge ${i}-badge-count`]:{zIndex:1},[`> ${i}-badge:not(:first-child) > ${i}-button-wrapper`]:{borderInlineStart:"none"}})}},vz=e=>{const{componentCls:t,wrapperMarginInlineEnd:i,colorPrimary:a,radioSize:l,motionDurationSlow:p,motionDurationMid:y,motionEaseInOutCirc:u,colorBgContainer:E,colorBorder:C,lineWidth:P,colorBgContainerDisabled:F,colorTextDisabled:z,paddingXS:X,dotColorDisabled:K,lineType:G,radioColor:ee,radioBgColor:O,calc:B}=e,W=`${t}-inner`,ne=4,pe=B(l).sub(B(ne).mul(2)),he=B(1).mul(l).equal();return{[`${t}-wrapper`]:Object.assign(Object.assign({},P4(e)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:i,cursor:"pointer",[`&${t}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:e.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},[`${t}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${an(P)} ${G} ${a}`,borderRadius:"50%",visibility:"hidden",content:'""'},[t]:Object.assign(Object.assign({},P4(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${t}-wrapper:hover &,
        &:hover ${W}`]:{borderColor:a},[`${t}-input:focus-visible + ${W}`]:Object.assign({},F2(e)),[`${t}:hover::after, ${t}-wrapper:hover &::after`]:{visibility:"visible"},[`${t}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:he,height:he,marginBlockStart:B(1).mul(l).div(-2).equal(),marginInlineStart:B(1).mul(l).div(-2).equal(),backgroundColor:ee,borderBlockStart:0,borderInlineStart:0,borderRadius:he,transform:"scale(0)",opacity:0,transition:`all ${p} ${u}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:he,height:he,backgroundColor:E,borderColor:C,borderStyle:"solid",borderWidth:P,borderRadius:"50%",transition:`all ${y}`},[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${t}-checked`]:{[W]:{borderColor:a,backgroundColor:O,"&::after":{transform:`scale(${e.calc(e.dotSize).div(l).equal()})`,opacity:1,transition:`all ${p} ${u}`}}},[`${t}-disabled`]:{cursor:"not-allowed",[W]:{backgroundColor:F,borderColor:C,cursor:"not-allowed","&::after":{backgroundColor:K}},[`${t}-input`]:{cursor:"not-allowed"},[`${t}-disabled + span`]:{color:z,cursor:"not-allowed"},[`&${t}-checked`]:{[W]:{"&::after":{transform:`scale(${B(pe).div(l).equal({unit:!1})})`}}}},[`span${t} + *`]:{paddingInlineStart:X,paddingInlineEnd:X}})}},_z=e=>{const{buttonColor:t,controlHeight:i,componentCls:a,lineWidth:l,lineType:p,colorBorder:y,motionDurationSlow:u,motionDurationMid:E,buttonPaddingInline:C,fontSize:P,buttonBg:F,fontSizeLG:z,controlHeightLG:X,controlHeightSM:K,paddingXS:G,borderRadius:ee,borderRadiusSM:O,borderRadiusLG:B,buttonCheckedBg:W,buttonSolidCheckedColor:ne,colorTextDisabled:pe,colorBgContainerDisabled:he,buttonCheckedBgDisabled:de,buttonCheckedColorDisabled:Se,colorPrimary:Te,colorPrimaryHover:Me,colorPrimaryActive:Be,buttonSolidCheckedBg:He,buttonSolidCheckedHoverBg:We,buttonSolidCheckedActiveBg:qe,calc:Je}=e;return{[`${a}-button-wrapper`]:{position:"relative",display:"inline-block",height:i,margin:0,paddingInline:C,paddingBlock:0,color:t,fontSize:P,lineHeight:an(Je(i).sub(Je(l).mul(2)).equal()),background:F,border:`${an(l)} ${p} ${y}`,borderBlockStartWidth:Je(l).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:l,cursor:"pointer",transition:[`color ${E}`,`background ${E}`,`box-shadow ${E}`].join(","),a:{color:t},[`> ${a}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:Je(l).mul(-1).equal(),insetInlineStart:Je(l).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:l,paddingInline:0,backgroundColor:y,transition:`background-color ${u}`,content:'""'}},"&:first-child":{borderInlineStart:`${an(l)} ${p} ${y}`,borderStartStartRadius:ee,borderEndStartRadius:ee},"&:last-child":{borderStartEndRadius:ee,borderEndEndRadius:ee},"&:first-child:last-child":{borderRadius:ee},[`${a}-group-large &`]:{height:X,fontSize:z,lineHeight:an(Je(X).sub(Je(l).mul(2)).equal()),"&:first-child":{borderStartStartRadius:B,borderEndStartRadius:B},"&:last-child":{borderStartEndRadius:B,borderEndEndRadius:B}},[`${a}-group-small &`]:{height:K,paddingInline:Je(G).sub(l).equal(),paddingBlock:0,lineHeight:an(Je(K).sub(Je(l).mul(2)).equal()),"&:first-child":{borderStartStartRadius:O,borderEndStartRadius:O},"&:last-child":{borderStartEndRadius:O,borderEndEndRadius:O}},"&:hover":{position:"relative",color:Te},"&:has(:focus-visible)":Object.assign({},F2(e)),[`${a}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${a}-button-wrapper-disabled)`]:{zIndex:1,color:Te,background:W,borderColor:Te,"&::before":{backgroundColor:Te},"&:first-child":{borderColor:Te},"&:hover":{color:Me,borderColor:Me,"&::before":{backgroundColor:Me}},"&:active":{color:Be,borderColor:Be,"&::before":{backgroundColor:Be}}},[`${a}-group-solid &-checked:not(${a}-button-wrapper-disabled)`]:{color:ne,background:He,borderColor:He,"&:hover":{color:ne,background:We,borderColor:We},"&:active":{color:ne,background:qe,borderColor:qe}},"&-disabled":{color:pe,backgroundColor:he,borderColor:y,cursor:"not-allowed","&:first-child, &:hover":{color:pe,backgroundColor:he,borderColor:y}},[`&-disabled${a}-button-wrapper-checked`]:{color:Se,backgroundColor:de,borderColor:y,boxShadow:"none"}}}},xz=e=>{const{wireframe:t,padding:i,marginXS:a,lineWidth:l,fontSizeLG:p,colorText:y,colorBgContainer:u,colorTextDisabled:E,controlItemBgActiveDisabled:C,colorTextLightSolid:P,colorPrimary:F,colorPrimaryHover:z,colorPrimaryActive:X,colorWhite:K}=e,G=4,ee=p,O=t?ee-G*2:ee-(G+l)*2;return{radioSize:ee,dotSize:O,dotColorDisabled:E,buttonSolidCheckedColor:P,buttonSolidCheckedBg:F,buttonSolidCheckedHoverBg:z,buttonSolidCheckedActiveBg:X,buttonBg:u,buttonCheckedBg:u,buttonColor:y,buttonCheckedBgDisabled:C,buttonCheckedColorDisabled:E,buttonPaddingInline:i-l,wrapperMarginInlineEnd:a,radioColor:t?F:K,radioBgColor:t?u:F}},nb=O2("Radio",e=>{const{controlOutline:t,controlOutlineWidth:i}=e,a=`0 0 0 ${an(i)} ${t}`,p=Zs(e,{radioFocusShadow:a,radioButtonFocusShadow:a});return[yz(p),vz(p),_z(p)]},xz,{unitless:{radioSize:!0,dotSize:!0}});var bz=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(i[a[l]]=e[a[l]]);return i};const wz=(e,t)=>{var i,a;const l=Z.useContext(eb),p=Z.useContext(tb),{getPrefixCls:y,direction:u,radio:E}=Z.useContext(To),C=Z.useRef(null),P=h0(t,C),{isFormItemInput:F}=Z.useContext(ym),z=qe=>{var Je,Le;(Je=e.onChange)===null||Je===void 0||Je.call(e,qe),(Le=l==null?void 0:l.onChange)===null||Le===void 0||Le.call(l,qe)},{prefixCls:X,className:K,rootClassName:G,children:ee,style:O,title:B}=e,W=bz(e,["prefixCls","className","rootClassName","children","style","title"]),ne=y("radio",X),pe=((l==null?void 0:l.optionType)||p)==="button",he=pe?`${ne}-button`:ne,de=W2(ne),[Se,Te,Me]=nb(ne,de),Be=Object.assign({},W),He=Z.useContext(z2);l&&(Be.name=l.name,Be.onChange=z,Be.checked=e.value===l.value,Be.disabled=(i=Be.disabled)!==null&&i!==void 0?i:l.disabled),Be.disabled=(a=Be.disabled)!==null&&a!==void 0?a:He;const We=wn(`${he}-wrapper`,{[`${he}-wrapper-checked`]:Be.checked,[`${he}-wrapper-disabled`]:Be.disabled,[`${he}-wrapper-rtl`]:u==="rtl",[`${he}-wrapper-in-form-item`]:F},E==null?void 0:E.className,K,G,Te,Me,de);return Se(Z.createElement(Rx,{component:"Radio",disabled:Be.disabled},Z.createElement("label",{className:We,style:Object.assign(Object.assign({},E==null?void 0:E.style),O),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,title:B},Z.createElement(gz,Object.assign({},Be,{className:wn(Be.className,!pe&&U2),type:"radio",prefixCls:he,ref:P})),ee!==void 0?Z.createElement("span",null,ee):null)))},Sz=Z.forwardRef(wz),D4=Sz,Cz=Z.forwardRef((e,t)=>{const{getPrefixCls:i,direction:a}=Z.useContext(To),[l,p]=ax(e.defaultValue,{value:e.value}),y=qe=>{const Je=l,Le=qe.target.value;"value"in e||p(Le);const{onChange:Ie}=e;Ie&&Le!==Je&&Ie(qe)},{prefixCls:u,className:E,rootClassName:C,options:P,buttonStyle:F="outline",disabled:z,children:X,size:K,style:G,id:ee,onMouseEnter:O,onMouseLeave:B,onFocus:W,onBlur:ne}=e,pe=i("radio",u),he=`${pe}-group`,de=W2(pe),[Se,Te,Me]=nb(pe,de);let Be=X;P&&P.length>0&&(Be=P.map(qe=>typeof qe=="string"||typeof qe=="number"?Z.createElement(D4,{key:qe.toString(),prefixCls:pe,disabled:z,value:qe,checked:l===qe},qe):Z.createElement(D4,{key:`radio-group-value-options-${qe.value}`,prefixCls:pe,disabled:qe.disabled||z,value:qe.value,checked:l===qe.value,title:qe.title,style:qe.style,id:qe.id,required:qe.required},qe.label)));const He=zx(K),We=wn(he,`${he}-${F}`,{[`${he}-${He}`]:He,[`${he}-rtl`]:a==="rtl"},E,C,Te,Me,de);return Se(Z.createElement("div",Object.assign({},Px(e,{aria:!0,data:!0}),{className:We,style:G,onMouseEnter:O,onMouseLeave:B,onFocus:W,onBlur:ne,id:ee,ref:t}),Z.createElement(pz,{value:{onChange:y,value:l,disabled:e.disabled,name:e.name,optionType:e.optionType}},Be)))}),Mz=Z.memo(Cz);var Ez=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(i[a[l]]=e[a[l]]);return i};const kz=(e,t)=>{const{getPrefixCls:i}=Z.useContext(To),{prefixCls:a}=e,l=Ez(e,["prefixCls"]),p=i("radio",a);return Z.createElement(fz,{value:"button"},Z.createElement(D4,Object.assign({prefixCls:p},l,{type:"radio",ref:t})))},Az=Z.forwardRef(kz),S0=D4;S0.Button=Az;S0.Group=Mz;S0.__ANT_RADIO=!0;const Pp=S0;var Pz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M632 888H392c-4.4 0-8 3.6-8 8v32c0 17.7 14.3 32 32 32h192c17.7 0 32-14.3 32-32v-32c0-4.4-3.6-8-8-8zM512 64c-181.1 0-328 146.9-328 328 0 121.4 66 227.4 164 284.1V792c0 17.7 14.3 32 32 32h264c17.7 0 32-14.3 32-32V676.1c98-56.7 164-162.7 164-284.1 0-181.1-146.9-328-328-328zm127.9 549.8L604 634.6V752H420V634.6l-35.9-20.8C305.4 568.3 256 484.5 256 392c0-141.4 114.6-256 256-256s256 114.6 256 256c0 92.5-49.4 176.3-128.1 221.8z"}}]},name:"bulb",theme:"outlined"};const Tz=Pz;var Iz=function(t,i){return Z.createElement(j2,zr({},t,{ref:i,icon:Tz}))};const Lz=Z.forwardRef(Iz),X2=()=>ZM(),_m=$s("appState/setSelectedFeature",e=>({payload:e})),J2=$s("appState/setShowInfo",e=>({payload:e})),rb=$s("appState/setSelectedLayer",e=>({payload:e})),Dz=({popupInfo:e})=>{const t=X2();return ht.jsxs("div",{className:T1.card,children:[ht.jsx("span",{className:T1.title,children:e["Current Name (DE)"]}),ht.jsxs("span",{className:T1.subtitle,children:["(",e["Current Name (Eng)"],")"]}),ht.jsx("table",{children:ht.jsx("tbody",{className:T1.featuresList,children:e&&Object.entries(fA).map(([i,a])=>ht.jsx("tr",{children:e[i]&&ht.jsxs(ht.Fragment,{children:[ht.jsx("td",{className:T1.fieldName,children:a}),ht.jsx("td",{children:e[i]})]})},i))})}),ht.jsxs(w0,{type:"link",size:"small",className:T1.button,onClick:()=>t(J2(!0)),children:["Learn more",ht.jsx(Lz,{})]})]})},Rz=({popupInfo:e})=>ht.jsx(Dz,{popupInfo:e}),I8={"Market Site":"#d99e32","Royal Residence":"#f27649","A New Munich":"#668c54",Metropolis:"#bfba73","World Wars":"#312640","Post War":"#8C7D4F","Our Days":"#568FA6"},zz="_panel_npsrv_1",Fz="_legend_npsrv_10",Nz="_title_npsrv_21",Oz="_row_npsrv_26",Bz="_cube_npsrv_31",jc={panel:zz,legend:Fz,title:Nz,row:Oz,cube:Bz},$z=()=>ht.jsxs("div",{className:wn(jc.legend,jc.panel),children:[ht.jsx("span",{className:jc.title,children:"Time Periods"}),Object.keys(I8).map(e=>ht.jsxs("div",{className:jc.row,children:[ht.jsx("div",{className:jc.cube,style:{backgroundColor:`${I8[e]}`,borderColor:I8[e]}}),ht.jsx("span",{children:e})]},e))]}),jz=()=>{const e=Z.useRef(null),t=X2(),i=E5(qE),a=Z.useMemo(()=>oA[i],[i]),[l,p]=Z.useState(null),[y,u]=Z.useState("auto"),[E,C]=Z.useState(void 0),P=Z.useCallback(()=>u("pointer"),[]),F=Z.useCallback(()=>u("auto"),[]),z=[{lng:11.25,lat:48},{lng:12,lat:48.3}],X=Z.useCallback(G=>{const ee=G.features[0];ee&&(t(_m(ee.properties)),p(ee.properties),C(G.lngLat))},[l]),K=Z.useCallback(()=>{p(null),t(_m(void 0)),t(J2(!1))},[l]);return ht.jsx(ht.Fragment,{children:ht.jsxs(Rk,{mapLib:Ok,initialViewState:{latitude:48.14,longitude:11.575,zoom:14},mapStyle:"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json",interactiveLayerIds:["buildings","spots","parks"],style:{width:"100vw",height:"100vh"},ref:e,onClick:X,onMouseEnter:P,onMouseLeave:F,cursor:y,maxZoom:17,minZoom:11,maxBounds:z,children:[i==="buildings"&&ht.jsx(u8,{id:"main1",type:"geojson",data:a.data,children:ht.jsx(Oc,{...a.style})}),i==="parks"&&ht.jsx(u8,{id:"main2",type:"geojson",data:a.data,children:ht.jsx(Oc,{...a.style})}),i==="spots"&&ht.jsxs(u8,{id:"spots",type:"geojson",data:a.data,cluster:!0,clusterMaxZoom:10,clusterRadius:50,children:[ht.jsx(Oc,{...iA}),ht.jsx(Oc,{...rA}),ht.jsx(Oc,{...a.style})]}),ht.jsx($z,{}),ht.jsx(Fk,{position:"bottom-right"}),l&&E&&ht.jsx(zk,{longitude:E.lng,latitude:E.lat,onClose:()=>K(),maxWidth:"300px",children:ht.jsx(Rz,{popupInfo:l})})]})})},Vz="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%200.25C3.71875%200.25%200.25%203.72125%200.25%208C0.25%2012.2787%203.71875%2015.75%208%2015.75C12.2812%2015.75%2015.75%2012.2812%2015.75%208C15.75%203.71875%2012.2812%200.25%208%200.25ZM8%203.6875C8.25959%203.6875%208.51335%203.76448%208.72919%203.9087C8.94503%204.05292%209.11325%204.2579%209.21259%204.49773C9.31193%204.73756%209.33792%205.00146%209.28728%205.25606C9.23664%205.51066%209.11163%205.74452%208.92808%205.92808C8.74452%206.11163%208.51066%206.23664%208.25606%206.28728C8.00146%206.33792%207.73756%206.31193%207.49773%206.21259C7.2579%206.11325%207.05292%205.94503%206.9087%205.72919C6.76448%205.51335%206.6875%205.25959%206.6875%205C6.6875%204.6519%206.82578%204.31806%207.07192%204.07192C7.31806%203.82578%207.6519%203.6875%208%203.6875ZM9.75%2011.625C9.75%2011.7245%209.71049%2011.8198%209.64017%2011.8902C9.56984%2011.9605%209.47446%2012%209.375%2012H6.625C6.52554%2012%206.43016%2011.9605%206.35984%2011.8902C6.28951%2011.8198%206.25%2011.7245%206.25%2011.625V10.875C6.25%2010.7755%206.28951%2010.6802%206.35984%2010.6098C6.43016%2010.5395%206.52554%2010.5%206.625%2010.5H7V8.5H6.625C6.52554%208.5%206.43016%208.46049%206.35984%208.39017C6.28951%208.31984%206.25%208.22446%206.25%208.125V7.375C6.25%207.27554%206.28951%207.18016%206.35984%207.10984C6.43016%207.03951%206.52554%207%206.625%207H8.625C8.72446%207%208.81984%207.03951%208.89017%207.10984C8.96049%207.18016%209%207.27554%209%207.375V10.5H9.375C9.47446%2010.5%209.56984%2010.5395%209.64017%2010.6098C9.71049%2010.6802%209.75%2010.7755%209.75%2010.875V11.625Z'%20fill='%23848C96'/%3e%3c/svg%3e",Wz="_title_1f5tn_1",Uz="_text_1f5tn_14",Hz="_subtitle_1f5tn_20",Zz="_divider_1f5tn_24",Gz="_button_1f5tn_28",Tp={title:Wz,text:Uz,subtitle:Hz,divider:Zz,button:Gz},qz="_modal_rruqg_1",Kz="_content_rruqg_5",Xz="_copyright_rruqg_11",L8={modal:qz,content:Kz,copyright:Xz},Jz=({onClose:e})=>ht.jsx(hz,{open:!0,title:"City as a Palimpsest",footer:null,onCancel:e,width:520,children:ht.jsxs("div",{className:L8.content,children:[ht.jsx("span",{className:L8.description,children:"About our project.About our project.About our project.About our project.About our project.About our project.About our project.About our project.About our project.About our project.About our project.About our project.About our project."}),ht.jsx(w0,{children:"Help us to add more data"}),ht.jsxs("span",{className:L8.copyright,children:["Bella Mironova, Joselyn Salinas",ht.jsx("br",{})," TUM, Cartography M.Sc, 2024"]})]})}),Yz=()=>{const[e,t]=XE(!1);return ht.jsxs(ht.Fragment,{children:[ht.jsxs("div",{className:Tp.title,children:[ht.jsxs("div",{className:Tp.text,children:[ht.jsx("span",{children:"The living past of Munich"}),ht.jsx("span",{className:Tp.subtitle,children:" City as a Palimpsest"})]}),ht.jsx("img",{src:Vz,onClick:t,className:Tp.button})]}),e&&ht.jsx(Jz,{onClose:t})]})},Qz="_panel_19738_1",eF={panel:Qz},tF=()=>{const e=X2(),t=i=>{e(rb(i.target.value))};return ht.jsx("div",{className:eF.panel,children:ht.jsxs(Pp.Group,{defaultValue:"buildings",onChange:t,children:[ht.jsx(Pp.Button,{value:"buildings",children:"Buildings"}),ht.jsx(Pp.Button,{value:"parks",children:"Parks, Cemeteries and Squares"}),ht.jsx(Pp.Button,{value:"spots",children:"Spots"})]})})};function nF(){return ht.jsx(ht.Fragment,{children:ht.jsxs("div",{className:"slide",children:[ht.jsxs("div",{className:"panel",children:[ht.jsx(Yz,{}),ht.jsx(tF,{}),ht.jsx(JE,{})]}),ht.jsx(jz,{})]})})}const rF={selectedLayer:"buildings"},My=$E({name:"appState",initialState:rF,reducers:{},extraReducers:e=>{e.addCase(_m,(t,i)=>({...t,selectedFeature:i.payload})),e.addCase(J2,(t,i)=>({...t,showInfo:i.payload})),e.addCase(rb,(t,i)=>({...t,selectedLayer:i.payload}))}}),iF=Gv({[My.name]:My.reducer}),oF=DE({reducer:iF});D8.createRoot(document.getElementById("root")).render(ht.jsx(Ct.StrictMode,{children:ht.jsx(WM,{store:oF,children:ht.jsx(zI,{theme:{token:{fontFamily:"Geometria",colorPrimary:"#392D59",colorLink:"#568fa6"}},children:ht.jsx(nF,{})})})}));export{Yw as c,R4 as g};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}